# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

## [0.7.0](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store@0.6.6...@agoric/swing-store@0.7.0) (2022-05-28)


### Features

* Accept path for swingStore trace ([63a209c](https://github.com/Agoric/agoric-sdk/commit/63a209c8c7906f8be07f87aedf1313e607df7b42))
* **swingset:** Add swing store trace option ([25c7e79](https://github.com/Agoric/agoric-sdk/commit/25c7e79d699e8894a283518490add19f60840f4b))


### Bug Fixes

* **swing-store:** check fs streams are ready ([deaaa13](https://github.com/Agoric/agoric-sdk/commit/deaaa133efb430db83c88631f1b5a95ff7e36a3a))
* **swingset:** fsync snapshots  ([#5451](https://github.com/Agoric/agoric-sdk/issues/5451)) ([396e4c6](https://github.com/Agoric/agoric-sdk/commit/396e4c62391f39267fd093afb0e37fcacbe79fe8))



### [0.6.6](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store@0.6.5...@agoric/swing-store@0.6.6) (2022-04-18)

**Note:** Version bump only for package @agoric/swing-store





### [0.6.5](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store@0.6.4...@agoric/swing-store@0.6.5) (2022-02-24)

**Note:** Version bump only for package @agoric/swing-store





### [0.6.4](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store@0.6.3...@agoric/swing-store@0.6.4) (2022-02-21)


### Features

* **swing-store:** enable `LMDB_MAP_SIZE` and `SOLO_LMDB_MAP_SIZE` ([77f67a8](https://github.com/Agoric/agoric-sdk/commit/77f67a8010d84b4f595e1fbd524b344050ae47d6))



### [0.6.3](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store@0.6.2...@agoric/swing-store@0.6.3) (2021-12-02)

**Note:** Version bump only for package @agoric/swing-store





### [0.6.2](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store@0.6.1...@agoric/swing-store@0.6.2) (2021-10-13)

**Note:** Version bump only for package @agoric/swing-store





### [0.6.1](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store@0.6.0...@agoric/swing-store@0.6.1) (2021-09-23)

**Note:** Version bump only for package @agoric/swing-store





## 0.6.0 (2021-09-15)


### ⚠ BREAKING CHANGES

* clean up organization of swing-store

### Bug Fixes

* **swing-store:** be resilient to Node.js 16.x fs.rmSync ([990f909](https://github.com/Agoric/agoric-sdk/commit/990f909bfb90a1ef34ebba4677d88c9eb5106294))


### Code Refactoring

* clean up organization of swing-store ([3c7e57b](https://github.com/Agoric/agoric-sdk/commit/3c7e57b8f62c0b93660dd57c002ffb96c2cd4137))



### [0.5.11](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.5.10...@agoric/swing-store-lmdb@0.5.11) (2021-08-18)

**Note:** Version bump only for package @agoric/swing-store-lmdb





### [0.5.10](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.5.9...@agoric/swing-store-lmdb@0.5.10) (2021-08-17)

**Note:** Version bump only for package @agoric/swing-store-lmdb





### [0.5.9](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.5.6...@agoric/swing-store-lmdb@0.5.9) (2021-08-15)


### Bug Fixes

* **swingset:** delete unused snapshots ([#3505](https://github.com/Agoric/agoric-sdk/issues/3505)) ([317959d](https://github.com/Agoric/agoric-sdk/commit/317959d77ca669c8e4bbf504d89fe55bdd383253)), closes [#3374](https://github.com/Agoric/agoric-sdk/issues/3374) [#3431](https://github.com/Agoric/agoric-sdk/issues/3431)

### 0.26.10 (2021-07-28)



### [0.5.8](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.5.6...@agoric/swing-store-lmdb@0.5.8) (2021-08-14)


### Bug Fixes

* **swingset:** delete unused snapshots ([#3505](https://github.com/Agoric/agoric-sdk/issues/3505)) ([317959d](https://github.com/Agoric/agoric-sdk/commit/317959d77ca669c8e4bbf504d89fe55bdd383253)), closes [#3374](https://github.com/Agoric/agoric-sdk/issues/3374) [#3431](https://github.com/Agoric/agoric-sdk/issues/3431)

### 0.26.10 (2021-07-28)



### [0.5.7](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.5.6...@agoric/swing-store-lmdb@0.5.7) (2021-07-28)

**Note:** Version bump only for package @agoric/swing-store-lmdb





### [0.5.6](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.5.5...@agoric/swing-store-lmdb@0.5.6) (2021-07-01)


### Bug Fixes

* repair stream store self-interference problem ([948d837](https://github.com/Agoric/agoric-sdk/commit/948d837c5eb25e0085480804d9d2d4bab0729818)), closes [#3437](https://github.com/Agoric/agoric-sdk/issues/3437)



### [0.5.5](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.5.4...@agoric/swing-store-lmdb@0.5.5) (2021-06-28)

**Note:** Version bump only for package @agoric/swing-store-lmdb





### [0.5.4](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.5.3...@agoric/swing-store-lmdb@0.5.4) (2021-06-25)

**Note:** Version bump only for package @agoric/swing-store-lmdb





### [0.5.3](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.5.2...@agoric/swing-store-lmdb@0.5.3) (2021-06-24)


### Features

* sqlite-based transcript store ([#3402](https://github.com/Agoric/agoric-sdk/issues/3402)) ([960b013](https://github.com/Agoric/agoric-sdk/commit/960b0139ff415a4d3ac0784c2a68e3c513a8efe4)), closes [#3405](https://github.com/Agoric/agoric-sdk/issues/3405)



### [0.5.2](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.5.1...@agoric/swing-store-lmdb@0.5.2) (2021-06-23)

**Note:** Version bump only for package @agoric/swing-store-lmdb





### [0.5.1](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.5.0...@agoric/swing-store-lmdb@0.5.1) (2021-06-16)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.5.0](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.12...@agoric/swing-store-lmdb@0.5.0) (2021-06-15)


### ⚠ BREAKING CHANGES

* **swing-store-lmdb:** This includes a renaming of the constructors to acknowledge
that the different SwingStore constructors are not polymorphic.

### Features

* **swing-store-lmdb:** enable configuration of LMDB database size limit ([6f7cefa](https://github.com/Agoric/agoric-sdk/commit/6f7cefa6eae92ff00594a576a7ccad4c5c5c2bcc))
* greater paranoia about concurrent access ([e67c4ef](https://github.com/Agoric/agoric-sdk/commit/e67c4ef37d2a0d9361612401b43c2b81a4ebc66d))
* move transcripts out of key-value store and into stream stores ([a128e93](https://github.com/Agoric/agoric-sdk/commit/a128e93803344d8a36140d53d3e7711bec5c2511))
* overhaul stream store API to better fit actual use in kernel ([c5cc00a](https://github.com/Agoric/agoric-sdk/commit/c5cc00a9e0f1c90ee2cb57fe6c3767a285f4d8e3))
* provide streamStore implementations ([e094914](https://github.com/Agoric/agoric-sdk/commit/e094914ad5ceec3d1131270e5943c6f0df267cac))
* remove .jsonlines hack from simple swing store ([ef87997](https://github.com/Agoric/agoric-sdk/commit/ef87997a1519b18f23656b57bf38055fea203f9a))


### Bug Fixes

* Pin ESM to forked version ([54dbb55](https://github.com/Agoric/agoric-sdk/commit/54dbb55d64d7ff7adb395bc4bd9d1461dd2d3c17))
* tweaks and cleanup based on review feedback ([ba95e34](https://github.com/Agoric/agoric-sdk/commit/ba95e34622063eaae47335a0260a004a3a159807))



## [0.4.12](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.11...@agoric/swing-store-lmdb@0.4.12) (2021-05-10)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.4.11](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.10...@agoric/swing-store-lmdb@0.4.11) (2021-05-05)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.4.10](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.9...@agoric/swing-store-lmdb@0.4.10) (2021-05-05)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.4.9](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.8...@agoric/swing-store-lmdb@0.4.9) (2021-04-22)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.4.8](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.7...@agoric/swing-store-lmdb@0.4.8) (2021-04-18)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.4.7](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.6...@agoric/swing-store-lmdb@0.4.7) (2021-04-16)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.4.6](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.5...@agoric/swing-store-lmdb@0.4.6) (2021-04-07)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.4.5](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.4...@agoric/swing-store-lmdb@0.4.5) (2021-04-06)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.4.4](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.3...@agoric/swing-store-lmdb@0.4.4) (2021-03-24)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.4.3](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.2...@agoric/swing-store-lmdb@0.4.3) (2021-03-16)


### Bug Fixes

* make separate 'test:xs' target, remove XS from 'test' target ([b9c1a69](https://github.com/Agoric/agoric-sdk/commit/b9c1a6987093fc8e09e8aba7acd2a1618413bac8)), closes [#2647](https://github.com/Agoric/agoric-sdk/issues/2647)





## [0.4.2](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.1...@agoric/swing-store-lmdb@0.4.2) (2021-02-22)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.4.1](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.4.0...@agoric/swing-store-lmdb@0.4.1) (2021-02-16)


### Bug Fixes

* review comments ([17d7df6](https://github.com/Agoric/agoric-sdk/commit/17d7df6ee06eb5c340500bb5582f985c2993ab19))
* use assert rather than FooError constructors ([f860c5b](https://github.com/Agoric/agoric-sdk/commit/f860c5bf5add165a08cb5bd543502857c3f57998))





# [0.4.0](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.3.7...@agoric/swing-store-lmdb@0.4.0) (2020-12-10)


### Features

* **import-bundle:** Preliminary support Endo zip hex bundle format ([#1983](https://github.com/Agoric/agoric-sdk/issues/1983)) ([983681b](https://github.com/Agoric/agoric-sdk/commit/983681bfc4bf512b6bd90806ed9220cd4fefc13c))





## [0.3.7](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.3.7-dev.0...@agoric/swing-store-lmdb@0.3.7) (2020-11-07)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.3.7-dev.0](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.3.6...@agoric/swing-store-lmdb@0.3.7-dev.0) (2020-10-19)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.3.6](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.3.6-dev.2...@agoric/swing-store-lmdb@0.3.6) (2020-10-11)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.3.6-dev.2](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.3.6-dev.1...@agoric/swing-store-lmdb@0.3.6-dev.2) (2020-09-18)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.3.6-dev.1](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.3.6-dev.0...@agoric/swing-store-lmdb@0.3.6-dev.1) (2020-09-18)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.3.6-dev.0](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.3.5...@agoric/swing-store-lmdb@0.3.6-dev.0) (2020-09-18)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.3.5](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.3.4...@agoric/swing-store-lmdb@0.3.5) (2020-09-16)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.3.4](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.3.3...@agoric/swing-store-lmdb@0.3.4) (2020-08-31)


### Bug Fixes

* reduce inconsistency among our linting rules ([#1492](https://github.com/Agoric/agoric-sdk/issues/1492)) ([b6b675e](https://github.com/Agoric/agoric-sdk/commit/b6b675e2de110e2af19cad784a66220cab21dacf))





## [0.3.3](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.3.2...@agoric/swing-store-lmdb@0.3.3) (2020-06-30)


### Performance Improvements

* Don't use the useWritemap option if we know we don't need it ([c272e43](https://github.com/Agoric/agoric-sdk/commit/c272e43f270cb9df47619cc95fed938520aec344))





## [0.3.2](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.3.1...@agoric/swing-store-lmdb@0.3.2) (2020-05-17)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.3.1](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.3.0...@agoric/swing-store-lmdb@0.3.1) (2020-05-10)

**Note:** Version bump only for package @agoric/swing-store-lmdb





# [0.3.0](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.2.2...@agoric/swing-store-lmdb@0.3.0) (2020-05-04)


### Bug Fixes

* stop LMDB from crashing in the WLS environment ([89fb788](https://github.com/Agoric/agoric-sdk/commit/89fb788b12466cfa4da887c3aa8fc159a13f62dc))


### Features

* swing-store-lmdb: add isSwingStore() query ([fce7168](https://github.com/Agoric/agoric-sdk/commit/fce7168d3830e528f6a3464ebaa708cf129a114a)), closes [#953](https://github.com/Agoric/agoric-sdk/issues/953)





## [0.2.2](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.2.2-alpha.0...@agoric/swing-store-lmdb@0.2.2) (2020-04-13)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.2.2-alpha.0](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.2.1...@agoric/swing-store-lmdb@0.2.2-alpha.0) (2020-04-12)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.2.1](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.2.1-alpha.0...@agoric/swing-store-lmdb@0.2.1) (2020-04-02)

**Note:** Version bump only for package @agoric/swing-store-lmdb





## [0.2.1-alpha.0](https://github.com/Agoric/agoric-sdk/compare/@agoric/swing-store-lmdb@0.2.0...@agoric/swing-store-lmdb@0.2.1-alpha.0) (2020-04-02)

**Note:** Version bump only for package @agoric/swing-store-lmdb





# 0.2.0 (2020-03-26)


### Features

* Log (and graph) database disk usage ([9f9f5af](https://github.com/Agoric/agoric-sdk/commit/9f9f5af964d6661bb1d6bd1f2ea91098bcad62b0))
