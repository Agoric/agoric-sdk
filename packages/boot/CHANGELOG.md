# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

## 0.2.0-u22.0 (2025-09-08)

### âš  BREAKING CHANGES

* in order for the Orchestration API to automatically publish account info to vstorage, callers must specify `{ publicAccountInfo: true }` in the `withOrchestration` start helper
* make Network and IBC vats durable (#8721)

### Features

*  smartWallet verstion 2 with watchedPromises ([5ed5107](https://github.com/Agoric/agoric-sdk/commit/5ed51078d39e643d91b572d9c50fad4a276d7ded))
* `KnownChains` includes CCTP chains ([a86c9f5](https://github.com/Agoric/agoric-sdk/commit/a86c9f524eb31e8a93a3df85a8c9348a60d32d07))
* `publishAccountInfo` in `withOrchestration` opts ([531b13c](https://github.com/Agoric/agoric-sdk/commit/531b13c17ce87e1cffb2ec0f5d47b34ae617f926))
* `update-fee-config` proposal ([5d8775c](https://github.com/Agoric/agoric-sdk/commit/5d8775c409896369a931e6d78ae1d7958ad9d901))
* `withChainCapabilities` includes `cctpDestinationDomain` ([618d0be](https://github.com/Agoric/agoric-sdk/commit/618d0be136316fbd95be8e6205da1989edb48e60))
* add `bech32Prefix?: string` to `CosmosChainInfo` ([cb9e1ee](https://github.com/Agoric/agoric-sdk/commit/cb9e1eeab9295b44ec009b82d73c457299e8d6f4))
* add axelar gmp core-eval and bootstrap tests ([e0d7ef8](https://github.com/Agoric/agoric-sdk/commit/e0d7ef82f1fc4ea42c6fc8ae7faaf5c74de8e36e))
* add slog file output to benchmark tool ([3f9f8ba](https://github.com/Agoric/agoric-sdk/commit/3f9f8badf351ec94e2ea6763eb89a6d358b6a4c4))
* Add terminate-governed-instance.js proposal ([c2cb517](https://github.com/Agoric/agoric-sdk/commit/c2cb51779039ef2a5921efcc35b3b365a7b6159f)), closes [#10725](https://github.com/Agoric/agoric-sdk/issues/10725) [#10861](https://github.com/Agoric/agoric-sdk/issues/10861)
* Add tooling for standalone performance benchmarks ([058e54a](https://github.com/Agoric/agoric-sdk/commit/058e54aad93c04b57dfb3a411bff85c223ab5dd7))
* add transfer method to CosmosOrchestrationAccount ([b1fdde1](https://github.com/Agoric/agoric-sdk/commit/b1fdde18b33237d1a2ea6f02938d998f55ce4d01))
* amountToCoin accepts any denom ([99b1704](https://github.com/Agoric/agoric-sdk/commit/99b1704f9d3b1f72e14780b4e17c6a119a3e8817)), closes [#9211](https://github.com/Agoric/agoric-sdk/issues/9211)
* **boot-tools:** add configOverrides ([a4ac058](https://github.com/Agoric/agoric-sdk/commit/a4ac0581b704a24cc7356aa901daa451596f7afc))
* **boot-tools:** make slogSender available in context ([a88939d](https://github.com/Agoric/agoric-sdk/commit/a88939d19decee387266acb746f9d7f61223f07b))
* **boot:** distribute FastUSDC contract fee builder, test ([7776298](https://github.com/Agoric/agoric-sdk/commit/7776298772a6e5178573fc3078ab0a5fbfea9f8a))
* **boot:** paramterize blockComputeLimit in makeSwingsetHarness ([1826674](https://github.com/Agoric/agoric-sdk/commit/1826674ecbe4b245f6fece0b8a2b9cec685d7b1b))
* bridgeOutbound diagnostics ([064b1d2](https://github.com/Agoric/agoric-sdk/commit/064b1d2c70a8cc1f4a5168244c97821d981d560d))
* consistent publishTxnRecord (record) ([dbf3934](https://github.com/Agoric/agoric-sdk/commit/dbf39340c75d9e01af2ee9ceccac327660af94a6))
* coreEval to update priceFeeds, auction, and vaultManager ([fd91f78](https://github.com/Agoric/agoric-sdk/commit/fd91f781ad721033d67485d1732272af0c689ae7))
* **cosmic-swingset:** Expose a controller and associated helpers from test-kit.js ([f3932ee](https://github.com/Agoric/agoric-sdk/commit/f3932ee880dfbee06a11fc4aab97f64fa690b916))
* defer inbound bridge messages ([ef23bdd](https://github.com/Agoric/agoric-sdk/commit/ef23bddb2198fc17a1b246772a21da0996a92194))
* delete tmp dir after proposal build ([5ab79b7](https://github.com/Agoric/agoric-sdk/commit/5ab79b778fd540454a727486849580ea6efe1789))
* ensure mock lca address is unique ([1e5f500](https://github.com/Agoric/agoric-sdk/commit/1e5f500a7a74ad1e508ad67e6daf35a789dc852e))
* examples/auto-stake-it.contract.js ([b87ecba](https://github.com/Agoric/agoric-sdk/commit/b87ecba0ea41f1397dbd513d8e4c541f1299fd3f)), closes [#9042](https://github.com/Agoric/agoric-sdk/issues/9042)
* **fast-usdc:** creatorFacet method to withdraw fees ([9809fe7](https://github.com/Agoric/agoric-sdk/commit/9809fe7503afc4d010ea27ce44d73cb8dafa2d01))
* **fast-usdc:** publish feeConfig to vstorage ([08b2e13](https://github.com/Agoric/agoric-sdk/commit/08b2e13921514258de566c52aeda737a28ed44c7))
* **fast-usdc:** support risk assessment arg ([ff6737a](https://github.com/Agoric/agoric-sdk/commit/ff6737a574e4a2efccda226780ed09e3fb4076b3))
* **fast-usdc:** write chain policies to vstorage ([#10532](https://github.com/Agoric/agoric-sdk/issues/10532)) ([9d6cff1](https://github.com/Agoric/agoric-sdk/commit/9d6cff17bb95ce5557758da242ca4646a87ac5b0))
* **fast-usdc:** write status updates to vstorage ([#10552](https://github.com/Agoric/agoric-sdk/issues/10552)) ([419df4e](https://github.com/Agoric/agoric-sdk/commit/419df4ee7ce03499f30e7327c74e95a338201023))
* fetchCoreEvalRelease ([9a4e7bd](https://github.com/Agoric/agoric-sdk/commit/9a4e7bd4aa2818ed5774bbc917ba925bccb906c2))
* getBridgeId on ScopedBridgeManager ([aec4dea](https://github.com/Agoric/agoric-sdk/commit/aec4dea4f4d6baca3ea32c33551ba00658eab31b))
* getInboundQueueLength ([e1d7dd2](https://github.com/Agoric/agoric-sdk/commit/e1d7dd2aba831e8addde69fc14d81dc3c63ffa41))
* getVatDetailsByName ([4b2d029](https://github.com/Agoric/agoric-sdk/commit/4b2d02953e6ec9c93043fd034727761e18b4eaff))
* implement benchmarks for price feeds with and without liquidation. ([d864b66](https://github.com/Agoric/agoric-sdk/commit/d864b666104beccf5f5ccad222f7a5d23a5ad7d5)), closes [#8496](https://github.com/Agoric/agoric-sdk/issues/8496)
* implement swingset-runner based version of the vaults benchmark ([6593570](https://github.com/Agoric/agoric-sdk/commit/659357022f339d8aae32e6600a2bf00e5a30d474))
* include `withChainCapabilities` in `registerKnownChains` ([d7e6183](https://github.com/Agoric/agoric-sdk/commit/d7e6183b6898c6369a2f3fcad033c2c0613efd95))
* initChainInfo in orchestration setup eval ([5913d8f](https://github.com/Agoric/agoric-sdk/commit/5913d8f85831cda6cabcff2aa4304c7b42ade70e))
* **internal:** fakeStorage.getBody() supports index other than -1 ([eda89cc](https://github.com/Agoric/agoric-sdk/commit/eda89cc7ec56b44f33f8552811c267d01bbf29b0))
* **internal:** Introduce deepCopyJsonable ([f875bb0](https://github.com/Agoric/agoric-sdk/commit/f875bb0923323d019396c605ea9bb4d1382f7f79))
* LCA looks up denoms ([6755cac](https://github.com/Agoric/agoric-sdk/commit/6755cac4ff92c9b211feb70f9caaca5e9e0b911c))
* LocalOrchestrationAccount send and sendAll ([26f284d](https://github.com/Agoric/agoric-sdk/commit/26f284d1574fe42434916cb45f197e52020d0786))
* LocalOrchestrationAccount Transfer invitation ([b88db1e](https://github.com/Agoric/agoric-sdk/commit/b88db1eea791a4ea95abf727838fc2bd58c6a0c9))
* make Network and IBC vats durable ([#8721](https://github.com/Agoric/agoric-sdk/issues/8721)) ([3d13c09](https://github.com/Agoric/agoric-sdk/commit/3d13c09363013e23726c2ac5fa299a8e5344fd8c))
* new 'boot' package with bootstrap configs ([8e3173b](https://github.com/Agoric/agoric-sdk/commit/8e3173b0b86a3dc90b31164bc4272c54e46a6641))
* **orch:** `waitForIBCAck` ([a7d198e](https://github.com/Agoric/agoric-sdk/commit/a7d198e57871ac4d7a8eb17872e1f7e08b98dde1))
* **orchestration:** add init-stakeOsmo.js to support .query tests ([b6df6c2](https://github.com/Agoric/agoric-sdk/commit/b6df6c230a902288f11f6217dbd1ca9701a9a8b6))
* **orchestration:** add more chain infos for fusdc ([bcc450c](https://github.com/Agoric/agoric-sdk/commit/bcc450cd9ced1c6f251d0f5d3256b386428238f6))
* **orchestration:** add stakeAtom example contract ([82f1901](https://github.com/Agoric/agoric-sdk/commit/82f1901ec6ecf5a802a72023d033609deeb053e1))
* **orchestration:** add support for queries (icq/v1) ([79b5d0f](https://github.com/Agoric/agoric-sdk/commit/79b5d0f61f0c11b00e51832b7edf3922df8f51c6))
* **orchestration:** align ChainAccount spec with current implementation ([678f21f](https://github.com/Agoric/agoric-sdk/commit/678f21f51b8ad94f9064dcd8b4b3bbad707b6996))
* **orchestration:** create ChainAccount ([ba75ed6](https://github.com/Agoric/agoric-sdk/commit/ba75ed692a565aae5c5124ad5220f6901576532e))
* **orchestration:** send message from ica ([764e4a8](https://github.com/Agoric/agoric-sdk/commit/764e4a86a5f27ca5a1478e6111b3440dcc2de3f2))
* **orchestration:** stakeAtom delegate ([54d830f](https://github.com/Agoric/agoric-sdk/commit/54d830fd53420d3395a5d9ca3bc11e8a55a2773b))
* **orchestration:** stakeAtom query balance ([9f0ae09](https://github.com/Agoric/agoric-sdk/commit/9f0ae09e389f1750c9e550d5e6893460d1e21d07))
* pass abi-encoded gasAmount in axelar gmp payload ([9cecd89](https://github.com/Agoric/agoric-sdk/commit/9cecd894c365d2883301f692d2b9c8b824f011c3))
* publish local and remote ibc addresses to vstorage ([b1b6a03](https://github.com/Agoric/agoric-sdk/commit/b1b6a0392467fda9cb6e51392756ff5ffff75256)), closes [#9066](https://github.com/Agoric/agoric-sdk/issues/9066)
* publish OBSERVED with first evidence ([7e62d8f](https://github.com/Agoric/agoric-sdk/commit/7e62d8f811e212f8160c36a3b954aee8c0e1fb90))
* readLatest supports plain JSON ([b2c7391](https://github.com/Agoric/agoric-sdk/commit/b2c7391303970db800a02c963029fe8f172e2b84))
* readPublished in SwingsetTestKit ([0b383c9](https://github.com/Agoric/agoric-sdk/commit/0b383c909002dea7fe72fd890601e86966ae2222))
* record instances that will be replaced so we can manage them ([c883c39](https://github.com/Agoric/agoric-sdk/commit/c883c39bbe4ec236a758030508fdf9f4fbd3ba9b))
* refresh slogulator to account for smallcaps and improve UX ([73aa6d6](https://github.com/Agoric/agoric-sdk/commit/73aa6d6554651a4897fa19ae223abbe8a8491320)), closes [#8647](https://github.com/Agoric/agoric-sdk/issues/8647)
* **registry:** add umee ([954b359](https://github.com/Agoric/agoric-sdk/commit/954b359fe55d8ada586a0878d44b2ef9602acbf5))
* remove operator ([7cc7a5e](https://github.com/Agoric/agoric-sdk/commit/7cc7a5ed4e894180f1f6cd8933d76f3927d6d30a))
* resolveBase param ([93c23a7](https://github.com/Agoric/agoric-sdk/commit/93c23a77131605ecb443958e73856e754ddc145d))
* send-anywhere inits chainHub ([2fa2f75](https://github.com/Agoric/agoric-sdk/commit/2fa2f7512b2a1a19d47f47b59e3206619794be18))
* **smart-wallet:** accept `Vow` for offerResult ([933ab29](https://github.com/Agoric/agoric-sdk/commit/933ab299ee30c14530f92a9548fd79a35de3d0ff)), closes [#9308](https://github.com/Agoric/agoric-sdk/issues/9308)
* **smart-wallet:** saveResult, invokeEntry ([f7a4bec](https://github.com/Agoric/agoric-sdk/commit/f7a4bec7947a35450d215923a6ac946ac996aa6c))
* **stakeAtom:** publish address to vstorage ([c2021ba](https://github.com/Agoric/agoric-sdk/commit/c2021ba0e59de5942c1286b2db70f8becb201730))
* stakeBld contract ([a7e30a4](https://github.com/Agoric/agoric-sdk/commit/a7e30a4e43c00b2916d2d57c70063650e726321f))
* stub Orchestration API ([1e054ac](https://github.com/Agoric/agoric-sdk/commit/1e054ac972ddfff5fb03738747c69eecd125c463))
* support `coreProposals.steps` ([80fa3d1](https://github.com/Agoric/agoric-sdk/commit/80fa3d14494706d825f51ac22e1bbf4ec68ce404))
* support CCTP in orchestration ([89762aa](https://github.com/Agoric/agoric-sdk/commit/89762aa66151325e67fb99f58c80d033130c1225))
* **types:** BootstrapEV ([d8caa34](https://github.com/Agoric/agoric-sdk/commit/d8caa3425d2791ab935a9a889027b7193fd3a94e))
* **types:** ContractMeta ([9d02dfa](https://github.com/Agoric/agoric-sdk/commit/9d02dfab2cc2c24ed9b15a6aa8bc5fba7d6c9fe0))
* **types:** readLatest returns any ([7a9982b](https://github.com/Agoric/agoric-sdk/commit/7a9982bf8572f43ce8670ed6e73ee4c8fad858b5))
* **types:** TransactionRecord ([ccb9e28](https://github.com/Agoric/agoric-sdk/commit/ccb9e28a92c17ce3362ac5898acb80128614edab))
* **undelegate:** use Timestamp instead of Date ([3d4ab30](https://github.com/Agoric/agoric-sdk/commit/3d4ab30008da2200c39426e4dcb07701d7999f99))
* update connectionInfo once per undirected edge ([a6133fc](https://github.com/Agoric/agoric-sdk/commit/a6133fc02d3d800663d804f3806546b1debbc6ee))
* use fakeLocalChainBridgeTxHandler to mock responses ([c459214](https://github.com/Agoric/agoric-sdk/commit/c4592140d2e055ab9105d90d614388b24f2b672c))
* use fetched chain info ([6fbdeae](https://github.com/Agoric/agoric-sdk/commit/6fbdeae46a71512cbd95603a71b406867a37511c))
* use system tmp for builds ([ddc2b38](https://github.com/Agoric/agoric-sdk/commit/ddc2b3837503c7ffc78e8003aa5ed80137ef506b))
* **vats:** `BRIDGE_TARGET_REGISTER` and `BRIDGE_TARGET_UNREGISTER` ([badf695](https://github.com/Agoric/agoric-sdk/commit/badf6958dcfb602cf5992afd4ba1f0dc602fccd5))
* VLOCALCHAIN_QUERY_MANY mock ([65f6688](https://github.com/Agoric/agoric-sdk/commit/65f66883002d070e110f35544bea6d46b15bbb43))
* vm-config package ([8b1ecad](https://github.com/Agoric/agoric-sdk/commit/8b1ecad8ab50db777bc11c3ee6fcdb37d6cb38b6))
* vstorage status --> txns ([aebb4d7](https://github.com/Agoric/agoric-sdk/commit/aebb4d792317f6964a8150324548b69cec2eb505))
* WithdrawReward on StakingAccountHolder ([8cbe1b6](https://github.com/Agoric/agoric-sdk/commit/8cbe1b60de03aeeffe8ffef433e4e35e4f900911))
* Zoe use watchPromise() to wait for contract finish ([#8453](https://github.com/Agoric/agoric-sdk/issues/8453)) ([6388a00](https://github.com/Agoric/agoric-sdk/commit/6388a002b53593f17a8d936d4e937efb7d065d97))

### Bug Fixes

* adopt `VTRANSFER_IBC_EVENT` as an action-type ([#9671](https://github.com/Agoric/agoric-sdk/issues/9671)) ([217005a](https://github.com/Agoric/agoric-sdk/commit/217005a921dcac6928c999e6bfe06330a5947ac5)), closes [#9670](https://github.com/Agoric/agoric-sdk/issues/9670)
* **boot:** import ambient types from Zoe ([e9d24cd](https://github.com/Agoric/agoric-sdk/commit/e9d24cdfa94d3761419bc91e8203fbb3f66bcad4))
* chain-hub transfer channel conversion ([80186ac](https://github.com/Agoric/agoric-sdk/commit/80186acd1f1800a8bcbcad31152a61a0e3067d1a))
* **chain-info:** Normalize IBC connection info storage ([444f3d6](https://github.com/Agoric/agoric-sdk/commit/444f3d638b9ff38dcbb43ef473e9f5508f6c8146))
* chainId in connection tuple ([7f15f0a](https://github.com/Agoric/agoric-sdk/commit/7f15f0a4b8f9f7908773c336d5ae4f4452f0bd48))
* **chainInfo:** ensure icqEnabled is present ([76537e5](https://github.com/Agoric/agoric-sdk/commit/76537e598a7f748697af71874309fd6d9fbf81bb))
* contractGovernor can change params after contract is upgraded ([e747531](https://github.com/Agoric/agoric-sdk/commit/e747531b7a00ec91b47b96a3321e7f6e9502582f))
* eliminate the `passableEncoding` hack ([87dbbda](https://github.com/Agoric/agoric-sdk/commit/87dbbda8484c6fe3fe542eb847647fd1540c11e6)), closes [#8327](https://github.com/Agoric/agoric-sdk/issues/8327)
* **fast-usdc:** recover from bad lp proposal ([21d19ba](https://github.com/Agoric/agoric-sdk/commit/21d19baa1cb46887646bfb406e18538ac198e921))
* fetch agoric connections ([f8bcd92](https://github.com/Agoric/agoric-sdk/commit/f8bcd921dca3e03e112f03a0b2975a2b82f959c9))
* **lint:** addressing lint errors ([bfe10d9](https://github.com/Agoric/agoric-sdk/commit/bfe10d9cc3878c322ca624a3a603e80f94dc6970))
* make tests work again after some (bogus) awaits were removed from bootstrap ([ca0a3aa](https://github.com/Agoric/agoric-sdk/commit/ca0a3aab3f31ac0e97e55cd63709000fbb46f2ca))
* minor fixes and cleanups in preparation for benchmark support ([1277176](https://github.com/Agoric/agoric-sdk/commit/127717677287cc825e34b6326be3e11a165dce27))
* **network:** use new `ERef` and `FarRef` ([3027adf](https://github.com/Agoric/agoric-sdk/commit/3027adf8613154dec167c5fccf5f207f6d2af701))
* **orchestration:** disable type casts in skipped boot tests ([6f6b891](https://github.com/Agoric/agoric-sdk/commit/6f6b8917f5145ad5d81ed761f88e7c9142b1ef79))
* **orchestration:** rename `.getAccountAddress` -> `.getAddress` ([f951cde](https://github.com/Agoric/agoric-sdk/commit/f951cde10ee6618660938b2e5b404f797231d8e2))
* parseQueryPacket bigint handling ([916af0f](https://github.com/Agoric/agoric-sdk/commit/916af0f2b59539384324575afd547d031a15ba92))
* **provisioning:** don't use disconnected namesByAddress ([84d74dd](https://github.com/Agoric/agoric-sdk/commit/84d74dd22a8fb2ec274c293d5de0078e0a9359a0))
* real chainId in chainAccountKit ([521dfd0](https://github.com/Agoric/agoric-sdk/commit/521dfd0db134ef74ce78afb0f6ae9ba83315ce67))
* **types:** board ([c73f4f9](https://github.com/Agoric/agoric-sdk/commit/c73f4f9686215a37e8c5f82ce8dbe4742886a02b))
* use `Codec` and `CodecHelper` where appropriate ([f268e4a](https://github.com/Agoric/agoric-sdk/commit/f268e4ac6f52e8bf07f858d051d05ef8d8fac9b3))
* **vats:** `vtransfer` code cleanup ([8ac8197](https://github.com/Agoric/agoric-sdk/commit/8ac819709ef9ced0badee25e6715a5847b1e3f4c))
* **vow:** allow resolving vow to external promise ([44a6d16](https://github.com/Agoric/agoric-sdk/commit/44a6d16b9ff99fe9a3222cb4a32a34d3ad456fed))
* write-chain-info after u17 ([fc1f3ce](https://github.com/Agoric/agoric-sdk/commit/fc1f3ce1fe03bb2018edd4eb55d6561312d5fbe8))

### Reverts

* Revert "chore: remove 'encoding' from ChainAddress" ([be9dee2](https://github.com/Agoric/agoric-sdk/commit/be9dee245a04714568a45ae8b328f54b20b43d8a))
* Revert "test: temporarily remove addAssets test" ([ad0df91](https://github.com/Agoric/agoric-sdk/commit/ad0df91027ebe6ade220c99053bd2ff598478f9a))
* Revert "test(boot): skip `basicFlows` test until #9939 is fixed" ([c045163](https://github.com/Agoric/agoric-sdk/commit/c04516352292d263ead3641720606a8141de17d5)), closes [#9939](https://github.com/Agoric/agoric-sdk/issues/9939)
