# Snapshot report for `test/portfolio.flows.test.ts`

The actual snapshot is saved in `portfolio.flows.test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## open portfolio with no positions

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 0,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [],
          rebalanceCount: 0,
        },
      ],
    ]

## Noble Dollar Swap, Lock messages

> swap 1.2USDC for 1.188USDN

    {
      msgLock: {
        amount: '1188000',
        signer: 'noble1reheu4ym85k9gktyf9vzhzt0zvqym9txwejsj4vaxdrw98wm4emsddarrd',
        vault: 1,
      },
      msgSwap: {
        amount: {
          amount: '1200000',
          denom: 'uusdc',
        },
        min: {
          amount: '1188000',
          denom: 'uusdn',
        },
        routes: [
          {
            denomTo: 'uusdn',
            poolId: 0n,
          },
        ],
        signer: 'noble1reheu4ym85k9gktyf9vzhzt0zvqym9txwejsj4vaxdrw98wm4emsddarrd',
      },
      protoMessages: [
        {
          typeUrl: '/noble.swap.v1.MsgSwap',
          value: 'CkBub2JsZTFyZWhldTR5bTg1azlna3R5Zjl2emh6dDB6dnF5bTl0eHdlanNqNHZheGRydzk4d200ZW1zZGRhcnJkEhAKBXV1c2RjEgcxMjAwMDAwGgcSBXV1c2RuIhAKBXV1c2RuEgcxMTg4MDAw',
        },
        {
          typeUrl: '/noble.dollar.vaults.v1.MsgLock',
          value: 'CkBub2JsZTFyZWhldTR5bTg1azlna3R5Zjl2emh6dDB6dnF5bTl0eHdlanNqNHZheGRydzk4d200ZW1zZGRhcnJkEAEaBzExODgwMDA=',
        },
      ],
    }

> swap 5K USDC at parity

    {
      msgLock: {
        amount: 'undefined',
        signer: 'noble1test',
        vault: 1,
      },
      msgSwap: {
        amount: {
          amount: '5000000000',
          denom: 'uusdc',
        },
        min: {
          amount: '5000000000',
          denom: 'uusdn',
        },
        routes: [
          {
            denomTo: 'uusdn',
            poolId: 0n,
          },
        ],
        signer: 'noble1test',
      },
      protoMessages: [
        {
          typeUrl: '/noble.swap.v1.MsgSwap',
          value: 'Cgpub2JsZTF0ZXN0EhMKBXV1c2RjEgo1MDAwMDAwMDAwGgcSBXV1c2RuIhMKBXV1c2RuEgo1MDAwMDAwMDAw',
        },
        {
          typeUrl: '/noble.dollar.vaults.v1.MsgLock',
          value: 'Cgpub2JsZTF0ZXN0EAEaCXVuZGVmaW5lZA==',
        },
      ],
    }

> un-swap 5K USDN < parity

    {
      msgSwap: {
        amount: {
          amount: '4900000000',
          denom: 'uusdn',
        },
        min: {
          amount: '4900000000',
          denom: 'uusdc',
        },
        routes: [
          {
            denomTo: 'uusdc',
            poolId: 0n,
          },
        ],
        signer: 'noble1test',
      },
      msgUnlock: {
        amount: '4900000000',
        signer: 'noble1test',
        vault: 1,
      },
      protoMessages: [
        {
          typeUrl: '/noble.dollar.vaults.v1.MsgUnlock',
          value: 'Cgpub2JsZTF0ZXN0EAEaCjQ5MDAwMDAwMDA=',
        },
        {
          typeUrl: '/noble.swap.v1.MsgSwap',
          value: 'Cgpub2JsZTF0ZXN0EhMKBXV1c2RuEgo0OTAwMDAwMDAwGgcSBXV1c2RjIhMKBXV1c2RjEgo0OTAwMDAwMDAw',
        },
      ],
    }

## open portfolio with USDN position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 50000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhEKBXV1c2RjEgg1MDAwMDAwMBoHEgV1dXNkbiIRCgV1dXNkbhIINDk0OTk5OTk=',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaCDQ5NDk5OTk5',
          },
        ],
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'pending',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'icahost-9',
            ],
            [
              'channel',
              'channel-1',
            ],
          ],
          op: 'ICA',
          seq: {
            status: 'unknown',
          },
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'icacontroller-2',
            ],
            [
              'channel',
              'channel-7',
            ],
          ],
          status: 'pending',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'USDN',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: 'tx0',
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: 'USDNVault',
            how: 'USDN',
            phases: {
              apply: 'tx1',
            },
            src: '@noble',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-1:noble11056',
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Aave and USDN positions then inbound GMP

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 150n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 150n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[],"type":1,"fee":{"amount":"150","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 6666000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 6666000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhMKBXV1c2RjEgozMzMzMDAwMDAwGgcSBXV1c2RuIhMKBXV1c2RuEgozMjk5NjY5OTk5',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaCjMyOTk2Njk5OTk=',
          },
        ],
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 3333000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'icahost-9',
            ],
            [
              'channel',
              'channel-1',
            ],
          ],
          op: 'ICA',
          seq: {
            status: 'unknown',
          },
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'icacontroller-2',
            ],
            [
              'channel',
              'channel-7',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          amount: 3333000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx6',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Aave_Arbitrum',
            'USDN',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 6666000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 6666000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: 'tx2',
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 3333000000n,
            },
            dest: 'USDNVault',
            how: 'USDN',
            phases: {
              apply: 'tx3',
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 3333000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              makeDestAccount: 'tx1',
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 3333000000n,
            },
            dest: 'Aave_Arbitrum',
            how: 'Aave',
            phases: {
              apply: 'tx6',
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-1:noble11056',
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Aave position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 2000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 2000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          amount: 2000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Aave_Arbitrum',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: 'tx2',
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              makeDestAccount: 'tx1',
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: 'Aave_Arbitrum',
            how: 'Aave',
            phases: {
              apply: 'tx5',
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Compound position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 300n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 300n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[],"type":1,"fee":{"amount":"300","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 2000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 2000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,242,185,253,184,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          amount: 2000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Compound_Arbitrum',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: 'tx2',
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              makeDestAccount: 'tx1',
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: 'Compound_Arbitrum',
            how: 'Compound',
            phases: {
              apply: 'tx5',
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Compound_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Compound',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Compound and USDN positions then rebalance

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 150n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 150n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[],"type":1,"fee":{"amount":"150","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 6666000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 6666000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhMKBXV1c2RjEgozMzMzMDAwMDAwGgcSBXV1c2RuIhMKBXV1c2RuEgozMjk5NjY5OTk5',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaCjMyOTk2Njk5OTk=',
          },
        ],
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 3333000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'icahost-9',
            ],
            [
              'channel',
              'channel-1',
            ],
          ],
          op: 'ICA',
          seq: {
            status: 'unknown',
          },
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'icacontroller-2',
            ],
            [
              'channel',
              'channel-7',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          amount: 3333000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx6',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Aave_Arbitrum',
            'USDN',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 6666000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 6666000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: 'tx2',
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 3333000000n,
            },
            dest: 'USDNVault',
            how: 'USDN',
            phases: {
              apply: 'tx3',
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 3333000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              makeDestAccount: 'tx1',
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 3333000000n,
            },
            dest: 'Aave_Arbitrum',
            how: 'Aave',
            phases: {
              apply: 'tx6',
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-1:noble11056',
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## claim rewards on Aave position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,32,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,191,144,246,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,105,50,141,236,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> decoded calls

    {
      calls: [
        {
          args: [
            [
              '0x87870Bca3F3fD6335C3F4ce8392D69350B4fA4E2',
            ],
          ],
          functionName: 'claimAllRewardsToSelf',
        },
        {
          args: [
            '0xCaC7Ffa82c0f43EBB0FC11FCd32123EcA46626cf',
            0n,
            '0x36b64AA4b7023599eC4EA8Dc97BFa86f68769C87',
          ],
          functionName: 'withdraw',
        },
      ],
      id: 'tx2',
    }

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Aave_Arbitrum',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 0n,
            },
            dest: '@Arbitrum',
            how: 'Aave',
            phases: {
              apply: 'tx3',
              makeDestAccount: 'tx1',
            },
            src: 'Aave_Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Beefy position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"Avalanche","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 2000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 2000000n,
        },
        destinationAddress: 'eip155:43114:0x310ebefc848a3c96e3cee25861cb17c92844d423',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"Avalanche","destination_address":"0x310ebefc848a3c96e3cee25861cb17c92844d423","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,182,181,95,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:43114:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x310ebefc848a3c96e3cee25861cb17c92844d423',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          amount: 2000000n,
          destinationAddress: 'eip155:43114:0x310ebefc848a3c96e3cee25861cb17c92844d423',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          destinationAddress: 'eip155:43114:0x310ebefc848a3c96e3cee25861cb17c92844d423',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Avalanche: 'eip155:43114:0x310ebefc848a3c96e3cee25861cb17c92844d423',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Beefy_re7_Avalanche',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: 'tx2',
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@Avalanche',
            how: 'CCTP',
            phases: {
              makeDestAccount: 'tx1',
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: 'Beefy_re7_Avalanche',
            how: 'Beefy',
            phases: {
              apply: 'tx5',
            },
            src: '@Avalanche',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Beefy_re7_Avalanche',
        {
          accountId: 'eip155:43114:0x310ebefc848a3c96e3cee25861cb17c92844d423',
          protocol: 'Beefy',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

> decoded calls

    {
      calls: [
        {
          args: [
            '0xc3d688B66703497DAA19211EEdff47f25384cdc3',
            2000000n,
          ],
          functionName: 'approve',
        },
        {
          args: [
            2000000n,
          ],
          functionName: 'deposit',
        },
      ],
      id: 'tx4',
    }

## Engine can move deposits +agoric -> @agoric

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11042',
        _method: 'send',
        amount: {
          brand: Object @Alleged: USDC brand {},
          value: 2000000n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-3:agoric11028',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@agoric',
            how: 'send',
            src: '+agoric',
          },
        ],
      ],
    ]

## client can move to deposit LCA

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-3:agoric11028',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 1,
          positionKeys: [],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '+agoric',
            how: 'localTransfer',
            src: '<Deposit>',
          },
        ],
      ],
    ]

## withdraw in coordination with planner

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 50000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 50000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,250,240,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,250,240,128,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,54,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,105,50,141,236,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 0n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 0n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,57,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,159,59,134,121,199,60,47,239,139,89,180,243,68,77,78,21,111,183,10,165,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,159,59,134,121,199,60,47,239,139,89,180,243,68,77,78,21,111,183,10,165,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,111,211,80,78,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,64,224,198,184,129,31,220,225,4,223,85,14,22,207,21,208,36,23,190,250,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"0","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'withdrawToSeat',
        amounts: {
          Cash: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
        },
        destSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx10',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          amount: 50000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx6',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx7',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx8',
        {
          amount: 2000000n,
          destinationAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'CCTP_TO_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx9',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 2,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Aave_Arbitrum',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: 'tx2',
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              makeDestAccount: 'tx1',
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: 'Aave_Arbitrum',
            how: 'Aave',
            phases: {
              apply: 'tx5',
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow2',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
          state: 'done',
          type: 'withdraw',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow2.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@Arbitrum',
            how: 'Aave',
            phases: {
              apply: 'tx7',
            },
            src: 'Aave_Arbitrum',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@agoric',
            how: 'CCTP',
            phases: {
              apply: 'tx10',
            },
            src: '@Arbitrum',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '<Cash>',
            how: 'withdrawToSeat',
            phases: {},
            src: '@agoric',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
        },
      ],
    ]

## deposit in coordination with planner

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 1000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhAKBXV1c2RjEgcxMDAwMDAwGgcSBXV1c2RuIg8KBXV1c2RuEgY5OTg5OTk=',
          },
        ],
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'pending',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'icahost-9',
            ],
            [
              'channel',
              'channel-1',
            ],
          ],
          op: 'ICA',
          seq: {
            status: 'unknown',
          },
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'icacontroller-2',
            ],
            [
              'channel',
              'channel-7',
            ],
          ],
          status: 'pending',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'USDN',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
          state: 'done',
          type: 'deposit',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: 'tx0',
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: 'USDN',
            how: 'USDN',
            phases: {
              apply: 'tx1',
            },
            src: '@noble',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-1:noble11056',
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## simple rebalance in coordination with planner

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 10000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 10000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2Eg4KBXV1c2RjEgUxMDAwMBoHEgV1dXNkbiIOCgV1dXNkbhIFMTAwMDA=',
          },
        ],
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhAKBXV1c2RuEgc1MDAwMDAwGgcSBXV1c2RjIhAKBXV1c2RjEgc1MDAwMDAw',
          },
        ],
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 5000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,54,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,76,75,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,76,75,64,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'icahost-9',
            ],
            [
              'channel',
              'channel-1',
            ],
          ],
          op: 'ICA',
          seq: {
            status: 'unknown',
          },
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'icacontroller-2',
            ],
            [
              'channel',
              'channel-7',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'icahost-9',
            ],
            [
              'channel',
              'channel-1',
            ],
          ],
          op: 'ICA',
          seq: {
            status: 'unknown',
          },
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'icacontroller-2',
            ],
            [
              'channel',
              'channel-7',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          amount: 5000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx6',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx7',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 2,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 2,
          positionKeys: [
            'Aave_Arbitrum',
            'USDN',
          ],
          rebalanceCount: 0,
          targetAllocation: {
            Aave_Arbitrum: 5000n,
            USDN: 5000n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 10000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 10000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: 'tx0',
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 10000n,
            },
            dest: 'USDN',
            how: 'USDN',
            phases: {
              apply: 'tx1',
            },
            src: '@noble',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow2',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow2.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 5000000n,
            },
            dest: '@noble',
            how: 'USDN',
            phases: {
              apply: 'tx4',
            },
            src: 'USDN',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 5000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              makeDestAccount: 'tx3',
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 5000000n,
            },
            dest: 'Aave_Arbitrum',
            how: 'Aave',
            phases: {
              apply: 'tx7',
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 5000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-1:noble11056',
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 10000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 5000000n,
          },
        },
      ],
    ]

## parallel execution with scheduler

> parallel flow history

    {
      'portfolio1.flows.flow1': [
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          how: 'makeAccounts(noble, Arbitrum)',
          state: 'run',
          step: 0,
          type: 'deposit',
        },
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          how: 'localTransfer',
          state: 'run',
          step: 1,
          steps: [
            1,
          ],
          type: 'deposit',
        },
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          how: 'IBC to Noble',
          state: 'run',
          step: 2,
          steps: [
            2,
          ],
          type: 'deposit',
        },
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          how: 'USDN',
          state: 'run',
          step: 3,
          steps: [
            3,
          ],
          type: 'deposit',
        },
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          how: 'USDN',
          state: 'run',
          step: 3,
          steps: [
            3,
            4,
          ],
          type: 'deposit',
        },
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          how: 'Aave',
          state: 'run',
          step: 5,
          steps: [
            5,
          ],
          type: 'deposit',
        },
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          state: 'done',
          type: 'deposit',
        },
      ],
    }

## EVM makeAccount race: A and B arrive together; A wins the race

> {"headStart":"predict"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A pays fee; B arrives

> {"headStart":"send"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A fails to pay fee; B arrives

> {"headStart":"send","errAt":"send"}

    {
      failedMethods: [
        'send',
      ],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A registers txN; B arrives

> {"headStart":"register"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A transfers to axelar; B arrives

> {"headStart":"txfr"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A times out on axelar; B arrives

> {"headStart":"txfr","errAt":"txfr"}

    {
      failedMethods: [
        'transfer',
      ],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A gets rejected txN; B arrives

> {"headStart":"txfr","errAt":"resolve"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A finishes before attempt B starts

> {"headStart":"resolve"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A and B arrive together; A wins the race

> {"headStart":"predict"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A pays fee; B arrives

> {"headStart":"send"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A fails to pay fee; B arrives

> {"headStart":"send","errAt":"send"}

    {
      failedMethods: [
        'send',
      ],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A registers txN; B arrives

> {"headStart":"register"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A transfers to axelar; B arrives

> {"headStart":"txfr"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A times out on axelar; B arrives

> {"headStart":"txfr","errAt":"txfr"}

    {
      failedMethods: [
        'transfer',
      ],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'send',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A gets rejected txN; B arrives

> {"headStart":"txfr","errAt":"resolve"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
      'send',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A finishes before attempt B starts

> {"headStart":"resolve"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## planner rejects plan and flow fails gracefully

> call log

    [
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'insufficient funds for this operation',
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {},
          accountsPending: [],
          flowCount: 1,
          flowsRunning: {},
          policyVersion: 1,
          positionKeys: [],
          rebalanceCount: 0,
          targetAllocation: {
            USDN: 10000n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
          error: 'insufficient funds for this operation',
          how: 'await plan',
          state: 'fail',
          step: 0,
          type: 'withdraw',
        },
      ],
    ]

## failed transaction publishes rejectionReason to vstorage

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:137:0x9e1028F5F1D5eDE59748FFceC5532509976840E0',
          rejectionReason: 'remote account does not have enough USDC',
          status: 'failed',
          type: 'GMP',
        },
      ],
    ]

## asking to relay less than 1 USDC over CCTP is refused by contract

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 150n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 150n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[],"type":1,"fee":{"amount":"150","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 250000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 250000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: {
          error: 'too small to relay: {"brand":"[Alleged: USDC brand]","value":"[250000n]"} below "[1000000n]"',
          how: 'CCTP',
          next: {
            error: 'predecessor 3 failed',
            how: 'Aave',
            next: undefined,
            step: 4,
          },
          step: 3,
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          error: 'too small to relay: {"brand":"[Alleged: USDC brand]","value":"[250000n]"} below "[1000000n]"',
          how: 'CCTP',
          next: {
            error: 'predecessor 3 failed',
            how: 'Aave',
            next: undefined,
            step: 4,
          },
          state: 'fail',
          step: 3,
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 250000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 250000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: 'tx2',
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 250000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              makeDestAccount: 'tx1',
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 250000n,
            },
            dest: 'Aave_Arbitrum',
            how: 'Aave',
            phases: {},
            src: '@Arbitrum',
          },
        ],
      ],
    ]

## open portfolio with ERC4626 position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 1000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 1000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,86,46,166,255,253,18,147,185,67,62,123,129,162,104,44,49,137,46,160,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,66,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,86,46,166,255,253,18,147,185,67,62,123,129,162,104,44,49,137,46,160,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,110,85,63,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,66,64,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          amount: 1000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'ERC4626_vaultU2_Ethereum',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: 'tx2',
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              makeDestAccount: 'tx1',
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: 'ERC4626_vaultU2_Ethereum',
            how: 'ERC4626',
            phases: {
              apply: 'tx5',
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.ERC4626_vaultU2_Ethereum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'ERC4626',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

> decoded calls

    {
      calls: [
        {
          args: [
            '0x562Ea6FfFD1293b9433E7b81A2682C31892ea013',
            1000000n,
          ],
          functionName: 'approve',
        },
        {
          args: [
            1000000n,
            '0x36b64AA4b7023599eC4EA8Dc97BFa86f68769C87',
          ],
          functionName: 'deposit',
        },
      ],
      id: 'tx4',
    }

## withdraw from ERC4626 position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,86,46,166,255,253,18,147,185,67,62,123,129,162,104,44,49,137,46,160,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,180,96,175,148,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> decoded calls

    {
      calls: [
        {
          args: [
            0n,
            '0x36b64AA4b7023599eC4EA8Dc97BFa86f68769C87',
            '0x36b64AA4b7023599eC4EA8Dc97BFa86f68769C87',
          ],
          functionName: 'withdraw',
        },
      ],
      id: 'tx2',
    }

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'ERC4626_vaultU2_Ethereum',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 0n,
            },
            dest: '@Arbitrum',
            how: 'ERC4626',
            phases: {
              apply: 'tx3',
              makeDestAccount: 'tx1',
            },
            src: 'ERC4626_vaultU2_Ethereum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.ERC4626_vaultU2_Ethereum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'ERC4626',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## openPortfolioFromPermit2 with Permit2 provisions account and starts deposit

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"base-sepolia","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,224,0,0,0,0,0,0,0,0,0,0,0,0,161,112,45,108,137,198,234,17,197,102,122,20,192,50,155,226,115,217,109,120,0,0,0,0,0,0,0,0,0,0,0,0,28,125,75,25,108,176,199,176,29,116,63,188,97,22,169,2,55,156,114,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,228,225,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,251,98,138,175,226,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,105,95,10,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,97,103,111,114,105,99,49,49,48,50,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,65,18,217,182,220,220,6,149,166,103,93,161,24,161,191,92,245,50,76,76,54,220,127,95,137,188,75,25,80,12,172,116,17,52,87,18,153,4,204,249,179,239,69,127,97,27,137,122,21,86,35,180,147,181,74,6,253,14,39,243,43,65,90,76,110,27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]
