# Snapshot report for `test/portfolio.flows.test.ts`

The actual snapshot is saved in `portfolio.flows.test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## open portfolio with no positions

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 0,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [],
          rebalanceCount: 0,
        },
      ],
    ]

## Noble Dollar Swap, Lock messages

> swap 1.2USDC for 1.188USDN

    {
      msgLock: {
        amount: '1188000',
        signer: 'noble1reheu4ym85k9gktyf9vzhzt0zvqym9txwejsj4vaxdrw98wm4emsddarrd',
        vault: 1,
      },
      msgSwap: {
        amount: {
          amount: '1200000',
          denom: 'uusdc',
        },
        min: {
          amount: '1188000',
          denom: 'uusdn',
        },
        routes: [
          {
            denomTo: 'uusdn',
            poolId: 0n,
          },
        ],
        signer: 'noble1reheu4ym85k9gktyf9vzhzt0zvqym9txwejsj4vaxdrw98wm4emsddarrd',
      },
      protoMessages: [
        {
          typeUrl: '/noble.swap.v1.MsgSwap',
          value: 'CkBub2JsZTFyZWhldTR5bTg1azlna3R5Zjl2emh6dDB6dnF5bTl0eHdlanNqNHZheGRydzk4d200ZW1zZGRhcnJkEhAKBXV1c2RjEgcxMjAwMDAwGgcSBXV1c2RuIhAKBXV1c2RuEgcxMTg4MDAw',
        },
        {
          typeUrl: '/noble.dollar.vaults.v1.MsgLock',
          value: 'CkBub2JsZTFyZWhldTR5bTg1azlna3R5Zjl2emh6dDB6dnF5bTl0eHdlanNqNHZheGRydzk4d200ZW1zZGRhcnJkEAEaBzExODgwMDA=',
        },
      ],
    }

> swap 5K USDC at parity

    {
      msgLock: {
        amount: 'undefined',
        signer: 'noble1test',
        vault: 1,
      },
      msgSwap: {
        amount: {
          amount: '5000000000',
          denom: 'uusdc',
        },
        min: {
          amount: '5000000000',
          denom: 'uusdn',
        },
        routes: [
          {
            denomTo: 'uusdn',
            poolId: 0n,
          },
        ],
        signer: 'noble1test',
      },
      protoMessages: [
        {
          typeUrl: '/noble.swap.v1.MsgSwap',
          value: 'Cgpub2JsZTF0ZXN0EhMKBXV1c2RjEgo1MDAwMDAwMDAwGgcSBXV1c2RuIhMKBXV1c2RuEgo1MDAwMDAwMDAw',
        },
        {
          typeUrl: '/noble.dollar.vaults.v1.MsgLock',
          value: 'Cgpub2JsZTF0ZXN0EAEaCXVuZGVmaW5lZA==',
        },
      ],
    }

> un-swap 5K USDN < parity

    {
      msgSwap: {
        amount: {
          amount: '4900000000',
          denom: 'uusdn',
        },
        min: {
          amount: '4900000000',
          denom: 'uusdc',
        },
        routes: [
          {
            denomTo: 'uusdc',
            poolId: 0n,
          },
        ],
        signer: 'noble1test',
      },
      msgUnlock: {
        amount: '4900000000',
        signer: 'noble1test',
        vault: 1,
      },
      protoMessages: [
        {
          typeUrl: '/noble.dollar.vaults.v1.MsgUnlock',
          value: 'Cgpub2JsZTF0ZXN0EAEaCjQ5MDAwMDAwMDA=',
        },
        {
          typeUrl: '/noble.swap.v1.MsgSwap',
          value: 'Cgpub2JsZTF0ZXN0EhMKBXV1c2RuEgo0OTAwMDAwMDAwGgcSBXV1c2RjIhMKBXV1c2RjEgo0OTAwMDAwMDAw',
        },
      ],
    }

## open portfolio with USDN position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 50000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhEKBXV1c2RjEgg1MDAwMDAwMBoHEgV1dXNkbiIRCgV1dXNkbhIINDk0OTk5OTk=',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaCDQ5NDk5OTk5',
          },
        ],
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'icahost-9',
            ],
            [
              'channel',
              'channel-1',
            ],
          ],
          op: 'ICA',
          seq: {
            status: 'unknown',
          },
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'icacontroller-2',
            ],
            [
              'channel',
              'channel-7',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'USDN',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: [
                'tx0',
              ],
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: 'USDNVault',
            how: 'USDN',
            phases: {
              apply: [
                'tx1',
              ],
            },
            src: '@noble',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-1:noble11056',
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Aave and USDN positions then inbound GMP

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 150n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 150n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135],"type":1,"fee":{"amount":"150","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 6666000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 6666000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhMKBXV1c2RjEgozMzMzMDAwMDAwGgcSBXV1c2RuIhMKBXV1c2RuEgozMjk5NjY5OTk5',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaCjMyOTk2Njk5OTk=',
          },
        ],
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 3333000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'icahost-9',
            ],
            [
              'channel',
              'channel-1',
            ],
          ],
          op: 'ICA',
          seq: {
            status: 'unknown',
          },
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'icacontroller-2',
            ],
            [
              'channel',
              'channel-7',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          amount: 3333000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx6',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx5',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Arbitrum: {
              address: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
              chainId: 'eip155:42161',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Aave_Arbitrum',
            'USDN',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 6666000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 6666000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: [
                'tx2',
              ],
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 3333000000n,
            },
            dest: 'USDNVault',
            how: 'USDN',
            phases: {
              apply: [
                'tx3',
              ],
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 3333000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              apply: [
                'tx4',
              ],
              makeDestAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 3333000000n,
            },
            dest: 'Aave_Arbitrum',
            how: 'Aave',
            phases: {
              apply: [
                'tx6',
                'tx5',
              ],
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-1:noble11056',
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Aave position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 2000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 2000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          amount: 2000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx4',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Arbitrum: {
              address: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
              chainId: 'eip155:42161',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Aave_Arbitrum',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: [
                'tx2',
              ],
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              apply: [
                'tx3',
              ],
              makeDestAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: 'Aave_Arbitrum',
            how: 'Aave',
            phases: {
              apply: [
                'tx5',
                'tx4',
              ],
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Compound position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 300n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 300n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135],"type":1,"fee":{"amount":"300","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 2000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 2000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,242,185,253,184,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          amount: 2000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx4',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Arbitrum: {
              address: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
              chainId: 'eip155:42161',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Compound_Arbitrum',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: [
                'tx2',
              ],
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              apply: [
                'tx3',
              ],
              makeDestAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: 'Compound_Arbitrum',
            how: 'Compound',
            phases: {
              apply: [
                'tx5',
                'tx4',
              ],
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Compound_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Compound',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## handle failure in localTransfer from seat to local account

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'localTransfer from seat failed',
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          error: 'localTransfer from seat failed',
          how: 'localTransfer',
          state: 'fail',
          step: 1,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 100n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            src: '<Deposit>',
          },
        ],
      ],
    ]

## handle failure in IBC transfer

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          encoding: 'bech32',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"recipient":"agoric11028"}}}',
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _method: 'withdrawToSeat',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        destSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'IBC is on the fritz!!',
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          policyVersion: 0,
          positionKeys: [],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          error: 'IBC is on the fritz!!',
          how: 'IBC to Noble',
          state: 'fail',
          step: 2,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 100n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 100n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 100n,
            },
            dest: 'USDNVault',
            how: 'USDN',
            src: '@noble',
          },
        ],
      ],
    ]

## handle failure in executeEncodedTx

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EgwKBXV1c2RjEgMxMDAaBxIFdXVzZG4iCwoFdXVzZG4SAjk4',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaAjk4',
          },
        ],
      },
      {
        _cap: 'noble11056',
        _method: 'transfer',
        address: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
        amount: {
          denom: 'uusdc',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _method: 'withdrawToSeat',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        destSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'exec swaplock went kerflewey',
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'USDN',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          error: 'exec swaplock went kerflewey',
          how: 'USDN',
          state: 'fail',
          step: 3,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 100n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 100n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 100n,
            },
            dest: 'USDNVault',
            how: 'USDN',
            src: '@noble',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-5:noble11056',
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## handle failure in recovery from executeEncodedTx

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EgwKBXV1c2RjEgMxMDAaBxIFdXVzZG4iDAoFdXVzZG4SAzEwMA==',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaAzEwMA==',
          },
        ],
      },
      {
        _cap: 'noble11056',
        _method: 'transfer',
        address: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
        amount: {
          denom: 'uusdc',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'road from noble-5 washed out',
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'USDN',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          error: 'road from noble-5 washed out',
          how: 'unwind: IBC to Noble',
          state: 'fail',
          step: 2,
          where: '@noble',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 100n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 100n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 100n,
            },
            dest: 'USDNVault',
            how: 'USDN',
            src: '@noble',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-5:noble11056',
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Compound and USDN positions then rebalance

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 150n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 150n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135],"type":1,"fee":{"amount":"150","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 6666000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 6666000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhMKBXV1c2RjEgozMzMzMDAwMDAwGgcSBXV1c2RuIhMKBXV1c2RuEgozMjk5NjY5OTk5',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaCjMyOTk2Njk5OTk=',
          },
        ],
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 3333000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'icahost-9',
            ],
            [
              'channel',
              'channel-1',
            ],
          ],
          op: 'ICA',
          seq: {
            status: 'unknown',
          },
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'icacontroller-2',
            ],
            [
              'channel',
              'channel-7',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          amount: 3333000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx6',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx5',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Arbitrum: {
              address: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
              chainId: 'eip155:42161',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Aave_Arbitrum',
            'USDN',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 6666000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 6666000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: [
                'tx2',
              ],
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 3333000000n,
            },
            dest: 'USDNVault',
            how: 'USDN',
            phases: {
              apply: [
                'tx3',
              ],
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 3333000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              apply: [
                'tx4',
              ],
              makeDestAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 3333000000n,
            },
            dest: 'Aave_Arbitrum',
            how: 'Aave',
            phases: {
              apply: [
                'tx6',
                'tx5',
              ],
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-1:noble11056',
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## rebalance handles stepFlow failure correctly

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 500n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 500n,
        },
        opts: undefined,
      },
      {
        _method: 'withdrawToSeat',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 500n,
          },
        },
        destSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'IBC transfer failed',
        },
      },
    ]

## claim rewards on Aave position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,32,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,191,144,246,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,105,50,141,236,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> decoded calls

    {
      calls: [
        {
          args: [
            [
              '0x87870Bca3F3fD6335C3F4ce8392D69350B4fA4E2',
            ],
          ],
          functionName: 'claimAllRewardsToSelf',
        },
        {
          args: [
            '0xCaC7Ffa82c0f43EBB0FC11FCd32123EcA46626cf',
            0n,
            '0x36b64AA4b7023599eC4EA8Dc97BFa86f68769C87',
          ],
          functionName: 'withdraw',
        },
      ],
      id: 'tx2',
    }

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx2',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Arbitrum: {
              address: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
              chainId: 'eip155:42161',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Aave_Arbitrum',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 0n,
            },
            dest: '@Arbitrum',
            how: 'Aave',
            phases: {
              apply: [
                'tx3',
                'tx2',
              ],
              makeDestAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: 'Aave_Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Beefy position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"Avalanche","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,49,14,190,252,132,138,60,150,227,206,226,88,97,203,23,201,40,68,212,35],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 2000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 2000000n,
        },
        destinationAddress: 'eip155:43114:0x310ebefc848a3c96e3cee25861cb17c92844d423',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"Avalanche","destination_address":"0x310ebefc848a3c96e3cee25861cb17c92844d423","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,182,181,95,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:43114:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x310ebefc848a3c96e3cee25861cb17c92844d423',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          amount: 2000000n,
          destinationAddress: 'eip155:43114:0x310ebefc848a3c96e3cee25861cb17c92844d423',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          destinationAddress: 'eip155:43114:0x310ebefc848a3c96e3cee25861cb17c92844d423',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx4',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Avalanche: 'eip155:43114:0x310ebefc848a3c96e3cee25861cb17c92844d423',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Avalanche: {
              address: '0x310ebefc848a3c96e3cee25861cb17c92844d423',
              chainId: 'eip155:43114',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Beefy_re7_Avalanche',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: [
                'tx2',
              ],
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@Avalanche',
            how: 'CCTP',
            phases: {
              apply: [
                'tx3',
              ],
              makeDestAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: 'Beefy_re7_Avalanche',
            how: 'Beefy',
            phases: {
              apply: [
                'tx5',
                'tx4',
              ],
            },
            src: '@Avalanche',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Beefy_re7_Avalanche',
        {
          accountId: 'eip155:43114:0x310ebefc848a3c96e3cee25861cb17c92844d423',
          protocol: 'Beefy',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

> decoded calls

    {
      calls: [
        {
          args: [
            '0xc3d688B66703497DAA19211EEdff47f25384cdc3',
            2000000n,
          ],
          functionName: 'approve',
        },
        {
          args: [
            2000000n,
          ],
          functionName: 'deposit',
        },
      ],
      id: 'tx4',
    }

## Engine can move deposits +agoric -> @agoric

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11042',
        _method: 'send',
        amount: {
          brand: Object @Alleged: USDC brand {},
          value: 2000000n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-3:agoric11028',
          },
          accountStateByChain: {
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@agoric',
            how: 'send',
            src: '+agoric',
          },
        ],
      ],
    ]

## client can move to deposit LCA

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-3:agoric11028',
          },
          accountStateByChain: {
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 1,
          positionKeys: [],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '+agoric',
            how: 'localTransfer',
            src: '<Deposit>',
          },
        ],
      ],
    ]

## withdraw in coordination with planner

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 50000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 50000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,250,240,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,250,240,128,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,54,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,105,50,141,236,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 0n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 0n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,57,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,159,59,134,121,199,60,47,239,139,89,180,243,68,77,78,21,111,183,10,165,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,159,59,134,121,199,60,47,239,139,89,180,243,68,77,78,21,111,183,10,165,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,111,211,80,78,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,64,224,198,184,129,31,220,225,4,223,85,14,22,207,21,208,36,23,190,250,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"0","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'withdrawToSeat',
        amounts: {
          Cash: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
        },
        destSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx10',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx9',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          amount: 50000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx4',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx6',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx7',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx6',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx8',
        {
          amount: 2000000n,
          destinationAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'CCTP_TO_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx9',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Arbitrum: {
              address: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
              chainId: 'eip155:42161',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 2,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Aave_Arbitrum',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: [
                'tx2',
              ],
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              apply: [
                'tx3',
              ],
              makeDestAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: 'Aave_Arbitrum',
            how: 'Aave',
            phases: {
              apply: [
                'tx5',
                'tx4',
              ],
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow2',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
          state: 'done',
          type: 'withdraw',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow2.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@Arbitrum',
            how: 'Aave',
            phases: {
              apply: [
                'tx7',
                'tx6',
              ],
            },
            src: 'Aave_Arbitrum',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '@agoric',
            how: 'CCTP',
            phases: {
              apply: [
                'tx10',
                'tx9',
                'tx8',
              ],
            },
            src: '@Arbitrum',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '<Cash>',
            how: 'withdrawToSeat',
            phases: {},
            src: '@agoric',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
        },
      ],
    ]

## deposit in coordination with planner

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 1000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhAKBXV1c2RjEgcxMDAwMDAwGgcSBXV1c2RuIg8KBXV1c2RuEgY5OTg5OTk=',
          },
        ],
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'icahost-9',
            ],
            [
              'channel',
              'channel-1',
            ],
          ],
          op: 'ICA',
          seq: {
            status: 'unknown',
          },
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'icacontroller-2',
            ],
            [
              'channel',
              'channel-7',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'USDN',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
          state: 'done',
          type: 'deposit',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: [
                'tx0',
              ],
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: 'USDN',
            how: 'USDN',
            phases: {
              apply: [
                'tx1',
              ],
            },
            src: '@noble',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-1:noble11056',
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## simple rebalance in coordination with planner

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 10000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 10000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2Eg4KBXV1c2RjEgUxMDAwMBoHEgV1dXNkbiIOCgV1dXNkbhIFMTAwMDA=',
          },
        ],
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhAKBXV1c2RuEgc1MDAwMDAwGgcSBXV1c2RjIhAKBXV1c2RjEgc1MDAwMDAw',
          },
        ],
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 5000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,54,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,76,75,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,76,75,64,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'icahost-9',
            ],
            [
              'channel',
              'channel-1',
            ],
          ],
          op: 'ICA',
          seq: {
            status: 'unknown',
          },
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'icacontroller-2',
            ],
            [
              'channel',
              'channel-7',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx2',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'icahost-9',
            ],
            [
              'channel',
              'channel-1',
            ],
          ],
          op: 'ICA',
          seq: {
            status: 'unknown',
          },
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'icacontroller-2',
            ],
            [
              'channel',
              'channel-7',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          amount: 5000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx6',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx7',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx6',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Arbitrum: {
              address: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
              chainId: 'eip155:42161',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 2,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 2,
          positionKeys: [
            'Aave_Arbitrum',
            'USDN',
          ],
          rebalanceCount: 0,
          targetAllocation: {
            Aave_Arbitrum: 5000n,
            USDN: 5000n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 10000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 10000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: [
                'tx0',
              ],
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 10000n,
            },
            dest: 'USDN',
            how: 'USDN',
            phases: {
              apply: [
                'tx1',
              ],
            },
            src: '@noble',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow2',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow2.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 5000000n,
            },
            dest: '@noble',
            how: 'USDN',
            phases: {
              apply: [
                'tx4',
              ],
            },
            src: 'USDN',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 5000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              apply: [
                'tx5',
              ],
              makeDestAccount: [
                'tx3',
                'tx2',
              ],
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 5000000n,
            },
            dest: 'Aave_Arbitrum',
            how: 'Aave',
            phases: {
              apply: [
                'tx7',
                'tx6',
              ],
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 5000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-1:noble11056',
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 10000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 5000000n,
          },
        },
      ],
    ]

## parallel execution with scheduler

> parallel flow history

    {
      'portfolio1.flows.flow1': [
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          how: 'makeAccounts(noble, Arbitrum)',
          state: 'run',
          step: 0,
          type: 'deposit',
        },
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          how: 'localTransfer',
          state: 'run',
          step: 1,
          steps: [
            1,
          ],
          type: 'deposit',
        },
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          how: 'IBC to Noble',
          state: 'run',
          step: 2,
          steps: [
            2,
          ],
          type: 'deposit',
        },
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          how: 'USDN',
          state: 'run',
          step: 3,
          steps: [
            3,
          ],
          type: 'deposit',
        },
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          how: 'USDN',
          state: 'run',
          step: 3,
          steps: [
            3,
            4,
          ],
          type: 'deposit',
        },
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          how: 'Aave',
          state: 'run',
          step: 5,
          steps: [
            5,
          ],
          type: 'deposit',
        },
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 40000000n,
          },
          state: 'done',
          type: 'deposit',
        },
      ],
    }

## EVM makeAccount race: A and B arrive together; A wins the race

> {"headStart":"predict"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A pays fee; B arrives

> {"headStart":"send"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A fails to pay fee; B arrives

> {"headStart":"send","errAt":"send"}

    {
      failedMethods: [
        'send',
      ],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A registers txN; B arrives

> {"headStart":"register"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A transfers to axelar; B arrives

> {"headStart":"txfr"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A times out on axelar; B arrives

> {"headStart":"txfr","errAt":"txfr"}

    {
      failedMethods: [
        'transfer',
      ],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A gets rejected txN; B arrives

> {"headStart":"txfr","errAt":"resolve"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
      'send',
      'transfer',
    ]

## EVM makeAccount race: A finishes before attempt B starts

> {"headStart":"resolve"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A and B arrive together; A wins the race

> {"headStart":"predict"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A pays fee; B arrives

> {"headStart":"send"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A registers txN; B arrives

> {"headStart":"register"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A transfers to axelar; B arrives

> {"headStart":"txfr"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A times out on axelar; B arrives

> {"headStart":"txfr","errAt":"txfr"}

    {
      failedMethods: [
        'transfer',
      ],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A gets rejected txN; B arrives

> {"headStart":"txfr","errAt":"resolve"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
      'transfer',
    ]

## EVM makeAccount race: withPermit: A finishes before attempt B starts

> {"headStart":"resolve"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
    ]

## EVM makeAccount race: routed: A and B arrive together; A wins the race

> {"headStart":"predict"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: routed: A pays fee; B arrives

> {"headStart":"send"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: routed: A fails to pay fee; B arrives

> {"headStart":"send","errAt":"send"}

    {
      failedMethods: [
        'send',
      ],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: routed: A registers txN; B arrives

> {"headStart":"register"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: routed: A transfers to axelar; B arrives

> {"headStart":"txfr"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: routed: A times out on axelar; B arrives

> {"headStart":"txfr","errAt":"txfr"}

    {
      failedMethods: [
        'transfer',
      ],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'send',
      'transfer',
    ]

## EVM makeAccount race: routed: A gets rejected txN; B arrives

> {"headStart":"txfr","errAt":"resolve"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
      'send',
      'transfer',
    ]

## EVM makeAccount race: routed: A finishes before attempt B starts

> {"headStart":"resolve"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'send',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'send',
      'transfer',
    ]

## EVM makeAccount race: routed: withPermit: A and B arrive together; A wins the race

> {"headStart":"predict"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
    ]

## EVM makeAccount race: routed: withPermit: A pays fee; B arrives

> {"headStart":"send"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
    ]

## EVM makeAccount race: routed: withPermit: A registers txN; B arrives

> {"headStart":"register"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
    ]

## EVM makeAccount race: routed: withPermit: A transfers to axelar; B arrives

> {"headStart":"txfr"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
    ]

## EVM makeAccount race: routed: withPermit: A times out on axelar; B arrives

> {"headStart":"txfr","errAt":"txfr"}

    {
      failedMethods: [
        'transfer',
      ],
      methodsBeforeB: [
        'monitorTransfers',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
    ]

## EVM makeAccount race: routed: withPermit: A gets rejected txN; B arrives

> {"headStart":"txfr","errAt":"resolve"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
      'transfer',
    ]

## EVM makeAccount race: routed: withPermit: A finishes before attempt B starts

> {"headStart":"resolve"}

    {
      failedMethods: [],
      methodsBeforeB: [
        'monitorTransfers',
        'transfer',
      ],
    }

> total sequence of completed methods

    [
      'monitorTransfers',
      'transfer',
    ]

## planner rejects plan and flow fails gracefully

> call log

    [
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'insufficient funds for this operation',
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {},
          accountStateByChain: {},
          accountsPending: [],
          flowCount: 1,
          flowsRunning: {},
          policyVersion: 1,
          positionKeys: [],
          rebalanceCount: 0,
          targetAllocation: {
            USDN: 10000n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
          error: 'insufficient funds for this operation',
          how: 'await plan',
          state: 'fail',
          step: 0,
          type: 'withdraw',
        },
      ],
    ]

## failed transaction publishes rejectionReason to vstorage

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:137:0x9e1028F5F1D5eDE59748FFceC5532509976840E0',
          rejectionReason: 'remote account does not have enough USDC',
          status: 'failed',
          type: 'GMP',
        },
      ],
    ]

## asking to relay less than 1 USDC over CCTP is refused by contract

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 150n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 150n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135],"type":1,"fee":{"amount":"150","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 250000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 250000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: {
          error: 'too small to relay: {"brand":"[Alleged: USDC brand]","value":"[250000n]"} below "[1000000n]"',
          how: 'CCTP',
          next: {
            error: 'predecessor 3 failed',
            how: 'Aave',
            next: undefined,
            step: 4,
          },
          step: 3,
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Arbitrum: {
              address: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
              chainId: 'eip155:42161',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          error: 'too small to relay: {"brand":"[Alleged: USDC brand]","value":"[250000n]"} below "[1000000n]"',
          how: 'CCTP',
          next: {
            error: 'predecessor 3 failed',
            how: 'Aave',
            next: undefined,
            step: 4,
          },
          state: 'fail',
          step: 3,
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 250000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 250000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: [
                'tx2',
              ],
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 250000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              makeDestAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 250000n,
            },
            dest: 'Aave_Arbitrum',
            how: 'Aave',
            phases: {},
            src: '@Arbitrum',
          },
        ],
      ],
    ]

## open portfolio with ERC4626 position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 1000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 1000000n,
        },
        destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,86,46,166,255,253,18,147,185,67,62,123,129,162,104,44,49,137,46,160,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,66,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,86,46,166,255,253,18,147,185,67,62,123,129,162,104,44,49,137,46,160,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,110,85,63,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,66,64,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          amount: 1000000n,
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx4',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Arbitrum: {
              address: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
              chainId: 'eip155:42161',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'ERC4626_vaultU2_Ethereum',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: [
                'tx2',
              ],
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: '@Arbitrum',
            how: 'CCTP',
            phases: {
              apply: [
                'tx3',
              ],
              makeDestAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: 'ERC4626_vaultU2_Ethereum',
            how: 'ERC4626',
            phases: {
              apply: [
                'tx5',
                'tx4',
              ],
            },
            src: '@Arbitrum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.ERC4626_vaultU2_Ethereum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'ERC4626',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

> decoded calls

    {
      calls: [
        {
          args: [
            '0x562Ea6FfFD1293b9433E7b81A2682C31892ea013',
            1000000n,
          ],
          functionName: 'approve',
        },
        {
          args: [
            1000000n,
            '0x36b64AA4b7023599eC4EA8Dc97BFa86f68769C87',
          ],
          functionName: 'deposit',
        },
      ],
      id: 'tx4',
    }

## withdraw from ERC4626 position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,86,46,166,255,253,18,147,185,67,62,123,129,162,104,44,49,137,46,160,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,180,96,175,148,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> decoded calls

    {
      calls: [
        {
          args: [
            0n,
            '0x36b64AA4b7023599eC4EA8Dc97BFa86f68769C87',
            '0x36b64AA4b7023599eC4EA8Dc97BFa86f68769C87',
          ],
          functionName: 'withdraw',
        },
      ],
      id: 'tx2',
    }

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx2',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Arbitrum: {
              address: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
              chainId: 'eip155:42161',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'ERC4626_vaultU2_Ethereum',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 0n,
            },
            dest: '@Arbitrum',
            how: 'ERC4626',
            phases: {
              apply: [
                'tx3',
                'tx2',
              ],
              makeDestAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: 'ERC4626_vaultU2_Ethereum',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.ERC4626_vaultU2_Ethereum',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'ERC4626',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## withdraw from Beefy position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,224,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,243,196,219,145,243,128,150,62,0,202,164,172,31,5,8,37,156,154,61,58,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,243,196,219,145,243,128,150,62,0,202,164,172,31,5,8,37,156,154,61,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,255,236,87,36,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,66,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,243,196,219,145,243,128,150,62,0,202,164,172,31,5,8,37,156,154,61,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> decoded calls

    {
      calls: [
        {
          args: [
            '0xF3C4Db91F380963e00CaA4AC1f0508259C9a3d3A',
            115792089237316195423570985008687907853269984665640564039457584007913129639935n,
          ],
          functionName: 'approve',
        },
        {
          args: [
            '0xc3d688B66703497DAA19211EEdff47f25384cdc3',
            1000000n,
          ],
          functionName: 'beefyWithdrawUSDC',
        },
        {
          args: [
            '0xF3C4Db91F380963e00CaA4AC1f0508259C9a3d3A',
            0n,
          ],
          functionName: 'approve',
        },
      ],
      id: 'tx2',
    }

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx2',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Arbitrum: {
              address: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
              chainId: 'eip155:42161',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Beefy_re7_Avalanche',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 1000000n,
            },
            dest: '@Arbitrum',
            how: 'Beefy',
            phases: {
              apply: [
                'tx3',
                'tx2',
              ],
              makeDestAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: 'Beefy_re7_Avalanche',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Beefy_re7_Avalanche',
        {
          accountId: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          protocol: 'Beefy',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 1000000n,
          },
        },
      ],
    ]

## openPortfolio from EVM with Permit2 completes a deposit flow

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ubld',
          value: 1n,
        },
        opts: {
          memo: '{"noble":{"forwarding":{"channel":"channel-21","recipient":"agoric11028"}}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x9524EEb5F792944a0FE929bb8Efb354438B19F7C","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,64,0,0,0,0,0,0,0,0,0,0,0,0,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,59,154,202,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,71,99,204,176,32,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,240,69,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,192,0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,97,103,111,114,105,99,49,49,48,50,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,79,112,101,110,80,111,114,116,102,111,108,105,111,87,105,116,110,101,115,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,18,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> decoded payload

    {
      expectedWalletAddress: '0x36b64AA4b7023599eC4EA8Dc97BFa86f68769C87',
      lcaOwner: 'agoric11028',
      permit: {
        deadline: 1357923600n,
        nonce: 7115368379195441n,
        permitted: {
          amount: 1000000000n,
          token: '0xCaC7Ffa82c0f43EBB0FC11FCd32123EcA46626cf',
        },
      },
      signature: '0x1234',
      tokenOwner: '0x1111111111111111111111111111111111111111',
      witness: '0x0000000000000000000000000000000000000000000000000000000000000000',
      witnessTypeString: 'OpenPortfolioWitness',
    }

## evmHandler.withdraw via CCTPtoUser sends depositForBurn to user address

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 2000000n,
        },
        destinationAddress: 'eip155:42161:0x1234567890AbcdEF1234567890aBcdef12345678',
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          amount: 2000000n,
          destinationAddress: 'eip155:42161:0x1234567890AbcdEF1234567890aBcdef12345678',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [],
          rebalanceCount: 0,
          sourceAccountId: 'eip155:42161:0x1234567890AbcdEF1234567890aBcdef12345678',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
          state: 'done',
          toChain: 'Arbitrum',
          type: 'withdraw',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '-Arbitrum',
            how: 'CCTPtoUser',
            phases: {
              apply: [
                'tx0',
              ],
            },
            src: '@noble',
          },
        ],
      ],
    ]

## evmHandler.withdraw via GMP sends ERC20 transfer to user address

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,54,182,74,164,183,2,53,153,236,78,168,220,151,191,168,111,104,118,156,135],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,169,5,156,187,0,0,0,0,0,0,0,0,0,0,0,0,18,52,86,120,144,171,205,239,18,52,86,120,144,171,205,239,18,52,86,120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,132,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          destinationAddress: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx2',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Arbitrum: {
              address: '0x36b64aa4b7023599ec4ea8dc97bfa86f68769c87',
              chainId: 'eip155:42161',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [],
          rebalanceCount: 0,
          sourceAccountId: 'eip155:42161:0x1234567890AbcdEF1234567890aBcdef12345678',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 2000000n,
          },
          state: 'done',
          toChain: 'Arbitrum',
          type: 'withdraw',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 2000000n,
            },
            dest: '-Arbitrum',
            how: 'withdrawToEVM',
            phases: {
              apply: [
                'tx3',
                'tx2',
              ],
              makeSrcAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: '@Arbitrum',
          },
        ],
      ],
    ]

## move Aave position Base -> Optimism via CCTPv2

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"base-sepolia","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,129,127,5,154,127,229,177,48,249,163,49,227,38,246,63,62,219,61,130,20],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          getAddress: Function getAddress {},
          makeProgressTracker: Function makeProgressTracker {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-1',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 50000000n,
        },
        opts: {
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 50000000n,
        },
        destinationAddress: 'eip155:8453:0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"base-sepolia","destination_address":"0x817f059a7fe5b130f9a331e326f63f3edb3d8214","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,250,240,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,250,240,128,0,0,0,0,0,0,0,0,0,0,0,0,129,127,5,154,127,229,177,48,249,163,49,227,38,246,63,62,219,61,130,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"optimism","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,129,127,5,154,127,229,177,48,249,163,49,227,38,246,63,62,219,61,130,20],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"base-sepolia","destination_address":"0x817f059a7fe5b130f9a331e326f63f3edb3d8214","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,105,50,141,236,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,49,45,0,0,0,0,0,0,0,0,0,0,0,0,0,129,127,5,154,127,229,177,48,249,163,49,227,38,246,63,62,219,61,130,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"base-sepolia","destination_address":"0x817f059a7fe5b130f9a331e326f63f3edb3d8214","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,116,120,49,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,159,59,134,121,199,60,47,239,139,89,180,243,68,77,78,21,111,183,10,165,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,49,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,159,59,134,121,199,60,47,239,139,89,180,243,68,77,78,21,111,183,10,165,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,228,142,2,80,238,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,49,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,129,127,5,154,127,229,177,48,249,163,49,227,38,246,63,62,219,61,130,20,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-3',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-dojo-1',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'uaxl',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"optimism","destination_address":"0x817f059a7fe5b130f9a331e326f63f3edb3d8214","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,116,120,49,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,49,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,49,45,0,0,0,0,0,0,0,0,0,0,0,0,0,129,127,5,154,127,229,177,48,249,163,49,227,38,246,63,62,219,61,130,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
          progressTracker: Object @Alleged: ProgressTrackerKit public {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:8453:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx0',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx10',
        {
          amount: 20000000n,
          destinationAddress: 'eip155:10:0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
          sourceAddress: 'eip155:8453:0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx11',
        {
          destinationAddress: 'eip155:8453:0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx12',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx11',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx13',
        {
          destinationAddress: 'eip155:10:0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx14',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx13',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx2',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:noble-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-21',
            ],
          ],
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-62',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx3',
        {
          amount: 50000000n,
          destinationAddress: 'eip155:8453:0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
          status: 'success',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx4',
        {
          destinationAddress: 'eip155:8453:0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx5',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx4',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx6',
        {
          destinationAddress: 'eip155:10:0xef8651dD30cF990A1e831224f2E0996023163A81',
          expectedAddr: '0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
          factoryAddr: '0xef8651dD30cF990A1e831224f2E0996023163A81',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'MAKE_ACCOUNT',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx7',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx6',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx8',
        {
          destinationAddress: 'eip155:8453:0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
          sourceAddress: 'cosmos:agoric-3:agoric11028',
          status: 'success',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx9',
        {
          dest: [
            'ibc',
            [
              'chain',
              'cosmos:axelar-dojo-1',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-41',
            ],
          ],
          nextTxId: 'tx8',
          op: 'transfer',
          seq: 339n,
          src: [
            'ibc',
            [
              'chain',
              'cosmos:agoric-3',
            ],
            [
              'port',
              'transfer',
            ],
            [
              'channel',
              'channel-9',
            ],
          ],
          status: 'success',
          type: 'IBC_FROM_AGORIC',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Base: 'eip155:8453:0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
            Optimism: 'eip155:10:0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
            agoric: 'cosmos:agoric-3:agoric11028',
            noble: 'cosmos:noble-1:noble11056',
          },
          accountStateByChain: {
            Base: {
              address: '0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
              chainId: 'eip155:8453',
              state: 'active',
            },
            Optimism: {
              address: '0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
              chainId: 'eip155:10',
              state: 'active',
            },
            agoric: {
              address: 'agoric11028',
              chainId: 'cosmos:agoric-3',
              state: 'active',
            },
            noble: {
              address: 'noble11056',
              chainId: 'cosmos:noble-1',
              state: 'active',
            },
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 2,
          flowsRunning: {},
          nobleForwardingAddress: 'noble1grsvdwyprlwwzpxl258pdnc46qjp00h6rm5nqc',
          policyVersion: 0,
          positionKeys: [
            'Aave_Base',
            'Aave_Optimism',
          ],
          rebalanceCount: 0,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@agoric',
            how: 'localTransfer',
            phases: {},
            src: '<Deposit>',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@noble',
            how: 'IBC to Noble',
            phases: {
              apply: [
                'tx2',
              ],
            },
            src: '@agoric',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: '@Base',
            how: 'CCTP',
            phases: {
              apply: [
                'tx3',
              ],
              makeDestAccount: [
                'tx1',
                'tx0',
              ],
            },
            src: '@noble',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 50000000n,
            },
            dest: 'Aave_Base',
            how: 'Aave',
            phases: {
              apply: [
                'tx5',
                'tx4',
              ],
            },
            src: '@Base',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow2',
        {
          state: 'done',
          type: 'rebalance',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow2.steps',
        [
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 20000000n,
            },
            dest: '@Base',
            how: 'Aave',
            phases: {
              apply: [
                'tx9',
                'tx8',
              ],
            },
            src: 'Aave_Base',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 20000000n,
            },
            dest: '@Optimism',
            how: 'CCTPv2',
            phases: {
              apply: [
                'tx12',
                'tx11',
                'tx10',
              ],
              makeDestAccount: [
                'tx7',
                'tx6',
              ],
            },
            src: '@Base',
          },
          {
            amount: {
              brand: Object @Alleged: USDC brand {},
              value: 20000000n,
            },
            dest: 'Aave_Optimism',
            how: 'Aave',
            phases: {
              apply: [
                'tx14',
                'tx13',
              ],
            },
            src: '@Optimism',
          },
        ],
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Base',
        {
          accountId: 'eip155:8453:0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 20000000n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Optimism',
        {
          accountId: 'eip155:10:0x817f059a7fe5b130f9a331e326f63f3edb3d8214',
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 20000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]
