# Snapshot report for `test/portfolio.flows.test.ts`

The actual snapshot is saved in `portfolio.flows.test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## open portfolio with no positions

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-6:agoric11028',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 0,
          positionKeys: [],
        },
      ],
    ]

## Noble Dollar Swap, Lock messages

> swap 1.2USDC for 1.188USDN

    {
      msgLock: {
        amount: '1188000',
        signer: 'noble1reheu4ym85k9gktyf9vzhzt0zvqym9txwejsj4vaxdrw98wm4emsddarrd',
        vault: 1,
      },
      msgSwap: {
        amount: {
          amount: '1200000',
          denom: 'uusdc',
        },
        min: {
          amount: '1188000',
          denom: 'uusdn',
        },
        routes: [
          {
            denomTo: 'uusdn',
            poolId: 0n,
          },
        ],
        signer: 'noble1reheu4ym85k9gktyf9vzhzt0zvqym9txwejsj4vaxdrw98wm4emsddarrd',
      },
      protoMessages: [
        {
          typeUrl: '/noble.swap.v1.MsgSwap',
          value: 'CkBub2JsZTFyZWhldTR5bTg1azlna3R5Zjl2emh6dDB6dnF5bTl0eHdlanNqNHZheGRydzk4d200ZW1zZGRhcnJkEhAKBXV1c2RjEgcxMjAwMDAwGgcSBXV1c2RuIhAKBXV1c2RuEgcxMTg4MDAw',
        },
        {
          typeUrl: '/noble.dollar.vaults.v1.MsgLock',
          value: 'CkBub2JsZTFyZWhldTR5bTg1azlna3R5Zjl2emh6dDB6dnF5bTl0eHdlanNqNHZheGRydzk4d200ZW1zZGRhcnJkEAEaBzExODgwMDA=',
        },
      ],
    }

> swap 5K USDC at parity

    {
      msgLock: {
        amount: 'undefined',
        signer: 'cosmos1test',
        vault: 1,
      },
      msgSwap: {
        amount: {
          amount: '5000000000',
          denom: 'uusdc',
        },
        min: {
          amount: '5000000000',
          denom: 'uusdn',
        },
        routes: [
          {
            denomTo: 'uusdn',
            poolId: 0n,
          },
        ],
        signer: 'cosmos1test',
      },
      protoMessages: [
        {
          typeUrl: '/noble.swap.v1.MsgSwap',
          value: 'Cgtjb3Ntb3MxdGVzdBITCgV1dXNkYxIKNTAwMDAwMDAwMBoHEgV1dXNkbiITCgV1dXNkbhIKNTAwMDAwMDAwMA==',
        },
        {
          typeUrl: '/noble.dollar.vaults.v1.MsgLock',
          value: 'Cgtjb3Ntb3MxdGVzdBABGgl1bmRlZmluZWQ=',
        },
      ],
    }

> un-swap 5K USDN < parity

    {
      msgSwap: {
        amount: {
          amount: '4900000000',
          denom: 'uusdn',
        },
        min: {
          amount: '4900000000',
          denom: 'uusdc',
        },
        routes: [
          {
            denomTo: 'uusdc',
            poolId: 0n,
          },
        ],
        signer: 'cosmos1test',
      },
      msgUnlock: {
        amount: '4900000000',
        signer: 'cosmos1test',
        vault: 1,
      },
      protoMessages: [
        {
          typeUrl: '/noble.dollar.vaults.v1.MsgUnlock',
          value: 'Cgtjb3Ntb3MxdGVzdBABGgo0OTAwMDAwMDAw',
        },
        {
          typeUrl: '/noble.swap.v1.MsgSwap',
          value: 'Cgtjb3Ntb3MxdGVzdBITCgV1dXNkbhIKNDkwMDAwMDAwMBoHEgV1dXNkYyITCgV1dXNkYxIKNDkwMDAwMDAwMA==',
        },
      ],
    }

## open portfolio with USDN position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 50000000n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhEKBXV1c2RjEgg1MDAwMDAwMBoHEgV1dXNkbiIRCgV1dXNkbhIINDk1MDAwMDA=',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaCDQ5NTAwMDAw',
          },
        ],
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [
            'USDN',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
          dest: 'USDNVault',
          how: 'USDN',
          src: '@noble',
          step: 3,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-5:noble11056',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Aave and USDN positions then inbound GMP

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 150n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-6',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ubld',
          value: 150n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"150","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 6666000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 6666000000n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 3333000000n,
        },
        destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-6',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,18,108,243,172,158,161,39,148,255,80,245,103,39,199,198,110,38,217,192,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhMKBXV1c2RjEgozMzMzMDAwMDAwGgcSBXV1c2RuIhMKBXV1c2RuEgozMjk5NjcwMDAw',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaCjMyOTk2NzAwMDA=',
          },
        ],
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          amount: 3333000000n,
          destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          status: 'pending',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          status: 'pending',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [
            'Aave_Arbitrum',
            'USDN',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          dest: 'USDNVault',
          how: 'USDN',
          src: '@noble',
          step: 5,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-5:noble11056',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Aave position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-6',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ubld',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,50],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 300n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 300n,
        },
        destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-6',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,44,0,0,0,0,0,0,0,0,0,0,0,0,18,108,243,172,158,161,39,148,255,80,245,103,39,199,198,110,38,217,192,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          amount: 300n,
          destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          status: 'pending',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          status: 'pending',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [
            'Aave_Arbitrum',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          dest: 'Aave_Arbitrum',
          how: 'Aave',
          src: '@Arbitrum',
          step: 4,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Compound position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 300n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-6',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ubld',
          value: 300n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"300","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 300n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 300n,
        },
        destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-6',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,242,185,253,184,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          amount: 300n,
          destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          status: 'pending',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          status: 'pending',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [
            'Compound_Arbitrum',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          dest: 'Compound_Arbitrum',
          how: 'Compound',
          src: '@Arbitrum',
          step: 4,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Compound_Arbitrum',
        {
          accountId: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          protocol: 'Compound',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## handle failure in localTransfer from seat to local account

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'localTransfer from seat failed',
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-6:agoric11028',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
          dest: '@agoric',
          error: 'localTransfer from seat failed',
          how: 'localTransfer',
          src: '<Deposit>',
          step: 1,
        },
      ],
    ]

## handle failure in IBC transfer

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _method: 'withdrawToSeat',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        destSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'IBC is on the fritz!!',
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
          dest: '@noble',
          error: 'IBC is on the fritz!!',
          how: 'IBC to Noble',
          src: '@agoric',
          step: 2,
        },
      ],
    ]

## handle failure in executeEncodedTx

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EgwKBXV1c2RjEgMxMDAaBxIFdXVzZG4iCwoFdXVzZG4SAjk5',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaAjk5',
          },
        ],
      },
      {
        _cap: 'noble11056',
        _method: 'transfer',
        address: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
        amount: {
          denom: 'uusdc',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _method: 'withdrawToSeat',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        destSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'exec swaplock went kerflewey',
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [
            'USDN',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
          dest: 'USDNVault',
          error: 'exec swaplock went kerflewey',
          how: 'USDN',
          src: '@noble',
          step: 3,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-5:noble11056',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## handle failure in recovery from executeEncodedTx

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EgwKBXV1c2RjEgMxMDAaBxIFdXVzZG4iDAoFdXVzZG4SAzEwMA==',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaAzEwMA==',
          },
        ],
      },
      {
        _cap: 'noble11056',
        _method: 'transfer',
        address: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
        amount: {
          denom: 'uusdc',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'road from noble-5 washed out',
        },
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [
            'USDN',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
          error: 'road from noble-5 washed out',
          how: 'unwind: IBC to Noble',
          src: '@agoric',
          step: 2,
          where: '@noble',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-5:noble11056',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Compound and USDN positions then rebalance

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 150n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-6',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ubld',
          value: 150n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"150","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 6666000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 6666000000n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 3333000000n,
        },
        destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-6',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,18,108,243,172,158,161,39,148,255,80,245,103,39,199,198,110,38,217,192,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _cap: 'noble11056',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDU2EhMKBXV1c2RjEgozMzMzMDAwMDAwGgcSBXV1c2RuIhMKBXV1c2RuEgozMjk5NjcwMDAw',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDU2EAEaCjMyOTk2NzAwMDA=',
          },
        ],
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          amount: 3333000000n,
          destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          status: 'pending',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          status: 'pending',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [
            'Aave_Arbitrum',
            'USDN',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          dest: 'USDNVault',
          how: 'USDN',
          src: '@noble',
          step: 5,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-5:noble11056',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## rebalance handles stepFlow failure correctly

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 500n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 500n,
        },
        opts: undefined,
      },
      {
        _method: 'withdrawToSeat',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 500n,
          },
        },
        destSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'IBC transfer failed',
        },
      },
    ]

## claim rewards on Aave position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-6',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-6',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"arbitrum","destination_address":"0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,32,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,191,144,246,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,11,202,63,63,214,51,92,63,76,232,57,45,105,53,11,79,164,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,105,50,141,236,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,108,243,172,158,161,39,148,255,80,245,103,39,199,198,110,38,217,192,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> decoded calls

    {
      calls: [
        {
          args: [
            [
              '0x87870Bca3F3fD6335C3F4ce8392D69350B4fA4E2',
            ],
          ],
          functionName: 'claimAllRewardsToSelf',
        },
        {
          args: [
            '0xCaC7Ffa82c0f43EBB0FC11FCd32123EcA46626cf',
            0n,
            '0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          ],
          functionName: 'withdraw',
        },
      ],
      id: 'tx0',
    }

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          destinationAddress: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          status: 'pending',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Arbitrum: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [
            'Aave_Arbitrum',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          dest: '@Arbitrum',
          how: 'Aave',
          src: 'Aave_Arbitrum',
          step: 1,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Arbitrum',
        {
          accountId: 'eip155:42161:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Beefy position

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 50n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-6',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ubld',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"Avalanche","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,50],"type":1,"fee":{"amount":"50","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'noble-5',
          value: 'noble11056',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 300n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11056',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'uusdc',
          value: 300n,
        },
        destinationAddress: 'eip155:43114:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
      },
      {
        _cap: 'agoric11014',
        _method: 'send',
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'agoric11028',
        _method: 'transfer',
        address: {
          chainId: 'axelar-6',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ubld',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"Avalanche","destination_address":"0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,116,120,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,182,181,95,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1aythygn6z5thymj6tmzfwekzh05ewg3l7d6y89"}}',
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.pendingTxs.tx0',
        {
          amount: 300n,
          destinationAddress: 'eip155:43114:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          status: 'pending',
          type: 'CCTP_TO_EVM',
        },
      ],
      [
        'published.ymax0.pendingTxs.tx1',
        {
          destinationAddress: 'eip155:43114:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          status: 'pending',
          type: 'GMP',
        },
      ],
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Avalanche: 'eip155:43114:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
            agoric: 'cosmos:agoric-6:agoric11028',
            noble: 'cosmos:noble-5:noble11056',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [
            'Beefy_re7_Avalanche',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          dest: 'Beefy_re7_Avalanche',
          how: 'Beefy',
          src: '@Avalanche',
          step: 4,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Beefy_re7_Avalanche',
        {
          accountId: 'eip155:43114:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          protocol: 'Beefy',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

> decoded calls

    {
      calls: [
        {
          args: [
            '0xc3d688B66703497DAA19211EEdff47f25384cdc3',
            300n,
          ],
          functionName: 'approve',
        },
        {
          args: [
            300n,
          ],
          functionName: 'deposit',
        },
      ],
      id: 'tx1',
    }

## Engine can move deposits +agoric -> @agoric

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'agoric11042',
        _method: 'send',
        amount: {
          brand: Object @Alleged: USDC brand {},
          value: 300n,
        },
        toAccount: {
          chainId: 'agoric-6',
          value: 'agoric11028',
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-6:agoric11028',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          dest: '@agoric',
          how: 'send',
          src: '+agoric',
          step: 1,
        },
      ],
    ]

## client can move to deposit LCA

> call log

    [
      {
        _cap: 'agoric11028',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          Deposit: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          send: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios',
        {
          addPortfolio: 'portfolio1',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-6:agoric11028',
          },
          accountsPending: [],
          depositAddress: 'agoric11042',
          flowCount: 1,
          positionKeys: [],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          dest: '+agoric',
          how: 'localTransfer',
          src: '<Deposit>',
          step: 1,
        },
      ],
    ]
