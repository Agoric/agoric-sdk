# Snapshot report for `test/portfolio.flows.test.ts`

The actual snapshot is saved in `portfolio.flows.test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## open portfolio with no positions

> call log

    [
      {
        _cap: 'agoric11014',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0.portfolios" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-1:agoric11014',
          },
          flowCount: 0,
          positionKeys: [],
        },
      ],
    ]

## open portfolio with USDN position

> call log

    [
      {
        _cap: 'agoric11014',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          NobleFees: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
          USDN: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-3',
          value: 'noble11028',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 50000000n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11028',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDI4EhEKBXV1c2RjEgg1MDAwMDAwMBoHEgV1dXNkbiIRCgV1dXNkbhIINDk1MDAwMDA=',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDI4EAEaCDQ5NTAwMDAw',
          },
        ],
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0.portfolios" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-1:agoric11014',
            noble: 'cosmos:noble-3:noble11028',
          },
          flowCount: 1,
          positionKeys: [
            'USDN',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
          dest: 'USDN',
          how: 'Swap, Lock',
          src: 'cosmos:noble-3:noble11028',
          step: 3,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-3:noble11028',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 50000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Aave and USDN positions then inbound GMP

> call log

    [
      {
        _cap: 'agoric11014',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          USDN: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-3',
          value: 'noble11028',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 3333000000n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11028',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDI4EhMKBXV1c2RjEgozMzMzMDAwMDAwGgcSBXV1c2RuIhMKBXV1c2RuEgozMzMzMDAwMDAw',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDI4EAEaCjMzMzMwMDAwMDA=',
          },
        ],
      },
      {
        _method: 'localTransfer',
        amounts: {
          AaveAccount: {
            brand: Object @Alleged: USDC brand {},
            value: 150n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'axelar-5',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 150n,
        },
        opts: {
          memo: '{"destination_chain":"Ethereum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"150","recipient":"axelar1zl3rxpp70lmte2xr6c4lgske2fyuj3hupcsvcd"}}',
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Aave: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-3',
          value: 'noble11028',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 3333000000n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11028',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 3333000000n,
        },
        destinationAddress: 'eip155:1:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
      },
      {
        _method: 'localTransfer',
        amounts: {
          AaveGmp: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'axelar-5',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"Ethereum","destination_address":"0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,198,169,139,64,0,0,0,0,0,0,0,0,0,0,0,0,18,108,243,172,158,161,39,148,255,80,245,103,39,199,198,110,38,217,192,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1zl3rxpp70lmte2xr6c4lgske2fyuj3hupcsvcd"}}',
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0.portfolios" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Ethereum: 'eip155:1:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
            agoric: 'cosmos:agoric-1:agoric11014',
            noble: 'cosmos:noble-3:noble11028',
          },
          flowCount: 1,
          positionKeys: [
            'Aave_Ethereum',
            'USDN',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          dest: 'USDN',
          how: 'Swap, Lock',
          src: 'cosmos:noble-3:noble11028',
          step: 3,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Ethereum',
        {
          accountId: 'eip155:1:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-3:noble11028',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 3333000000n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Aave position

> call log

    [
      {
        _cap: 'agoric11014',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          AaveAccount: {
            brand: Object @Alleged: USDC brand {},
            value: 50n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'axelar-3',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 50n,
        },
        opts: {
          memo: '{"destination_chain":"Ethereum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"50","recipient":"axelar1zl3rxpp70lmte2xr6c4lgske2fyuj3hupcsvcd"}}',
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Aave: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-4',
          value: 'noble11035',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 300n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11035',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 300n,
        },
        destinationAddress: 'eip155:1:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
      },
      {
        _method: 'localTransfer',
        amounts: {
          AaveGmp: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'axelar-3',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"Ethereum","destination_address":"0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,132,97,123,160,55,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,44,0,0,0,0,0,0,0,0,0,0,0,0,18,108,243,172,158,161,39,148,255,80,245,103,39,199,198,110,38,217,192,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1zl3rxpp70lmte2xr6c4lgske2fyuj3hupcsvcd"}}',
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0.portfolios" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Ethereum: 'eip155:1:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
            agoric: 'cosmos:agoric-1:agoric11014',
            noble: 'cosmos:noble-4:noble11035',
          },
          flowCount: 0,
          positionKeys: [
            'Aave_Ethereum',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Aave_Ethereum',
        {
          accountId: 'eip155:1:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          protocol: 'Aave',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## open portfolio with Compound position

> call log

    [
      {
        _cap: 'agoric11014',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          CompoundAccount: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'axelar-3',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 300n,
        },
        opts: {
          memo: '{"destination_chain":"Ethereum","destination_address":"0xef8651dD30cF990A1e831224f2E0996023163A81","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"300","recipient":"axelar1zl3rxpp70lmte2xr6c4lgske2fyuj3hupcsvcd"}}',
        },
      },
      {
        _method: 'localTransfer',
        amounts: {
          Compound: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-4',
          value: 'noble11035',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 300n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11035',
        _method: 'depositForBurn',
        denomAmount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 300n,
        },
        destinationAddress: 'eip155:1:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
      },
      {
        _method: 'localTransfer',
        amounts: {
          CompoundGmp: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'axelar-3',
          encoding: 'bech32',
          value: 'axelar1dv4u5k73pzqrxlzujxg3qp8kvc3pje7jtdvu72npnt5zhq05ejcsn5qme5',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 100n,
        },
        opts: {
          memo: '{"destination_chain":"Ethereum","destination_address":"0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092","payload":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,9,94,167,179,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,195,214,136,182,103,3,73,125,170,25,33,30,237,255,71,242,83,132,205,195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,242,185,253,184,0,0,0,0,0,0,0,0,0,0,0,0,202,199,255,168,44,15,67,235,176,252,17,252,211,33,35,236,164,102,38,207,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"type":1,"fee":{"amount":"100","recipient":"axelar1zl3rxpp70lmte2xr6c4lgske2fyuj3hupcsvcd"}}',
        },
      },
      {
        _cap: 'seat',
        _method: 'exit',
        completion: undefined,
      },
    ]

> Under "published", the "ymax0.portfolios" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            Ethereum: 'eip155:1:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
            agoric: 'cosmos:agoric-1:agoric11014',
            noble: 'cosmos:noble-4:noble11035',
          },
          flowCount: 0,
          positionKeys: [
            'Compound_Ethereum',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.Compound_Ethereum',
        {
          accountId: 'eip155:1:0x126cf3AC9ea12794Ff50f56727C7C66E26D9C092',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          protocol: 'Compound',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 300n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## handle failure in localTransfer from seat to local account

> call log

    [
      {
        _cap: 'agoric11014',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          USDN: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'localTransfer from seat failed',
        },
      },
    ]

> Under "published", the "ymax0.portfolios" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-1:agoric11014',
            noble: 'cosmos:noble-3:noble11028',
          },
          flowCount: 1,
          positionKeys: [
            'USDN',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
          dest: 'cosmos:agoric-1:agoric11014',
          error: 'localTransfer from seat failed',
          how: 'localTransfer',
          src: 'seat:USDN',
          step: 1,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-3:noble11028',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## handle failure in IBC transfer

> call log

    [
      {
        _cap: 'agoric11014',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          USDN: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-3',
          value: 'noble11028',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _method: 'withdrawToSeat',
        amounts: {
          USDN: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        destSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'IBC transfer failed',
        },
      },
    ]

> Under "published", the "ymax0.portfolios" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-1:agoric11014',
            noble: 'cosmos:noble-3:noble11028',
          },
          flowCount: 1,
          positionKeys: [
            'USDN',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
          dest: 'cosmos:noble-3:noble11028',
          error: 'IBC transfer failed',
          how: 'IBC transfer',
          src: 'cosmos:agoric-1:agoric11014',
          step: 2,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-3:noble11028',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## handle failure in executeEncodedTx

> call log

    [
      {
        _cap: 'agoric11014',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          USDN: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-3',
          value: 'noble11028',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11028',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDI4EgwKBXV1c2RjEgMxMDAaBxIFdXVzZG4iDAoFdXVzZG4SAzEwMA==',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDI4EAEaAzEwMA==',
          },
        ],
      },
      {
        _cap: 'noble11028',
        _method: 'transfer',
        address: {
          chainId: 'agoric-1',
          value: 'agoric11014',
        },
        amount: {
          denom: 'uusdc',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _method: 'withdrawToSeat',
        amounts: {
          USDN: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        destSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'Swap or Lock failed',
        },
      },
    ]

> Under "published", the "ymax0.portfolios" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-1:agoric11014',
            noble: 'cosmos:noble-3:noble11028',
          },
          flowCount: 1,
          positionKeys: [
            'USDN',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
          dest: 'USDN',
          error: 'Swap or Lock failed',
          how: 'Swap, Lock',
          src: 'cosmos:noble-3:noble11028',
          step: 3,
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-3:noble11028',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]

## handle failure in recovery from executeEncodedTx

> call log

    [
      {
        _cap: 'agoric11014',
        _method: 'monitorTransfers',
        tap: Object @Alleged: Portfolio tap {},
      },
      {
        _method: 'localTransfer',
        amounts: {
          USDN: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
        },
        localAccount: Object @Alleged: AgoricAccount {
          executeEncodedTx: AsyncFunction {},
          getAddress: Function getAddress {},
          monitorTransfers: AsyncFunction {},
          parseInboundTransfer: AsyncFunction {},
          transfer: AsyncFunction {},
        },
        sourceSeat: {
          exit: Function exit {},
          fail: Function fail {},
          getProposal: Function getProposal {},
          hasExited: Function hasExited {},
        },
      },
      {
        _cap: 'agoric11014',
        _method: 'transfer',
        address: {
          chainId: 'noble-3',
          value: 'noble11028',
        },
        amount: {
          denom: 'ibc/40F1B2458AEDA66431F9D44F48413240B8D28C072463E2BF53655728683583E3',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _cap: 'noble11028',
        _method: 'executeEncodedTx',
        msgs: [
          {
            typeUrl: '/noble.swap.v1.MsgSwap',
            value: 'Cgpub2JsZTExMDI4EgwKBXV1c2RjEgMxMDAaBxIFdXVzZG4iDAoFdXVzZG4SAzEwMA==',
          },
          {
            typeUrl: '/noble.dollar.vaults.v1.MsgLock',
            value: 'Cgpub2JsZTExMDI4EAEaAzEwMA==',
          },
        ],
      },
      {
        _cap: 'noble11028',
        _method: 'transfer',
        address: {
          chainId: 'agoric-1',
          value: 'agoric11014',
        },
        amount: {
          denom: 'uusdc',
          value: 100n,
        },
        opts: undefined,
      },
      {
        _cap: 'seat',
        _method: 'fail',
        reason: Error {
          message: 'IBC transfer from noble-3 failed',
        },
      },
    ]

> Under "published", the "ymax0.portfolios" node is delegated to ymax.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.ymax0.portfolios.portfolio1',
        {
          accountIdByChain: {
            agoric: 'cosmos:agoric-1:agoric11014',
            noble: 'cosmos:noble-3:noble11028',
          },
          flowCount: 1,
          positionKeys: [
            'USDN',
          ],
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.flows.flow1',
        {
          amount: {
            brand: Object @Alleged: USDC brand {},
            value: 100n,
          },
          error: 'IBC transfer from noble-3 failed',
          how: 'unwind: IBC transfer',
          src: 'cosmos:agoric-1:agoric11014',
          step: 2,
          where: 'cosmos:noble-3:noble11028',
        },
      ],
      [
        'published.ymax0.portfolios.portfolio1.positions.USDN',
        {
          accountId: 'cosmos:noble-3:noble11028',
          netTransfers: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          protocol: 'USDN',
          totalIn: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
          totalOut: {
            brand: Object @Alleged: USDC brand {},
            value: 0n,
          },
        },
      ],
    ]
