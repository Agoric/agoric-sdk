#! /usr/bin/env node
// @ts-check
/* eslint-env node */
import { execFileSync } from 'child_process';
import { basename } from 'path';
import { listWorkspaces } from '../src/lib/packageManager.js';

const workspaces = listWorkspaces({ execFileSync });

const packageNames = workspaces.map(w => w.name);

// Write the module.
process.stdout.write(`\
// DO NOT EDIT - automatically generated by ${basename(
  new URL(import.meta.url).pathname,
)}
// prettier-ignore
export default ${JSON.stringify(packageNames.sort(), null, 2)};
`);
