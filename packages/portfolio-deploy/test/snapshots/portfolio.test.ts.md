# Snapshot report for `test/portfolio.test.ts`

The actual snapshot is saved in `portfolio.test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## publish chainInfo etc.

> Under "published", the "agoricNames.chain" node is delegated to chain governance.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.agoricNames.chain.Arbitrum',
        {
          cctpDestinationDomain: 3,
          namespace: 'eip155',
          reference: '42161',
        },
      ],
      [
        'published.agoricNames.chain.Avalanche',
        {
          cctpDestinationDomain: 1,
          namespace: 'eip155',
          reference: '43114',
        },
      ],
      [
        'published.agoricNames.chain.Optimism',
        {
          cctpDestinationDomain: 2,
          namespace: 'eip155',
          reference: '10',
        },
      ],
      [
        'published.agoricNames.chain.Polygon',
        {
          cctpDestinationDomain: 7,
          namespace: 'eip155',
          reference: '137',
        },
      ],
      [
        'published.agoricNames.chain.agoric',
        {
          bech32Prefix: 'agoric',
          chainId: 'agoriclocal',
          icqEnabled: false,
          namespace: 'cosmos',
          reference: 'agoriclocal',
          stakingTokens: [
            {
              denom: 'ubld',
            },
          ],
        },
      ],
      [
        'published.agoricNames.chain.noble',
        {
          bech32Prefix: 'noble',
          chainId: 'noblelocal',
          icqEnabled: false,
          namespace: 'cosmos',
          reference: 'noblelocal',
          stakingTokens: [
            {
              denom: 'uusdc',
            },
          ],
        },
      ],
      [
        'published.agoricNames.chainConnection.agoriclocal_noblelocal',
        {
          client_id: '07-tendermint-0',
          counterparty: {
            client_id: '07-tendermint-0',
            connection_id: 'connection-0',
          },
          id: 'connection-0',
          state: 3,
          transferChannel: {
            channelId: 'channel-0',
            counterPartyChannelId: 'channel-0',
            counterPartyPortId: 'transfer',
            ordering: 0,
            portId: 'transfer',
            state: 3,
            version: 'ics20-1',
          },
        },
      ],
    ]

> Under "published", the "agoricNames.chainConnection" node is delegated to chain governance.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.agoricNames.chainConnection.agoriclocal_noblelocal',
        {
          client_id: '07-tendermint-0',
          counterparty: {
            client_id: '07-tendermint-0',
            connection_id: 'connection-0',
          },
          id: 'connection-0',
          state: 3,
          transferChannel: {
            channelId: 'channel-0',
            counterPartyChannelId: 'channel-0',
            counterPartyPortId: 'transfer',
            ordering: 0,
            portId: 'transfer',
            state: 3,
            version: 'ics20-1',
          },
        },
      ],
    ]

## access token setup

> Under "published", the "agoricNames.brand" node is delegated to chain governance.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.agoricNames.brand',
        [
          [
            'ATOM',
            Object @Alleged: ATOM brand {},
          ],
          [
            'BLD',
            Object @Alleged: BLD brand {},
          ],
          [
            'IST',
            Object @Alleged: IST brand {},
          ],
          [
            'Invitation',
            Object @Alleged: Zoe Invitation brand {},
          ],
          [
            'PoC26',
            Object @Alleged: PoC26 brand {},
          ],
          [
            'USDC',
            Object @Alleged: USDC brand {},
          ],
          [
            'USDC_axl',
            Object @Alleged: USDC_axl brand {},
          ],
          [
            'timer',
            Object @Alleged: timerBrand {},
          ],
        ],
      ],
    ]

> Under "published", the "agoricNames.vbankAsset" node is delegated to chain governance.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.agoricNames.vbankAsset',
        [
          [
            'ibc/FE98AAD68F02F03565E9FA39A5E627946699B2B07115889ED812D8BA639576A9',
            {
              brand: Object @Alleged: USDC brand {},
              denom: 'ibc/FE98AAD68F02F03565E9FA39A5E627946699B2B07115889ED812D8BA639576A9',
              displayInfo: {
                assetKind: 'nat',
                decimalPlaces: 6,
              },
              issuer: Object @Alleged: USDC issuer {},
              issuerName: 'USDC',
              proposedName: 'USDC',
            },
          ],
          [
            'ibc/toyatom',
            {
              brand: Object @Alleged: ATOM brand {},
              denom: 'ibc/toyatom',
              displayInfo: {
                assetKind: 'nat',
                decimalPlaces: 6,
              },
              issuer: Object @Alleged: ATOM issuer {},
              issuerName: 'ATOM',
              proposedName: 'ATOM',
            },
          ],
          [
            'ibc/toyusdc',
            {
              brand: Object @Alleged: USDC_axl brand {},
              denom: 'ibc/toyusdc',
              displayInfo: {
                assetKind: 'nat',
                decimalPlaces: 6,
              },
              issuer: Object @Alleged: USDC_axl issuer {},
              issuerName: 'USDC_axl',
              proposedName: 'USD Coin',
            },
          ],
          [
            'ubld',
            {
              brand: Object @Alleged: BLD brand {},
              denom: 'ubld',
              displayInfo: {
                assetKind: 'nat',
                decimalPlaces: 6,
              },
              issuer: Object @Alleged: BLD issuer {},
              issuerName: 'BLD',
              proposedName: 'Agoric staking token',
            },
          ],
          [
            'uist',
            {
              brand: Object @Alleged: IST brand {},
              denom: 'uist',
              displayInfo: {
                assetKind: 'nat',
                decimalPlaces: 6,
              },
              issuer: Object @Alleged: IST issuer {},
              issuerName: 'IST',
              proposedName: 'Agoric stable token',
            },
          ],
          [
            'upoc26',
            {
              brand: Object @Alleged: PoC26 brand {},
              denom: 'upoc26',
              displayInfo: {
                assetKind: 'nat',
                decimalPlaces: 0,
              },
              issuer: Object @Alleged: PoC26 issuer {},
              issuerName: 'PoC26',
              proposedName: 'PoC26',
            },
          ],
        ],
      ],
    ]

## contract starts; appears in agoricNames

> Under "published", the "agoricNames.instance" node is delegated to chain governance.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.agoricNames.instance',
        [
          [
            'ATOM-USD price feed',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'VaultFactory',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'VaultFactoryGovernor',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'auctioneer',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'economicCommittee',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'feeDistributor',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'provisionPool',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'psm-IST-USDC',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'psm-IST-USDC_axl',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'reserve',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'reserveGovernor',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'scaledPriceAuthority-ATOM',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'walletFactory',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'ymax0',
            Object @Alleged: InstanceHandle {},
          ],
        ],
      ],
    ]

> Under "published", the "ymax0" node is delegated to ymax0.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    []

## remove old contract; start new contract

> Under "published", the "agoricNames.instance" node is delegated to chain governance.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.agoricNames.instance',
        [
          [
            'ATOM-USD price feed',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'VaultFactory',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'VaultFactoryGovernor',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'auctioneer',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'economicCommittee',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'feeDistributor',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'postalService',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'provisionPool',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'psm-IST-USDC',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'psm-IST-USDC_axl',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'reserve',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'reserveGovernor',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'scaledPriceAuthority-ATOM',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'walletFactory',
            Object @Alleged: InstanceHandle {},
          ],
          [
            'ymax0',
            Object @Alleged: InstanceHandle {},
          ],
        ],
      ],
    ]

> Under "published", the "ymax0" node is delegated to ymax0.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    []

## open a USDN position

> wallet.current

    {
      body: '#{"liveOffers":[],"offerToPublicSubscriberPaths":[],"offerToUsedInvitation":[],"purses":[{"balance":{"brand":"$0.Alleged: Zoe Invitation brand#board0074","value":[]},"brand":"$0"}]}',
      slots: [
        'board0074',
      ],
    }

> Under "published", the "wallet" node is delegated to walletFactory.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    [
      [
        'published.wallet.agoric126sd64qkuag2fva3vy3syavggvw44ca2zfrzyy',
        {
          status: {
            error: 'Error: "nameKey" not found: "ymax0"',
            id: 'open-1750935446458',
            invitationSpec: {
              callPipe: [
                [
                  'makeOpenPortfolioInvitation',
                ],
              ],
              instancePath: [
                'ymax0',
              ],
              source: 'agoricContract',
            },
            offerArgs: {},
            proposal: {
              give: {
                Access: {
                  brand: Object @Alleged: PoC25 brand {},
                  value: 1n,
                },
                USDN: {
                  brand: Object @Alleged: USDC brand {},
                  value: 3333000000n,
                },
              },
            },
          },
          updated: 'offerStatus',
        },
      ],
      [
        'published.wallet.agoric126sd64qkuag2fva3vy3syavggvw44ca2zfrzyy.current',
        {
          liveOffers: [],
          offerToPublicSubscriberPaths: [],
          offerToUsedInvitation: [],
          purses: [
            {
              balance: {
                brand: Object @Alleged: Zoe Invitation brand {},
                value: [],
              },
              brand: Object @Alleged: Zoe Invitation brand {},
            },
          ],
        },
      ],
    ]

> Under "published", the "ymax0" node is delegated to ymax0.
> The example below illustrates the schema of the data published there.
> 
> See also board marshalling conventions (_to appear_).

    []
