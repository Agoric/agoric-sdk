{
  "moduleFormat": "endoZipBase64",
  "endoZipBase64": "UEsDBAoAAAAAAAAAAACN1FNMWbkBAFm5AQAUAAAAY29tcGFydG1lbnQtbWFwLmpzb257CiAgInRhZ3MiOiBbXSwKICAiZW50cnkiOiB7CiAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMCIsCiAgICAibW9kdWxlIjogIi4vc3JjL2V4YW1wbGVzL2VseXMuY29udHJhY3QuanMiCiAgfSwKICAiY29tcGFydG1lbnRzIjogewogICAgIkBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAiOiB7CiAgICAgICJuYW1lIjogIkBhZ29yaWMvYXN5bmMtZmxvdyIsCiAgICAgICJsYWJlbCI6ICJAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wIiwKICAgICAgImxvY2F0aW9uIjogIkBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGFnb3JpYy9iYXNlLXpvbmUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9pbnRlcm5hbC9zcmMvdXBncmFkZS1hcGkuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy91cGdyYWRlLWFwaS5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3N0b3JlIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvc3RvcmUtdjAuOS4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy92b3ciOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy92b3ctdjAuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy92b3cvc3JjL3Zvdy11dGlscy5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3Zvdy12MC4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy92b3ctdXRpbHMuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy92b3cvdmF0LmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvdm93LXYwLjEuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vdmF0LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2NvbW1vbi9vYmplY3QtbWFwLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2NvbW1vbi12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9vYmplY3QtbWFwLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2NvbW1vbi90aHJvdy1sYWJlbGVkLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2NvbW1vbi12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi90aHJvdy1sYWJlbGVkLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2Vycm9ycyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXZlbnR1YWwtc2VuZCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL25vLXNoaW0uanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXZlbnR1YWwtc2VuZC91dGlscy5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vdXRpbHMuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbWFyc2hhbCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9tYXJzaGFsLXYxLjYuNCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vcGFzcy1zdHlsZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXNzLXN0eWxlLXYxLjUuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vcGF0dGVybnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcGF0dGVybnMtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wcm9taXNlLWtpdCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNTU2ZDYxNWQ2ZmE2NDM4YzEzNDVmYTBhZDJiODA0MjMzMDE4MDcxYjg2NGU1ODJhYTQ4YTgxNTk2NmU2Y2QyN2FiNWI2NTQxY2E4MDFmNDQ5NDEyZmI4Njk1MTk3YjgzMmEwNTYxMGZmZjVmZjJiNTZlOGIyNjRlZDViNWI4OGIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvYXN5bmMtZmxvdy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvYXN5bmMtZmxvdy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjMyMTNlM2IwMWQzYWFjOWMzYzk2MzQ2ZTA2NjNkMDMyYjU5OGY3NTg0Y2JiNTI0ZGQ3MWYyNjJlOWNkOWM1MDM2ZGRkYzU5OTQ5NzE4OWQ3NGMxZTc2YWI5NmEwMzA4ODAyNWY0M2JkZDA0OTljYjMyYWIyZmFiNjJkNmQzN2ExIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2JpamVjdGlvbi5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvYmlqZWN0aW9uLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMThiM2MyYjAyMDUwMGI0OTRjMTM1YWQ5NjI5NmU3MmRhNDhjMTViMzgyMjRkMGM4MTAyNTBhNGU3MmZlZjc4YTJiNTg2YWU0OTAyYzU2NTQ4NTk3NzVkYTM3NTNlMGNkNmY0NDYzMzI1ODg3MzgxZWRkMThlYjY0ZDliNWY1NzUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29udmVydC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY29udmVydC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjE1ZmYwMDgzNWU3ZTljN2Q5NjUyMzdmNzgyNjQzNDUxZmUwY2Q1YmEzYzRlMWRmZDhlZmRiYTg4NTJhZjNiZjhiNzk3YjE4NzE3MmZhMjFiMDZmZjJiNDVkNDcxYTY0MTE5YmJmYjBlYjY5MThjODY3ZTdlMzQxZjRhZmY4ZTBlIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2VuZG93bWVudHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2VuZG93bWVudHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlMGNmNTgxZGNmNmVmODc3ZjZmMGI3MDExYmE0NzJlMjJhYzRmYmFiOWNjYzIxZDhlMWY2YzNkOTRhOTdhZGIwYmJjZmMzZjBkMDU0MzE2MmNkZmE3ZWYxMTlhYzg0Zjg1MDg3NzBkN2I2NzBjZTMxMTBkNGE3ODQxNGVjNDYyZSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9lcGhlbWVyYS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZXBoZW1lcmEuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIwMWRlNzRmNjNlNjNiODAzNzUyOGY0OWIyMGE4YTYwYWQwNGVkODQzYWE1OGU4YzY1MjcwOGU1Mjc4ZGIxZDhlMWQwYjI3OWNiMWQ1YjU2N2M0YWQxMDNjNzdmOTY2MTM4MWI4ZGNiMDViNTIyYTk1NjhjYmI1ZGVkNDY4ZjFhOCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9lcXVhdGUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2VxdWF0ZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjY2ZmFjNTRiYTQ5NjE2YzdmMGZmNzUxYmJjZTYyYjRjNmJlMGM0NDFlNmVkYjBjYzgyN2Q2NDE5YzYzYzU1YmNmMDRmZGJhOGY2N2U1ZGQzZWVhYjZlNzgxY2NiNjM5N2ZkMTI1Mjg5ZDllY2Y1ZGQxYWQyZTY3MmI5YzE5ZjYxIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2xvZy1zdG9yZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbG9nLXN0b3JlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZTc0ODE4OTdjYzNiMzUzNzAxMjU4MjUyNmM5MWExMjkzNmFiNTViODZkMjI1YWE4NDUzYzJiNDJhM2ZiM2UzMzFiMTYzMDQ5MzcyMTYyYzJjNDJhMGFmMTY1OGRkYjM3NmZiODUzMmY3M2NkM2Y1ZmJhZmZmMWY3OTRmYmUzM2MiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcmVwbGF5LW1lbWJyYW5lLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9yZXBsYXktbWVtYnJhbmUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlNjBmNzNkNmQ3YzljMjEyN2YwZTI4YTE4ZTI2ZDAxZjhjOGM5MTdlYTVmMDY2MGQxN2E4YTljMzk2MzM3NTQwZjg3N2YwNWUyZTNiNDMyOTczYWZkN2E5MzBlODNmMWFjOTJhMjU1NDE4YjBlNDZjNzEzOTJiMDJhYmIzYmM5MiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlLWd1YXJkcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZS1ndWFyZHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIxNjBlNDg0YmYyN2I3ZWExNzk0NDZkNDA3ZGNiOWNhNjFmNDU2Nzc4MGQ1NzNhNWI2NDNmN2IzZTQ2NTkwNjQ1Mjc0MDFiZjI4Mzk5NjU0NjVjNzBkMzNmYmMwYTlhZjM2MTEzNGFiMjhmMzYwZDNjY2NlZThkYWJjNTIwNmQ0OCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlcy1pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZXMtaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIxYWJlMjc1YTY1ZWQzMDBiMTFkOWQxNzZjODdmN2RmMjViYjg0NzRlMGQzN2FkNjk5ODdkNWFkMTI2ODMwMzU5MDQyNzZiNjUxNGIxNjZlMTMxNTY0MzZiMDE4NWJmNmFlZTdjMWYyYzVmNzEzNzQwMTczNTIzZmJmMTgxNGFhMSIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wIjogewogICAgICAibmFtZSI6ICJAYWdvcmljL2Jhc2Utem9uZSIsCiAgICAgICJsYWJlbCI6ICJAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAiLAogICAgICAibG9jYXRpb24iOiAiQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBhZ29yaWMvc3RvcmUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9zdG9yZS12MC45LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9jb21tb24vZnJvbS11bmlxdWUtZW50cmllcy5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZnJvbS11bmlxdWUtZW50cmllcy5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2V4byI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9leG8tdjEuNS45IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9mYXIiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZmFyLXYxLjEuMTEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXNzLXN0eWxlIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vaGVhcC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJoZWFwLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMzJmYzk2YWUyZmUwODY2ZTY3ZDdhMjg2YjUyMzQzMTk1OGVkZGE2NmU2MDBiMmJjNGM0NWNmYzFkMmM2MjFmNjQ0MDNmYTAyYWI1NWFmNjc3MDg3ZjIyNjBkMmI0ZTZkNjVkMzY2Zjk4NzhhZGU1OTY3ZTllMDlhNWY2NjI4ZGEiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhwb3J0cy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZXhwb3J0cy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNhYjhiNDMwZTkxNGY3YzQwNzNjYzVmMDFmM2Q1MGRmNTg4YmFiMGMzOWY4Yzg1NzBhZjczZjg4NzBhNjkyNDg0YWE1N2MxNTJjNzE4YzkwNjdlOGExOTM3ZTI1YzRmY2IwZmY2YmEwODRhZTBiZjZlNDM3NmEzMDY0ODIwNThmIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2hlYXAuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2hlYXAuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1MWUwM2Y2YzUyMGU3YzgzN2JlMTYxZmY3ZGU2ZTYyOTYzMjY3NTBlZThhMzk5NDQ4NWE5ZmU4N2E4MzU5NzRjYmU2YjU1ZTUzZmZlYTlmOWZiNTM3M2E5YTNmMmYwY2E2OTM2OGZiMDIxZTg2ZTAwMGRhZWFkNDgzOGJlMDQwMyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0NWJhNzkxNTNkYjg4M2RlYTA4MDhhOTA2MzZkNzE2ZGYwMzRhNzA2YjdmODVkYWQzNzc3MzI4NTA5YWM2ZmRmOWU5NTRhY2Y5OTk5OTMwOTU3NGYxM2MzZjdhY2M5NjEwMzliOTQ0OWI4MzU4NDNkZDlkOTk0NTUzYWQ3NzAyMCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9pcy1wYXNzYWJsZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvaXMtcGFzc2FibGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2MWVhZjcxMjhjZTcxYzlkNTVmOTAxNDBhMTJkNjIxY2EzZTg1ZmM1NzUxZmNlMjRiZWZiYjQyNjkzMzZhM2RjM2MyNWUwOGYwYmM1NTljMGMzMjg4ZmE5ODYwODdhMzIxYzBhMTg0MmFhMDVhNzc1ZDIxMTBmNjg0NDdkNTdhYSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9rZXlzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9rZXlzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYTg5ZTIzOTRmN2RhMWRiNzc0YmI3ZWQwMzE4NzQwNTgzNGQ3MTgwNTVjMTJkY2M1ZmFlMTUxMDZkMjI2ODZiNTZjMzU4ODE5Njk3MzA3ODM3NDkzMDkxNGQ0NDg0M2IxNzhlODAwZGU0Mjk0ZDk0NDdlY2FmOTI1NDFjZGZjOGMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWFrZS1vbmNlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9tYWtlLW9uY2UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1YmY4OWUyMzhlYzk2Zjg1ZDQ1Mjk3OGZmZmY3NGI5YzU5YmFmMTEzMDYwNjlmMjY2MWM0M2EwYzJhNWQxOTVkNjcwZDFkZmM2YjA5ZWU2Yzc1NDljZThhMWM1OWI3ZjRhYjczNmUzZmMzMzAzYThkM2VlOTZmYzE0OTZkNzNjMiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9wcmVwYXJlLWF0dGVudWF0b3IuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3ByZXBhcmUtYXR0ZW51YXRvci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjY3Mjc2N2ZkZGRjNTlhMDg5YTk3MDI0ZjRjYzRlMTI2YTlkMzc0YzljYzQyNGI4MTUzZWJmMzNjNjVhM2Q1MjkxYTI3YjZiMmJlYzEzNWIyZTU1Y2E4YTBkMTk4NmE1YTkzMGNkM2VmY2MwMzIzMjdkYmUyNzkxODIxN2RjODU4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3ByZXBhcmUtcmV2b2NhYmxlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9wcmVwYXJlLXJldm9jYWJsZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImVlZjZhMjhkOWI0ODZjMWE5YjcwZTk5YTU0YTFlOWEyYzQxYWI5YjY3YTEwNWU2N2I4YmY1YWU3YjczOTk0MjBhZDMwNDdhM2YzMTRhMmYwOTVjYzhmMDhiNTdmMWJmNTZmOWNhYjE0MzkzMjhlYTZkYzhhOWExYjliMWEwMTE4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3dhdGNoLXByb21pc2UuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3dhdGNoLXByb21pc2UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI5YzY1YmI1NWZlZDg0ZWU5ZDU2ODExMDdjZDYxNzBhZTJiN2JhMjViY2MxNWNhZjRjNWI5MDliMjFmYWZjNThkMjg4NGY2MWFlMjZkNTk3NjY2MDgwODlkZTc4MzUwZmM3ZTMzNGY1NjJhYjNjZDRmYTZhYTUyZWVkZGRkN2U0ZCIKICAgICAgICB9LAogICAgICAgICIuL3pvbmUtaGVscGVycy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJ6b25lLWhlbHBlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI5MWZiOTU3YWIyMzZmN2M5M2MzOTlkNmI4OTgzNjlmZjEyMzBhYTA3YTA5ZmVmZWFhNDU0OTdmNGM2NzdiOTdiYmVmNDEwZGM4ODk1YTAzZmNiYTY1YjRiYzUxNjNlZjQyYTMyNzhmNzcwZjI2NzBhNTZlODkzZjRlZmJlMzllZCIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wIjogewogICAgICAibmFtZSI6ICJAYWdvcmljL2Nvc21pYy1wcm90byIsCiAgICAgICJsYWJlbCI6ICJAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAiLAogICAgICAibG9jYXRpb24iOiAiQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBlbmRvL2Jhc2U2NCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9iYXNlNjQtdjEuMC45IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJiZWNoMzIiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiYmVjaDMyLXYyLjAuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZGlzdC9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJxdWVyeS1zdHJpbmciOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAicXVlcnktc3RyaW5nLXY5LjEuMSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2FkZHJlc3MtaG9va3MuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9hZGRyZXNzLWhvb2tzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZmUxZTNhODAzYTQyYzQyMmYxOWJlMGVkYmJjMjQ5ODZiODZlNzE2Njg2MTljN2NkY2MyMTcxMzc5ZDMxNDgyNzVmZjgyOWVjMmY1MzJiYWViMzc1ZDBiNDBmNTMyMGI1OTFiYmNhNWNmOWQ2YWQyMDRiNGMzODQyNDNlODljODEiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vYmluYXJ5LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9iaW5hcnkuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzNWE3Y2ZlNWJjYTJkMmYxNTdhYjczYjY1MDU3MThkMGM4YjkxMmJhY2Q5MGRjNmRiMzAxNjVmNzBhYTgzNTI5OTVkZjFjY2MyNjY0NDhlZGQ0NDY5ZTRmYzNmNDM3ZDE3NmIyNWMyYjc3NzBhMTBkNmVkOWM5ZDFjOTI3ZGRjNCIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jaXJjbGUvY2N0cC92MS90eC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vY2lyY2xlL2NjdHAvdjEvdHguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlYjU3YjcxYjJlMzY5NjBiZjRmMzMzYTMzNTY2OTJlNGMzNzkyMWU1YWUzODcwNTkwMWIxZmRjNDRjOGNmOTAxMDQxZTc3MWM1MzBlZGIwZjFkZGFhNTJiNzgxYzYzNmEyYmRjZTMyZmE0M2IwZGViNDMzYjYyZmJiYzBkOTRlZCIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvYmFuay92MWJldGExL2JhbmsuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYW5rL3YxYmV0YTEvYmFuay5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjA5M2E4NDM4MDc4NzBhOTM4ZWQwNmNjMDhlZTE2ZDY4ZTA2OGEyZjYxZWI0MjZhZGYxNjM5ZDc1NjgwMGRkOTQ3NGU0MTIwZjcyMzA3MWJiZmZlMDU5OWFkYzhjMWFhZDc2NjcwYjRhN2Q1NzRjN2FhMWIzMmYxMjExNTY4YWQ4IgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYW5rL3YxYmV0YTEvcXVlcnkuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYW5rL3YxYmV0YTEvcXVlcnkuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJkOTNkMWZkOTAzODU2MDFjZjZmNGQyNDBiYjQ2ZTcxMWRkNzU4YmM0Y2RmZmRlZGJmMGY3MDkzNzlmZjA3NDIyNjdmMjdmZmYxODU5YmU1OGQ3NzY2YWZhNTJhNzc0YzYyZTI5ZGE0Zjg3ZjcwNmQ4NWFiMTBiZjJjOGNkMGUyMyIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvYmFuay92MWJldGExL3R4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9jb3Ntb3MvYmFuay92MWJldGExL3R4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNDE2NDgyNTk3ZTY4NGM4Y2Y4NTU4ODE4OGEzOWYyYjZkOTc0YTEzMzJhNjcyM2U5NDY3YTAxODljMzkyZDg3NTk5Y2JmNTU0ODliODA5NGM3Mjk2NDJjNzY3MDJmMDVlOWM0YjcyYjIwN2UxYzJhMDcwODY2NjY3NWVlMjAwN2IiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vY29zbW9zL2Jhc2UvcXVlcnkvdjFiZXRhMS9wYWdpbmF0aW9uLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9jb3Ntb3MvYmFzZS9xdWVyeS92MWJldGExL3BhZ2luYXRpb24uanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJjMTQ5YTA2NmE5MjFlOGJiMDliYThiYjJiOTM1YzE2NDhhZTY1ZmU1YmE1OTFhMTMxOTcxZTg1NGJjNWMyMjFmZTllMzY3NDJkOGI1NDQyYjlkY2ZiZjFjODk3NGNjNDg4MjA1OGE4NzM2MGZiYjYzNzIwMDNlMjNkMzk5YjYzNCIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvYmFzZS92MWJldGExL2NvaW4uanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYXNlL3YxYmV0YTEvY29pbi5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjVmNjEyMzM4MzUzNjQ3ZjM2Nzk2NzFmMGQ5OTFhNzBlMzdiZGI0NTYwMmViOGFkZThmMTUyNzAwYTdkNjZkMGVmYWFkOTBjMzMyNGIxNjYzMjM3ZmM2ZjMxMzdhNDg2NzNkOTJlZjA0NmJkNDk0NzFiZjNmZDNmY2ZjOGFmMzA2IgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS9kaXN0cmlidXRpb24uanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS9kaXN0cmlidXRpb24uanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1YWI0OTA2MzRlYTZmNDUwMmZhOGJjNDVhYjA4ZDc4NjVjOGI2MmJjYmYwYWIyOTdiMWU4MzZmZjM3ODRhYzc2ZjA3NzZjZmEwODY3MjM3MGY5MGY5YzQzZTU2NjBkOTA5ZDhiNTM2NTA2NzZjYWIyZWYwYTY0Y2JkZTE0YmEzNSIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvZGlzdHJpYnV0aW9uL3YxYmV0YTEvcXVlcnkuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS9xdWVyeS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjcxZDg1N2ZlYzI1MDNhMjdlMWU0MDdiODhkYTNkNzc3N2M4OGE0NjkzNDIwOGE3ZWZlOGE2ZTljYmUyNmM1MjA5NTc2Y2ZiNzE4NWZhNGMzNjIyYzc1MzViZWVhNDE1NDdmYWU1NzM5ODUwMzkzZWRkM2IyMDY3MGY1NThlYzhlIgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS90eC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3R4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZDc2MDJjYWVlNDkyMjJkZWM0MTkyZjZlNTJmNWEyNDc5ZTJiN2YxNjhjZmQzMDYzZDM1ZGI1ZDE0YzdhM2E4YmY2ZTA4NWQxYjFiODI5ZGY5NjQzMDJmYjRhMGQ3ZTg0M2E4Y2YwNWJhYmU4OGIyN2FlODdiNGEyOThmMjZjNDQiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9xdWVyeS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9xdWVyeS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjAxNmYxYThjZTgzYWJiNDU5YzkwYzY5YzhmYzZmMmIxODkwMTExNWUxNGM3ZGYwZjg2MTY5MjZiYWY2YTc1NDBkNmRlNTJlNGY5NTFmNjZhZTg0ZDcwY2ExZjJiNzRkZDlmOWNkYzUyMTZmYzdjOTU2YmY0NWFmMjhmNjE2OTRhIgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvc3Rha2luZy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9zdGFraW5nLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYzA4NGI4NjhjZTRlYjA5NGEzNmUzMWM0N2Q4NDVlNDIxODk2NjE3MTY3ODAyNTExOTI4ZjQ5MGY0OTVlYTE4ZmNkZGE3NDBmNWYyOGI1YzcxM2FhYTQ2M2Q4YjUxMmExZmNjZDA2MWZkYjcwYjhiODA0NTY1MDBmMzYyMGQyNWEiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS90eC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS90eC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImExYjVmOWYzNDljYTRhYjMyZjdiMzYzNTI2MTA3YzBkYTEyYzE4ZjExYTA5MDBjNTM1Y2UxOTQ4YjI5MzZmMWJjNTM5MDYwNWU3NDA1MjlkMjRjYmRmNTY1NDhiMmFlMDM0OTliMzdhOWIxMDljNTI5MzcxMjhlNzU4MWM5ZDE4IgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy91cGdyYWRlL3YxYmV0YTEvdXBncmFkZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vY29zbW9zL3VwZ3JhZGUvdjFiZXRhMS91cGdyYWRlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2ZmMTBhMjY1YzExYWY1MGM2YmI3ZjZhODIxZjg0Mjc1YTc5MGFlOGIyYzY3ZTVjYThiMGI1NmZiZTM0YzdjMmJkZTllMjg3OWFkZmEzYmRiOGUyNDY4ZTY3NDA0ODg5NWRlM2RkNTYxZTExYmFkMmQ3OGVhNDBjMGRiY2ZhNjciCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vZGVjaW1hbHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2RlY2ltYWxzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZjQyYmU1NTQ3MjM4M2U3ZThhYzA4ODg0ZmI0YWM3Yzk1YzA3ZGU1MWVhYmU4NjZhNzQwNDcxMWUwZTZlNzU4NGIzM2Q3ZGIxMDkxNTU3ZjNhOTU1MWE0NjY2OWVlMmI0OTViYzk0OTY5OThkZDAzYTcyYzBkNGRlOTVjODQxYWEiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjc1ZjU4M2M0MjYzOTE1Mjc4YmUyYjlhNDhmNmVlZTNjMDQ5Nzk0Y2FkNTZkZGVkMGVmZTU5MmY3YmNjMTliOTdkNjNlYzk0NjIyYmM1NTYwYWQzM2ZmYjNjZTFlMTkyYTc5ODE3OGZmYmEyY2U0OGVkOTNkZTJlNDM3NzM4MjM3IgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2dvb2dsZS9wcm90b2J1Zi9kdXJhdGlvbi5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vZ29vZ2xlL3Byb3RvYnVmL2R1cmF0aW9uLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMGJkNmNiZjY1ODhiOTk1MWRiMzA1NTA0YmQ4YzUyNWE5MTVkZGNhMWFkMWZmMDc5NzkxOTYzYjc4M2E1ZTdiNjE4MDk5YzY3MTBhYWI3ZTdhZjA0NDdmZDA0NzU2ZjU5Y2E2ZjVhNDIwNGExOGZlNWZjYjQ3YTNlYjZlMTA3MWUiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImZjYjRiZmI2YWM5MzFkNmI0MzViODgwNmVlNTY4ZDZlZGVhNGFiZTM3MTEzZDg5NzkwODU3ZTljYTBmZDg3ZjFmNGNjZTRlMTYwMDVmMTdkN2YzMDgwYTJkNzcxNjQ3YjhmZjJmMGFlYWZlY2RmZDdiNmQ0NmVkZTYzYjFjODU0IgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2hlbHBlcnMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL2hlbHBlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlYzFlZDBjMWI0OWZhNWE3ZjVlOWM5OGViNjYzYzFjMDhmZTg5MzQzMDI5ZDEyYmMzNDE5YTlhY2EzODliY2E0ZWZmOTAxOTk1YjFhYjU1OTIyZTJhYzRiMjcyMjVmYzEyNmY1MDQ2MDM1MGQyM2M1YjdkY2MzMjk3ZThhM2Q1YSIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9pYmMvYXBwbGljYXRpb25zL3RyYW5zZmVyL3YxL3R4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9pYmMvYXBwbGljYXRpb25zL3RyYW5zZmVyL3YxL3R4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNWNkZTg2NWVmOTJlNjZjMGI1YTIxZDRkNmE5NTg3Mzk0YjdkYzMyOWNjNmQyOGE2NzZkMTFhYTU4YTAxZTE2MGU1Y2VlYTFmMzUxOWYyOTc5ZDE0OTM3MjIwNTA0MTMwNTIzNDM5NzRlOGRjOGM0MGI4YjdlY2RhNmJhNThlYzYiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vaWJjL2NvcmUvY2xpZW50L3YxL2NsaWVudC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vaWJjL2NvcmUvY2xpZW50L3YxL2NsaWVudC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImJhZjE1N2RhYjE0YjZjYjdhYjNlNzg3MTRlMzJkZjkxNDFlYzlkODc0NTEwMjMwNTc5MjZiYjQ5OGZlZGYwNjk3NzI4MGY5Nzk3MTdiOGJlOGZmM2Y5NTZlNTcxMjAxZWIyODA0YmZjODhhOTk3YjM1OWNkM2NiYmMwZDlhM2NjIgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL2pzb24tc2FmZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vanNvbi1zYWZlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2FiOGI0MzBlOTE0ZjdjNDA3M2NjNWYwMWYzZDUwZGY1ODhiYWIwYzM5ZjhjODU3MGFmNzNmODg3MGE2OTI0ODRhYTU3YzE1MmM3MThjOTA2N2U4YTE5MzdlMjVjNGZjYjBmZjZiYTA4NGFlMGJmNmU0Mzc2YTMwNjQ4MjA1OGYiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vc3RyaWRlL3N0YWtlaWJjL3R4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9zdHJpZGUvc3Rha2VpYmMvdHguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0NTllY2QzYjY0YWM5ZTFhZDQzOWFmMDljOWI1OGVlOGRkNTg3ZjlkZTJlN2I3YTY3MWJkODU3OGNhNmJhMDU0ZWUyZWJkMzZjMzdlNDg5MzYzYzI0NDQ1ZWM3OGMwZjUxYmQ5ZTNkMDY5ZTY3M2Y4NDFmMmU5OGFmZGJiOGQyNyIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi9zdHJpZGUvc3Rha2VpYmMvdmFsaWRhdG9yLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi9zdHJpZGUvc3Rha2VpYmMvdmFsaWRhdG9yLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiY2FmYmJkMTc5ZmRjYTBlNDZjM2NmZTZiOTRmNmI4NTEzZDllMDFmZDE4YTEyZTE3NGQ5ZjlmZmNlMTFlMGNmOGE0YmY1N2Q3ZGVjMDEyYzlmM2Y5MzI2OTllYWZhNjIwNmE4NjNmNWFkZGY0NWUyYzU0NzBmYmMxZGEyNGM3MDUiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vdGVuZGVybWludC9hYmNpL3R5cGVzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi90ZW5kZXJtaW50L2FiY2kvdHlwZXMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3ZmFlZmJmMmMyY2M2OGUyMzIxMzlmODhhYTk1MDJjMzIxYWEzMjhlNjQ2NmQyNTk4OGJlNTM3ZmIyNmY1ZTM2MzY2NGFhNDdhYjljYTkyYWY1OWRhNTI1ZmFkMjc1Yzk0MGI3OGVlN2NlZTY1NTc5NTcwNGIyMjhmOTZmMzQyYSIKICAgICAgICB9LAogICAgICAgICIuL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L2NyeXB0by9rZXlzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi90ZW5kZXJtaW50L2NyeXB0by9rZXlzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYzRmMzE0MWMyNGY3ZTU5Y2Q4OTkzMTY1MTUwMGY5OWZmNGQ3MTdhMWY1MjkyMWZiZmNlZjZlMmIyOWJkMjA5YWEyYmQ4YWY0Njg0YmQ3YWU1OTNjYTVjNmZmNmFmZDdlODM4M2MxMjczOWVhZTA5NjU1NTNkNjYwZDk4MjBhNTEiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vdGVuZGVybWludC9jcnlwdG8vcHJvb2YuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvY3J5cHRvL3Byb29mLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMmJlY2YxMWE4ZGJlOTVmOGQyMThmZTE4MDA1Mzc5YjkzZWIwYzcyNjM2ODQ5YTczYWNiZDZjMTU4NTI1ZTA3MzVkNzFmYjcwNDQyNWY5NTc2MDRjYmZiNzAzYTgwY2I2YjdkMDY1ZTU3MjFmOGVlNjY2YzA2OWJlODE5NTcxNjAiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vdGVuZGVybWludC90eXBlcy9wYXJhbXMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdHlwZXMvcGFyYW1zLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZjhlMmY3MThjOGNkMDZkMzhmODk1MWVmNjRlMWU1YmU2MjUzNGQwZGU3NjkwMWZhNmY5Y2IyOGMwNTVlODhiOTE0YWZmMmU4YWNhOTg5OTU2YjBhNzc0Nzk1NmM5OWNjYWJjODFiOTFhM2MzYjQ5MzY4NjkyNjE3MWEzZDZkYzciCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vdGVuZGVybWludC90eXBlcy90eXBlcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vdGVuZGVybWludC90eXBlcy90eXBlcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImY0ZTg1OWViMzQxY2RhMzY0YjQ3YjVhMjdkOWU2YjYyY2U2NTlhNjZkYTUyZTYyOGZkNGFjZGRjNDdkYjA3OTM0ZTJhNWQ2OTM0MTRkOGUxYjhmZjdhMDRhMzc4MTExZmZjMjQ3YjBkYTJhYjFhNTVlYTI4OGZmNWY0MzMxZTVjIgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdHlwZXMvdmFsaWRhdG9yLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvY29kZWdlbi90ZW5kZXJtaW50L3R5cGVzL3ZhbGlkYXRvci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjg4YjY4MGRlZjVlODVkNGI2MDBmNzQ5MTIwZDYwYzQ5Zjc0YzVlZmIzYzU2MjI5Y2U3MjQzODI5OTVlZjc4MTdkZTNiN2Q5M2Q5MTM5NGZjZWQyYThhNDgwNTRiZDRlYTZhM2JmMDAzYzViMDdiZTFhMmM0NjRlZWY2MzkwYmYzIgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdmVyc2lvbi90eXBlcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vdGVuZGVybWludC92ZXJzaW9uL3R5cGVzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYzg4ZGZmM2FhZTA5MzBhNjFmOTk2MmE3OGFkMjU5OTM0MDY5MGZiNWJlNDVkODkwMjM2ZjIzN2YwMWQ2YWQ0YjQ2NjgzNWJjZjA2MDcwNmIzOWFkNTUzZTkzNjEwZjdiZmQ3NzAwMTdjMGU5ZWVhZTk0ODFmODZjN2RhZTk1NGUiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2NvZGVnZW4vdXRmOC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vdXRmOC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImM4ZTRkMjUzNTdmMTY2N2QzNmQwNjNiZGJlYzg3MDYzYmRlZjY1MmM2OTI2YmY3YThiMGRhNDJiM2I0NjExNWRmYmZiMDFkZDczNGYxYTY0YjNiN2Y5MGJlYzhlMjg2ODliMGQwMGVlNmUyYjkzMmVlZDM2MGEwMTczN2U3YjFiIgogICAgICAgIH0sCiAgICAgICAgIi4vZGlzdC9jb2RlZ2VuL3ZhcmludC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkaXN0L2NvZGVnZW4vdmFyaW50LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYTI2ZmQ4ZGQ0NWRiYzg1MDY4YzVmYTUyZDJjZjdjMGJmMDFkNWRiMTYwOWZhNWJiMzAxOTZlOWQ1NGMyOTgwMTFiOWFhZmI5ZjU4ZmZmMWNlZjkxNGFlZWM3NWRmOWZmOTA5MjU5YTU2NmM1YmVmYTYwNWQ5OTNkYTcyNGI1ODUiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2hlbHBlcnMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9oZWxwZXJzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYWZjYTRjZDA0MmQ3NjVkZjMyZjM4ZDUxNzBiY2Q4MjM2NGNiOTc3YTExODVkMWM5MTZmZWQ3MDhmYTA5NmI2NmIzM2QwYzhiMjJmNGRjMGM4M2E2YzUwY2Y4YjdmNzFlYjQxMmU2MDk1NTdhNTE1ZjI0Yzg4ZDI4NTRmOTBhZWEiCiAgICAgICAgfSwKICAgICAgICAiLi9kaXN0L2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRpc3QvaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2YmU5NWQyOWYzM2NmNTgwZDliMDdkMmVjM2Q3OWVlZjJlYTk3MjYxNGVhNGViYWUxYTVmMzhhYWYxNWM5NjQyN2NkODA1MTFjNjVmNTc3ZWZlMjI5Y2Y5ZGY5NGIxZmNhNzJlMGEyNWRjNDYzODhlYjkxNWFmMjliNDg4ODIwMiIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGFnb3JpYy9lcnRwLXYwLjE2LjIiOiB7CiAgICAgICJuYW1lIjogIkBhZ29yaWMvZXJ0cCIsCiAgICAgICJsYWJlbCI6ICJAYWdvcmljL2VydHAtdjAuMTYuMiIsCiAgICAgICJsb2NhdGlvbiI6ICJAYWdvcmljL2VydHAtdjAuMTYuMiIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAYWdvcmljL25vdGlmaWVyIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvbm90aWZpZXItdjAuNi4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9zdG9yZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3N0b3JlLXYwLjkuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvdmF0LWRhdGEiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy92YXQtZGF0YS12MC41LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3pvbmUvZHVyYWJsZS5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3pvbmUtdjAuMi4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9kdXJhYmxlLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2Vycm9ycyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbWFyc2hhbCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9tYXJzaGFsLXYxLjYuNCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbmF0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL25hdC12NS4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Byb21pc2Uta2l0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2Ftb3VudE1hdGguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2Ftb3VudE1hdGguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3ODY5NzMxZTY1YzczZmYzZDc3MDg1OTdjNjllZmEwZjM4MzkzYmQ5N2M1YWM2MzBkZTdhNzcxMTQ4MzRmM2JjOWFmNTJkM2UzM2M1NGQyYzQ3ZGQ0Zjg5YjY4NmNmNzM1MDJhNjJlYmIwZDNlZTY4YjE3YTIxMzcwMTE1NzE2ZSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9hbW91bnRTdG9yZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvYW1vdW50U3RvcmUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIwZTBhYTgwOTEyZTQ1ZjQ5OGVhNzM2Y2ExNGJjZTg4NjJiMGQ0ZmJlMzBiODUzYWQ0ZDk3MzJjNmRiOWQ0ZjI4OTdmZTRmYjY2NDA1ZTM5ODA3MThlNmY0NWJhZThjMzU4MzBiZTZhNGY4MDg2ZjlmYmMxNzZkYzVlMWViOGZjYyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9kaXNwbGF5SW5mby5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZGlzcGxheUluZm8uanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1ZmFmN2I5MjEyOTU1ZTBjY2U1YThmNTE1YTc1YTViZWJkNjFiZjdmYTg1NTQ5NWVhMDRiYjIyNTUwMTgyNjU3YzA4MjBkMDcxZGUzZWQyOGE3NmZkZDBmNjk0OWRhMTlkNDBmOTJkZGQ4NGYwZGVjMmJmYWQzNTkwNDhkNzcwYiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmYWU0NjFlMDZhYTc5NDEwZWFhNzBlMTY1YzM1NDE2N2VkYWU3NTM0YmU5MjcwYWM0NTZmZDc5MjcwYmY3ZDhjYjIwNjE0MDEyYzUyODMzNTJjODI0MmRhMTdlYzVhYTc3ZmUwMmVkZDc3ZjlmOWIxNTkxOTUxOWRhY2ZkNDlhOCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9pc3N1ZXJLaXQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2lzc3VlcktpdC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjE1NWU1YTFmOTljMmQ0OGZiMjMzNzc3MGMzODg3MDk1ZjYzN2Q5ZGFjNjk5MWFkNGFmNzU3MDgxN2M2NjA0NzU3OTQ1YzhmODg1Mjg3ZmQ1ZmQzNjA0MDYwZWVlNjE4YjY5N2QxMjEyNDU3ZGE3MWQzMDllOGIyZmUzNDk5ZWY2IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL21hdGhIZWxwZXJzL2NvcHlCYWdNYXRoSGVscGVycy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWF0aEhlbHBlcnMvY29weUJhZ01hdGhIZWxwZXJzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOGEwOThjNGFlMGI4YzVhMTkwMzQ1ZGUzMDAyNWFiN2Q3ZDUwYTY5NGYzNWIxMDFjOGJjODZhZTkyMTk1N2M3NmQzMmNlZWE1NjM5ODk2Y2YyNDk5ZTg5ZDBkZjA2ODgyOTlhYzEwNzUyOWUxZmRlYTU0ZWNkNThhM2JmMWI4NjgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWF0aEhlbHBlcnMvY29weVNldE1hdGhIZWxwZXJzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9tYXRoSGVscGVycy9jb3B5U2V0TWF0aEhlbHBlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJhOWMxNGVjZTJmOTk2MjQ5NWNmYTY4M2VlOWViZjQyODhlOGUwMTYyYjM1YmJkYjZlYzM3OTgzZjVlOTFmYThhYjBlMjIxZDI3NWZjOTFlYjdmMTI0Y2M3ZDA4MzdlN2NjODEzYjg3M2VjMWQxYzMwZTU2Yzk3ZTBmYWRmMjc2MiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9tYXRoSGVscGVycy9uYXRNYXRoSGVscGVycy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWF0aEhlbHBlcnMvbmF0TWF0aEhlbHBlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmMjNjNjNkMTM3NjJmMDQ5NGEwYzg3MzAxYmFjNmUxNDhhNmU3NzU2YTNhMjFjYzExYTdlZjhhNmI4YzhjMWEyZmEwODI4YjMzYjM3MWQzZjYwYzI5M2FkNzNkNTQ2Yjk5YzBjYTU4MWM1YTJiNTMxNDQxY2ZiZDg2ZDAzZTNmMCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9tYXRoSGVscGVycy9zZXRNYXRoSGVscGVycy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWF0aEhlbHBlcnMvc2V0TWF0aEhlbHBlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJhYzU3NDY5MTZiNGNkZmYxODM4ZTgxYzQ2YjNkMTk0Mzg5OGM5YjZmOGMyMzBiNmFhZGQ5MjllZWMyZTY0OTRkNWRiZTczOTllMWY1ZjZkMjFlY2VhMjI2YzY4MDI4NWQ0MmQ3OWVmMTBiODgxODYxZWE0YTk2ZWFhMzYzYjhjZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9wYXltZW50LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9wYXltZW50LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZjk3NWE0N2M5OGRmZGI5MjdjODAxODZmOGE3Y2IyMjZmNjQyZDYwM2IzNDAzMTZmOTRjYTJlZGMzNTZmOTRkOWJiZmQ2OTM4NzFhODU1OWM0YTZjOThhNmI4YmI1YzhjMzU3MjVjOTBhNThmZTMxM2UyMjUwZWY1Y2JhNjg2ZjIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcGF5bWVudExlZGdlci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcGF5bWVudExlZGdlci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImU2ZTAyNjhhZTQ5YTZiNmQwYTIyYWFmMWNkYWIxYWY1NDYyMTU5Y2U5NmU5ZTNjZGIyNWUxMzNmMjM5YzU3ZjhjYjU0ODIyNDU0YjJmNGIxMWMxMTQzYjU2NzlkNTE4MzdlZjRiMjA0ZWExMzkzY2I4ODJkY2U2NzQwNTJjNzUxIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3B1cnNlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9wdXJzZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImY3MDM0Zjc1ODA5NzAzOTIyMTAzOGRmNjlmYzVmNjkwMTFhNTEyZTg3OGJlNzY1ZmNkM2JiYmMxMzM4NTFlMGY4YzQ4ZjQzNWYwN2VlYWY0ZDlhNjgzMzliNTU4ZmI5ZjNkZGMyODM2MzI0N2VjMjZhMjJhZDIyNGJhMTIwNWY4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3JhdGlvLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9yYXRpby5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjcwZjFmNzVlNGZkZjJiOTdkNTVhYTBmOWRhM2FiNDRhMmZhOWEyOWY3ZGVmZDk4OTNhZTRmN2NkZTY1N2MxZmQzODVlYWYwM2ViZDc4ODlhOTI1OTdkZjliZmUxOGRlODQ0YmIyYTIxY2JhYjRkY2Q1YWQ4MTVjNGJhZDJkMzc3IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3NhZmVNYXRoLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9zYWZlTWF0aC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNiYTNhMjFlZDZmZGYwZjVkNGFlMTc1YmI1OTYzM2QyYWQ1YTQ4MDNjZTAzOTViZTgxZGFjYTkxM2FiOTE5Mzg0NzYwYzExOTA1ZTZiYTZjOGVlZWYyYWZkM2Q2Y2RhNmZmMDNlYTNkMzNlZjZjNDVlMTg1NjVhMWMzNGVhYmRlIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3RyYW5zaWVudE5vdGlmaWVyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90cmFuc2llbnROb3RpZmllci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjgxOGU5YTQ1YjhmNWQ4NmQzNzlkZDBmMjlhMmJkZGIxNDQ3Y2UzMjg5ZTUxZWFhOTZmZjY1OWViMTQ4Y2U3OWM1MjE1YzY0OTgzM2MxOWRhMjkxZTNiMjcxYWE5ODBiYTY1MGY1ZTkwZWVhMzZiY2JmYmNiNjM1ZWE0N2ViNTRkIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVHdWFyZHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVHdWFyZHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3ZTgwYTdhYzAxNTg0MjM3OWE0MzMxNDc0MDdmN2ZjN2RjMzg5ODVkODZjNmRhNDk1YzBmMTg0OTBlMGI3OTA2MWM5NWRjYjE4MTlhY2RmNDNkNTk0ZWFjYzE2Y2E4M2ZhMTgyY2MwNWFkNDcxZmUyYTdiMzM5NzQyOGY1Y2Q3NiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlcy1pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZXMtaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzYWI4YjQzMGU5MTRmN2M0MDczY2M1ZjAxZjNkNTBkZjU4OGJhYjBjMzlmOGM4NTcwYWY3M2Y4ODcwYTY5MjQ4NGFhNTdjMTUyYzcxOGM5MDY3ZThhMTkzN2UyNWM0ZmNiMGZmNmJhMDg0YWUwYmY2ZTQzNzZhMzA2NDgyMDU4ZiIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIiOiB7CiAgICAgICJuYW1lIjogIkBhZ29yaWMvaW50ZXJuYWwiLAogICAgICAibGFiZWwiOiAiQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIiLAogICAgICAibG9jYXRpb24iOiAiQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGFnb3JpYy9iYXNlLXpvbmUvaGVhcC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2hlYXAuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vY29tbW9uL2Zyb20tdW5pcXVlLWVudHJpZXMuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Zyb20tdW5pcXVlLWVudHJpZXMuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL29iamVjdC1tYXAuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vY29tbW9uL29iamVjdC1tZXRhLW1hcC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vb2JqZWN0LW1ldGEtbWFwLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2Vycm9ycyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXZlbnR1YWwtc2VuZC91dGlscy5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vdXRpbHMuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZmFyIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Zhci12MS4xLjExIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbWFyc2hhbCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9tYXJzaGFsLXYxLjYuNCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbmF0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL25hdC12NS4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Byb21pc2Uta2l0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3N0cmVhbSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9zdHJlYW0tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiamVzc2llLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogImplc3NpZS5qcy12MC4zLjQiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9tYWluLmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NhbGxiYWNrLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jYWxsYmFjay5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjQ1NmU4YjkwMDA0YmUxNjg1MWMxZTA1YjI1OWQzNGYyZTE5NjE5ZjMyOGM3YzQ4ZmM2NmRjNGQ3MWRiNjdiZWQyNTRlNjBlMTNiNGE3OWJlZDgwMmYxYmE2MmY3N2QzOWE0ZjRmYjZlM2NkZGM0OWNjZjIxMzNhYjM1MmRkYTkwIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NvbmZpZy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY29uZmlnLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZDZlNDkxNWY5YWM5YjRlMWUxMjJjNTliMjRmY2JjZTk5YzRiMWIyNDM1MWU5YjE4ZDk4MDFjZjdhMDgwZGI2ODUyMjNkYjNiYjgwMzk1MjA4YjJjMDUwYjY0NGJjMDBmY2Y0ZDk4MDRhZWZmOTdiOTY1NWI2YmExYzI2NzA5MWIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZGVidWcuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2RlYnVnLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2NlZDNmZWEyNDM5YzIxMjIxNGMyYWQyZjQzNDgwZGRkMGQ1YTM0MzhiZjBiYWZkZjMyNzZmMjI4NTFmNWMxMTBhMGM4ZTk4NTg3OTNkOThmYjdlMjU2ZjAwOWZjZWI4YzhlMDdiN2ZkYTAzYjFhNTAyOWM5ZGJjNzIxYzJhMjgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXJyb3JzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9lcnJvcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0MjU4YzRkN2ViZmYzMTE4MmY4NDI1ZTBlZDVlODlhM2FmZTc0NTAzYTlmMzY5NTg5YjJhMDU2M2I3ZGY3NTMzY2E4NDE4OThhNTI3NjgyMjllYjA1NTA3ZTFmMTk1ODVlNjFmZjU5NWM1YzEwMzEyMzY1NzIxMGU1NWVkN2YyNCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4ZjY5ZjAxYWFhZjUzMzY3YjkwOGZhZjcyNzMwNDE1N2IzYmFhZDdiMmQwZmJiZDkxMzJmMTY3NTljOTljMTE0MTkwZjIyZTc1NjQyM2E5OTNlZDJiN2VhMDExYzU4MjUyMWIwYmQ5OTFhMjRkMDE2MmI4Nzc2NDdjOTg4NDJmOSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9qcy11dGlscy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvanMtdXRpbHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzZDhmNTlkZjNmM2M2Y2ZlMTEyZTRlOWRhNGI2Nzk5MmU0YmE1ODE4MGNlYzc0ZDE1NjJlYTM4NzdiMDk2N2ZmMzYwNDY0NDFjZDM5ZDY5ZjM2ZmUzYTFiYWEwY2E2YTg1Njk4YTM2ZjZkOTg5NWVlYjgzN2ZjNDkwYTQ5NmRkMyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9saWItY2hhaW5TdG9yYWdlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9saWItY2hhaW5TdG9yYWdlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNjYzODc0MWU5MDQ1ZWVmOWY2YWIwODdjMjViYTViYTM1NjYzOWU3OTc2MTM3ZTM3ZDU1MDVkZDMyNGNjMWYzNDk1OGE2Mzc2ZjhjODMxYzc4NzM5NDc2YjI5ODM1OGU2YTAzNWVjMDEwYzhhYTQxYWFhZWRlNDcyZjZiYTViNzgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWFyc2hhbC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWFyc2hhbC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjFhN2RmYzFjOGNjZDRlMTJlYmE4OWY2MzEzZDRmOTkwMzAzYzU5ZTU3MDQxNGZkMTUzOTVmZWRkYmYwZWM1Y2U5ZGMxYTkwMDE4NTk1ZjFmMzI3NjFkYzBiY2MwNTI3NGFmZmM0NWU5YTYyMjI0YmNlMjllNDU0MjA3YzZiYzI4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL21ldGhvZC10b29scy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWV0aG9kLXRvb2xzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMDU1YTc5ZmQyNDY2MTQ1YWU2OGVjYmM3NzY5NDM3OWQ4YzA1MmYyYzdmNDQyY2FjYTkwODc0OTIxMWQ5N2U5NTY0YThkZGVhNmY0MmY4MjUzZDMyNjBkZmI3OTcwOWVhMjk3YmM4NzE0YWE4NjJlNjllMWEzOGYyNGNiZGI1YzIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWV0cmljcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWV0cmljcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjljZGQ3NmRmMjJmNjdlYWNiNDM3NjMxOTc4OGEyOTdiMWYxMzc0NjBiNDA0NzRiOTVlNDI3MDhiZTAyYTA3NWI5NDZkMGQ0ZWY1ODU5OGNmNDQ1MWFjMDYwMmRlNzI5YjAyZmNkMzY5NjVkYjAzODNjODEwMTcyMmY3ZGZiM2IyIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL25hdHVyYWwtc29ydC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbmF0dXJhbC1zb3J0LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOGJjNjgwNmNlMWE5NjhjZmU2OWM2YTQ4NTIxM2RiYjM3MWFlY2Q1ODhlYjNkMTliOTZkOGZiMTYyNDU4ZDgyMGMxNTYwNGM3MDAzYzdkYjUxYWZhZjU0MjgzMGRmMTA4YjM1YmY1Y2NiMTFmOTI5YWJlZjZmYzc3ZmVlZmI3ZWYiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvc2VzLXV0aWxzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9zZXMtdXRpbHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1MTk5OGJjYTQ5ZDFiMzEwNGUwM2U4NzQ3Yjc0MzI4OGQ3N2M1Y2YzNDU1MTY5YTBjZmUyZWQ1ODlkZWFhYTRjNWE3NWZmOGM1ZjE0ZDQ0ODI0NzcwNTM3NzEyMTZlNTY5MDM1ZmE3MGRmNTE4NTkyMTk5NDQwNjFhOGFhMmE0YSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90ZXN0aW5nLXV0aWxzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90ZXN0aW5nLXV0aWxzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYTgzMWFmMjIyY2IwMjNkN2RkZmNiMmRiY2VlZThiOGY0N2Y3Zjc5ODhhZTIzNTFhZmVhNTdjZGU4MjI2NWRiZWI1MWI4M2JmM2I1MzY2ZmRhYzU3OGNhYmY0OGI0N2E5NmNhN2U4ZWQ1NmEyMzdhNTE1OGE3Nzk2ZGZlMTk0NTIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdG1wRGlyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90bXBEaXIuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0NmFhYmFmMDAwNWQ4N2MzNDM2MzliMWJkY2U5ZjQ0YjYzOTM0Y2M1MWM5MGM1OGIxYTBkNTc3NzIzYjZlMmNjMWFlNmUyY2VkZWIxNDJjNzNlMWI3NzI1MWI2Nzk1Y2QzNjJmZTU0NzA1MjQ1ZWE0ZmRiNjJmOTQ4YzczOTczZCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlQ2hlY2suanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVDaGVjay5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjdmMDZhMzFjZmQ1ZWQ1YmZlN2E4YTA3ZjgwZmFhMWFiYzdlZWVmODZlZmI3OWY4Yjc2OTgzYTQ0YzRkYTc1YTliNjNkZWMzZTdlZWUzZDFjZDNlYjg1MjZkOTQ3NTg4YWNhOTkxMjI4NTRkMzMwOGI0N2QzNDQ2MjA4ODQ3YzkzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVHdWFyZHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVHdWFyZHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1N2Q1YzgwMmY0YmY0ODk0Nzk2Mjc0OTgzOWZiYzk5NmYwOWQwNDk3ZWU1MTU2Nzc4YWQ1Y2VlNTMxNWY3ZTgwODVjODYyZWUxNmNkZmQ2ZWY3MGEyY2NkY2JjOGY5NGJiMmU0ODg0NjAxOGQ5MWY4OGUzMjg3MzkxYmFjMzQ4NyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlcy1pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZXMtaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzYWI4YjQzMGU5MTRmN2M0MDczY2M1ZjAxZjNkNTBkZjU4OGJhYjBjMzlmOGM4NTcwYWY3M2Y4ODcwYTY5MjQ4NGFhNTdjMTUyYzcxOGM5MDY3ZThhMTkzN2UyNWM0ZmNiMGZmNmJhMDg0YWUwYmY2ZTQzNzZhMzA2NDgyMDU4ZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy91cGdyYWRlLWFwaS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdXBncmFkZS1hcGkuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJkY2IwOTgxM2I1ZDEzNTQ0YTI0MTI1MTY5ZmE5OGMwMzZhNTNmMDNhYzEwZjRiMDIzZWYyNDkzODIzNDk4MTQwMWE4YzEyYWExYTgzNmI0MGZjYzdjOWFiOGUxMTBhNjIwZTliMWVlOWE0MDkyMWQ3ZTk3NDM5ODQ2YTk2MDZjNyIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGFnb3JpYy9uZXR3b3JrLXYwLjEuMCI6IHsKICAgICAgIm5hbWUiOiAiQGFnb3JpYy9uZXR3b3JrIiwKICAgICAgImxhYmVsIjogIkBhZ29yaWMvbmV0d29yay12MC4xLjAiLAogICAgICAibG9jYXRpb24iOiAiQGFnb3JpYy9uZXR3b3JrLXYwLjEuMCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAZW5kby9iYXNlNjQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vYmFzZTY0LXYxLjAuOSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXJyb3JzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vycm9ycy12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9mYXIiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZmFyLXYxLjEuMTEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXNzLXN0eWxlIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2J5dGVzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9ieXRlcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjIzNzRkOWEyOWZiNDE5ZDRmMmFjZGYwOTUzMzFkY2RhODcxNWRhNGQyYTY1YjZjNmYxMDhmYTA2NGFmMzQwMDY0NDE0ZjMxZWE3MGU4YjY0NGU1YjIzMGZjYjAzMjU1ZGQ5YzQ1NjEwYjhlNzIxNWFlNWUyYmRkYzFjNWQzZTEyIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImI2Y2VkOTE5ZjkxYTVjOGFhYTE5ODNjMzUxZjQwN2NiYzI2NDJjY2Q3ZDAzNjEwNTczNDliMDYzZDA5Njc4ZjVhZmYyYzcxYmFiOTg4ZDJiNTAwY2RhM2Q4Y2QyMmNhZGQxZTBjY2VmNGFiYTcxNDUwZDdmNWQ2YmEwNjJmOTEyIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL211bHRpYWRkci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbXVsdGlhZGRyLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOWI1YTY0ODBiMmM0MGIzZTg3YmI4YWIxYWZjYTg2YTM3MDE4MzU0Mjg3NGRjNTFjOTQ1ODBmMmQ0MWI1ZDRhNjI3NDdhNjA1OWEzM2UxMjgyNjgzNzdjNzNhNDQyMTA4YmMxZTk1ODI2YWEyODhhMDE5YjgyMjNjNWRlMWFiYmYiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbmV0d29yay5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbmV0d29yay5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImFlOGJkOTYxNTlmMzdjNzBlNzIxZDAzMjk4YjQ1NDFlYzJlNjNkNWQ2NDZlZDYyZGVjOWQ5MjM4N2E3NzljYjc4YWMzMDJiYTRjNGU0MjMxMTAzNWZmNTVjOTg5ZTQ5Mzg4MzdmYTZhMjcxNDQyNDU0YmJjNDJlYmJlYzQzNjFkIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3JvdXRlci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcm91dGVyLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOTdlM2YxYzUxMzU1M2YxMzY2MDgwNTRlY2M2MjJhNDNmMTFkYjc5ODgyYmRlNDEzNmYzNjE0NjNmMGY2NjAxZjVlYzk1NWE0MDAzMDE4ZGZkNTMwYzMwYWI0Zjk3N2Y3MjdkMmVlMzY3NDc3MjVjN2E3MTI5NDkwNDAyNzM2NWEiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvc2hhcGVzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9zaGFwZXMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlMzY1YjFlMWMzZTRkMmMwYmViMmNiNTNhMzQxZTM0YjY4ZGNjNGI5YmU3NWFhZTZlYWI0MGZmMmVjYjk3OWJkYWMyNWMzYTE1YzY0ZjYxOGU5ZGMyNDhmZWY1MDcwYjQwNmU4YWQ0ZTk2YWM2NGFiM2E4NWRiYjViNTkzZDVlMSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZXMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzYWI4YjQzMGU5MTRmN2M0MDczY2M1ZjAxZjNkNTBkZjU4OGJhYjBjMzlmOGM4NTcwYWY3M2Y4ODcwYTY5MjQ4NGFhNTdjMTUyYzcxOGM5MDY3ZThhMTkzN2UyNWM0ZmNiMGZmNmJhMDg0YWUwYmY2ZTQzNzZhMzA2NDgyMDU4ZiIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGFnb3JpYy9ub3RpZmllci12MC42LjIiOiB7CiAgICAgICJuYW1lIjogIkBhZ29yaWMvbm90aWZpZXIiLAogICAgICAibGFiZWwiOiAiQGFnb3JpYy9ub3RpZmllci12MC42LjIiLAogICAgICAibG9jYXRpb24iOiAiQGFnb3JpYy9ub3RpZmllci12MC42LjIiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGFnb3JpYy9pbnRlcm5hbCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2ludGVybmFsLXYwLjMuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvaW50ZXJuYWwvc3JjL2xpYi1jaGFpblN0b3JhZ2UuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9saWItY2hhaW5TdG9yYWdlLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvaW50ZXJuYWwvc3JjL3Rlc3RpbmctdXRpbHMuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy90ZXN0aW5nLXV0aWxzLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvaW50ZXJuYWwvc3JjL3VwZ3JhZGUtYXBpLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvdXBncmFkZS1hcGkuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy92YXQtZGF0YSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3ZhdC1kYXRhLXYwLjUuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2Vycm9ycyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZmFyIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Zhci12MS4xLjExIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbWFyc2hhbCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9tYXJzaGFsLXYxLjYuNCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vcGF0dGVybnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcGF0dGVybnMtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wcm9taXNlLWtpdCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9hc3luY0l0ZXJhYmxlQWRhcHRvci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvYXN5bmNJdGVyYWJsZUFkYXB0b3IuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1NzIwZGYzNTVlZWY1ZmFiZTJkMTJhZWQwODljMTA0NTkwMTkwMGJmYWEzYTA2YzExMWNhYzdlOGYzMTMzYjBmYjEwNTA1MmZmM2VkZTg1MTQ1M2Y3MTIwMmE1OWMxY2I5MTRlMWYxMjQ4NmFmNmM4YTViNWMzODk5ZDEzMmQ2ZSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4MjdkZWRhNDFmNGVmZmQ0MWQyYzljZWJiN2VmOTE0NzE2ZTgwMzkyNTBhM2ZjNjRlMzJhZmRhNjVmY2QyZWIxNTNiYzJlZjg3NDY1Zjg5MGQzMWE5Zjk0MGMwZDQwMDdkZDg4NTY4NmQ1ZmMyNWJjMGNjZTcxZDFlMmY3MGVkMyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9ub3RpZmllci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbm90aWZpZXIuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmM2FkOGQ4OWZlODI2YzRjMTc0OTM3OTg0MTNmNWUxZmY3YTE1ODQ4YjM2YjFkMDVkMTVjOTRkZTQyZWZkOTM5YjBkNDMyODI2NTc4OTA2M2RmZjg5NTJmODRlMDRkZmIyYjM4YWEyZGY0MmM2M2YwNzQ4NjQ5YjNjMmFmODUzYSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9wdWJsaXNoLWtpdC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcHVibGlzaC1raXQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1NWJhZDliMzgzODRkMGRkN2M5MmJlODlmMDIyMzY0NmQ2YjM5YTI0MjZhODMzOWJmOGRhYzc4NGJkYWFkNjBhNzg3MmQxZDMwNzJjMTU2NDE1ZGIxYTlkN2ZiNTQwOTgxYzUyZWRiYjBjYTEyNTA5MGRkNjUzMjBmZGU2MTc0MCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9zdG9yZWQtbm90aWZpZXIuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3N0b3JlZC1ub3RpZmllci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjI4OTRkZWVmNzhjNGNkYzg3MDBiMjgxNThkYjk5Y2IwZWJhYWJhMWE0ZTY4Zjk4YjE4ODUzMGUyZTA1MTcxYjkyODRjYTE3NjIyZTRiNTFlOTMzYjc2M2NkNzViMDY3ZGE1YjE1ZjM3YzU5MDBiZmZiNzRlNTdhMzQzNDE0OGNjIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3N0b3Jlc3ViLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9zdG9yZXN1Yi5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImU5ZGI4ODllZjRiM2VkNWYyNDA3ZjRjNDNjYWYxYzY3MmI0YWIzZDEzMzBmYjU5Y2VkNzkxZTA2MjQ5NTk2MWQ2ZTNlNDkyODA2MjhhMzMyYTkxMTM3ZmViYTNmYTBkODdjZmU5ZDBmZWY3YWM2OWY0NzdkNjI5NTBiZWFjZGE3IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3N1YnNjcmliZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvc3Vic2NyaWJlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZmYzYjMzODQyYWYzMGQ1ZTcxZGFlMTk4MzZkYzZkZDAxYzkxZjg5Y2U1ZjQwZjVkMzg5YzVhNmY0Y2NhMTY5ZmRlMmVkY2NiY2YwYjdjZTI4OTBkMWRhZjA5MzhiOWM2NDRiNTZmYzk5NTc2MjZmOTZiNDgwMTBhNWUxMDhjNTAiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvc3Vic2NyaWJlci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvc3Vic2NyaWJlci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjdiMTA3ODFmNTY4NTk4YzIyZjc5M2ViZThhMzQwYzBjY2I4OWM0ZWRiMjljYWJjNjMzMzUzOTJhZDgzZmYxYTY4Y2E3MGFiZjE5OGM5MTc3NDRlNzg3OGVhZmFhOWE5MmY4NGYyYjgxMmVhM2Y5OGI4NmI2ODM2Y2FlY2U4OTM4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3RvcGljLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90b3BpYy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNiMmIzNGUwNTNmMThjMDkzMzIxZWMzNGIxZjc0Y2JmMzM3MGVmOTQxOTkwNzg5MWM4ZThmYWVkMmQ0ZWRhYjUwMzJlZTI5ZGIzZWMwMzk1YWVjZDdjYzM2M2ZjNzJmM2U2Yzc5MzcwNjUwN2QxY2YzZDA0OTJmYWU1YzI4ZWRlIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVzLWluZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90eXBlcy1pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNhYjhiNDMwZTkxNGY3YzQwNzNjYzVmMDFmM2Q1MGRmNTg4YmFiMGMzOWY4Yzg1NzBhZjczZjg4NzBhNjkyNDg0YWE1N2MxNTJjNzE4YzkwNjdlOGExOTM3ZTI1YzRmY2IwZmY2YmEwODRhZTBiZjZlNDM3NmEzMDY0ODIwNThmIgogICAgICAgIH0sCiAgICAgICAgIi4vdG9vbHMvdGVzdFN1cHBvcnRzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInRvb2xzL3Rlc3RTdXBwb3J0cy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjIyZGY1MzE1YWU5YzJmZWQ0MmU3ZTA5NjE3ZjhmOTk0OTdmMGQxMmJkNDdhMGY1MjIwMjVhMGRjNzIxY2FhNzljNmU4MTEyNTkyOWE1YmViYWI5NTFlN2FkMDIxNDNkODEyYzliZGE1ZWZiYTQ4NDRkNDdjYTNjODMzZTYxMzRkIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wIjogewogICAgICAibmFtZSI6ICJAYWdvcmljL29yY2hlc3RyYXRpb24iLAogICAgICAibGFiZWwiOiAiQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMCIsCiAgICAgICJsb2NhdGlvbiI6ICJAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBhZ29yaWMvYXN5bmMtZmxvdyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2Nvc21pYy1wcm90byI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Rpc3QvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9jb3NtaWMtcHJvdG8vYWRkcmVzcy1ob29rcy5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Rpc3QvYWRkcmVzcy1ob29rcy5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2Nvc21pYy1wcm90by9jaXJjbGUvY2N0cC92MS90eC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Rpc3QvY29kZWdlbi9jaXJjbGUvY2N0cC92MS90eC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2Nvc21pYy1wcm90by9jb3Ntb3MvYmFuay92MWJldGExL3F1ZXJ5LmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYW5rL3YxYmV0YTEvcXVlcnkuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL2JhbmsvdjFiZXRhMS90eC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvYmFuay92MWJldGExL3R4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvY29zbWljLXByb3RvL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS9xdWVyeS5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3MvZGlzdHJpYnV0aW9uL3YxYmV0YTEvcXVlcnkuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3R4LmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS90eC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2Nvc21pYy1wcm90by9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3F1ZXJ5LmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZGlzdC9jb2RlZ2VuL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvcXVlcnkuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS90eC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2Rpc3QvY29kZWdlbi9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3R4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvY29zbWljLXByb3RvL2dvb2dsZS9wcm90b2J1Zi9hbnkuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9kaXN0L2NvZGVnZW4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2Nvc21pYy1wcm90by9pYmMvYXBwbGljYXRpb25zL3RyYW5zZmVyL3YxL3R4LmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZGlzdC9jb2RlZ2VuL2liYy9hcHBsaWNhdGlvbnMvdHJhbnNmZXIvdjEvdHguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9jb3NtaWMtcHJvdG8vc3RyaWRlL3N0YWtlaWJjL3R4LmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZGlzdC9jb2RlZ2VuL3N0cmlkZS9zdGFrZWliYy90eC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2VydHAiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9lcnRwLXYwLjE2LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2VydHAvc3JjL3R5cGVHdWFyZHMuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9lcnRwLXYwLjE2LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy90eXBlR3VhcmRzLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvaW50ZXJuYWwiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL25ldHdvcmsiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9uZXR3b3JrLXYwLjEuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvdGltZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3RpbWUtdjAuMy4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3ZhdC1kYXRhIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy92b3ciOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy92b3ctdjAuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy92b3cvdmF0LmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvdm93LXYwLjEuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vdmF0LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvem9lL3NyYy9jb250cmFjdFN1cHBvcnQvaW5kZXguanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy96b2UtdjAuMjYuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2NvbnRyYWN0U3VwcG9ydC9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3pvZS9zcmMvY29udHJhY3RTdXBwb3J0L3JlY29yZGVyLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvem9lLXYwLjI2LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9jb250cmFjdFN1cHBvcnQvcmVjb3JkZXIuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy96b2Uvc3JjL2NvbnRyYWN0U3VwcG9ydC90b3BpY3MuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy96b2UtdjAuMjYuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2NvbnRyYWN0U3VwcG9ydC90b3BpY3MuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy96b25lL2R1cmFibGUuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy96b25lLXYwLjIuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZHVyYWJsZS5qcyIKICAgICAgICB9LAogICAgICAgICJAY29zbWpzL2VuY29kaW5nIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBjb3NtanMvZW5jb2RpbmctdjAuMzIuNCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vYnVpbGQvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vYmFzZTY0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Jhc2U2NC12MS4wLjkiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2Vycm9ycyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZmFyIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Zhci12MS4xLjExIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbWFyc2hhbCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9tYXJzaGFsLXYxLjYuNCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vcGF0dGVybnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcGF0dGVybnMtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAbm9ibGUvaGFzaGVzL3NoYTI1NiI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAbm9ibGUvaGFzaGVzLXYxLjUuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vZXNtL3NoYTI1Ni5qcyIKICAgICAgICB9LAogICAgICAgICJAbm9ibGUvaGFzaGVzL3V0aWxzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBub2JsZS9oYXNoZXMtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9lc20vdXRpbHMuanMiCiAgICAgICAgfSwKICAgICAgICAiYnM1OCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJiczU4LXY2LjAuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2VzbS9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9leGFtcGxlcy9lbHlzLWNvbnRyYWN0LXR5cGUtZ2F1cmQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4YW1wbGVzL2VseXMtY29udHJhY3QtdHlwZS1nYXVyZC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImYzMGMyMmIzNGJhMzczOWU3NjlkZjY1YjgwNjk4YWYzNGMwODc1YjgwYjdlNzVmMDQ1OGJmN2Q2NWRmMTJlNGJlNGQyODNhMmI2ODcyNTkzMDRmNDc0ZmNjMGI1OTg0NWU4YjQyMWI1ZmFiODFiNjQ4MjEyYjE4NzYxNWUyNjhhIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2V4YW1wbGVzL2VseXMtY29udHJhY3QuZmxvd3MuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4YW1wbGVzL2VseXMtY29udHJhY3QuZmxvd3MuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzMDFlZTA3MDZiODI2NDRjYzUyNDU5ZWUwOWMzYWVhZDcwZmMyZDMzMDMxNDlkMzdlZjQ1MDBmNmQxZmE5NDQ1YTdhMzkyNDQ3MTE5NGE5MTk3MTIxZTNkZjhlMzUyMzNiNGIzZDk4M2M3MDgwYThhNTNlZDBjZTJjNWQwNWMxMSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9leGFtcGxlcy9lbHlzLmNvbnRyYWN0LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9leGFtcGxlcy9lbHlzLmNvbnRyYWN0LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYjU0NWU3MzMwYWUwZDdkN2M3OTE0NTRjNmE1ZThhOTI5MjIyNjljZGFhM2ZkMGNiYWI1MjYzMTJjNjQ3ZmQ5MzMyZTZhOWQ2ZjllN2E1NDhjOTY3ZmIxNzM2ZjllMjAzMTQ1ZTIyMDM1OTY3NzAwNzg3OTlmMjY1NTA3YTdhNjQiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9jaGFpbi1odWItYWRtaW4uanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4b3MvY2hhaW4taHViLWFkbWluLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMDRiMTg3NzQzYWQ5MTYwNGU0NjVkZmYxMmExYTUwN2E0MGQxMjhmODcxN2ZjYmUyYTAxNjA4YWIxODIwNmM2ZmJhMGJlZmFjZjIzZGVhODAwNzM3MGNiODQ4ZDhmYzAyOWM1YTZmM2MyMmIwZWIyODcyYTI0YjcxZTNlOTM5ODkiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9jaGFpbi1odWIuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4b3MvY2hhaW4taHViLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNzVmNzI5OGExMTgzYjlmYzI2NzE3MWUyMWEwY2QwY2Y5NDVlODI2Y2E4NDhjNGRkNjUzNTRlNWE5ODYxNWJjMGUxMDBlN2Q0ZmI0ODE5ZDdkY2I4MDg3ZTMzNWRkMGNiNzM1YjlmY2NiZjJlZjQ3MGNiNGM3ZmQwYWY1NTk2N2MiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZXhvcy9jb3Ntb3Mtb3JjaGVzdHJhdGlvbi1hY2NvdW50LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9leG9zL2Nvc21vcy1vcmNoZXN0cmF0aW9uLWFjY291bnQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJhYmRmMDlkYzIyYWQwN2Q0Yjc3YzQ4MGE3MTNlNTcxMzM0MjMwMjQ3ZDBjNjhlZTlhOGU3MjE4ZmYwYjQyZDk4MmEyZWZmMTUyYjgzNDJlMTk3MjJhYTllZDQ1ZmYxODg3Zjc5NzkzZDMyNGZiZTcyN2NiOWQwOWQ5MmI3N2NmMSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9leG9zL2liYy1wYWNrZXQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4b3MvaWJjLXBhY2tldC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjAzYjcxMGVlMWQ2MDljOGQwZjNiZDc3YTcxOTQ4MDRjYjE3NWM4ZTNiYjE1NzMzZGVkZWY5NDNjODU2MWQyZjQ2MWViZDIzN2IzMGJjOWU1NzQxYmJlMWU2NmE0YzFjNDNkMjY2ZTBjNDEzZTgxNzRjZmM1MjZjOTZjNjZlNmU5IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2V4b3MvbG9jYWwtY2hhaW4tZmFjYWRlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9leG9zL2xvY2FsLWNoYWluLWZhY2FkZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImMzY2UzODFiNjE5YWFmZDhmOTM2ODVhNzA1YjM1OTRkNzM2MjBmMjJlMzUzMDU2MWY3MDlhM2Q0MTM2ZDgxNjdhNTRlMGVhMDQ0MWI2YjQyZjI4ZjNmZmIxZGEyZjIyN2UxNzRkMDkxYTM2YWExNjJkNjQwZGRjNDFjNmZjZDJlIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2V4b3MvbG9jYWwtb3JjaGVzdHJhdGlvbi1hY2NvdW50LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9leG9zL2xvY2FsLW9yY2hlc3RyYXRpb24tYWNjb3VudC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImI5ZTRiMjgyZjZmNWIxNDBkMzk5MDczZjczZTdhNDc0MjYyNWQwODliZTQyYzYyNjg3NDhlNjZhODkyNTc4MWZjOTQ0NDNlZTAzOTg0MjYyY2I3YjhmZTgxYWU5ZDIwOTI4YmMyMzE4OGEyZjM4ZGVkNzU2OWJhZGRmZGFlMjMyIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2V4b3Mvb3JjaGVzdHJhdG9yLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9leG9zL29yY2hlc3RyYXRvci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImY3OGNlMWZjM2Y1YzU4ZWQ4ZWMzMjg2ZmE5MzFkYWYyYTlkZjEzZjliZjgyNDI4MmQ0ZTk3OWMxYTIyZTg1NDVhM2RjOWE4MzVhMzhmODY5NDg3ODY4OWYzNmJlOGYzZGY0MjU4YmIxMzhkNWU1MGVhYWU3MGE4OWJmYmRiNDNlIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2V4b3MvcGFja2V0LXRvb2xzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9leG9zL3BhY2tldC10b29scy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImFlM2YwYTU4NzZmZjk2NDRmYjg5NjI5MzQzNTVjNDM0Yzk0OGU3Mzg4NzNjNDIxNjZmZmUwNGVhYjQzM2YzMzhmYjBjODNiOGVhMDY3NjM0NTIwZWFlYWNiMWVjNjEyYWQzMzFmZTEwM2MyNDM0OWY1ZjhiYjk0NTFmNDg0ZDdmIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2V4b3MvcmVtb3RlLWNoYWluLWZhY2FkZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZXhvcy9yZW1vdGUtY2hhaW4tZmFjYWRlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZGYxNzgzYjk3NjcwMzMwMzFlZTQ2OWEwZWExYWVlYzY4MzgyYjEwODhkMmQzOGFmMzRiNTdlYTBjM2RkNTkyMjY5NzhhYzNmODUyYjYxMjUyODQyZjQ4YjQ4Y2JhY2M3ZDNmOGViZWVlMjA3MDMzNjUzMDI2MWYwNDc0N2ViZTkiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZmFjYWRlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9mYWNhZGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4YTVlYjc3MGExNzUwNmE3ZGQxYmQ0NGU5ZGRhYTJiNmRkMDIzNzA5Y2FlMmZjMzE0NTA4ZTliNDc4YmJlNjA2ZjQ1NGNmYjViMzA3NzYxOTM1ZTY3M2I0OTRjOTU4NzM2NGM4YmMxY2ZkNjI1YzM1YjNiYTJlZDYyMzNjZDk2NCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlR3VhcmRzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90eXBlR3VhcmRzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMzYyNGI5NjQ2ODg0MTBkZTNhNjg0MzZlM2Y5YjBlOTU5ZmE4NTJjNzFmN2QzNDdiY2U2NDE0NjZjMGY1ZTM0ZjUyZGNlZDQ2ZWE3MGEzZmYzYWMwNzFhYjExNWY5NjEzY2M4ZTAyZGJjMzEwOTZhY2NkZjc4OTAwOTAzNmY5MzAiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdXRpbHMvYWRkcmVzcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdXRpbHMvYWRkcmVzcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjI1NGQ5ZWIzZTYwZTk5MDg4NjI1ZTZjM2ZjM2EwNWFkN2I1NTcyODJjN2EzNDBkMDQzOTIxMmY4NzgwNzM3MDUxNmQ1MzA3MDI4MGU4MTA1NjI1YTVhZmY3YTY3OTYzNmRkN2M5OGRjMjNlODZlMzk0MDEyOTFmYTE3OGIzMWQxIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3V0aWxzL2Ftb3VudHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3V0aWxzL2Ftb3VudHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIyYWNhMjAwMGUwZTkxMWVjZDc1N2U2MzkzNDNjNDZhZmU2YzA1OWIxM2EyNWM5OWUzMjFkYWU1ZTllYjFjYzkwYzg2YzI4ZDNiNzdkN2Y4NjI2MGViM2FiZWU0OTM4Nzc4ODc4NWMwZDc3YTc4MGY4ZjQ1YTliMWM5YWMxMTVjZCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy91dGlscy9jaGFpbi1odWItaGVscGVyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy91dGlscy9jaGFpbi1odWItaGVscGVyLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZTUyZjYyZWExYWE0OGZjODA2MDcyNmQ4MjYwMTY5NWRkNjc5NzNjZjk5Nzc4NWYzOGE5OTI0NDQ5YjZhMTlmZGRlMzU0ZDhhNzJiZDFmM2ZkN2Q5M2M2YTVjMGUzYWE4MzQ1ZjhiZDE5ZjM3ZjMxZGNhZTI0ZTk2ZDQ1ZDQ5OGMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdXRpbHMvY2hhaW4taW5mby5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdXRpbHMvY2hhaW4taW5mby5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjM2YTE1ZjRkYzI3NzJiNmI5ZTQwZTZmNTE5NTc1MmVhZDgzYjU3YmI3NWE4YzZkOWQ1N2YxZDcwNzNhNjhlZDg1N2QxZmY0YWE5N2M0OWQ5OGY5NWFiM2RhOWU4MDhmNmVlNWE4ZjI1NzBlZTc2Y2JhOThkYzg1YjI3NWViYjVjIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3V0aWxzL2Nvc21vcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdXRpbHMvY29zbW9zLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZTBiMWQ3MDVlYTY5NjBhODQ4ODdjNzBmZmMwMDc1N2NlMGYxZWY2M2I0NzFhMTA3YmQxMzliN2M0ZTY4NjQ1ODUxNzc1ZGVhMzBiY2E5ZTRlMzM3NWY5NGRlMWI0MTg1NTJiYjI2ZjFjNGRjZmQzNTM1NjJlMTQxNTg0OGEyZjgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdXRpbHMvZGVub21IYXNoLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy91dGlscy9kZW5vbUhhc2guanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4ZWUwZGM5OWQxYmI2YTk1Nzg3ZDFmNmNlZWEwOTI5NTI3YmRkNDg5ZWEyNjMyOGRiZmZhNjJhMzA3MTg1MDAzZDliOTUzYTY4OTlkY2I5YjU3MmQ3N2Y5MDk3YWFiN2IxNDdhNDhkMzk1MDk3ZTk4NGM3YjEwMzU3MjNkNmUwZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy91dGlscy9vcmNoZXN0cmF0aW9uQWNjb3VudC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdXRpbHMvb3JjaGVzdHJhdGlvbkFjY291bnQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4ZmRmYTUyZjY2ZGQyN2U5ZDg4YWRlYWJlMDkyMTY1ZGE1YjdmYjI5OGMwODA4OThiOTNkOTdkMGE0NDFmNWU2Njg1MmU2ZGFlNzQwMWY0YTk2MzczZjU3YmJmZDRkMGUzNmIzZjY5MzFjY2M5MTlmMzVjMWY5ZjM3ZTc5NmUzYyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy91dGlscy9zdGFydC1oZWxwZXIuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3V0aWxzL3N0YXJ0LWhlbHBlci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImRmNDQzZDA5ZmE4ZWJiM2IwNDM2MjU2YTBhOTY0ZjkzMzUwZWU5YmY2MmZmYmY3MDI3ZmQ0MTcxZWQyNGViYjA5N2IyMzc3MzA2MDg4NGM3YzU5NzY1YTFlYzRiNzk5NGFmMjZkMmU3ZjIyMzI0MTlkZGNjNDcxN2Q4Y2NjMzllIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3V0aWxzL3RpbWUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3V0aWxzL3RpbWUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI5NmI0N2VmY2I3OGEwMTExZTFiZTg3NmYyZGM2OTg5YTI5MDEwZDJjOWIwY2EzZWFmM2RkNTUxZjE3N2IwYmM2M2MyY2QwODM3MTk2ZjRlYjAzMGQzNTYyZmU0NTMzMTY5MWIxMWFlZjFhODZkN2YzMmNmN2U1NGJhOTgzNWNkZSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy91dGlscy96Y2YtdG9vbHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3V0aWxzL3pjZi10b29scy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjc5MmIyNzQ2MjEwYzYwOThiMGI0ZWMzNzU0ZDkwZDE2M2Y3OWU1M2JmZDBiN2MwM2M1YzUxYWFmNjI2YWQ5NGUyMWVjY2EzZGI5NTE5OWNhNmYxMGI4Mzc3NTdkMzRhY2M3NzY3MzY1YTRjZjU5YWRiY2RhMThjN2NkMDY4YWEyIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3V0aWxzL3pvZS10b29scy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdXRpbHMvem9lLXRvb2xzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYjlmODMyMTg4ZDdjNmUwYmI1N2RhMTdlMjg5MzY5OWE0NmFkOTVmNmUwZjg5NDVkZTBiMDFkYmQ5OTk5NTFmZDY4OGFlNTI1NGZhNzdjNzdhZDYwOGZhYjEzZjgzMjgwZDkzYzk3OWM5ZjFkNWZkNmUyYmZhOWIzNmY5OGJkMjYiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBhZ29yaWMvc3RvcmUtdjAuOS4yIjogewogICAgICAibmFtZSI6ICJAYWdvcmljL3N0b3JlIiwKICAgICAgImxhYmVsIjogIkBhZ29yaWMvc3RvcmUtdjAuOS4yIiwKICAgICAgImxvY2F0aW9uIjogIkBhZ29yaWMvc3RvcmUtdjAuOS4yIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBlbmRvL2Vycm9ycyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXhvIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2V4by12MS41LjkiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL21hcnNoYWwiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vbWFyc2hhbC12MS42LjQiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Bhc3Mtc3R5bGUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcGFzcy1zdHlsZS12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3BhdHRlcm5zIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3BhdHRlcm5zLXYxLjUuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2luZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNWNiZmM5M2I2NmVkNDkwY2EzMTE4MDcxMGQxNThlZWNlMTNiNGQwYWZhZTE4MTFiNmE4MjQxODlkNjU0NjYyNWJlZmQ1NTY2NmNiZTk4Y2E5YTRiYWZlODU4MWVkMGU5NjE1MDg4NTM4NTRhNzJkMWE1MmRiMjVjMDliODgzNTUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbGVnYWN5L2xlZ2FjeU1hcC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbGVnYWN5L2xlZ2FjeU1hcC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjQwYWNhNmVlZGEyYjZkMzdhZjM0ODg2NzU1NzVmMWYyZmQ1NjQ5OGZmYjM1ZGI5ZGNkZDg0OWE3YTczMDRhNWMxN2ZhNjEyODcyZGQ4Njc0ZjJjOWFlYzg0YmRhYWE0ZjgxOTYwY2FjZTAxOWFjZjIzNDYyYTExZTFlMWY0ZTUwIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2xlZ2FjeS9sZWdhY3lXZWFrTWFwLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9sZWdhY3kvbGVnYWN5V2Vha01hcC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjg0OWIxNjhlZjA0ZjhkOWI4MzQyYzAzM2E3YjZlOWQwZDg1MDQ1NGE4MmFlYzcxOWE1OTU0ZWI4MDdmNmVmMWI4MDA0NDliMGJmNzM3MWY0OTc5OTRhOTc1MzUzZWUxODMyMDBlMWI5MmU2MWU0ZDQ1NDZiZmY0MzNkY2U5ODZiIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3N0b3Jlcy9zY2FsYXJNYXBTdG9yZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvc3RvcmVzL3NjYWxhck1hcFN0b3JlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYzM5NzZjODc0NjMzMDgwNjNiYTU5NjYwMjA4MTY2YmMzNGJjOWM2ZTZjY2E0ODJmZTQ5YmJiZWVlZDg1MDhkMjRmYjdmMTM4MzRmMjFkNTBhMWE1MGQxYTBlNzIyOWI4YmI0ODEwYWQyZjE2ZmZkMDU3NjAxNWVjZjg1Y2VjNzgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvc3RvcmVzL3NjYWxhclNldFN0b3JlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9zdG9yZXMvc2NhbGFyU2V0U3RvcmUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIxZmQxNzZjNzhlZDBhOWZjZTA2OGVlOWI3NzYzY2FjNzcyMmIxZDdiZjdlOWZkMGVhMjNkMjVkYWQyZjMxNGQyZTY2MDhlYmRiNjU1OTY2ZTc5ZDJiNmM4MzE0YWUyYjgwNDU2NmZhNjBiN2YwMDMzNTliNDZmY2U1MjU1MGZmNSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9zdG9yZXMvc2NhbGFyV2Vha01hcFN0b3JlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9zdG9yZXMvc2NhbGFyV2Vha01hcFN0b3JlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiODNhZWUxNTNjYmYxZTc2ODY4ZDQzN2I4OGQ1ZTcwYjY4YjNiOGUzODA3MTE0YzAyNTk1ODlkYTk1ZmE1NGIzMjcyZWI1MTJlYTIwNjljMDU5MmUwYTIxNWNkODI0OTNmY2JhMmQzOTJhOTkzY2EyOTY0MTg5MjNkN2Q5ZGJmMTkiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvc3RvcmVzL3NjYWxhcldlYWtTZXRTdG9yZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvc3RvcmVzL3NjYWxhcldlYWtTZXRTdG9yZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjQ4ZGMwYWQ5ODM2OTg4YmEwMjRkOWIyNTA5ZDE4MjgzODFjNGU5ZWM1ZmM2NjAwM2FhZmIzMTY2ODkxM2JmMzI1ZjIyMmJlY2U1N2IyM2Q2Mzc3MGRmMmQ2MGM1ZjZiNWE3ZTliZDFiNDU5MGMwOGJlYThkYjUwMjI0NTExZGRkIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3N0b3Jlcy9zdG9yZS11dGlscy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvc3RvcmVzL3N0b3JlLXV0aWxzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZWVkMjJhNDY4MGVlYWM2ZGY3NGEyNmM4OWViOTVlOWU1YzMyNTVhZWM0YTFhNmUyM2ZmN2ZhM2I2NDEwNDlhZDA0ZjEzMmQ0ZWZiYTQ0Zjk1NmFlODA3OTNmZTM3ODQ0MDFlZmNhZDUxZmM5MzI3NTk4NjI1ZDg1MTdkZTkxNDUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdHlwZXMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2FiOGI0MzBlOTE0ZjdjNDA3M2NjNWYwMWYzZDUwZGY1ODhiYWIwYzM5ZjhjODU3MGFmNzNmODg3MGE2OTI0ODRhYTU3YzE1MmM3MThjOTA2N2U4YTE5MzdlMjVjNGZjYjBmZjZiYTA4NGFlMGJmNmU0Mzc2YTMwNjQ4MjA1OGYiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBhZ29yaWMvdGltZS12MC4zLjIiOiB7CiAgICAgICJuYW1lIjogIkBhZ29yaWMvdGltZSIsCiAgICAgICJsYWJlbCI6ICJAYWdvcmljL3RpbWUtdjAuMy4yIiwKICAgICAgImxvY2F0aW9uIjogIkBhZ29yaWMvdGltZS12MC4zLjIiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGFnb3JpYy9zdG9yZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3N0b3JlLXYwLjkuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2Vycm9ycyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbmF0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL25hdC12NS4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXR0ZXJucyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9wYXR0ZXJucy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIwMGJjNGIyMWEyOGMzYTViNzZmNDdmYWRhNGVjMTc2MWUxMTU5YzQxZTFmZWJiZjA5NWVhZWQ2MTE4ZTE3MzZlNTk0NjAzYzE4ZWYwMjRhYzU2ZjZhNWFiM2YzY2YwODZjNWY1YjU0NGVkZTEwMDMwMWZiMzU4MjljNTFhYjI3ZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90aW1lTWF0aC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdGltZU1hdGguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJiY2RmMWViYzhlNTliY2U3OTkwODJjMWM3ODRjZmQ2MWQ3Y2YxNjRlZDM3YTNiNWJmYmZjMTdiMzY2NjdmMTM3ZTBmYWQ1NDFlNjQ0OGQwYTU1NGE2ZWZlOGM0NDViNzVmMjAyMTIxMzllOTQyNGUxMmY4N2EwNGI5ZTUyZWIxMSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlR3VhcmRzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90eXBlR3VhcmRzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMzc2ZDY5MTE4ZDhkMTE0ZmZkYWNkNTI2ZWYyMzVhNGM0NzAyYzU1M2U1MGVhZjg1NDkyYTJkNGE4M2NiZmY1ZTFjNWQxY2IxYWMyNjRlMjVlNTlmZTI0OTAwZjE1NzJjYTgzZTJhNjNlOWU2Yzc0NGJkYzY4MzA5OGEwNDQ4NDMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdHlwZXMtaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVzLWluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2FiOGI0MzBlOTE0ZjdjNDA3M2NjNWYwMWYzZDUwZGY1ODhiYWIwYzM5ZjhjODU3MGFmNzNmODg3MGE2OTI0ODRhYTU3YzE1MmM3MThjOTA2N2U4YTE5MzdlMjVjNGZjYjBmZjZiYTA4NGFlMGJmNmU0Mzc2YTMwNjQ4MjA1OGYiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yIjogewogICAgICAibmFtZSI6ICJAYWdvcmljL3ZhdC1kYXRhIiwKICAgICAgImxhYmVsIjogIkBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yIiwKICAgICAgImxvY2F0aW9uIjogIkBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBhZ29yaWMvc3RvcmUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9zdG9yZS12MC45LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2V4by11dGlscy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZXhvLXV0aWxzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiN2VjOTdiZDI4ZmJhZTE0ODU3OThlYWQyZDgwZDFkMjc1MGI3ODQ2NjJiM2E4NzIwOTBjZmMyYmEyMWM4MTY2NTlhMDI4MmRiM2RhODk5YTk5YmUxMTk5ZDYxMGU1ZmQxNTU0YWVkNjcyMzFjYzM5MzI3YjllOGY0MzJiMWY2OGEiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2luZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZDcyZmUzYTY4Mzg4M2U4NWNjNGRkM2I4NmE4YjVmYzFmMmJhMWY2NzdlYjgwMzMxOTkwZmQ1NDUwNTZmOGYxYTMxYmQ0ZTY5MzU4ZWJhMTNjZTkwZDFhMmM1Y2MxYzMyZmY5NTkwZDI5MGY0Y2Q4NzQ1OThlODdkMDI3OTczOTIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdmF0LWRhdGEtYmluZGluZ3MuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3ZhdC1kYXRhLWJpbmRpbmdzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMjhmYzVlNmE3Yzc1Mzk0ZTAxNjViMGZmMzFkNWU1MzZjNDA1MDFjMjM2ZTVkZTIzNjJlYWZiMDE0NjY0YmQzNDhlZjU5MGVjMjhhYzQ1NDMwYzEyODI2NTk2MWIwZjBmZmQ2NTM5N2JhMDA5ZDIwOTYyODcyMWE2MzA4YWFmYzQiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBhZ29yaWMvdm93LXYwLjEuMCI6IHsKICAgICAgIm5hbWUiOiAiQGFnb3JpYy92b3ciLAogICAgICAibGFiZWwiOiAiQGFnb3JpYy92b3ctdjAuMS4wIiwKICAgICAgImxvY2F0aW9uIjogIkBhZ29yaWMvdm93LXYwLjEuMCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAYWdvcmljL2Jhc2Utem9uZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2Jhc2Utem9uZS9oZWFwLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvYmFzZS16b25lLXYwLjEuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaGVhcC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2ludGVybmFsL3NyYy9qcy11dGlscy5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2ludGVybmFsLXYwLjMuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2pzLXV0aWxzLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvaW50ZXJuYWwvc3JjL3VwZ3JhZGUtYXBpLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvdXBncmFkZS1hcGkuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZW52LW9wdGlvbnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZW52LW9wdGlvbnMtdjEuMS44IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2V2ZW50dWFsLXNlbmQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9uby1zaGltLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Bhc3Mtc3R5bGUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcGFzcy1zdHlsZS12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3BhdHRlcm5zIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3BhdHRlcm5zLXYxLjUuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vcHJvbWlzZS1raXQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvRS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvRS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjIxYjRmOWVmM2EwNDRlN2Y5OTc2YzgxNmE3ZjhlMzc5MTJjOTYwYzhiMTRlNjRlYTZiZjVmMjQ2MDRhNjBhNTVmZWVmODU3MTFjNzQ5OTRlNDI1OGQwZTg3NDA2ZDQyMTU4MTZiYjI2ZTcxMzM3OTk4MTUwYWY4OTVkZjUxNDJhIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjI0NjAyNzY2ODc3MjAyZWJhM2U0YTEyN2ExNWE5MzM0MTQ0ODM2NDk1NTI3M2FjNjkwYjEzZDY1NjYxNWRjZjJlOWIwMTYyNThhOTYxZDhmYTllNGVkYzQ2MjJhYTZiMDZlNjJlNjVlODNhZGVhOGU2NTkxZDNjNWE0YTAxYTg1IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL21lc3NhZ2UtYnJlYWtwb2ludHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL21lc3NhZ2UtYnJlYWtwb2ludHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIyY2I5ZDNlNzk3NWQ3NDUxZDYwNWJmYTIxNzVjYmYyZjhlZWIyOTViMDQ3Y2QyZGY0NGY2MGJmYzVlMTJjOWQ5ODE1NDc0NDEyMTEzZDVlYWVlMzRmNjI3YmJmMDJmZTQ2Njc5MGIyMTNhYTU2NmM4YWM5ZDhjMTNlYTA0NDBlMSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9yZWplY3Rpb24tdHJhY2tlci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcmVqZWN0aW9uLXRyYWNrZXIuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1MWNjZGFlMjQ2MzU4NGY1ZWI0NGNhZjZmMzg0ODA4Yjc1NjIxY2MwOWQ1OGNkZmMxNTMxZmU5M2RkYjk0ZjI0ODNlMWRkMjk5MGMxNWU5M2IyMGIxZWNkMDQyM2U5MDllY2MwOGJhN2JhNjNlZmQ0YmY4OTIwMDVlN2U4NjQwZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9yZXRyeWFibGUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3JldHJ5YWJsZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImNiZmZkY2IxNjUxODg1MDNiZDNiM2ZmYWJiMjU5NGQyMDg4MzlkOWY5NzhiOTRiODI4NjczZTRkZjk3OGUwYmZlZjZmOWJmMmExYmZhOGMwNzNkYzYzNGE1ZmE4NDFmNTE4N2Y5ZDAzZTFmYTYyOGFiZjc1Yjk2MjVhZWE0NzA5IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3Rvb2xzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90b29scy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImZiOWJhMDI1MWY3M2IxNmQ2NGUyODFiNjBmZDRhYTUwYzc0OTJiZThmYjRhZDViMTI4ZDA5ZGMyNWRiMDk2ZGVlZWY3NGFjYjU0ZGZiMDA3ZWY3NjU2YjM2NmRjYTRiZDIyY2YyMGUwOGY1MTNiMzViZmZjZjc5Nzc0OTFmNjc3IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3RyYWNrLXR1cm5zLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90cmFjay10dXJucy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjY4NWUxYzgzN2U4YjhhYTVhMTMwZjRkMGUwYTNkOTExNzc2NWI3ZmE5MTUxNTU1OTdhYzE5ZTE1YWE1YTg2ZTE0YTc3YTRhZGY1ODIxMzI3NmEwNDgxNjNhZGZmMTM2ZDQ2YzRiZGViOGRmNjJiOWE1NjBlMjBlZDdiMzgzZmM1IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVzLWluZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90eXBlcy1pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNhYjhiNDMwZTkxNGY3YzQwNzNjYzVmMDFmM2Q1MGRmNTg4YmFiMGMzOWY4Yzg1NzBhZjczZjg4NzBhNjkyNDg0YWE1N2MxNTJjNzE4YzkwNjdlOGExOTM3ZTI1YzRmY2IwZmY2YmEwODRhZTBiZjZlNDM3NmEzMDY0ODIwNThmIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3Zvdy11dGlscy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdm93LXV0aWxzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNzRiMWJmZDRmN2Q5NGZmY2FlNGQxMTg4ZmI4NDNjYmEwODMxN2NiNzE1OTFjODBlZDVjYzU4MTJjMTg2MjcwZWE1YjcxZWZlZTA0MDY2MDdjOGFmZWI4NDIzN2I5Y2ZlMDRkMzcyZTBkY2VhOWVlNDQxNmE0NmU0ZmE4NzY4ZTciCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdm93LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy92b3cuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1OTM2OTQzN2ZmNmY1NjA4M2UyMTIzM2EyYjE3MWFiMTc3ZmNmMzg0YTVhMTY4MGI3NjAxNzg3ZmE3NWQzOTNlYWYzZGJkM2FkZTMwODZiMDM4OWVjODQxN2FmNzJhMzEzYTBhNDJhZGM5OTA0NmM2MzFiNmUzMzViM2ZiZmQwMyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy93YXRjaC11dGlscy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvd2F0Y2gtdXRpbHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlYWUwZGZkMTdmNmFhMjQ4ODM3ODE4ZmZkMzQ5ZGYzMWI5NDlmOGY4MmM5YWE4MzgzMzI0ZTQ1Nzg4NmRiMDBkNzIxYTM2ZTFjZTBhMmY2MzhkNjNjMTdiMTZkZGM1NGExODljODBiZTVlNmQ5MzhhOWJkNTliZDc3NTlhNDQ4NCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy93YXRjaC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvd2F0Y2guanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJiOTI0ZWQ5MjQ2MDUxNWJkYzkzZGJkNGZkODE5ODU4N2ExZTIwMWU5ZDE5MWFhMzQzNGE2Zjc4MmE1YzMxZTViNzc2OTZjZDgyNjllYzQ3MjY4NmVhYWZlYTk2M2IzZDZjNmJjZTAwMTkwMmY3Y2MwM2Q0OTY0OGZkM2U3OWZiZCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy93aGVuLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy93aGVuLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNTk1ODgwZGMzZWVjMjEyYTdjZmFkYjczM2JjNzdlMjZlNjJkYTRjODQ1ZWVkYzQ2NDY1NDUyNWUzMTI0NzNlYjdiNjQwNzA0OWZhODlkYWFiYzU0MTIzMjNjNTg0M2IwODk0MmRjNjNkMTM2ZTY5ZDg0YjZjOWNhNGYwZjFiMGEiCiAgICAgICAgfSwKICAgICAgICAiLi92YXQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAidmF0LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMTkzMWQxYzU1NTg2M2Y5MTVhY2Y4NTA4Zjk0MGM5NzZjNzA1MGFhMGVhZGMzMDg3OTAwYmNhNTljYjJhZTM2NWU3OGJmMTMxYjIxODQzNzJmNDAyNDc4NGM4MmJlNTYxZjAzODJlNGIxMWVkM2Y5ZTdjMzUxM2NiNjRlMWU5ZGUiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBhZ29yaWMvem9lLXYwLjI2LjIiOiB7CiAgICAgICJuYW1lIjogIkBhZ29yaWMvem9lIiwKICAgICAgImxhYmVsIjogIkBhZ29yaWMvem9lLXYwLjI2LjIiLAogICAgICAibG9jYXRpb24iOiAiQGFnb3JpYy96b2UtdjAuMjYuMiIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAYWdvcmljL2Jhc2Utem9uZS96b25lLWhlbHBlcnMuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi96b25lLWhlbHBlcnMuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9lcnRwIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvZXJ0cC12MC4xNi4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9lcnRwL3NyYy9yYXRpby5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL2VydHAtdjAuMTYuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL3JhdGlvLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvZXJ0cC9zcmMvc2FmZU1hdGguanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy9lcnRwLXYwLjE2LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9zYWZlTWF0aC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL2ludGVybmFsIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9ub3RpZmllciI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL25vdGlmaWVyLXYwLjYuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvbm90aWZpZXIvdG9vbHMvdGVzdFN1cHBvcnRzLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvbm90aWZpZXItdjAuNi4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi90b29scy90ZXN0U3VwcG9ydHMuanMiCiAgICAgICAgfSwKICAgICAgICAiQGFnb3JpYy9zdG9yZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3N0b3JlLXYwLjkuMiIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvdGltZSI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAYWdvcmljL3RpbWUtdjAuMy4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAYWdvcmljL3ZhdC1kYXRhIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZXJyb3JzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vycm9ycy12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9ldmVudHVhbC1zZW5kIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvbm8tc2hpbS5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9mYXIiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZmFyLXYxLjEuMTEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9tYXJzaGFsIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL21hcnNoYWwtdjEuNi40IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9uYXQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vbmF0LXY1LjEuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3BhdHRlcm5zIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3BhdHRlcm5zLXYxLjUuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vcHJvbWlzZS1raXQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29udHJhY3RGYWNldC9vZmZlclNhZmV0eS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY29udHJhY3RGYWNldC9vZmZlclNhZmV0eS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImYzZWQ3MzU0ZjFkYmZjOTkxOTdlYTMzMjg1NjhhMjZlMDM1MzRlYzkzY2QxZTFjNTY5ZDc0YzAwN2Q5NjA3NDcyOTg3ZDE0MThkZTk1ZDc4M2VlZDA0NWE1ZTcwNDlmOTA3NzIyMmNjNmM3OTBjZjdlNmNhYTc4ZDZhZjNjYmIzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NvbnRyYWN0U3VwcG9ydC9hdG9taWNUcmFuc2Zlci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY29udHJhY3RTdXBwb3J0L2F0b21pY1RyYW5zZmVyLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYzcwYzhiMmEyZTg3MGEzY2NkNTI2M2RmODYwM2UwNmFkNmU3Njk5MzQ1NTc5YjczYmNmYjRmNzJlNzZkOWQ3Y2VhNjE0M2MxYTM3YTc1YjJkNTVjMDJjZjIzYmZhYWE5ZGMwZjYyMzlkYTA0YjA4M2MzOWQzNDZhMjgyNDA0OWYiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29udHJhY3RTdXBwb3J0L2JvbmRpbmdDdXJ2ZXMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvbnRyYWN0U3VwcG9ydC9ib25kaW5nQ3VydmVzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOTQ3NTVlMjkyYTI2ZDJiMjk3YTdjYTllNDlmOGJiODQ1NThmMzNiNmQzNGVhMjE5ZDc3N2IyZWU4MGI0ODUwYjE3YTUxODk3YmEzMjllZjZlMTVlMTk4YTdjYzFiOWU3ZjAyYzEyZWM5YWM2MDA0OGEwNjExYmJkOTc3MDU5MzIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29udHJhY3RTdXBwb3J0L2R1cmFiaWxpdHkuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvbnRyYWN0U3VwcG9ydC9kdXJhYmlsaXR5LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMzk1M2ZmMzE5ZjYzOWM2ODE1ZmViMGUxMmQyNzQzYjg5MDQxNmI1NTE0MmRlNWVkNDU0YWZkMzU3N2NlMDYwYzA3NGRjYTFhNmY4N2I5MWI4MTY3YjQ3ZGIyM2Q2MDdhNzJjODlhODEzNGUyN2NjNTcyZDhiYjNiZWM2MjFhY2MiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29udHJhY3RTdXBwb3J0L2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb250cmFjdFN1cHBvcnQvaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4MDAwOTQ2MTNhNTY5YjFkM2VmZGNjZWJjNDQ0NTgxMWYxMTBmNzc3ZGQ5MTZlYWFhYzA1YTVlZmZjMzVlOWRhYWI1OWEzMjdmYmJmZTMwZTFiZDEyOTNjMmJkMDZjNTQwODU1ZmM3MmJiZTQwMDg1NjQzMGFkNjZhZjM5OTI1ZSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9jb250cmFjdFN1cHBvcnQvcHJlcGFyZS1vd25hYmxlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb250cmFjdFN1cHBvcnQvcHJlcGFyZS1vd25hYmxlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZDkyNzIxZDg4NzUyYzFjNGNiMzJiMzgxZGYxMGYxMjZjNGI1M2UyMGY2Yzk4YjU3NDhhYmRiODU0MzgwOTEwYjYxODk3ZmUwZDFlYjA3OTZmMGE1Yjc5N2FjNDFjZTVlN2UwMjBjNmU2NDExY2I3MGY5ZmFiMDIwYzkzYjA0NjAiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29udHJhY3RTdXBwb3J0L3ByaWNlQXV0aG9yaXR5LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb250cmFjdFN1cHBvcnQvcHJpY2VBdXRob3JpdHkuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJhZmU1YTA1ODY1NzJjY2I3MWNhNDNmOTFhNzJjNzg5ZTJjNWE4YTc1ZTVhZWZiNDM3YjRlNjZkZDRiOGNlM2VjODIyMjRlNzYxOGQ0MWE1MjI1OWExZTZhM2EyYTA1MGM1NzliMTE3Mjg4NWMyZmQ1NzQyN2U2YjBhNTBhMDdlMCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9jb250cmFjdFN1cHBvcnQvcHJpY2VRdW90ZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY29udHJhY3RTdXBwb3J0L3ByaWNlUXVvdGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJkMDg5Mjg0NzZiZjFkZDkwYzEzZTdjYTkwMDI2ZDhmNmMyNDI2MjMyNTNjOGE1NzIzN2NiMTllNzEyODgwMzc1ZjcwZjc3ZGEyNGZiZGM0ZDMwNTQ1NmQzNjM2NzdhNzliZDg3ZTg3MmY2NjBlYmE0MjA3Yzk3Y2VlOTY1MTFmYiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9jb250cmFjdFN1cHBvcnQvcmVjb3JkZXIuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvbnRyYWN0U3VwcG9ydC9yZWNvcmRlci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImExNjZiZjJjYzFjNjA3MDMwNWFmYzZkNmYyYjQwYTdlZTVmZDhjMjJlODNmNTMzNGE4NDA3NjBjODFiNDMzNjg5M2Y3MTZlNGY1MGNhMTdhZmFhMDUwZDkyZGZmMGRiNzQwYjMwYTIwYWVjOThkNmQzMmFlNDI0ZmIxMzM0OGNjIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NvbnRyYWN0U3VwcG9ydC9zdGF0ZU1hY2hpbmUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvbnRyYWN0U3VwcG9ydC9zdGF0ZU1hY2hpbmUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2ZjRjZDE5N2E4ZTQ3Y2MwNzIwNzYxYmQ2M2ZkYWFlNThlZDJiZDQwNzY4Y2FmYjU0OWRmZWFhOGQzNzY4NzVhNDYyOTBhODA5N2VkMmNiNGQ4NDJjYTdhZmZjODRmMjMxZGYyOGI5NGViOGYyY2MyYTU0Y2VhOTFkMzdmOTE4ZCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9jb250cmFjdFN1cHBvcnQvc3RhdGlzdGljcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvY29udHJhY3RTdXBwb3J0L3N0YXRpc3RpY3MuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJkYjg1ZmNkYjIwNDg0NjIxNGFmYjU0YmUzZjAwZGE5ZDhlOGJiNDk5NzNiYTQxZTFiNDMwZjI4NDdmYzQ1NDI4YzEyNjkyZGQ1NmM2NTFmNDllYzBiZGEwMDM0NDM5NWUwNDQ4MTE4ZTBjYzI2OTEyZTAxZDNhOTk3NTBmMDAzNSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9jb250cmFjdFN1cHBvcnQvdG9waWNzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9jb250cmFjdFN1cHBvcnQvdG9waWNzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZWI5NGMxZjY2ZTBhYzUyYjYxOGE3YjVjZTc4ZWFkMzcxZDRkNzhiOTA0NGFmMTJjY2I0NDYwOWEyMzA2YWY0NDAzNzBhMzM2ZDk3YWU4MjliMmU0YmNjOTk0ZmI3ODkxMDhhYjRiNzNmMWIxYzFhZmQyYWQ4MmYzNGE5NjBkMjkiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvY29udHJhY3RTdXBwb3J0L3pvZUhlbHBlcnMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvbnRyYWN0U3VwcG9ydC96b2VIZWxwZXJzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiODZjNTZiN2UzOTJjYjBiOGE4ZDdkMWRjYTcxNzljZjkxMTA0OTBiODFiM2NlYjQ5NGVhMjM4YjU2OTZjZjdjMGFjZmQ0NTIxNmU3ODY2ZjYzNWYwMDliOGE4N2RhMDY2YmM0OTBkMWJiYzAyYTBhN2IxNTExY2JkODZlMDcxN2UiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdHlwZUd1YXJkcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZUd1YXJkcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjM1ZGE0NzQ0Nzk5MGZjZjMxZTU5MjE5N2MxOGU3YjgyNGE3YTQ4ZWUyMGNkZTMxMzBmNTlmZjg2OGY1NjA3ODdhY2EyNGM4MzYzOTQwODJmNzEzZTA2NmU4YTEyZTJkYTczMjYxMTJkN2NmYjdkMDVmZTg3N2M3MzliNjExMzQ3IgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAYWdvcmljL3pvbmUtdjAuMi4yIjogewogICAgICAibmFtZSI6ICJAYWdvcmljL3pvbmUiLAogICAgICAibGFiZWwiOiAiQGFnb3JpYy96b25lLXYwLjIuMiIsCiAgICAgICJsb2NhdGlvbiI6ICJAYWdvcmljL3pvbmUtdjAuMi4yIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBhZ29yaWMvYmFzZS16b25lIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBhZ29yaWMvYmFzZS16b25lLXYwLjEuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBhZ29yaWMvdmF0LWRhdGEiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGFnb3JpYy92YXQtZGF0YS12MC41LjIiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Bhc3Mtc3R5bGUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcGFzcy1zdHlsZS12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vZHVyYWJsZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJkdXJhYmxlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYjIwOGRlZjhkZjFjYmUxNDE4NjY5ZGVkZjgwYmRmNTk1MzU4ZjUzNjZkMTE4OGFjMDRmZTRhMmNiOWM1M2NhODg0ZDg1MjE1YzkwZjFiODdmOTQ5YmIwNDhhNzk2ZWU1YjZmZGExM2Q1MWEyNTllMjU3NDQ2NDgxOWQ2MjJjZDMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZHVyYWJsZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZHVyYWJsZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImU3OWIxOTFhNzM4MDQ4ZDY2NGFkYzIyNTI2NmZiNTI1YjBhZDg4YzE1ZGNkYjQ4ZDVhYTBlYWY4ODA3NmY5ZDU4MjdlYmU4OWQ2NDc1MTQzZDYwMjkxYzNhZmQ0Y2NhNzZmNTY5MWY1NzFmZDEyMWQ2MjU3NGViYjIzOWFjNmExIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQiOiB7CiAgICAgICJuYW1lIjogIkBjb3NtanMvZW5jb2RpbmciLAogICAgICAibGFiZWwiOiAiQGNvc21qcy9lbmNvZGluZy12MC4zMi40IiwKICAgICAgImxvY2F0aW9uIjogIkBjb3NtanMvZW5jb2RpbmctdjAuMzIuNCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICIuL2J1aWxkL2FzY2lpIjogewogICAgICAgICAgIm1vZHVsZSI6ICIuL2J1aWxkL2FzY2lpLmpzIiwKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQiCiAgICAgICAgfSwKICAgICAgICAiLi9idWlsZC9iYXNlNjQiOiB7CiAgICAgICAgICAibW9kdWxlIjogIi4vYnVpbGQvYmFzZTY0LmpzIiwKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQiCiAgICAgICAgfSwKICAgICAgICAiLi9idWlsZC9iZWNoMzIiOiB7CiAgICAgICAgICAibW9kdWxlIjogIi4vYnVpbGQvYmVjaDMyLmpzIiwKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQiCiAgICAgICAgfSwKICAgICAgICAiLi9idWlsZC9oZXgiOiB7CiAgICAgICAgICAibW9kdWxlIjogIi4vYnVpbGQvaGV4LmpzIiwKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQiCiAgICAgICAgfSwKICAgICAgICAiLi9idWlsZC9yZmMzMzM5IjogewogICAgICAgICAgIm1vZHVsZSI6ICIuL2J1aWxkL3JmYzMzMzkuanMiLAogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBjb3NtanMvZW5jb2RpbmctdjAuMzIuNCIKICAgICAgICB9LAogICAgICAgICIuL2J1aWxkL3V0ZjgiOiB7CiAgICAgICAgICAibW9kdWxlIjogIi4vYnVpbGQvdXRmOC5qcyIsCiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGNvc21qcy9lbmNvZGluZy12MC4zMi40IgogICAgICAgIH0sCiAgICAgICAgImJhc2U2NC1qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJiYXNlNjQtanMtdjEuNS4xIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJiZWNoMzIiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiYmVjaDMyLXYxLjEuNCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9idWlsZC9hc2NpaS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJidWlsZC9hc2NpaS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1janMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjg3YjkwOGJlZGZkM2VlM2NhODg2YWYzNDk3N2U4ODY0MWM3Y2MyYWYxMDliOGJmYjE0MWI0YmI2ZDMzYzIxOTBkYTYwN2I1NDUyYjFlZGQ4MDM4MzE0OTEwMmI0OTg1YTZlNjg5YzIxMGY2ZmVkYjYyMGZkZjYzNmMzZWU1YzdlIgogICAgICAgIH0sCiAgICAgICAgIi4vYnVpbGQvYmFzZTY0LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImJ1aWxkL2Jhc2U2NC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1janMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImZmOGNlMzFjNzk5ZDZmYjFiNmI0ZTMyODFkMWRkOTkwNmZiZDkyMjc0M2IxNzA3OWM4NzEzZTczNWNlY2Y1OThiNTViZWM1ODliNDBmZWMxMGEzNmNlZmY0MTQ3NWRkNjIwNTBkNDJlYTQ1ZDEwMTU4ZDc5MGVhN2MwMzEwYjEwIgogICAgICAgIH0sCiAgICAgICAgIi4vYnVpbGQvYmVjaDMyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImJ1aWxkL2JlY2gzMi5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1janMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImIyNTA1Mjg3YTI0ZTk2ZTM1NzhhNDgzNzMzMmVkNWFlOTdjYWZkNjQyYjQwNjE3OGIyMTY5OTA1OWI3NDMzM2UzYzhkYzJkODQ2MmUzMTM1ZTcxZDMzMjg2NDg2NDdlODE5MTg4YjFjYzYwYmUyOTFmYTYyMTY0ZjNkMDgyMjUyIgogICAgICAgIH0sCiAgICAgICAgIi4vYnVpbGQvaGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImJ1aWxkL2hleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1janMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjBmNWIyZjMxN2JjNzMyODMwMjFiMGYzOTgxZjFiZjQwZTUyM2JiYWZmMTQzNjUxMzNlODkyYjA4M2U3N2MzMTg5M2NlZTRiYzlmZDIxNWUyZDU0ZWEzZTYxZjgzZDUyZmIyN2M1ODAzMDIyZTRjMjU3NzVmMmE5OTg1YWM0YTFkIgogICAgICAgIH0sCiAgICAgICAgIi4vYnVpbGQvaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiYnVpbGQvaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtY2pzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1NTIxNjRmN2NjOTA3N2Y0MWMzMzBkMDk4YThjODY5MTg5OWYxYzhlMWVhMGZiNWY0NGNkYTk0MWNkY2U2MzZjOWUxM2Y3NGNiMzE3Mzc5Y2RiY2I4MWVkNzY3M2M3YTcwNTRmYTgzMWY4NTE5ZGVkYWRkMWFkMTU1MGUwZjkwZCIKICAgICAgICB9LAogICAgICAgICIuL2J1aWxkL3JmYzMzMzkuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiYnVpbGQvcmZjMzMzOS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1janMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjhjMDFhNjc2MzQ0NGU5ZTM4MDY3ZDBhYWE0MmFkZGRjMjIyZjk3ZDA3ZWIyMjVmYmUzYWRlNmUwNTZkYWRjMWVkNDk5ZjgyMTI5NTZlNzMzNzQxYmU5MzlhZDBmZDUyMWIwZWY2M2IxYjkyNTYzMzhkZTg2MGM3OWFlNWVjNDViIgogICAgICAgIH0sCiAgICAgICAgIi4vYnVpbGQvdXRmOC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJidWlsZC91dGY4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLWNqcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMTNjMzhiNDEzMWM4NjhjZWJmNWE3YWU4YTJhMTgzNDVlOWQwZmIzNDFmNTFlOTY1N2JmYmIxMmY5MzVlZmI4ZWJlOWY5NmI1Njg1YzNmNzMwODZjYzU3MzIyOWQxZDI0MDQwYjg1OTM0ZjU1NTA5MmU4NTc2ZWM0ZTJjNTM0YmEiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBlbmRvL2Jhc2U2NC12MS4wLjkiOiB7CiAgICAgICJuYW1lIjogIkBlbmRvL2Jhc2U2NCIsCiAgICAgICJsYWJlbCI6ICJAZW5kby9iYXNlNjQtdjEuMC45IiwKICAgICAgImxvY2F0aW9uIjogIkBlbmRvL2Jhc2U2NC12MS4wLjkiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiLi9hdG9iLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImF0b2IuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIyYTE5MGVkN2QyYWM3NTY3ODRmZTBhMTAzOTMwM2ZmZDliZjAzN2M0NDBiYmQyMmZlYmEwZjQ2ZGMwM2RjNWI2MjE2MGZiZWU5ZDQwNGRhOGNiZjkyZDAxNGQ5ZGE2OTVhZjlmZWU5MDg1NzQzNGNlMmRiODA1N2QxOGY1YTVkNyIKICAgICAgICB9LAogICAgICAgICIuL2J0b2EuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiYnRvYS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjdjYzYwODU2YWQ3ZGI5MDAwZTc3MjdkYTYxNDk3OGI1MDhkNjFmZGJkNGRjODJiODFkNGUzNDNlMWUxMzkyZWNiYTgzOWQ0NmQwNDkyYjM0NWVhOGJhYTZmZjgyNjEyYjU4Y2VjMmE3N2Y0OTk3N2E2OTE3NjVkNmZjMTQ1NTI0IgogICAgICAgIH0sCiAgICAgICAgIi4vZGVjb2RlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImRlY29kZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImE0ZmE3NzZjZjNjYmQxNmRkODJkNWMzM2M4MWMyMzgzMGI2MjgxMDA2YWRjNzgxODA1MTZmYjJiODFiZTYzNDU4YWRjYTU0MmU1NGFmODA3ZjJkYzc3YzNlYmYwOWFlZGRhYzhkYmU5ZmQ5NjQ0MDZmODRhNWI2OGIxMzU2ZTZkIgogICAgICAgIH0sCiAgICAgICAgIi4vZW5jb2RlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImVuY29kZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjY5NGI4NmFjZTAyZGRjMjI2MTk4MTUyMTFmMjdiOWU3MzJlOWRkYmQ2YjBmZWFjNTJlNDI4NTYwNWU5NWU0MTFiMzdiNzUzOWQxZTc2YjFjN2Y5OGQyZmFkZTc5ZmU3MDcxZmY4MWU3N2I0OWU0MGMyYjhlOGVkMjEwZTMzZDZlIgogICAgICAgIH0sCiAgICAgICAgIi4vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzMTM1ODgxOTYyMzU3MDc0N2QwNTYyYTI4Y2Y3YzJkYWE3Y2Y3MThmYjA5OTNmNTg3NTdhZGQ0OTljMDMxZDEyOGVlOTAxMjYwYjgxOTUzYzRlOTAzMmNkYTMzODYzYmMzODkwYzE2YzRjNWI2OTQyOGY0ZGNkYmQ4NjUzODk2YiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9jb21tb24uanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvbW1vbi5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjEyMzI0MjNiOTlmNjA0MWMzYTBmNzNmYTU0N2M4NzI4YWI3YWQ5MDdmZjE5NmE1MDVhN2Y2ZTQwODIxY2U5MTYxMjc2NzE1NGQ2NDM0YzUyODg5ZWRkYTgyZjE3NWRiMWJkNjcxZGQ2ZTA5OTFhNmEyMDExYzkzNjIwY2U1YmMyIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2RlY29kZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZGVjb2RlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYmMxZTZkYmFhMjA0MGVlOWZiMDY1YmM2NjIxMzI4MmM4NTgyYTc4NjQ4NGQwY2JhNmQ4NTMyODlmNWIyZTEzZjlkZGM1NjkzMWU1YjljMWQxMTg1MWEzMzdiYTVkNDIwNjRkYWUwMDg1Y2U0YjBkMTIxNzQ0MDkzODAyNzBmYTciCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZW5jb2RlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9lbmNvZGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI5MWJlMjI5ZGRkMGExYWJmMjk0ZjhkYjZhMjYzNTI1OGI0YWVjMzJjYzcyZjMzZGUyODdhMDE3NTVmMmYxYTQ3YmYwN2U3NjJhZWQ4YjBjMTNiZDBlMWU3NTY4YTliNmE0MTQyOTgyYzE5MWJkYzdiNzEyNmJjM2ExZmQ0NzYzOSIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGVuZG8vY29tbW9uLXYxLjIuMTAiOiB7CiAgICAgICJuYW1lIjogIkBlbmRvL2NvbW1vbiIsCiAgICAgICJsYWJlbCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICJsb2NhdGlvbiI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2V2ZW50dWFsLXNlbmQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9uby1zaGltLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Byb21pc2Uta2l0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vYXBwbHktbGFiZWxpbmctZXJyb3IuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiYXBwbHktbGFiZWxpbmctZXJyb3IuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlNTMxMWQ0MjI3OWMzOTAzZDYyNWYxM2VhNmIzZmU3OTdiYjFlYTAyYjk1ZTA2MzczYTkzZWMzOGM4MzkyYTg2YmRhNTEyYzg0MWI4YjRiZTQwZWFiNWY1M2JhNTY2ZjE4MjAzNWUwZTgxZDM2M2RiNjY0YWEwN2VjYzJlNjU3YyIKICAgICAgICB9LAogICAgICAgICIuL2Zyb20tdW5pcXVlLWVudHJpZXMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZnJvbS11bmlxdWUtZW50cmllcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjA4ZjQwMjY2MTg4ZWViOGE0ZmRhZDEwN2MwNjI0NTdlODE0YWRhZDlkY2YxYTZjNzcxZmM5ZDM0NDNlODgzZTQzMjg3ZTQyZDRkOTFmZWMxYzQ0MjdjM2JlNWRjMzU5NmRhMzMwYzJjMDJlNDQ0ZmNlYjg1MjM4MzBjODM0MDBkIgogICAgICAgIH0sCiAgICAgICAgIi4vaWRlbnQtY2hlY2tlci5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJpZGVudC1jaGVja2VyLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNTk3ZjE4OTMwNWZmMGU0ODc2ZmU1ZjRhOGRjZjg0ZTM4MzU2YjhhMzk1ZTllYWNkNzNiODk1N2NiMTkxMjE0NWI4NTc3OGFjYjcwNWYxMDAwYTI4MjhjZmFiNzcwNWY5NWNmNGQxOGQ0OGI2MGVlODQxMTE3MDNiNmNhMzdhOWIiCiAgICAgICAgfSwKICAgICAgICAiLi9saXN0LWRpZmZlcmVuY2UuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAibGlzdC1kaWZmZXJlbmNlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiMjY2NjZhNDY5M2YwY2NkNjM2ZGMzN2UyMjViMjQ5MmJiYzk4MDQzZGUyMGYwNTczYzRjMjAyZWZiYzMyOWI4MmQ4MTM3NmNjNzJkYTc4NjZkZjA5YmE4OTMxOTU1NmFhMGFjOWFlNDEzZGVmNjAzYTE0YzkwZDQ5Yzg2MWI1Y2IiCiAgICAgICAgfSwKICAgICAgICAiLi9tYWtlLWFycmF5LWl0ZXJhdG9yLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogIm1ha2UtYXJyYXktaXRlcmF0b3IuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3YzUzNDhhYmVkMDJjOWQ1ZGMxOTQyY2FiODg4Mzg5MjQwMjU3ZTQxYWQ3MWM4N2YzOTQ2YjUxY2Q1MjExY2Y4OTk5NDM0MTJiNjk3NDk1NzRhNDFkNWE1OGEwMDdhZjBhNDQ3ZTM1MTUzOTlkZWNhYTYzMjQxOTk2NTUyMzY5MiIKICAgICAgICB9LAogICAgICAgICIuL21ha2UtaXRlcmF0b3IuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAibWFrZS1pdGVyYXRvci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImZiMmM0ODY1YmFmNjFkZGE4ODczZGRkZjMxNDRjYjQ1NTNmMWJmN2U1NzNlM2RlODYyYmFlZTRhYTA1ZDljODgzNjM5OTQ2M2QxNjZiZjdjZDhjZDgyNGY2YWZjNWJiZDhhYWY4ZDJhZjQ4YzQwM2NhYmQ5MmNmYjliODRjYWZiIgogICAgICAgIH0sCiAgICAgICAgIi4vb2JqZWN0LW1hcC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJvYmplY3QtbWFwLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2IzZWYxYjBiOTRiNzBkNTUyYTQzYmJkYTFhYzQ2ZmJhYWQ1NjhlZTAyNDgxM2U4ZTVkODIwMjVjMTE2ZDRhMTc5MzM3MTNjYjM0MDI3NTg1OWZiM2JlM2Y1YTM5NzRhZTY1NmVmMWJlYjAxYWEwZWZhMDVlODBiZTVjMDhkMDYiCiAgICAgICAgfSwKICAgICAgICAiLi9vYmplY3QtbWV0YS1tYXAuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAib2JqZWN0LW1ldGEtbWFwLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOTk4MWM4YzYzMDU4YzI3YzBjYTEyNzA0YjRmNWVkYmMzODQ5NGM1OTU3OGZhZGJlN2IwZmNhMzBiZmQ2OTNlOTQwMGU4ZDM3YzgwYjFkMTNkY2Y0MWJkNTNmMjI0M2Y0ZDNkZmVhYzY2ZjZjNGRmOGQ2YmEwMWY1OThlOWNiOTIiCiAgICAgICAgfSwKICAgICAgICAiLi90aHJvdy1sYWJlbGVkLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInRocm93LWxhYmVsZWQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIxZTZhOGFkZGVmNWI3YjM1MTZiYTU5YzJlYmMzODBlYjBjMGRmYjRkMDc0NTM5MzllNWE0ZWMzYzc4YzVhOGU4ZTNhNjNjMjI4YWM0OWQxNGNiOTk1OTZhMTRlNThkMTdiZmJjYjlkMmZlNjY1YzhkMjg5Njc0ZDU4NTRlYzk1OCIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGVuZG8vZW52LW9wdGlvbnMtdjEuMS44IjogewogICAgICAibmFtZSI6ICJAZW5kby9lbnYtb3B0aW9ucyIsCiAgICAgICJsYWJlbCI6ICJAZW5kby9lbnYtb3B0aW9ucy12MS4xLjgiLAogICAgICAibG9jYXRpb24iOiAiQGVuZG8vZW52LW9wdGlvbnMtdjEuMS44IiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIi4vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJiYmFjYTc2ZWQ3YzZiNjU2NzFmNzBiMjY0NmY2ODk0MzU3MjRkOGI5OTMwYTVmZjI5ZDFmYjMyN2VkOTZmZDQxNDQ2OTUyNTg5NjJkYWZiOTgyODYyYTJlZmMxYjAzZDBhZDk2YjMzYzJjYWU1YmViZmEzNzI2ODg2YTA2ZjY2NCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9lbnYtb3B0aW9ucy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZW52LW9wdGlvbnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI5OWEzMjNjZWExOGYxOWQ3MGYyOWQ5NGU2NjdkMGMyNzU2ZDU2NmExZjg0NjliNWY2N2MxOGRiYzg1NzM0NDkxODVmNWJmNzhmYWIwNzg2ODNiMzQ5MWRhZWNkNmIzOGUwMDkyNmM1MmM3ZjQ1MGExNzAyNmVjOWE3YzliYjY5ZSIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiOiB7CiAgICAgICJuYW1lIjogIkBlbmRvL2Vycm9ycyIsCiAgICAgICJsYWJlbCI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICJsb2NhdGlvbiI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICIuL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYmJhYzkyYmMwYjkyMDc3ZmNhMDU3ZDA2MmNkNGY1OWJiODliZWI5MzBlODM1OTg2MzQ2YjYxYmUwMTA4MjI4MGUyODRmNWIxNDU2YmE4OGQwOTZmMjg2YjEwMWRhZDhhMmJkM2IyOGQ3MTlkNzdiOWIyZmQ2Y2ZkZmU1ZmQ5NjUiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xIjogewogICAgICAibmFtZSI6ICJAZW5kby9ldmVudHVhbC1zZW5kIiwKICAgICAgImxhYmVsIjogIkBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xIiwKICAgICAgImxvY2F0aW9uIjogIkBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBlbmRvL2Vudi1vcHRpb25zIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Vudi1vcHRpb25zLXYxLjEuOCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvRS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvRS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjQxNTVhYTNkNDE3ZDI4N2M5OWM5ODFkMjM3YjJkYWM0NzNlMTdmZmViYWUyZjNkYWEzMjk5MWJkNjEyNzVhZjBmYWZmMDc5MDdiMzA5ZDgzZDUwYjYzNTIzZmQ5MjcwOWE3YmZlOTFlODg5YmNiYzI3MWFlNWQ4ZTJjY2JlMWZmIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2V4cG9ydHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4cG9ydHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzYWI4YjQzMGU5MTRmN2M0MDczY2M1ZjAxZjNkNTBkZjU4OGJhYjBjMzlmOGM4NTcwYWY3M2Y4ODcwYTY5MjQ4NGFhNTdjMTUyYzcxOGM5MDY3ZThhMTkzN2UyNWM0ZmNiMGZmNmJhMDg0YWUwYmY2ZTQzNzZhMzA2NDgyMDU4ZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9sb2NhbC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbG9jYWwuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlNTA3NzhmMWJlZmVjMDEwMmYwZmFjYjg3NTc3NDU5ZjgzYWJkNjZjNWQxZjkxNjA5YmI5YTMxYzM5MzQ4NGE2YTVjYzNhOTVlMTQyZTU2MjY0MWM2YWNjYTMxMjA3NjRiYTNjZmE2NTNiMjc5NmNlMzRlZDEwZjNiZWQ2NDlmZCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9tZXNzYWdlLWJyZWFrcG9pbnRzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9tZXNzYWdlLWJyZWFrcG9pbnRzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYmNmMjVjZmVhMWM0MzdiMzNhMTM0MjczMmNjODZjMThmMDM2MGE5YWRmOTY5YjViYzRjMTgyZmI3ZjM5NzQ5Zjk5NGM1NTEzOWU5ZTU2NTViZWJhOTdiNTQyZGMzNTMzNzUxZGEwNTg2OWUyMWVhMWUxZDA3YTgxMDA3MWViYTgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbm8tc2hpbS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbm8tc2hpbS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImNjM2FkNzAwZDA2NTRlNmE0ZmYyNzdhZWMyNjExNTFjOTdiOTMwMDNmZDUwMjNjOGIzYTM2ZTUxZDhiOGM1OWVjZTJlOTVlMjQ1NDBhNDQ1OTNiYjY0NGY2YjEzZmFkMGZhNjRmNGI2MmQ2MDZiYzk5MDIyZDRmYzEzMjg5YjI4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3RyYWNrLXR1cm5zLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90cmFjay10dXJucy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjRjMDAyZjE3NTczMmQ1NTRhNGYwNzY0YTFkMjUyOThjZmEwOTIzZTQxMWQ4OTI4NDI4OTBkZmM2NGIxOGExMzUyZWE4MmIxZDhlZTc5NmQ5Y2M4ODU1NDlmNDQ3Mzg4YzljYzNhNDlmY2UwNTdhNmIxMDkyNzM2NWM1MDRmMWUxIgogICAgICAgIH0sCiAgICAgICAgIi4vdXRpbHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAidXRpbHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0NjA3MTIzOGIyNWQzMDc2NmY0NDczYjM2MDc1ZGIwNTAwNGEzMDk1YjdiYTZhZGQwNDRkOTg2NjVjN2UwYzNjMzA5ZDA0ZDQzNThhYWQ4YjA1ZGQ4ZmNmMDBmN2RmMjk2MTU1YzVmODI5YjJmOGJmMzhkZGJlZmIxMGQ1ODM0OSIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGVuZG8vZXhvLXYxLjUuOSI6IHsKICAgICAgIm5hbWUiOiAiQGVuZG8vZXhvIiwKICAgICAgImxhYmVsIjogIkBlbmRvL2V4by12MS41LjkiLAogICAgICAibG9jYXRpb24iOiAiQGVuZG8vZXhvLXYxLjUuOSIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAZW5kby9jb21tb24vbGlzdC1kaWZmZXJlbmNlLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2NvbW1vbi12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9saXN0LWRpZmZlcmVuY2UuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL29iamVjdC1tYXAuanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vZW52LW9wdGlvbnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZW52LW9wdGlvbnMtdjEuMS44IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2V2ZW50dWFsLXNlbmQvdXRpbHMuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3V0aWxzLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2ZhciI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9mYXItdjEuMS4xMSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Bhc3Mtc3R5bGUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcGFzcy1zdHlsZS12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3BhdHRlcm5zIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3BhdHRlcm5zLXYxLjUuMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJpbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImM5NDE0NzNjMzA1YmU1N2U3NzgzMWI4NDZiNWRkNzJmMDViMDNlOTc3MDY5ODQxNzRhY2QxZjNhMTNmZjhjY2E0NmMyZDUxMDBmMzVmY2E3ZDhmMDcxNGE1ZGJkOTNkZDA5YjdlNmRiNmRiNGM2MDg5Mzk5YzI0NGVjNDZjY2I3IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2V4by1tYWtlcnMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4by1tYWtlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIxM2QwNTZlYjk3NWJmNTA5MzhlNzUxNTJiNjJkYjdkZmJjMjI2NWM0N2EyOGM3MTcyZGI2NWMwNzkxYTRhYjFiMjI3Y2QzYzIyNjEwN2IyNjg2MDczODViYTViZThhYzlmOTBmNjJkYjVkMGRhYzM5MmRiZTVkZTcyMjQ0OGVmOSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9leG8tdG9vbHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2V4by10b29scy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImY3Zjk3MzE5M2M5YTkyNzNlYmZjYmZjN2U1MjU0YTNmNzhjN2ZmMWM5M2JiOTZlODM3YTUyYjNmMzk0MmU3NDcyNzQ3ZDVlYTZjMDA3MjA3ZWYxMzBiODE1MGJmMzlkNGFkZjhkZWQ1MWM2NWE4MDY3NGJmZTY4NmIxZmU2MWRmIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2dldC1pbnRlcmZhY2UuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2dldC1pbnRlcmZhY2UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIxY2JmZjRmYTY2ODc4OTMzNDhlMTY4Y2RjMGFkNzExMWE1YjNjMmY4OWViNjczYWI3OGU0NmVhNTUwYWExYmZmMmM4MTU0YjE3OTBiZjIzMzI1ODQzYjBmYmYwNzI3YzBiYWM5MDhlNzBmYWQ3ZWJhZDBiZmNmMWMyZWQzZmRmOCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZXMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzYWI4YjQzMGU5MTRmN2M0MDczY2M1ZjAxZjNkNTBkZjU4OGJhYjBjMzlmOGM4NTcwYWY3M2Y4ODcwYTY5MjQ4NGFhNTdjMTUyYzcxOGM5MDY3ZThhMTkzN2UyNWM0ZmNiMGZmNmJhMDg0YWUwYmY2ZTQzNzZhMzA2NDgyMDU4ZiIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGVuZG8vZmFyLXYxLjEuMTEiOiB7CiAgICAgICJuYW1lIjogIkBlbmRvL2ZhciIsCiAgICAgICJsYWJlbCI6ICJAZW5kby9mYXItdjEuMS4xMSIsCiAgICAgICJsb2NhdGlvbiI6ICJAZW5kby9mYXItdjEuMS4xMSIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAZW5kby9ldmVudHVhbC1zZW5kIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvbm8tc2hpbS5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXNzLXN0eWxlIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9leHBvcnRzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9leHBvcnRzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2FiOGI0MzBlOTE0ZjdjNDA3M2NjNWYwMWYzZDUwZGY1ODhiYWIwYzM5ZjhjODU3MGFmNzNmODg3MGE2OTI0ODRhYTU3YzE1MmM3MThjOTA2N2U4YTE5MzdlMjVjNGZjYjBmZjZiYTA4NGFlMGJmNmU0Mzc2YTMwNjQ4MjA1OGYiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2luZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNGFiY2U1YjA1ODQ2MDFhYjU1MDY5OTA0MmQxNmU2NmQwNzRjMjU1YjA0MTkzNmQyYjA3ODczMmE2NDkyN2MzNTE1YTNkNGY5NTBlZTk2MDk5ZWEwNGVkMWRjMTZlNGY0YTg4YWViMGQ4MTFiNGVlYjRkOTdhNDkyZGY1MDRkM2IiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBlbmRvL21hcnNoYWwtdjEuNi40IjogewogICAgICAibmFtZSI6ICJAZW5kby9tYXJzaGFsIiwKICAgICAgImxhYmVsIjogIkBlbmRvL21hcnNoYWwtdjEuNi40IiwKICAgICAgImxvY2F0aW9uIjogIkBlbmRvL21hcnNoYWwtdjEuNi40IiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBlbmRvL2NvbW1vbi9vYmplY3QtbWFwLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2NvbW1vbi12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9vYmplY3QtbWFwLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2Vycm9ycyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9lcnJvcnMtdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiQGVuZG8vbmF0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL25hdC12NS4xLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9wYXNzLXN0eWxlIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNzYzNTAzMTJmMGUyZGI2YTUwMTM3ZTcyZTk2NWRiOGY2ZTAyNWFjMmEzZTljMDkxMmIyYjI3MDdjMmY1M2MwM2Y5ZDdiZDYzOTc4MzM2OTNkMmVlOTMzMGM1MDYyOGVjODQyMWMwYzc5ZDdlNjgwYzRjZjVjZjY5YTA2MjQ3YzYiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZW5jb2RlUGFzc2FibGUuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2VuY29kZVBhc3NhYmxlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYTdjODllNTg0M2UxMDFlZjk4ZDA4MTliNTFhZWMxYzQyNGUxZDFlYjRhNDIwZTQ4NDQwMjY5ZTA3NThlZDM5YThjNTU3ZjRmYzkzOTRiOTFmNjA1NjEzZTZhNDU5NmM1NTJjMTgzOGJlMTRmZDMwYjViZDhhMTY5OGU4NTE1NTMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvZW5jb2RlVG9DYXBEYXRhLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9lbmNvZGVUb0NhcERhdGEuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIyNGZiZjFkZTlkYjQxMTI0Y2QxNTRlMzZmOTI4MjY5ZTVjNjEwNTY2NTc3MjI2ZjNjYzQ2Njg5ZmE0N2RhOWNiOTg1OTIzODVmZDI4NGM3MjQ2ZGY2NzhiNDgxZWUwNzhmMzhhMDYxNTJiYzA0NWRjZGZiYjIyNTEyYmRlNDJhYiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9lbmNvZGVUb1NtYWxsY2Fwcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZW5jb2RlVG9TbWFsbGNhcHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4YmQ3NDNlNjMxZjNmNmQ3ZDhhOGY3ODVhNTE2YTVjMmViYmU3MGViYzRmNzhjZGIyYWE3MDkzYTQ2M2JjOTdjODY2YzU3OTQ4NjgxODg2ZTE5ZWUxMDBhZjY3NjYwNTYwYTgxNjBmYzEwYzMyZDU3MDQ1ZGI0MTZjYjEwZTM2ZCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9tYXJzaGFsLWp1c3Rpbi5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWFyc2hhbC1qdXN0aW4uanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJhOWIyMGU1MjA1NWZhY2Q1NzE1NjkyODk4YjgyYmE5YmVlYzhlOGYzNzMzNTkzZDVmMTk3MTg5YThjY2ExMmNjNDhhNGQ3ZDRkN2U1YmRmNDUzZjczNDQ0ZTYyNjg0Y2Y1ZDM5ZjA1YTQwZjA0NmIwZjM5MGFhYjEyZTI4NDM1OSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9tYXJzaGFsLXN0cmluZ2lmeS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWFyc2hhbC1zdHJpbmdpZnkuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1ZDRiNWVjY2JiOWFmYmI2YmIyZTVmZTYxMzJjNjhkMDM0NDRjYjA5NDk0NGRiNzk1NzU2ZThmNDI2ZmIwMjQ5NWFiYWNjOWVmMjFkNmE4MWE0NzcwMGRjY2QwMzViNjE0NDExZjA5NTNlMzZiNTc0NzU5MmI1MjU1MmQyMzc4ZCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9tYXJzaGFsLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9tYXJzaGFsLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNGM0Nzg0YTM4YTM0ZDU2MTMzMTZmY2M3NjhiZDM0MzUwOWRiMzg4YWVmYTU4NDNiNmYwNzBkMTM4YzUyNzk4YzgwYzI2MGRmZDdhNTU2YzllZDRjZmYzZjY4MDQ1MTkzYzNkYzEzN2IzOWJkZjY2MmQxZDM0NDNjNDVmNWM2Y2MiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcmFua09yZGVyLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9yYW5rT3JkZXIuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI1NzA1MjkyY2Y3MWVhN2Y5MWU2NWMxZTkwYzAwNzQwOGJhMDE4ZTg1ZWEwZWYyZTc0ZTNmOThjMjliZGE0YzYwOTRiOGU0ZWIzODg3NTI4YzZhNmMxOWZmZGMxZjRiODlmY2Q0MTIzZTczMDMwMWJkZjZhNGI2Nzk1NTBjZWI0NyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlcy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvdHlwZXMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzYWI4YjQzMGU5MTRmN2M0MDczY2M1ZjAxZjNkNTBkZjU4OGJhYjBjMzlmOGM4NTcwYWY3M2Y4ODcwYTY5MjQ4NGFhNTdjMTUyYzcxOGM5MDY3ZThhMTkzN2UyNWM0ZmNiMGZmNmJhMDg0YWUwYmY2ZTQzNzZhMzA2NDgyMDU4ZiIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGVuZG8vbmF0LXY1LjEuMCI6IHsKICAgICAgIm5hbWUiOiAiQGVuZG8vbmF0IiwKICAgICAgImxhYmVsIjogIkBlbmRvL25hdC12NS4xLjAiLAogICAgICAibG9jYXRpb24iOiAiQGVuZG8vbmF0LXY1LjEuMCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICIuL3NyYy9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlNzMxYzgyNGIxZDliNDE3N2ZiM2ZlYjVhMWViMDdhMWM1ZGYzY2ExZWE0NzZhMWU1NTg2ZTEwY2IzZjkzYzE0ZDNkNDM2ZjkxNDg5NjE5MzI5MjFlZWVmMjNlYmUzMGZiNmJiMjMzMDQ0ZmJlZWI3NmM2ZjhlMzM1NGI5ZTZlNSIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQGVuZG8vcGFzcy1zdHlsZS12MS41LjAiOiB7CiAgICAgICJuYW1lIjogIkBlbmRvL3Bhc3Mtc3R5bGUiLAogICAgICAibGFiZWwiOiAiQGVuZG8vcGFzcy1zdHlsZS12MS41LjAiLAogICAgICAibG9jYXRpb24iOiAiQGVuZG8vcGFzcy1zdHlsZS12MS41LjAiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGVuZG8vZW52LW9wdGlvbnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZW52LW9wdGlvbnMtdjEuMS44IiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2V2ZW50dWFsLXNlbmQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9uby1zaGltLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2V2ZW50dWFsLXNlbmQvdXRpbHMuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3V0aWxzLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Byb21pc2Uta2l0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJlNTg0MzE2M2E3NGI5MmRlMTA2YzIyOWUwMWU3ZGFiNzNlZWMxMTE3ZTM4MTU4ZGE4NTM2MmFmOWNhMTBmZDhlYzZmZjg1N2Y5YTM5YjRlMmEzN2JhNmE2YjBkOTJmNzYzNTMwNTJhNTBhZWVkOWM1MDA2YjQ2MmU2ZDY0YmNiMCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9jb3B5QXJyYXkuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvcHlBcnJheS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjAzNmMyMzhjMzBhOWZmODY2M2ZkMjZiNTc4YmI5M2VjMjBkZDY1YWFhN2VjZGE0Y2MyODM1Njc5NDkxNDY0NTg5MWRmOGY3OWUxYjIzMjI2YTg0OWEwN2Q0YTlmNWRkZTM1Mzk5NTM0MjZhOWVhNDFmNjM4YmU2OGYyMTQ3ZGEwIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2NvcHlSZWNvcmQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2NvcHlSZWNvcmQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJkNWJhOWVlZDIxYWI2M2VhMmQwOWZlMmUxMjdhNDYxY2M4YTNlYjE3OGJjZjdjZjE5NWE3ZjRiYTIzYTAyNWM1ODYzNzIxYzYxOWU0NGVmOTc1NTE4MjNmYTM4OGQyNWY0Y2QxMDU0Y2IyYWM4YTYxYTBjMTFmYzM3MjFjNjBmNiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9kZWVwbHlGdWxmaWxsZWQuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2RlZXBseUZ1bGZpbGxlZC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjBiNjE0MGI3Y2U5MDkyZjg2ZjVmMjExOWQ4NzE3MTI1MjRlMmE0ZWRjMzIwZTA5NzI5MmZjYjhhMWI1YmY3OTlhN2QyZGYwMjkwN2NlZGRlYTJhMmZjMzJmYzAwYjRlOTI4MzljY2JiNjU4Yjc1ZTQ0MDMyOTEwNWY4MWFjOWFlIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2Vycm9yLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9lcnJvci5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjViYWUyZjFmNDI2MDBiYjk3MjhlYzFkMWU3YWNlN2U1M2E0ZjY5ZDM2ZGU1YThmY2ZiYzg1MGZjNGZkYThiZWI0NjM3YmE2MGE1ZWEwYzZjZmEwZWY1Y2I5YTFkODIxNjFhNzczZGQ0N2U0ZDRlNzY2Y2NhNjU1ODg4ODNlOTIxIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2l0ZXItaGVscGVycy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvaXRlci1oZWxwZXJzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYmFlZmQ5ZTIzNzA5ZmQxY2VjOGQ2ZGQxZWQwYWMxMjUyNTlhZTNhOGJjYWEyYjkxOGJiMzczYTY5ZTdlZjc5YTM5Y2Q2ZDljZjY2NzQzNjY3Njc0OTRlMzkzODMzMmQyNzAzNzEwNDJmODIzMjRjODM0NmJlNTg1NzE4ZDdiY2QiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWFrZS1mYXIuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL21ha2UtZmFyLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYmU4NzU0YzI5ODkzYmRmODhhZWQyOWMyNmZhYzA3M2I1MGEyZjAxMmVhOWM2YzQwYTUyNDE0MGNmZmNlYWVhNGI5ZTJiZTRkNDY0ZTI3M2JmYTg0Y2NkMjdkYzM0OTc3ZGM3NjcyYTQzZWZhMzNiMmEyMjg4NDUxYTFhMDIxOTQiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWFrZVRhZ2dlZC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWFrZVRhZ2dlZC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjVkNWYyYzlkOGM0MWYxYjhiYTk4N2ViODc0YzI2MzUwOWIyMmQ5MGFmYTNhM2YzYmI4ODFkYjlmMGU4MGJhNmEzYjM5M2E5MzBlYmIyOTFlNmY0NzNlZTU2MDUzMGZjY2VlZjNmMzFmZDM2MGZlMzEyNTkxMjVhZWZhNDg3OGY4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3Bhc3NTdHlsZS1oZWxwZXJzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9wYXNzU3R5bGUtaGVscGVycy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjFiZjRhZjhmNjljZjFkNDlmN2JhZjljYTQ0MjczNGNjNzliOTcyYjk5N2JkZTFiMGY4Yzg3MDQ5YTllYmQ0YmRmNGYxNjFiZjc0ZDdkN2RhZDE4ODEwYjllYWRkMTgyMDY4ZjYyMDJkMzQ2YTBiZTUwZjVjNjQyN2MwOTcwNzQ2IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3Bhc3NTdHlsZU9mLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9wYXNzU3R5bGVPZi5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjRmYzdhZjJmNmE4MWFjZWFiZjU5OWIwMWI3YmY1NmFhNjc0Njc0OTRlODUxMjUwMTllNWI4YjUxZGZjMDFlZjBkNjU5NzlmOTJmNWU2YmNjMzBjNWExMjdhMWVmMTY5YjljYTllNDg3MTgzN2JlMWI0NzBiMjg4NmY3ZGJlNWNjIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3JlbW90YWJsZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcmVtb3RhYmxlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYjRmY2NmMDY2NzZhMGY1NTY3ZDcxNzM1YmRiYmYxOTk5NDY0ODY0YTRmMjRhYWY1Y2U2NWYxNzlmYjljN2M3MTYzMTQ1ZTIxNTkxN2ViM2IzMDFhNmY4NGFjY2NlMGQxZDE4NmM5ZjY0Yzk4YjZiM2U3ZmNhOWQ2NTNhYzliODkiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvc2FmZS1wcm9taXNlLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9zYWZlLXByb21pc2UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI3NjA5NzFlZGRlYzllOTM2YjIxMjc0OTJmYmM2YTJkNTAwMGU0ZjRhNTkwM2UzZjEyODZhZmYzODgyM2JlNjU3MjVkYjIyYjAxNDhjM2MzNjI4ZGRiYWViNjM3ZjNlNDQ5NjlmNDNhY2EzN2IwMmYyZGQ1YzhkMjNiOGY3NGE2OCIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9zdHJpbmcuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3N0cmluZy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjJlNTMxNWE2NGJmZDMxOGFmOWIzNTBlNDNhYWRkZWY2MThiOWUwNTIzMjI3ZGRiNDFkZjNiMzZiYTcwODc2MDA0NWI0YzRlMTJmOGJiMGM3ZTU0YWMyNGJhZGQyMTNlMGNmOWQ1YzA0MzZmZGQzOGRiYTcwYjQ4NzE2MmEyOTI1IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3N5bWJvbC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvc3ltYm9sLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiODkwMDE0Mjg3NDEwYjcyY2Y3MDg4ZDI2NTg0NjYwMTcxMTY3MTNmNGQxNDA3ZGNhOTcxOTg5MjY5NjU2NWQwYWJiMTJhZjE2NDU2ZTI0ZGE5MWM4YTI2MjBlMDU4ZDA2YjkwZjhiNTEwNWUzNWM2OTc2YjA3MDQ1ZjdlNWMzMTgiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdGFnZ2VkLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90YWdnZWQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJhOTI3ZjExZWFlYTYxNGMxOTFmOThjOGQ1N2ZjNzE0OWVmODgzODAzMzdiZmY0OWNhZDkzNGM3YjNmZjFmYWIzYTA4YmU3NGY2NmZmZWE5NWFhYTJiOWM0NDNiM2ZlMDVjZDdmOTAxNzVmODM2N2ZlYjg3NDViYmMyNDE4NzI3MyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy90eXBlR3VhcmRzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90eXBlR3VhcmRzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZGE2ZGNhMDNhNjk0YWI3ZGE4OTljY2NhYjM4ZDQ3YzA2MTg2MGIyNmYxZDcyOTI5ZjMwYWQ2ODQxOTFmODA3NDNmODU3NzhmNGFiMGE2Y2I0NWQwOWMwZWViMzBjNDk4YWFiMzhhNDljNjRlOTZhYmE0YTU0MTg2ZGQ4MmMwODMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvdHlwZXMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3R5cGVzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiM2FiOGI0MzBlOTE0ZjdjNDA3M2NjNWYwMWYzZDUwZGY1ODhiYWIwYzM5ZjhjODU3MGFmNzNmODg3MGE2OTI0ODRhYTU3YzE1MmM3MThjOTA2N2U4YTE5MzdlMjVjNGZjYjBmZjZiYTA4NGFlMGJmNmU0Mzc2YTMwNjQ4MjA1OGYiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIkBlbmRvL3BhdHRlcm5zLXYxLjUuMCI6IHsKICAgICAgIm5hbWUiOiAiQGVuZG8vcGF0dGVybnMiLAogICAgICAibGFiZWwiOiAiQGVuZG8vcGF0dGVybnMtdjEuNS4wIiwKICAgICAgImxvY2F0aW9uIjogIkBlbmRvL3BhdHRlcm5zLXYxLjUuMCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJAZW5kby9jb21tb24vYXBwbHktbGFiZWxpbmctZXJyb3IuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2FwcGx5LWxhYmVsaW5nLWVycm9yLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2NvbW1vbi9mcm9tLXVuaXF1ZS1lbnRyaWVzLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2NvbW1vbi12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9mcm9tLXVuaXF1ZS1lbnRyaWVzLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2NvbW1vbi9pZGVudC1jaGVja2VyLmpzIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2NvbW1vbi12MS4yLjEwIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pZGVudC1jaGVja2VyLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL2NvbW1vbi9saXN0LWRpZmZlcmVuY2UuanMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vY29tbW9uLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2xpc3QtZGlmZmVyZW5jZS5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9jb21tb24vbWFrZS1hcnJheS1pdGVyYXRvci5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vbWFrZS1hcnJheS1pdGVyYXRvci5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9jb21tb24vbWFrZS1pdGVyYXRvci5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vbWFrZS1pdGVyYXRvci5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9jb21tb24vb2JqZWN0LW1hcC5qcyI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJAZW5kby9jb21tb24tdjEuMi4xMCIsCiAgICAgICAgICAibW9kdWxlIjogIi4vb2JqZWN0LW1hcC5qcyIKICAgICAgICB9LAogICAgICAgICJAZW5kby9lcnJvcnMiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXJyb3JzLXYxLjIuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL21hcnNoYWwiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vbWFyc2hhbC12MS42LjQiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Bhc3Mtc3R5bGUiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vcGFzcy1zdHlsZS12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0YzliN2FiYTMyNWIzYTk0MDhiYjk3NzNkMmI4MjM0OGUwZWM1YzhhOGVmZGQ0N2ZjY2NlNTFkNGM1MmFiZjJmZDUwMjBmZGFiOWVhZjBkMGQwNTI4Yjc5MTcwYmYwM2ZjMjkwNmMzMjYyY2NkMDJiMTFlZmEzMmVlMjIzN2M3MyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9rZXlzL2NoZWNrS2V5LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9rZXlzL2NoZWNrS2V5LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZDNmMTY0NDVjZmJjYzNiYWUxMThiOGVjNjRkZjg3ZmJmMGExNGRhZWU3OWNlNjk0YjU5OWE0NDgzNGJkZDIyMWU1ZTljNWJlYjM0MDc1NzNmMTlhMTk3NTU5ODlkZmQxYzk3MzczYmQzZjFmMzIxMGVhYmQzMGM1OWY5N2Y0NWUiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMva2V5cy9jb21wYXJlS2V5cy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMva2V5cy9jb21wYXJlS2V5cy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjg2MjgzMjZmYjFlZjlhNDQzZDIxOTA5ZWFiOGZmYjE3ZTc1YjBmOThmYzUwZjE0NTI0NDA1MDE5MTdjY2M4YWUxMTI4OTc0ODcxZWJmNDZiMzcyZTNmZWE0ZWVhNmY2ZDMzM2E2MjJjOGFlYjZlY2M1MzllMGViYWIwZWMwY2UzIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2tleXMvY29weUJhZy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMva2V5cy9jb3B5QmFnLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiYjRhZDIwYjc0YmQzNmE0NzQyMjk5ZDgzMjhhNGE2NzNiMDA3NDU5OGU3MjBhYTA3M2JlZmY3ODY3ZDdlYWYzOWIwYTE5MzBiODljZjM4YmQwODdjNzUyN2I0ZWMwNzY4Y2ZjZmIyOWI5M2YzZDkzZDM1ZTFlNmI0NjI3ZTlmNDAiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMva2V5cy9jb3B5U2V0LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9rZXlzL2NvcHlTZXQuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI0NGM4Yjc3MmRkZTZiNDk3NDMzZjAzOWU2YjEwZDIxMTllMDJlZmRjMGEzYWJmNTZhMGIwYzA2ZTM1ZGIwNDYyYzE1MTcwMTFmM2U4YzgzYWJlM2FjMTZhZDU1ZGVlODQzODRhY2RlYmM3ZmNhYmMyYjliZTI5ZjBjMzk2YTFlMSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9rZXlzL2tleWNvbGxlY3Rpb24tb3BlcmF0b3JzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9rZXlzL2tleWNvbGxlY3Rpb24tb3BlcmF0b3JzLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiZTE0MmFhZmFkOTRjN2Y4ZDIzZDg3M2I2MGZiMGIyN2QwMjMxODk5NTFhOWVjNTEzOGQ1ZTY5MWQxNjA4MjU4OTcxYjhhMTU2ZWQ1ZjFmZjU5Y2JhZTgxZDI5YjQ2OTk3OTIxMDBmZjAzZjQ3M2Y3YTg5M2YwYTVlN2M1OGMzZmIiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMva2V5cy9tZXJnZS1iYWctb3BlcmF0b3JzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9rZXlzL21lcmdlLWJhZy1vcGVyYXRvcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI2NTU1ODdiY2EyNDVkNDNhZDM0N2JhMWIwOTZjZjZmM2NiMGVmMDg1MzVlMDgzNzM1Mjg1ZTY2NTljMTc1ZjY1N2JkY2VmZTBmZTc1ZGNjMTE2NmYyYTlmMDRmNTg5YzdhMGVkNzhhOTAxNmFmMDhjMWZkM2JlZTJiZDYyMWUwNSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9rZXlzL21lcmdlLXNldC1vcGVyYXRvcnMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2tleXMvbWVyZ2Utc2V0LW9wZXJhdG9ycy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjdhODkwZjgzYjQ3MTUxYWQ3OGM4YWQ1YzQ0MzE0MmNmMzk5ZTA1YTIxMWIxMjdlNTE1OTY2M2YwNzY2NzdmMTEwYThhMWFjMjVlZjhiODI4Y2IyYjQ5ZjNmNDY2OTg1OTU0YjljY2JjMzc3M2EyMDUxYmZkNGQ0ODc4N2QxNDNhIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3BhdHRlcm5zL2dldEd1YXJkUGF5bG9hZHMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3BhdHRlcm5zL2dldEd1YXJkUGF5bG9hZHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIwMGU0NTgxNTdmZGU4ZWI0Yjc5ZWU2Nzc3YTdjYzE4YmQwYWU2MzljZjcyMWZmMTNhYmI1N2M4NzRjMGIxMmNlMmU2MzJiMzU3OGZkMGRkMGIwNmIwYmM1NjZhYjc0NDc3OTViMjU4ZGEyNjdjODgxMzBkOWVmZjFkMGEzMTc0ZiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9wYXR0ZXJucy9wYXR0ZXJuTWF0Y2hlcnMuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3BhdHRlcm5zL3BhdHRlcm5NYXRjaGVycy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImQ4ODBkYTk3MjU3Njk3MTJjN2FjNDk5NmU3ZTVlY2QwMzY3ODUzNzZkNDM2YjAzNmI3NmVhYjI1YWFmYzhiYjVlNWM1NTE5ZjQ4ZGE4ZDY5N2NiYjEwZmQxYjgzYzZiMjQwODA3NzQ3YTNmODViYzk0YTg5OGUwMjZhNGYzNWQwIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90eXBlcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNhYjhiNDMwZTkxNGY3YzQwNzNjYzVmMDFmM2Q1MGRmNTg4YmFiMGMzOWY4Yzg1NzBhZjczZjg4NzBhNjkyNDg0YWE1N2MxNTJjNzE4YzkwNjdlOGExOTM3ZTI1YzRmY2IwZmY2YmEwODRhZTBiZjZlNDM3NmEzMDY0ODIwNThmIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwIjogewogICAgICAibmFtZSI6ICJAZW5kby9wcm9taXNlLWtpdCIsCiAgICAgICJsYWJlbCI6ICJAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwIiwKICAgICAgImxvY2F0aW9uIjogIkBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiLi9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJpbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImJmNDY1MzMwN2Y4MDZmMTNiMmFkYjU5NmJiNmUyNGNhZmU4ZjA4MzQ0MmY4YjUwYjMyYTBlY2FiMWFmOGRlZTUyYjZhOWI4M2U2NGJjMmQ2NmJkNWRkNDIzZGRmMDZhMTIxNDFmOWFiOGU2NGNiMjYxNDA2NGVlNjUyZDA0MDA0IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL2lzLXByb21pc2UuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2lzLXByb21pc2UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIzZDNhMjU2MzZlNTQyNzhiMzNmNmMzNjIxNDc4ODllNmZmMTBiZWRhODBjMDdlNmExNmQxOTA0N2I3YjNjNmEzNGQ3MzBlOWIzY2ZjOWY4NTExYjZlMjdiNmE2OTc3NjRmOTY4M2Q3MGRmNzA4NmUwODVmOTNkN2Y5NWZjNGZmYSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9tZW1vLXJhY2UuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL21lbW8tcmFjZS5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjQyZWIwYzFhMjQ5NjZkNGFiZmZhMmMxOGMyZmIyOGRkNTA0ZGNiM2I3MjNkODMwMGMxMGU5NDM5NDQ5M2M1NGUxODAyNDUyN2ZkZTcwMWQ3ZWQ1OTNiMjY1ZTQ1NmQyZDQ4YzE1ZTBkNTAxMDEwOGVmZDE4NzJiNzRhMjUxNGNlIgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3Byb21pc2UtZXhlY3V0b3Ita2l0LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9wcm9taXNlLWV4ZWN1dG9yLWtpdC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjRjODRkMDc2ZTBhNDE5ZmM4NjM3YWIzOGYyNDQzMzhjNDc2YzUwMTMyY2ZlMDkwMDJkZGRjYmJmY2QzNjViZjZjZjNkMzJiMDlkYTMyNTI1Zjc1YjYwZjVmYzY2MGRkYzBlMDhmMzZhNjA3YmEwNzdmNTk5YmM1NWYyOWVjYjM2IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3R5cGVzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy90eXBlcy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjNhYjhiNDMwZTkxNGY3YzQwNzNjYzVmMDFmM2Q1MGRmNTg4YmFiMGMzOWY4Yzg1NzBhZjczZjg4NzBhNjkyNDg0YWE1N2MxNTJjNzE4YzkwNjdlOGExOTM3ZTI1YzRmY2IwZmY2YmEwODRhZTBiZjZlNDM3NmEzMDY0ODIwNThmIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJAZW5kby9zdHJlYW0tdjEuMi4xMCI6IHsKICAgICAgIm5hbWUiOiAiQGVuZG8vc3RyZWFtIiwKICAgICAgImxhYmVsIjogIkBlbmRvL3N0cmVhbS12MS4yLjEwIiwKICAgICAgImxvY2F0aW9uIjogIkBlbmRvL3N0cmVhbS12MS4yLjEwIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIkBlbmRvL2V2ZW50dWFsLXNlbmQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL3NyYy9uby1zaGltLmpzIgogICAgICAgIH0sCiAgICAgICAgIkBlbmRvL3Byb21pc2Uta2l0IjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJiMDA1MmM2ZTZmYTI1YjFkMjgyYjAyMDYxOTRhOTU5OWM2N2QzMmI1YTBjZTllN2U5OTU3NzRjZmQ5ZmY3YTBiOTJkNzUwMDlhMzA5MzBhYTZjYzEzNDgxM2JiMjdkYzYyYThlYWU5MDY0NmIxOThhNjdkMGRmM2FlYjE4OGFjMCIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiQG5vYmxlL2hhc2hlcy12MS41LjAiOiB7CiAgICAgICJuYW1lIjogIkBub2JsZS9oYXNoZXMiLAogICAgICAibGFiZWwiOiAiQG5vYmxlL2hhc2hlcy12MS41LjAiLAogICAgICAibG9jYXRpb24iOiAiQG5vYmxlL2hhc2hlcy12MS41LjAiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQG5vYmxlL2hhc2hlcy9jcnlwdG8iOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiQG5vYmxlL2hhc2hlcy12MS41LjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2VzbS9jcnlwdG8uanMiCiAgICAgICAgfSwKICAgICAgICAiLi9lc20vX2Fzc2VydC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJlc20vX2Fzc2VydC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjkyNzY0MDhhYWVhZjNiZWFlNzRiOTg4ODQ2ZjdiYjkyMDBiNmZkY2Y4YzExYjkzYjgyOTU4MGE4MWNiYmViODUzZGUwNWU4NDMwNzA5NjBiMDdhZWFmZTIyYjVjYzdhMjQyZTMxNGNkMjVkZWQyNDEwZGZlMGIyODM1MDYzOGRkIgogICAgICAgIH0sCiAgICAgICAgIi4vZXNtL19tZC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJlc20vX21kLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNmZlMjViZjI3YTA1NDJmODhlOWZjMDNmYjg1NjU3NDAxNWJhMTk0ZjRhOGFjMjFiMzU2ZGU3YTZiZDJjM2MzOTNhMmRiMmVkODg2OWNhMWI3NGUxZjdjMmUxYzUzNGI0OTZhOTZjMjk2YzFmMzg3M2IxNjJkMzE5MTkwNzkyMDEiCiAgICAgICAgfSwKICAgICAgICAiLi9lc20vY3J5cHRvLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImVzbS9jcnlwdG8uanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJkMWRkOTViZmFlMjI3MTBkYTA4MzUxZDI4YWYxMzMyMGM5NTYxODhlOTZhNjEyMzNhNzA3OGY0Nzg3MzRjMGM1MjhhY2UxYzhkOWI4ODNiMjkyM2EwNzBkZjRjMGEyM2NjZDM3ODJlYzlhNzEyN2JjMjk4NTVjNzgyMDVhYjRkNCIKICAgICAgICB9LAogICAgICAgICIuL2VzbS9zaGEyNTYuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZXNtL3NoYTI1Ni5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjAzYTZkNTY3N2E5MjdjMDc5NzE0NDBjNTk1NTAxZDVkNjZkMmQ5ZDdiYTFjY2YyNWVmNDkyZDhlYmUxZGVlZjYyYWQ5OTIxNzYxOGZhMDQxYzA5ZGI0MTc2N2JhMDJlZDQyZTM4MTJiZWM4NTkxZjBhOTBlMTM2M2E3OWUxNmU2IgogICAgICAgIH0sCiAgICAgICAgIi4vZXNtL3V0aWxzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImVzbS91dGlscy5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImE3ODkyNWZiODBiYjQ4NmNiNmUzMDAwZTM3OWVkZTI1Nzg3ZGUyYzhjZmU3YzQzYzFjMTJjZmVjYjUwODk3MjFkYzQxNWFiMDg5ZGI3MzBiZjBhMDYxYjM1MWE4NTcyNjY3OWIxMGY5MWZiZjI1Yzk0ZTEwM2QyNDhhZmUzOTI5IgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJiYXNlLXgtdjUuMC4xIjogewogICAgICAibmFtZSI6ICJiYXNlLXgiLAogICAgICAibGFiZWwiOiAiYmFzZS14LXY1LjAuMSIsCiAgICAgICJsb2NhdGlvbiI6ICJiYXNlLXgtdjUuMC4xIiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIi4vc3JjL2VzbS9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvZXNtL2luZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOGNmYjAwM2UzYjljYjRkODJjODk4ODk2NGUzMWMzYzQwMGZiOGU0NDUxYmY1ZmVjMmVlNDhiNGFmYTU1MjA3MGUyZjQxMTY1NDkzMDEwMzE0ZDdlMmFhZTYzZDQ1MmVhMDNkMzMwNWIwYjg2NjNlYmY1MDI3YmVlMmY2NDBlYmYiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgImJhc2U2NC1qcy12MS41LjEiOiB7CiAgICAgICJuYW1lIjogImJhc2U2NC1qcyIsCiAgICAgICJsYWJlbCI6ICJiYXNlNjQtanMtdjEuNS4xIiwKICAgICAgImxvY2F0aW9uIjogImJhc2U2NC1qcy12MS41LjEiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiLi9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJpbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1janMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjM3ZDZhMjZkNjdkMDE5OTlmZWQwYzZlZTM5NmQzZmEyZTcxYWNhMDRiZjA1YmY1MTg2M2M1N2I3Mzg4Mjk0NzEyYzk2YWI5YTk0YjRlM2FkYjY4MTIwYWNlZmE4YjNhOGI5ODcwOWM1NWNjZjg2MjIxYTIwMGY4ZDQ3YTlhY2MyIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJiZWNoMzItdjEuMS40IjogewogICAgICAibmFtZSI6ICJiZWNoMzIiLAogICAgICAibGFiZWwiOiAiYmVjaDMyLXYxLjEuNCIsCiAgICAgICJsb2NhdGlvbiI6ICJiZWNoMzItdjEuMS40IiwKICAgICAgIm1vZHVsZXMiOiB7CiAgICAgICAgIi4vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiaW5kZXguanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtY2pzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIyZGM0NWJjOGJjOGM5NWQ0MjExYzlhOTFjMzE5ZTc0YWZjNTdiZDYzN2NjNTI5NTI0NzRhZmM1OTA3Zjc3NzFlZmVjYTYxMzMwMDcxMTQyY2Q0ODdlMTg0MjhiZDJiY2NmMjFhYzVlM2RjNWJmYTlmNjQ5ZTU4MTc2NDMwNjEzMCIKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiYmVjaDMyLXYyLjAuMCI6IHsKICAgICAgIm5hbWUiOiAiYmVjaDMyIiwKICAgICAgImxhYmVsIjogImJlY2gzMi12Mi4wLjAiLAogICAgICAibG9jYXRpb24iOiAiYmVjaDMyLXYyLjAuMCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICIuL2Rpc3QvaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAiZGlzdC9pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1janMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjg5OWE1MGZhMTRmMDRhNDk2ZmU1NjFjZWE1MzQ5YjBmOThhOTUzYTM2M2E1MDgyN2NhYTBlMGUyNDY5MmQzNWE3OGI0ZjViNzE0ODQ0NWM3MjgxMGNlMDE1YmU2N2NjMDczNzQ3MGU1YWJiNjllMzBjMmFmNzI3ZGZhMTg2MTBmIgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJiczU4LXY2LjAuMCI6IHsKICAgICAgIm5hbWUiOiAiYnM1OCIsCiAgICAgICJsYWJlbCI6ICJiczU4LXY2LjAuMCIsCiAgICAgICJsb2NhdGlvbiI6ICJiczU4LXY2LjAuMCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICJiYXNlLXgiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiYmFzZS14LXY1LjAuMSIsCiAgICAgICAgICAibW9kdWxlIjogIi4vc3JjL2VzbS9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9lc20vaW5kZXguanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL2VzbS9pbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjFjOTkxNGFjNGFlMmMwYzllMGYxNDkxYzZiYjdiMGZiZWM0YmRhZTUyMDQyMWQ2NDNhZGZhNTU3NzQwODY0MmUyYTM0MTUzYTk4MTg4NDM3N2E5MGNmNjFjZDg5ZDg3OGYzOTNkMDFkN2ExMmQzNTdhODhkMjVkZDkxMGZhYTY1IgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJkZWNvZGUtdXJpLWNvbXBvbmVudC12MC40LjEiOiB7CiAgICAgICJuYW1lIjogImRlY29kZS11cmktY29tcG9uZW50IiwKICAgICAgImxhYmVsIjogImRlY29kZS11cmktY29tcG9uZW50LXYwLjQuMSIsCiAgICAgICJsb2NhdGlvbiI6ICJkZWNvZGUtdXJpLWNvbXBvbmVudC12MC40LjEiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiLi9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJpbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImY0ZTI4NjY5NDlmNWYwYWZjODU5NDJkMWQyZWNhYzQ0ZWU1Y2JkMjkxZjlkYTBlN2NmYTMzN2I1MzYwMDJmMDNkZTM1YzZjNDM3ZGU2ZjllODZlNzg3NWUyOTU4ZjQwMjlmMTA2N2Q2NTk1ODRiZTE5NzQyMzY2OTdlZDRiYWM4IgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJmaWx0ZXItb2JqLXY1LjEuMCI6IHsKICAgICAgIm5hbWUiOiAiZmlsdGVyLW9iaiIsCiAgICAgICJsYWJlbCI6ICJmaWx0ZXItb2JqLXY1LjEuMCIsCiAgICAgICJsb2NhdGlvbiI6ICJmaWx0ZXItb2JqLXY1LjEuMCIsCiAgICAgICJtb2R1bGVzIjogewogICAgICAgICIuL2luZGV4LmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogImluZGV4LmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOGQwYmExZjc1NjRhM2M5ZWUzMWYzNzdkZGZiMDA4ZjYzOTc1MDE4MmQyMDhlNTgwMjgyOWVhYTFmNDdlZmMyMDZiZTJjYzI0NTQ4MjdkODE4OTM4Y2NkODZjOTc1MDJkZTFhZGYwYTRkMjI4ZTI0YjkxMDgzZDczNjUzYmU5OTciCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgImplc3NpZS5qcy12MC4zLjQiOiB7CiAgICAgICJuYW1lIjogImplc3NpZS5qcyIsCiAgICAgICJsYWJlbCI6ICJqZXNzaWUuanMtdjAuMy40IiwKICAgICAgImxvY2F0aW9uIjogImplc3NpZS5qcy12MC4zLjQiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiQGVuZG8vZmFyIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogIkBlbmRvL2Zhci12MS4xLjExIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9zcmMvaW5kZXguanMiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvbWFpbi5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvbWFpbi5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogIjBhZjEwOTk3MjkwMWVlYzNlN2Q5YzAxZGFlMjZhZWQ2NzlmZjEwYzZiOGMyZWFiOWY3Yjg1MDJhMjdkOTE1ZjRmYzBkODhjZmYyNWYxNWI2OTg1ZjRlMWNlMmJkNDUzYjc4MzEwYmY2YzNjNmEyNTgzM2M1MWIwNzA2NWIwMzI4IgogICAgICAgIH0sCiAgICAgICAgIi4vc3JjL3JpbmcwL0UuanMiOiB7CiAgICAgICAgICAibG9jYXRpb24iOiAic3JjL3JpbmcwL0UuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJkN2RlNmNiYjUxZTE2YTJkZDUyMGY3ZTU2NjBhZGZhM2QzNmI5ZDIwZWViYTdjZDNkMDM2YTBkNWJmZDZkMTRhZDg1ZjU2MzkwMGYxNmM2YTA3YmM1NzJmZjg0MzZjM2ZkMWFmZGM3NTY3NzIzNzA5ODM3NDNlNmQyNGQ3NDdjMSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9yaW5nMC9hc3luYy1nZW5lcmF0ZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcmluZzAvYXN5bmMtZ2VuZXJhdGUuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICI4YWZmN2Y3ZDBjNGM5N2NiNTVlZTQ4YjNlMzQyOWI3YWM4NmU4MmMzOTU4MjdkZmMzYmZhODhlM2NjNjFiYjY5NGE4NWVmNTgwOTM0YWE2ZjJhNDE0YTU1OWEzZjRmYjFiNDZlYjc3OWQwMGJiMWUwYTNkZjU5NjBkNTdjZDZjMiIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9yaW5nMC9tYWluLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9yaW5nMC9tYWluLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiOGZkNTJlZjMwMmMxZjE0YzYyMGZkZGQ0MzcyN2Q4MjMyNDAzYjliZDM1NjFlMWYxMjNkY2U5ZDRlOWExM2I1NWEyZDFlZTRhZDgwNzAyZjI1MTExOWU5ZDQ5MmE4YzdhMzQ1ZmU1NzFhNDc5ZDM5MWUyYjc4MWZmYjEzOGMwMDYiCiAgICAgICAgfSwKICAgICAgICAiLi9zcmMvcmluZzAvbWFrZXJzLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9yaW5nMC9tYWtlcnMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICIyZThmODBmMzNhZDc1ZDdlMDIxMmM5ZWFkN2Y5OGY4MjliN2JmMmU2ZDE5MmFjNzA4ZWRkNzczYzUyODQ3ZGJkZjM4MzA0Nzk4ODNiYzZjNDQwNjVlMDU1NDcwY2Q5MzhkMDg1MTA2ZmExMmM3ZGZjZWUzOTY5MzVhNGNlMTU2YSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9yaW5nMS9hc3luYy10b29scy5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJzcmMvcmluZzEvYXN5bmMtdG9vbHMuanMiLAogICAgICAgICAgInBhcnNlciI6ICJwcmUtbWpzLWpzb24iLAogICAgICAgICAgInNoYTUxMiI6ICJmNzBkYzVlYjQxNDc3ZTRkZGVmZDBlMDg2OGJmMDNhODcxYWQ1OTk2ZjI3ZjcxYzcwMGM1OTdmMWM5MTMxNjg2ZWM5ZmJkM2FjYTdkZDdjNWI2NDVjODc1MWZlZjAxZjVmOTExZDI1MWY1OWVkOTI4YTkyYmE2OGQ5OTAyMmU3MSIKICAgICAgICB9LAogICAgICAgICIuL3NyYy9yaW5nMS9tYWluLmpzIjogewogICAgICAgICAgImxvY2F0aW9uIjogInNyYy9yaW5nMS9tYWluLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNzQ2YjZhYmJjZWE3MGI1MTIwYTA1NDI2MzlhOTg1ZDg5OGEyNWYyNWEyMzk0MGVjYzBmYTI2ZTZlZmM4ZDY1MmE1ZGI5YWU1YTc1ZWMyNzhmNzljNDRkODgwMGQ5N2E3YmRlZWJmZTY1NzMzYjNhYjY2NGJiMjM1M2M0NjU1ZWUiCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgInF1ZXJ5LXN0cmluZy12OS4xLjEiOiB7CiAgICAgICJuYW1lIjogInF1ZXJ5LXN0cmluZyIsCiAgICAgICJsYWJlbCI6ICJxdWVyeS1zdHJpbmctdjkuMS4xIiwKICAgICAgImxvY2F0aW9uIjogInF1ZXJ5LXN0cmluZy12OS4xLjEiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiZGVjb2RlLXVyaS1jb21wb25lbnQiOiB7CiAgICAgICAgICAiY29tcGFydG1lbnQiOiAiZGVjb2RlLXVyaS1jb21wb25lbnQtdjAuNC4xIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJmaWx0ZXItb2JqIjogewogICAgICAgICAgImNvbXBhcnRtZW50IjogImZpbHRlci1vYmotdjUuMS4wIiwKICAgICAgICAgICJtb2R1bGUiOiAiLi9pbmRleC5qcyIKICAgICAgICB9LAogICAgICAgICJzcGxpdC1vbi1maXJzdCI6IHsKICAgICAgICAgICJjb21wYXJ0bWVudCI6ICJzcGxpdC1vbi1maXJzdC12My4wLjAiLAogICAgICAgICAgIm1vZHVsZSI6ICIuL2luZGV4LmpzIgogICAgICAgIH0sCiAgICAgICAgIi4vYmFzZS5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJiYXNlLmpzIiwKICAgICAgICAgICJwYXJzZXIiOiAicHJlLW1qcy1qc29uIiwKICAgICAgICAgICJzaGE1MTIiOiAiNDNlNDUyMWQyZTM3ZGRjOGFiMGE3ZjA3MjMwNWE4NGJjNzkwMjIzYmVhMWZmZjE4ZjFiYzAzZmU1OTM3Mzg5YzBiZTM0MzhkZjM0NTdiOGNjZGNlMjIwZDI4M2NiNGJhNzA3NDk2Y2EzZjNmNjMwMDUzYmZhOWMwN2MyMzBiM2EiCiAgICAgICAgfSwKICAgICAgICAiLi9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJpbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImM4NTJmNjE0M2U5NmFhNWYzZDI4NjBkYWY2YTYxM2E2OGYyY2FmYWUzM2U4NzgwOWJjZGE2OGI0ZTk1ZGYxMmVmNTcyZGNkYjI0YWRhMWI0NzkzNmJiOGMyMWY3MDk0M2U0ZTQ4ZGE4NTJkNDA5OTVmYWMzZjNmNWMzOTlhYjM0IgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICJzcGxpdC1vbi1maXJzdC12My4wLjAiOiB7CiAgICAgICJuYW1lIjogInNwbGl0LW9uLWZpcnN0IiwKICAgICAgImxhYmVsIjogInNwbGl0LW9uLWZpcnN0LXYzLjAuMCIsCiAgICAgICJsb2NhdGlvbiI6ICJzcGxpdC1vbi1maXJzdC12My4wLjAiLAogICAgICAibW9kdWxlcyI6IHsKICAgICAgICAiLi9pbmRleC5qcyI6IHsKICAgICAgICAgICJsb2NhdGlvbiI6ICJpbmRleC5qcyIsCiAgICAgICAgICAicGFyc2VyIjogInByZS1tanMtanNvbiIsCiAgICAgICAgICAic2hhNTEyIjogImQwNTUxODI1NjY1MjdlNjhmNWI1MGZjZDUxY2VhNGZmNjc1OWYwOTUwZGIzOGY0NzE2ZjJjZGY3NDRhOGNiOGEyNmJjZGRjNmExZTkzYjY1ODhlMjFhYjUxMzhlNzA1Y2MwNGE3OWY5MzM2NTBmYWNkOWU1MzZmZDMxNDNmZWEyIgogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfVBLAwQKAAAAAAAAAAAAiZP8PewBAADsAQAAIgAAAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvaW5kZXguanN7ImltcG9ydHMiOlsiLi9zcmMvYXN5bmMtZmxvdy5qcyIsIi4vc3JjL3R5cGVzLWluZGV4LmpzIl0sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOlsiLi9zcmMvYXN5bmMtZmxvdy5qcyIsIi4vc3JjL3R5cGVzLWluZGV4LmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vc3JjL2FzeW5jLWZsb3cuanNcIiwgW11dLFtcIi4vc3JjL3R5cGVzLWluZGV4LmpzXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAANf87iejQwAAo0MAACsAAABAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy9hc3luYy1mbG93LmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2V2ZW50dWFsLXNlbmQiLCJAZW5kby9wYXR0ZXJucyIsIkBhZ29yaWMvc3RvcmUiLCJAYWdvcmljL2Jhc2Utem9uZSIsIkBhZ29yaWMvdm93IiwiLi9yZXBsYXktbWVtYnJhbmUuanMiLCIuL2xvZy1zdG9yZS5qcyIsIi4vYmlqZWN0aW9uLmpzIiwiLi9lbmRvd21lbnRzLmpzIiwiLi90eXBlLWd1YXJkcy5qcyJdLCJleHBvcnRzIjpbInByZXBhcmVBc3luY0Zsb3dUb29scyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGFubm90YXRlRXJyb3IsRmFpbCxtYWtlRXJyb3IscSxYLEUsTSxtYWtlU2NhbGFyV2Vha01hcFN0b3JlLFByb21pc2VXYXRjaGVySSxwcmVwYXJlVm93VG9vbHMsdG9QYXNzYWJsZUNhcCxWb3dTaGFwZSxtYWtlUmVwbGF5TWVtYnJhbmUscHJlcGFyZUxvZ1N0b3JlLHByZXBhcmVCaWplY3Rpb24scHJlcGFyZUVuZG93bWVudFRvb2xzLExvZ0VudHJ5U2hhcGUsRmxvd1N0YXRlU2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcImFubm90YXRlRXJyb3JcIixbJGjNj19hID0+IChhbm5vdGF0ZUVycm9yID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcIm1ha2VFcnJvclwiLFskaM2PX2EgPT4gKG1ha2VFcnJvciA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2V2ZW50dWFsLXNlbmRcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wibWFrZVNjYWxhcldlYWtNYXBTdG9yZVwiLFskaM2PX2EgPT4gKG1ha2VTY2FsYXJXZWFrTWFwU3RvcmUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2Jhc2Utem9uZVwiLCBbW1wiUHJvbWlzZVdhdGNoZXJJXCIsWyRozY9fYSA9PiAoUHJvbWlzZVdhdGNoZXJJID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3dcIiwgW1tcInByZXBhcmVWb3dUb29sc1wiLFskaM2PX2EgPT4gKHByZXBhcmVWb3dUb29scyA9ICRozY9fYSldXSxbXCJ0b1Bhc3NhYmxlQ2FwXCIsWyRozY9fYSA9PiAodG9QYXNzYWJsZUNhcCA9ICRozY9fYSldXSxbXCJWb3dTaGFwZVwiLFskaM2PX2EgPT4gKFZvd1NoYXBlID0gJGjNj19hKV1dXV0sW1wiLi9yZXBsYXktbWVtYnJhbmUuanNcIiwgW1tcIm1ha2VSZXBsYXlNZW1icmFuZVwiLFskaM2PX2EgPT4gKG1ha2VSZXBsYXlNZW1icmFuZSA9ICRozY9fYSldXV1dLFtcIi4vbG9nLXN0b3JlLmpzXCIsIFtbXCJwcmVwYXJlTG9nU3RvcmVcIixbJGjNj19hID0+IChwcmVwYXJlTG9nU3RvcmUgPSAkaM2PX2EpXV1dXSxbXCIuL2JpamVjdGlvbi5qc1wiLCBbW1wicHJlcGFyZUJpamVjdGlvblwiLFskaM2PX2EgPT4gKHByZXBhcmVCaWplY3Rpb24gPSAkaM2PX2EpXV1dXSxbXCIuL2VuZG93bWVudHMuanNcIiwgW1tcInByZXBhcmVFbmRvd21lbnRUb29sc1wiLFskaM2PX2EgPT4gKHByZXBhcmVFbmRvd21lbnRUb29scyA9ICRozY9fYSldXV1dLFtcIi4vdHlwZS1ndWFyZHMuanNcIiwgW1tcIkxvZ0VudHJ5U2hhcGVcIixbJGjNj19hID0+IChMb2dFbnRyeVNoYXBlID0gJGjNj19hKV1dLFtcIkZsb3dTdGF0ZVNoYXBlXCIsWyRozY9fYSA9PiAoRmxvd1N0YXRlU2hhcGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG5cbiAqL1xuXG5jb25zdCB7IGRlZmluZVByb3BlcnRpZXMgfSA9IE9iamVjdDtcblxuY29uc3QgQXN5bmNGbG93SUtpdCA9IGhhcmRlbih7XG4gIGZsb3c6IE0uaW50ZXJmYWNlKCdGbG93Jywge1xuICAgIGdldEZsb3dTdGF0ZTogTS5jYWxsKCkucmV0dXJucyhGbG93U3RhdGVTaGFwZSksXG4gICAgcmVzdGFydDogTS5jYWxsKCkub3B0aW9uYWwoTS5ib29sZWFuKCkpLnJldHVybnMoKSxcbiAgICB3YWtlOiBNLmNhbGwoKS5yZXR1cm5zKCksXG4gICAgZ2V0T3V0Y29tZTogTS5jYWxsKCkucmV0dXJucyhWb3dTaGFwZSksXG4gICAgZHVtcDogTS5jYWxsKCkucmV0dXJucyhNLmFycmF5T2YoTG9nRW50cnlTaGFwZSkpLFxuICAgIGdldE9wdEZhdGFsUHJvYmxlbTogTS5jYWxsKCkucmV0dXJucyhNLm9wdChNLmVycm9yKCkpKSxcbiAgfSksXG4gIGFkbWluOiBNLmludGVyZmFjZSgnRmxvd0FkbWluJywge1xuICAgIHJlc2V0OiBNLmNhbGwoKS5yZXR1cm5zKCksXG4gICAgY29tcGxldGU6IE0uY2FsbCgpLnJldHVybnMoKSxcbiAgICBwYW5pYzogTS5jYWxsKE0uZXJyb3IoKSkucmV0dXJucyhNLm5vdChNLmFueSgpKSkgIC8vXG4gIH0pLFxuICB3YWtlV2F0Y2hlcjogUHJvbWlzZVdhdGNoZXJJLFxufSk7XG5cbmNvbnN0IEFkbWluQXN5bmNGbG93SSA9IE0uaW50ZXJmYWNlKCdBc3luY0Zsb3dBZG1pbicsIHtcbiAgZ2V0RmFpbHVyZXM6IE0uY2FsbCgpLnJldHVybnMoTS5tYXBPZihNLnJlbW90YWJsZSgnYXN5bmNGbG93JyksIE0uZXJyb3IoKSkpLFxuICB3YWtlQWxsOiBNLmNhbGwoKS5yZXR1cm5zKCksXG4gIGdldEZsb3dGb3JPdXRjb21lVm93OiBNLmNhbGwoVm93U2hhcGUpLnJldHVybnMoTS5vcHQoTS5yZW1vdGFibGUoJ2Zsb3cnKSkpLFxufSk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZUFzeW5jRmxvd1Rvb2xzID0gKG91dGVyWm9uZSwgb3V0ZXJPcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qge1xuICAgIHZvd1Rvb2xzID0gcHJlcGFyZVZvd1Rvb2xzKG91dGVyWm9uZSksXG4gICAgbWFrZUxvZ1N0b3JlID0gcHJlcGFyZUxvZ1N0b3JlKG91dGVyWm9uZSksXG4gICAgZW5kb3dtZW50VG9vbHM6IHsgcHJlcGFyZUVuZG93bWVudCwgdW53cmFwIH0gPSBwcmVwYXJlRW5kb3dtZW50VG9vbHMoXG4gICAgICBvdXRlclpvbmUsXG4gICAgICB7IHZvd1Rvb2xzIH0sXG4gICAgKSxcbiAgICBtYWtlQmlqZWN0aW9uID0gcHJlcGFyZUJpamVjdGlvbihvdXRlclpvbmUsIHVud3JhcCksXG4gICAgcGFuaWNIYW5kbGVyID0gZXJyID0+IHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9LFxuICB9ID0gb3V0ZXJPcHRpb25zO1xuICBjb25zdCB7IHdhdGNoLCBtYWtlVm93S2l0IH0gPSB2b3dUb29scztcblxuICBjb25zdCBmYWlsdXJlcyA9IG91dGVyWm9uZS5tYXBTdG9yZSgnYXN5bmNGdW5jRmFpbHVyZXMnLCB7XG4gICAga2V5U2hhcGU6IE0ucmVtb3RhYmxlKCdmbG93JyksIC8vXG4gICAgdmFsdWVTaGFwZTogTS5lcnJvcigpLFxuICB9KTtcblxuICBjb25zdCBlYWdlcldha2VycyA9IG91dGVyWm9uZS5zZXRTdG9yZShgYXN5bmNGdW5jRWFnZXJXYWtlcnNgLCB7XG4gICAga2V5U2hhcGU6IE0ucmVtb3RhYmxlKCdmbG93JykgIC8vXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtZW1icmFuZU1hcCA9IG1ha2VTY2FsYXJXZWFrTWFwU3RvcmUoJ21lbWJyYW5lRm9yJywge1xuICAgIGtleVNoYXBlOiBNLnJlbW90YWJsZSgnZmxvdycpLFxuICAgIHZhbHVlU2hhcGU6IE0ucmVtb3RhYmxlKCdtZW1icmFuZScpLFxuICB9KTtcblxuICBjb25zdCBoYXNNZW1icmFuZSA9IGZsb3cgPT4gbWVtYnJhbmVNYXAuaGFzKGZsb3cpO1xuICBjb25zdCBnZXRNZW1icmFuZSA9IGZsb3cgPT4gbWVtYnJhbmVNYXAuZ2V0KGZsb3cpO1xuICBjb25zdCBpbml0TWVtYnJhbmUgPSAoZmxvdywgbWVtYnJhbmUpID0+IG1lbWJyYW5lTWFwLmluaXQoZmxvdywgbWVtYnJhbmUpO1xuICBjb25zdCBkZWxldGVNZW1icmFuZSA9IGZsb3cgPT4gbWVtYnJhbmVNYXAuZGVsZXRlKGZsb3cpO1xuXG4gIC8qXG5cblxuICAgKi9cbiAgY29uc3QgZmxvd0Zvck91dGNvbWVWb3dLZXkgPSBvdXRlclpvbmUubWFwU3RvcmUoJ2Zsb3dGb3JPdXRjb21lVm93Jywge1xuICAgIGtleVNoYXBlOiBNLnJlbW90YWJsZSgndG9QYXNzYWJsZUNhcCcpLFxuICAgIHZhbHVlU2hhcGU6IE0ucmVtb3RhYmxlKCdmbG93JykgIC8vXG4gIH0pO1xuXG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHByZXBhcmVBc3luY0Zsb3dLaXQgPSAoem9uZSwgdGFnLCBndWVzdEFzeW5jRnVuYywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgdHlwZW9mIGd1ZXN0QXN5bmNGdW5jID09PSAnZnVuY3Rpb24nIHx8XG4gICAgICBGYWlsYGd1ZXN0QXN5bmNGdW5jIG11c3QgYmUgYSBjYWxsYWJsZSBmdW5jdGlvbiAke2d1ZXN0QXN5bmNGdW5jfWA7XG4gICAgY29uc3Qge1xuICAgICAgLy9cbiAgICAgIHN0YXJ0RWFnZXIgPSB0cnVlLFxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3QgaW50ZXJuYWxNYWtlQXN5bmNGbG93S2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAgIHRhZyxcbiAgICAgIEFzeW5jRmxvd0lLaXQsXG4gICAgICBhY3RpdmF0aW9uQXJncyA9PiB7XG4gICAgICAgIGhhcmRlbihhY3RpdmF0aW9uQXJncyk7XG4gICAgICAgIGNvbnN0IGxvZyA9IG1ha2VMb2dTdG9yZSgpO1xuICAgICAgICBjb25zdCBiaWplY3Rpb24gPSBtYWtlQmlqZWN0aW9uKCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhY3RpdmF0aW9uQXJncywgLy9cbiAgICAgICAgICBsb2csIC8vXG4gICAgICAgICAgYmlqZWN0aW9uLCAvL1xuICAgICAgICAgIG91dGNvbWVLaXQ6IG1ha2VWb3dLaXQoKSwgLy9cbiAgICAgICAgICBpc0RvbmU6IGZhbHNlICAvL1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmxvdzoge1xuICAgICAgICAgIC8qXG5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBnZXRGbG93U3RhdGUoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlLCBmYWNldHMgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCB7IGxvZywgb3V0Y29tZUtpdCwgaXNEb25lIH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IHsgZmxvdyB9ID0gZmFjZXRzO1xuXG4gICAgICAgICAgICBpZiAoaXNEb25lKSB7XG4gICAgICAgICAgICAgICFoYXNNZW1icmFuZShmbG93KSB8fFxuICAgICAgICAgICAgICAgIEZhaWxgRG9uZSBmbG93IG11c3QgZHJvcCBtZW1icmFuZSAke2Zsb3d9ICR7Z2V0TWVtYnJhbmUoZmxvdyl9YDtcbiAgICAgICAgICAgICAgIWZhaWx1cmVzLmhhcyhmbG93KSB8fFxuICAgICAgICAgICAgICAgIEZhaWxgRG9uZSBmbG93IG11c3Qgbm90IGJlIGluIGZhaWx1cmVzICR7Zmxvd30gJHtmYWlsdXJlcy5nZXQoZmxvdyl9YDtcbiAgICAgICAgICAgICAgIWVhZ2VyV2FrZXJzLmhhcyhmbG93KSB8fFxuICAgICAgICAgICAgICAgIEZhaWxgRG9uZSBmbG93IG11c3Qgbm90IGJlIGluIGVhZ2VyV2FrZXJzICR7Zmxvd31gO1xuICAgICAgICAgICAgICAhZmxvd0Zvck91dGNvbWVWb3dLZXkuaGFzKG91dGNvbWVLaXQudm93KSB8fFxuICAgICAgICAgICAgICAgIEZhaWxgRG9uZSBmbG93IG11c3QgZHJvcCBmbG93IGxvb2t1cCBmcm9tIHZvdyAke291dGNvbWVLaXQudm93fWA7XG4gICAgICAgICAgICAgIChsb2cuZ2V0SW5kZXgoKSA9PT0gMCAmJiBsb2cuZ2V0TGVuZ3RoKCkgPT09IDApIHx8XG4gICAgICAgICAgICAgICAgRmFpbGBEb25lIGZsb3cgbXVzdCBlbXB0eSBsb2cgJHtmbG93fSAke2xvZ31gO1xuICAgICAgICAgICAgICByZXR1cm4gJ0RvbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZhaWx1cmVzLmhhcyhmbG93KSkge1xuICAgICAgICAgICAgICByZXR1cm4gJ0ZhaWxlZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhhc01lbWJyYW5lKGZsb3cpKSB7XG4gICAgICAgICAgICAgIGxvZy5nZXRJbmRleCgpID09PSAwIHx8XG4gICAgICAgICAgICAgICAgRmFpbGBTbGVlcGluZyBmbG93IG11c3QgcGxheSBmcm9tIGxvZyBzdGFydCAke2Zsb3d9ICR7bG9nLmdldEluZGV4KCl9YDtcbiAgICAgICAgICAgICAgcmV0dXJuICdTbGVlcGluZyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG9nLmlzUmVwbGF5aW5nKCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICdSZXBsYXlpbmcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICdSdW5uaW5nJztcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLypcblxuXG5cblxuICAgICAgICAgICAqL1xuICAgICAgICAgIHJlc3RhcnQoZWFnZXIgPSBzdGFydEVhZ2VyKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlLCBmYWNldHMgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCB7IGFjdGl2YXRpb25BcmdzLCBsb2csIGJpamVjdGlvbiwgb3V0Y29tZUtpdCB9ID0gc3RhdGU7XG4gICAgICAgICAgICBjb25zdCB7IGZsb3csIGFkbWluLCB3YWtlV2F0Y2hlciB9ID0gZmFjZXRzO1xuXG4gICAgICAgICAgICBjb25zdCBzdGFydEZsb3dTdGF0ZSA9IGZsb3cuZ2V0Rmxvd1N0YXRlKCk7XG5cbiAgICAgICAgICAgIHN0YXJ0Rmxvd1N0YXRlICE9PSAnRG9uZScgfHxcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgRmFpbGBDYW5ub3QgcmVzdGFydCBhIGRvbmUgZmxvdyAke2Zsb3d9YDtcblxuICAgICAgICAgICAgYWRtaW4ucmVzZXQoKTtcbiAgICAgICAgICAgIGlmIChlYWdlcikge1xuICAgICAgICAgICAgICBlYWdlcldha2Vycy5hZGQoZmxvdyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVhZ2VyV2FrZXJzLmhhcyhmbG93KSkge1xuICAgICAgICAgICAgICBlYWdlcldha2Vycy5kZWxldGUoZmxvdyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHdhdGNoV2FrZSA9IHZvd2lzaCA9PiB7XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIHpvbmUuaXNTdG9yYWJsZSh2b3dpc2gpIHx8XG4gICAgICAgICAgICAgICAgRmFpbGB2b3dpc2ggbXVzdCBiZSBzdG9yYWJsZSBpbiB0aGlzIHpvbmUgKHVzdWFsbHksIG11c3QgYmUgZHVyYWJsZSk6ICR7dm93aXNofWA7XG4gICAgICAgICAgICAgIHpvbmUuaXNTdG9yYWJsZSh3YWtlV2F0Y2hlcikgfHxcbiAgICAgICAgICAgICAgICBGYWlsYHdha2VXYXRjaGVyIG11c3QgYmUgc3RvcmFibGUgaW4gdGhpcyB6b25lICh1c3VhbGx5LCBtdXN0IGJlIGR1cmFibGUpOiAke3dha2VXYXRjaGVyfWA7XG4gICAgICAgICAgICAgIHdhdGNoKHZvd2lzaCwgd2FrZVdhdGNoZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmljID0gZXJyID0+IGFkbWluLnBhbmljKGVycik7XG4gICAgICAgICAgICBjb25zdCBtZW1icmFuZSA9IG1ha2VSZXBsYXlNZW1icmFuZSh7XG4gICAgICAgICAgICAgIGxvZyxcbiAgICAgICAgICAgICAgYmlqZWN0aW9uLFxuICAgICAgICAgICAgICB2b3dUb29scyxcbiAgICAgICAgICAgICAgd2F0Y2hXYWtlLFxuICAgICAgICAgICAgICBwYW5pYyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5pdE1lbWJyYW5lKGZsb3csIG1lbWJyYW5lKTtcbiAgICAgICAgICAgIGNvbnN0IGd1ZXN0QXJncyA9IG1lbWJyYW5lLmhvc3RUb0d1ZXN0KGFjdGl2YXRpb25BcmdzKTtcblxuICAgICAgICAgICAgY29uc3QgZmxvd1N0YXRlID0gZmxvdy5nZXRGbG93U3RhdGUoKTtcbiAgICAgICAgICAgIGZsb3dTdGF0ZSA9PT0gJ1J1bm5pbmcnIHx8XG4gICAgICAgICAgICAgIGZsb3dTdGF0ZSA9PT0gJ1JlcGxheWluZycgfHxcbiAgICAgICAgICAgICAgRmFpbGBSZXN0YXJ0ZWQgZmxvdyBtdXN0IGJlIFJ1bm5pbmcgb3IgUmVwbGF5aW5nICR7Zmxvd31gO1xuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIG1lbWJyYW5lLndha2UoKTtcblxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3QgZ3Vlc3RSZXN1bHRQID0gKGFzeW5jICgpID0+XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIGd1ZXN0QXN5bmNGdW5jKC4uLmd1ZXN0QXJncykpKCk7XG5cbiAgICAgICAgICAgIGlmIChmbG93LmdldEZsb3dTdGF0ZSgpICE9PSAnRmFpbGVkJykge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBjb25zdCBnID0gYmlqZWN0aW9uLnVud3JhcEluaXQoZ3Vlc3RSZXN1bHRQLCBvdXRjb21lS2l0LnZvdyk7XG4gICAgICAgICAgICAgIGcgPT09IGd1ZXN0UmVzdWx0UCB8fFxuICAgICAgICAgICAgICAgIEZhaWxgaW50ZXJuYWw6IHByb21pc2VzIHNob3VsZCBub3QgYmUgdW53cmFwcGVkICR7Z31gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHZvaWQgRS53aGVuKFxuICAgICAgICAgICAgICBndWVzdFJlc3VsdFAsXG4gICAgICAgICAgICAgIGdGdWxmaWxsbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGJpamVjdGlvbi5oYXNHdWVzdChndWVzdFJlc3VsdFApKSB7XG4gICAgICAgICAgICAgICAgICAhbG9nLmlzUmVwbGF5aW5nKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgcGFuaWMoXG4gICAgICAgICAgICAgICAgICAgICAgbWFrZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgWGBndWVzdCBmdWxmaWxsZWQgd2l0aCAke2dGdWxmaWxsbWVudH0gYmVmb3JlIGZpbmlzaGluZyByZXBsYXlgLFxuICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBvdXRjb21lS2l0LnJlc29sdmVyLnJlc29sdmUoXG4gICAgICAgICAgICAgICAgICAgIG1lbWJyYW5lLmd1ZXN0VG9Ib3N0KGdGdWxmaWxsbWVudCksXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgYWRtaW4uY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGd1ZXN0UmVhc29uID0+IHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIGlmIChiaWplY3Rpb24uaGFzR3Vlc3QoZ3Vlc3RSZXN1bHRQKSkge1xuICAgICAgICAgICAgICAgICAgIWxvZy5pc1JlcGxheWluZygpIHx8XG4gICAgICAgICAgICAgICAgICAgIHBhbmljKFxuICAgICAgICAgICAgICAgICAgICAgIG1ha2VFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIFhgZ3Vlc3QgcmVqZWN0ZWQgd2l0aCAke2d1ZXN0UmVhc29ufSBiZWZvcmUgZmluaXNoaW5nIHJlcGxheWAsXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIG91dGNvbWVLaXQucmVzb2x2ZXIucmVqZWN0KG1lbWJyYW5lLmd1ZXN0VG9Ib3N0KGd1ZXN0UmVhc29uKSk7XG4gICAgICAgICAgICAgICAgICBhZG1pbi5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGZsb3cuZ2V0Rmxvd1N0YXRlKCkgPT09ICdGYWlsZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGZsb3cuZ2V0T3B0RmF0YWxQcm9ibGVtKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtYXliZVBhbmljUmVhc29uID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChmbG93LmdldEZsb3dTdGF0ZSgpID09PSAnRmFpbGVkJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBmbG93LmdldE9wdEZhdGFsUHJvYmxlbSgpO1xuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBtYWtlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFhgaW50ZXJuYWw6IHVuZXhwZWN0ZWQgZXJyb3IgaW4gZ3Vlc3QgY29tcGxldGlvbiBoYW5kbGluZyAke21heWJlUGFuaWNSZWFzb259YCxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBwYW5pYyhlcnIpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoX2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLmNhdGNoKHBhbmljSGFuZGxlcik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB3YWtlKCkge1xuICAgICAgICAgICAgY29uc3QgeyBmYWNldHMgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCB7IGZsb3cgfSA9IGZhY2V0cztcblxuICAgICAgICAgICAgY29uc3QgZmxvd1N0YXRlID0gZmxvdy5nZXRGbG93U3RhdGUoKTtcbiAgICAgICAgICAgIHN3aXRjaCAoZmxvd1N0YXRlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ0RvbmUnOlxuICAgICAgICAgICAgICBjYXNlICdGYWlsZWQnOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJ1J1bm5pbmcnOlxuICAgICAgICAgICAgICBjYXNlICdSZXBsYXlpbmcnOiB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgZ2V0TWVtYnJhbmUoZmxvdykud2FrZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlICdTbGVlcGluZyc6IHtcbiAgICAgICAgICAgICAgICBmbG93LnJlc3RhcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIHRocm93IEZhaWxgdW5leHBlY3RlZCBmbG93U3RhdGUgJHtxKGZsb3dTdGF0ZSl9YDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0T3V0Y29tZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCB7IG91dGNvbWVLaXQgfSA9IHN0YXRlO1xuICAgICAgICAgICAgcmV0dXJuIG91dGNvbWVLaXQudm93O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZHVtcCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCB7IGxvZyB9ID0gc3RhdGU7XG5cbiAgICAgICAgICAgIHJldHVybiBsb2cuZHVtcCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0T3B0RmF0YWxQcm9ibGVtKCkge1xuICAgICAgICAgICAgY29uc3QgeyBmYWNldHMgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCB7IGZsb3cgfSA9IGZhY2V0cztcblxuICAgICAgICAgICAgcmV0dXJuIGZhaWx1cmVzLmhhcyhmbG93KSA/IGZhaWx1cmVzLmdldChmbG93KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBhZG1pbjoge1xuICAgICAgICAgIHJlc2V0KCkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSwgZmFjZXRzIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBiaWplY3Rpb24sIGxvZyB9ID0gc3RhdGU7XG4gICAgICAgICAgICBjb25zdCB7IGZsb3cgfSA9IGZhY2V0cztcbiAgICAgICAgICAgICFzdGF0ZS5pc0RvbmUgfHwgRmFpbGBDYW5ub3QgcmVzZXQgYSBkb25lIGZsb3dgO1xuXG4gICAgICAgICAgICBpZiAoZmFpbHVyZXMuaGFzKGZsb3cpKSB7XG4gICAgICAgICAgICAgIGZhaWx1cmVzLmRlbGV0ZShmbG93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNNZW1icmFuZShmbG93KSkge1xuICAgICAgICAgICAgICBnZXRNZW1icmFuZShmbG93KS5zdG9wKCk7XG4gICAgICAgICAgICAgIGRlbGV0ZU1lbWJyYW5lKGZsb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nLnJlc2V0KCk7XG4gICAgICAgICAgICBiaWplY3Rpb24ucmVzZXQoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbXBsZXRlKCkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSwgZmFjZXRzIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBsb2cgfSA9IHN0YXRlO1xuICAgICAgICAgICAgY29uc3QgeyBmbG93LCBhZG1pbiB9ID0gZmFjZXRzO1xuXG4gICAgICAgICAgICBhZG1pbi5yZXNldCgpO1xuICAgICAgICAgICAgaWYgKGVhZ2VyV2FrZXJzLmhhcyhmbG93KSkge1xuICAgICAgICAgICAgICBlYWdlcldha2Vycy5kZWxldGUoZmxvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmbG93Rm9yT3V0Y29tZVZvd0tleS5kZWxldGUodG9QYXNzYWJsZUNhcChmbG93LmdldE91dGNvbWUoKSkpO1xuICAgICAgICAgICAgc3RhdGUuaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGxvZy5kaXNwb3NlKCk7XG4gICAgICAgICAgICBmbG93LmdldEZsb3dTdGF0ZSgpID09PSAnRG9uZScgfHxcbiAgICAgICAgICAgICAgRmFpbGBDb21wbGV0ZSBmbG93IG11c3QgYmUgRG9uZSAke2Zsb3d9YDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBhbmljKGZhdGFsUHJvYmxlbSkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSwgZmFjZXRzIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBiaWplY3Rpb24sIGxvZyB9ID0gc3RhdGU7XG4gICAgICAgICAgICBjb25zdCB7IGZsb3cgfSA9IGZhY2V0cztcblxuICAgICAgICAgICAgaWYgKGZhaWx1cmVzLmhhcyhmbG93KSkge1xuICAgICAgICAgICAgICBjb25zdCBwcmV2RXJyID0gZmFpbHVyZXMuZ2V0KGZsb3cpO1xuICAgICAgICAgICAgICBhbm5vdGF0ZUVycm9yKFxuICAgICAgICAgICAgICAgIHByZXZFcnIsXG4gICAgICAgICAgICAgICAgWGBkb3VibHkgZmFpbGVkIHNvbWVob3cgd2l0aCAke2ZhdGFsUHJvYmxlbX1gLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBmYXRhbFByb2JsZW0gPSBwcmV2RXJyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmFpbHVyZXMuaW5pdChmbG93LCBmYXRhbFByb2JsZW0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaGFzTWVtYnJhbmUoZmxvdykpIHtcbiAgICAgICAgICAgICAgZ2V0TWVtYnJhbmUoZmxvdykuc3RvcCgpO1xuICAgICAgICAgICAgICBkZWxldGVNZW1icmFuZShmbG93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZy5yZXNldCgpO1xuICAgICAgICAgICAgYmlqZWN0aW9uLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIGZsb3cuZ2V0Rmxvd1N0YXRlKCkgPT09ICdGYWlsZWQnIHx8XG4gICAgICAgICAgICAgIEZhaWxgUGFuaWNrZWQgZmxvdyBtdXN0IGJlIEZhaWxlZCAke2Zsb3d9YDtcblxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3QgZXJyID0gbWFrZUVycm9yKFxuICAgICAgICAgICAgICBYYEluIGEgRmFpbGVkIHN0YXRlOiBzZWUgZ2V0RmFpbHVyZXMoKSBvciBnZXRPcHRGYXRhbFByb2JsZW0oKSBmb3IgbW9yZSBpbmZvcm1hdGlvbmAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYW5ub3RhdGVFcnJvcihlcnIsIFhgZHVlIHRvICR7ZmF0YWxQcm9ibGVtfWApO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHdha2VXYXRjaGVyOiB7XG4gICAgICAgICAgb25GdWxmaWxsZWQoX2Z1bGZpbGxtZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IGZhY2V0cyB9ID0gdGhpcztcbiAgICAgICAgICAgIGZhY2V0cy5mbG93Lndha2UoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uUmVqZWN0ZWQoX2Z1bGZpbGxtZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IGZhY2V0cyB9ID0gdGhpcztcbiAgICAgICAgICAgIGZhY2V0cy5mbG93Lndha2UoKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICApO1xuICAgIGNvbnN0IG1ha2VBc3luY0Zsb3dLaXQgPSBhY3RpdmF0aW9uQXJncyA9PiB7XG4gICAgICBjb25zdCBhc3luY0Zsb3dLaXQgPSBpbnRlcm5hbE1ha2VBc3luY0Zsb3dLaXQoYWN0aXZhdGlvbkFyZ3MpO1xuICAgICAgY29uc3QgeyBmbG93IH0gPSBhc3luY0Zsb3dLaXQ7XG5cbiAgICAgIGNvbnN0IHZvdyA9IGZsb3cuZ2V0T3V0Y29tZSgpO1xuICAgICAgZmxvd0Zvck91dGNvbWVWb3dLZXkuaW5pdCh0b1Bhc3NhYmxlQ2FwKHZvdyksIGZsb3cpO1xuICAgICAgZmxvdy5yZXN0YXJ0KCk7XG4gICAgICByZXR1cm4gYXN5bmNGbG93S2l0O1xuICAgIH07XG4gICAgcmV0dXJuIGhhcmRlbihtYWtlQXN5bmNGbG93S2l0KTtcbiAgfTtcblxuICAvKlxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgYXN5bmNGbG93ID0gKHpvbmUsIHRhZywgZ3Vlc3RGdW5jLCBvcHRpb25zID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgY29uc3QgbWFrZUFzeW5jRmxvd0tpdCA9IHByZXBhcmVBc3luY0Zsb3dLaXQoem9uZSwgdGFnLCBndWVzdEZ1bmMsIG9wdGlvbnMpO1xuICAgIGNvbnN0IGhvc3RGdW5jTmFtZSA9IGAke3RhZ31faG9zdEZsb3dgO1xuXG4gICAgY29uc3Qgd3JhcHBlckZ1bmMgPSAvKiAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgICAge1xuICAgICAgICBbaG9zdEZ1bmNOYW1lXSguLi5hcmdzKSB7XG4gICAgICAgICAgY29uc3QgeyBmbG93IH0gPSBtYWtlQXN5bmNGbG93S2l0KGFyZ3MpO1xuICAgICAgICAgIHJldHVybiBmbG93LmdldE91dGNvbWUoKTtcbiAgICAgICAgfSxcbiAgICAgIH1baG9zdEZ1bmNOYW1lXVxuICAgICk7XG4gICAgZGVmaW5lUHJvcGVydGllcyh3cmFwcGVyRnVuYywge1xuICAgICAgbGVuZ3RoOiB7IHZhbHVlOiBndWVzdEZ1bmMubGVuZ3RoIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGhhcmRlbih3cmFwcGVyRnVuYyk7XG4gIH07XG5cbiAgY29uc3QgYWRtaW5Bc3luY0Zsb3cgPSBvdXRlclpvbmUuZXhvKCdBZG1pbkFzeW5jRmxvdycsIEFkbWluQXN5bmNGbG93SSwge1xuICAgIGdldEZhaWx1cmVzKCkge1xuICAgICAgcmV0dXJuIGZhaWx1cmVzLnNuYXBzaG90KCk7XG4gICAgfSxcbiAgICB3YWtlQWxsKCkge1xuICAgICAgLy9cbiAgICAgIGNvbnN0IGZhaWx1cmVzVG9SZXN0YXJ0ID0gWy4uLmZhaWx1cmVzLmtleXMoKV07XG4gICAgICBjb25zdCBmbG93c1RvV2FrZSA9IFsuLi5lYWdlcldha2Vycy5rZXlzKCldO1xuICAgICAgZm9yIChjb25zdCBmbG93IG9mIGZhaWx1cmVzVG9SZXN0YXJ0KSB7XG4gICAgICAgIGZsb3cucmVzdGFydCgpO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBmbG93IG9mIGZsb3dzVG9XYWtlKSB7XG4gICAgICAgIGZsb3cud2FrZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Rmxvd0Zvck91dGNvbWVWb3cob3V0Y29tZVZvdykge1xuICAgICAgcmV0dXJuIGZsb3dGb3JPdXRjb21lVm93S2V5LmdldCh0b1Bhc3NhYmxlQ2FwKG91dGNvbWVWb3cpKTtcbiAgICB9LFxuICB9KTtcblxuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICBjb25zdCBhbGxXb2tlblAgPSBFLndoZW4obnVsbCwgKCkgPT4gYWRtaW5Bc3luY0Zsb3cud2FrZUFsbCgpKTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBwcmVwYXJlQXN5bmNGbG93S2l0LFxuICAgIGFzeW5jRmxvdyxcbiAgICBhZG1pbkFzeW5jRmxvdyxcbiAgICBhbGxXb2tlblAsXG4gICAgcHJlcGFyZUVuZG93bWVudCxcbiAgfSk7XG59OyRozY9fb25jZS5wcmVwYXJlQXN5bmNGbG93VG9vbHMocHJlcGFyZUFzeW5jRmxvd1Rvb2xzKTtcbmhhcmRlbihwcmVwYXJlQXN5bmNGbG93VG9vbHMpO1xuXG4vKlxuXG4gKi9cblxuLypcblxuICovXG5cbi8qXG5cbiAqL1xuXG4vKlxuXG4gKi9cblxuLypcblxuICovXG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwcmVwYXJlQXN5bmNGbG93VG9vbHMiOlsicHJlcGFyZUFzeW5jRmxvd1Rvb2xzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFnK7xiBEgAAgRIAACoAAABAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy9iaWplY3Rpb24uanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vcGF0dGVybnMiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGFnb3JpYy92b3ciLCIuL2VwaGVtZXJhLmpzIl0sImV4cG9ydHMiOlsicHJlcGFyZUJpamVjdGlvbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGIsRmFpbCxNLEZhcixpc1Bhc3NhYmxlLHRvUGFzc2FibGVDYXAsbWFrZUVwaGVtZXJhOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJiXCIsWyRozY9fYSA9PiAoYiA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXSxbXCJpc1Bhc3NhYmxlXCIsWyRozY9fYSA9PiAoaXNQYXNzYWJsZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdm93XCIsIFtbXCJ0b1Bhc3NhYmxlQ2FwXCIsWyRozY9fYSA9PiAodG9QYXNzYWJsZUNhcCA9ICRozY9fYSldXV1dLFtcIi4vZXBoZW1lcmEuanNcIiwgW1tcIm1ha2VFcGhlbWVyYVwiLFskaM2PX2EgPT4gKG1ha2VFcGhlbWVyYSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuLypcblxuXG5cblxuICovXG5cbmNvbnN0IEJpamVjdGlvbkkgPSBNLmludGVyZmFjZSgnQmlqZWN0aW9uJywge1xuICByZXNldDogTS5jYWxsKCkucmV0dXJucygpLFxuICB1bndyYXBJbml0OiBNLmNhbGwoTS5yYXcoKSwgTS5hbnkoKSkucmV0dXJucyhNLnJhdygpKSxcbiAgaGFzR3Vlc3Q6IE0uY2FsbChNLnJhdygpKS5yZXR1cm5zKE0uYm9vbGVhbigpKSxcbiAgaGFzSG9zdDogTS5jYWxsKE0uYW55KCkpLnJldHVybnMoTS5ib29sZWFuKCkpLFxuICBoYXM6IE0uY2FsbChNLnJhdygpLCBNLmFueSgpKS5yZXR1cm5zKE0uYm9vbGVhbigpKSxcbiAgZ3Vlc3RUb0hvc3Q6IE0uY2FsbChNLnJhdygpKS5yZXR1cm5zKE0uYW55KCkpLFxuICBob3N0VG9HdWVzdDogTS5jYWxsKE0uYW55KCkpLnJldHVybnMoTS5yYXcoKSksXG59KTtcblxuLypcblxuICovXG5jb25zdCB0b0tleSA9IGsgPT5cbiAgLy9cbiAgaXNQYXNzYWJsZShrKSA/IHRvUGFzc2FibGVDYXAoaykgOiBrO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuY29uc3QgbWFrZVZvd2lzaFN0b3JlID0gbmFtZSA9PiB7XG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcblxuICByZXR1cm4gRmFyKG5hbWUsIHtcbiAgICBpbml0OiAoaywgdikgPT4ge1xuICAgICAgY29uc3QgazIgPSB0b0tleShrKTtcbiAgICAgICFtYXAuaGFzKGsyKSB8fFxuICAgICAgICAvL1xuICAgICAgICBGYWlsYCR7YihuYW1lKX0ga2V5IGFscmVhZHkgYm91bmQ6ICR7a30gLT4gJHttYXAuZ2V0KGsyKX0gdnMgJHt2fWA7XG4gICAgICBtYXAuc2V0KGsyLCB2KTtcbiAgICB9LFxuICAgIGhhczogayA9PiBtYXAuaGFzKHRvS2V5KGspKSxcbiAgICBnZXQ6IGsgPT4ge1xuICAgICAgY29uc3QgazIgPSB0b0tleShrKTtcbiAgICAgIG1hcC5oYXMoazIpIHx8XG4gICAgICAgIC8vXG4gICAgICAgIEZhaWxgJHtiKG5hbWUpfSBrZXkgbm90IGZvdW5kOiAke2t9YDtcbiAgICAgIHJldHVybiBtYXAuZ2V0KGsyKTtcbiAgICB9LFxuICB9KTtcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlQmlqZWN0aW9uID0gKFxuICB6b25lLFxuICB1bndyYXAgPSAoX2hvc3RXcmFwcGVyLCBndWVzdFdyYXBwZXIpID0+IGd1ZXN0V3JhcHBlcixcbikgPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBnMmggPSBtYWtlRXBoZW1lcmEoKCkgPT4gbWFrZVZvd2lzaFN0b3JlKCdndWVzdFRvSG9zdCcpKTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgaDJnID0gbWFrZUVwaGVtZXJhKCgpID0+IG1ha2VWb3dpc2hTdG9yZSgnaG9zdFRvR3Vlc3QnKSk7XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgcmV0dXJuIHpvbmUuZXhvQ2xhc3MoJ0JpamVjdGlvbicsIEJpamVjdGlvbkksICgpID0+ICh7fSksIHtcbiAgICByZXNldCgpIHtcbiAgICAgIGNvbnN0IHsgc2VsZiB9ID0gdGhpcztcblxuICAgICAgZzJoLnJlc2V0Rm9yKHNlbGYpO1xuICAgICAgaDJnLnJlc2V0Rm9yKHNlbGYpO1xuICAgIH0sXG4gICAgdW53cmFwSW5pdChnLCBoKSB7XG4gICAgICBoYXJkZW4oZyk7XG4gICAgICBjb25zdCB7IHNlbGYgfSA9IHRoaXM7XG4gICAgICBjb25zdCBndWVzdFRvSG9zdCA9IGcyaC5mb3Ioc2VsZik7XG4gICAgICBjb25zdCBob3N0VG9HdWVzdCA9IGgyZy5mb3Ioc2VsZik7XG5cbiAgICAgIGNvbnN0IGdVbndyYXBwZWQgPSB1bndyYXAoaCwgZyk7XG4gICAgICAhaG9zdFRvR3Vlc3QuaGFzKGgpIHx8XG4gICAgICAgIEZhaWxgaG9zdFRvR3Vlc3Qga2V5IGFscmVhZHkgYm91bmQ6ICR7aH0gLT4gJHtob3N0VG9HdWVzdC5nZXQoaCl9IHZzICR7Z1Vud3JhcHBlZH1gO1xuICAgICAgZ3Vlc3RUb0hvc3QuaW5pdChnVW53cmFwcGVkLCBoKTtcbiAgICAgIGhvc3RUb0d1ZXN0LmluaXQoaCwgZ1Vud3JhcHBlZCk7XG4gICAgICBzZWxmLmhhcyhnVW53cmFwcGVkLCBoKSB8fFxuICAgICAgICAvL1xuICAgICAgICBGYWlsYGludGVybmFsOiAke2d9IDwtPiAke2h9YDtcbiAgICAgIGlmIChnICE9PSBnVW53cmFwcGVkKSB7XG4gICAgICAgIC8vXG4gICAgICAgICFndWVzdFRvSG9zdC5oYXMoZykgfHxcbiAgICAgICAgICAvL1xuICAgICAgICAgIEZhaWxgaGlkZGVuIGd1ZXN0IHdyYXBwZXIgYWxyZWFkeSBib3VuZCAke2d9YDtcbiAgICAgICAgZ3Vlc3RUb0hvc3QuaW5pdChnLCBoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnVW53cmFwcGVkO1xuICAgIH0sXG4gICAgaGFzR3Vlc3QoZykge1xuICAgICAgaGFyZGVuKGcpO1xuICAgICAgY29uc3QgeyBzZWxmIH0gPSB0aGlzO1xuICAgICAgY29uc3QgZ3Vlc3RUb0hvc3QgPSBnMmguZm9yKHNlbGYpO1xuXG4gICAgICByZXR1cm4gZ3Vlc3RUb0hvc3QuaGFzKGcpO1xuICAgIH0sXG4gICAgaGFzSG9zdChoKSB7XG4gICAgICBjb25zdCB7IHNlbGYgfSA9IHRoaXM7XG4gICAgICBjb25zdCBob3N0VG9HdWVzdCA9IGgyZy5mb3Ioc2VsZik7XG5cbiAgICAgIHJldHVybiBob3N0VG9HdWVzdC5oYXMoaCk7XG4gICAgfSxcbiAgICBoYXMoZywgaCkge1xuICAgICAgaGFyZGVuKGcpO1xuICAgICAgY29uc3QgeyBzZWxmIH0gPSB0aGlzO1xuICAgICAgY29uc3QgZ3Vlc3RUb0hvc3QgPSBnMmguZm9yKHNlbGYpO1xuICAgICAgY29uc3QgaG9zdFRvR3Vlc3QgPSBoMmcuZm9yKHNlbGYpO1xuXG4gICAgICBpZiAoZ3Vlc3RUb0hvc3QuaGFzKGcpKSB7XG4gICAgICAgIHRvUGFzc2FibGVDYXAoZ3Vlc3RUb0hvc3QuZ2V0KGcpKSA9PT0gdG9QYXNzYWJsZUNhcChoKSB8fFxuICAgICAgICAgIEZhaWxgaW50ZXJuYWw6IGctPmggJHtnfSAtPiAke2h9IHZzICR7Z3Vlc3RUb0hvc3QuZ2V0KGcpfWA7XG4gICAgICAgIGhvc3RUb0d1ZXN0LmdldChoKSA9PT0gZyB8fFxuICAgICAgICAgIEZhaWxgaW50ZXJuYWwgaC0+ZzogJHtofSAtPiAke2d9IHZzICR7aG9zdFRvR3Vlc3QuZ2V0KGgpfWA7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgIWhvc3RUb0d1ZXN0LmhhcyhoKSB8fFxuICAgICAgICAgIEZhaWxgaW50ZXJuYWw6IHVuZXhwZWN0ZWQgaC0+ZyAke2h9IC0+ICR7aG9zdFRvR3Vlc3QuZ2V0KGgpfWA7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGd1ZXN0VG9Ib3N0KGcpIHtcbiAgICAgIGhhcmRlbihnKTtcbiAgICAgIGNvbnN0IHsgc2VsZiB9ID0gdGhpcztcbiAgICAgIGNvbnN0IGd1ZXN0VG9Ib3N0ID0gZzJoLmZvcihzZWxmKTtcblxuICAgICAgcmV0dXJuIGd1ZXN0VG9Ib3N0LmdldChnKTtcbiAgICB9LFxuICAgIGhvc3RUb0d1ZXN0KGgpIHtcbiAgICAgIGNvbnN0IHsgc2VsZiB9ID0gdGhpcztcbiAgICAgIGNvbnN0IGhvc3RUb0d1ZXN0ID0gaDJnLmZvcihzZWxmKTtcblxuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIGhvc3RUb0d1ZXN0LmdldChoKTtcbiAgICB9LFxuICB9KTtcbn07JGjNj19vbmNlLnByZXBhcmVCaWplY3Rpb24ocHJlcGFyZUJpamVjdGlvbik7XG5oYXJkZW4ocHJlcGFyZUJpamVjdGlvbik7XG5cbi8qXG5cbiAqL1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZUJpamVjdGlvbiI6WyJwcmVwYXJlQmlqZWN0aW9uIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEiDW1N9EQAAfREAACgAAABAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy9jb252ZXJ0LmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2NvbW1vbi90aHJvdy1sYWJlbGVkLmpzIiwiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGFnb3JpYy92b3cvc3JjL3Zvdy11dGlscy5qcyJdLCJleHBvcnRzIjpbIm1ha2VDb252ZXJ0S2l0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxYLGFubm90YXRlRXJyb3IsbWFrZUVycm9yLHEsdGhyb3dMYWJlbGVkLG9iamVjdE1hcCxnZXRFcnJvckNvbnN0cnVjdG9yLGdldFRhZyxpc09iamVjdCxtYWtlVGFnZ2VkLHBhc3NTdHlsZU9mLGlzVm93OyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXSxbXCJhbm5vdGF0ZUVycm9yXCIsWyRozY9fYSA9PiAoYW5ub3RhdGVFcnJvciA9ICRozY9fYSldXSxbXCJtYWtlRXJyb3JcIixbJGjNj19hID0+IChtYWtlRXJyb3IgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9jb21tb24vdGhyb3ctbGFiZWxlZC5qc1wiLCBbW1widGhyb3dMYWJlbGVkXCIsWyRozY9fYSA9PiAodGhyb3dMYWJlbGVkID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanNcIiwgW1tcIm9iamVjdE1hcFwiLFskaM2PX2EgPT4gKG9iamVjdE1hcCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImdldEVycm9yQ29uc3RydWN0b3JcIixbJGjNj19hID0+IChnZXRFcnJvckNvbnN0cnVjdG9yID0gJGjNj19hKV1dLFtcImdldFRhZ1wiLFskaM2PX2EgPT4gKGdldFRhZyA9ICRozY9fYSldXSxbXCJpc09iamVjdFwiLFskaM2PX2EgPT4gKGlzT2JqZWN0ID0gJGjNj19hKV1dLFtcIm1ha2VUYWdnZWRcIixbJGjNj19hID0+IChtYWtlVGFnZ2VkID0gJGjNj19hKV1dLFtcInBhc3NTdHlsZU9mXCIsWyRozY9fYSA9PiAocGFzc1N0eWxlT2YgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3Zvdy9zcmMvdm93LXV0aWxzLmpzXCIsIFtbXCJpc1Zvd1wiLFskaM2PX2EgPT4gKGlzVm93ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG4gKi9cblxuY29uc3QgbWFrZUNvbnZlcnQgPSAoY29udmVydFJlbW90YWJsZSwgY29udmVydFByb21pc2VPclZvdywgY29udmVydEVycm9yKSA9PiB7XG4gIGNvbnN0IGNvbnZlcnRSZWN1ciA9IChzcGVjaW1lbiwgbGFiZWwpID0+IHtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgaWYgKGxhYmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBpbm5lckNvbnZlcnQoc3BlY2ltZW4pO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGlubmVyQ29udmVydChzcGVjaW1lbik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvd0xhYmVsZWQoZXJyLCBsYWJlbCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGlubmVyQ29udmVydCA9IHNwZWNpbWVuID0+IHtcbiAgICBpZiAoIWlzT2JqZWN0KHNwZWNpbWVuKSkge1xuICAgICAgcmV0dXJuIHNwZWNpbWVuO1xuICAgIH1cbiAgICBjb25zdCBwYXNzU3R5bGUgPSBwYXNzU3R5bGVPZihzcGVjaW1lbik7XG4gICAgc3dpdGNoIChwYXNzU3R5bGUpIHtcbiAgICAgIGNhc2UgJ2NvcHlBcnJheSc6IHtcbiAgICAgICAgcmV0dXJuIHNwZWNpbWVuLm1hcCgoZWxlbWVudCwgaSkgPT4gY29udmVydFJlY3VyKGVsZW1lbnQsIGkpKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NvcHlSZWNvcmQnOiB7XG4gICAgICAgIHJldHVybiBvYmplY3RNYXAoc3BlY2ltZW4sICh2YWx1ZSwgbmFtZSkgPT4gY29udmVydFJlY3VyKHZhbHVlLCBuYW1lKSk7XG4gICAgICB9XG4gICAgICBjYXNlICd0YWdnZWQnOiB7XG4gICAgICAgIGlmIChpc1ZvdyhzcGVjaW1lbikpIHtcbiAgICAgICAgICByZXR1cm4gY29udmVydFByb21pc2VPclZvdyhzcGVjaW1lbik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFnID0gZ2V0VGFnKHNwZWNpbWVuKTtcbiAgICAgICAgY29uc3QgeyBwYXlsb2FkIH0gPSBzcGVjaW1lbjtcbiAgICAgICAgcmV0dXJuIG1ha2VUYWdnZWQodGFnLCBjb252ZXJ0UmVjdXIocGF5bG9hZCwgYCR7dGFnfSBwYXlsb2FkYCkpO1xuICAgICAgfVxuICAgICAgY2FzZSAnZXJyb3InOiB7XG4gICAgICAgIHJldHVybiBjb252ZXJ0RXJyb3Ioc3BlY2ltZW4pO1xuICAgICAgfVxuICAgICAgY2FzZSAncmVtb3RhYmxlJzoge1xuICAgICAgICByZXR1cm4gY29udmVydFJlbW90YWJsZShzcGVjaW1lbik7XG4gICAgICB9XG4gICAgICBjYXNlICdwcm9taXNlJzoge1xuICAgICAgICByZXR1cm4gY29udmVydFByb21pc2VPclZvdyhzcGVjaW1lbik7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRocm93IEZhaWxgdW5leHBlY3RlZCBwYXNzU3R5bGUgJHtxKHBhc3NTdHlsZSl9YDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBjb252ZXJ0ID0gKHNwZWNpbWVuLCBsYWJlbCA9IHVuZGVmaW5lZCkgPT5cbiAgICBjb252ZXJ0UmVjdXIoaGFyZGVuKHNwZWNpbWVuKSwgbGFiZWwpO1xuICByZXR1cm4gaGFyZGVuKGNvbnZlcnQpO1xufTtcblxuICAgICAgIGNvbnN0IG1ha2VDb252ZXJ0S2l0ID0gKFxuICBiaWplY3Rpb24sXG4gIG1ha2VHdWVzdEZvckhvc3RSZW1vdGFibGUsXG4gIG1ha2VHdWVzdEZvckhvc3RWb3csXG4pID0+IHtcbiAgY29uc3QgZ3Vlc3RUb0hvc3QgPSBtYWtlQ29udmVydChcbiAgICBnUmVtID0+IHtcbiAgICAgIGlmIChiaWplY3Rpb24uaGFzR3Vlc3QoZ1JlbSkpIHtcbiAgICAgICAgcmV0dXJuIGJpamVjdGlvbi5ndWVzdFRvSG9zdChnUmVtKTtcbiAgICAgIH1cbiAgICAgIHRocm93IEZhaWxgY2Fubm90IHlldCBzZW5kIGd1ZXN0IHJlbW90YWJsZXMgJHtnUmVtfWA7XG4gICAgfSxcbiAgICBnUHJvbSA9PiB7XG4gICAgICBpZiAoYmlqZWN0aW9uLmhhc0d1ZXN0KGdQcm9tKSkge1xuICAgICAgICByZXR1cm4gYmlqZWN0aW9uLmd1ZXN0VG9Ib3N0KGdQcm9tKTtcbiAgICAgIH1cbiAgICAgIHRocm93IEZhaWxgY2Fubm90IHlldCBzZW5kIGd1ZXN0IHByb21pc2VzICR7Z1Byb219YDtcbiAgICB9LFxuICAgIGdFcnIgPT4ge1xuICAgICAgY29uc3QgaEVyciA9IGhhcmRlbihcbiAgICAgICAgbWFrZUVycm9yKGdFcnIubWVzc2FnZSwgZ2V0RXJyb3JDb25zdHJ1Y3RvcihnRXJyLm5hbWUpKSxcbiAgICAgICk7XG4gICAgICBhbm5vdGF0ZUVycm9yKGhFcnIsIFhgZnJvbSBndWVzdCBlcnJvciAke2dFcnJ9YCk7XG4gICAgICByZXR1cm4gaEVycjtcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IGhvc3RUb0d1ZXN0ID0gbWFrZUNvbnZlcnQoXG4gICAgaFJlbSA9PiB7XG4gICAgICBpZiAoYmlqZWN0aW9uLmhhc0hvc3QoaFJlbSkpIHtcbiAgICAgICAgcmV0dXJuIGJpamVjdGlvbi5ob3N0VG9HdWVzdChoUmVtKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGdSZW0gPSBtYWtlR3Vlc3RGb3JIb3N0UmVtb3RhYmxlKGhSZW0pO1xuICAgICAgcmV0dXJuIGJpamVjdGlvbi51bndyYXBJbml0KGdSZW0sIGhSZW0pO1xuICAgIH0sXG4gICAgaFZvdyA9PiB7XG4gICAgICBpZiAoYmlqZWN0aW9uLmhhc0hvc3QoaFZvdykpIHtcbiAgICAgICAgcmV0dXJuIGJpamVjdGlvbi5ob3N0VG9HdWVzdChoVm93KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGdQID0gbWFrZUd1ZXN0Rm9ySG9zdFZvdyhoVm93KTtcbiAgICAgIHJldHVybiBiaWplY3Rpb24udW53cmFwSW5pdChnUCwgaFZvdyk7XG4gICAgfSxcbiAgICBoRXJyID0+IHtcbiAgICAgIGNvbnN0IGdFcnIgPSBoYXJkZW4oXG4gICAgICAgIG1ha2VFcnJvcihoRXJyLm1lc3NhZ2UsIGdldEVycm9yQ29uc3RydWN0b3IoaEVyci5uYW1lKSksXG4gICAgICApO1xuICAgICAgYW5ub3RhdGVFcnJvcihnRXJyLCBYYGZyb20gaG9zdCBlcnJvciAke2hFcnJ9YCk7XG4gICAgICByZXR1cm4gZ0VycjtcbiAgICB9LFxuICApO1xuXG4gIHJldHVybiBoYXJkZW4oeyBndWVzdFRvSG9zdCwgaG9zdFRvR3Vlc3QgfSk7XG59OyRozY9fb25jZS5tYWtlQ29udmVydEtpdChtYWtlQ29udmVydEtpdCk7XG5oYXJkZW4obWFrZUNvbnZlcnRLaXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZUNvbnZlcnRLaXQiOlsibWFrZUNvbnZlcnRLaXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAXQKl9dUfAADVHwAAKwAAAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL2VuZG93bWVudHMuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZXZlbnR1YWwtc2VuZCIsIkBlbmRvL3Byb21pc2Uta2l0IiwiQGVuZG8vcGFzcy1zdHlsZSIsIkBlbmRvL3BhdHRlcm5zIiwiQGFnb3JpYy92b3ciLCJAYWdvcmljL3Zvdy9zcmMvdm93LXV0aWxzLmpzIiwiQGFnb3JpYy9pbnRlcm5hbC9zcmMvdXBncmFkZS1hcGkuanMiLCIuL3R5cGUtZ3VhcmRzLmpzIl0sImV4cG9ydHMiOlsiZm9yd2FyZGluZ01ldGhvZHMiLCJwcmVwYXJlRW5kb3dtZW50VG9vbHMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLEUsaXNQcm9taXNlLGlzUmVtb3RhYmxlLGlzUGFzc2FibGUsR0VUX01FVEhPRF9OQU1FUyxGYXIsTSxvYmplY3RNYXAscHJlcGFyZVZvd1Rvb2xzLHRvUGFzc2FibGVDYXAsaXNWb3csaXNVcGdyYWRlRGlzY29ubmVjdGlvbixQcm9wZXJ0eUtleVNoYXBlOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2V2ZW50dWFsLXNlbmRcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcHJvbWlzZS1raXRcIiwgW1tcImlzUHJvbWlzZVwiLFskaM2PX2EgPT4gKGlzUHJvbWlzZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImlzUmVtb3RhYmxlXCIsWyRozY9fYSA9PiAoaXNSZW1vdGFibGUgPSAkaM2PX2EpXV0sW1wiaXNQYXNzYWJsZVwiLFskaM2PX2EgPT4gKGlzUGFzc2FibGUgPSAkaM2PX2EpXV0sW1wiR0VUX01FVEhPRF9OQU1FU1wiLFskaM2PX2EgPT4gKEdFVF9NRVRIT0RfTkFNRVMgPSAkaM2PX2EpXV0sW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dLFtcIm9iamVjdE1hcFwiLFskaM2PX2EgPT4gKG9iamVjdE1hcCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdm93XCIsIFtbXCJwcmVwYXJlVm93VG9vbHNcIixbJGjNj19hID0+IChwcmVwYXJlVm93VG9vbHMgPSAkaM2PX2EpXV0sW1widG9QYXNzYWJsZUNhcFwiLFskaM2PX2EgPT4gKHRvUGFzc2FibGVDYXAgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3Zvdy9zcmMvdm93LXV0aWxzLmpzXCIsIFtbXCJpc1Zvd1wiLFskaM2PX2EgPT4gKGlzVm93ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9pbnRlcm5hbC9zcmMvdXBncmFkZS1hcGkuanNcIiwgW1tcImlzVXBncmFkZURpc2Nvbm5lY3Rpb25cIixbJGjNj19hID0+IChpc1VwZ3JhZGVEaXNjb25uZWN0aW9uID0gJGjNj19hKV1dXV0sW1wiLi90eXBlLWd1YXJkcy5qc1wiLCBbW1wiUHJvcGVydHlLZXlTaGFwZVwiLFskaM2PX2EgPT4gKFByb3BlcnR5S2V5U2hhcGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG4gKi9cblxuY29uc3Qge1xuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsXG4gIGNyZWF0ZSxcbiAgZnJvbUVudHJpZXMsXG4gIGVudHJpZXMsXG4gIHByb3RvdHlwZTogb2JqZWN0UHJvdG90eXBlLFxufSA9IE9iamVjdDtcbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcblxuY29uc3QgRnVuY3Rpb25XcmFwcGVySSA9IE0uaW50ZXJmYWNlKCdGdW5jdGlvbldyYXBwZXInLCB7XG4gIGFwcGx5OiBNLmNhbGwoTS5hcnJheSgpKS5yZXR1cm5zKE0uYW55KCkpLFxufSk7XG5cbmNvbnN0IFN0YXRlQWNjZXNzb3JJID0gTS5pbnRlcmZhY2UoJ1N0YXRlQWNjZXNzb3InLCB7XG4gIGdldDogTS5jYWxsKFByb3BlcnR5S2V5U2hhcGUpLnJldHVybnMoTS5hbnkoKSksXG4gIHNldDogTS5jYWxsKFByb3BlcnR5S2V5U2hhcGUsIE0uYW55KCkpLnJldHVybnMoKSxcbn0pO1xuXG5jb25zdCBVbndyYXBwZXJJID0gTS5pbnRlcmZhY2UoJ1Vud3JhcHBlcicsIHtcbiAgdW53cmFwOiBNLmNhbGwoTS5yZW1vdGFibGUoJ2d1ZXN0V3JhcHBlZCcpKS5yZXR1cm5zKE0ucmF3KCkpLFxufSk7XG5cbiAgICAgICBjb25zdCBmb3J3YXJkaW5nTWV0aG9kcyA9IHJlbSA9PiB7XG4gIGNvbnN0IGtleXMgPSByZW1bR0VUX01FVEhPRF9OQU1FU10oKTtcbiAgY29uc3QgbWFrZU1ldGhvZEVudHJ5ID0ga2V5ID0+XG4gICAgZW50cmllcyh7XG4gICAgICBba2V5XSguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiByZW1ba2V5XSguLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgfSlbMF07XG4gIHJldHVybiBmcm9tRW50cmllcyhrZXlzLm1hcChtYWtlTWV0aG9kRW50cnkpKTtcbn07XG5cbi8qXG5cblxuICovJGjNj19vbmNlLmZvcndhcmRpbmdNZXRob2RzKGZvcndhcmRpbmdNZXRob2RzKTtcbiAgICAgICBjb25zdCBwcmVwYXJlRW5kb3dtZW50VG9vbHMgPSAob3V0ZXJab25lLCBvdXRlck9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCB7IHZvd1Rvb2xzID0gcHJlcGFyZVZvd1Rvb2xzKG91dGVyWm9uZSkgfSA9IG91dGVyT3B0aW9ucztcbiAgY29uc3QgeyBtYWtlVm93S2l0IH0gPSB2b3dUb29scztcblxuICBjb25zdCBmdW5jdGlvblVud3JhcHBlciA9IG91dGVyWm9uZS5leG8oJ0Z1bmN0aW9uVW53cmFwcGVyJywgVW53cmFwcGVySSwge1xuICAgIHVud3JhcChndWVzdFdyYXBwZWQpIHtcbiAgICAgIHJldHVybiBGYXIoJ1Vud3JhcHBlZEZ1bmN0aW9uJywgKC4uLmFyZ3MpID0+IGd1ZXN0V3JhcHBlZC5hcHBseShhcmdzKSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgbWFrZVN0YXRlVW53cmFwcGVyID0gb3V0ZXJab25lLmV4b0NsYXNzKFxuICAgICdTdGF0ZVVud3JhcHBlcicsXG4gICAgVW53cmFwcGVySSxcbiAgICBrZXlzID0+ICh7IGtleXMgfSksXG4gICAge1xuICAgICAgdW53cmFwKGd1ZXN0V3JhcHBlZCkge1xuICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IGtleXMgfSA9IHN0YXRlO1xuICAgICAgICByZXR1cm4gaGFyZGVuKFxuICAgICAgICAgIGNyZWF0ZShcbiAgICAgICAgICAgIG9iamVjdFByb3RvdHlwZSxcbiAgICAgICAgICAgIGZyb21FbnRyaWVzKFxuICAgICAgICAgICAgICBrZXlzLmZsYXRNYXAoa2V5ID0+XG4gICAgICAgICAgICAgICAgZW50cmllcyhcbiAgICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoe1xuICAgICAgICAgICAgICAgICAgICBnZXQgW2tleV0oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGd1ZXN0V3JhcHBlZC5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0IFtrZXldKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZ3Vlc3RXcmFwcGVkLnNldChrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgLypcblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBlbmRvd21lbnRLaW5kT2YgPSBlID0+IHtcbiAgICBoYXJkZW4oZSk7XG4gICAgaWYgKGlzUHJvbWlzZShlKSkge1xuICAgICAgcmV0dXJuICdwcm9taXNlJztcbiAgICB9IGVsc2UgaWYgKG91dGVyWm9uZS5pc1N0b3JhYmxlKGUpKSB7XG4gICAgICByZXR1cm4gJ3N0b3JhYmxlJztcbiAgICB9IGVsc2UgaWYgKGlzUGFzc2FibGUoZSkgJiYgaXNSZW1vdGFibGUoZSkpIHtcbiAgICAgIHJldHVybiAnZmFyJztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gJ2Z1bmN0aW9uJztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKGUgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgRmFpbGBpbnRlcm5hbDogbnVsbCBpcyBhbHdheXMgc3RvcmFibGVgO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHtcbiAgICAgICAgcmV0dXJuICdhcnJheSc7XG4gICAgICB9XG4gICAgICBjb25zdCBrZXlzID0gb3duS2V5cyhlKTtcbiAgICAgIGtleXMubGVuZ3RoID49IDEgfHwgRmFpbGBlbXB0eSByZWNvcmQgc2hvdWxkIGJlIHN0b3JhYmxlICR7ZX1gO1xuICAgICAgY29uc3QgZGVzYyA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBrZXlzWzBdKVxuICAgICAgKTtcbiAgICAgIGlmICgndmFsdWUnIGluIGRlc2MpIHtcbiAgICAgICAgcmV0dXJuICdyZWNvcmQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJ2dldCcgaW4gZGVzYyB8fCBGYWlsYGludGVybmFsOiB1bmV4cGVjdGVkIGRlc2NyaXB0b3IgJHtkZXNjfWA7XG4gICAgICAgIHJldHVybiAnc3RhdGUnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBGYWlsYHVuZXhwZWN0ZWQgZW5kb3dtZW50ICR7ZX1gO1xuICAgIH1cbiAgfTtcbiAgaGFyZGVuKGVuZG93bWVudEtpbmRPZik7XG5cbiAgY29uc3QgdW53cmFwTWFwID0gb3V0ZXJab25lLndlYWtNYXBTdG9yZSgndW53cmFwTWFwJywge1xuICAgIGtleVNoYXBlOiBNLnJlbW90YWJsZSgnd3JhcHBlZCcpLFxuICAgIHZhbHVlU2hhcGU6IE0ucmVtb3RhYmxlKCd1bndyYXBwZXInKSxcbiAgfSk7XG5cbiAgY29uc3QgdW53cmFwTWFwSGFzID0gayA9PiB7XG4gICAgaWYgKGlzVm93KGspIHx8IGlzUmVtb3RhYmxlKGspKSB7XG4gICAgICByZXR1cm4gdW53cmFwTWFwLmhhcyh0b1Bhc3NhYmxlQ2FwKGspKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdW53cmFwTWFwR2V0ID0gayA9PiB1bndyYXBNYXAuZ2V0KHRvUGFzc2FibGVDYXAoaykpO1xuICBjb25zdCB1bndyYXBNYXBTZXQgPSAoaywgdikgPT4ge1xuICAgIGNvbnN0IGsyID0gdG9QYXNzYWJsZUNhcChrKTtcbiAgICBpZiAodW53cmFwTWFwSGFzKGspKSB7XG4gICAgICB1bndyYXBNYXAuc2V0KGsyLCB2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdW53cmFwTWFwLmluaXQoazIsIHYpO1xuICAgIH1cbiAgfTtcblxuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgcHJlcGFyZUVuZG93bWVudCA9ICh6b25lLCB0YWcsIGUpID0+IHtcbiAgICBjb25zdCBlS2luZCA9IGVuZG93bWVudEtpbmRPZihlKTtcbiAgICBzd2l0Y2ggKGVLaW5kKSB7XG4gICAgICBjYXNlICdwcm9taXNlJzoge1xuICAgICAgICBjb25zdCBwID0gLyogICAgICAgICAgICAgICAgICAqLyAoZSk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IHsgdm93LCByZXNvbHZlciB9ID0gbWFrZVZvd0tpdCgpO1xuICAgICAgICB2b2lkIEUud2hlbihcbiAgICAgICAgICBwLFxuICAgICAgICAgIHYgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZXIucmVzb2x2ZSh2KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlYXNvbiA9PiB7XG4gICAgICAgICAgICBpZiAoIWlzVXBncmFkZURpc2Nvbm5lY3Rpb24ocmVhc29uKSkge1xuICAgICAgICAgICAgICByZXNvbHZlci5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdm93O1xuICAgICAgfVxuICAgICAgY2FzZSAnc3RvcmFibGUnOiB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfVxuICAgICAgY2FzZSAnZmFyJzoge1xuICAgICAgICBjb25zdCByID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICovIChlKTtcbiAgICAgICAgY29uc3QgbWV0aG9kcyA9IGZvcndhcmRpbmdNZXRob2RzKHIpO1xuICAgICAgICByZXR1cm4gem9uZS5leG8oXG4gICAgICAgICAgdGFnLFxuICAgICAgICAgIE0uaW50ZXJmYWNlKCdGYXJXcmFwcGVkJywge30sIHsgZGVmYXVsdEd1YXJkczogJ3JhdycgfSksXG4gICAgICAgICAgbWV0aG9kcyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2Z1bmN0aW9uJzoge1xuICAgICAgICBjb25zdCBmID0gLyogICAgICAgICAgICAgICAgICAgKi8gKGUpO1xuICAgICAgICBjb25zdCB3cmFwcGVkID0gem9uZS5leG8odGFnLCBGdW5jdGlvbldyYXBwZXJJLCB7XG4gICAgICAgICAgYXBwbHkoYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIGYoLi4uYXJncyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHVud3JhcE1hcFNldCh3cmFwcGVkLCBmdW5jdGlvblVud3JhcHBlcik7XG4gICAgICAgIHJldHVybiB3cmFwcGVkO1xuICAgICAgfVxuICAgICAgY2FzZSAnYXJyYXknOiB7XG4gICAgICAgIGNvbnN0IGEgPSAvKiAgICAgICAgICAgICAgICAgICAgKi8gKGUpO1xuICAgICAgICBjb25zdCBzdWJab25lID0gem9uZS5zdWJab25lKHRhZyk7XG4gICAgICAgIHJldHVybiBhLm1hcCgoc3ViRSwgaSkgPT4gcHJlcGFyZUVuZG93bWVudChzdWJab25lLCBgJHtpfWAsIHN1YkUpKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3JlY29yZCc6IHtcbiAgICAgICAgY29uc3QgciA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGUpO1xuICAgICAgICBjb25zdCBzdWJab25lID0gem9uZS5zdWJab25lKHRhZyk7XG4gICAgICAgIHJldHVybiBvYmplY3RNYXAociwgKHN1YkUsIGspID0+XG4gICAgICAgICAgcHJlcGFyZUVuZG93bWVudChzdWJab25lLCBTdHJpbmcoayksIHN1YkUpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSAnc3RhdGUnOiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoZSk7XG4gICAgICAgIGNvbnN0IGtleXMgPSBoYXJkZW4ob3duS2V5cyhzdGF0ZSkpO1xuICAgICAgICBjb25zdCB3cmFwcGVkID0gem9uZS5leG8odGFnLCBTdGF0ZUFjY2Vzc29ySSwge1xuICAgICAgICAgIGdldChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZVtrZXldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0KGtleSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHN0YXRlW2tleV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3RhdGVVbndyYXBwZXIgPSBtYWtlU3RhdGVVbndyYXBwZXIoa2V5cyk7XG4gICAgICAgIC8vXG4gICAgICAgIHVud3JhcE1hcFNldCh3cmFwcGVkLCBzdGF0ZVVud3JhcHBlcik7XG4gICAgICAgIHJldHVybiB3cmFwcGVkO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aHJvdyBGYWlsYHVuZXhwZWN0ZWQgZW5kb3dtZW50ICR7ZX1gO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCB1bndyYXAgPSAod3JhcHBlZCwgZ3Vlc3RXcmFwcGVkKSA9PiB7XG4gICAgaWYgKHVud3JhcE1hcEhhcyh3cmFwcGVkKSkge1xuICAgICAgY29uc3QgdW53cmFwcGVyID0gdW53cmFwTWFwR2V0KHdyYXBwZWQpO1xuICAgICAgcmV0dXJuIHVud3JhcHBlci51bndyYXAoZ3Vlc3RXcmFwcGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGd1ZXN0V3JhcHBlZDtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGhhcmRlbih7IHByZXBhcmVFbmRvd21lbnQsIHVud3JhcCB9KTtcbn07JGjNj19vbmNlLnByZXBhcmVFbmRvd21lbnRUb29scyhwcmVwYXJlRW5kb3dtZW50VG9vbHMpO1xuaGFyZGVuKHByZXBhcmVFbmRvd21lbnRUb29scyk7XG5cbi8qXG5cbiAqL1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZm9yd2FyZGluZ01ldGhvZHMiOlsiZm9yd2FyZGluZ01ldGhvZHMiXSwicHJlcGFyZUVuZG93bWVudFRvb2xzIjpbInByZXBhcmVFbmRvd21lbnRUb29scyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABgCb7ETgMAAE4DAAApAAAAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9zcmMvZXBoZW1lcmEuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIm1ha2VFcGhlbWVyYSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvKlxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUVwaGVtZXJhID0gcmVpbml0ID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hcCA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgZm9yKHNlbGYpIHtcbiAgICAgIGlmICghbWFwLmhhcyhzZWxmKSkge1xuICAgICAgICBtYXAuc2V0KHNlbGYsIHJlaW5pdChzZWxmKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogICAgICAgICAgICAqLyAobWFwLmdldChzZWxmKSk7XG4gICAgfSxcbiAgICByZXNldEZvcihzZWxmKSB7XG4gICAgICByZXR1cm4gbWFwLmRlbGV0ZShzZWxmKTtcbiAgICB9LFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VFcGhlbWVyYShtYWtlRXBoZW1lcmEpO1xuaGFyZGVuKG1ha2VFcGhlbWVyYSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlRXBoZW1lcmEiOlsibWFrZUVwaGVtZXJhIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAG2loP7DDgAAww4AACcAAABAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy9lcXVhdGUuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vY29tbW9uL3Rocm93LWxhYmVsZWQuanMiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vbWFyc2hhbCIsIkBhZ29yaWMvdm93L3NyYy92b3ctdXRpbHMuanMiXSwiZXhwb3J0cyI6WyJtYWtlRXF1YXRlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxYLGFubm90YXRlRXJyb3IscSx0aHJvd0xhYmVsZWQsZ2V0VGFnLGlzT2JqZWN0LHBhc3NTdHlsZU9mLHJlY29yZE5hbWVzLGlzVm93OyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXSxbXCJhbm5vdGF0ZUVycm9yXCIsWyRozY9fYSA9PiAoYW5ub3RhdGVFcnJvciA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2NvbW1vbi90aHJvdy1sYWJlbGVkLmpzXCIsIFtbXCJ0aHJvd0xhYmVsZWRcIixbJGjNj19hID0+ICh0aHJvd0xhYmVsZWQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtbXCJnZXRUYWdcIixbJGjNj19hID0+IChnZXRUYWcgPSAkaM2PX2EpXV0sW1wiaXNPYmplY3RcIixbJGjNj19hID0+IChpc09iamVjdCA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vbWFyc2hhbFwiLCBbW1wicmVjb3JkTmFtZXNcIixbJGjNj19hID0+IChyZWNvcmROYW1lcyA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdm93L3NyYy92b3ctdXRpbHMuanNcIiwgW1tcImlzVm93XCIsWyRozY9fYSA9PiAoaXNWb3cgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cbmNvbnN0IHsgaXMgfSA9IE9iamVjdDtcblxuICAgICAgIGNvbnN0IG1ha2VFcXVhdGUgPSBiaWplY3Rpb24gPT4ge1xuICBjb25zdCBlcXVhdGUgPSAoZywgaCwgbGFiZWwpID0+IHtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGlmIChsYWJlbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpbm5lckVxdWF0ZShnLCBoKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGlubmVyRXF1YXRlKGcsIGgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3dMYWJlbGVkKGVyciwgbGFiZWwpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBpbm5lckVxdWF0ZSA9IChnLCBoKSA9PiB7XG4gICAgaWYgKCFpc09iamVjdChnKSkge1xuICAgICAgaXMoZywgaCkgfHxcbiAgICAgICAgLy9cbiAgICAgICAgRmFpbGB1bmVxdWFsICR7Z30gdnMgJHtofWA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChiaWplY3Rpb24uaGFzR3Vlc3QoZykgJiYgYmlqZWN0aW9uLmd1ZXN0VG9Ib3N0KGcpID09PSBoKSB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBnUGFzc1N0eWxlID0gcGFzc1N0eWxlT2YoZyk7XG4gICAgaWYgKGdQYXNzU3R5bGUgPT09ICdwcm9taXNlJyAmJiBpc1ZvdyhoKSkge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIHRocm93IEZhaWxgZ3Vlc3QgcHJvbWlzZXMgbm90IHlldCBwYXNzYWJsZWA7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICB9XG4gICAgY29uc3QgaFBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKGgpO1xuICAgIGdQYXNzU3R5bGUgPT09IGhQYXNzU3R5bGUgfHxcbiAgICAgIEZhaWxgdW5lcXVhbCBwYXNzU3R5bGVzICR7cShnUGFzc1N0eWxlKX0gdnMgJHtxKGhQYXNzU3R5bGUpfWA7XG4gICAgc3dpdGNoIChnUGFzc1N0eWxlKSB7XG4gICAgICBjYXNlICdjb3B5QXJyYXknOiB7XG4gICAgICAgIGVxdWF0ZShnLmxlbmd0aCwgaC5sZW5ndGgsICdsZW5ndGgnKTtcbiAgICAgICAgLy9cbiAgICAgICAgZy5mb3JFYWNoKChnRWwsIGkpID0+IGVxdWF0ZShnRWwsIGhbaV0sIGkpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgICAgY29uc3QgZ05hbWVzID0gcmVjb3JkTmFtZXMoZyk7XG4gICAgICAgIGNvbnN0IGhOYW1lcyA9IHJlY29yZE5hbWVzKGgpO1xuICAgICAgICBlcXVhdGUoZ05hbWVzLCBoTmFtZXMsICdwcm9wZXJ0eU5hbWVzJyk7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBnTmFtZXMpIHtcbiAgICAgICAgICBlcXVhdGUoZ1tuYW1lXSwgaFtuYW1lXSwgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FzZSAndGFnZ2VkJzoge1xuICAgICAgICBlcXVhdGUoZ2V0VGFnKGcpLCBnZXRUYWcoaCksICd0YWcnKTtcbiAgICAgICAgZXF1YXRlKGcucGF5bG9hZCwgaC5wYXlsb2FkLCAncGF5bG9hZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgZXF1YXRlKGcubmFtZSwgaC5uYW1lLCAnZXJyb3IgbmFtZScpO1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBhbm5vdGF0ZUVycm9yKGcsIFhgcmVwbGF5IG9mIGVycm9yICR7aH1gKTtcbiAgICAgICAgYW5ub3RhdGVFcnJvcihoLCBYYHJlcGxheWVkIGFzIGVycm9yICR7Z31gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FzZSAncmVtb3RhYmxlJzoge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICB0aHJvdyBGYWlsYGNhbm5vdCB5ZXQgc2VuZCBndWVzdCByZW1vdGFibGVzIHRvIGhvc3QgJHtnfSB2cyAke2h9YDtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgIH1cbiAgICAgIGNhc2UgJ3Byb21pc2UnOiB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHRocm93IEZhaWxgY2Fubm90IHlldCBzZW5kIGd1ZXN0IHByb21pc2VzIHRvIGhvc3QgJHtnfSB2cyAke2h9YDtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgRmFpbGB1bmV4cGVjdGVkIHBhc3NTdHlsZSAke3EoZ1Bhc3NTdHlsZSl9YDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBoYXJkZW4oZXF1YXRlKTtcbn07JGjNj19vbmNlLm1ha2VFcXVhdGUobWFrZUVxdWF0ZSk7XG5oYXJkZW4obWFrZUVxdWF0ZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlRXF1YXRlIjpbIm1ha2VFcXVhdGUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAOYIsb60bAACtGwAAKgAAAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL2xvZy1zdG9yZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wcm9taXNlLWtpdCIsIkBlbmRvL3BhdHRlcm5zIiwiLi90eXBlLWd1YXJkcy5qcyIsIi4vZXBoZW1lcmEuanMiXSwiZXhwb3J0cyI6WyJuZXh0R2VuZXJhdGlvbiIsInByZXBhcmVMb2dTdG9yZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwscSxtYWtlUHJvbWlzZUtpdCxNLExvZ0VudHJ5U2hhcGUsbWFrZUVwaGVtZXJhOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Byb21pc2Uta2l0XCIsIFtbXCJtYWtlUHJvbWlzZUtpdFwiLFskaM2PX2EgPT4gKG1ha2VQcm9taXNlS2l0ID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi90eXBlLWd1YXJkcy5qc1wiLCBbW1wiTG9nRW50cnlTaGFwZVwiLFskaM2PX2EgPT4gKExvZ0VudHJ5U2hhcGUgPSAkaM2PX2EpXV1dXSxbXCIuL2VwaGVtZXJhLmpzXCIsIFtbXCJtYWtlRXBoZW1lcmFcIixbJGjNj19hID0+IChtYWtlRXBoZW1lcmEgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cbi8qXG5cblxuXG5cbiAqL1xuXG5jb25zdCBMb2dTdG9yZUkgPSBNLmludGVyZmFjZSgnTG9nU3RvcmUnLCB7XG4gIHJlc2V0OiBNLmNhbGwoKS5yZXR1cm5zKCksXG4gIGRpc3Bvc2U6IE0uY2FsbCgpLnJldHVybnMoKSxcbiAgZ2V0VW5maWx0ZXJlZEluZGV4OiBNLmNhbGwoKS5yZXR1cm5zKE0ubnVtYmVyKCkpLFxuICBnZXRJbmRleDogTS5jYWxsKCkucmV0dXJucyhNLm51bWJlcigpKSxcbiAgZ2V0TGVuZ3RoOiBNLmNhbGwoKS5yZXR1cm5zKE0ubnVtYmVyKCkpLFxuICBpc1JlcGxheWluZzogTS5jYWxsKCkucmV0dXJucyhNLmJvb2xlYW4oKSksXG4gIHBlZWtFbnRyeTogTS5jYWxsKCkucmV0dXJucyhMb2dFbnRyeVNoYXBlKSxcbiAgbmV4dEVudHJ5OiBNLmNhbGwoKS5yZXR1cm5zKExvZ0VudHJ5U2hhcGUpLFxuICBuZXh0VW5maWx0ZXJlZEVudHJ5OiBNLmNhbGwoKS5yZXR1cm5zKExvZ0VudHJ5U2hhcGUpLFxuICBwdXNoRW50cnk6IE0uY2FsbChMb2dFbnRyeVNoYXBlKS5yZXR1cm5zKE0ubnVtYmVyKCkpLFxuICBkdW1wVW5maWx0ZXJlZDogTS5jYWxsKCkucmV0dXJucyhNLmFycmF5T2YoTG9nRW50cnlTaGFwZSkpLFxuICBkdW1wOiBNLmNhbGwoKS5yZXR1cm5zKE0uYXJyYXlPZihMb2dFbnRyeVNoYXBlKSksXG4gIHByb21pc2VSZXBsYXlEb25lOiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbn0pO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBuZXh0R2VuZXJhdGlvbiA9IHpvbmUgPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbG9nU3RvcmVNZXRhZGF0YSA9IHpvbmUubWFwU3RvcmUoJ0xvZ1N0b3JlTWV0YWRhdGEnKTtcbiAgY29uc3QgZ2VuZXJhdGlvbktleSA9ICdnZW5lcmF0aW9uJztcblxuICBpZiAoIWxvZ1N0b3JlTWV0YWRhdGEuaGFzKGdlbmVyYXRpb25LZXkpKSB7XG4gICAgY29uc3QgZmlyc3RHZW4gPSAwO1xuICAgIGxvZ1N0b3JlTWV0YWRhdGEuaW5pdChnZW5lcmF0aW9uS2V5LCBmaXJzdEdlbik7XG4gICAgcmV0dXJuIGZpcnN0R2VuO1xuICB9XG5cbiAgY29uc3QgbmV4dEdlbiA9IGxvZ1N0b3JlTWV0YWRhdGEuZ2V0KGdlbmVyYXRpb25LZXkpICsgMTtcbiAgbG9nU3RvcmVNZXRhZGF0YS5zZXQoZ2VuZXJhdGlvbktleSwgbmV4dEdlbik7XG4gIHJldHVybiBuZXh0R2VuO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5uZXh0R2VuZXJhdGlvbihuZXh0R2VuZXJhdGlvbik7XG4gICAgICAgY29uc3QgcHJlcGFyZUxvZ1N0b3JlID0gem9uZSA9PiB7XG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGluaXRpYWxQdXNoID0gaGFyZGVuKFtbJ3N0YXJ0R2VuZXJhdGlvbicsIG5leHRHZW5lcmF0aW9uKHpvbmUpXV0pO1xuXG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGVudHJ5SXNWaXNpYmxlID0gZW50cnkgPT4gZW50cnlbMF0gIT09ICdzdGFydEdlbmVyYXRpb24nO1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCB0bXAgPSBtYWtlRXBoZW1lcmEobG9nID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBpbmRleDogMCxcbiAgICAgIHVuZmlsdGVyZWRJbmRleDogMCxcbiAgICAgIGluaXRpYWxQdXNoLFxuICAgICAgcmVwbGF5RG9uZUtpdDogbWFrZVByb21pc2VLaXQoKSxcbiAgICB9O1xuICAgIGlmIChsb2cuZ2V0TGVuZ3RoKCkgPT09IDApIHtcbiAgICAgIHJlc3VsdC5yZXBsYXlEb25lS2l0LnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSk7XG5cbiAgcmV0dXJuIHpvbmUuZXhvQ2xhc3MoXG4gICAgJ0xvZ1N0b3JlJyxcbiAgICBMb2dTdG9yZUksXG4gICAgKCkgPT4ge1xuICAgICAgLypcblxuXG5cblxuXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IG1hcFN0b3JlID0gem9uZS5kZXRhY2hlZCgpLm1hcFN0b3JlKCdsb2dNYXBTdG9yZScsIHtcbiAgICAgICAga2V5U2hhcGU6IE0ubnVtYmVyKCksXG4gICAgICAgIHZhbHVlU2hhcGU6IExvZ0VudHJ5U2hhcGUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1hcFN0b3JlLFxuICAgICAgfTtcbiAgICB9LFxuICAgIHtcbiAgICAgIHJlc2V0KCkge1xuICAgICAgICBjb25zdCB7IHNlbGYgfSA9IHRoaXM7XG4gICAgICAgIHRtcC5yZXNldEZvcihzZWxmKTtcblxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgfSxcbiAgICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdGUsIHNlbGYgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgbWFwU3RvcmUgfSA9IHN0YXRlO1xuXG4gICAgICAgIHRtcC5yZXNldEZvcihzZWxmKTtcbiAgICAgICAgbWFwU3RvcmUuY2xlYXIoKTtcbiAgICAgIH0sXG4gICAgICBnZXRVbmZpbHRlcmVkSW5kZXgoKSB7XG4gICAgICAgIGNvbnN0IHsgc2VsZiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZXBoID0gdG1wLmZvcihzZWxmKTtcblxuICAgICAgICByZXR1cm4gZXBoLnVuZmlsdGVyZWRJbmRleDtcbiAgICAgIH0sXG4gICAgICBnZXRJbmRleCgpIHtcbiAgICAgICAgY29uc3QgeyBzZWxmIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBlcGggPSB0bXAuZm9yKHNlbGYpO1xuXG4gICAgICAgIHJldHVybiBlcGguaW5kZXg7XG4gICAgICB9LFxuICAgICAgZ2V0TGVuZ3RoKCkge1xuICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IG1hcFN0b3JlIH0gPSBzdGF0ZTtcblxuICAgICAgICByZXR1cm4gbWFwU3RvcmUuZ2V0U2l6ZSgpO1xuICAgICAgfSxcbiAgICAgIGlzUmVwbGF5aW5nKCkge1xuICAgICAgICBjb25zdCB7IHN0YXRlLCBzZWxmIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IG1hcFN0b3JlIH0gPSBzdGF0ZTtcbiAgICAgICAgY29uc3QgZXBoID0gdG1wLmZvcihzZWxmKTtcblxuICAgICAgICByZXR1cm4gZXBoLnVuZmlsdGVyZWRJbmRleCA8IG1hcFN0b3JlLmdldFNpemUoKTtcbiAgICAgIH0sXG4gICAgICAvKlxuXG4gICAgICAgKi9cbiAgICAgIHBlZWtFbnRyeSgpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0ZSwgc2VsZiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBtYXBTdG9yZSB9ID0gc3RhdGU7XG4gICAgICAgIGNvbnN0IGVwaCA9IHRtcC5mb3Ioc2VsZik7XG5cbiAgICAgICAgc2VsZi5pc1JlcGxheWluZygpIHx8XG4gICAgICAgICAgRmFpbGBObyBsb25nZXIgcmVwbGF5aW5nOiAke3EoZXBoLnVuZmlsdGVyZWRJbmRleCl9IHZzICR7cShcbiAgICAgICAgICAgIG1hcFN0b3JlLmdldFNpemUoKSxcbiAgICAgICAgICApfWA7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG1hcFN0b3JlLmdldChlcGgudW5maWx0ZXJlZEluZGV4KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICAvKlxuXG4gICAgICAgKi9cbiAgICAgIG5leHRVbmZpbHRlcmVkRW50cnkoKSB7XG4gICAgICAgIGNvbnN0IHsgc2VsZiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZXBoID0gdG1wLmZvcihzZWxmKTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBzZWxmLnBlZWtFbnRyeSgpO1xuICAgICAgICBlcGgudW5maWx0ZXJlZEluZGV4ICs9IDE7XG4gICAgICAgIGlmIChlbnRyeUlzVmlzaWJsZShyZXN1bHQpKSB7XG4gICAgICAgICAgZXBoLmluZGV4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxmLmlzUmVwbGF5aW5nKCkpIHtcbiAgICAgICAgICBlcGgucmVwbGF5RG9uZUtpdC5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICAvKlxuXG4gICAgICAgKi9cbiAgICAgIG5leHRFbnRyeSgpIHtcbiAgICAgICAgY29uc3QgeyBzZWxmIH0gPSB0aGlzO1xuICAgICAgICBsZXQgcmVzdWx0ID0gc2VsZi5uZXh0VW5maWx0ZXJlZEVudHJ5KCk7XG4gICAgICAgIHdoaWxlICghZW50cnlJc1Zpc2libGUocmVzdWx0KSkge1xuICAgICAgICAgIHNlbGYuaXNSZXBsYXlpbmcoKSB8fCBGYWlsYFVuZXhwZWN0ZWQgZW50cnkgYXQgbG9nIHRhaWw6ICR7cmVzdWx0fWA7XG4gICAgICAgICAgcmVzdWx0ID0gc2VsZi5uZXh0VW5maWx0ZXJlZEVudHJ5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICAvKlxuXG4gICAgICAgKi9cbiAgICAgIHB1c2hFbnRyeShsYXRlc3RFbnRyeSkge1xuICAgICAgICBjb25zdCB7IHN0YXRlLCBzZWxmIH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IHsgbWFwU3RvcmUgfSA9IHN0YXRlO1xuICAgICAgICBjb25zdCBlcGggPSB0bXAuZm9yKHNlbGYpO1xuXG4gICAgICAgICFzZWxmLmlzUmVwbGF5aW5nKCkgfHxcbiAgICAgICAgICBGYWlsYHN0aWxsIHJlcGxheWluZzogJHtxKGVwaC51bmZpbHRlcmVkSW5kZXgpfSB2cyAke3EobWFwU3RvcmUuZ2V0U2l6ZSgpKX1gO1xuXG4gICAgICAgIGNvbnN0IHB1c2hPbmUgPSBlbnRyeSA9PiB7XG4gICAgICAgICAgZXBoLnVuZmlsdGVyZWRJbmRleCA9PT0gbWFwU3RvcmUuZ2V0U2l6ZSgpIHx8XG4gICAgICAgICAgICBGYWlsYGludGVybmFsOiB1bmZpbHRlcmVkSW5kZXggY29uZnVzaW9uICR7cShlcGgudW5maWx0ZXJlZEluZGV4KX0gdnMgJHtxKFxuICAgICAgICAgICAgICBtYXBTdG9yZS5nZXRTaXplKCksXG4gICAgICAgICAgICApfWA7XG4gICAgICAgICAgbWFwU3RvcmUuaW5pdChlcGgudW5maWx0ZXJlZEluZGV4LCBlbnRyeSk7XG4gICAgICAgICAgZXBoLnVuZmlsdGVyZWRJbmRleCArPSAxO1xuICAgICAgICAgIGlmIChlbnRyeUlzVmlzaWJsZShlbnRyeSkpIHtcbiAgICAgICAgICAgIGVwaC5pbmRleCArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlcGgudW5maWx0ZXJlZEluZGV4ID09PSBtYXBTdG9yZS5nZXRTaXplKCkgfHxcbiAgICAgICAgICAgIEZhaWxgaW50ZXJuYWw6IHVuZmlsdGVyZWRJbmRleCBjb25mdXNpb24gJHtxKGVwaC51bmZpbHRlcmVkSW5kZXgpfSB2cyAke3EoXG4gICAgICAgICAgICAgIG1hcFN0b3JlLmdldFNpemUoKSxcbiAgICAgICAgICAgICl9YDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZXBoLmluaXRpYWxQdXNoKSB7XG4gICAgICAgICAgY29uc3QgaW5pdGlhbEVudHJpZXMgPSBlcGguaW5pdGlhbFB1c2g7XG4gICAgICAgICAgZXBoLmluaXRpYWxQdXNoID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGZvciAoY29uc3QgaW5pdGlhbEVudHJ5IG9mIGluaXRpYWxFbnRyaWVzKSB7XG4gICAgICAgICAgICBwdXNoT25lKGluaXRpYWxFbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHB1c2hPbmUobGF0ZXN0RW50cnkpO1xuXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBlcGgudW5maWx0ZXJlZEluZGV4O1xuICAgICAgfSxcbiAgICAgIC8qXG5cbiAgICAgICAqL1xuICAgICAgZHVtcFVuZmlsdGVyZWQoKSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgbWFwU3RvcmUgfSA9IHN0YXRlO1xuICAgICAgICBjb25zdCBsZW4gPSBtYXBTdG9yZS5nZXRTaXplKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2gobWFwU3RvcmUuZ2V0KGkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFyZGVuKHJlc3VsdCk7XG4gICAgICB9LFxuICAgICAgZHVtcCgpIHtcbiAgICAgICAgY29uc3QgeyBzZWxmIH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gaGFyZGVuKHNlbGYuZHVtcFVuZmlsdGVyZWQoKS5maWx0ZXIoZW50cnlJc1Zpc2libGUpKTtcbiAgICAgIH0sXG4gICAgICBwcm9taXNlUmVwbGF5RG9uZSgpIHtcbiAgICAgICAgY29uc3QgeyBzZWxmIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBlcGggPSB0bXAuZm9yKHNlbGYpO1xuXG4gICAgICAgIHJldHVybiBlcGgucmVwbGF5RG9uZUtpdC5wcm9taXNlO1xuICAgICAgfSxcbiAgICB9LFxuICApO1xufTtcblxuLypcblxuICovJGjNj19vbmNlLnByZXBhcmVMb2dTdG9yZShwcmVwYXJlTG9nU3RvcmUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibmV4dEdlbmVyYXRpb24iOlsibmV4dEdlbmVyYXRpb24iXSwicHJlcGFyZUxvZ1N0b3JlIjpbInByZXBhcmVMb2dTdG9yZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABZ8dmmI0gAACNIAAAwAAAAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9zcmMvcmVwbGF5LW1lbWJyYW5lLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvdm93L3NyYy92b3ctdXRpbHMuanMiLCJAYWdvcmljL3Zvdy92YXQuanMiLCJAZW5kby9jb21tb24vdGhyb3ctbGFiZWxlZC5qcyIsIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2V2ZW50dWFsLXNlbmQiLCJAZW5kby9ldmVudHVhbC1zZW5kL3V0aWxzLmpzIiwiQGVuZG8vcGFzcy1zdHlsZSIsIi4vY29udmVydC5qcyIsIi4vZXF1YXRlLmpzIl0sImV4cG9ydHMiOlsibWFrZVJlcGxheU1lbWJyYW5lIiwibWFrZVJlcGxheU1lbWJyYW5lRm9yVGVzdGluZyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGlzVm93LGhlYXBWb3dFLHRocm93TGFiZWxlZCxGYWlsLFgsYixtYWtlRXJyb3IscSxFLGdldE1ldGhvZE5hbWVzLEZhcixSZW1vdGFibGUsZ2V0SW50ZXJmYWNlT2YsbWFrZUNvbnZlcnRLaXQsbWFrZUVxdWF0ZTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvdm93L3NyYy92b3ctdXRpbHMuanNcIiwgW1tcImlzVm93XCIsWyRozY9fYSA9PiAoaXNWb3cgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3Zvdy92YXQuanNcIiwgW1tcImhlYXBWb3dFXCIsWyRozY9fYSA9PiAoaGVhcFZvd0UgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9jb21tb24vdGhyb3ctbGFiZWxlZC5qc1wiLCBbW1widGhyb3dMYWJlbGVkXCIsWyRozY9fYSA9PiAodGhyb3dMYWJlbGVkID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXSxbXCJiXCIsWyRozY9fYSA9PiAoYiA9ICRozY9fYSldXSxbXCJtYWtlRXJyb3JcIixbJGjNj19hID0+IChtYWtlRXJyb3IgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9ldmVudHVhbC1zZW5kXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2V2ZW50dWFsLXNlbmQvdXRpbHMuanNcIiwgW1tcImdldE1ldGhvZE5hbWVzXCIsWyRozY9fYSA9PiAoZ2V0TWV0aG9kTmFtZXMgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV0sW1wiUmVtb3RhYmxlXCIsWyRozY9fYSA9PiAoUmVtb3RhYmxlID0gJGjNj19hKV1dLFtcImdldEludGVyZmFjZU9mXCIsWyRozY9fYSA9PiAoZ2V0SW50ZXJmYWNlT2YgPSAkaM2PX2EpXV1dXSxbXCIuL2NvbnZlcnQuanNcIiwgW1tcIm1ha2VDb252ZXJ0S2l0XCIsWyRozY9fYSA9PiAobWFrZUNvbnZlcnRLaXQgPSAkaM2PX2EpXV1dXSxbXCIuL2VxdWF0ZS5qc1wiLCBbW1wibWFrZUVxdWF0ZVwiLFskaM2PX2EgPT4gKG1ha2VFcXVhdGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IHsgZnJvbUVudHJpZXMsIGRlZmluZVByb3BlcnRpZXMsIGFzc2lnbiB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZVJlcGxheU1lbWJyYW5lID0gYXJnID0+IHtcbiAgY29uc3Qgbm9EdW5kZXJBcmcgPSAvKiAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoYXJnKS5maWx0ZXIoKFtrXSkgPT4gIWsuc3RhcnRzV2l0aCgnX18nKSkpXG4gICk7XG4gIHJldHVybiBtYWtlUmVwbGF5TWVtYnJhbmVGb3JUZXN0aW5nKG5vRHVuZGVyQXJnKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlUmVwbGF5TWVtYnJhbmUobWFrZVJlcGxheU1lbWJyYW5lKTtcbiAgICAgICBjb25zdCBtYWtlUmVwbGF5TWVtYnJhbmVGb3JUZXN0aW5nID0gKHtcbiAgbG9nLFxuICBiaWplY3Rpb24sXG4gIHZvd1Rvb2xzLFxuICB3YXRjaFdha2UsXG4gIHBhbmljLFxuICBfX2V2ZW50dWFsU2VuZEZvclRlc3RpbmcsXG59KSA9PiB7XG4gIGNvbnN0IHsgd2hlbiwgbWFrZVZvd0tpdCB9ID0gdm93VG9vbHM7XG5cbiAgY29uc3QgZXF1YXRlID0gbWFrZUVxdWF0ZShiaWplY3Rpb24pO1xuXG4gIGNvbnN0IGd1ZXN0UHJvbWlzZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgbGV0IHN0b3BwZWQgPSBmYWxzZTtcblxuICBjb25zdCBQYW5pYyA9ICh0ZW1wbGF0ZSwgLi4uYXJncykgPT4gcGFuaWMobWFrZUVycm9yKFgodGVtcGxhdGUsIC4uLmFyZ3MpKSk7XG5cbiAgY29uc3Qgc3RhcnRHZW5lcmF0aW9uID0gZ2VuZXJhdGlvbiA9PiB7XG4gICAgTnVtYmVyLmlzU2FmZUludGVnZXIoZ2VuZXJhdGlvbikgfHxcbiAgICAgIEZhaWxgZ2VuZXJhdGlvbiBleHBlY3RlZCBpbnRlZ2VyOyBnb3QgJHtnZW5lcmF0aW9ufWA7XG4gICAgZ2VuZXJhdGlvbiA+PSAwIHx8XG4gICAgICBGYWlsYGdlbmVyYXRpb24gZXhwZWN0ZWQgbm9uLW5lZ2F0aXZlOyBnb3QgJHtnZW5lcmF0aW9ufWA7XG4gIH07XG5cbiAgLy9cblxuICAvKlxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgZG9GdWxmaWxsID0gKGhvc3RWb3csIGhvc3RGdWxmaWxsbWVudCkgPT4ge1xuICAgIGNvbnN0IGd1ZXN0UHJvbWlzZSA9IGhvc3RUb0d1ZXN0KGhvc3RWb3cpO1xuICAgIGNvbnN0IHN0YXR1cyA9IGd1ZXN0UHJvbWlzZU1hcC5nZXQoZ3Vlc3RQcm9taXNlKTtcbiAgICBpZiAoIXN0YXR1cyB8fCBzdGF0dXMgPT09ICdzZXR0bGVkJykge1xuICAgICAgRmFpbGBkb0Z1bGZpbGwgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIGEgcmVnaXN0ZXJlZCB1bnJlc29sdmVkIHByb21pc2VgO1xuICAgIH1cbiAgICBjb25zdCBndWVzdEZ1bGZpbGxtZW50ID0gaG9zdFRvR3Vlc3QoaG9zdEZ1bGZpbGxtZW50KTtcbiAgICBzdGF0dXMucmVzb2x2ZShndWVzdEZ1bGZpbGxtZW50KTtcbiAgICBndWVzdFByb21pc2VNYXAuc2V0KGd1ZXN0UHJvbWlzZSwgJ3NldHRsZWQnKTtcbiAgfTtcblxuICAvKlxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgZG9SZWplY3QgPSAoaG9zdFZvdywgaG9zdFJlYXNvbikgPT4ge1xuICAgIGNvbnN0IGd1ZXN0UHJvbWlzZSA9IGhvc3RUb0d1ZXN0KGhvc3RWb3cpO1xuICAgIGNvbnN0IHN0YXR1cyA9IGd1ZXN0UHJvbWlzZU1hcC5nZXQoZ3Vlc3RQcm9taXNlKTtcbiAgICBpZiAoIXN0YXR1cyB8fCBzdGF0dXMgPT09ICdzZXR0bGVkJykge1xuICAgICAgRmFpbGBkb1JlamVjdCBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gYSByZWdpc3RlcmVkIHVucmVzb2x2ZWQgcHJvbWlzZWA7XG4gICAgfVxuICAgIGNvbnN0IGd1ZXN0UmVhc29uID0gaG9zdFRvR3Vlc3QoaG9zdFJlYXNvbik7XG4gICAgc3RhdHVzLnJlamVjdChndWVzdFJlYXNvbik7XG4gICAgZ3Vlc3RQcm9taXNlTWFwLnNldChndWVzdFByb21pc2UsICdzZXR0bGVkJyk7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgZG9SZXR1cm4gPSAoY2FsbEluZGV4LCBob3N0UmVzdWx0KSA9PiB7XG4gICAgdW5uZXN0SW50ZXJwcmV0ZXIoY2FsbEluZGV4KTtcbiAgICBjb25zdCBndWVzdFJlc3VsdCA9IGhvc3RUb0d1ZXN0KGhvc3RSZXN1bHQpO1xuICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAga2luZDogJ3JldHVybicsXG4gICAgICByZXN1bHQ6IGd1ZXN0UmVzdWx0LFxuICAgIH0pO1xuICB9O1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGRvVGhyb3cgPSAoY2FsbEluZGV4LCBob3N0UHJvYmxlbSkgPT4ge1xuICAgIHVubmVzdEludGVycHJldGVyKGNhbGxJbmRleCk7XG4gICAgY29uc3QgZ3Vlc3RQcm9ibGVtID0gaG9zdFRvR3Vlc3QoaG9zdFByb2JsZW0pO1xuICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAga2luZDogJ3Rocm93JyxcbiAgICAgIHByb2JsZW06IGd1ZXN0UHJvYmxlbSxcbiAgICB9KTtcbiAgfTtcblxuICAvL1xuXG4gIGNvbnN0IHBlcmZvcm1DYWxsID0gKGhvc3RUYXJnZXQsIG9wdFZlcmIsIGhvc3RBcmdzLCBjYWxsSW5kZXgpID0+IHtcbiAgICBsZXQgaG9zdFJlc3VsdDtcbiAgICB0cnkge1xuICAgICAgaG9zdFJlc3VsdCA9IG9wdFZlcmJcbiAgICAgICAgPyBob3N0VGFyZ2V0W29wdFZlcmJdKC4uLmhvc3RBcmdzKVxuICAgICAgICA6IGhvc3RUYXJnZXQoLi4uaG9zdEFyZ3MpO1xuICAgICAgLy9cbiAgICAgIGhvc3RUb0d1ZXN0KGhvc3RSZXN1bHQsIGBjb252ZXJ0aW5nICR7b3B0VmVyYiB8fCAnaG9zdCd9IHJlc3VsdGApO1xuICAgIH0gY2F0Y2ggKGhvc3RQcm9ibGVtKSB7XG4gICAgICByZXR1cm4gbG9nRG8obmVzdERpc3BhdGNoLCBoYXJkZW4oWydkb1Rocm93JywgY2FsbEluZGV4LCBob3N0UHJvYmxlbV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvZ0RvKG5lc3REaXNwYXRjaCwgaGFyZGVuKFsnZG9SZXR1cm4nLCBjYWxsSW5kZXgsIGhvc3RSZXN1bHRdKSk7XG4gIH07XG5cbiAgY29uc3QgZ3Vlc3RDYWxsc0hvc3QgPSAoZ3Vlc3RUYXJnZXQsIG9wdFZlcmIsIGd1ZXN0QXJncywgY2FsbEluZGV4KSA9PiB7XG4gICAgaWYgKHN0b3BwZWQgfHwgIWJpamVjdGlvbi5oYXNHdWVzdChndWVzdFRhcmdldCkpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCBleHRyYURpYWdub3N0aWMgPVxuICAgICAgICBjYWxsU3RhY2subGVuZ3RoID09PSAwXG4gICAgICAgICAgPyAnJ1xuICAgICAgICAgIDogLy9cbiAgICAgICAgICAgIGAgd2l0aCBub24tZW1wdHkgY2FsbHN0YWNrICR7cShjYWxsU3RhY2spfTtgO1xuICAgICAgRmFpbGBDYWxsZWQgZnJvbSBhIHByZXZpb3VzIHJ1bjogJHtndWVzdFRhcmdldH0ke2IoZXh0cmFEaWFnbm9zdGljKX1gO1xuICAgIH1cbiAgICAvKiAgICAgICAgICAgICAgICAgICovXG4gICAgbGV0IG91dGNvbWU7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGd1ZXN0RW50cnkgPSBoYXJkZW4oW1xuICAgICAgICAnY2hlY2tDYWxsJyxcbiAgICAgICAgZ3Vlc3RUYXJnZXQsXG4gICAgICAgIG9wdFZlcmIsXG4gICAgICAgIGd1ZXN0QXJncyxcbiAgICAgICAgY2FsbEluZGV4LFxuICAgICAgXSk7XG4gICAgICBpZiAobG9nLmlzUmVwbGF5aW5nKCkpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSBsb2cubmV4dEVudHJ5KCk7XG4gICAgICAgIGVxdWF0ZShcbiAgICAgICAgICBndWVzdEVudHJ5LFxuICAgICAgICAgIGVudHJ5LFxuICAgICAgICAgIGByZXBsYXkgJHtjYWxsSW5kZXh9OlxuICAgICAke3EoZ3Vlc3RFbnRyeSl9XG4gIHZzICR7cShlbnRyeSl9XG4gICAgYCxcbiAgICAgICAgKTtcbiAgICAgICAgb3V0Y29tZSA9IC8qICAgICAgICAgICAgICAgICAgKi8gKG5lc3RJbnRlcnByZXRlcihjYWxsSW5kZXgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gZ3Vlc3RUb0hvc3QoZ3Vlc3RFbnRyeSk7XG4gICAgICAgIGxvZy5wdXNoRW50cnkoZW50cnkpO1xuICAgICAgICBjb25zdCBbXywgLi4uYXJnc10gPSBlbnRyeTtcbiAgICAgICAgbmVzdEludGVycHJldGVyKGNhbGxJbmRleCk7XG4gICAgICAgIG91dGNvbWUgPSBwZXJmb3JtQ2FsbCguLi5hcmdzKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChmYXRhbEVycm9yKSB7XG4gICAgICB0aHJvdyBwYW5pYyhmYXRhbEVycm9yKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKG91dGNvbWUua2luZCkge1xuICAgICAgY2FzZSAncmV0dXJuJzoge1xuICAgICAgICByZXR1cm4gb3V0Y29tZS5yZXN1bHQ7XG4gICAgICB9XG4gICAgICBjYXNlICd0aHJvdyc6IHtcbiAgICAgICAgdGhyb3cgb3V0Y29tZS5wcm9ibGVtO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICB0aHJvdyBQYW5pY2B1bmV4cGVjdGVkIG91dGNvbWUga2luZCAke3Eob3V0Y29tZS5raW5kKX1gO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvL1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBwZXJmb3JtU2VuZE9ubHkgPSAoaG9zdFRhcmdldCwgb3B0VmVyYiwgaG9zdEFyZ3MpID0+IHtcbiAgICB0cnkge1xuICAgICAgb3B0VmVyYiA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gaGVhcFZvd0Uuc2VuZE9ubHkoaG9zdFRhcmdldCkoLi4uaG9zdEFyZ3MpXG4gICAgICAgIDogaGVhcFZvd0Uuc2VuZE9ubHkoaG9zdFRhcmdldClbb3B0VmVyYl0oLi4uaG9zdEFyZ3MpO1xuICAgIH0gY2F0Y2ggKGhvc3RQcm9ibGVtKSB7XG4gICAgICB0aHJvdyBQYW5pY2BpbnRlcm5hbDogZXZlbnR1YWwgc2VuZE9ubHkgc3luY2hyb25vdXNseSBmYWlsZWQgJHtob3N0UHJvYmxlbX1gO1xuICAgIH1cbiAgfTtcblxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwZXJmb3JtU2VuZCA9IChcbiAgICBob3N0VGFyZ2V0LFxuICAgIG9wdFZlcmIsXG4gICAgaG9zdEFyZ3MsXG4gICAgY2FsbEluZGV4LFxuICAgIGhvc3RSZXN1bHRLaXQsXG4gICAgZ3Vlc3RSZXR1cm5lZFAsXG4gICkgPT4ge1xuICAgIGNvbnN0IHsgdm93LCByZXNvbHZlciB9ID0gaG9zdFJlc3VsdEtpdDtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaG9zdFByb21pc2UgPVxuICAgICAgICBvcHRWZXJiID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGhlYXBWb3dFKGhvc3RUYXJnZXQpKC4uLmhvc3RBcmdzKVxuICAgICAgICAgIDogaGVhcFZvd0UoaG9zdFRhcmdldClbb3B0VmVyYl0oLi4uaG9zdEFyZ3MpO1xuICAgICAgcmVzb2x2ZXIucmVzb2x2ZShob3N0UHJvbWlzZSk7IC8vXG4gICAgfSBjYXRjaCAoaG9zdFByb2JsZW0pIHtcbiAgICAgIHRocm93IFBhbmljYGludGVybmFsOiBldmVudHVhbCBzZW5kIHN5bmNocm9ub3VzbHkgZmFpbGVkICR7aG9zdFByb2JsZW19YDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCBlbnRyeSA9IGhhcmRlbihbJ2RvUmV0dXJuJywgY2FsbEluZGV4LCB2b3ddKTtcbiAgICAgIGxvZy5wdXNoRW50cnkoZW50cnkpO1xuICAgICAgY29uc3QgZ3Vlc3RQcm9taXNlID0gbWFrZUd1ZXN0Rm9ySG9zdFZvdyh2b3csIGd1ZXN0UmV0dXJuZWRQKTtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGRvUmV0dXJuKGNhbGxJbmRleCwgdm93KTtcbiAgICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgICBraW5kOiAncmV0dXJuJyxcbiAgICAgICAgcmVzdWx0OiBndWVzdFByb21pc2UsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChwcm9ibGVtKSB7XG4gICAgICB0aHJvdyBwYW5pYyhwcm9ibGVtKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ3Vlc3RIYW5kbGVyID0gaGFyZGVuKHtcbiAgICBhcHBseU1ldGhvZFNlbmRPbmx5KGd1ZXN0VGFyZ2V0LCBvcHRWZXJiLCBndWVzdEFyZ3MpIHtcbiAgICAgIF9fZXZlbnR1YWxTZW5kRm9yVGVzdGluZyB8fFxuICAgICAgICBQYW5pY2BndWVzdCBldmVudHVhbCBhcHBseU1ldGhvZFNlbmRPbmx5IG5vdCB5ZXQgc3VwcG9ydGVkOiAke2d1ZXN0VGFyZ2V0fS4ke2Iob3B0VmVyYil9YDtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgY29uc3QgY2FsbEluZGV4ID0gbG9nLmdldEluZGV4KCk7XG4gICAgICBpZiAoc3RvcHBlZCB8fCAhYmlqZWN0aW9uLmhhc0d1ZXN0KGd1ZXN0VGFyZ2V0KSkge1xuICAgICAgICBGYWlsYFNlbnQgZnJvbSBhIHByZXZpb3VzIHJ1bjogJHtndWVzdFRhcmdldH1gO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZ3Vlc3RFbnRyeSA9IGhhcmRlbihbXG4gICAgICAgICAgJ2NoZWNrU2VuZE9ubHknLFxuICAgICAgICAgIGd1ZXN0VGFyZ2V0LFxuICAgICAgICAgIG9wdFZlcmIsXG4gICAgICAgICAgZ3Vlc3RBcmdzLFxuICAgICAgICAgIGNhbGxJbmRleCxcbiAgICAgICAgXSk7XG4gICAgICAgIGlmIChsb2cuaXNSZXBsYXlpbmcoKSkge1xuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gbG9nLm5leHRFbnRyeSgpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBlcXVhdGUoZ3Vlc3RFbnRyeSwgZW50cnkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVxdWF0ZUVycikge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB0aHJvd0xhYmVsZWQoXG4gICAgICAgICAgICAgIGVxdWF0ZUVycixcbiAgICAgICAgICAgICAgYHJlcGxheSAke2NhbGxJbmRleH06XG4gICAgICR7cShndWVzdEVudHJ5KX1cbiAgdnMgJHtxKGVudHJ5KX1cbiAgICBgLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZW50cnkgPSBndWVzdFRvSG9zdChndWVzdEVudHJ5KTtcbiAgICAgICAgICBsb2cucHVzaEVudHJ5KGVudHJ5KTtcbiAgICAgICAgICBjb25zdCBbX29wLCBob3N0VGFyZ2V0LCBfb3B0VmVyYiwgaG9zdEFyZ3MsIF9jYWxsSW5kZXhdID0gZW50cnk7XG4gICAgICAgICAgcGVyZm9ybVNlbmRPbmx5KGhvc3RUYXJnZXQsIG9wdFZlcmIsIGhvc3RBcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZmF0YWxFcnJvcikge1xuICAgICAgICB0aHJvdyBwYW5pYyhmYXRhbEVycm9yKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFwcGx5TWV0aG9kKGd1ZXN0VGFyZ2V0LCBvcHRWZXJiLCBndWVzdEFyZ3MsIGd1ZXN0UmV0dXJuZWRQKSB7XG4gICAgICBfX2V2ZW50dWFsU2VuZEZvclRlc3RpbmcgfHxcbiAgICAgICAgUGFuaWNgZ3Vlc3QgZXZlbnR1YWwgYXBwbHlNZXRob2Qgbm90IHlldCBzdXBwb3J0ZWQ6ICR7Z3Vlc3RUYXJnZXR9LiR7YihvcHRWZXJiKX0gLT4gJHtiKGd1ZXN0UmV0dXJuZWRQKX1gO1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCBjYWxsSW5kZXggPSBsb2cuZ2V0SW5kZXgoKTtcbiAgICAgIGlmIChzdG9wcGVkIHx8ICFiaWplY3Rpb24uaGFzR3Vlc3QoZ3Vlc3RUYXJnZXQpKSB7XG4gICAgICAgIEZhaWxgU2VudCBmcm9tIGEgcHJldmlvdXMgcnVuOiAke2d1ZXN0VGFyZ2V0fWA7XG4gICAgICB9XG4gICAgICBjb25zdCBob3N0UmVzdWx0S2l0ID0gbWFrZVZvd0tpdCgpO1xuICAgICAgY29uc3QgZyA9IGJpamVjdGlvbi51bndyYXBJbml0KGd1ZXN0UmV0dXJuZWRQLCBob3N0UmVzdWx0S2l0LnZvdyk7XG4gICAgICBnID09PSBndWVzdFJldHVybmVkUCB8fFxuICAgICAgICBGYWlsYGludGVybmFsOiBndWVzdFJldHVybmVkUCBzaG91bGQgbm90IHVud3JhcDogJHtnfSB2cyAke2d1ZXN0UmV0dXJuZWRQfWA7XG4gICAgICAvKiAgICAgICAgICAgICAgICAgICovXG4gICAgICBsZXQgb3V0Y29tZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGd1ZXN0RW50cnkgPSBoYXJkZW4oW1xuICAgICAgICAgICdjaGVja1NlbmQnLFxuICAgICAgICAgIGd1ZXN0VGFyZ2V0LFxuICAgICAgICAgIG9wdFZlcmIsXG4gICAgICAgICAgZ3Vlc3RBcmdzLFxuICAgICAgICAgIGNhbGxJbmRleCxcbiAgICAgICAgXSk7XG4gICAgICAgIGlmIChsb2cuaXNSZXBsYXlpbmcoKSkge1xuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gbG9nLm5leHRFbnRyeSgpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBlcXVhdGUoZ3Vlc3RFbnRyeSwgZW50cnkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVxdWF0ZUVycikge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB0aHJvd0xhYmVsZWQoXG4gICAgICAgICAgICAgIGVxdWF0ZUVycixcbiAgICAgICAgICAgICAgYHJlcGxheSAke2NhbGxJbmRleH06XG4gICAgICR7cShndWVzdEVudHJ5KX1cbiAgdnMgJHtxKGVudHJ5KX1cbiAgICBgLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0Y29tZSA9IC8qICAgICAgICAgICAgICAgICAgKi8gKG5lc3RJbnRlcnByZXRlcihjYWxsSW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IGd1ZXN0VG9Ib3N0KGd1ZXN0RW50cnkpO1xuICAgICAgICAgIGxvZy5wdXNoRW50cnkoZW50cnkpO1xuICAgICAgICAgIGNvbnN0IFtfb3AsIGhvc3RUYXJnZXQsIF9vcHRWZXJiLCBob3N0QXJncywgX2NhbGxJbmRleF0gPSBlbnRyeTtcbiAgICAgICAgICBuZXN0SW50ZXJwcmV0ZXIoY2FsbEluZGV4KTtcbiAgICAgICAgICBvdXRjb21lID0gcGVyZm9ybVNlbmQoXG4gICAgICAgICAgICBob3N0VGFyZ2V0LFxuICAgICAgICAgICAgb3B0VmVyYixcbiAgICAgICAgICAgIGhvc3RBcmdzLFxuICAgICAgICAgICAgY2FsbEluZGV4LFxuICAgICAgICAgICAgaG9zdFJlc3VsdEtpdCxcbiAgICAgICAgICAgIGd1ZXN0UmV0dXJuZWRQLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGZhdGFsRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgcGFuaWMoZmF0YWxFcnJvcik7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAob3V0Y29tZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ3JldHVybic6IHtcbiAgICAgICAgICByZXR1cm4gb3V0Y29tZS5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndGhyb3cnOiB7XG4gICAgICAgICAgdGhyb3cgb3V0Y29tZS5wcm9ibGVtO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgdGhyb3cgUGFuaWNgdW5leHBlY3RlZCBvdXRjb21lIGtpbmQgJHtxKG91dGNvbWUua2luZCl9YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgYXBwbHlGdW5jdGlvblNlbmRPbmx5KGd1ZXN0VGFyZ2V0LCBndWVzdEFyZ3MpIHtcbiAgICAgIF9fZXZlbnR1YWxTZW5kRm9yVGVzdGluZyB8fFxuICAgICAgICBQYW5pY2BndWVzdCBldmVudHVhbCBhcHBseUZ1bmN0aW9uU2VuZE9ubHkgbm90IHlldCBzdXBwb3J0ZWQ6ICR7Z3Vlc3RUYXJnZXR9YDtcbiAgICAgIHJldHVybiBndWVzdEhhbmRsZXIuYXBwbHlNZXRob2RTZW5kT25seShcbiAgICAgICAgZ3Vlc3RUYXJnZXQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgZ3Vlc3RBcmdzLFxuICAgICAgKTtcbiAgICB9LFxuICAgIGFwcGx5RnVuY3Rpb24oZ3Vlc3RUYXJnZXQsIGd1ZXN0QXJncywgZ3Vlc3RSZXR1cm5lZFApIHtcbiAgICAgIF9fZXZlbnR1YWxTZW5kRm9yVGVzdGluZyB8fFxuICAgICAgICBQYW5pY2BndWVzdCBldmVudHVhbCBhcHBseUZ1bmN0aW9uIG5vdCB5ZXQgc3VwcG9ydGVkOiAke2d1ZXN0VGFyZ2V0fSAtPiAke2IoZ3Vlc3RSZXR1cm5lZFApfWA7XG4gICAgICByZXR1cm4gZ3Vlc3RIYW5kbGVyLmFwcGx5TWV0aG9kKFxuICAgICAgICBndWVzdFRhcmdldCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBndWVzdEFyZ3MsXG4gICAgICAgIGd1ZXN0UmV0dXJuZWRQLFxuICAgICAgKTtcbiAgICB9LFxuICAgIGdldFNlbmRPbmx5KGd1ZXN0VGFyZ2V0LCBwcm9wKSB7XG4gICAgICAvL1xuICAgICAgdGhyb3cgUGFuaWNgZ3Vlc3QgZXZlbnR1YWwgZ2V0U2VuZE9ubHkgbm90IHlldCBzdXBwb3J0ZWQ6ICR7Z3Vlc3RUYXJnZXR9LiR7Yihwcm9wKX1gO1xuICAgIH0sXG4gICAgZ2V0KGd1ZXN0VGFyZ2V0LCBwcm9wLCBndWVzdFJldHVybmVkUCkge1xuICAgICAgLy9cbiAgICAgIHRocm93IFBhbmljYGd1ZXN0IGV2ZW50dWFsIGdldCBub3QgeWV0IHN1cHBvcnRlZDogJHtndWVzdFRhcmdldH0uJHtiKHByb3ApfSAtPiAke2IoZ3Vlc3RSZXR1cm5lZFApfWA7XG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgbWFrZUd1ZXN0UHJlc2VuY2UgPSAoaWZhY2UsIG1ldGhvZEVudHJpZXMpID0+IHtcbiAgICBsZXQgZ3Vlc3RQcmVzZW5jZTtcbiAgICB2b2lkIG5ldyBIYW5kbGVkUHJvbWlzZSgoX3JlcywgX3JlaiwgcmVzb2x2ZVdpdGhQcmVzZW5jZSkgPT4ge1xuICAgICAgZ3Vlc3RQcmVzZW5jZSA9IHJlc29sdmVXaXRoUHJlc2VuY2UoZ3Vlc3RIYW5kbGVyKTtcbiAgICB9KTsgLy9cbiAgICBpZiAodHlwZW9mIGd1ZXN0UHJlc2VuY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBGYWlsYHByZXNlbmNlIGV4cGVjdGVkIHRvIGJlIG9iamVjdCAke2d1ZXN0UHJlc2VuY2V9YDtcbiAgICB9XG4gICAgYXNzaWduKGd1ZXN0UHJlc2VuY2UsIGZyb21FbnRyaWVzKG1ldGhvZEVudHJpZXMpKTtcbiAgICBjb25zdCByZXN1bHQgPSBSZW1vdGFibGUoaWZhY2UsIHVuZGVmaW5lZCwgZ3Vlc3RQcmVzZW5jZSk7XG4gICAgcmVzdWx0ID09PSBndWVzdFByZXNlbmNlIHx8XG4gICAgICBGYWlsYFJlbW90YWJsZSBleHBlY3RlZCB0byBtYWtlIHByZXNlbmNlIGluIHBsYWNlOiAke2d1ZXN0UHJlc2VuY2V9IHZzICR7cmVzdWx0fWA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKlxuXG4gICAqL1xuICBjb25zdCBtYWtlR3Vlc3RQcm9taXNlS2l0ID0gKCkgPT4ge1xuICAgIGxldCByZXNvbHZlO1xuICAgIGxldCByZWplY3Q7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBIYW5kbGVkUHJvbWlzZSgocmVzLCByZWosIF9yZXNQcmVzKSA9PiB7XG4gICAgICByZXNvbHZlID0gcmVzO1xuICAgICAgcmVqZWN0ID0gcmVqO1xuICAgIH0sIGd1ZXN0SGFuZGxlcik7XG4gICAgLy9cbiAgICByZXR1cm4gaGFyZGVuKHsgcHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0IH0pO1xuICB9O1xuXG4gIC8vXG5cbiAgY29uc3QgbWFrZUd1ZXN0Rm9ySG9zdFJlbW90YWJsZSA9IGhSZW0gPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGxldCBnUmVtO1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBjb25zdCBtYWtlR3Vlc3RNZXRob2QgPSAob3B0VmVyYiA9IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgY29uc3QgZ3Vlc3RNZXRob2QgPSAoLi4uZ3Vlc3RBcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhbGxJbmRleCA9IGxvZy5nZXRJbmRleCgpO1xuICAgICAgICByZXR1cm4gZ3Vlc3RDYWxsc0hvc3QoZ1JlbSwgb3B0VmVyYiwgZ3Vlc3RBcmdzLCBjYWxsSW5kZXgpO1xuICAgICAgfTtcbiAgICAgIGlmIChvcHRWZXJiKSB7XG4gICAgICAgIGRlZmluZVByb3BlcnRpZXMoZ3Vlc3RNZXRob2QsIHtcbiAgICAgICAgICBuYW1lOiB7IHZhbHVlOiBTdHJpbmcoaFJlbVtvcHRWZXJiXS5uYW1lIHx8IG9wdFZlcmIpIH0sXG4gICAgICAgICAgbGVuZ3RoOiB7IHZhbHVlOiBOdW1iZXIoaFJlbVtvcHRWZXJiXS5sZW5ndGggfHwgMCkgfSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0aWVzKGd1ZXN0TWV0aG9kLCB7XG4gICAgICAgICAgbmFtZTogeyB2YWx1ZTogU3RyaW5nKGhSZW0ubmFtZSB8fCAnYW5vbicpIH0sXG4gICAgICAgICAgbGVuZ3RoOiB7IHZhbHVlOiBOdW1iZXIoaFJlbS5sZW5ndGggfHwgMCkgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3Vlc3RNZXRob2Q7XG4gICAgfTtcbiAgICBjb25zdCBpZmFjZSA9IFN0cmluZyhnZXRJbnRlcmZhY2VPZihoUmVtKSB8fCAncmVtb3RhYmxlJyk7XG4gICAgY29uc3QgZ3Vlc3RJZmFjZSA9IGAke2lmYWNlfSBndWVzdCB3cmFwcGVyYDsgLy9cbiAgICBpZiAodHlwZW9mIGhSZW0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGdSZW0gPSBSZW1vdGFibGUoZ3Vlc3RJZmFjZSwgdW5kZWZpbmVkLCBtYWtlR3Vlc3RNZXRob2QoKSk7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIHRocm93IEZhaWxgaG9zdCBmYXIgZnVuY3Rpb25zIG5vdCB5ZXQgcGFzc2FibGVgO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtZXRob2ROYW1lcyA9IGdldE1ldGhvZE5hbWVzKGhSZW0pO1xuICAgICAgY29uc3QgZ3Vlc3RNZXRob2RzID0gbWV0aG9kTmFtZXMubWFwKG5hbWUgPT4gW1xuICAgICAgICBuYW1lLFxuICAgICAgICBtYWtlR3Vlc3RNZXRob2QobmFtZSksXG4gICAgICBdKTtcbiAgICAgIGdSZW0gPSBtYWtlR3Vlc3RQcmVzZW5jZShndWVzdElmYWNlLCBndWVzdE1ldGhvZHMpO1xuICAgIH1cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICBoUmVtID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBnUmVtO1xuICB9O1xuICBoYXJkZW4obWFrZUd1ZXN0Rm9ySG9zdFJlbW90YWJsZSk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IG1ha2VHdWVzdEZvckhvc3RWb3cgPSAoaFZvdywgcHJvbWlzZUtleSA9IHVuZGVmaW5lZCkgPT4ge1xuICAgIGlzVm93KGhWb3cpIHx8IEZhaWxgdm93IGV4cGVjdGVkICR7aFZvd31gO1xuICAgIGNvbnN0IHsgcHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0IH0gPSBtYWtlR3Vlc3RQcm9taXNlS2l0KCk7XG4gICAgcHJvbWlzZUtleSA/Pz0gcHJvbWlzZTtcbiAgICBndWVzdFByb21pc2VNYXAuc2V0KHByb21pc2VLZXksIGhhcmRlbih7IHJlc29sdmUsIHJlamVjdCB9KSk7XG5cbiAgICB3YXRjaFdha2UoaFZvdyk7XG5cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cblxuICAgIHZvaWQgd2hlbihcbiAgICAgIGhWb3csXG4gICAgICBhc3luYyBob3N0RnVsZmlsbG1lbnQgPT4ge1xuICAgICAgICBhd2FpdCBsb2cucHJvbWlzZVJlcGxheURvbmUoKTsgLy9cbiAgICAgICAgaWYgKCFzdG9wcGVkICYmIGd1ZXN0UHJvbWlzZU1hcC5nZXQocHJvbWlzZUtleSkgIT09ICdzZXR0bGVkJykge1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgY29uc3QgZW50cnkgPSBoYXJkZW4oWydkb0Z1bGZpbGwnLCBoVm93LCBob3N0RnVsZmlsbG1lbnRdKTtcbiAgICAgICAgICBsb2cucHVzaEVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW50ZXJwcmV0T25lKHRvcERpc3BhdGNoLCBlbnRyeSk7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXN5bmMgaG9zdFJlYXNvbiA9PiB7XG4gICAgICAgIGF3YWl0IGxvZy5wcm9taXNlUmVwbGF5RG9uZSgpOyAvL1xuICAgICAgICBpZiAoIXN0b3BwZWQgJiYgZ3Vlc3RQcm9taXNlTWFwLmdldChwcm9taXNlS2V5KSAhPT0gJ3NldHRsZWQnKSB7XG4gICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdCBlbnRyeSA9IGhhcmRlbihbJ2RvUmVqZWN0JywgaFZvdywgaG9zdFJlYXNvbl0pO1xuICAgICAgICAgIGxvZy5wdXNoRW50cnkoZW50cnkpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnRlcnByZXRPbmUodG9wRGlzcGF0Y2gsIGVudHJ5KTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcbiAgaGFyZGVuKG1ha2VHdWVzdEZvckhvc3RWb3cpO1xuXG4gIGNvbnN0IHsgZ3Vlc3RUb0hvc3QsIGhvc3RUb0d1ZXN0IH0gPSBtYWtlQ29udmVydEtpdChcbiAgICBiaWplY3Rpb24sXG4gICAgbWFrZUd1ZXN0Rm9ySG9zdFJlbW90YWJsZSxcbiAgICBtYWtlR3Vlc3RGb3JIb3N0Vm93LFxuICApO1xuXG4gIC8vXG5cbiAgLypcblxuICAgKi9cbiAgY29uc3QgdG9wRGlzcGF0Y2ggPSBoYXJkZW4oe1xuICAgIHN0YXJ0R2VuZXJhdGlvbixcbiAgICBkb0Z1bGZpbGwsXG4gICAgZG9SZWplY3RcbiAgICAvL1xuICB9KTtcblxuICAvKlxuXG4gICAqL1xuICBjb25zdCBuZXN0RGlzcGF0Y2ggPSBoYXJkZW4oe1xuICAgIGRvUmV0dXJuLFxuICAgIGRvVGhyb3dcbiAgICAvL1xuICB9KTtcblxuICBjb25zdCBpbnRlcnByZXRPbmUgPSAoZGlzcGF0Y2gsIFtvcCwgLi4uYXJnc10pID0+IHtcbiAgICB0cnkge1xuICAgICAgb3AgaW4gZGlzcGF0Y2ggfHxcbiAgICAgICAgLy9cbiAgICAgICAgRmFpbGB1bmV4cGVjdGVkIGRpc3BhdGNoIG9wOiAke3Eob3ApfWA7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hbb3BdKC4uLmFyZ3MpO1xuICAgIH0gY2F0Y2ggKHByb2JsZW0pIHtcbiAgICAgIHRocm93IHBhbmljKHByb2JsZW0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBsb2dEbyA9IChkaXNwYXRjaCwgZW50cnkpID0+IHtcbiAgICBsb2cucHVzaEVudHJ5KGVudHJ5KTtcbiAgICByZXR1cm4gaW50ZXJwcmV0T25lKGRpc3BhdGNoLCBlbnRyeSk7XG4gIH07XG5cbiAgY29uc3QgY2FsbFN0YWNrID0gW107XG5cbiAgbGV0IHVubmVzdEZsYWcgPSBmYWxzZTtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IG5lc3RJbnRlcnByZXRlciA9IGNhbGxJbmRleCA9PiB7XG4gICAgY2FsbFN0YWNrLnB1c2goY2FsbEluZGV4KTtcbiAgICB3aGlsZSAobG9nLmlzUmVwbGF5aW5nKCkgJiYgIXN0b3BwZWQpIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gbG9nLm5leHRVbmZpbHRlcmVkRW50cnkoKTtcbiAgICAgIGNvbnN0IG9wdE91dGNvbWUgPSBpbnRlcnByZXRPbmUobmVzdERpc3BhdGNoLCBlbnRyeSk7XG4gICAgICBpZiAodW5uZXN0RmxhZykge1xuICAgICAgICBvcHRPdXRjb21lIHx8XG4gICAgICAgICAgLy9cbiAgICAgICAgICBGYWlsYG9ubHkgdW5uZXN0IHdpdGggYW4gb3V0Y29tZTogJHtxKGVudHJ5WzBdKX1gO1xuICAgICAgICB1bm5lc3RGbGFnID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBvcHRPdXRjb21lO1xuICAgICAgfVxuICAgIH1cbiAgICB1bm5lc3RGbGFnID0gZmFsc2U7XG4gIH07XG5cbiAgLypcblxuICAgKi9cbiAgY29uc3QgdW5uZXN0SW50ZXJwcmV0ZXIgPSBjYWxsSW5kZXggPT4ge1xuICAgICFzdG9wcGVkIHx8XG4gICAgICBGYWlsYFRoaXMgbWVtYnJhbmUgc3RvcHBlZC4gUmVzdGFydCB3aXRoIG5ldyBtZW1icmFuZSAke3JlcGxheU1lbWJyYW5lfWA7XG4gICAgY2FsbFN0YWNrLmxlbmd0aCA+PSAxIHx8XG4gICAgICAvL1xuICAgICAgRmFpbGBVbm1hdGNoZWQgdW5uZXN0OiAke3EoY2FsbEluZGV4KX1gO1xuICAgIGNvbnN0IGkgPSBjYWxsU3RhY2sucG9wKCk7XG4gICAgaSA9PT0gY2FsbEluZGV4IHx8XG4gICAgICAvL1xuICAgICAgRmFpbGBVbmV4cGVjdGVkIHVubmVzdDogJHtxKGNhbGxJbmRleCl9IHZzICR7cShpKX1gO1xuICAgIHVubmVzdEZsYWcgPSB0cnVlO1xuICAgIGlmIChjYWxsU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICB2b2lkIEUud2hlbih1bmRlZmluZWQsIHdha2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB3YWtlID0gKCkgPT4ge1xuICAgIHdoaWxlIChsb2cuaXNSZXBsYXlpbmcoKSAmJiAhc3RvcHBlZCkge1xuICAgICAgY2FsbFN0YWNrLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICBGYWlsYHdha2Ugb25seSB3aXRoIGVtcHR5IGNhbGxTdGFjazogJHtxKGNhbGxTdGFjayl9YDtcbiAgICAgIGNvbnN0IGVudHJ5ID0gbG9nLnBlZWtFbnRyeSgpO1xuICAgICAgY29uc3Qgb3AgPSBlbnRyeVswXTtcbiAgICAgIGlmICghKG9wIGluIHRvcERpc3BhdGNoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2b2lkIGxvZy5uZXh0VW5maWx0ZXJlZEVudHJ5KCk7XG4gICAgICBpbnRlcnByZXRPbmUodG9wRGlzcGF0Y2gsIGVudHJ5KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgfTtcblxuICBjb25zdCByZXBsYXlNZW1icmFuZSA9IEZhcigncmVwbGF5TWVtYnJhbmUnLCB7XG4gICAgaG9zdFRvR3Vlc3QsXG4gICAgZ3Vlc3RUb0hvc3QsXG4gICAgd2FrZSxcbiAgICBzdG9wLFxuICB9KTtcbiAgcmV0dXJuIHJlcGxheU1lbWJyYW5lO1xufTskaM2PX29uY2UubWFrZVJlcGxheU1lbWJyYW5lRm9yVGVzdGluZyhtYWtlUmVwbGF5TWVtYnJhbmVGb3JUZXN0aW5nKTtcbmhhcmRlbihtYWtlUmVwbGF5TWVtYnJhbmUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VSZXBsYXlNZW1icmFuZSI6WyJtYWtlUmVwbGF5TWVtYnJhbmUiXSwibWFrZVJlcGxheU1lbWJyYW5lRm9yVGVzdGluZyI6WyJtYWtlUmVwbGF5TWVtYnJhbmVGb3JUZXN0aW5nIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFFBMXcMBwAADAcAACwAAABAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy90eXBlLWd1YXJkcy5qc3siaW1wb3J0cyI6WyJAZW5kby9wYXR0ZXJucyIsIkBhZ29yaWMvdm93Il0sImV4cG9ydHMiOlsiRmxvd1N0YXRlU2hhcGUiLCJMb2dFbnRyeVNoYXBlIiwiUHJvcGVydHlLZXlTaGFwZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE0sVm93U2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3Zvd1wiLCBbW1wiVm93U2hhcGVcIixbJGjNj19hID0+IChWb3dTaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuICAgICAgIGNvbnN0IEZsb3dTdGF0ZVNoYXBlID0gTS5vcihcbiAgJ1J1bm5pbmcnLFxuICAnU2xlZXBpbmcnLFxuICAnUmVwbGF5aW5nJyxcbiAgJ0ZhaWxlZCcsXG4gICdEb25lJyxcbik7JGjNj19vbmNlLkZsb3dTdGF0ZVNoYXBlKEZsb3dTdGF0ZVNoYXBlKTtcblxuICAgICAgIGNvbnN0IFByb3BlcnR5S2V5U2hhcGUgPSBNLm9yKE0uc3RyaW5nKCksIE0uc3ltYm9sKCkpOyRozY9fb25jZS5Qcm9wZXJ0eUtleVNoYXBlKFByb3BlcnR5S2V5U2hhcGUpO1xuXG4gICAgICAgY29uc3QgTG9nRW50cnlTaGFwZSA9IE0ub3IoXG4gIFsnc3RhcnRHZW5lcmF0aW9uJywgTS5udW1iZXIoKV0sXG4gIC8vXG4gIFsnZG9GdWxmaWxsJywgVm93U2hhcGUsIE0uYW55KCldLFxuICBbJ2RvUmVqZWN0JywgVm93U2hhcGUsIE0uYW55KCldLFxuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICBbJ2RvUmV0dXJuJywgTS5udW1iZXIoKSwgTS5hbnkoKV0sXG4gIFsnZG9UaHJvdycsIE0ubnVtYmVyKCksIE0uYW55KCldLFxuXG4gIC8vXG4gIC8vXG4gIC8vXG4gIFtcbiAgICAnY2hlY2tDYWxsJyxcbiAgICBNLnJlbW90YWJsZSgnaG9zdCB0YXJnZXQnKSxcbiAgICBNLm9wdChQcm9wZXJ0eUtleVNoYXBlKSxcbiAgICBNLmFycmF5T2YoTS5hbnkoKSksXG4gICAgTS5udW1iZXIoKSxcbiAgXSxcbiAgW1xuICAgICdjaGVja1NlbmRPbmx5JyxcbiAgICBNLm9yKE0ucmVtb3RhYmxlKCdob3N0IHRhcmdldCcpLCBWb3dTaGFwZSksXG4gICAgTS5vcHQoUHJvcGVydHlLZXlTaGFwZSksXG4gICAgTS5hcnJheU9mKE0uYW55KCkpLFxuICAgIE0ubnVtYmVyKCksXG4gIF0sXG4gIFtcbiAgICAnY2hlY2tTZW5kJyxcbiAgICBNLm9yKE0ucmVtb3RhYmxlKCdob3N0IHRhcmdldCcpLCBWb3dTaGFwZSksXG4gICAgTS5vcHQoUHJvcGVydHlLZXlTaGFwZSksXG4gICAgTS5hcnJheU9mKE0uYW55KCkpLFxuICAgIE0ubnVtYmVyKCksXG4gIF1cbiAgLy9cbiAgLy9cbik7JGjNj19vbmNlLkxvZ0VudHJ5U2hhcGUoTG9nRW50cnlTaGFwZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJGbG93U3RhdGVTaGFwZSI6WyJGbG93U3RhdGVTaGFwZSJdLCJQcm9wZXJ0eUtleVNoYXBlIjpbIlByb3BlcnR5S2V5U2hhcGUiXSwiTG9nRW50cnlTaGFwZSI6WyJMb2dFbnRyeVNoYXBlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAM/oVLfOAQAAzgEAACwAAABAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy90eXBlcy1pbmRleC5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiZW1wdHkiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7ICAgICAgIGNvbnN0IGVtcHR5ID0gJ0VtcHR5IEpTIGZpbGUgdG8gY29ycmVzcG9uZCB3aXRoIGl0cyAuZC50cyB0d2luJzskaM2PX29uY2UuZW1wdHkoZW1wdHkpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZW1wdHkiOlsiZW1wdHkiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAMYBI+I0BAACNAQAAIAAAAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9oZWFwLmpzeyJpbXBvcnRzIjpbIi4vc3JjL2hlYXAuanMiXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6WyIuL3NyYy9oZWFwLmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vc3JjL2hlYXAuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAARcz/8VgBAABYAQAAJwAAAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMvZXhwb3J0cy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAE88KdzwoAAM8KAAAkAAAAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL3NyYy9oZWFwLmpzeyJpbXBvcnRzIjpbIkBlbmRvL3Bhc3Mtc3R5bGUiLCJAZW5kby9leG8iLCJAYWdvcmljL3N0b3JlIiwiLi9tYWtlLW9uY2UuanMiLCIuL2tleXMuanMiLCIuL3dhdGNoLXByb21pc2UuanMiXSwiZXhwb3J0cyI6WyJtYWtlSGVhcFpvbmUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYXIsaXNQYXNzYWJsZSxtYWtlRXhvLGRlZmluZUV4b0NsYXNzLGRlZmluZUV4b0NsYXNzS2l0LG1ha2VTY2FsYXJNYXBTdG9yZSxtYWtlU2NhbGFyU2V0U3RvcmUsbWFrZVNjYWxhcldlYWtNYXBTdG9yZSxtYWtlU2NhbGFyV2Vha1NldFN0b3JlLG1ha2VPbmNlS2l0LGtleXMsd2F0Y2hQcm9taXNlOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dLFtcImlzUGFzc2FibGVcIixbJGjNj19hID0+IChpc1Bhc3NhYmxlID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXhvXCIsIFtbXCJtYWtlRXhvXCIsWyRozY9fYSA9PiAobWFrZUV4byA9ICRozY9fYSldXSxbXCJkZWZpbmVFeG9DbGFzc1wiLFskaM2PX2EgPT4gKGRlZmluZUV4b0NsYXNzID0gJGjNj19hKV1dLFtcImRlZmluZUV4b0NsYXNzS2l0XCIsWyRozY9fYSA9PiAoZGVmaW5lRXhvQ2xhc3NLaXQgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJtYWtlU2NhbGFyTWFwU3RvcmVcIixbJGjNj19hID0+IChtYWtlU2NhbGFyTWFwU3RvcmUgPSAkaM2PX2EpXV0sW1wibWFrZVNjYWxhclNldFN0b3JlXCIsWyRozY9fYSA9PiAobWFrZVNjYWxhclNldFN0b3JlID0gJGjNj19hKV1dLFtcIm1ha2VTY2FsYXJXZWFrTWFwU3RvcmVcIixbJGjNj19hID0+IChtYWtlU2NhbGFyV2Vha01hcFN0b3JlID0gJGjNj19hKV1dLFtcIm1ha2VTY2FsYXJXZWFrU2V0U3RvcmVcIixbJGjNj19hID0+IChtYWtlU2NhbGFyV2Vha1NldFN0b3JlID0gJGjNj19hKV1dXV0sW1wiLi9tYWtlLW9uY2UuanNcIiwgW1tcIm1ha2VPbmNlS2l0XCIsWyRozY9fYSA9PiAobWFrZU9uY2VLaXQgPSAkaM2PX2EpXV1dXSxbXCIuL2tleXMuanNcIiwgW1tcImFnb3JpY1ZhdERhdGFLZXlzXCIsWyRozY9fYSA9PiAoa2V5cyA9ICRozY9fYSldXV1dLFtcIi4vd2F0Y2gtcHJvbWlzZS5qc1wiLCBbW1wid2F0Y2hQcm9taXNlXCIsWyRozY9fYSA9PiAod2F0Y2hQcm9taXNlID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cbiAqL1xuY29uc3QgZGV0YWNoZWRIZWFwU3RvcmVzID0gRmFyKCdoZWFwU3RvcmVzJywge1xuICBkZXRhY2hlZDogKCkgPT4gZGV0YWNoZWRIZWFwU3RvcmVzLFxuICBpc1N0b3JhYmxlOiBpc1Bhc3NhYmxlLFxuXG4gIHNldFN0b3JlOiBtYWtlU2NhbGFyU2V0U3RvcmUsXG4gIG1hcFN0b3JlOiBtYWtlU2NhbGFyTWFwU3RvcmUsXG4gIHdlYWtNYXBTdG9yZTogbWFrZVNjYWxhcldlYWtNYXBTdG9yZSxcbiAgd2Vha1NldFN0b3JlOiBtYWtlU2NhbGFyV2Vha1NldFN0b3JlLFxufSk7XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VIZWFwWm9uZSA9IChiYXNlTGFiZWwgPSAnaGVhcFpvbmUnKSA9PiB7XG4gIGNvbnN0IHsgbWFrZU9uY2UsIHdyYXBQcm92aWRlciB9ID0gbWFrZU9uY2VLaXQoYmFzZUxhYmVsLCBkZXRhY2hlZEhlYXBTdG9yZXMpO1xuXG4gIC8qXG5cblxuICAgKi9cbiAgY29uc3QgbWFrZVN1YlpvbmUgPSAobGFiZWwsIF9vcHRpb25zKSA9PlxuICAgIG1ha2VIZWFwWm9uZShgJHtiYXNlTGFiZWx9LiR7bGFiZWx9YCk7XG5cbiAgcmV0dXJuIEZhcignaGVhcFpvbmUnLCB7XG4gICAgZXhvOiB3cmFwUHJvdmlkZXIobWFrZUV4bywga2V5cy5leG8pLFxuICAgIGV4b0NsYXNzOiB3cmFwUHJvdmlkZXIoZGVmaW5lRXhvQ2xhc3MsIGtleXMuZXhvQ2xhc3MpLFxuICAgIGV4b0NsYXNzS2l0OiB3cmFwUHJvdmlkZXIoZGVmaW5lRXhvQ2xhc3NLaXQsIGtleXMuZXhvQ2xhc3NLaXQpLFxuICAgIHN1YlpvbmU6IHdyYXBQcm92aWRlcihtYWtlU3ViWm9uZSksXG5cbiAgICBtYWtlT25jZSxcbiAgICB3YXRjaFByb21pc2UsXG4gICAgZGV0YWNoZWQ6IGRldGFjaGVkSGVhcFN0b3Jlcy5kZXRhY2hlZCxcbiAgICBpc1N0b3JhYmxlOiBkZXRhY2hlZEhlYXBTdG9yZXMuaXNTdG9yYWJsZSxcblxuICAgIG1hcFN0b3JlOiB3cmFwUHJvdmlkZXIoZGV0YWNoZWRIZWFwU3RvcmVzLm1hcFN0b3JlKSxcbiAgICBzZXRTdG9yZTogd3JhcFByb3ZpZGVyKGRldGFjaGVkSGVhcFN0b3Jlcy5zZXRTdG9yZSksXG4gICAgd2Vha01hcFN0b3JlOiB3cmFwUHJvdmlkZXIoZGV0YWNoZWRIZWFwU3RvcmVzLndlYWtNYXBTdG9yZSksXG4gICAgd2Vha1NldFN0b3JlOiB3cmFwUHJvdmlkZXIoZGV0YWNoZWRIZWFwU3RvcmVzLndlYWtTZXRTdG9yZSksXG4gIH0pO1xufTskaM2PX29uY2UubWFrZUhlYXBab25lKG1ha2VIZWFwWm9uZSk7XG5oYXJkZW4obWFrZUhlYXBab25lKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VIZWFwWm9uZSI6WyJtYWtlSGVhcFpvbmUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAFW6x+nkCAAB5AgAAJQAAAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMvaW5kZXguanN7ImltcG9ydHMiOlsiLi9leHBvcnRzLmpzIiwiLi9tYWtlLW9uY2UuanMiLCIuL2tleXMuanMiLCIuL2lzLXBhc3NhYmxlLmpzIiwiLi93YXRjaC1wcm9taXNlLmpzIl0sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOlsiLi9leHBvcnRzLmpzIiwiLi9pcy1wYXNzYWJsZS5qcyIsIi4va2V5cy5qcyIsIi4vbWFrZS1vbmNlLmpzIiwiLi93YXRjaC1wcm9taXNlLmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vZXhwb3J0cy5qc1wiLCBbXV0sW1wiLi9tYWtlLW9uY2UuanNcIiwgW11dLFtcIi4va2V5cy5qc1wiLCBbXV0sW1wiLi9pcy1wYXNzYWJsZS5qc1wiLCBbXV0sW1wiLi93YXRjaC1wcm9taXNlLmpzXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAADl90gx0AgAAdAIAACsAAABAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAvc3JjL2lzLXBhc3NhYmxlLmpzeyJpbXBvcnRzIjpbIkBlbmRvL3Bhc3Mtc3R5bGUiXSwiZXhwb3J0cyI6WyJpc1Bhc3NhYmxlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgcmVhbElzUGFzc2FibGU7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtbXCJpc1Bhc3NhYmxlXCIsWyRozY9fYSA9PiAocmVhbElzUGFzc2FibGUgPSAkaM2PX2EpXV1dXV0pO1xuXG4vKlxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGlzUGFzc2FibGUgPSBzcGVjaW1lbiA9PiByZWFsSXNQYXNzYWJsZShzcGVjaW1lbik7JGjNj19vbmNlLmlzUGFzc2FibGUoaXNQYXNzYWJsZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJpc1Bhc3NhYmxlIjpbImlzUGFzc2FibGUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAy4/sxZgDAACYAwAAJAAAAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMva2V5cy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiYWdvcmljVmF0RGF0YUtleXMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7Ly9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3Qga2luZCA9IGxhYmVsID0+IGAke2xhYmVsfV9raW5kSGFuZGxlYDtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3Qgc2luZ2xldG9uID0gbGFiZWwgPT4gYCR7bGFiZWx9X3NpbmdsZXRvbmA7XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBhZ29yaWNWYXREYXRhS2V5cyA9IHtcbiAgZXhvQ2xhc3M6IGxhYmVsID0+IGhhcmRlbihba2luZChsYWJlbCldKSxcbiAgZXhvQ2xhc3NLaXQ6IGxhYmVsID0+IGhhcmRlbihba2luZChsYWJlbCldKSxcbiAgZXhvOiBsYWJlbCA9PiBoYXJkZW4oW2tpbmQobGFiZWwpLCBzaW5nbGV0b24obGFiZWwpXSksXG4gIHN0b3JlOiBsYWJlbCA9PiBoYXJkZW4oW2xhYmVsXSksXG4gIHpvbmU6IGxhYmVsID0+IGhhcmRlbihbbGFiZWxdKSxcbn07JGjNj19vbmNlLmFnb3JpY1ZhdERhdGFLZXlzKGFnb3JpY1ZhdERhdGFLZXlzKTtcbmhhcmRlbihhZ29yaWNWYXREYXRhS2V5cyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJhZ29yaWNWYXREYXRhS2V5cyI6WyJhZ29yaWNWYXREYXRhS2V5cyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAa7pnbpQcAAKUHAAApAAAAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL3NyYy9tYWtlLW9uY2UuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsibWFrZU9uY2VLaXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dXSk7XG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgZGVmYXVsdExhYmVsVG9LZXlzID0gbGFiZWwgPT4gaGFyZGVuKFtsYWJlbF0pO1xuaGFyZGVuKGRlZmF1bHRMYWJlbFRvS2V5cyk7XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlT25jZUtpdCA9IChkZWJ1Z05hbWUsIHN0b3JlcywgYmFja2luZ1N0b3JlID0gdW5kZWZpbmVkKSA9PiB7XG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIGNvbnN0IHVzZWRLZXlzID0gc3RvcmVzLmRldGFjaGVkKCkuc2V0U3RvcmUoYCR7ZGVidWdOYW1lfSB1c2VkIGtleXNgKTtcblxuICAvKlxuXG4gICAqL1xuICBjb25zdCBhc3NlcnRPbmx5T25jZSA9IGtleSA9PiB7XG4gICAgdHlwZW9mIGtleSA9PT0gJ3N0cmluZycgfHwgRmFpbGBrZXkgJHtrZXl9IG11c3QgYmUgYSBzdHJpbmdgO1xuICAgICF1c2VkS2V5cy5oYXMoa2V5KSB8fFxuICAgICAgRmFpbGBrZXkgJHtrZXl9IGhhcyBhbHJlYWR5IGJlZW4gdXNlZCBpbiB0aGlzIHpvbmUgYW5kIGluY2FybmF0aW9uYDtcblxuICAgIC8vXG4gICAgLy9cbiAgICB1c2VkS2V5cy5hZGQoa2V5KTtcbiAgfTtcblxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCB3cmFwUHJvdmlkZXIgPSAocHJvdmlkZXIsIGxhYmVsVG9LZXlzID0gZGVmYXVsdExhYmVsVG9LZXlzKSA9PiB7XG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBjb25zdCB3cmFwcGVyID0gKGxhYmVsLCAuLi5yZXN0KSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBsYWJlbFRvS2V5cyhsYWJlbCkpIHtcbiAgICAgICAgYXNzZXJ0T25seU9uY2Uoa2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm92aWRlcihsYWJlbCwgLi4ucmVzdCk7XG4gICAgfTtcbiAgICByZXR1cm4gLyogICAgICAgICAgICAqLyAod3JhcHBlcik7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgbWFrZU9uY2UgPSAoa2V5LCBtYWtlcikgPT4ge1xuICAgIGFzc2VydE9ubHlPbmNlKGtleSk7XG4gICAgaWYgKGJhY2tpbmdTdG9yZSAmJiBiYWNraW5nU3RvcmUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBiYWNraW5nU3RvcmUuZ2V0KGtleSk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gbWFrZXIoa2V5KTtcbiAgICBzdG9yZXMuaXNTdG9yYWJsZSh2YWx1ZSkgfHxcbiAgICAgIEZhaWxgbWFrZXIgcmV0dXJuIHZhbHVlICR7dmFsdWV9IGlzIG5vdCBzdG9yYWJsZWA7XG4gICAgYmFja2luZ1N0b3JlICYmIGJhY2tpbmdTdG9yZS5pbml0KGtleSwgdmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICByZXR1cm4gaGFyZGVuKHsgbWFrZU9uY2UsIHdyYXBQcm92aWRlciB9KTtcbn07JGjNj19vbmNlLm1ha2VPbmNlS2l0KG1ha2VPbmNlS2l0KTtcbmhhcmRlbihtYWtlT25jZUtpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlT25jZUtpdCI6WyJtYWtlT25jZUtpdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAEhfZHUQwAAFEMAAAyAAAAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL3NyYy9wcmVwYXJlLWF0dGVudWF0b3IuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vY29tbW9uL2Zyb20tdW5pcXVlLWVudHJpZXMuanMiLCJAZW5kby9wYXR0ZXJucyIsIi4vaGVhcC5qcyJdLCJleHBvcnRzIjpbImF0dGVudWF0ZU9uZSIsInByZXBhcmVBdHRlbnVhdG9yTWFrZXIiLCJ3cmFwcGVyTWV0aG9kcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwscSxmcm9tVW5pcXVlRW50cmllcyxNLG1ha2VIZWFwWm9uZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9jb21tb24vZnJvbS11bmlxdWUtZW50cmllcy5qc1wiLCBbW1wiZnJvbVVuaXF1ZUVudHJpZXNcIixbJGjNj19hID0+IChmcm9tVW5pcXVlRW50cmllcyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIi4vaGVhcC5qc1wiLCBbW1wibWFrZUhlYXBab25lXCIsWyRozY9fYSA9PiAobWFrZUhlYXBab25lID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbi8vXG4vL1xuLy9cbi8vXG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCB3cmFwcGVyTWV0aG9kcyA9IChcbiAgd3JhcHBlcktpbmROYW1lLFxuICB1TWV0aG9kTmFtZXMsXG4gIGV4dHJhTWV0aG9kcyA9IHt9LFxuKSA9PlxuICBoYXJkZW4oe1xuICAgIC4uLmZyb21VbmlxdWVFbnRyaWVzKFxuICAgICAgdU1ldGhvZE5hbWVzLm1hcChuYW1lID0+IFtcbiAgICAgICAgbmFtZSxcbiAgICAgICAge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgW25hbWVdKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBjb25zdCB7IHVuZGVybHlpbmcgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHVuZGVybHlpbmcgIT09IHVuZGVmaW5lZCB8fCBGYWlsYCR7cSh3cmFwcGVyS2luZE5hbWUpfSByZXZva2VkYDtcblxuICAgICAgICAgICAgcmV0dXJuIHVuZGVybHlpbmdbbmFtZV0oLi4uYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vXG4gICAgICAgIH1bbmFtZV0sXG4gICAgICBdKSxcbiAgICApLFxuICAgIC4uLmV4dHJhTWV0aG9kcyxcbiAgfSk7JGjNj19vbmNlLndyYXBwZXJNZXRob2RzKHdyYXBwZXJNZXRob2RzKTtcbmhhcmRlbih3cmFwcGVyTWV0aG9kcyk7XG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZUF0dGVudWF0b3JNYWtlciA9IChcbiAgem9uZSxcbiAgdUtpbmROYW1lLFxuICB1TWV0aG9kTmFtZXMsXG4gIG9wdGlvbnMgPSB7fSxcbikgPT4ge1xuICBjb25zdCB7XG4gICAgdUludGVyZmFjZU5hbWUgPSB1S2luZE5hbWUsXG4gICAgZXh0cmFNZXRob2RHdWFyZHMgPSB7fSxcbiAgICBleHRyYU1ldGhvZHMgPSB7fSxcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IEF0dGVudWF0b3JJID0gTS5pbnRlcmZhY2UoXG4gICAgYCR7dUludGVyZmFjZU5hbWV9X2F0dGVudWF0b3JgLFxuICAgIGV4dHJhTWV0aG9kR3VhcmRzLFxuICAgIHsgZGVmYXVsdEd1YXJkczogJ3JhdycgfSxcbiAgKTtcblxuICBjb25zdCBhdHRlbnVhdG9yS2luZE5hbWUgPSBgJHt1S2luZE5hbWV9X2F0dGVudWF0b3JgO1xuXG4gIHJldHVybiB6b25lLmV4b0NsYXNzKFxuICAgIGF0dGVudWF0b3JLaW5kTmFtZSxcbiAgICBBdHRlbnVhdG9ySSxcbiAgICB1bmRlcmx5aW5nID0+ICh7IHVuZGVybHlpbmcgfSksXG4gICAgd3JhcHBlck1ldGhvZHMoYXR0ZW51YXRvcktpbmROYW1lLCB1TWV0aG9kTmFtZXMsIGV4dHJhTWV0aG9kcyksXG4gICAge1xuICAgICAgc3RhdGVTaGFwZTogeyB1bmRlcmx5aW5nOiBNLm9wdChNLnJlbW90YWJsZSgndW5kZXJseWluZycpKSB9LFxuICAgIH0sXG4gICk7XG59OyRozY9fb25jZS5wcmVwYXJlQXR0ZW51YXRvck1ha2VyKHByZXBhcmVBdHRlbnVhdG9yTWFrZXIpO1xuaGFyZGVuKHByZXBhcmVBdHRlbnVhdG9yTWFrZXIpO1xuXG4vL1xuY29uc3QgUmVtb3RhYmxlUHJlZml4UkUgPSAvXihBbGxlZ2VkOiB8RGVidWdOYW1lOiApLztcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgYXR0ZW51YXRlT25lID0gKHVuZGVybHlpbmcsIHVNZXRob2ROYW1lcywgb3B0aW9ucyA9IHVuZGVmaW5lZCkgPT4ge1xuICBjb25zdCBoZWFwWm9uZSA9IG1ha2VIZWFwWm9uZSgpO1xuICBjb25zdCB1S2luZE5hbWUgPSAodW5kZXJseWluZ1tTeW1ib2wudG9TdHJpbmdUYWddIHx8ICdVbmRlcmx5aW5nJykucmVwbGFjZShcbiAgICBSZW1vdGFibGVQcmVmaXhSRSxcbiAgICAnJyxcbiAgKTtcbiAgY29uc3QgbWFrZUF0dGVudWF0b3IgPSBwcmVwYXJlQXR0ZW51YXRvck1ha2VyKFxuICAgIGhlYXBab25lLFxuICAgIHVLaW5kTmFtZSxcbiAgICB1TWV0aG9kTmFtZXMsXG4gICAgb3B0aW9ucyxcbiAgKTtcbiAgcmV0dXJuIG1ha2VBdHRlbnVhdG9yKHVuZGVybHlpbmcpO1xufTskaM2PX29uY2UuYXR0ZW51YXRlT25lKGF0dGVudWF0ZU9uZSk7XG5oYXJkZW4oYXR0ZW51YXRlT25lKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IndyYXBwZXJNZXRob2RzIjpbIndyYXBwZXJNZXRob2RzIl0sInByZXBhcmVBdHRlbnVhdG9yTWFrZXIiOlsicHJlcGFyZUF0dGVudWF0b3JNYWtlciJdLCJhdHRlbnVhdGVPbmUiOlsiYXR0ZW51YXRlT25lIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAGTVCwIwCgAAMAoAADEAAABAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAvc3JjL3ByZXBhcmUtcmV2b2NhYmxlLmpzeyJpbXBvcnRzIjpbIkBlbmRvL3BhdHRlcm5zIiwiLi9wcmVwYXJlLWF0dGVudWF0b3IuanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlUmV2b2NhYmxlTWFrZXJLaXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBNLHdyYXBwZXJNZXRob2RzOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi9wcmVwYXJlLWF0dGVudWF0b3IuanNcIiwgW1tcIndyYXBwZXJNZXRob2RzXCIsWyRozY9fYSA9PiAod3JhcHBlck1ldGhvZHMgPSAkaM2PX2EpXV1dXV0pO1xuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlUmV2b2NhYmxlTWFrZXJLaXQgPSAoXG4gIHpvbmUsXG4gIHVLaW5kTmFtZSxcbiAgdU1ldGhvZE5hbWVzLFxuICBvcHRpb25zID0ge30sXG4pID0+IHtcbiAgY29uc3Qge1xuICAgIHVJbnRlcmZhY2VOYW1lID0gdUtpbmROYW1lLFxuICAgIGV4dHJhTWV0aG9kR3VhcmRzID0ge30sXG4gICAgZXh0cmFNZXRob2RzID0ge30sXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBSZXZvY2FibGVJS2l0ID0gaGFyZGVuKHtcbiAgICByZXZva2VyOiBNLmludGVyZmFjZShgJHt1SW50ZXJmYWNlTmFtZX1fcmV2b2tlcmAsIHtcbiAgICAgIHJldm9rZTogTS5jYWxsKCkucmV0dXJucyhNLmJvb2xlYW4oKSksXG4gICAgfSksXG4gICAgcmV2b2NhYmxlOiBNLmludGVyZmFjZShgJHt1SW50ZXJmYWNlTmFtZX1fcmV2b2NhYmxlYCwgZXh0cmFNZXRob2RHdWFyZHMsIHtcbiAgICAgIGRlZmF1bHRHdWFyZHM6ICdyYXcnLFxuICAgIH0pLFxuICB9KTtcblxuICBjb25zdCByZXZvY2FibGVLaW5kTmFtZSA9IGAke3VLaW5kTmFtZX1fY2FyZXRha2VyYDtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgbGV0IGFtcGxpZmllcjtcblxuICBjb25zdCBtYWtlUmV2b2NhYmxlS2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICByZXZvY2FibGVLaW5kTmFtZSxcbiAgICBSZXZvY2FibGVJS2l0LFxuICAgIHVuZGVybHlpbmcgPT4gKHsgdW5kZXJseWluZyB9KSxcbiAgICB7XG4gICAgICByZXZva2VyOiB7XG4gICAgICAgIHJldm9rZSgpIHtcbiAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICAgIGlmIChzdGF0ZS51bmRlcmx5aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhdGUudW5kZXJseWluZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICByZXZvY2FibGU6IHdyYXBwZXJNZXRob2RzKHJldm9jYWJsZUtpbmROYW1lLCB1TWV0aG9kTmFtZXMsIGV4dHJhTWV0aG9kcyksXG4gICAgfSxcbiAgICB7XG4gICAgICBzdGF0ZVNoYXBlOiB7IHVuZGVybHlpbmc6IE0ub3B0KE0ucmVtb3RhYmxlKCd1bmRlcmx5aW5nJykpIH0sXG4gICAgICByZWNlaXZlQW1wbGlmaWVyOiBhbXAgPT4ge1xuICAgICAgICBhbXBsaWZpZXIgPSBhbXA7XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgLypcblxuICAgKi9cbiAgY29uc3QgbWFrZVJldm9jYWJsZSA9IHVuZGVybHlpbmcgPT4gbWFrZVJldm9jYWJsZUtpdCh1bmRlcmx5aW5nKS5yZXZvY2FibGU7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCByZXZva2UgPSByZXZvY2FibGUgPT4ge1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGZhY2V0cyA9IGFtcGxpZmllcihyZXZvY2FibGUpO1xuICAgIGlmIChmYWNldHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmFjZXRzLnJldm9rZXIucmV2b2tlKCk7XG4gIH07XG5cbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgcmV2b2tlLFxuICAgIG1ha2VSZXZvY2FibGUsXG4gIH0pO1xufTskaM2PX29uY2UucHJlcGFyZVJldm9jYWJsZU1ha2VyS2l0KHByZXBhcmVSZXZvY2FibGVNYWtlcktpdCk7XG5oYXJkZW4ocHJlcGFyZVJldm9jYWJsZU1ha2VyS2l0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVSZXZvY2FibGVNYWtlcktpdCI6WyJwcmVwYXJlUmV2b2NhYmxlTWFrZXJLaXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAlUtl/dsJAADbCQAALQAAAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMvd2F0Y2gtcHJvbWlzZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wYXR0ZXJucyIsIkBlbmRvL2ZhciJdLCJleHBvcnRzIjpbIlByb21pc2VXYXRjaGVyRnVsZmlsbGVkSSIsIlByb21pc2VXYXRjaGVySGFuZGxlciIsIlByb21pc2VXYXRjaGVySSIsIlByb21pc2VXYXRjaGVyUmVqZWN0ZWRJIiwid2F0Y2hQcm9taXNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxNLEU7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cbmNvbnN0IHsgYXBwbHkgfSA9IFJlZmxlY3Q7XG5cbi8qXG5cbiAqL1xuICAgICAgIGNvbnN0IFByb21pc2VXYXRjaGVySGFuZGxlciA9IE0uY2FsbChNLnJhdygpKS5yZXN0KE0ucmF3KCkpLnJldHVybnMoKTtcblxuLypcblxuICovJGjNj19vbmNlLlByb21pc2VXYXRjaGVySGFuZGxlcihQcm9taXNlV2F0Y2hlckhhbmRsZXIpO1xuICAgICAgIGNvbnN0IFByb21pc2VXYXRjaGVySSA9IE0uaW50ZXJmYWNlKCdQcm9taXNlV2F0Y2hlcicsIHtcbiAgb25GdWxmaWxsZWQ6IFByb21pc2VXYXRjaGVySGFuZGxlcixcbiAgb25SZWplY3RlZDogUHJvbWlzZVdhdGNoZXJIYW5kbGVyLFxufSk7XG5cbi8qXG5cbiAqLyRozY9fb25jZS5Qcm9taXNlV2F0Y2hlckkoUHJvbWlzZVdhdGNoZXJJKTtcbiAgICAgICBjb25zdCBQcm9taXNlV2F0Y2hlckZ1bGZpbGxlZEkgPSBNLmludGVyZmFjZSgnUHJvbWlzZVdhdGNoZXJGdWxmaWxsZWQnLCB7XG4gIG9uRnVsZmlsbGVkOiBQcm9taXNlV2F0Y2hlckhhbmRsZXIsXG59KTtcblxuLypcblxuICovJGjNj19vbmNlLlByb21pc2VXYXRjaGVyRnVsZmlsbGVkSShQcm9taXNlV2F0Y2hlckZ1bGZpbGxlZEkpO1xuICAgICAgIGNvbnN0IFByb21pc2VXYXRjaGVyUmVqZWN0ZWRJID0gTS5pbnRlcmZhY2UoJ1Byb21pc2VXYXRjaGVyUmVqZWN0ZWQnLCB7XG4gIG9uUmVqZWN0ZWQ6IFByb21pc2VXYXRjaGVySGFuZGxlcixcbn0pO1xuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqLyRozY9fb25jZS5Qcm9taXNlV2F0Y2hlclJlamVjdGVkSShQcm9taXNlV2F0Y2hlclJlamVjdGVkSSk7XG5jb25zdCBjYWxsTWVNYXliZSA9ICh0aGF0LCBwcm9wLCBwb3N0QXJncykgPT4ge1xuICBjb25zdCBmbiA9IHRoYXRbcHJvcF07XG4gIGlmICghZm4pIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGFzc2VydC50eXBlb2YoZm4sICdmdW5jdGlvbicpO1xuICAvKlxuXG4gICAqL1xuICBjb25zdCB3cmFwcGVkID0gYXJnID0+IHtcbiAgICAvL1xuICAgIC8vXG4gICAgYXBwbHkoZm4sIHRoYXQsIFthcmcsIC4uLnBvc3RBcmdzXSk7XG4gIH07XG4gIHJldHVybiB3cmFwcGVkO1xufTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHdhdGNoUHJvbWlzZSA9IChwLCB3YXRjaGVyLCAuLi53YXRjaGVyQXJncykgPT4ge1xuICBQcm9taXNlLnJlc29sdmUocCkgPT09IHAgfHwgRmFpbGB3YXRjaFByb21pc2Ugb25seSB3YXRjaGVzIHByb21pc2VzYDtcbiAgY29uc3Qgb25GdWxmaWxsZWQgPSBjYWxsTWVNYXliZSh3YXRjaGVyLCAnb25GdWxmaWxsZWQnLCB3YXRjaGVyQXJncyk7XG4gIGNvbnN0IG9uUmVqZWN0ZWQgPSBjYWxsTWVNYXliZSh3YXRjaGVyLCAnb25SZWplY3RlZCcsIHdhdGNoZXJBcmdzKTtcbiAgb25GdWxmaWxsZWQgfHxcbiAgICBvblJlamVjdGVkIHx8XG4gICAgRmFpbGBwcm9taXNlIHdhdGNoZXIgbXVzdCBpbXBsZW1lbnQgYXQgbGVhc3Qgb25lIGhhbmRsZXIgbWV0aG9kYDtcbiAgdm9pZCBFLndoZW4ocCwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xufTskaM2PX29uY2Uud2F0Y2hQcm9taXNlKHdhdGNoUHJvbWlzZSk7XG5oYXJkZW4od2F0Y2hQcm9taXNlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlByb21pc2VXYXRjaGVySGFuZGxlciI6WyJQcm9taXNlV2F0Y2hlckhhbmRsZXIiXSwiUHJvbWlzZVdhdGNoZXJJIjpbIlByb21pc2VXYXRjaGVySSJdLCJQcm9taXNlV2F0Y2hlckZ1bGZpbGxlZEkiOlsiUHJvbWlzZVdhdGNoZXJGdWxmaWxsZWRJIl0sIlByb21pc2VXYXRjaGVyUmVqZWN0ZWRJIjpbIlByb21pc2VXYXRjaGVyUmVqZWN0ZWRJIl0sIndhdGNoUHJvbWlzZSI6WyJ3YXRjaFByb21pc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAbCSwahYCAAAWAgAAKAAAAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC96b25lLWhlbHBlcnMuanN7ImltcG9ydHMiOlsiLi9zcmMvcHJlcGFyZS1yZXZvY2FibGUuanMiLCIuL3NyYy9wcmVwYXJlLWF0dGVudWF0b3IuanMiXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6WyIuL3NyYy9wcmVwYXJlLWF0dGVudWF0b3IuanMiLCIuL3NyYy9wcmVwYXJlLXJldm9jYWJsZS5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL3NyYy9wcmVwYXJlLXJldm9jYWJsZS5qc1wiLCBbXV0sW1wiLi9zcmMvcHJlcGFyZS1hdHRlbnVhdG9yLmpzXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAJREHxThDQAA4Q0AADEAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9hZGRyZXNzLWhvb2tzLmpzeyJpbXBvcnRzIjpbImJlY2gzMiIsInF1ZXJ5LXN0cmluZyJdLCJleHBvcnRzIjpbIkJBU0VfQUREUkVTU19MRU5HVEhfQllURVMiLCJERUZBVUxUX0hPT0tFRF9BRERSRVNTX0NIQVJfTElNSVQiLCJkZWNvZGVBZGRyZXNzSG9vayIsImRlY29kZUJlY2gzMiIsImVuY29kZUFkZHJlc3NIb29rIiwiZW5jb2RlQmVjaDMyIiwiam9pbkhvb2tlZEFkZHJlc3MiLCJzcGxpdEhvb2tlZEFkZHJlc3MiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBlLG87JGjNj19pbXBvcnRzKFtbXCJiZWNoMzJcIiwgW1tcImJlY2gzMlwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV1dXSxbXCJxdWVyeS1zdHJpbmdcIiwgW1tcImRlZmF1bHRcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByPWdsb2JhbFRoaXMuaGFyZGVufHxPYmplY3QuZnJlZXplO2NvbnN0IHQ9WzEyMCwyNDEsMTEyXTtyKHQpOyAgICAgICBjb25zdCBERUZBVUxUX0hPT0tFRF9BRERSRVNTX0NIQVJfTElNSVQ9MTAyNDskaM2PX29uY2UuREVGQVVMVF9IT09LRURfQUREUkVTU19DSEFSX0xJTUlUKERFRkFVTFRfSE9PS0VEX0FERFJFU1NfQ0hBUl9MSU1JVCk7Y29uc3QgQkFTRV9BRERSRVNTX0xFTkdUSF9CWVRFUz0yOyRozY9fb25jZS5CQVNFX0FERFJFU1NfTEVOR1RIX0JZVEVTKEJBU0VfQUREUkVTU19MRU5HVEhfQllURVMpO2NvbnN0IGRlY29kZUJlY2gzMj0obyx0PTEwMjQpPT57Y29uc3R7cHJlZml4OnMsd29yZHM6bn09ZS5kZWNvZGUobyx0KSxkPWUuZnJvbVdvcmRzKG4pLGM9bmV3IFVpbnQ4QXJyYXkoZCk7cmV0dXJuIHIoe3ByZWZpeDpzLGJ5dGVzOmN9KX07JGjNj19vbmNlLmRlY29kZUJlY2gzMihkZWNvZGVCZWNoMzIpO3IoZGVjb2RlQmVjaDMyKTtjb25zdCBlbmNvZGVCZWNoMzI9KG8scix0PTEwMjQpPT57Y29uc3Qgcz1lLnRvV29yZHMocik7cmV0dXJuIGUuZW5jb2RlKG8scyx0KX07JGjNj19vbmNlLmVuY29kZUJlY2gzMihlbmNvZGVCZWNoMzIpO3IoZW5jb2RlQmVjaDMyKTtjb25zdCBqb2luSG9va2VkQWRkcmVzcz0oZSxvLHI9MTAyNCk9Pntjb25zdHtwcmVmaXg6cyxieXRlczpufT1kZWNvZGVCZWNoMzIoZSxyKSxkPW4ubGVuZ3RoLGM9by5sZW5ndGgsYT02NTUzNjtpZihkPj1hKXRocm93IFJhbmdlRXJyb3IoYEJhc2UgYWRkcmVzcyBsZW5ndGggMHgke2QudG9TdHJpbmcoMTYpfSBleGNlZWRzIG1heGltdW0gMHgke2EudG9TdHJpbmcoMTYpfWApO2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihjKXx8YzwwKXRocm93IFJhbmdlRXJyb3IoYEhvb2sgZGF0YSBsZW5ndGggJHtjfSBpcyBub3QgYSBub24tbmVnYXRpdmUgaW50ZWdlcmApO2NvbnN0IGk9dC5sZW5ndGgsaD1uZXcgVWludDhBcnJheShpK2QrYysyKTtoLnNldCh0LDApLGhbaS0xXXw9MCxoLnNldChuLGkpLGguc2V0KG8saStkKTtsZXQgZz1kO2ZvcihsZXQgZT0wO2U8MjtlKz0xKWhbaC5sZW5ndGgtMS1lXT0yNTUmZyxnPj4+PTg7cmV0dXJuIGVuY29kZUJlY2gzMihzLGgscil9OyRozY9fb25jZS5qb2luSG9va2VkQWRkcmVzcyhqb2luSG9va2VkQWRkcmVzcyk7cihqb2luSG9va2VkQWRkcmVzcyk7Y29uc3QgZW5jb2RlQWRkcmVzc0hvb2s9KGUscix0KT0+e2NvbnN0IHM9by5zdHJpbmdpZnkociksbj0obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoYD8ke3N9YCk7cmV0dXJuIGpvaW5Ib29rZWRBZGRyZXNzKGUsbix0KX07JGjNj19vbmNlLmVuY29kZUFkZHJlc3NIb29rKGVuY29kZUFkZHJlc3NIb29rKTtyKGVuY29kZUFkZHJlc3NIb29rKTtjb25zdCBkZWNvZGVBZGRyZXNzSG9vaz0oZSx0KT0+e2NvbnN0e2Jhc2VBZGRyZXNzOnMsaG9va0RhdGE6bn09c3BsaXRIb29rZWRBZGRyZXNzKGUsdCksZD0obmV3IFRleHREZWNvZGVyKS5kZWNvZGUobik7aWYoZCYmIWQuc3RhcnRzV2l0aChcIj9cIikpdGhyb3cgRXJyb3IoYEhvb2sgZGF0YSBkb2VzIG5vdCBzdGFydCB3aXRoICc/JzogJHtkfWApO2NvbnN0IGM9by5wYXJzZShkKSxhPXIoey4uLmN9KTtyZXR1cm4gcih7YmFzZUFkZHJlc3M6cyxxdWVyeTphfSl9OyRozY9fb25jZS5kZWNvZGVBZGRyZXNzSG9vayhkZWNvZGVBZGRyZXNzSG9vayk7cihkZWNvZGVBZGRyZXNzSG9vayk7Y29uc3Qgc3BsaXRIb29rZWRBZGRyZXNzPShlLG89MTAyNCk9Pntjb25zdHtwcmVmaXg6cyxieXRlczpufT1kZWNvZGVCZWNoMzIoZSxvKSxkPXQubGVuZ3RoO2xldCBjPTI1NTtmb3IobGV0IG89MDtvPGQ7bys9MSl7bGV0IHM9bltvXTtpZihvPT09ZC0xJiYoYz0xNSZzLHMmPTI0MCkscyE9PXRbb10pcmV0dXJuIHIoe2Jhc2VBZGRyZXNzOmUsaG9va0RhdGE6bmV3IFVpbnQ4QXJyYXl9KX1pZigwIT09Yyl0aHJvdyBUeXBlRXJyb3IoYFVuc3VwcG9ydGVkIGFkZHJlc3MgaG9vayB2ZXJzaW9uICR7Y31gKTtsZXQgYT0wO2ZvcihsZXQgZT0xO2U+PTA7ZS09MSl7Y29uc3Qgbz1uLmF0KC1lLTEpO2lmKHZvaWQgMD09PW8pdGhyb3cgVHlwZUVycm9yKGBDYW5ub3QgZ2V0IGJhc2UgYWRkcmVzcyBsZW5ndGggZnJvbSBieXRlICR7LWUtMX0gb2YgJHtuLmxlbmd0aH1gKTthPDw9OCxhfD1vfWNvbnN0IGk9YTtpZihpPm4ubGVuZ3RoLTItZCl0aHJvdyBUeXBlRXJyb3IoYEJhc2UgYWRkcmVzcyBsZW5ndGggMHgke2kudG9TdHJpbmcoMTYpfSBpcyBsb25nZXIgdGhhbiBzcGVjaW1lbiBsZW5ndGggJHtuLmxlbmd0aC0yLWR9YCk7Y29uc3QgaD1uLnN1YmFycmF5KGQsZCtpKSxnPWVuY29kZUJlY2gzMihzLGgsbyksbD1uLnN1YmFycmF5KGQraSwtMik7cmV0dXJuIHIoe2Jhc2VBZGRyZXNzOmcsaG9va0RhdGE6bH0pfTskaM2PX29uY2Uuc3BsaXRIb29rZWRBZGRyZXNzKHNwbGl0SG9va2VkQWRkcmVzcyk7cihzcGxpdEhvb2tlZEFkZHJlc3MpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiREVGQVVMVF9IT09LRURfQUREUkVTU19DSEFSX0xJTUlUIjpbIkRFRkFVTFRfSE9PS0VEX0FERFJFU1NfQ0hBUl9MSU1JVCJdLCJCQVNFX0FERFJFU1NfTEVOR1RIX0JZVEVTIjpbIkJBU0VfQUREUkVTU19MRU5HVEhfQllURVMiXSwiZGVjb2RlQmVjaDMyIjpbImRlY29kZUJlY2gzMiJdLCJlbmNvZGVCZWNoMzIiOlsiZW5jb2RlQmVjaDMyIl0sImpvaW5Ib29rZWRBZGRyZXNzIjpbImpvaW5Ib29rZWRBZGRyZXNzIl0sImVuY29kZUFkZHJlc3NIb29rIjpbImVuY29kZUFkZHJlc3NIb29rIl0sImRlY29kZUFkZHJlc3NIb29rIjpbImRlY29kZUFkZHJlc3NIb29rIl0sInNwbGl0SG9va2VkQWRkcmVzcyI6WyJzcGxpdEhvb2tlZEFkZHJlc3MiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAApD2yLB4YAAAeGAAAMgAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vYmluYXJ5LmpzeyJpbXBvcnRzIjpbIi4vdXRmOC5qcyIsIi4vdmFyaW50LmpzIl0sImV4cG9ydHMiOlsiQmluYXJ5UmVhZGVyIiwiQmluYXJ5V3JpdGVyIiwiV2lyZVR5cGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCB0LGkscyxlLG4scixoLG8sdSxhLGwscCxkLGYsYyx5LHg7JGjNj19pbXBvcnRzKFtbXCIuL3V0ZjguanNcIiwgW1tcInV0ZjhMZW5ndGhcIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dLFtcInV0ZjhSZWFkXCIsWyRozY9fYSA9PiAoaSA9ICRozY9fYSldXSxbXCJ1dGY4V3JpdGVcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dXV0sW1wiLi92YXJpbnQuanNcIiwgW1tcImludDY0VG9TdHJpbmdcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dLFtcInJlYWRJbnQzMlwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV0sW1wicmVhZFVJbnQzMlwiLFskaM2PX2EgPT4gKHIgPSAkaM2PX2EpXV0sW1widUludDY0VG9TdHJpbmdcIixbJGjNj19hID0+IChoID0gJGjNj19hKV1dLFtcInZhcmludDMycmVhZFwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV0sW1widmFyaW50NjRyZWFkXCIsWyRozY9fYSA9PiAodSA9ICRozY9fYSldXSxbXCJ3cml0ZVZhcmludDMyXCIsWyRozY9fYSA9PiAoYSA9ICRozY9fYSldXSxbXCJ3cml0ZVZhcmludDY0XCIsWyRozY9fYSA9PiAobCA9ICRozY9fYSldXSxbXCJpbnQ2NEZyb21TdHJpbmdcIixbJGjNj19hID0+IChwID0gJGjNj19hKV1dLFtcImludDY0TGVuZ3RoXCIsWyRozY9fYSA9PiAoZCA9ICRozY9fYSldXSxbXCJ3cml0ZUZpeGVkMzJcIixbJGjNj19hID0+IChmID0gJGjNj19hKV1dLFtcIndyaXRlQnl0ZVwiLFskaM2PX2EgPT4gKGMgPSAkaM2PX2EpXV0sW1wienpEZWNvZGVcIixbJGjNj19hID0+ICh5ID0gJGjNj19hKV1dLFtcInp6RW5jb2RlXCIsWyRozY9fYSA9PiAoeCA9ICRozY9fYSldXV1dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkY82PX1dpcmVUeXBlOyRozY9fbGl2ZS5XaXJlVHlwZSgkY82PX1dpcmVUeXBlKTshZnVuY3Rpb24odCl7dFt0LlZhcmludD0wXT1cIlZhcmludFwiLHRbdC5GaXhlZDY0PTFdPVwiRml4ZWQ2NFwiLHRbdC5CeXRlcz0yXT1cIkJ5dGVzXCIsdFt0LkZpeGVkMzI9NV09XCJGaXhlZDMyXCJ9KFdpcmVUeXBlfHwoV2lyZVR5cGU9e30pKTtjbGFzcyBCaW5hcnlSZWFkZXJ7YnVmO3Bvczt0eXBlO2xlbjthc3NlcnRCb3VuZHMoKXtpZih0aGlzLnBvcz50aGlzLmxlbil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInByZW1hdHVyZSBFT0ZcIil9Y29uc3RydWN0b3IodCl7dGhpcy5idWY9dD9uZXcgVWludDhBcnJheSh0KTpuZXcgVWludDhBcnJheSgwKSx0aGlzLnBvcz0wLHRoaXMudHlwZT0wLHRoaXMubGVuPXRoaXMuYnVmLmxlbmd0aH10YWcoKXtjb25zdCB0PXRoaXMudWludDMyKCksaT10Pj4+MyxzPTcmdDtpZihpPD0wfHxzPDB8fHM+NSl0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIHRhZzogZmllbGQgbm8gXCIraStcIiB3aXJlIHR5cGUgXCIrcyk7cmV0dXJuW2kscyx0XX1za2lwKHQpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXtpZih0aGlzLnBvcyt0PnRoaXMubGVuKXRocm93IEIodGhpcyx0KTt0aGlzLnBvcys9dH1lbHNlIGRve2lmKHRoaXMucG9zPj10aGlzLmxlbil0aHJvdyBCKHRoaXMpfXdoaWxlKDEyOCZ0aGlzLmJ1Zlt0aGlzLnBvcysrXSk7cmV0dXJuIHRoaXN9c2tpcFR5cGUodCl7c3dpdGNoKHQpe2Nhc2UgV2lyZVR5cGUuVmFyaW50OnRoaXMuc2tpcCgpO2JyZWFrO2Nhc2UgV2lyZVR5cGUuRml4ZWQ2NDp0aGlzLnNraXAoOCk7YnJlYWs7Y2FzZSBXaXJlVHlwZS5CeXRlczp0aGlzLnNraXAodGhpcy51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOmZvcig7NCE9KHQ9NyZ0aGlzLnVpbnQzMigpKTspdGhpcy5za2lwVHlwZSh0KTticmVhaztjYXNlIFdpcmVUeXBlLkZpeGVkMzI6dGhpcy5za2lwKDQpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJpbnZhbGlkIHdpcmUgdHlwZSBcIit0K1wiIGF0IG9mZnNldCBcIit0aGlzLnBvcyl9cmV0dXJuIHRoaXN9dWludDMyKCl7cmV0dXJuIG8uYmluZCh0aGlzKSgpfWludDMyKCl7cmV0dXJuIDB8dGhpcy51aW50MzIoKX1zaW50MzIoKXtjb25zdCB0PXRoaXMudWludDMyKCk7cmV0dXJuIHQlMj09MT8odCsxKS8tMjp0LzJ9Zml4ZWQzMigpe2NvbnN0IHQ9cih0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LHR9c2ZpeGVkMzIoKXtjb25zdCB0PW4odGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCx0fWludDY0KCl7Y29uc3RbdCxpXT11LmJpbmQodGhpcykoKTtyZXR1cm4gQmlnSW50KGUodCxpKSl9dWludDY0KCl7Y29uc3RbdCxpXT11LmJpbmQodGhpcykoKTtyZXR1cm4gQmlnSW50KGgodCxpKSl9c2ludDY0KCl7bGV0W3QsaV09dS5iaW5kKHRoaXMpKCk7cmV0dXJuW3QsaV09eSh0LGkpLEJpZ0ludChlKHQsaSkpfWZpeGVkNjQoKXtjb25zdCB0PXRoaXMuc2ZpeGVkMzIoKSxpPXRoaXMuc2ZpeGVkMzIoKTtyZXR1cm4gQmlnSW50KGgodCxpKSl9c2ZpeGVkNjQoKXtjb25zdCB0PXRoaXMuc2ZpeGVkMzIoKSxpPXRoaXMuc2ZpeGVkMzIoKTtyZXR1cm4gQmlnSW50KGUodCxpKSl9ZmxvYXQoKXt0aHJvdyBuZXcgRXJyb3IoXCJmbG9hdCBub3Qgc3VwcG9ydGVkXCIpfWRvdWJsZSgpe3Rocm93IG5ldyBFcnJvcihcImRvdWJsZSBub3Qgc3VwcG9ydGVkXCIpfWJvb2woKXtjb25zdFt0LGldPXUuYmluZCh0aGlzKSgpO3JldHVybiAwIT09dHx8MCE9PWl9Ynl0ZXMoKXtjb25zdCB0PXRoaXMudWludDMyKCksaT10aGlzLnBvcztyZXR1cm4gdGhpcy5wb3MrPXQsdGhpcy5hc3NlcnRCb3VuZHMoKSx0aGlzLmJ1Zi5zdWJhcnJheShpLGkrdCl9c3RyaW5nKCl7Y29uc3QgdD10aGlzLmJ5dGVzKCk7cmV0dXJuIGkodCwwLHQubGVuZ3RoKX19JGjNj19vbmNlLkJpbmFyeVJlYWRlcihCaW5hcnlSZWFkZXIpO2NsYXNzIHd7Zm47bGVuO3ZhbDtuZXh0O2NvbnN0cnVjdG9yKHQsaSxzKXt0aGlzLmZuPXQsdGhpcy5sZW49aSx0aGlzLnZhbD1zfXByb2NlZWQodCxpKXt0aGlzLmZuJiZ0aGlzLmZuKHRoaXMudmFsLHQsaSl9fWNsYXNzIGJ7aGVhZDt0YWlsO2xlbjtuZXh0O2NvbnN0cnVjdG9yKHQpe3RoaXMuaGVhZD10LmhlYWQsdGhpcy50YWlsPXQudGFpbCx0aGlzLmxlbj10Lmxlbix0aGlzLm5leHQ9dC5zdGF0ZXN9fWNsYXNzIEJpbmFyeVdyaXRlcntsZW49MDtoZWFkO3RhaWw7c3RhdGVzO2NvbnN0cnVjdG9yKCl7dGhpcy5oZWFkPW5ldyB3KG51bGwsMCwwKSx0aGlzLnRhaWw9dGhpcy5oZWFkLHRoaXMuc3RhdGVzPW51bGx9c3RhdGljIGNyZWF0ZSgpe3JldHVybiBuZXcgQmluYXJ5V3JpdGVyfXN0YXRpYyBhbGxvYyh0KXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9mdW5jdGlvbih0LGkscyl7Y29uc3QgZT1zfHw4MTkyLG49ZT4+PjE7bGV0IHI9bnVsbCxoPWU7cmV0dXJuIGZ1bmN0aW9uKHMpe2lmKHM8MXx8cz5uKXJldHVybiB0KHMpO2grcz5lJiYocj10KGUpLGg9MCk7Y29uc3Qgbz1pLmNhbGwocixoLGgrPXMpO3JldHVybiA3JmgmJihoPTErKDd8aCkpLG99fSgodD0+bmV3IFVpbnQ4QXJyYXkodCkpLFVpbnQ4QXJyYXkucHJvdG90eXBlLnN1YmFycmF5KSh0KTpuZXcgQXJyYXkodCl9X3B1c2godCxpLHMpe3JldHVybiB0aGlzLnRhaWw9dGhpcy50YWlsLm5leHQ9bmV3IHcodCxpLHMpLHRoaXMubGVuKz1pLHRoaXN9ZmluaXNoKCl7bGV0IHQ9dGhpcy5oZWFkLm5leHQsaT0wO2NvbnN0IHM9QmluYXJ5V3JpdGVyLmFsbG9jKHRoaXMubGVuKTtmb3IoO3Q7KXQucHJvY2VlZChzLGkpLGkrPXQubGVuLHQ9dC5uZXh0O3JldHVybiBzfWZvcmsoKXtyZXR1cm4gdGhpcy5zdGF0ZXM9bmV3IGIodGhpcyksdGhpcy5oZWFkPXRoaXMudGFpbD1uZXcgdyhudWxsLDAsMCksdGhpcy5sZW49MCx0aGlzfXJlc2V0KCl7cmV0dXJuIHRoaXMuc3RhdGVzPyh0aGlzLmhlYWQ9dGhpcy5zdGF0ZXMuaGVhZCx0aGlzLnRhaWw9dGhpcy5zdGF0ZXMudGFpbCx0aGlzLmxlbj10aGlzLnN0YXRlcy5sZW4sdGhpcy5zdGF0ZXM9dGhpcy5zdGF0ZXMubmV4dCk6KHRoaXMuaGVhZD10aGlzLnRhaWw9bmV3IHcobnVsbCwwLDApLHRoaXMubGVuPTApLHRoaXN9bGRlbGltKCl7Y29uc3QgdD10aGlzLmhlYWQsaT10aGlzLnRhaWwscz10aGlzLmxlbjtyZXR1cm4gdGhpcy5yZXNldCgpLnVpbnQzMihzKSxzJiYodGhpcy50YWlsLm5leHQ9dC5uZXh0LHRoaXMudGFpbD1pLHRoaXMubGVuKz1zKSx0aGlzfXRhZyh0LGkpe3JldHVybiB0aGlzLnVpbnQzMigodDw8M3xpKT4+PjApfXVpbnQzMih0KXtyZXR1cm4gdGhpcy5sZW4rPSh0aGlzLnRhaWw9dGhpcy50YWlsLm5leHQ9bmV3IHcoYSwodD4+Pj0wKTwxMjg/MTp0PDE2Mzg0PzI6dDwyMDk3MTUyPzM6dDwyNjg0MzU0NTY/NDo1LHQpKS5sZW4sdGhpc31pbnQzMih0KXtyZXR1cm4gdDwwP3RoaXMuX3B1c2gobCwxMCxwKHQudG9TdHJpbmcoKSkpOnRoaXMudWludDMyKHQpfXNpbnQzMih0KXtyZXR1cm4gdGhpcy51aW50MzIoKHQ8PDFedD4+MzEpPj4+MCl9aW50NjQodCl7Y29uc3R7bG86aSxoaTpzfT1wKHQudG9TdHJpbmcoKSk7cmV0dXJuIHRoaXMuX3B1c2gobCxkKGkscykse2xvOmksaGk6c30pfXVpbnQ2ND1CaW5hcnlXcml0ZXIucHJvdG90eXBlLmludDY0O3NpbnQ2NCh0KXtsZXR7bG86aSxoaTpzfT1wKHQudG9TdHJpbmcoKSk7cmV0dXJuW2ksc109eChpLHMpLHRoaXMuX3B1c2gobCxkKGkscykse2xvOmksaGk6c30pfWZpeGVkNjQodCl7Y29uc3R7bG86aSxoaTpzfT1wKHQudG9TdHJpbmcoKSk7cmV0dXJuIHRoaXMuX3B1c2goZiw0LGkpLl9wdXNoKGYsNCxzKX1zZml4ZWQ2ND1CaW5hcnlXcml0ZXIucHJvdG90eXBlLmZpeGVkNjQ7Ym9vbCh0KXtyZXR1cm4gdGhpcy5fcHVzaChjLDEsdD8xOjApfWZpeGVkMzIodCl7cmV0dXJuIHRoaXMuX3B1c2goZiw0LHQ+Pj4wKX1zZml4ZWQzMj1CaW5hcnlXcml0ZXIucHJvdG90eXBlLmZpeGVkMzI7ZmxvYXQodCl7dGhyb3cgbmV3IEVycm9yKFwiZmxvYXQgbm90IHN1cHBvcnRlZFwiK3QpfWRvdWJsZSh0KXt0aHJvdyBuZXcgRXJyb3IoXCJkb3VibGUgbm90IHN1cHBvcnRlZFwiK3QpfWJ5dGVzKHQpe2NvbnN0IGk9dC5sZW5ndGg+Pj4wO3JldHVybiBpP3RoaXMudWludDMyKGkpLl9wdXNoKGcsaSx0KTp0aGlzLl9wdXNoKGMsMSwwKX1zdHJpbmcoaSl7Y29uc3QgZT10KGkpO3JldHVybiBlP3RoaXMudWludDMyKGUpLl9wdXNoKHMsZSxpKTp0aGlzLl9wdXNoKGMsMSwwKX19JGjNj19vbmNlLkJpbmFyeVdyaXRlcihCaW5hcnlXcml0ZXIpO2Z1bmN0aW9uIGcodCxpLHMpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5KWkuc2V0KHQscyk7ZWxzZSBmb3IobGV0IGU9MDtlPHQubGVuZ3RoOysrZSlpW3MrZV09dFtlXX1mdW5jdGlvbiBCKHQsaSl7cmV0dXJuIFJhbmdlRXJyb3IoXCJpbmRleCBvdXQgb2YgcmFuZ2U6IFwiK3QucG9zK1wiICsgXCIrKGl8fDEpK1wiID4gXCIrdC5sZW4pfVxufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnsiV2lyZVR5cGUiOlsiV2lyZVR5cGUiLHRydWVdfSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkJpbmFyeVJlYWRlciI6WyJCaW5hcnlSZWFkZXIiXSwiQmluYXJ5V3JpdGVyIjpbIkJpbmFyeVdyaXRlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAB/I4WK8R0AAPEdAAA9AAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jaXJjbGUvY2N0cC92MS90eC5qc3siaW1wb3J0cyI6WyIuLi8uLi8uLi9iaW5hcnkuanMiLCIuLi8uLi8uLi9oZWxwZXJzLmpzIiwiQGVuZG8vYmFzZTY0IiwiLi4vLi4vLi4vanNvbi1zYWZlLmpzIl0sImV4cG9ydHMiOlsiTXNnRGVwb3NpdEZvckJ1cm4iLCJNc2dEZXBvc2l0Rm9yQnVyblJlc3BvbnNlIiwiTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyIiwiTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyUmVzcG9uc2UiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBuLHQsZSxvLGk7JGjNj19pbXBvcnRzKFtbXCIuLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Jhc2U2NFwiLCBbW1wiZGVjb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXSxbXCJlbmNvZGVCYXNlNjRcIixbJGjNj19hID0+IChpID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcigpe3JldHVybntmcm9tOlwiXCIsYW1vdW50OlwiXCIsZGVzdGluYXRpb25Eb21haW46MCxtaW50UmVjaXBpZW50Om5ldyBVaW50OEFycmF5LGJ1cm5Ub2tlbjpcIlwifX0gICAgICAgY29uc3QgTXNnRGVwb3NpdEZvckJ1cm49e3R5cGVVcmw6XCIvY2lyY2xlLmNjdHAudjEuTXNnRGVwb3NpdEZvckJ1cm5cIixlbmNvZGU6KG4sZT10LmNyZWF0ZSgpKT0+KFwiXCIhPT1uLmZyb20mJmUudWludDMyKDEwKS5zdHJpbmcobi5mcm9tKSxcIlwiIT09bi5hbW91bnQmJmUudWludDMyKDE4KS5zdHJpbmcobi5hbW91bnQpLDAhPT1uLmRlc3RpbmF0aW9uRG9tYWluJiZlLnVpbnQzMigyNCkudWludDMyKG4uZGVzdGluYXRpb25Eb21haW4pLDAhPT1uLm1pbnRSZWNpcGllbnQubGVuZ3RoJiZlLnVpbnQzMigzNCkuYnl0ZXMobi5taW50UmVjaXBpZW50KSxcIlwiIT09bi5idXJuVG9rZW4mJmUudWludDMyKDQyKS5zdHJpbmcobi5idXJuVG9rZW4pLGUpLGRlY29kZSh0LGUpe2NvbnN0IG89dCBpbnN0YW5jZW9mIG4/dDpuZXcgbih0KTtsZXQgaT12b2lkIDA9PT1lP28ubGVuOm8ucG9zK2U7Y29uc3Qgcz1yKCk7Zm9yKDtvLnBvczxpOyl7Y29uc3Qgbj1vLnVpbnQzMigpO3N3aXRjaChuPj4+Myl7Y2FzZSAxOnMuZnJvbT1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpzLmFtb3VudD1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpzLmRlc3RpbmF0aW9uRG9tYWluPW8udWludDMyKCk7YnJlYWs7Y2FzZSA0OnMubWludFJlY2lwaWVudD1vLmJ5dGVzKCk7YnJlYWs7Y2FzZSA1OnMuYnVyblRva2VuPW8uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmbil9fXJldHVybiBzfSxmcm9tSlNPTjpuPT4oe2Zyb206ZShuLmZyb20pP1N0cmluZyhuLmZyb20pOlwiXCIsYW1vdW50OmUobi5hbW91bnQpP1N0cmluZyhuLmFtb3VudCk6XCJcIixkZXN0aW5hdGlvbkRvbWFpbjplKG4uZGVzdGluYXRpb25Eb21haW4pP051bWJlcihuLmRlc3RpbmF0aW9uRG9tYWluKTowLG1pbnRSZWNpcGllbnQ6ZShuLm1pbnRSZWNpcGllbnQpP28obi5taW50UmVjaXBpZW50KTpuZXcgVWludDhBcnJheSxidXJuVG9rZW46ZShuLmJ1cm5Ub2tlbik/U3RyaW5nKG4uYnVyblRva2VuKTpcIlwifSksdG9KU09OKG4pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW4uZnJvbSYmKHQuZnJvbT1uLmZyb20pLHZvaWQgMCE9PW4uYW1vdW50JiYodC5hbW91bnQ9bi5hbW91bnQpLHZvaWQgMCE9PW4uZGVzdGluYXRpb25Eb21haW4mJih0LmRlc3RpbmF0aW9uRG9tYWluPU1hdGgucm91bmQobi5kZXN0aW5hdGlvbkRvbWFpbikpLHZvaWQgMCE9PW4ubWludFJlY2lwaWVudCYmKHQubWludFJlY2lwaWVudD1pKHZvaWQgMCE9PW4ubWludFJlY2lwaWVudD9uLm1pbnRSZWNpcGllbnQ6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1uLmJ1cm5Ub2tlbiYmKHQuYnVyblRva2VuPW4uYnVyblRva2VuKSx0fSxmcm9tUGFydGlhbChuKXtjb25zdCB0PXIoKTtyZXR1cm4gdC5mcm9tPW4uZnJvbT8/XCJcIix0LmFtb3VudD1uLmFtb3VudD8/XCJcIix0LmRlc3RpbmF0aW9uRG9tYWluPW4uZGVzdGluYXRpb25Eb21haW4/PzAsdC5taW50UmVjaXBpZW50PW4ubWludFJlY2lwaWVudD8/bmV3IFVpbnQ4QXJyYXksdC5idXJuVG9rZW49bi5idXJuVG9rZW4/P1wiXCIsdH0sZnJvbVByb3RvTXNnOm49Pk1zZ0RlcG9zaXRGb3JCdXJuLmRlY29kZShuLnZhbHVlKSx0b1Byb3RvOm49Pk1zZ0RlcG9zaXRGb3JCdXJuLmVuY29kZShuKS5maW5pc2goKSx0b1Byb3RvTXNnOm49Pih7dHlwZVVybDpcIi9jaXJjbGUuY2N0cC52MS5Nc2dEZXBvc2l0Rm9yQnVyblwiLHZhbHVlOk1zZ0RlcG9zaXRGb3JCdXJuLmVuY29kZShuKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnRGVwb3NpdEZvckJ1cm4oTXNnRGVwb3NpdEZvckJ1cm4pO2Z1bmN0aW9uIHMoKXtyZXR1cm57bm9uY2U6QmlnSW50KDApfX1jb25zdCBNc2dEZXBvc2l0Rm9yQnVyblJlc3BvbnNlPXt0eXBlVXJsOlwiL2NpcmNsZS5jY3RwLnYxLk1zZ0RlcG9zaXRGb3JCdXJuUmVzcG9uc2VcIixlbmNvZGU6KG4sZT10LmNyZWF0ZSgpKT0+KG4ubm9uY2UhPT1CaWdJbnQoMCkmJmUudWludDMyKDgpLnVpbnQ2NChuLm5vbmNlKSxlKSxkZWNvZGUodCxlKXtjb25zdCBvPXQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4odCk7bGV0IGk9dm9pZCAwPT09ZT9vLmxlbjpvLnBvcytlO2NvbnN0IHI9cygpO2Zvcig7by5wb3M8aTspe2NvbnN0IG49by51aW50MzIoKTtpZihuPj4+Mz09MSlyLm5vbmNlPW8udWludDY0KCk7ZWxzZSBvLnNraXBUeXBlKDcmbil9cmV0dXJuIHJ9LGZyb21KU09OOm49Pih7bm9uY2U6ZShuLm5vbmNlKT9CaWdJbnQobi5ub25jZS50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04obil7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09bi5ub25jZSYmKHQubm9uY2U9KG4ubm9uY2V8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdH0sZnJvbVBhcnRpYWwobil7Y29uc3QgdD1zKCk7cmV0dXJuIHQubm9uY2U9dm9pZCAwIT09bi5ub25jZSYmbnVsbCE9PW4ubm9uY2U/QmlnSW50KG4ubm9uY2UudG9TdHJpbmcoKSk6QmlnSW50KDApLHR9LGZyb21Qcm90b01zZzpuPT5Nc2dEZXBvc2l0Rm9yQnVyblJlc3BvbnNlLmRlY29kZShuLnZhbHVlKSx0b1Byb3RvOm49Pk1zZ0RlcG9zaXRGb3JCdXJuUmVzcG9uc2UuZW5jb2RlKG4pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bj0+KHt0eXBlVXJsOlwiL2NpcmNsZS5jY3RwLnYxLk1zZ0RlcG9zaXRGb3JCdXJuUmVzcG9uc2VcIix2YWx1ZTpNc2dEZXBvc2l0Rm9yQnVyblJlc3BvbnNlLmVuY29kZShuKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnRGVwb3NpdEZvckJ1cm5SZXNwb25zZShNc2dEZXBvc2l0Rm9yQnVyblJlc3BvbnNlKTtmdW5jdGlvbiBhKCl7cmV0dXJue2Zyb206XCJcIixhbW91bnQ6XCJcIixkZXN0aW5hdGlvbkRvbWFpbjowLG1pbnRSZWNpcGllbnQ6bmV3IFVpbnQ4QXJyYXksYnVyblRva2VuOlwiXCIsZGVzdGluYXRpb25DYWxsZXI6bmV3IFVpbnQ4QXJyYXl9fWNvbnN0IE1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlcj17dHlwZVVybDpcIi9jaXJjbGUuY2N0cC52MS5Nc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXJcIixlbmNvZGU6KG4sZT10LmNyZWF0ZSgpKT0+KFwiXCIhPT1uLmZyb20mJmUudWludDMyKDEwKS5zdHJpbmcobi5mcm9tKSxcIlwiIT09bi5hbW91bnQmJmUudWludDMyKDE4KS5zdHJpbmcobi5hbW91bnQpLDAhPT1uLmRlc3RpbmF0aW9uRG9tYWluJiZlLnVpbnQzMigyNCkudWludDMyKG4uZGVzdGluYXRpb25Eb21haW4pLDAhPT1uLm1pbnRSZWNpcGllbnQubGVuZ3RoJiZlLnVpbnQzMigzNCkuYnl0ZXMobi5taW50UmVjaXBpZW50KSxcIlwiIT09bi5idXJuVG9rZW4mJmUudWludDMyKDQyKS5zdHJpbmcobi5idXJuVG9rZW4pLDAhPT1uLmRlc3RpbmF0aW9uQ2FsbGVyLmxlbmd0aCYmZS51aW50MzIoNTApLmJ5dGVzKG4uZGVzdGluYXRpb25DYWxsZXIpLGUpLGRlY29kZSh0LGUpe2NvbnN0IG89dCBpbnN0YW5jZW9mIG4/dDpuZXcgbih0KTtsZXQgaT12b2lkIDA9PT1lP28ubGVuOm8ucG9zK2U7Y29uc3Qgcj1hKCk7Zm9yKDtvLnBvczxpOyl7Y29uc3Qgbj1vLnVpbnQzMigpO3N3aXRjaChuPj4+Myl7Y2FzZSAxOnIuZnJvbT1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpyLmFtb3VudD1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpyLmRlc3RpbmF0aW9uRG9tYWluPW8udWludDMyKCk7YnJlYWs7Y2FzZSA0OnIubWludFJlY2lwaWVudD1vLmJ5dGVzKCk7YnJlYWs7Y2FzZSA1OnIuYnVyblRva2VuPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSA2OnIuZGVzdGluYXRpb25DYWxsZXI9by5ieXRlcygpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3Jm4pfX1yZXR1cm4gcn0sZnJvbUpTT046bj0+KHtmcm9tOmUobi5mcm9tKT9TdHJpbmcobi5mcm9tKTpcIlwiLGFtb3VudDplKG4uYW1vdW50KT9TdHJpbmcobi5hbW91bnQpOlwiXCIsZGVzdGluYXRpb25Eb21haW46ZShuLmRlc3RpbmF0aW9uRG9tYWluKT9OdW1iZXIobi5kZXN0aW5hdGlvbkRvbWFpbik6MCxtaW50UmVjaXBpZW50OmUobi5taW50UmVjaXBpZW50KT9vKG4ubWludFJlY2lwaWVudCk6bmV3IFVpbnQ4QXJyYXksYnVyblRva2VuOmUobi5idXJuVG9rZW4pP1N0cmluZyhuLmJ1cm5Ub2tlbik6XCJcIixkZXN0aW5hdGlvbkNhbGxlcjplKG4uZGVzdGluYXRpb25DYWxsZXIpP28obi5kZXN0aW5hdGlvbkNhbGxlcik6bmV3IFVpbnQ4QXJyYXl9KSx0b0pTT04obil7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09bi5mcm9tJiYodC5mcm9tPW4uZnJvbSksdm9pZCAwIT09bi5hbW91bnQmJih0LmFtb3VudD1uLmFtb3VudCksdm9pZCAwIT09bi5kZXN0aW5hdGlvbkRvbWFpbiYmKHQuZGVzdGluYXRpb25Eb21haW49TWF0aC5yb3VuZChuLmRlc3RpbmF0aW9uRG9tYWluKSksdm9pZCAwIT09bi5taW50UmVjaXBpZW50JiYodC5taW50UmVjaXBpZW50PWkodm9pZCAwIT09bi5taW50UmVjaXBpZW50P24ubWludFJlY2lwaWVudDpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PW4uYnVyblRva2VuJiYodC5idXJuVG9rZW49bi5idXJuVG9rZW4pLHZvaWQgMCE9PW4uZGVzdGluYXRpb25DYWxsZXImJih0LmRlc3RpbmF0aW9uQ2FsbGVyPWkodm9pZCAwIT09bi5kZXN0aW5hdGlvbkNhbGxlcj9uLmRlc3RpbmF0aW9uQ2FsbGVyOm5ldyBVaW50OEFycmF5KSksdH0sZnJvbVBhcnRpYWwobil7Y29uc3QgdD1hKCk7cmV0dXJuIHQuZnJvbT1uLmZyb20/P1wiXCIsdC5hbW91bnQ9bi5hbW91bnQ/P1wiXCIsdC5kZXN0aW5hdGlvbkRvbWFpbj1uLmRlc3RpbmF0aW9uRG9tYWluPz8wLHQubWludFJlY2lwaWVudD1uLm1pbnRSZWNpcGllbnQ/P25ldyBVaW50OEFycmF5LHQuYnVyblRva2VuPW4uYnVyblRva2VuPz9cIlwiLHQuZGVzdGluYXRpb25DYWxsZXI9bi5kZXN0aW5hdGlvbkNhbGxlcj8/bmV3IFVpbnQ4QXJyYXksdH0sZnJvbVByb3RvTXNnOm49Pk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlci5kZWNvZGUobi52YWx1ZSksdG9Qcm90bzpuPT5Nc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXIuZW5jb2RlKG4pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bj0+KHt0eXBlVXJsOlwiL2NpcmNsZS5jY3RwLnYxLk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlclwiLHZhbHVlOk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlci5lbmNvZGUobikuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlcihNc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXIpO2Z1bmN0aW9uIGMoKXtyZXR1cm57bm9uY2U6QmlnSW50KDApfX1jb25zdCBNc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXJSZXNwb25zZT17dHlwZVVybDpcIi9jaXJjbGUuY2N0cC52MS5Nc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXJSZXNwb25zZVwiLGVuY29kZToobixlPXQuY3JlYXRlKCkpPT4obi5ub25jZSE9PUJpZ0ludCgwKSYmZS51aW50MzIoOCkudWludDY0KG4ubm9uY2UpLGUpLGRlY29kZSh0LGUpe2NvbnN0IG89dCBpbnN0YW5jZW9mIG4/dDpuZXcgbih0KTtsZXQgaT12b2lkIDA9PT1lP28ubGVuOm8ucG9zK2U7Y29uc3Qgcj1jKCk7Zm9yKDtvLnBvczxpOyl7Y29uc3Qgbj1vLnVpbnQzMigpO2lmKG4+Pj4zPT0xKXIubm9uY2U9by51aW50NjQoKTtlbHNlIG8uc2tpcFR5cGUoNyZuKX1yZXR1cm4gcn0sZnJvbUpTT046bj0+KHtub25jZTplKG4ubm9uY2UpP0JpZ0ludChuLm5vbmNlLnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihuKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1uLm5vbmNlJiYodC5ub25jZT0obi5ub25jZXx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChuKXtjb25zdCB0PWMoKTtyZXR1cm4gdC5ub25jZT12b2lkIDAhPT1uLm5vbmNlJiZudWxsIT09bi5ub25jZT9CaWdJbnQobi5ub25jZS50b1N0cmluZygpKTpCaWdJbnQoMCksdH0sZnJvbVByb3RvTXNnOm49Pk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlclJlc3BvbnNlLmRlY29kZShuLnZhbHVlKSx0b1Byb3RvOm49Pk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlclJlc3BvbnNlLmVuY29kZShuKS5maW5pc2goKSx0b1Byb3RvTXNnOm49Pih7dHlwZVVybDpcIi9jaXJjbGUuY2N0cC52MS5Nc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXJSZXNwb25zZVwiLHZhbHVlOk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlclJlc3BvbnNlLmVuY29kZShuKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyUmVzcG9uc2UoTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyUmVzcG9uc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiTXNnRGVwb3NpdEZvckJ1cm4iOlsiTXNnRGVwb3NpdEZvckJ1cm4iXSwiTXNnRGVwb3NpdEZvckJ1cm5SZXNwb25zZSI6WyJNc2dEZXBvc2l0Rm9yQnVyblJlc3BvbnNlIl0sIk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlciI6WyJNc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXIiXSwiTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyUmVzcG9uc2UiOlsiTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyUmVzcG9uc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAMnRNsaYnAACmJwAARAAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2JhbmsvdjFiZXRhMS9iYW5rLmpzeyJpbXBvcnRzIjpbIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzIiwiLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIkRlbm9tVW5pdCIsIklucHV0IiwiTWV0YWRhdGEiLCJPdXRwdXQiLCJQYXJhbXMiLCJTZW5kRW5hYmxlZCIsIlN1cHBseSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsbixvLHM7JGjNj19pbXBvcnRzKFtbXCIuLi8uLi9iYXNlL3YxYmV0YTEvY29pbi5qc1wiLCBbW1wiQ29pblwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAocyA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgUGFyYW1zPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUGFyYW1zXCIsZW5jb2RlKGUsbj1vLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLnNlbmRFbmFibGVkKVNlbmRFbmFibGVkLmVuY29kZShvLG4udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiEwPT09ZS5kZWZhdWx0U2VuZEVuYWJsZWQmJm4udWludDMyKDE2KS5ib29sKGUuZGVmYXVsdFNlbmRFbmFibGVkKSxufSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHQ9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IGE9e3NlbmRFbmFibGVkOltdLGRlZmF1bHRTZW5kRW5hYmxlZDohMX07Zm9yKDtzLnBvczx0Oyl7Y29uc3QgZT1zLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEuc2VuZEVuYWJsZWQucHVzaChTZW5kRW5hYmxlZC5kZWNvZGUocyxzLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOmEuZGVmYXVsdFNlbmRFbmFibGVkPXMuYm9vbCgpO2JyZWFrO2RlZmF1bHQ6cy5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHtzZW5kRW5hYmxlZDpBcnJheS5pc0FycmF5KGU/LnNlbmRFbmFibGVkKT9lLnNlbmRFbmFibGVkLm1hcCgoZT0+U2VuZEVuYWJsZWQuZnJvbUpTT04oZSkpKTpbXSxkZWZhdWx0U2VuZEVuYWJsZWQ6ISFzKGUuZGVmYXVsdFNlbmRFbmFibGVkKSYmQm9vbGVhbihlLmRlZmF1bHRTZW5kRW5hYmxlZCl9KSx0b0pTT04oZSl7Y29uc3Qgbj17fTtyZXR1cm4gZS5zZW5kRW5hYmxlZD9uLnNlbmRFbmFibGVkPWUuc2VuZEVuYWJsZWQubWFwKChlPT5lP1NlbmRFbmFibGVkLnRvSlNPTihlKTp2b2lkIDApKTpuLnNlbmRFbmFibGVkPVtdLHZvaWQgMCE9PWUuZGVmYXVsdFNlbmRFbmFibGVkJiYobi5kZWZhdWx0U2VuZEVuYWJsZWQ9ZS5kZWZhdWx0U2VuZEVuYWJsZWQpLG59LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG49e3NlbmRFbmFibGVkOltdLGRlZmF1bHRTZW5kRW5hYmxlZDohMX07cmV0dXJuIG4uc2VuZEVuYWJsZWQ9ZS5zZW5kRW5hYmxlZD8ubWFwKChlPT5TZW5kRW5hYmxlZC5mcm9tUGFydGlhbChlKSkpfHxbXSxuLmRlZmF1bHRTZW5kRW5hYmxlZD1lLmRlZmF1bHRTZW5kRW5hYmxlZD8/ITEsbn0sZnJvbVByb3RvTXNnOmU9PlBhcmFtcy5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5QYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUGFyYW1zXCIsdmFsdWU6UGFyYW1zLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUGFyYW1zKFBhcmFtcyk7Y29uc3QgU2VuZEVuYWJsZWQ9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5TZW5kRW5hYmxlZFwiLGVuY29kZTooZSxuPW8uY3JlYXRlKCkpPT4oXCJcIiE9PWUuZGVub20mJm4udWludDMyKDEwKS5zdHJpbmcoZS5kZW5vbSksITA9PT1lLmVuYWJsZWQmJm4udWludDMyKDE2KS5ib29sKGUuZW5hYmxlZCksbiksZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCB0PXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCBhPXtkZW5vbTpcIlwiLGVuYWJsZWQ6ITF9O2Zvcig7cy5wb3M8dDspe2NvbnN0IGU9cy51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLmRlbm9tPXMuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmEuZW5hYmxlZD1zLmJvb2woKTticmVhaztkZWZhdWx0OnMuc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7ZGVub206cyhlLmRlbm9tKT9TdHJpbmcoZS5kZW5vbSk6XCJcIixlbmFibGVkOiEhcyhlLmVuYWJsZWQpJiZCb29sZWFuKGUuZW5hYmxlZCl9KSx0b0pTT04oZSl7Y29uc3Qgbj17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZW5vbSYmKG4uZGVub209ZS5kZW5vbSksdm9pZCAwIT09ZS5lbmFibGVkJiYobi5lbmFibGVkPWUuZW5hYmxlZCksbn0sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbj17ZGVub206XCJcIixlbmFibGVkOiExfTtyZXR1cm4gbi5kZW5vbT1lLmRlbm9tPz9cIlwiLG4uZW5hYmxlZD1lLmVuYWJsZWQ/PyExLG59LGZyb21Qcm90b01zZzplPT5TZW5kRW5hYmxlZC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5TZW5kRW5hYmxlZC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5TZW5kRW5hYmxlZFwiLHZhbHVlOlNlbmRFbmFibGVkLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuU2VuZEVuYWJsZWQoU2VuZEVuYWJsZWQpO2NvbnN0IElucHV0PXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuSW5wdXRcIixlbmNvZGUobixzPW8uY3JlYXRlKCkpe1wiXCIhPT1uLmFkZHJlc3MmJnMudWludDMyKDEwKS5zdHJpbmcobi5hZGRyZXNzKTtmb3IoY29uc3QgbyBvZiBuLmNvaW5zKWUuZW5jb2RlKG8scy51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHN9LGRlY29kZShvLHMpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIG4/bzpuZXcgbihvKTtsZXQgYT12b2lkIDA9PT1zP3QubGVuOnQucG9zK3M7Y29uc3Qgcj17YWRkcmVzczpcIlwiLGNvaW5zOltdfTtmb3IoO3QucG9zPGE7KXtjb25zdCBuPXQudWludDMyKCk7c3dpdGNoKG4+Pj4zKXtjYXNlIDE6ci5hZGRyZXNzPXQuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnIuY29pbnMucHVzaChlLmRlY29kZSh0LHQudWludDMyKCkpKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZuKX19cmV0dXJuIHJ9LGZyb21KU09OOm49Pih7YWRkcmVzczpzKG4uYWRkcmVzcyk/U3RyaW5nKG4uYWRkcmVzcyk6XCJcIixjb2luczpBcnJheS5pc0FycmF5KG4/LmNvaW5zKT9uLmNvaW5zLm1hcCgobj0+ZS5mcm9tSlNPTihuKSkpOltdfSksdG9KU09OKG4pe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PW4uYWRkcmVzcyYmKG8uYWRkcmVzcz1uLmFkZHJlc3MpLG4uY29pbnM/by5jb2lucz1uLmNvaW5zLm1hcCgobj0+bj9lLnRvSlNPTihuKTp2b2lkIDApKTpvLmNvaW5zPVtdLG99LGZyb21QYXJ0aWFsKG4pe2NvbnN0IG89e2FkZHJlc3M6XCJcIixjb2luczpbXX07cmV0dXJuIG8uYWRkcmVzcz1uLmFkZHJlc3M/P1wiXCIsby5jb2lucz1uLmNvaW5zPy5tYXAoKG49PmUuZnJvbVBhcnRpYWwobikpKXx8W10sb30sZnJvbVByb3RvTXNnOmU9PklucHV0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PklucHV0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLklucHV0XCIsdmFsdWU6SW5wdXQuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5JbnB1dChJbnB1dCk7Y29uc3QgT3V0cHV0PXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuT3V0cHV0XCIsZW5jb2RlKG4scz1vLmNyZWF0ZSgpKXtcIlwiIT09bi5hZGRyZXNzJiZzLnVpbnQzMigxMCkuc3RyaW5nKG4uYWRkcmVzcyk7Zm9yKGNvbnN0IG8gb2Ygbi5jb2lucyllLmVuY29kZShvLHMudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBzfSxkZWNvZGUobyxzKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBuP286bmV3IG4obyk7bGV0IGE9dm9pZCAwPT09cz90Lmxlbjp0LnBvcytzO2NvbnN0IHI9e2FkZHJlc3M6XCJcIixjb2luczpbXX07Zm9yKDt0LnBvczxhOyl7Y29uc3Qgbj10LnVpbnQzMigpO3N3aXRjaChuPj4+Myl7Y2FzZSAxOnIuYWRkcmVzcz10LnN0cmluZygpO2JyZWFrO2Nhc2UgMjpyLmNvaW5zLnB1c2goZS5kZWNvZGUodCx0LnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmbil9fXJldHVybiByfSxmcm9tSlNPTjpuPT4oe2FkZHJlc3M6cyhuLmFkZHJlc3MpP1N0cmluZyhuLmFkZHJlc3MpOlwiXCIsY29pbnM6QXJyYXkuaXNBcnJheShuPy5jb2lucyk/bi5jb2lucy5tYXAoKG49PmUuZnJvbUpTT04obikpKTpbXX0pLHRvSlNPTihuKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1uLmFkZHJlc3MmJihvLmFkZHJlc3M9bi5hZGRyZXNzKSxuLmNvaW5zP28uY29pbnM9bi5jb2lucy5tYXAoKG49Pm4/ZS50b0pTT04obik6dm9pZCAwKSk6by5jb2lucz1bXSxvfSxmcm9tUGFydGlhbChuKXtjb25zdCBvPXthZGRyZXNzOlwiXCIsY29pbnM6W119O3JldHVybiBvLmFkZHJlc3M9bi5hZGRyZXNzPz9cIlwiLG8uY29pbnM9bi5jb2lucz8ubWFwKChuPT5lLmZyb21QYXJ0aWFsKG4pKSl8fFtdLG99LGZyb21Qcm90b01zZzplPT5PdXRwdXQuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+T3V0cHV0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLk91dHB1dFwiLHZhbHVlOk91dHB1dC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk91dHB1dChPdXRwdXQpO2NvbnN0IFN1cHBseT17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlN1cHBseVwiLGVuY29kZShuLHM9by5jcmVhdGUoKSl7Zm9yKGNvbnN0IG8gb2Ygbi50b3RhbCllLmVuY29kZShvLHMudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBzfSxkZWNvZGUobyxzKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBuP286bmV3IG4obyk7bGV0IGE9dm9pZCAwPT09cz90Lmxlbjp0LnBvcytzO2NvbnN0IHI9eyR0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuU3VwcGx5XCIsdG90YWw6W119O2Zvcig7dC5wb3M8YTspe2NvbnN0IG49dC51aW50MzIoKTtpZihuPj4+Mz09MSlyLnRvdGFsLnB1c2goZS5kZWNvZGUodCx0LnVpbnQzMigpKSk7ZWxzZSB0LnNraXBUeXBlKDcmbil9cmV0dXJuIHJ9LGZyb21KU09OOm49Pih7dG90YWw6QXJyYXkuaXNBcnJheShuPy50b3RhbCk/bi50b3RhbC5tYXAoKG49PmUuZnJvbUpTT04obikpKTpbXX0pLHRvSlNPTihuKXtjb25zdCBvPXt9O3JldHVybiBuLnRvdGFsP28udG90YWw9bi50b3RhbC5tYXAoKG49Pm4/ZS50b0pTT04obik6dm9pZCAwKSk6by50b3RhbD1bXSxvfSxmcm9tUGFydGlhbChuKXtjb25zdCBvPXskdHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlN1cHBseVwiLHRvdGFsOltdfTtyZXR1cm4gby50b3RhbD1uLnRvdGFsPy5tYXAoKG49PmUuZnJvbVBhcnRpYWwobikpKXx8W10sb30sZnJvbVByb3RvTXNnOmU9PlN1cHBseS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5TdXBwbHkuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuU3VwcGx5XCIsdmFsdWU6U3VwcGx5LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuU3VwcGx5KFN1cHBseSk7Y29uc3QgRGVub21Vbml0PXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuRGVub21Vbml0XCIsZW5jb2RlKGUsbj1vLmNyZWF0ZSgpKXtcIlwiIT09ZS5kZW5vbSYmbi51aW50MzIoMTApLnN0cmluZyhlLmRlbm9tKSwwIT09ZS5leHBvbmVudCYmbi51aW50MzIoMTYpLnVpbnQzMihlLmV4cG9uZW50KTtmb3IoY29uc3QgbyBvZiBlLmFsaWFzZXMpbi51aW50MzIoMjYpLnN0cmluZyhvKTtyZXR1cm4gbn0sZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCB0PXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCBhPXtkZW5vbTpcIlwiLGV4cG9uZW50OjAsYWxpYXNlczpbXX07Zm9yKDtzLnBvczx0Oyl7Y29uc3QgZT1zLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEuZGVub209cy5zdHJpbmcoKTticmVhaztjYXNlIDI6YS5leHBvbmVudD1zLnVpbnQzMigpO2JyZWFrO2Nhc2UgMzphLmFsaWFzZXMucHVzaChzLnN0cmluZygpKTticmVhaztkZWZhdWx0OnMuc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7ZGVub206cyhlLmRlbm9tKT9TdHJpbmcoZS5kZW5vbSk6XCJcIixleHBvbmVudDpzKGUuZXhwb25lbnQpP051bWJlcihlLmV4cG9uZW50KTowLGFsaWFzZXM6QXJyYXkuaXNBcnJheShlPy5hbGlhc2VzKT9lLmFsaWFzZXMubWFwKChlPT5TdHJpbmcoZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCBuPXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbm9tJiYobi5kZW5vbT1lLmRlbm9tKSx2b2lkIDAhPT1lLmV4cG9uZW50JiYobi5leHBvbmVudD1NYXRoLnJvdW5kKGUuZXhwb25lbnQpKSxlLmFsaWFzZXM/bi5hbGlhc2VzPWUuYWxpYXNlcy5tYXAoKGU9PmUpKTpuLmFsaWFzZXM9W10sbn0sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbj17ZGVub206XCJcIixleHBvbmVudDowLGFsaWFzZXM6W119O3JldHVybiBuLmRlbm9tPWUuZGVub20/P1wiXCIsbi5leHBvbmVudD1lLmV4cG9uZW50Pz8wLG4uYWxpYXNlcz1lLmFsaWFzZXM/Lm1hcCgoZT0+ZSkpfHxbXSxufSxmcm9tUHJvdG9Nc2c6ZT0+RGVub21Vbml0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkRlbm9tVW5pdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5EZW5vbVVuaXRcIix2YWx1ZTpEZW5vbVVuaXQuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5EZW5vbVVuaXQoRGVub21Vbml0KTtjb25zdCBNZXRhZGF0YT17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLk1ldGFkYXRhXCIsZW5jb2RlKGUsbj1vLmNyZWF0ZSgpKXtcIlwiIT09ZS5kZXNjcmlwdGlvbiYmbi51aW50MzIoMTApLnN0cmluZyhlLmRlc2NyaXB0aW9uKTtmb3IoY29uc3QgbyBvZiBlLmRlbm9tVW5pdHMpRGVub21Vbml0LmVuY29kZShvLG4udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVyblwiXCIhPT1lLmJhc2UmJm4udWludDMyKDI2KS5zdHJpbmcoZS5iYXNlKSxcIlwiIT09ZS5kaXNwbGF5JiZuLnVpbnQzMigzNCkuc3RyaW5nKGUuZGlzcGxheSksXCJcIiE9PWUubmFtZSYmbi51aW50MzIoNDIpLnN0cmluZyhlLm5hbWUpLFwiXCIhPT1lLnN5bWJvbCYmbi51aW50MzIoNTApLnN0cmluZyhlLnN5bWJvbCksXCJcIiE9PWUudXJpJiZuLnVpbnQzMig1OCkuc3RyaW5nKGUudXJpKSxcIlwiIT09ZS51cmlIYXNoJiZuLnVpbnQzMig2Nikuc3RyaW5nKGUudXJpSGFzaCksbn0sZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCB0PXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCBhPXtkZXNjcmlwdGlvbjpcIlwiLGRlbm9tVW5pdHM6W10sYmFzZTpcIlwiLGRpc3BsYXk6XCJcIixuYW1lOlwiXCIsc3ltYm9sOlwiXCIsdXJpOlwiXCIsdXJpSGFzaDpcIlwifTtmb3IoO3MucG9zPHQ7KXtjb25zdCBlPXMudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS5kZXNjcmlwdGlvbj1zLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLmRlbm9tVW5pdHMucHVzaChEZW5vbVVuaXQuZGVjb2RlKHMscy51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMzphLmJhc2U9cy5zdHJpbmcoKTticmVhaztjYXNlIDQ6YS5kaXNwbGF5PXMuc3RyaW5nKCk7YnJlYWs7Y2FzZSA1OmEubmFtZT1zLnN0cmluZygpO2JyZWFrO2Nhc2UgNjphLnN5bWJvbD1zLnN0cmluZygpO2JyZWFrO2Nhc2UgNzphLnVyaT1zLnN0cmluZygpO2JyZWFrO2Nhc2UgODphLnVyaUhhc2g9cy5zdHJpbmcoKTticmVhaztkZWZhdWx0OnMuc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7ZGVzY3JpcHRpb246cyhlLmRlc2NyaXB0aW9uKT9TdHJpbmcoZS5kZXNjcmlwdGlvbik6XCJcIixkZW5vbVVuaXRzOkFycmF5LmlzQXJyYXkoZT8uZGVub21Vbml0cyk/ZS5kZW5vbVVuaXRzLm1hcCgoZT0+RGVub21Vbml0LmZyb21KU09OKGUpKSk6W10sYmFzZTpzKGUuYmFzZSk/U3RyaW5nKGUuYmFzZSk6XCJcIixkaXNwbGF5OnMoZS5kaXNwbGF5KT9TdHJpbmcoZS5kaXNwbGF5KTpcIlwiLG5hbWU6cyhlLm5hbWUpP1N0cmluZyhlLm5hbWUpOlwiXCIsc3ltYm9sOnMoZS5zeW1ib2wpP1N0cmluZyhlLnN5bWJvbCk6XCJcIix1cmk6cyhlLnVyaSk/U3RyaW5nKGUudXJpKTpcIlwiLHVyaUhhc2g6cyhlLnVyaUhhc2gpP1N0cmluZyhlLnVyaUhhc2gpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbj17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZXNjcmlwdGlvbiYmKG4uZGVzY3JpcHRpb249ZS5kZXNjcmlwdGlvbiksZS5kZW5vbVVuaXRzP24uZGVub21Vbml0cz1lLmRlbm9tVW5pdHMubWFwKChlPT5lP0Rlbm9tVW5pdC50b0pTT04oZSk6dm9pZCAwKSk6bi5kZW5vbVVuaXRzPVtdLHZvaWQgMCE9PWUuYmFzZSYmKG4uYmFzZT1lLmJhc2UpLHZvaWQgMCE9PWUuZGlzcGxheSYmKG4uZGlzcGxheT1lLmRpc3BsYXkpLHZvaWQgMCE9PWUubmFtZSYmKG4ubmFtZT1lLm5hbWUpLHZvaWQgMCE9PWUuc3ltYm9sJiYobi5zeW1ib2w9ZS5zeW1ib2wpLHZvaWQgMCE9PWUudXJpJiYobi51cmk9ZS51cmkpLHZvaWQgMCE9PWUudXJpSGFzaCYmKG4udXJpSGFzaD1lLnVyaUhhc2gpLG59LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG49e2Rlc2NyaXB0aW9uOlwiXCIsZGVub21Vbml0czpbXSxiYXNlOlwiXCIsZGlzcGxheTpcIlwiLG5hbWU6XCJcIixzeW1ib2w6XCJcIix1cmk6XCJcIix1cmlIYXNoOlwiXCJ9O3JldHVybiBuLmRlc2NyaXB0aW9uPWUuZGVzY3JpcHRpb24/P1wiXCIsbi5kZW5vbVVuaXRzPWUuZGVub21Vbml0cz8ubWFwKChlPT5EZW5vbVVuaXQuZnJvbVBhcnRpYWwoZSkpKXx8W10sbi5iYXNlPWUuYmFzZT8/XCJcIixuLmRpc3BsYXk9ZS5kaXNwbGF5Pz9cIlwiLG4ubmFtZT1lLm5hbWU/P1wiXCIsbi5zeW1ib2w9ZS5zeW1ib2w/P1wiXCIsbi51cmk9ZS51cmk/P1wiXCIsbi51cmlIYXNoPWUudXJpSGFzaD8/XCJcIixufSxmcm9tUHJvdG9Nc2c6ZT0+TWV0YWRhdGEuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TWV0YWRhdGEuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuTWV0YWRhdGFcIix2YWx1ZTpNZXRhZGF0YS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1ldGFkYXRhKE1ldGFkYXRhKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlBhcmFtcyI6WyJQYXJhbXMiXSwiU2VuZEVuYWJsZWQiOlsiU2VuZEVuYWJsZWQiXSwiSW5wdXQiOlsiSW5wdXQiXSwiT3V0cHV0IjpbIk91dHB1dCJdLCJTdXBwbHkiOlsiU3VwcGx5Il0sIkRlbm9tVW5pdCI6WyJEZW5vbVVuaXQiXSwiTWV0YWRhdGEiOlsiTWV0YWRhdGEiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAnxP8vE9fAABPXwAARQAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2JhbmsvdjFiZXRhMS9xdWVyeS5qc3siaW1wb3J0cyI6WyIuLi8uLi9iYXNlL3F1ZXJ5L3YxYmV0YTEvcGFnaW5hdGlvbi5qcyIsIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzIiwiLi9iYW5rLmpzIiwiLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIkRlbm9tT3duZXIiLCJRdWVyeUFsbEJhbGFuY2VzUmVxdWVzdCIsIlF1ZXJ5QWxsQmFsYW5jZXNSZXNwb25zZSIsIlF1ZXJ5QmFsYW5jZVJlcXVlc3QiLCJRdWVyeUJhbGFuY2VSZXNwb25zZSIsIlF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3QiLCJRdWVyeURlbm9tTWV0YWRhdGFSZXNwb25zZSIsIlF1ZXJ5RGVub21Pd25lcnNSZXF1ZXN0IiwiUXVlcnlEZW5vbU93bmVyc1Jlc3BvbnNlIiwiUXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QiLCJRdWVyeURlbm9tc01ldGFkYXRhUmVzcG9uc2UiLCJRdWVyeVBhcmFtc1JlcXVlc3QiLCJRdWVyeVBhcmFtc1Jlc3BvbnNlIiwiUXVlcnlTcGVuZGFibGVCYWxhbmNlc1JlcXVlc3QiLCJRdWVyeVNwZW5kYWJsZUJhbGFuY2VzUmVzcG9uc2UiLCJRdWVyeVN1cHBseU9mUmVxdWVzdCIsIlF1ZXJ5U3VwcGx5T2ZSZXNwb25zZSIsIlF1ZXJ5VG90YWxTdXBwbHlSZXF1ZXN0IiwiUXVlcnlUb3RhbFN1cHBseVJlc3BvbnNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZSxvLG4sYSx0LHMsaSxyOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vYmFzZS9xdWVyeS92MWJldGExL3BhZ2luYXRpb24uanNcIiwgW1tcIlBhZ2VSZXF1ZXN0XCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXSxbXCJQYWdlUmVzcG9uc2VcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vYmFzZS92MWJldGExL2NvaW4uanNcIiwgW1tcIkNvaW5cIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dXV0sW1wiLi9iYW5rLmpzXCIsIFtbXCJQYXJhbXNcIixbJGjNj19hID0+IChhID0gJGjNj19hKV1dLFtcIk1ldGFkYXRhXCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAocyA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChpID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgUXVlcnlCYWxhbmNlUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5QmFsYW5jZVJlcXVlc3RcIixlbmNvZGU6KGUsbz1pLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmFkZHJlc3MmJm8udWludDMyKDEwKS5zdHJpbmcoZS5hZGRyZXNzKSxcIlwiIT09ZS5kZW5vbSYmby51aW50MzIoMTgpLnN0cmluZyhlLmRlbm9tKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiBzP2U6bmV3IHMoZSk7bGV0IGE9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IHQ9e2FkZHJlc3M6XCJcIixkZW5vbTpcIlwifTtmb3IoO24ucG9zPGE7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6dC5hZGRyZXNzPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnQuZGVub209bi5zdHJpbmcoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIHR9LGZyb21KU09OOmU9Pih7YWRkcmVzczpyKGUuYWRkcmVzcyk/U3RyaW5nKGUuYWRkcmVzcyk6XCJcIixkZW5vbTpyKGUuZGVub20pP1N0cmluZyhlLmRlbm9tKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuYWRkcmVzcyYmKG8uYWRkcmVzcz1lLmFkZHJlc3MpLHZvaWQgMCE9PWUuZGVub20mJihvLmRlbm9tPWUuZGVub20pLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2FkZHJlc3M6XCJcIixkZW5vbTpcIlwifTtyZXR1cm4gby5hZGRyZXNzPWUuYWRkcmVzcz8/XCJcIixvLmRlbm9tPWUuZGVub20/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5QmFsYW5jZVJlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlCYWxhbmNlUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeUJhbGFuY2VSZXF1ZXN0XCIsdmFsdWU6UXVlcnlCYWxhbmNlUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5QmFsYW5jZVJlcXVlc3QoUXVlcnlCYWxhbmNlUmVxdWVzdCk7Y29uc3QgUXVlcnlCYWxhbmNlUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeUJhbGFuY2VSZXNwb25zZVwiLGVuY29kZTooZSxvPWkuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5iYWxhbmNlJiZuLmVuY29kZShlLmJhbGFuY2Usby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKGUsbyl7Y29uc3QgYT1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCB0PXZvaWQgMD09PW8/YS5sZW46YS5wb3Mrbztjb25zdCBpPXtiYWxhbmNlOnZvaWQgMH07Zm9yKDthLnBvczx0Oyl7Y29uc3QgZT1hLnVpbnQzMigpO2lmKGU+Pj4zPT0xKWkuYmFsYW5jZT1uLmRlY29kZShhLGEudWludDMyKCkpO2Vsc2UgYS5za2lwVHlwZSg3JmUpfXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2JhbGFuY2U6cihlLmJhbGFuY2UpP24uZnJvbUpTT04oZS5iYWxhbmNlKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5iYWxhbmNlJiYoby5iYWxhbmNlPWUuYmFsYW5jZT9uLnRvSlNPTihlLmJhbGFuY2UpOnZvaWQgMCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17YmFsYW5jZTp2b2lkIDB9O3JldHVybiBvLmJhbGFuY2U9dm9pZCAwIT09ZS5iYWxhbmNlJiZudWxsIT09ZS5iYWxhbmNlP24uZnJvbVBhcnRpYWwoZS5iYWxhbmNlKTp2b2lkIDAsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5QmFsYW5jZVJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5QmFsYW5jZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5QmFsYW5jZVJlc3BvbnNlXCIsdmFsdWU6UXVlcnlCYWxhbmNlUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeUJhbGFuY2VSZXNwb25zZShRdWVyeUJhbGFuY2VSZXNwb25zZSk7Y29uc3QgUXVlcnlBbGxCYWxhbmNlc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeUFsbEJhbGFuY2VzUmVxdWVzdFwiLGVuY29kZToobyxuPWkuY3JlYXRlKCkpPT4oXCJcIiE9PW8uYWRkcmVzcyYmbi51aW50MzIoMTApLnN0cmluZyhvLmFkZHJlc3MpLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmZS5lbmNvZGUoby5wYWdpbmF0aW9uLG4udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG4pLGRlY29kZShvLG4pe2NvbnN0IGE9byBpbnN0YW5jZW9mIHM/bzpuZXcgcyhvKTtsZXQgdD12b2lkIDA9PT1uP2EubGVuOmEucG9zK247Y29uc3QgaT17YWRkcmVzczpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO2EucG9zPHQ7KXtjb25zdCBvPWEudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6aS5hZGRyZXNzPWEuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkucGFnaW5hdGlvbj1lLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gaX0sZnJvbUpTT046bz0+KHthZGRyZXNzOnIoby5hZGRyZXNzKT9TdHJpbmcoby5hZGRyZXNzKTpcIlwiLHBhZ2luYXRpb246cihvLnBhZ2luYXRpb24pP2UuZnJvbUpTT04oby5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3Qgbj17fTtyZXR1cm4gdm9pZCAwIT09by5hZGRyZXNzJiYobi5hZGRyZXNzPW8uYWRkcmVzcyksdm9pZCAwIT09by5wYWdpbmF0aW9uJiYobi5wYWdpbmF0aW9uPW8ucGFnaW5hdGlvbj9lLnRvSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMCksbn0sZnJvbVBhcnRpYWwobyl7Y29uc3Qgbj17YWRkcmVzczpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gbi5hZGRyZXNzPW8uYWRkcmVzcz8/XCJcIixuLnBhZ2luYXRpb249dm9pZCAwIT09by5wYWdpbmF0aW9uJiZudWxsIT09by5wYWdpbmF0aW9uP2UuZnJvbVBhcnRpYWwoby5wYWdpbmF0aW9uKTp2b2lkIDAsbn0sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5QWxsQmFsYW5jZXNSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5QWxsQmFsYW5jZXNSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5QWxsQmFsYW5jZXNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlBbGxCYWxhbmNlc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeUFsbEJhbGFuY2VzUmVxdWVzdChRdWVyeUFsbEJhbGFuY2VzUmVxdWVzdCk7Y29uc3QgUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlXCIsZW5jb2RlKGUsYT1pLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLmJhbGFuY2VzKW4uZW5jb2RlKG8sYS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmby5lbmNvZGUoZS5wYWdpbmF0aW9uLGEudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLGF9LGRlY29kZShlLGEpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgaT12b2lkIDA9PT1hP3QubGVuOnQucG9zK2E7Y29uc3Qgcj17YmFsYW5jZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7dC5wb3M8aTspe2NvbnN0IGU9dC51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLmJhbGFuY2VzLnB1c2gobi5kZWNvZGUodCx0LnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOnIucGFnaW5hdGlvbj1vLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtiYWxhbmNlczpBcnJheS5pc0FycmF5KGU/LmJhbGFuY2VzKT9lLmJhbGFuY2VzLm1hcCgoZT0+bi5mcm9tSlNPTihlKSkpOltdLHBhZ2luYXRpb246cihlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgYT17fTtyZXR1cm4gZS5iYWxhbmNlcz9hLmJhbGFuY2VzPWUuYmFsYW5jZXMubWFwKChlPT5lP24udG9KU09OKGUpOnZvaWQgMCkpOmEuYmFsYW5jZXM9W10sdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiYoYS5wYWdpbmF0aW9uPWUucGFnaW5hdGlvbj9vLnRvSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMCksYX0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgYT17YmFsYW5jZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiBhLmJhbGFuY2VzPWUuYmFsYW5jZXM/Lm1hcCgoZT0+bi5mcm9tUGFydGlhbChlKSkpfHxbXSxhLnBhZ2luYXRpb249dm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZudWxsIT09ZS5wYWdpbmF0aW9uP28uZnJvbVBhcnRpYWwoZS5wYWdpbmF0aW9uKTp2b2lkIDAsYX0sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5QWxsQmFsYW5jZXNSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeUFsbEJhbGFuY2VzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlKFF1ZXJ5QWxsQmFsYW5jZXNSZXNwb25zZSk7Y29uc3QgUXVlcnlTcGVuZGFibGVCYWxhbmNlc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVNwZW5kYWJsZUJhbGFuY2VzUmVxdWVzdFwiLGVuY29kZToobyxuPWkuY3JlYXRlKCkpPT4oXCJcIiE9PW8uYWRkcmVzcyYmbi51aW50MzIoMTApLnN0cmluZyhvLmFkZHJlc3MpLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmZS5lbmNvZGUoby5wYWdpbmF0aW9uLG4udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG4pLGRlY29kZShvLG4pe2NvbnN0IGE9byBpbnN0YW5jZW9mIHM/bzpuZXcgcyhvKTtsZXQgdD12b2lkIDA9PT1uP2EubGVuOmEucG9zK247Y29uc3QgaT17YWRkcmVzczpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO2EucG9zPHQ7KXtjb25zdCBvPWEudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6aS5hZGRyZXNzPWEuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkucGFnaW5hdGlvbj1lLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gaX0sZnJvbUpTT046bz0+KHthZGRyZXNzOnIoby5hZGRyZXNzKT9TdHJpbmcoby5hZGRyZXNzKTpcIlwiLHBhZ2luYXRpb246cihvLnBhZ2luYXRpb24pP2UuZnJvbUpTT04oby5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3Qgbj17fTtyZXR1cm4gdm9pZCAwIT09by5hZGRyZXNzJiYobi5hZGRyZXNzPW8uYWRkcmVzcyksdm9pZCAwIT09by5wYWdpbmF0aW9uJiYobi5wYWdpbmF0aW9uPW8ucGFnaW5hdGlvbj9lLnRvSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMCksbn0sZnJvbVBhcnRpYWwobyl7Y29uc3Qgbj17YWRkcmVzczpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gbi5hZGRyZXNzPW8uYWRkcmVzcz8/XCJcIixuLnBhZ2luYXRpb249dm9pZCAwIT09by5wYWdpbmF0aW9uJiZudWxsIT09by5wYWdpbmF0aW9uP2UuZnJvbVBhcnRpYWwoby5wYWdpbmF0aW9uKTp2b2lkIDAsbn0sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZXNSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZXNSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZXNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlTcGVuZGFibGVCYWxhbmNlc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVNwZW5kYWJsZUJhbGFuY2VzUmVxdWVzdChRdWVyeVNwZW5kYWJsZUJhbGFuY2VzUmVxdWVzdCk7Y29uc3QgUXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlXCIsZW5jb2RlKGUsYT1pLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLmJhbGFuY2VzKW4uZW5jb2RlKG8sYS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmby5lbmNvZGUoZS5wYWdpbmF0aW9uLGEudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLGF9LGRlY29kZShlLGEpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgaT12b2lkIDA9PT1hP3QubGVuOnQucG9zK2E7Y29uc3Qgcj17YmFsYW5jZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7dC5wb3M8aTspe2NvbnN0IGU9dC51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLmJhbGFuY2VzLnB1c2gobi5kZWNvZGUodCx0LnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOnIucGFnaW5hdGlvbj1vLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtiYWxhbmNlczpBcnJheS5pc0FycmF5KGU/LmJhbGFuY2VzKT9lLmJhbGFuY2VzLm1hcCgoZT0+bi5mcm9tSlNPTihlKSkpOltdLHBhZ2luYXRpb246cihlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgYT17fTtyZXR1cm4gZS5iYWxhbmNlcz9hLmJhbGFuY2VzPWUuYmFsYW5jZXMubWFwKChlPT5lP24udG9KU09OKGUpOnZvaWQgMCkpOmEuYmFsYW5jZXM9W10sdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiYoYS5wYWdpbmF0aW9uPWUucGFnaW5hdGlvbj9vLnRvSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMCksYX0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgYT17YmFsYW5jZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiBhLmJhbGFuY2VzPWUuYmFsYW5jZXM/Lm1hcCgoZT0+bi5mcm9tUGFydGlhbChlKSkpfHxbXSxhLnBhZ2luYXRpb249dm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZudWxsIT09ZS5wYWdpbmF0aW9uP28uZnJvbVBhcnRpYWwoZS5wYWdpbmF0aW9uKTp2b2lkIDAsYX0sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZXNSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVNwZW5kYWJsZUJhbGFuY2VzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlKFF1ZXJ5U3BlbmRhYmxlQmFsYW5jZXNSZXNwb25zZSk7Y29uc3QgUXVlcnlUb3RhbFN1cHBseVJlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVRvdGFsU3VwcGx5UmVxdWVzdFwiLGVuY29kZToobyxuPWkuY3JlYXRlKCkpPT4odm9pZCAwIT09by5wYWdpbmF0aW9uJiZlLmVuY29kZShvLnBhZ2luYXRpb24sbi51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksbiksZGVjb2RlKG8sbil7Y29uc3QgYT1vIGluc3RhbmNlb2Ygcz9vOm5ldyBzKG8pO2xldCB0PXZvaWQgMD09PW4/YS5sZW46YS5wb3Mrbjtjb25zdCBpPXtwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDthLnBvczx0Oyl7Y29uc3Qgbz1hLnVpbnQzMigpO2lmKG8+Pj4zPT0xKWkucGFnaW5hdGlvbj1lLmRlY29kZShhLGEudWludDMyKCkpO2Vsc2UgYS5za2lwVHlwZSg3Jm8pfXJldHVybiBpfSxmcm9tSlNPTjpvPT4oe3BhZ2luYXRpb246cihvLnBhZ2luYXRpb24pP2UuZnJvbUpTT04oby5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3Qgbj17fTtyZXR1cm4gdm9pZCAwIT09by5wYWdpbmF0aW9uJiYobi5wYWdpbmF0aW9uPW8ucGFnaW5hdGlvbj9lLnRvSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMCksbn0sZnJvbVBhcnRpYWwobyl7Y29uc3Qgbj17cGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiBuLnBhZ2luYXRpb249dm9pZCAwIT09by5wYWdpbmF0aW9uJiZudWxsIT09by5wYWdpbmF0aW9uP2UuZnJvbVBhcnRpYWwoby5wYWdpbmF0aW9uKTp2b2lkIDAsbn0sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5VG90YWxTdXBwbHlSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5VG90YWxTdXBwbHlSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5VG90YWxTdXBwbHlSZXF1ZXN0XCIsdmFsdWU6UXVlcnlUb3RhbFN1cHBseVJlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVRvdGFsU3VwcGx5UmVxdWVzdChRdWVyeVRvdGFsU3VwcGx5UmVxdWVzdCk7Y29uc3QgUXVlcnlUb3RhbFN1cHBseVJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlUb3RhbFN1cHBseVJlc3BvbnNlXCIsZW5jb2RlKGUsYT1pLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLnN1cHBseSluLmVuY29kZShvLGEudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB2b2lkIDAhPT1lLnBhZ2luYXRpb24mJm8uZW5jb2RlKGUucGFnaW5hdGlvbixhLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxhfSxkZWNvZGUoZSxhKXtjb25zdCB0PWUgaW5zdGFuY2VvZiBzP2U6bmV3IHMoZSk7bGV0IGk9dm9pZCAwPT09YT90Lmxlbjp0LnBvcythO2NvbnN0IHI9e3N1cHBseTpbXSxwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDt0LnBvczxpOyl7Y29uc3QgZT10LnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnIuc3VwcGx5LnB1c2gobi5kZWNvZGUodCx0LnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOnIucGFnaW5hdGlvbj1vLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtzdXBwbHk6QXJyYXkuaXNBcnJheShlPy5zdXBwbHkpP2Uuc3VwcGx5Lm1hcCgoZT0+bi5mcm9tSlNPTihlKSkpOltdLHBhZ2luYXRpb246cihlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgYT17fTtyZXR1cm4gZS5zdXBwbHk/YS5zdXBwbHk9ZS5zdXBwbHkubWFwKChlPT5lP24udG9KU09OKGUpOnZvaWQgMCkpOmEuc3VwcGx5PVtdLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmKGEucGFnaW5hdGlvbj1lLnBhZ2luYXRpb24/by50b0pTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDApLGF9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IGE9e3N1cHBseTpbXSxwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIGEuc3VwcGx5PWUuc3VwcGx5Py5tYXAoKGU9Pm4uZnJvbVBhcnRpYWwoZSkpKXx8W10sYS5wYWdpbmF0aW9uPXZvaWQgMCE9PWUucGFnaW5hdGlvbiYmbnVsbCE9PWUucGFnaW5hdGlvbj9vLmZyb21QYXJ0aWFsKGUucGFnaW5hdGlvbik6dm9pZCAwLGF9LGZyb21Qcm90b01zZzplPT5RdWVyeVRvdGFsU3VwcGx5UmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlUb3RhbFN1cHBseVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5VG90YWxTdXBwbHlSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5VG90YWxTdXBwbHlSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5VG90YWxTdXBwbHlSZXNwb25zZShRdWVyeVRvdGFsU3VwcGx5UmVzcG9uc2UpO2NvbnN0IFF1ZXJ5U3VwcGx5T2ZSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlTdXBwbHlPZlJlcXVlc3RcIixlbmNvZGU6KGUsbz1pLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbm9tJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuZGVub20pLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgYT12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgdD17ZGVub206XCJcIn07Zm9yKDtuLnBvczxhOyl7Y29uc3QgZT1uLnVpbnQzMigpO2lmKGU+Pj4zPT0xKXQuZGVub209bi5zdHJpbmcoKTtlbHNlIG4uc2tpcFR5cGUoNyZlKX1yZXR1cm4gdH0sZnJvbUpTT046ZT0+KHtkZW5vbTpyKGUuZGVub20pP1N0cmluZyhlLmRlbm9tKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuZGVub20mJihvLmRlbm9tPWUuZGVub20pLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2Rlbm9tOlwiXCJ9O3JldHVybiBvLmRlbm9tPWUuZGVub20/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5U3VwcGx5T2ZSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5U3VwcGx5T2ZSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5U3VwcGx5T2ZSZXF1ZXN0XCIsdmFsdWU6UXVlcnlTdXBwbHlPZlJlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVN1cHBseU9mUmVxdWVzdChRdWVyeVN1cHBseU9mUmVxdWVzdCk7ZnVuY3Rpb24gZCgpe3JldHVybnthbW91bnQ6bi5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IFF1ZXJ5U3VwcGx5T2ZSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5U3VwcGx5T2ZSZXNwb25zZVwiLGVuY29kZTooZSxvPWkuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5hbW91bnQmJm4uZW5jb2RlKGUuYW1vdW50LG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShlLG8pe2NvbnN0IGE9ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgdD12b2lkIDA9PT1vP2EubGVuOmEucG9zK287Y29uc3QgaT1kKCk7Zm9yKDthLnBvczx0Oyl7Y29uc3QgZT1hLnVpbnQzMigpO2lmKGU+Pj4zPT0xKWkuYW1vdW50PW4uZGVjb2RlKGEsYS51aW50MzIoKSk7ZWxzZSBhLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7YW1vdW50OnIoZS5hbW91bnQpP24uZnJvbUpTT04oZS5hbW91bnQpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmFtb3VudCYmKG8uYW1vdW50PWUuYW1vdW50P24udG9KU09OKGUuYW1vdW50KTp2b2lkIDApLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89ZCgpO3JldHVybiBvLmFtb3VudD12b2lkIDAhPT1lLmFtb3VudCYmbnVsbCE9PWUuYW1vdW50P24uZnJvbVBhcnRpYWwoZS5hbW91bnQpOnZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlTdXBwbHlPZlJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5U3VwcGx5T2ZSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVN1cHBseU9mUmVzcG9uc2VcIix2YWx1ZTpRdWVyeVN1cHBseU9mUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVN1cHBseU9mUmVzcG9uc2UoUXVlcnlTdXBwbHlPZlJlc3BvbnNlKTtjb25zdCBRdWVyeVBhcmFtc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeVBhcmFtc1JlcXVlc3RcIixlbmNvZGU6KGUsbz1pLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiBzP2U6bmV3IHMoZSk7bGV0IGE9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IHQ9e307Zm9yKDtuLnBvczxhOyl7Y29uc3QgZT1uLnVpbnQzMigpO24uc2tpcFR5cGUoNyZlKX1yZXR1cm4gdH0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5RdWVyeVBhcmFtc1JlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlQYXJhbXNSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5UGFyYW1zUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5UGFyYW1zUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5UGFyYW1zUmVxdWVzdChRdWVyeVBhcmFtc1JlcXVlc3QpO2Z1bmN0aW9uIHAoKXtyZXR1cm57cGFyYW1zOmEuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBRdWVyeVBhcmFtc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlQYXJhbXNSZXNwb25zZVwiLGVuY29kZTooZSxvPWkuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5wYXJhbXMmJmEuZW5jb2RlKGUucGFyYW1zLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgdD12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgaT1wKCk7Zm9yKDtuLnBvczx0Oyl7Y29uc3QgZT1uLnVpbnQzMigpO2lmKGU+Pj4zPT0xKWkucGFyYW1zPWEuZGVjb2RlKG4sbi51aW50MzIoKSk7ZWxzZSBuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7cGFyYW1zOnIoZS5wYXJhbXMpP2EuZnJvbUpTT04oZS5wYXJhbXMpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLnBhcmFtcyYmKG8ucGFyYW1zPWUucGFyYW1zP2EudG9KU09OKGUucGFyYW1zKTp2b2lkIDApLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89cCgpO3JldHVybiBvLnBhcmFtcz12b2lkIDAhPT1lLnBhcmFtcyYmbnVsbCE9PWUucGFyYW1zP2EuZnJvbVBhcnRpYWwoZS5wYXJhbXMpOnZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlQYXJhbXNSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeVBhcmFtc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5UGFyYW1zUmVzcG9uc2VcIix2YWx1ZTpRdWVyeVBhcmFtc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlQYXJhbXNSZXNwb25zZShRdWVyeVBhcmFtc1Jlc3BvbnNlKTtjb25zdCBRdWVyeURlbm9tc01ldGFkYXRhUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5RGVub21zTWV0YWRhdGFSZXF1ZXN0XCIsZW5jb2RlOihvLG49aS5jcmVhdGUoKSk9Pih2b2lkIDAhPT1vLnBhZ2luYXRpb24mJmUuZW5jb2RlKG8ucGFnaW5hdGlvbixuLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxuKSxkZWNvZGUobyxuKXtjb25zdCBhPW8gaW5zdGFuY2VvZiBzP286bmV3IHMobyk7bGV0IHQ9dm9pZCAwPT09bj9hLmxlbjphLnBvcytuO2NvbnN0IGk9e3BhZ2luYXRpb246dm9pZCAwfTtmb3IoO2EucG9zPHQ7KXtjb25zdCBvPWEudWludDMyKCk7aWYobz4+PjM9PTEpaS5wYWdpbmF0aW9uPWUuZGVjb2RlKGEsYS51aW50MzIoKSk7ZWxzZSBhLnNraXBUeXBlKDcmbyl9cmV0dXJuIGl9LGZyb21KU09OOm89Pih7cGFnaW5hdGlvbjpyKG8ucGFnaW5hdGlvbik/ZS5mcm9tSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCBuPXt9O3JldHVybiB2b2lkIDAhPT1vLnBhZ2luYXRpb24mJihuLnBhZ2luYXRpb249by5wYWdpbmF0aW9uP2UudG9KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwKSxufSxmcm9tUGFydGlhbChvKXtjb25zdCBuPXtwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIG4ucGFnaW5hdGlvbj12b2lkIDAhPT1vLnBhZ2luYXRpb24mJm51bGwhPT1vLnBhZ2luYXRpb24/ZS5mcm9tUGFydGlhbChvLnBhZ2luYXRpb24pOnZvaWQgMCxufSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3RcIix2YWx1ZTpRdWVyeURlbm9tc01ldGFkYXRhUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVub21zTWV0YWRhdGFSZXF1ZXN0KFF1ZXJ5RGVub21zTWV0YWRhdGFSZXF1ZXN0KTtjb25zdCBRdWVyeURlbm9tc01ldGFkYXRhUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeURlbm9tc01ldGFkYXRhUmVzcG9uc2VcIixlbmNvZGUoZSxuPWkuY3JlYXRlKCkpe2Zvcihjb25zdCBvIG9mIGUubWV0YWRhdGFzKXQuZW5jb2RlKG8sbi51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmby5lbmNvZGUoZS5wYWdpbmF0aW9uLG4udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG59LGRlY29kZShlLG4pe2NvbnN0IGE9ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgaT12b2lkIDA9PT1uP2EubGVuOmEucG9zK247Y29uc3Qgcj17bWV0YWRhdGFzOltdLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO2EucG9zPGk7KXtjb25zdCBlPWEudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6ci5tZXRhZGF0YXMucHVzaCh0LmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztjYXNlIDI6ci5wYWdpbmF0aW9uPW8uZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmZSl9fXJldHVybiByfSxmcm9tSlNPTjplPT4oe21ldGFkYXRhczpBcnJheS5pc0FycmF5KGU/Lm1ldGFkYXRhcyk/ZS5tZXRhZGF0YXMubWFwKChlPT50LmZyb21KU09OKGUpKSk6W10scGFnaW5hdGlvbjpyKGUucGFnaW5hdGlvbik/by5mcm9tSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBuPXt9O3JldHVybiBlLm1ldGFkYXRhcz9uLm1ldGFkYXRhcz1lLm1ldGFkYXRhcy5tYXAoKGU9PmU/dC50b0pTT04oZSk6dm9pZCAwKSk6bi5tZXRhZGF0YXM9W10sdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiYobi5wYWdpbmF0aW9uPWUucGFnaW5hdGlvbj9vLnRvSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMCksbn0sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbj17bWV0YWRhdGFzOltdLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gbi5tZXRhZGF0YXM9ZS5tZXRhZGF0YXM/Lm1hcCgoZT0+dC5mcm9tUGFydGlhbChlKSkpfHxbXSxuLnBhZ2luYXRpb249dm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZudWxsIT09ZS5wYWdpbmF0aW9uP28uZnJvbVBhcnRpYWwoZS5wYWdpbmF0aW9uKTp2b2lkIDAsbn0sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5RGVub21zTWV0YWRhdGFSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeURlbm9tc01ldGFkYXRhUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlEZW5vbXNNZXRhZGF0YVJlc3BvbnNlXCIsdmFsdWU6UXVlcnlEZW5vbXNNZXRhZGF0YVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZW5vbXNNZXRhZGF0YVJlc3BvbnNlKFF1ZXJ5RGVub21zTWV0YWRhdGFSZXNwb25zZSk7Y29uc3QgUXVlcnlEZW5vbU1ldGFkYXRhUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3RcIixlbmNvZGU6KGUsbz1pLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbm9tJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuZGVub20pLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgYT12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgdD17ZGVub206XCJcIn07Zm9yKDtuLnBvczxhOyl7Y29uc3QgZT1uLnVpbnQzMigpO2lmKGU+Pj4zPT0xKXQuZGVub209bi5zdHJpbmcoKTtlbHNlIG4uc2tpcFR5cGUoNyZlKX1yZXR1cm4gdH0sZnJvbUpTT046ZT0+KHtkZW5vbTpyKGUuZGVub20pP1N0cmluZyhlLmRlbm9tKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuZGVub20mJihvLmRlbm9tPWUuZGVub20pLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2Rlbm9tOlwiXCJ9O3JldHVybiBvLmRlbm9tPWUuZGVub20/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlEZW5vbU1ldGFkYXRhUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeURlbm9tTWV0YWRhdGFSZXF1ZXN0XCIsdmFsdWU6UXVlcnlEZW5vbU1ldGFkYXRhUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3QoUXVlcnlEZW5vbU1ldGFkYXRhUmVxdWVzdCk7ZnVuY3Rpb24gYygpe3JldHVybnttZXRhZGF0YTp0LmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgUXVlcnlEZW5vbU1ldGFkYXRhUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeURlbm9tTWV0YWRhdGFSZXNwb25zZVwiLGVuY29kZTooZSxvPWkuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5tZXRhZGF0YSYmdC5lbmNvZGUoZS5tZXRhZGF0YSxvLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiBzP2U6bmV3IHMoZSk7bGV0IGE9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGk9YygpO2Zvcig7bi5wb3M8YTspe2NvbnN0IGU9bi51aW50MzIoKTtpZihlPj4+Mz09MSlpLm1ldGFkYXRhPXQuZGVjb2RlKG4sbi51aW50MzIoKSk7ZWxzZSBuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7bWV0YWRhdGE6cihlLm1ldGFkYXRhKT90LmZyb21KU09OKGUubWV0YWRhdGEpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLm1ldGFkYXRhJiYoby5tZXRhZGF0YT1lLm1ldGFkYXRhP3QudG9KU09OKGUubWV0YWRhdGEpOnZvaWQgMCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1jKCk7cmV0dXJuIG8ubWV0YWRhdGE9dm9pZCAwIT09ZS5tZXRhZGF0YSYmbnVsbCE9PWUubWV0YWRhdGE/dC5mcm9tUGFydGlhbChlLm1ldGFkYXRhKTp2b2lkIDAsb30sZnJvbVByb3RvTXNnOmU9PlF1ZXJ5RGVub21NZXRhZGF0YVJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5RGVub21NZXRhZGF0YVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5RGVub21NZXRhZGF0YVJlc3BvbnNlXCIsdmFsdWU6UXVlcnlEZW5vbU1ldGFkYXRhUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbm9tTWV0YWRhdGFSZXNwb25zZShRdWVyeURlbm9tTWV0YWRhdGFSZXNwb25zZSk7Y29uc3QgUXVlcnlEZW5vbU93bmVyc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeURlbm9tT3duZXJzUmVxdWVzdFwiLGVuY29kZToobyxuPWkuY3JlYXRlKCkpPT4oXCJcIiE9PW8uZGVub20mJm4udWludDMyKDEwKS5zdHJpbmcoby5kZW5vbSksdm9pZCAwIT09by5wYWdpbmF0aW9uJiZlLmVuY29kZShvLnBhZ2luYXRpb24sbi51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksbiksZGVjb2RlKG8sbil7Y29uc3QgYT1vIGluc3RhbmNlb2Ygcz9vOm5ldyBzKG8pO2xldCB0PXZvaWQgMD09PW4/YS5sZW46YS5wb3Mrbjtjb25zdCBpPXtkZW5vbTpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO2EucG9zPHQ7KXtjb25zdCBvPWEudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6aS5kZW5vbT1hLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnBhZ2luYXRpb249ZS5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGl9LGZyb21KU09OOm89Pih7ZGVub206cihvLmRlbm9tKT9TdHJpbmcoby5kZW5vbSk6XCJcIixwYWdpbmF0aW9uOnIoby5wYWdpbmF0aW9uKT9lLmZyb21KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IG49e307cmV0dXJuIHZvaWQgMCE9PW8uZGVub20mJihuLmRlbm9tPW8uZGVub20pLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmKG4ucGFnaW5hdGlvbj1vLnBhZ2luYXRpb24/ZS50b0pTT04oby5wYWdpbmF0aW9uKTp2b2lkIDApLG59LGZyb21QYXJ0aWFsKG8pe2NvbnN0IG49e2Rlbm9tOlwiXCIscGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiBuLmRlbm9tPW8uZGVub20/P1wiXCIsbi5wYWdpbmF0aW9uPXZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmbnVsbCE9PW8ucGFnaW5hdGlvbj9lLmZyb21QYXJ0aWFsKG8ucGFnaW5hdGlvbik6dm9pZCAwLG59LGZyb21Qcm90b01zZzplPT5RdWVyeURlbm9tT3duZXJzUmVxdWVzdC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeURlbm9tT3duZXJzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeURlbm9tT3duZXJzUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5RGVub21Pd25lcnNSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZW5vbU93bmVyc1JlcXVlc3QoUXVlcnlEZW5vbU93bmVyc1JlcXVlc3QpO2Z1bmN0aW9uIGwoKXtyZXR1cm57YWRkcmVzczpcIlwiLGJhbGFuY2U6bi5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IERlbm9tT3duZXI9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5EZW5vbU93bmVyXCIsZW5jb2RlOihlLG89aS5jcmVhdGUoKSk9PihcIlwiIT09ZS5hZGRyZXNzJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuYWRkcmVzcyksdm9pZCAwIT09ZS5iYWxhbmNlJiZuLmVuY29kZShlLmJhbGFuY2Usby51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKGUsbyl7Y29uc3QgYT1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCB0PXZvaWQgMD09PW8/YS5sZW46YS5wb3Mrbztjb25zdCBpPWwoKTtmb3IoO2EucG9zPHQ7KXtjb25zdCBlPWEudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5hZGRyZXNzPWEuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkuYmFsYW5jZT1uLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHthZGRyZXNzOnIoZS5hZGRyZXNzKT9TdHJpbmcoZS5hZGRyZXNzKTpcIlwiLGJhbGFuY2U6cihlLmJhbGFuY2UpP24uZnJvbUpTT04oZS5iYWxhbmNlKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5hZGRyZXNzJiYoby5hZGRyZXNzPWUuYWRkcmVzcyksdm9pZCAwIT09ZS5iYWxhbmNlJiYoby5iYWxhbmNlPWUuYmFsYW5jZT9uLnRvSlNPTihlLmJhbGFuY2UpOnZvaWQgMCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1sKCk7cmV0dXJuIG8uYWRkcmVzcz1lLmFkZHJlc3M/P1wiXCIsby5iYWxhbmNlPXZvaWQgMCE9PWUuYmFsYW5jZSYmbnVsbCE9PWUuYmFsYW5jZT9uLmZyb21QYXJ0aWFsKGUuYmFsYW5jZSk6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5EZW5vbU93bmVyLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkRlbm9tT3duZXIuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuRGVub21Pd25lclwiLHZhbHVlOkRlbm9tT3duZXIuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5EZW5vbU93bmVyKERlbm9tT3duZXIpO2NvbnN0IFF1ZXJ5RGVub21Pd25lcnNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5RGVub21Pd25lcnNSZXNwb25zZVwiLGVuY29kZShlLG49aS5jcmVhdGUoKSl7Zm9yKGNvbnN0IG8gb2YgZS5kZW5vbU93bmVycylEZW5vbU93bmVyLmVuY29kZShvLG4udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB2b2lkIDAhPT1lLnBhZ2luYXRpb24mJm8uZW5jb2RlKGUucGFnaW5hdGlvbixuLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxufSxkZWNvZGUoZSxuKXtjb25zdCBhPWUgaW5zdGFuY2VvZiBzP2U6bmV3IHMoZSk7bGV0IHQ9dm9pZCAwPT09bj9hLmxlbjphLnBvcytuO2NvbnN0IGk9e2Rlbm9tT3duZXJzOltdLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO2EucG9zPHQ7KXtjb25zdCBlPWEudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5kZW5vbU93bmVycy5wdXNoKERlbm9tT3duZXIuZGVjb2RlKGEsYS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjppLnBhZ2luYXRpb249by5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7ZGVub21Pd25lcnM6QXJyYXkuaXNBcnJheShlPy5kZW5vbU93bmVycyk/ZS5kZW5vbU93bmVycy5tYXAoKGU9PkRlbm9tT3duZXIuZnJvbUpTT04oZSkpKTpbXSxwYWdpbmF0aW9uOnIoZS5wYWdpbmF0aW9uKT9vLmZyb21KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IG49e307cmV0dXJuIGUuZGVub21Pd25lcnM/bi5kZW5vbU93bmVycz1lLmRlbm9tT3duZXJzLm1hcCgoZT0+ZT9EZW5vbU93bmVyLnRvSlNPTihlKTp2b2lkIDApKTpuLmRlbm9tT3duZXJzPVtdLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmKG4ucGFnaW5hdGlvbj1lLnBhZ2luYXRpb24/by50b0pTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDApLG59LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG49e2Rlbm9tT3duZXJzOltdLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gbi5kZW5vbU93bmVycz1lLmRlbm9tT3duZXJzPy5tYXAoKGU9PkRlbm9tT3duZXIuZnJvbVBhcnRpYWwoZSkpKXx8W10sbi5wYWdpbmF0aW9uPXZvaWQgMCE9PWUucGFnaW5hdGlvbiYmbnVsbCE9PWUucGFnaW5hdGlvbj9vLmZyb21QYXJ0aWFsKGUucGFnaW5hdGlvbik6dm9pZCAwLG59LGZyb21Qcm90b01zZzplPT5RdWVyeURlbm9tT3duZXJzUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlEZW5vbU93bmVyc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLlF1ZXJ5RGVub21Pd25lcnNSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5RGVub21Pd25lcnNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVub21Pd25lcnNSZXNwb25zZShRdWVyeURlbm9tT3duZXJzUmVzcG9uc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUXVlcnlCYWxhbmNlUmVxdWVzdCI6WyJRdWVyeUJhbGFuY2VSZXF1ZXN0Il0sIlF1ZXJ5QmFsYW5jZVJlc3BvbnNlIjpbIlF1ZXJ5QmFsYW5jZVJlc3BvbnNlIl0sIlF1ZXJ5QWxsQmFsYW5jZXNSZXF1ZXN0IjpbIlF1ZXJ5QWxsQmFsYW5jZXNSZXF1ZXN0Il0sIlF1ZXJ5QWxsQmFsYW5jZXNSZXNwb25zZSI6WyJRdWVyeUFsbEJhbGFuY2VzUmVzcG9uc2UiXSwiUXVlcnlTcGVuZGFibGVCYWxhbmNlc1JlcXVlc3QiOlsiUXVlcnlTcGVuZGFibGVCYWxhbmNlc1JlcXVlc3QiXSwiUXVlcnlTcGVuZGFibGVCYWxhbmNlc1Jlc3BvbnNlIjpbIlF1ZXJ5U3BlbmRhYmxlQmFsYW5jZXNSZXNwb25zZSJdLCJRdWVyeVRvdGFsU3VwcGx5UmVxdWVzdCI6WyJRdWVyeVRvdGFsU3VwcGx5UmVxdWVzdCJdLCJRdWVyeVRvdGFsU3VwcGx5UmVzcG9uc2UiOlsiUXVlcnlUb3RhbFN1cHBseVJlc3BvbnNlIl0sIlF1ZXJ5U3VwcGx5T2ZSZXF1ZXN0IjpbIlF1ZXJ5U3VwcGx5T2ZSZXF1ZXN0Il0sIlF1ZXJ5U3VwcGx5T2ZSZXNwb25zZSI6WyJRdWVyeVN1cHBseU9mUmVzcG9uc2UiXSwiUXVlcnlQYXJhbXNSZXF1ZXN0IjpbIlF1ZXJ5UGFyYW1zUmVxdWVzdCJdLCJRdWVyeVBhcmFtc1Jlc3BvbnNlIjpbIlF1ZXJ5UGFyYW1zUmVzcG9uc2UiXSwiUXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QiOlsiUXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QiXSwiUXVlcnlEZW5vbXNNZXRhZGF0YVJlc3BvbnNlIjpbIlF1ZXJ5RGVub21zTWV0YWRhdGFSZXNwb25zZSJdLCJRdWVyeURlbm9tTWV0YWRhdGFSZXF1ZXN0IjpbIlF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3QiXSwiUXVlcnlEZW5vbU1ldGFkYXRhUmVzcG9uc2UiOlsiUXVlcnlEZW5vbU1ldGFkYXRhUmVzcG9uc2UiXSwiUXVlcnlEZW5vbU93bmVyc1JlcXVlc3QiOlsiUXVlcnlEZW5vbU93bmVyc1JlcXVlc3QiXSwiRGVub21Pd25lciI6WyJEZW5vbU93bmVyIl0sIlF1ZXJ5RGVub21Pd25lcnNSZXNwb25zZSI6WyJRdWVyeURlbm9tT3duZXJzUmVzcG9uc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAvs1o374TAAC+EwAAQgAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2JhbmsvdjFiZXRhMS90eC5qc3siaW1wb3J0cyI6WyIuLi8uLi9iYXNlL3YxYmV0YTEvY29pbi5qcyIsIi4vYmFuay5qcyIsIi4uLy4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJNc2dNdWx0aVNlbmQiLCJNc2dNdWx0aVNlbmRSZXNwb25zZSIsIk1zZ1NlbmQiLCJNc2dTZW5kUmVzcG9uc2UiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBvLHMsZSx0LG4scjskaM2PX2ltcG9ydHMoW1tcIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzXCIsIFtbXCJDb2luXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIi4vYmFuay5qc1wiLCBbW1wiSW5wdXRcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dLFtcIk91dHB1dFwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAociA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IE1zZ1NlbmQ9e3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5Nc2dTZW5kXCIsZW5jb2RlKHMsZT1uLmNyZWF0ZSgpKXtcIlwiIT09cy5mcm9tQWRkcmVzcyYmZS51aW50MzIoMTApLnN0cmluZyhzLmZyb21BZGRyZXNzKSxcIlwiIT09cy50b0FkZHJlc3MmJmUudWludDMyKDE4KS5zdHJpbmcocy50b0FkZHJlc3MpO2Zvcihjb25zdCB0IG9mIHMuYW1vdW50KW8uZW5jb2RlKHQsZS51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGV9LGRlY29kZShzLGUpe2NvbnN0IG49cyBpbnN0YW5jZW9mIHQ/czpuZXcgdChzKTtsZXQgcj12b2lkIDA9PT1lP24ubGVuOm4ucG9zK2U7Y29uc3QgZD17ZnJvbUFkZHJlc3M6XCJcIix0b0FkZHJlc3M6XCJcIixhbW91bnQ6W119O2Zvcig7bi5wb3M8cjspe2NvbnN0IHM9bi51aW50MzIoKTtzd2l0Y2gocz4+PjMpe2Nhc2UgMTpkLmZyb21BZGRyZXNzPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmQudG9BZGRyZXNzPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmQuYW1vdW50LnB1c2goby5kZWNvZGUobixuLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmcyl9fXJldHVybiBkfSxmcm9tSlNPTjpzPT4oe2Zyb21BZGRyZXNzOnIocy5mcm9tQWRkcmVzcyk/U3RyaW5nKHMuZnJvbUFkZHJlc3MpOlwiXCIsdG9BZGRyZXNzOnIocy50b0FkZHJlc3MpP1N0cmluZyhzLnRvQWRkcmVzcyk6XCJcIixhbW91bnQ6QXJyYXkuaXNBcnJheShzPy5hbW91bnQpP3MuYW1vdW50Lm1hcCgocz0+by5mcm9tSlNPTihzKSkpOltdfSksdG9KU09OKHMpe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PXMuZnJvbUFkZHJlc3MmJihlLmZyb21BZGRyZXNzPXMuZnJvbUFkZHJlc3MpLHZvaWQgMCE9PXMudG9BZGRyZXNzJiYoZS50b0FkZHJlc3M9cy50b0FkZHJlc3MpLHMuYW1vdW50P2UuYW1vdW50PXMuYW1vdW50Lm1hcCgocz0+cz9vLnRvSlNPTihzKTp2b2lkIDApKTplLmFtb3VudD1bXSxlfSxmcm9tUGFydGlhbChzKXtjb25zdCBlPXtmcm9tQWRkcmVzczpcIlwiLHRvQWRkcmVzczpcIlwiLGFtb3VudDpbXX07cmV0dXJuIGUuZnJvbUFkZHJlc3M9cy5mcm9tQWRkcmVzcz8/XCJcIixlLnRvQWRkcmVzcz1zLnRvQWRkcmVzcz8/XCJcIixlLmFtb3VudD1zLmFtb3VudD8ubWFwKChzPT5vLmZyb21QYXJ0aWFsKHMpKSl8fFtdLGV9LGZyb21Qcm90b01zZzpvPT5Nc2dTZW5kLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89Pk1zZ1NlbmQuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuTXNnU2VuZFwiLHZhbHVlOk1zZ1NlbmQuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dTZW5kKE1zZ1NlbmQpO2NvbnN0IE1zZ1NlbmRSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLk1zZ1NlbmRSZXNwb25zZVwiLGVuY29kZToobyxzPW4uY3JlYXRlKCkpPT5zLGRlY29kZShvLHMpe2NvbnN0IGU9byBpbnN0YW5jZW9mIHQ/bzpuZXcgdChvKTtsZXQgbj12b2lkIDA9PT1zP2UubGVuOmUucG9zK3M7Y29uc3Qgcj17fTtmb3IoO2UucG9zPG47KXtjb25zdCBvPWUudWludDMyKCk7ZS5za2lwVHlwZSg3Jm8pfXJldHVybiByfSxmcm9tSlNPTjpvPT4oe30pLHRvSlNPTjpvPT4oe30pLGZyb21QYXJ0aWFsOm89Pih7fSksZnJvbVByb3RvTXNnOm89Pk1zZ1NlbmRSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Nc2dTZW5kUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuTXNnU2VuZFJlc3BvbnNlXCIsdmFsdWU6TXNnU2VuZFJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnU2VuZFJlc3BvbnNlKE1zZ1NlbmRSZXNwb25zZSk7Y29uc3QgTXNnTXVsdGlTZW5kPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuTXNnTXVsdGlTZW5kXCIsZW5jb2RlKG8sdD1uLmNyZWF0ZSgpKXtmb3IoY29uc3QgZSBvZiBvLmlucHV0cylzLmVuY29kZShlLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO2Zvcihjb25zdCBzIG9mIG8ub3V0cHV0cyllLmVuY29kZShzLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxkZWNvZGUobyxuKXtjb25zdCByPW8gaW5zdGFuY2VvZiB0P286bmV3IHQobyk7bGV0IGQ9dm9pZCAwPT09bj9yLmxlbjpyLnBvcytuO2NvbnN0IHU9e2lucHV0czpbXSxvdXRwdXRzOltdfTtmb3IoO3IucG9zPGQ7KXtjb25zdCBvPXIudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6dS5pbnB1dHMucHVzaChzLmRlY29kZShyLHIudWludDMyKCkpKTticmVhaztjYXNlIDI6dS5vdXRwdXRzLnB1c2goZS5kZWNvZGUocixyLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmbyl9fXJldHVybiB1fSxmcm9tSlNPTjpvPT4oe2lucHV0czpBcnJheS5pc0FycmF5KG8/LmlucHV0cyk/by5pbnB1dHMubWFwKChvPT5zLmZyb21KU09OKG8pKSk6W10sb3V0cHV0czpBcnJheS5pc0FycmF5KG8/Lm91dHB1dHMpP28ub3V0cHV0cy5tYXAoKG89PmUuZnJvbUpTT04obykpKTpbXX0pLHRvSlNPTihvKXtjb25zdCB0PXt9O3JldHVybiBvLmlucHV0cz90LmlucHV0cz1vLmlucHV0cy5tYXAoKG89Pm8/cy50b0pTT04obyk6dm9pZCAwKSk6dC5pbnB1dHM9W10sby5vdXRwdXRzP3Qub3V0cHV0cz1vLm91dHB1dHMubWFwKChvPT5vP2UudG9KU09OKG8pOnZvaWQgMCkpOnQub3V0cHV0cz1bXSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PXtpbnB1dHM6W10sb3V0cHV0czpbXX07cmV0dXJuIHQuaW5wdXRzPW8uaW5wdXRzPy5tYXAoKG89PnMuZnJvbVBhcnRpYWwobykpKXx8W10sdC5vdXRwdXRzPW8ub3V0cHV0cz8ubWFwKChvPT5lLmZyb21QYXJ0aWFsKG8pKSl8fFtdLHR9LGZyb21Qcm90b01zZzpvPT5Nc2dNdWx0aVNlbmQuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+TXNnTXVsdGlTZW5kLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFuay52MWJldGExLk1zZ011bHRpU2VuZFwiLHZhbHVlOk1zZ011bHRpU2VuZC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ011bHRpU2VuZChNc2dNdWx0aVNlbmQpO2NvbnN0IE1zZ011bHRpU2VuZFJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5iYW5rLnYxYmV0YTEuTXNnTXVsdGlTZW5kUmVzcG9uc2VcIixlbmNvZGU6KG8scz1uLmNyZWF0ZSgpKT0+cyxkZWNvZGUobyxzKXtjb25zdCBlPW8gaW5zdGFuY2VvZiB0P286bmV3IHQobyk7bGV0IG49dm9pZCAwPT09cz9lLmxlbjplLnBvcytzO2NvbnN0IHI9e307Zm9yKDtlLnBvczxuOyl7Y29uc3Qgbz1lLnVpbnQzMigpO2Uuc2tpcFR5cGUoNyZvKX1yZXR1cm4gcn0sZnJvbUpTT046bz0+KHt9KSx0b0pTT046bz0+KHt9KSxmcm9tUGFydGlhbDpvPT4oe30pLGZyb21Qcm90b01zZzpvPT5Nc2dNdWx0aVNlbmRSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Nc2dNdWx0aVNlbmRSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhbmsudjFiZXRhMS5Nc2dNdWx0aVNlbmRSZXNwb25zZVwiLHZhbHVlOk1zZ011bHRpU2VuZFJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnTXVsdGlTZW5kUmVzcG9uc2UoTXNnTXVsdGlTZW5kUmVzcG9uc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiTXNnU2VuZCI6WyJNc2dTZW5kIl0sIk1zZ1NlbmRSZXNwb25zZSI6WyJNc2dTZW5kUmVzcG9uc2UiXSwiTXNnTXVsdGlTZW5kIjpbIk1zZ011bHRpU2VuZCJdLCJNc2dNdWx0aVNlbmRSZXNwb25zZSI6WyJNc2dNdWx0aVNlbmRSZXNwb25zZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADcGjqtLxAAAC8QAABQAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jb3Ntb3MvYmFzZS9xdWVyeS92MWJldGExL3BhZ2luYXRpb24uanN7ImltcG9ydHMiOlsiLi4vLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vLi4vaGVscGVycy5qcyIsIkBlbmRvL2Jhc2U2NCIsIi4uLy4uLy4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIlBhZ2VSZXF1ZXN0IiwiUGFnZVJlc3BvbnNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZSx0LG8sbixpOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9iYXNlNjRcIiwgW1tcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV0sW1wiZW5jb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAoaSA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHIoKXtyZXR1cm57a2V5Om5ldyBVaW50OEFycmF5LG9mZnNldDpCaWdJbnQoMCksbGltaXQ6QmlnSW50KDApLGNvdW50VG90YWw6ITEscmV2ZXJzZTohMX19ICAgICAgIGNvbnN0IFBhZ2VSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5iYXNlLnF1ZXJ5LnYxYmV0YTEuUGFnZVJlcXVlc3RcIixlbmNvZGU6KGUsbz10LmNyZWF0ZSgpKT0+KDAhPT1lLmtleS5sZW5ndGgmJm8udWludDMyKDEwKS5ieXRlcyhlLmtleSksZS5vZmZzZXQhPT1CaWdJbnQoMCkmJm8udWludDMyKDE2KS51aW50NjQoZS5vZmZzZXQpLGUubGltaXQhPT1CaWdJbnQoMCkmJm8udWludDMyKDI0KS51aW50NjQoZS5saW1pdCksITA9PT1lLmNvdW50VG90YWwmJm8udWludDMyKDMyKS5ib29sKGUuY291bnRUb3RhbCksITA9PT1lLnJldmVyc2UmJm8udWludDMyKDQwKS5ib29sKGUucmV2ZXJzZSksbyksZGVjb2RlKHQsbyl7Y29uc3Qgbj10IGluc3RhbmNlb2YgZT90Om5ldyBlKHQpO2xldCBpPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBzPXIoKTtmb3IoO24ucG9zPGk7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6cy5rZXk9bi5ieXRlcygpO2JyZWFrO2Nhc2UgMjpzLm9mZnNldD1uLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgMzpzLmxpbWl0PW4udWludDY0KCk7YnJlYWs7Y2FzZSA0OnMuY291bnRUb3RhbD1uLmJvb2woKTticmVhaztjYXNlIDU6cy5yZXZlcnNlPW4uYm9vbCgpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gc30sZnJvbUpTT046ZT0+KHtrZXk6byhlLmtleSk/bihlLmtleSk6bmV3IFVpbnQ4QXJyYXksb2Zmc2V0Om8oZS5vZmZzZXQpP0JpZ0ludChlLm9mZnNldC50b1N0cmluZygpKTpCaWdJbnQoMCksbGltaXQ6byhlLmxpbWl0KT9CaWdJbnQoZS5saW1pdC50b1N0cmluZygpKTpCaWdJbnQoMCksY291bnRUb3RhbDohIW8oZS5jb3VudFRvdGFsKSYmQm9vbGVhbihlLmNvdW50VG90YWwpLHJldmVyc2U6ISFvKGUucmV2ZXJzZSkmJkJvb2xlYW4oZS5yZXZlcnNlKX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmtleSYmKHQua2V5PWkodm9pZCAwIT09ZS5rZXk/ZS5rZXk6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLm9mZnNldCYmKHQub2Zmc2V0PShlLm9mZnNldHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLmxpbWl0JiYodC5saW1pdD0oZS5saW1pdHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLmNvdW50VG90YWwmJih0LmNvdW50VG90YWw9ZS5jb3VudFRvdGFsKSx2b2lkIDAhPT1lLnJldmVyc2UmJih0LnJldmVyc2U9ZS5yZXZlcnNlKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXIoKTtyZXR1cm4gdC5rZXk9ZS5rZXk/P25ldyBVaW50OEFycmF5LHQub2Zmc2V0PXZvaWQgMCE9PWUub2Zmc2V0JiZudWxsIT09ZS5vZmZzZXQ/QmlnSW50KGUub2Zmc2V0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0LmxpbWl0PXZvaWQgMCE9PWUubGltaXQmJm51bGwhPT1lLmxpbWl0P0JpZ0ludChlLmxpbWl0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0LmNvdW50VG90YWw9ZS5jb3VudFRvdGFsPz8hMSx0LnJldmVyc2U9ZS5yZXZlcnNlPz8hMSx0fSxmcm9tUHJvdG9Nc2c6ZT0+UGFnZVJlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UGFnZVJlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYXNlLnF1ZXJ5LnYxYmV0YTEuUGFnZVJlcXVlc3RcIix2YWx1ZTpQYWdlUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlBhZ2VSZXF1ZXN0KFBhZ2VSZXF1ZXN0KTtmdW5jdGlvbiBzKCl7cmV0dXJue25leHRLZXk6bmV3IFVpbnQ4QXJyYXksdG90YWw6QmlnSW50KDApfX1jb25zdCBQYWdlUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmJhc2UucXVlcnkudjFiZXRhMS5QYWdlUmVzcG9uc2VcIixlbmNvZGU6KGUsbz10LmNyZWF0ZSgpKT0+KDAhPT1lLm5leHRLZXkubGVuZ3RoJiZvLnVpbnQzMigxMCkuYnl0ZXMoZS5uZXh0S2V5KSxlLnRvdGFsIT09QmlnSW50KDApJiZvLnVpbnQzMigxNikudWludDY0KGUudG90YWwpLG8pLGRlY29kZSh0LG8pe2NvbnN0IG49dCBpbnN0YW5jZW9mIGU/dDpuZXcgZSh0KTtsZXQgaT12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3Qgcj1zKCk7Zm9yKDtuLnBvczxpOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnIubmV4dEtleT1uLmJ5dGVzKCk7YnJlYWs7Y2FzZSAyOnIudG90YWw9bi51aW50NjQoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7bmV4dEtleTpvKGUubmV4dEtleSk/bihlLm5leHRLZXkpOm5ldyBVaW50OEFycmF5LHRvdGFsOm8oZS50b3RhbCk/QmlnSW50KGUudG90YWwudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUubmV4dEtleSYmKHQubmV4dEtleT1pKHZvaWQgMCE9PWUubmV4dEtleT9lLm5leHRLZXk6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnRvdGFsJiYodC50b3RhbD0oZS50b3RhbHx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXMoKTtyZXR1cm4gdC5uZXh0S2V5PWUubmV4dEtleT8/bmV3IFVpbnQ4QXJyYXksdC50b3RhbD12b2lkIDAhPT1lLnRvdGFsJiZudWxsIT09ZS50b3RhbD9CaWdJbnQoZS50b3RhbC50b1N0cmluZygpKTpCaWdJbnQoMCksdH0sZnJvbVByb3RvTXNnOmU9PlBhZ2VSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5QYWdlUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYXNlLnF1ZXJ5LnYxYmV0YTEuUGFnZVJlc3BvbnNlXCIsdmFsdWU6UGFnZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUGFnZVJlc3BvbnNlKFBhZ2VSZXNwb25zZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJQYWdlUmVxdWVzdCI6WyJQYWdlUmVxdWVzdCJdLCJQYWdlUmVzcG9uc2UiOlsiUGFnZVJlc3BvbnNlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAGCYzZU0EQAANBEAAEQAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYXNlL3YxYmV0YTEvY29pbi5qc3siaW1wb3J0cyI6WyIuLi8uLi8uLi9iaW5hcnkuanMiLCIuLi8uLi8uLi9oZWxwZXJzLmpzIiwiLi4vLi4vLi4vanNvbi1zYWZlLmpzIiwiLi4vLi4vLi4vZGVjaW1hbHMuanMiXSwiZXhwb3J0cyI6WyJDb2luIiwiRGVjQ29pbiIsIkRlY1Byb3RvIiwiSW50UHJvdG8iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBvLHQsbixlOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9qc29uLXNhZmUuanNcIiwgW11dLFtcIi4uLy4uLy4uL2RlY2ltYWxzLmpzXCIsIFtbXCJEZWNpbWFsXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IENvaW49e3R5cGVVcmw6XCIvY29zbW9zLmJhc2UudjFiZXRhMS5Db2luXCIsZW5jb2RlOihvLG49dC5jcmVhdGUoKSk9PihcIlwiIT09by5kZW5vbSYmbi51aW50MzIoMTApLnN0cmluZyhvLmRlbm9tKSxcIlwiIT09by5hbW91bnQmJm4udWludDMyKDE4KS5zdHJpbmcoby5hbW91bnQpLG4pLGRlY29kZSh0LG4pe2NvbnN0IGU9dCBpbnN0YW5jZW9mIG8/dDpuZXcgbyh0KTtsZXQgcj12b2lkIDA9PT1uP2UubGVuOmUucG9zK247Y29uc3Qgcz17ZGVub206XCJcIixhbW91bnQ6XCJcIn07Zm9yKDtlLnBvczxyOyl7Y29uc3Qgbz1lLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOnMuZGVub209ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6cy5hbW91bnQ9ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZvKX19cmV0dXJuIHN9LGZyb21KU09OOm89Pih7ZGVub206bihvLmRlbm9tKT9TdHJpbmcoby5kZW5vbSk6XCJcIixhbW91bnQ6bihvLmFtb3VudCk/U3RyaW5nKG8uYW1vdW50KTpcIlwifSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW8uZGVub20mJih0LmRlbm9tPW8uZGVub20pLHZvaWQgMCE9PW8uYW1vdW50JiYodC5hbW91bnQ9by5hbW91bnQpLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9e2Rlbm9tOlwiXCIsYW1vdW50OlwiXCJ9O3JldHVybiB0LmRlbm9tPW8uZGVub20/P1wiXCIsdC5hbW91bnQ9by5hbW91bnQ/P1wiXCIsdH0sZnJvbVByb3RvTXNnOm89PkNvaW4uZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+Q29pbi5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmJhc2UudjFiZXRhMS5Db2luXCIsdmFsdWU6Q29pbi5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLkNvaW4oQ29pbik7Y29uc3QgRGVjQ29pbj17dHlwZVVybDpcIi9jb3Ntb3MuYmFzZS52MWJldGExLkRlY0NvaW5cIixlbmNvZGU6KG8sbj10LmNyZWF0ZSgpKT0+KFwiXCIhPT1vLmRlbm9tJiZuLnVpbnQzMigxMCkuc3RyaW5nKG8uZGVub20pLFwiXCIhPT1vLmFtb3VudCYmbi51aW50MzIoMTgpLnN0cmluZyhlLmZyb21Vc2VySW5wdXQoby5hbW91bnQsMTgpLmF0b21pY3MpLG4pLGRlY29kZSh0LG4pe2NvbnN0IHI9dCBpbnN0YW5jZW9mIG8/dDpuZXcgbyh0KTtsZXQgcz12b2lkIDA9PT1uP3IubGVuOnIucG9zK247Y29uc3QgaT17ZGVub206XCJcIixhbW91bnQ6XCJcIn07Zm9yKDtyLnBvczxzOyl7Y29uc3Qgbz1yLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmkuZGVub209ci5zdHJpbmcoKTticmVhaztjYXNlIDI6aS5hbW91bnQ9ZS5mcm9tQXRvbWljcyhyLnN0cmluZygpLDE4KS50b1N0cmluZygpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gaX0sZnJvbUpTT046bz0+KHtkZW5vbTpuKG8uZGVub20pP1N0cmluZyhvLmRlbm9tKTpcIlwiLGFtb3VudDpuKG8uYW1vdW50KT9TdHJpbmcoby5hbW91bnQpOlwiXCJ9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by5kZW5vbSYmKHQuZGVub209by5kZW5vbSksdm9pZCAwIT09by5hbW91bnQmJih0LmFtb3VudD1vLmFtb3VudCksdH0sZnJvbVBhcnRpYWwobyl7Y29uc3QgdD17ZGVub206XCJcIixhbW91bnQ6XCJcIn07cmV0dXJuIHQuZGVub209by5kZW5vbT8/XCJcIix0LmFtb3VudD1vLmFtb3VudD8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6bz0+RGVjQ29pbi5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5EZWNDb2luLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuYmFzZS52MWJldGExLkRlY0NvaW5cIix2YWx1ZTpEZWNDb2luLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuRGVjQ29pbihEZWNDb2luKTtjb25zdCBJbnRQcm90bz17dHlwZVVybDpcIi9jb3Ntb3MuYmFzZS52MWJldGExLkludFByb3RvXCIsZW5jb2RlOihvLG49dC5jcmVhdGUoKSk9PihcIlwiIT09by5pbnQmJm4udWludDMyKDEwKS5zdHJpbmcoby5pbnQpLG4pLGRlY29kZSh0LG4pe2NvbnN0IGU9dCBpbnN0YW5jZW9mIG8/dDpuZXcgbyh0KTtsZXQgcj12b2lkIDA9PT1uP2UubGVuOmUucG9zK247Y29uc3Qgcz17aW50OlwiXCJ9O2Zvcig7ZS5wb3M8cjspe2NvbnN0IG89ZS51aW50MzIoKTtpZihvPj4+Mz09MSlzLmludD1lLnN0cmluZygpO2Vsc2UgZS5za2lwVHlwZSg3Jm8pfXJldHVybiBzfSxmcm9tSlNPTjpvPT4oe2ludDpuKG8uaW50KT9TdHJpbmcoby5pbnQpOlwiXCJ9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by5pbnQmJih0LmludD1vLmludCksdH0sZnJvbVBhcnRpYWwobyl7Y29uc3QgdD17aW50OlwiXCJ9O3JldHVybiB0LmludD1vLmludD8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6bz0+SW50UHJvdG8uZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+SW50UHJvdG8uZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYXNlLnYxYmV0YTEuSW50UHJvdG9cIix2YWx1ZTpJbnRQcm90by5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLkludFByb3RvKEludFByb3RvKTtjb25zdCBEZWNQcm90bz17dHlwZVVybDpcIi9jb3Ntb3MuYmFzZS52MWJldGExLkRlY1Byb3RvXCIsZW5jb2RlOihvLG49dC5jcmVhdGUoKSk9PihcIlwiIT09by5kZWMmJm4udWludDMyKDEwKS5zdHJpbmcoZS5mcm9tVXNlcklucHV0KG8uZGVjLDE4KS5hdG9taWNzKSxuKSxkZWNvZGUodCxuKXtjb25zdCByPXQgaW5zdGFuY2VvZiBvP3Q6bmV3IG8odCk7bGV0IHM9dm9pZCAwPT09bj9yLmxlbjpyLnBvcytuO2NvbnN0IGk9e2RlYzpcIlwifTtmb3IoO3IucG9zPHM7KXtjb25zdCBvPXIudWludDMyKCk7aWYobz4+PjM9PTEpaS5kZWM9ZS5mcm9tQXRvbWljcyhyLnN0cmluZygpLDE4KS50b1N0cmluZygpO2Vsc2Ugci5za2lwVHlwZSg3Jm8pfXJldHVybiBpfSxmcm9tSlNPTjpvPT4oe2RlYzpuKG8uZGVjKT9TdHJpbmcoby5kZWMpOlwiXCJ9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by5kZWMmJih0LmRlYz1vLmRlYyksdH0sZnJvbVBhcnRpYWwobyl7Y29uc3QgdD17ZGVjOlwiXCJ9O3JldHVybiB0LmRlYz1vLmRlYz8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6bz0+RGVjUHJvdG8uZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+RGVjUHJvdG8uZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5iYXNlLnYxYmV0YTEuRGVjUHJvdG9cIix2YWx1ZTpEZWNQcm90by5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLkRlY1Byb3RvKERlY1Byb3RvKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkNvaW4iOlsiQ29pbiJdLCJEZWNDb2luIjpbIkRlY0NvaW4iXSwiSW50UHJvdG8iOlsiSW50UHJvdG8iXSwiRGVjUHJvdG8iOlsiRGVjUHJvdG8iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAABHT6Fw9NAAAPTQAAVAAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL2Rpc3RyaWJ1dGlvbi5qc3siaW1wb3J0cyI6WyIuLi8uLi9iYXNlL3YxYmV0YTEvY29pbi5qcyIsIi4uLy4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uLy4uL2RlY2ltYWxzLmpzIiwiLi4vLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsIiwiQ29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWxXaXRoRGVwb3NpdCIsIkRlbGVnYXRpb25EZWxlZ2F0b3JSZXdhcmQiLCJEZWxlZ2F0b3JTdGFydGluZ0luZm8iLCJGZWVQb29sIiwiUGFyYW1zIiwiVmFsaWRhdG9yQWNjdW11bGF0ZWRDb21taXNzaW9uIiwiVmFsaWRhdG9yQ3VycmVudFJld2FyZHMiLCJWYWxpZGF0b3JIaXN0b3JpY2FsUmV3YXJkcyIsIlZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkcyIsIlZhbGlkYXRvclNsYXNoRXZlbnQiLCJWYWxpZGF0b3JTbGFzaEV2ZW50cyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG8sdCxlLHIsaSxuOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vYmFzZS92MWJldGExL2NvaW4uanNcIiwgW1tcIkRlY0NvaW5cIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dLFtcIkNvaW5cIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKHIgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9kZWNpbWFscy5qc1wiLCBbW1wiRGVjaW1hbFwiLFskaM2PX2EgPT4gKGkgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFBhcmFtcz17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUGFyYW1zXCIsZW5jb2RlOihvLHQ9ci5jcmVhdGUoKSk9PihcIlwiIT09by5jb21tdW5pdHlUYXgmJnQudWludDMyKDEwKS5zdHJpbmcoaS5mcm9tVXNlcklucHV0KG8uY29tbXVuaXR5VGF4LDE4KS5hdG9taWNzKSxcIlwiIT09by5iYXNlUHJvcG9zZXJSZXdhcmQmJnQudWludDMyKDE4KS5zdHJpbmcoaS5mcm9tVXNlcklucHV0KG8uYmFzZVByb3Bvc2VyUmV3YXJkLDE4KS5hdG9taWNzKSxcIlwiIT09by5ib251c1Byb3Bvc2VyUmV3YXJkJiZ0LnVpbnQzMigyNikuc3RyaW5nKGkuZnJvbVVzZXJJbnB1dChvLmJvbnVzUHJvcG9zZXJSZXdhcmQsMTgpLmF0b21pY3MpLCEwPT09by53aXRoZHJhd0FkZHJFbmFibGVkJiZ0LnVpbnQzMigzMikuYm9vbChvLndpdGhkcmF3QWRkckVuYWJsZWQpLHQpLGRlY29kZShvLHQpe2NvbnN0IHI9byBpbnN0YW5jZW9mIGU/bzpuZXcgZShvKTtsZXQgbj12b2lkIDA9PT10P3IubGVuOnIucG9zK3Q7Y29uc3QgYT17Y29tbXVuaXR5VGF4OlwiXCIsYmFzZVByb3Bvc2VyUmV3YXJkOlwiXCIsYm9udXNQcm9wb3NlclJld2FyZDpcIlwiLHdpdGhkcmF3QWRkckVuYWJsZWQ6ITF9O2Zvcig7ci5wb3M8bjspe2NvbnN0IG89ci51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTphLmNvbW11bml0eVRheD1pLmZyb21BdG9taWNzKHIuc3RyaW5nKCksMTgpLnRvU3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmEuYmFzZVByb3Bvc2VyUmV3YXJkPWkuZnJvbUF0b21pY3Moci5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztjYXNlIDM6YS5ib251c1Byb3Bvc2VyUmV3YXJkPWkuZnJvbUF0b21pY3Moci5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztjYXNlIDQ6YS53aXRoZHJhd0FkZHJFbmFibGVkPXIuYm9vbCgpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gYX0sZnJvbUpTT046bz0+KHtjb21tdW5pdHlUYXg6bihvLmNvbW11bml0eVRheCk/U3RyaW5nKG8uY29tbXVuaXR5VGF4KTpcIlwiLGJhc2VQcm9wb3NlclJld2FyZDpuKG8uYmFzZVByb3Bvc2VyUmV3YXJkKT9TdHJpbmcoby5iYXNlUHJvcG9zZXJSZXdhcmQpOlwiXCIsYm9udXNQcm9wb3NlclJld2FyZDpuKG8uYm9udXNQcm9wb3NlclJld2FyZCk/U3RyaW5nKG8uYm9udXNQcm9wb3NlclJld2FyZCk6XCJcIix3aXRoZHJhd0FkZHJFbmFibGVkOiEhbihvLndpdGhkcmF3QWRkckVuYWJsZWQpJiZCb29sZWFuKG8ud2l0aGRyYXdBZGRyRW5hYmxlZCl9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by5jb21tdW5pdHlUYXgmJih0LmNvbW11bml0eVRheD1vLmNvbW11bml0eVRheCksdm9pZCAwIT09by5iYXNlUHJvcG9zZXJSZXdhcmQmJih0LmJhc2VQcm9wb3NlclJld2FyZD1vLmJhc2VQcm9wb3NlclJld2FyZCksdm9pZCAwIT09by5ib251c1Byb3Bvc2VyUmV3YXJkJiYodC5ib251c1Byb3Bvc2VyUmV3YXJkPW8uYm9udXNQcm9wb3NlclJld2FyZCksdm9pZCAwIT09by53aXRoZHJhd0FkZHJFbmFibGVkJiYodC53aXRoZHJhd0FkZHJFbmFibGVkPW8ud2l0aGRyYXdBZGRyRW5hYmxlZCksdH0sZnJvbVBhcnRpYWwobyl7Y29uc3QgdD17Y29tbXVuaXR5VGF4OlwiXCIsYmFzZVByb3Bvc2VyUmV3YXJkOlwiXCIsYm9udXNQcm9wb3NlclJld2FyZDpcIlwiLHdpdGhkcmF3QWRkckVuYWJsZWQ6ITF9O3JldHVybiB0LmNvbW11bml0eVRheD1vLmNvbW11bml0eVRheD8/XCJcIix0LmJhc2VQcm9wb3NlclJld2FyZD1vLmJhc2VQcm9wb3NlclJld2FyZD8/XCJcIix0LmJvbnVzUHJvcG9zZXJSZXdhcmQ9by5ib251c1Byb3Bvc2VyUmV3YXJkPz9cIlwiLHQud2l0aGRyYXdBZGRyRW5hYmxlZD1vLndpdGhkcmF3QWRkckVuYWJsZWQ/PyExLHR9LGZyb21Qcm90b01zZzpvPT5QYXJhbXMuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UGFyYW1zLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUGFyYW1zXCIsdmFsdWU6UGFyYW1zLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUGFyYW1zKFBhcmFtcyk7Y29uc3QgVmFsaWRhdG9ySGlzdG9yaWNhbFJld2FyZHM9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlZhbGlkYXRvckhpc3RvcmljYWxSZXdhcmRzXCIsZW5jb2RlKHQsZT1yLmNyZWF0ZSgpKXtmb3IoY29uc3QgciBvZiB0LmN1bXVsYXRpdmVSZXdhcmRSYXRpbylvLmVuY29kZShyLGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiAwIT09dC5yZWZlcmVuY2VDb3VudCYmZS51aW50MzIoMTYpLnVpbnQzMih0LnJlZmVyZW5jZUNvdW50KSxlfSxkZWNvZGUodCxyKXtjb25zdCBpPXQgaW5zdGFuY2VvZiBlP3Q6bmV3IGUodCk7bGV0IG49dm9pZCAwPT09cj9pLmxlbjppLnBvcytyO2NvbnN0IGE9e2N1bXVsYXRpdmVSZXdhcmRSYXRpbzpbXSxyZWZlcmVuY2VDb3VudDowfTtmb3IoO2kucG9zPG47KXtjb25zdCB0PWkudWludDMyKCk7c3dpdGNoKHQ+Pj4zKXtjYXNlIDE6YS5jdW11bGF0aXZlUmV3YXJkUmF0aW8ucHVzaChvLmRlY29kZShpLGkudWludDMyKCkpKTticmVhaztjYXNlIDI6YS5yZWZlcmVuY2VDb3VudD1pLnVpbnQzMigpO2JyZWFrO2RlZmF1bHQ6aS5za2lwVHlwZSg3JnQpfX1yZXR1cm4gYX0sZnJvbUpTT046dD0+KHtjdW11bGF0aXZlUmV3YXJkUmF0aW86QXJyYXkuaXNBcnJheSh0Py5jdW11bGF0aXZlUmV3YXJkUmF0aW8pP3QuY3VtdWxhdGl2ZVJld2FyZFJhdGlvLm1hcCgodD0+by5mcm9tSlNPTih0KSkpOltdLHJlZmVyZW5jZUNvdW50Om4odC5yZWZlcmVuY2VDb3VudCk/TnVtYmVyKHQucmVmZXJlbmNlQ291bnQpOjB9KSx0b0pTT04odCl7Y29uc3QgZT17fTtyZXR1cm4gdC5jdW11bGF0aXZlUmV3YXJkUmF0aW8/ZS5jdW11bGF0aXZlUmV3YXJkUmF0aW89dC5jdW11bGF0aXZlUmV3YXJkUmF0aW8ubWFwKCh0PT50P28udG9KU09OKHQpOnZvaWQgMCkpOmUuY3VtdWxhdGl2ZVJld2FyZFJhdGlvPVtdLHZvaWQgMCE9PXQucmVmZXJlbmNlQ291bnQmJihlLnJlZmVyZW5jZUNvdW50PU1hdGgucm91bmQodC5yZWZlcmVuY2VDb3VudCkpLGV9LGZyb21QYXJ0aWFsKHQpe2NvbnN0IGU9e2N1bXVsYXRpdmVSZXdhcmRSYXRpbzpbXSxyZWZlcmVuY2VDb3VudDowfTtyZXR1cm4gZS5jdW11bGF0aXZlUmV3YXJkUmF0aW89dC5jdW11bGF0aXZlUmV3YXJkUmF0aW8/Lm1hcCgodD0+by5mcm9tUGFydGlhbCh0KSkpfHxbXSxlLnJlZmVyZW5jZUNvdW50PXQucmVmZXJlbmNlQ291bnQ/PzAsZX0sZnJvbVByb3RvTXNnOm89PlZhbGlkYXRvckhpc3RvcmljYWxSZXdhcmRzLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlZhbGlkYXRvckhpc3RvcmljYWxSZXdhcmRzLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuVmFsaWRhdG9ySGlzdG9yaWNhbFJld2FyZHNcIix2YWx1ZTpWYWxpZGF0b3JIaXN0b3JpY2FsUmV3YXJkcy5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlZhbGlkYXRvckhpc3RvcmljYWxSZXdhcmRzKFZhbGlkYXRvckhpc3RvcmljYWxSZXdhcmRzKTtmdW5jdGlvbiBhKCl7cmV0dXJue3Jld2FyZHM6W10scGVyaW9kOkJpZ0ludCgwKX19Y29uc3QgVmFsaWRhdG9yQ3VycmVudFJld2FyZHM9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlZhbGlkYXRvckN1cnJlbnRSZXdhcmRzXCIsZW5jb2RlKHQsZT1yLmNyZWF0ZSgpKXtmb3IoY29uc3QgciBvZiB0LnJld2FyZHMpby5lbmNvZGUocixlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdC5wZXJpb2QhPT1CaWdJbnQoMCkmJmUudWludDMyKDE2KS51aW50NjQodC5wZXJpb2QpLGV9LGRlY29kZSh0LHIpe2NvbnN0IGk9dCBpbnN0YW5jZW9mIGU/dDpuZXcgZSh0KTtsZXQgbj12b2lkIDA9PT1yP2kubGVuOmkucG9zK3I7Y29uc3Qgcz1hKCk7Zm9yKDtpLnBvczxuOyl7Y29uc3QgdD1pLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOnMucmV3YXJkcy5wdXNoKG8uZGVjb2RlKGksaS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpzLnBlcmlvZD1pLnVpbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6aS5za2lwVHlwZSg3JnQpfX1yZXR1cm4gc30sZnJvbUpTT046dD0+KHtyZXdhcmRzOkFycmF5LmlzQXJyYXkodD8ucmV3YXJkcyk/dC5yZXdhcmRzLm1hcCgodD0+by5mcm9tSlNPTih0KSkpOltdLHBlcmlvZDpuKHQucGVyaW9kKT9CaWdJbnQodC5wZXJpb2QudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKHQpe2NvbnN0IGU9e307cmV0dXJuIHQucmV3YXJkcz9lLnJld2FyZHM9dC5yZXdhcmRzLm1hcCgodD0+dD9vLnRvSlNPTih0KTp2b2lkIDApKTplLnJld2FyZHM9W10sdm9pZCAwIT09dC5wZXJpb2QmJihlLnBlcmlvZD0odC5wZXJpb2R8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksZX0sZnJvbVBhcnRpYWwodCl7Y29uc3QgZT1hKCk7cmV0dXJuIGUucmV3YXJkcz10LnJld2FyZHM/Lm1hcCgodD0+by5mcm9tUGFydGlhbCh0KSkpfHxbXSxlLnBlcmlvZD12b2lkIDAhPT10LnBlcmlvZCYmbnVsbCE9PXQucGVyaW9kP0JpZ0ludCh0LnBlcmlvZC50b1N0cmluZygpKTpCaWdJbnQoMCksZX0sZnJvbVByb3RvTXNnOm89PlZhbGlkYXRvckN1cnJlbnRSZXdhcmRzLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlZhbGlkYXRvckN1cnJlbnRSZXdhcmRzLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuVmFsaWRhdG9yQ3VycmVudFJld2FyZHNcIix2YWx1ZTpWYWxpZGF0b3JDdXJyZW50UmV3YXJkcy5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlZhbGlkYXRvckN1cnJlbnRSZXdhcmRzKFZhbGlkYXRvckN1cnJlbnRSZXdhcmRzKTtjb25zdCBWYWxpZGF0b3JBY2N1bXVsYXRlZENvbW1pc3Npb249e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlZhbGlkYXRvckFjY3VtdWxhdGVkQ29tbWlzc2lvblwiLGVuY29kZSh0LGU9ci5jcmVhdGUoKSl7Zm9yKGNvbnN0IHIgb2YgdC5jb21taXNzaW9uKW8uZW5jb2RlKHIsZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGV9LGRlY29kZSh0LHIpe2NvbnN0IGk9dCBpbnN0YW5jZW9mIGU/dDpuZXcgZSh0KTtsZXQgbj12b2lkIDA9PT1yP2kubGVuOmkucG9zK3I7Y29uc3QgYT17Y29tbWlzc2lvbjpbXX07Zm9yKDtpLnBvczxuOyl7Y29uc3QgdD1pLnVpbnQzMigpO2lmKHQ+Pj4zPT0xKWEuY29tbWlzc2lvbi5wdXNoKG8uZGVjb2RlKGksaS51aW50MzIoKSkpO2Vsc2UgaS5za2lwVHlwZSg3JnQpfXJldHVybiBhfSxmcm9tSlNPTjp0PT4oe2NvbW1pc3Npb246QXJyYXkuaXNBcnJheSh0Py5jb21taXNzaW9uKT90LmNvbW1pc3Npb24ubWFwKCh0PT5vLmZyb21KU09OKHQpKSk6W119KSx0b0pTT04odCl7Y29uc3QgZT17fTtyZXR1cm4gdC5jb21taXNzaW9uP2UuY29tbWlzc2lvbj10LmNvbW1pc3Npb24ubWFwKCh0PT50P28udG9KU09OKHQpOnZvaWQgMCkpOmUuY29tbWlzc2lvbj1bXSxlfSxmcm9tUGFydGlhbCh0KXtjb25zdCBlPXtjb21taXNzaW9uOltdfTtyZXR1cm4gZS5jb21taXNzaW9uPXQuY29tbWlzc2lvbj8ubWFwKCh0PT5vLmZyb21QYXJ0aWFsKHQpKSl8fFtdLGV9LGZyb21Qcm90b01zZzpvPT5WYWxpZGF0b3JBY2N1bXVsYXRlZENvbW1pc3Npb24uZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+VmFsaWRhdG9yQWNjdW11bGF0ZWRDb21taXNzaW9uLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuVmFsaWRhdG9yQWNjdW11bGF0ZWRDb21taXNzaW9uXCIsdmFsdWU6VmFsaWRhdG9yQWNjdW11bGF0ZWRDb21taXNzaW9uLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuVmFsaWRhdG9yQWNjdW11bGF0ZWRDb21taXNzaW9uKFZhbGlkYXRvckFjY3VtdWxhdGVkQ29tbWlzc2lvbik7Y29uc3QgVmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5WYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNcIixlbmNvZGUodCxlPXIuY3JlYXRlKCkpe2Zvcihjb25zdCByIG9mIHQucmV3YXJkcylvLmVuY29kZShyLGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBlfSxkZWNvZGUodCxyKXtjb25zdCBpPXQgaW5zdGFuY2VvZiBlP3Q6bmV3IGUodCk7bGV0IG49dm9pZCAwPT09cj9pLmxlbjppLnBvcytyO2NvbnN0IGE9e3Jld2FyZHM6W119O2Zvcig7aS5wb3M8bjspe2NvbnN0IHQ9aS51aW50MzIoKTtpZih0Pj4+Mz09MSlhLnJld2FyZHMucHVzaChvLmRlY29kZShpLGkudWludDMyKCkpKTtlbHNlIGkuc2tpcFR5cGUoNyZ0KX1yZXR1cm4gYX0sZnJvbUpTT046dD0+KHtyZXdhcmRzOkFycmF5LmlzQXJyYXkodD8ucmV3YXJkcyk/dC5yZXdhcmRzLm1hcCgodD0+by5mcm9tSlNPTih0KSkpOltdfSksdG9KU09OKHQpe2NvbnN0IGU9e307cmV0dXJuIHQucmV3YXJkcz9lLnJld2FyZHM9dC5yZXdhcmRzLm1hcCgodD0+dD9vLnRvSlNPTih0KTp2b2lkIDApKTplLnJld2FyZHM9W10sZX0sZnJvbVBhcnRpYWwodCl7Y29uc3QgZT17cmV3YXJkczpbXX07cmV0dXJuIGUucmV3YXJkcz10LnJld2FyZHM/Lm1hcCgodD0+by5mcm9tUGFydGlhbCh0KSkpfHxbXSxlfSxmcm9tUHJvdG9Nc2c6bz0+VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkcy5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1wiLHZhbHVlOlZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkcy5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkcyhWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHMpO2Z1bmN0aW9uIHMoKXtyZXR1cm57dmFsaWRhdG9yUGVyaW9kOkJpZ0ludCgwKSxmcmFjdGlvbjpcIlwifX1jb25zdCBWYWxpZGF0b3JTbGFzaEV2ZW50PXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5WYWxpZGF0b3JTbGFzaEV2ZW50XCIsZW5jb2RlOihvLHQ9ci5jcmVhdGUoKSk9PihvLnZhbGlkYXRvclBlcmlvZCE9PUJpZ0ludCgwKSYmdC51aW50MzIoOCkudWludDY0KG8udmFsaWRhdG9yUGVyaW9kKSxcIlwiIT09by5mcmFjdGlvbiYmdC51aW50MzIoMTgpLnN0cmluZyhpLmZyb21Vc2VySW5wdXQoby5mcmFjdGlvbiwxOCkuYXRvbWljcyksdCksZGVjb2RlKG8sdCl7Y29uc3Qgcj1vIGluc3RhbmNlb2YgZT9vOm5ldyBlKG8pO2xldCBuPXZvaWQgMD09PXQ/ci5sZW46ci5wb3MrdDtjb25zdCBhPXMoKTtmb3IoO3IucG9zPG47KXtjb25zdCBvPXIudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6YS52YWxpZGF0b3JQZXJpb2Q9ci51aW50NjQoKTticmVhaztjYXNlIDI6YS5mcmFjdGlvbj1pLmZyb21BdG9taWNzKHIuc3RyaW5nKCksMTgpLnRvU3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmbyl9fXJldHVybiBhfSxmcm9tSlNPTjpvPT4oe3ZhbGlkYXRvclBlcmlvZDpuKG8udmFsaWRhdG9yUGVyaW9kKT9CaWdJbnQoby52YWxpZGF0b3JQZXJpb2QudG9TdHJpbmcoKSk6QmlnSW50KDApLGZyYWN0aW9uOm4oby5mcmFjdGlvbik/U3RyaW5nKG8uZnJhY3Rpb24pOlwiXCJ9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by52YWxpZGF0b3JQZXJpb2QmJih0LnZhbGlkYXRvclBlcmlvZD0oby52YWxpZGF0b3JQZXJpb2R8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09by5mcmFjdGlvbiYmKHQuZnJhY3Rpb249by5mcmFjdGlvbiksdH0sZnJvbVBhcnRpYWwobyl7Y29uc3QgdD1zKCk7cmV0dXJuIHQudmFsaWRhdG9yUGVyaW9kPXZvaWQgMCE9PW8udmFsaWRhdG9yUGVyaW9kJiZudWxsIT09by52YWxpZGF0b3JQZXJpb2Q/QmlnSW50KG8udmFsaWRhdG9yUGVyaW9kLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0LmZyYWN0aW9uPW8uZnJhY3Rpb24/P1wiXCIsdH0sZnJvbVByb3RvTXNnOm89PlZhbGlkYXRvclNsYXNoRXZlbnQuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+VmFsaWRhdG9yU2xhc2hFdmVudC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlZhbGlkYXRvclNsYXNoRXZlbnRcIix2YWx1ZTpWYWxpZGF0b3JTbGFzaEV2ZW50LmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuVmFsaWRhdG9yU2xhc2hFdmVudChWYWxpZGF0b3JTbGFzaEV2ZW50KTtjb25zdCBWYWxpZGF0b3JTbGFzaEV2ZW50cz17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuVmFsaWRhdG9yU2xhc2hFdmVudHNcIixlbmNvZGUobyx0PXIuY3JlYXRlKCkpe2Zvcihjb25zdCBlIG9mIG8udmFsaWRhdG9yU2xhc2hFdmVudHMpVmFsaWRhdG9yU2xhc2hFdmVudC5lbmNvZGUoZSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sZGVjb2RlKG8sdCl7Y29uc3Qgcj1vIGluc3RhbmNlb2YgZT9vOm5ldyBlKG8pO2xldCBpPXZvaWQgMD09PXQ/ci5sZW46ci5wb3MrdDtjb25zdCBuPXt2YWxpZGF0b3JTbGFzaEV2ZW50czpbXX07Zm9yKDtyLnBvczxpOyl7Y29uc3Qgbz1yLnVpbnQzMigpO2lmKG8+Pj4zPT0xKW4udmFsaWRhdG9yU2xhc2hFdmVudHMucHVzaChWYWxpZGF0b3JTbGFzaEV2ZW50LmRlY29kZShyLHIudWludDMyKCkpKTtlbHNlIHIuc2tpcFR5cGUoNyZvKX1yZXR1cm4gbn0sZnJvbUpTT046bz0+KHt2YWxpZGF0b3JTbGFzaEV2ZW50czpBcnJheS5pc0FycmF5KG8/LnZhbGlkYXRvclNsYXNoRXZlbnRzKT9vLnZhbGlkYXRvclNsYXNoRXZlbnRzLm1hcCgobz0+VmFsaWRhdG9yU2xhc2hFdmVudC5mcm9tSlNPTihvKSkpOltdfSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIG8udmFsaWRhdG9yU2xhc2hFdmVudHM/dC52YWxpZGF0b3JTbGFzaEV2ZW50cz1vLnZhbGlkYXRvclNsYXNoRXZlbnRzLm1hcCgobz0+bz9WYWxpZGF0b3JTbGFzaEV2ZW50LnRvSlNPTihvKTp2b2lkIDApKTp0LnZhbGlkYXRvclNsYXNoRXZlbnRzPVtdLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9e3ZhbGlkYXRvclNsYXNoRXZlbnRzOltdfTtyZXR1cm4gdC52YWxpZGF0b3JTbGFzaEV2ZW50cz1vLnZhbGlkYXRvclNsYXNoRXZlbnRzPy5tYXAoKG89PlZhbGlkYXRvclNsYXNoRXZlbnQuZnJvbVBhcnRpYWwobykpKXx8W10sdH0sZnJvbVByb3RvTXNnOm89PlZhbGlkYXRvclNsYXNoRXZlbnRzLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlZhbGlkYXRvclNsYXNoRXZlbnRzLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuVmFsaWRhdG9yU2xhc2hFdmVudHNcIix2YWx1ZTpWYWxpZGF0b3JTbGFzaEV2ZW50cy5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlZhbGlkYXRvclNsYXNoRXZlbnRzKFZhbGlkYXRvclNsYXNoRXZlbnRzKTtjb25zdCBGZWVQb29sPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5GZWVQb29sXCIsZW5jb2RlKHQsZT1yLmNyZWF0ZSgpKXtmb3IoY29uc3QgciBvZiB0LmNvbW11bml0eVBvb2wpby5lbmNvZGUocixlLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gZX0sZGVjb2RlKHQscil7Y29uc3QgaT10IGluc3RhbmNlb2YgZT90Om5ldyBlKHQpO2xldCBuPXZvaWQgMD09PXI/aS5sZW46aS5wb3Mrcjtjb25zdCBhPXtjb21tdW5pdHlQb29sOltdfTtmb3IoO2kucG9zPG47KXtjb25zdCB0PWkudWludDMyKCk7aWYodD4+PjM9PTEpYS5jb21tdW5pdHlQb29sLnB1c2goby5kZWNvZGUoaSxpLnVpbnQzMigpKSk7ZWxzZSBpLnNraXBUeXBlKDcmdCl9cmV0dXJuIGF9LGZyb21KU09OOnQ9Pih7Y29tbXVuaXR5UG9vbDpBcnJheS5pc0FycmF5KHQ/LmNvbW11bml0eVBvb2wpP3QuY29tbXVuaXR5UG9vbC5tYXAoKHQ9Pm8uZnJvbUpTT04odCkpKTpbXX0pLHRvSlNPTih0KXtjb25zdCBlPXt9O3JldHVybiB0LmNvbW11bml0eVBvb2w/ZS5jb21tdW5pdHlQb29sPXQuY29tbXVuaXR5UG9vbC5tYXAoKHQ9PnQ/by50b0pTT04odCk6dm9pZCAwKSk6ZS5jb21tdW5pdHlQb29sPVtdLGV9LGZyb21QYXJ0aWFsKHQpe2NvbnN0IGU9e2NvbW11bml0eVBvb2w6W119O3JldHVybiBlLmNvbW11bml0eVBvb2w9dC5jb21tdW5pdHlQb29sPy5tYXAoKHQ9Pm8uZnJvbVBhcnRpYWwodCkpKXx8W10sZX0sZnJvbVByb3RvTXNnOm89PkZlZVBvb2wuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+RmVlUG9vbC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLkZlZVBvb2xcIix2YWx1ZTpGZWVQb29sLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuRmVlUG9vbChGZWVQb29sKTtjb25zdCBDb21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbD17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuQ29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWxcIixlbmNvZGUobyxlPXIuY3JlYXRlKCkpe1wiXCIhPT1vLnRpdGxlJiZlLnVpbnQzMigxMCkuc3RyaW5nKG8udGl0bGUpLFwiXCIhPT1vLmRlc2NyaXB0aW9uJiZlLnVpbnQzMigxOCkuc3RyaW5nKG8uZGVzY3JpcHRpb24pLFwiXCIhPT1vLnJlY2lwaWVudCYmZS51aW50MzIoMjYpLnN0cmluZyhvLnJlY2lwaWVudCk7Zm9yKGNvbnN0IHIgb2Ygby5hbW91bnQpdC5lbmNvZGUocixlLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gZX0sZGVjb2RlKG8scil7Y29uc3QgaT1vIGluc3RhbmNlb2YgZT9vOm5ldyBlKG8pO2xldCBuPXZvaWQgMD09PXI/aS5sZW46aS5wb3Mrcjtjb25zdCBhPXskdHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuQ29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWxcIix0aXRsZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCIscmVjaXBpZW50OlwiXCIsYW1vdW50OltdfTtmb3IoO2kucG9zPG47KXtjb25zdCBvPWkudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6YS50aXRsZT1pLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLmRlc2NyaXB0aW9uPWkuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmEucmVjaXBpZW50PWkuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OmEuYW1vdW50LnB1c2godC5kZWNvZGUoaSxpLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDppLnNraXBUeXBlKDcmbyl9fXJldHVybiBhfSxmcm9tSlNPTjpvPT4oe3RpdGxlOm4oby50aXRsZSk/U3RyaW5nKG8udGl0bGUpOlwiXCIsZGVzY3JpcHRpb246bihvLmRlc2NyaXB0aW9uKT9TdHJpbmcoby5kZXNjcmlwdGlvbik6XCJcIixyZWNpcGllbnQ6bihvLnJlY2lwaWVudCk/U3RyaW5nKG8ucmVjaXBpZW50KTpcIlwiLGFtb3VudDpBcnJheS5pc0FycmF5KG8/LmFtb3VudCk/by5hbW91bnQubWFwKChvPT50LmZyb21KU09OKG8pKSk6W119KSx0b0pTT04obyl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09by50aXRsZSYmKGUudGl0bGU9by50aXRsZSksdm9pZCAwIT09by5kZXNjcmlwdGlvbiYmKGUuZGVzY3JpcHRpb249by5kZXNjcmlwdGlvbiksdm9pZCAwIT09by5yZWNpcGllbnQmJihlLnJlY2lwaWVudD1vLnJlY2lwaWVudCksby5hbW91bnQ/ZS5hbW91bnQ9by5hbW91bnQubWFwKChvPT5vP3QudG9KU09OKG8pOnZvaWQgMCkpOmUuYW1vdW50PVtdLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9eyR0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Db21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbFwiLHRpdGxlOlwiXCIsZGVzY3JpcHRpb246XCJcIixyZWNpcGllbnQ6XCJcIixhbW91bnQ6W119O3JldHVybiBlLnRpdGxlPW8udGl0bGU/P1wiXCIsZS5kZXNjcmlwdGlvbj1vLmRlc2NyaXB0aW9uPz9cIlwiLGUucmVjaXBpZW50PW8ucmVjaXBpZW50Pz9cIlwiLGUuYW1vdW50PW8uYW1vdW50Py5tYXAoKG89PnQuZnJvbVBhcnRpYWwobykpKXx8W10sZX0sZnJvbVByb3RvTXNnOm89PkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuQ29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWxcIix2YWx1ZTpDb21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsKENvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsKTtmdW5jdGlvbiBkKCl7cmV0dXJue3ByZXZpb3VzUGVyaW9kOkJpZ0ludCgwKSxzdGFrZTpcIlwiLGhlaWdodDpCaWdJbnQoMCl9fWNvbnN0IERlbGVnYXRvclN0YXJ0aW5nSW5mbz17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuRGVsZWdhdG9yU3RhcnRpbmdJbmZvXCIsZW5jb2RlOihvLHQ9ci5jcmVhdGUoKSk9PihvLnByZXZpb3VzUGVyaW9kIT09QmlnSW50KDApJiZ0LnVpbnQzMig4KS51aW50NjQoby5wcmV2aW91c1BlcmlvZCksXCJcIiE9PW8uc3Rha2UmJnQudWludDMyKDE4KS5zdHJpbmcoaS5mcm9tVXNlcklucHV0KG8uc3Rha2UsMTgpLmF0b21pY3MpLG8uaGVpZ2h0IT09QmlnSW50KDApJiZ0LnVpbnQzMigyNCkudWludDY0KG8uaGVpZ2h0KSx0KSxkZWNvZGUobyx0KXtjb25zdCByPW8gaW5zdGFuY2VvZiBlP286bmV3IGUobyk7bGV0IG49dm9pZCAwPT09dD9yLmxlbjpyLnBvcyt0O2NvbnN0IGE9ZCgpO2Zvcig7ci5wb3M8bjspe2NvbnN0IG89ci51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTphLnByZXZpb3VzUGVyaW9kPXIudWludDY0KCk7YnJlYWs7Y2FzZSAyOmEuc3Rha2U9aS5mcm9tQXRvbWljcyhyLnN0cmluZygpLDE4KS50b1N0cmluZygpO2JyZWFrO2Nhc2UgMzphLmhlaWdodD1yLnVpbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gYX0sZnJvbUpTT046bz0+KHtwcmV2aW91c1BlcmlvZDpuKG8ucHJldmlvdXNQZXJpb2QpP0JpZ0ludChvLnByZXZpb3VzUGVyaW9kLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxzdGFrZTpuKG8uc3Rha2UpP1N0cmluZyhvLnN0YWtlKTpcIlwiLGhlaWdodDpuKG8uaGVpZ2h0KT9CaWdJbnQoby5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW8ucHJldmlvdXNQZXJpb2QmJih0LnByZXZpb3VzUGVyaW9kPShvLnByZXZpb3VzUGVyaW9kfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PW8uc3Rha2UmJih0LnN0YWtlPW8uc3Rha2UpLHZvaWQgMCE9PW8uaGVpZ2h0JiYodC5oZWlnaHQ9KG8uaGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9ZCgpO3JldHVybiB0LnByZXZpb3VzUGVyaW9kPXZvaWQgMCE9PW8ucHJldmlvdXNQZXJpb2QmJm51bGwhPT1vLnByZXZpb3VzUGVyaW9kP0JpZ0ludChvLnByZXZpb3VzUGVyaW9kLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0LnN0YWtlPW8uc3Rha2U/P1wiXCIsdC5oZWlnaHQ9dm9pZCAwIT09by5oZWlnaHQmJm51bGwhPT1vLmhlaWdodD9CaWdJbnQoby5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHR9LGZyb21Qcm90b01zZzpvPT5EZWxlZ2F0b3JTdGFydGluZ0luZm8uZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+RGVsZWdhdG9yU3RhcnRpbmdJbmZvLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuRGVsZWdhdG9yU3RhcnRpbmdJbmZvXCIsdmFsdWU6RGVsZWdhdG9yU3RhcnRpbmdJbmZvLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuRGVsZWdhdG9yU3RhcnRpbmdJbmZvKERlbGVnYXRvclN0YXJ0aW5nSW5mbyk7Y29uc3QgRGVsZWdhdGlvbkRlbGVnYXRvclJld2FyZD17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuRGVsZWdhdGlvbkRlbGVnYXRvclJld2FyZFwiLGVuY29kZSh0LGU9ci5jcmVhdGUoKSl7XCJcIiE9PXQudmFsaWRhdG9yQWRkcmVzcyYmZS51aW50MzIoMTApLnN0cmluZyh0LnZhbGlkYXRvckFkZHJlc3MpO2Zvcihjb25zdCByIG9mIHQucmV3YXJkKW8uZW5jb2RlKHIsZS51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGV9LGRlY29kZSh0LHIpe2NvbnN0IGk9dCBpbnN0YW5jZW9mIGU/dDpuZXcgZSh0KTtsZXQgbj12b2lkIDA9PT1yP2kubGVuOmkucG9zK3I7Y29uc3QgYT17dmFsaWRhdG9yQWRkcmVzczpcIlwiLHJld2FyZDpbXX07Zm9yKDtpLnBvczxuOyl7Y29uc3QgdD1pLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOmEudmFsaWRhdG9yQWRkcmVzcz1pLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLnJld2FyZC5wdXNoKG8uZGVjb2RlKGksaS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6aS5za2lwVHlwZSg3JnQpfX1yZXR1cm4gYX0sZnJvbUpTT046dD0+KHt2YWxpZGF0b3JBZGRyZXNzOm4odC52YWxpZGF0b3JBZGRyZXNzKT9TdHJpbmcodC52YWxpZGF0b3JBZGRyZXNzKTpcIlwiLHJld2FyZDpBcnJheS5pc0FycmF5KHQ/LnJld2FyZCk/dC5yZXdhcmQubWFwKCh0PT5vLmZyb21KU09OKHQpKSk6W119KSx0b0pTT04odCl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09dC52YWxpZGF0b3JBZGRyZXNzJiYoZS52YWxpZGF0b3JBZGRyZXNzPXQudmFsaWRhdG9yQWRkcmVzcyksdC5yZXdhcmQ/ZS5yZXdhcmQ9dC5yZXdhcmQubWFwKCh0PT50P28udG9KU09OKHQpOnZvaWQgMCkpOmUucmV3YXJkPVtdLGV9LGZyb21QYXJ0aWFsKHQpe2NvbnN0IGU9e3ZhbGlkYXRvckFkZHJlc3M6XCJcIixyZXdhcmQ6W119O3JldHVybiBlLnZhbGlkYXRvckFkZHJlc3M9dC52YWxpZGF0b3JBZGRyZXNzPz9cIlwiLGUucmV3YXJkPXQucmV3YXJkPy5tYXAoKHQ9Pm8uZnJvbVBhcnRpYWwodCkpKXx8W10sZX0sZnJvbVByb3RvTXNnOm89PkRlbGVnYXRpb25EZWxlZ2F0b3JSZXdhcmQuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+RGVsZWdhdGlvbkRlbGVnYXRvclJld2FyZC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLkRlbGVnYXRpb25EZWxlZ2F0b3JSZXdhcmRcIix2YWx1ZTpEZWxlZ2F0aW9uRGVsZWdhdG9yUmV3YXJkLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuRGVsZWdhdGlvbkRlbGVnYXRvclJld2FyZChEZWxlZ2F0aW9uRGVsZWdhdG9yUmV3YXJkKTtjb25zdCBDb21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbFdpdGhEZXBvc2l0PXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Db21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbFdpdGhEZXBvc2l0XCIsZW5jb2RlOihvLHQ9ci5jcmVhdGUoKSk9PihcIlwiIT09by50aXRsZSYmdC51aW50MzIoMTApLnN0cmluZyhvLnRpdGxlKSxcIlwiIT09by5kZXNjcmlwdGlvbiYmdC51aW50MzIoMTgpLnN0cmluZyhvLmRlc2NyaXB0aW9uKSxcIlwiIT09by5yZWNpcGllbnQmJnQudWludDMyKDI2KS5zdHJpbmcoby5yZWNpcGllbnQpLFwiXCIhPT1vLmFtb3VudCYmdC51aW50MzIoMzQpLnN0cmluZyhvLmFtb3VudCksXCJcIiE9PW8uZGVwb3NpdCYmdC51aW50MzIoNDIpLnN0cmluZyhvLmRlcG9zaXQpLHQpLGRlY29kZShvLHQpe2NvbnN0IHI9byBpbnN0YW5jZW9mIGU/bzpuZXcgZShvKTtsZXQgaT12b2lkIDA9PT10P3IubGVuOnIucG9zK3Q7Y29uc3Qgbj17JHR5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsV2l0aERlcG9zaXRcIix0aXRsZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCIscmVjaXBpZW50OlwiXCIsYW1vdW50OlwiXCIsZGVwb3NpdDpcIlwifTtmb3IoO3IucG9zPGk7KXtjb25zdCBvPXIudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6bi50aXRsZT1yLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpuLmRlc2NyaXB0aW9uPXIuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm4ucmVjaXBpZW50PXIuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om4uYW1vdW50PXIuc3RyaW5nKCk7YnJlYWs7Y2FzZSA1Om4uZGVwb3NpdD1yLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gbn0sZnJvbUpTT046bz0+KHt0aXRsZTpuKG8udGl0bGUpP1N0cmluZyhvLnRpdGxlKTpcIlwiLGRlc2NyaXB0aW9uOm4oby5kZXNjcmlwdGlvbik/U3RyaW5nKG8uZGVzY3JpcHRpb24pOlwiXCIscmVjaXBpZW50Om4oby5yZWNpcGllbnQpP1N0cmluZyhvLnJlY2lwaWVudCk6XCJcIixhbW91bnQ6bihvLmFtb3VudCk/U3RyaW5nKG8uYW1vdW50KTpcIlwiLGRlcG9zaXQ6bihvLmRlcG9zaXQpP1N0cmluZyhvLmRlcG9zaXQpOlwiXCJ9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by50aXRsZSYmKHQudGl0bGU9by50aXRsZSksdm9pZCAwIT09by5kZXNjcmlwdGlvbiYmKHQuZGVzY3JpcHRpb249by5kZXNjcmlwdGlvbiksdm9pZCAwIT09by5yZWNpcGllbnQmJih0LnJlY2lwaWVudD1vLnJlY2lwaWVudCksdm9pZCAwIT09by5hbW91bnQmJih0LmFtb3VudD1vLmFtb3VudCksdm9pZCAwIT09by5kZXBvc2l0JiYodC5kZXBvc2l0PW8uZGVwb3NpdCksdH0sZnJvbVBhcnRpYWwobyl7Y29uc3QgdD17JHR5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsV2l0aERlcG9zaXRcIix0aXRsZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCIscmVjaXBpZW50OlwiXCIsYW1vdW50OlwiXCIsZGVwb3NpdDpcIlwifTtyZXR1cm4gdC50aXRsZT1vLnRpdGxlPz9cIlwiLHQuZGVzY3JpcHRpb249by5kZXNjcmlwdGlvbj8/XCJcIix0LnJlY2lwaWVudD1vLnJlY2lwaWVudD8/XCJcIix0LmFtb3VudD1vLmFtb3VudD8/XCJcIix0LmRlcG9zaXQ9by5kZXBvc2l0Pz9cIlwiLHR9LGZyb21Qcm90b01zZzpvPT5Db21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbFdpdGhEZXBvc2l0LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsV2l0aERlcG9zaXQuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Db21tdW5pdHlQb29sU3BlbmRQcm9wb3NhbFdpdGhEZXBvc2l0XCIsdmFsdWU6Q29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWxXaXRoRGVwb3NpdC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsV2l0aERlcG9zaXQoQ29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWxXaXRoRGVwb3NpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJQYXJhbXMiOlsiUGFyYW1zIl0sIlZhbGlkYXRvckhpc3RvcmljYWxSZXdhcmRzIjpbIlZhbGlkYXRvckhpc3RvcmljYWxSZXdhcmRzIl0sIlZhbGlkYXRvckN1cnJlbnRSZXdhcmRzIjpbIlZhbGlkYXRvckN1cnJlbnRSZXdhcmRzIl0sIlZhbGlkYXRvckFjY3VtdWxhdGVkQ29tbWlzc2lvbiI6WyJWYWxpZGF0b3JBY2N1bXVsYXRlZENvbW1pc3Npb24iXSwiVmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzIjpbIlZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkcyJdLCJWYWxpZGF0b3JTbGFzaEV2ZW50IjpbIlZhbGlkYXRvclNsYXNoRXZlbnQiXSwiVmFsaWRhdG9yU2xhc2hFdmVudHMiOlsiVmFsaWRhdG9yU2xhc2hFdmVudHMiXSwiRmVlUG9vbCI6WyJGZWVQb29sIl0sIkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsIjpbIkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsIl0sIkRlbGVnYXRvclN0YXJ0aW5nSW5mbyI6WyJEZWxlZ2F0b3JTdGFydGluZ0luZm8iXSwiRGVsZWdhdGlvbkRlbGVnYXRvclJld2FyZCI6WyJEZWxlZ2F0aW9uRGVsZWdhdG9yUmV3YXJkIl0sIkNvbW11bml0eVBvb2xTcGVuZFByb3Bvc2FsV2l0aERlcG9zaXQiOlsiQ29tbXVuaXR5UG9vbFNwZW5kUHJvcG9zYWxXaXRoRGVwb3NpdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAm96aYj14AAI9eAABNAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jb3Ntb3MvZGlzdHJpYnV0aW9uL3YxYmV0YTEvcXVlcnkuanN7ImltcG9ydHMiOlsiLi4vLi4vYmFzZS9xdWVyeS92MWJldGExL3BhZ2luYXRpb24uanMiLCIuL2Rpc3RyaWJ1dGlvbi5qcyIsIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzIiwiLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vanNvbi1zYWZlLmpzIiwiLi4vLi4vLi4vaGVscGVycy5qcyJdLCJleHBvcnRzIjpbIlF1ZXJ5Q29tbXVuaXR5UG9vbFJlcXVlc3QiLCJRdWVyeUNvbW11bml0eVBvb2xSZXNwb25zZSIsIlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXF1ZXN0IiwiUXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1Jlc3BvbnNlIiwiUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVxdWVzdCIsIlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1Jlc3BvbnNlIiwiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdCIsIlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1Jlc3BvbnNlIiwiUXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXF1ZXN0IiwiUXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXNwb25zZSIsIlF1ZXJ5UGFyYW1zUmVxdWVzdCIsIlF1ZXJ5UGFyYW1zUmVzcG9uc2UiLCJRdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXF1ZXN0IiwiUXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVzcG9uc2UiLCJRdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1JlcXVlc3QiLCJRdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1Jlc3BvbnNlIiwiUXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVxdWVzdCIsIlF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1Jlc3BvbnNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZSxvLHMsdCxyLGEsaSxkLG4sbCx1OyRozY9faW1wb3J0cyhbW1wiLi4vLi4vYmFzZS9xdWVyeS92MWJldGExL3BhZ2luYXRpb24uanNcIiwgW1tcIlBhZ2VSZXF1ZXN0XCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXSxbXCJQYWdlUmVzcG9uc2VcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiLi9kaXN0cmlidXRpb24uanNcIiwgW1tcIlBhcmFtc1wiLFskaM2PX2EgPT4gKHMgPSAkaM2PX2EpXV0sW1wiVmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzXCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXSxbXCJWYWxpZGF0b3JBY2N1bXVsYXRlZENvbW1pc3Npb25cIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dLFtcIlZhbGlkYXRvclNsYXNoRXZlbnRcIixbJGjNj19hID0+IChhID0gJGjNj19hKV1dLFtcIkRlbGVnYXRpb25EZWxlZ2F0b3JSZXdhcmRcIixbJGjNj19hID0+IChpID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vYmFzZS92MWJldGExL2NvaW4uanNcIiwgW1tcIkRlY0NvaW5cIixbJGjNj19hID0+IChkID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKGwgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9qc29uLXNhZmUuanNcIiwgW11dLFtcIi4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAodSA9ICRozY9fYSldXV1dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFF1ZXJ5UGFyYW1zUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlQYXJhbXNSZXF1ZXN0XCIsZW5jb2RlOihlLG89bC5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCB0PXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCByPXt9O2Zvcig7cy5wb3M8dDspe2NvbnN0IGU9cy51aW50MzIoKTtzLnNraXBUeXBlKDcmZSl9cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlQYXJhbXNSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5UGFyYW1zUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5UGFyYW1zUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5UGFyYW1zUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5UGFyYW1zUmVxdWVzdChRdWVyeVBhcmFtc1JlcXVlc3QpO2Z1bmN0aW9uIGMoKXtyZXR1cm57cGFyYW1zOnMuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBRdWVyeVBhcmFtc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVBhcmFtc1Jlc3BvbnNlXCIsZW5jb2RlOihlLG89bC5jcmVhdGUoKSk9Pih2b2lkIDAhPT1lLnBhcmFtcyYmcy5lbmNvZGUoZS5wYXJhbXMsby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKGUsbyl7Y29uc3QgdD1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCByPXZvaWQgMD09PW8/dC5sZW46dC5wb3Mrbztjb25zdCBhPWMoKTtmb3IoO3QucG9zPHI7KXtjb25zdCBlPXQudWludDMyKCk7aWYoZT4+PjM9PTEpYS5wYXJhbXM9cy5kZWNvZGUodCx0LnVpbnQzMigpKTtlbHNlIHQuc2tpcFR5cGUoNyZlKX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHtwYXJhbXM6dShlLnBhcmFtcyk/cy5mcm9tSlNPTihlLnBhcmFtcyk6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUucGFyYW1zJiYoby5wYXJhbXM9ZS5wYXJhbXM/cy50b0pTT04oZS5wYXJhbXMpOnZvaWQgMCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1jKCk7cmV0dXJuIG8ucGFyYW1zPXZvaWQgMCE9PWUucGFyYW1zJiZudWxsIT09ZS5wYXJhbXM/cy5mcm9tUGFydGlhbChlLnBhcmFtcyk6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5RdWVyeVBhcmFtc1Jlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5UGFyYW1zUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVBhcmFtc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlQYXJhbXNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5UGFyYW1zUmVzcG9uc2UoUXVlcnlQYXJhbXNSZXNwb25zZSk7Y29uc3QgUXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1JlcXVlc3RcIixlbmNvZGU6KGUsbz1sLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLnZhbGlkYXRvckFkZHJlc3MmJm8udWludDMyKDEwKS5zdHJpbmcoZS52YWxpZGF0b3JBZGRyZXNzKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHQ9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IHI9e3ZhbGlkYXRvckFkZHJlc3M6XCJcIn07Zm9yKDtzLnBvczx0Oyl7Y29uc3QgZT1zLnVpbnQzMigpO2lmKGU+Pj4zPT0xKXIudmFsaWRhdG9yQWRkcmVzcz1zLnN0cmluZygpO2Vsc2Ugcy5za2lwVHlwZSg3JmUpfXJldHVybiByfSxmcm9tSlNPTjplPT4oe3ZhbGlkYXRvckFkZHJlc3M6dShlLnZhbGlkYXRvckFkZHJlc3MpP1N0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS52YWxpZGF0b3JBZGRyZXNzJiYoby52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcyksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17dmFsaWRhdG9yQWRkcmVzczpcIlwifTtyZXR1cm4gby52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcz8/XCJcIixvfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVxdWVzdChRdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1JlcXVlc3QpO2Z1bmN0aW9uIGcoKXtyZXR1cm57cmV3YXJkczp0LmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgUXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXNwb25zZVwiLGVuY29kZTooZSxvPWwuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5yZXdhcmRzJiZ0LmVuY29kZShlLnJld2FyZHMsby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCByPXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCBhPWcoKTtmb3IoO3MucG9zPHI7KXtjb25zdCBlPXMudWludDMyKCk7aWYoZT4+PjM9PTEpYS5yZXdhcmRzPXQuZGVjb2RlKHMscy51aW50MzIoKSk7ZWxzZSBzLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7cmV3YXJkczp1KGUucmV3YXJkcyk/dC5mcm9tSlNPTihlLnJld2FyZHMpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLnJld2FyZHMmJihvLnJld2FyZHM9ZS5yZXdhcmRzP3QudG9KU09OKGUucmV3YXJkcyk6dm9pZCAwKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPWcoKTtyZXR1cm4gby5yZXdhcmRzPXZvaWQgMCE9PWUucmV3YXJkcyYmbnVsbCE9PWUucmV3YXJkcz90LmZyb21QYXJ0aWFsKGUucmV3YXJkcyk6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5RdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1Jlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVzcG9uc2UoUXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXNwb25zZSk7Y29uc3QgUXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVxdWVzdFwiLGVuY29kZTooZSxvPWwuY3JlYXRlKCkpPT4oXCJcIiE9PWUudmFsaWRhdG9yQWRkcmVzcyYmby51aW50MzIoMTApLnN0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpLG8pLGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgdD12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3Qgcj17dmFsaWRhdG9yQWRkcmVzczpcIlwifTtmb3IoO3MucG9zPHQ7KXtjb25zdCBlPXMudWludDMyKCk7aWYoZT4+PjM9PTEpci52YWxpZGF0b3JBZGRyZXNzPXMuc3RyaW5nKCk7ZWxzZSBzLnNraXBUeXBlKDcmZSl9cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7dmFsaWRhdG9yQWRkcmVzczp1KGUudmFsaWRhdG9yQWRkcmVzcyk/U3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLnZhbGlkYXRvckFkZHJlc3MmJihvLnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXt2YWxpZGF0b3JBZGRyZXNzOlwiXCJ9O3JldHVybiBvLnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5RdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5VmFsaWRhdG9yQ29tbWlzc2lvblJlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXF1ZXN0XCIsdmFsdWU6UXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5VmFsaWRhdG9yQ29tbWlzc2lvblJlcXVlc3QoUXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVxdWVzdCk7ZnVuY3Rpb24gcCgpe3JldHVybntjb21taXNzaW9uOnIuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBRdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1sLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUuY29tbWlzc2lvbiYmci5lbmNvZGUoZS5jb21taXNzaW9uLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgdD12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3QgYT1wKCk7Zm9yKDtzLnBvczx0Oyl7Y29uc3QgZT1zLnVpbnQzMigpO2lmKGU+Pj4zPT0xKWEuY29tbWlzc2lvbj1yLmRlY29kZShzLHMudWludDMyKCkpO2Vsc2Ugcy5za2lwVHlwZSg3JmUpfXJldHVybiBhfSxmcm9tSlNPTjplPT4oe2NvbW1pc3Npb246dShlLmNvbW1pc3Npb24pP3IuZnJvbUpTT04oZS5jb21taXNzaW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5jb21taXNzaW9uJiYoby5jb21taXNzaW9uPWUuY29tbWlzc2lvbj9yLnRvSlNPTihlLmNvbW1pc3Npb24pOnZvaWQgMCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1wKCk7cmV0dXJuIG8uY29tbWlzc2lvbj12b2lkIDAhPT1lLmNvbW1pc3Npb24mJm51bGwhPT1lLmNvbW1pc3Npb24/ci5mcm9tUGFydGlhbChlLmNvbW1pc3Npb24pOnZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZVwiLHZhbHVlOlF1ZXJ5VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVzcG9uc2UoUXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVzcG9uc2UpO2Z1bmN0aW9uIG0oKXtyZXR1cm57dmFsaWRhdG9yQWRkcmVzczpcIlwiLHN0YXJ0aW5nSGVpZ2h0OkJpZ0ludCgwKSxlbmRpbmdIZWlnaHQ6QmlnSW50KDApLHBhZ2luYXRpb246dm9pZCAwfX1jb25zdCBRdWVyeVZhbGlkYXRvclNsYXNoZXNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVZhbGlkYXRvclNsYXNoZXNSZXF1ZXN0XCIsZW5jb2RlOihvLHM9bC5jcmVhdGUoKSk9PihcIlwiIT09by52YWxpZGF0b3JBZGRyZXNzJiZzLnVpbnQzMigxMCkuc3RyaW5nKG8udmFsaWRhdG9yQWRkcmVzcyksby5zdGFydGluZ0hlaWdodCE9PUJpZ0ludCgwKSYmcy51aW50MzIoMTYpLnVpbnQ2NChvLnN0YXJ0aW5nSGVpZ2h0KSxvLmVuZGluZ0hlaWdodCE9PUJpZ0ludCgwKSYmcy51aW50MzIoMjQpLnVpbnQ2NChvLmVuZGluZ0hlaWdodCksdm9pZCAwIT09by5wYWdpbmF0aW9uJiZlLmVuY29kZShvLnBhZ2luYXRpb24scy51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCkscyksZGVjb2RlKG8scyl7Y29uc3QgdD1vIGluc3RhbmNlb2Ygbj9vOm5ldyBuKG8pO2xldCByPXZvaWQgMD09PXM/dC5sZW46dC5wb3Mrcztjb25zdCBhPW0oKTtmb3IoO3QucG9zPHI7KXtjb25zdCBvPXQudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6YS52YWxpZGF0b3JBZGRyZXNzPXQuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmEuc3RhcnRpbmdIZWlnaHQ9dC51aW50NjQoKTticmVhaztjYXNlIDM6YS5lbmRpbmdIZWlnaHQ9dC51aW50NjQoKTticmVhaztjYXNlIDQ6YS5wYWdpbmF0aW9uPWUuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmbyl9fXJldHVybiBhfSxmcm9tSlNPTjpvPT4oe3ZhbGlkYXRvckFkZHJlc3M6dShvLnZhbGlkYXRvckFkZHJlc3MpP1N0cmluZyhvLnZhbGlkYXRvckFkZHJlc3MpOlwiXCIsc3RhcnRpbmdIZWlnaHQ6dShvLnN0YXJ0aW5nSGVpZ2h0KT9CaWdJbnQoby5zdGFydGluZ0hlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksZW5kaW5nSGVpZ2h0OnUoby5lbmRpbmdIZWlnaHQpP0JpZ0ludChvLmVuZGluZ0hlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCkscGFnaW5hdGlvbjp1KG8ucGFnaW5hdGlvbik/ZS5mcm9tSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCBzPXt9O3JldHVybiB2b2lkIDAhPT1vLnZhbGlkYXRvckFkZHJlc3MmJihzLnZhbGlkYXRvckFkZHJlc3M9by52YWxpZGF0b3JBZGRyZXNzKSx2b2lkIDAhPT1vLnN0YXJ0aW5nSGVpZ2h0JiYocy5zdGFydGluZ0hlaWdodD0oby5zdGFydGluZ0hlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1vLmVuZGluZ0hlaWdodCYmKHMuZW5kaW5nSGVpZ2h0PShvLmVuZGluZ0hlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1vLnBhZ2luYXRpb24mJihzLnBhZ2luYXRpb249by5wYWdpbmF0aW9uP2UudG9KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwKSxzfSxmcm9tUGFydGlhbChvKXtjb25zdCBzPW0oKTtyZXR1cm4gcy52YWxpZGF0b3JBZGRyZXNzPW8udmFsaWRhdG9yQWRkcmVzcz8/XCJcIixzLnN0YXJ0aW5nSGVpZ2h0PXZvaWQgMCE9PW8uc3RhcnRpbmdIZWlnaHQmJm51bGwhPT1vLnN0YXJ0aW5nSGVpZ2h0P0JpZ0ludChvLnN0YXJ0aW5nSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxzLmVuZGluZ0hlaWdodD12b2lkIDAhPT1vLmVuZGluZ0hlaWdodCYmbnVsbCE9PW8uZW5kaW5nSGVpZ2h0P0JpZ0ludChvLmVuZGluZ0hlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCkscy5wYWdpbmF0aW9uPXZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmbnVsbCE9PW8ucGFnaW5hdGlvbj9lLmZyb21QYXJ0aWFsKG8ucGFnaW5hdGlvbik6dm9pZCAwLHN9LGZyb21Qcm90b01zZzplPT5RdWVyeVZhbGlkYXRvclNsYXNoZXNSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVZhbGlkYXRvclNsYXNoZXNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1JlcXVlc3QoUXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVxdWVzdCk7Y29uc3QgUXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1Jlc3BvbnNlXCIsZW5jb2RlKGUscz1sLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLnNsYXNoZXMpYS5lbmNvZGUobyxzLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZvLmVuY29kZShlLnBhZ2luYXRpb24scy51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksc30sZGVjb2RlKGUscyl7Y29uc3QgdD1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCByPXZvaWQgMD09PXM/dC5sZW46dC5wb3Mrcztjb25zdCBpPXtzbGFzaGVzOltdLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO3QucG9zPHI7KXtjb25zdCBlPXQudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5zbGFzaGVzLnB1c2goYS5kZWNvZGUodCx0LnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOmkucGFnaW5hdGlvbj1vLmRlY29kZSh0LHQudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtzbGFzaGVzOkFycmF5LmlzQXJyYXkoZT8uc2xhc2hlcyk/ZS5zbGFzaGVzLm1hcCgoZT0+YS5mcm9tSlNPTihlKSkpOltdLHBhZ2luYXRpb246dShlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgcz17fTtyZXR1cm4gZS5zbGFzaGVzP3Muc2xhc2hlcz1lLnNsYXNoZXMubWFwKChlPT5lP2EudG9KU09OKGUpOnZvaWQgMCkpOnMuc2xhc2hlcz1bXSx2b2lkIDAhPT1lLnBhZ2luYXRpb24mJihzLnBhZ2luYXRpb249ZS5wYWdpbmF0aW9uP28udG9KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwKSxzfSxmcm9tUGFydGlhbChlKXtjb25zdCBzPXtzbGFzaGVzOltdLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gcy5zbGFzaGVzPWUuc2xhc2hlcz8ubWFwKChlPT5hLmZyb21QYXJ0aWFsKGUpKSl8fFtdLHMucGFnaW5hdGlvbj12b2lkIDAhPT1lLnBhZ2luYXRpb24mJm51bGwhPT1lLnBhZ2luYXRpb24/by5mcm9tUGFydGlhbChlLnBhZ2luYXRpb24pOnZvaWQgMCxzfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeVZhbGlkYXRvclNsYXNoZXNSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVzcG9uc2UoUXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdFwiLGVuY29kZTooZSxvPWwuY3JlYXRlKCkpPT4oXCJcIiE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmby51aW50MzIoMTApLnN0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpLFwiXCIhPT1lLnZhbGlkYXRvckFkZHJlc3MmJm8udWludDMyKDE4KS5zdHJpbmcoZS52YWxpZGF0b3JBZGRyZXNzKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHQ9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IHI9e2RlbGVnYXRvckFkZHJlc3M6XCJcIix2YWxpZGF0b3JBZGRyZXNzOlwiXCJ9O2Zvcig7cy5wb3M8dDspe2NvbnN0IGU9cy51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLmRlbGVnYXRvckFkZHJlc3M9cy5zdHJpbmcoKTticmVhaztjYXNlIDI6ci52YWxpZGF0b3JBZGRyZXNzPXMuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpzLnNraXBUeXBlKDcmZSl9fXJldHVybiByfSxmcm9tSlNPTjplPT4oe2RlbGVnYXRvckFkZHJlc3M6dShlLmRlbGVnYXRvckFkZHJlc3MpP1N0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpOlwiXCIsdmFsaWRhdG9yQWRkcmVzczp1KGUudmFsaWRhdG9yQWRkcmVzcyk/U3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbGVnYXRvckFkZHJlc3MmJihvLmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzKSx2b2lkIDAhPT1lLnZhbGlkYXRvckFkZHJlc3MmJihvLnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpcIlwifTtyZXR1cm4gby5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcz8/XCJcIixvLnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5RdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdChRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdCk7Y29uc3QgUXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeURlbGVnYXRpb25SZXdhcmRzUmVzcG9uc2VcIixlbmNvZGUoZSxvPWwuY3JlYXRlKCkpe2Zvcihjb25zdCBzIG9mIGUucmV3YXJkcylkLmVuY29kZShzLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBvfSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHQ9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IHI9e3Jld2FyZHM6W119O2Zvcig7cy5wb3M8dDspe2NvbnN0IGU9cy51aW50MzIoKTtpZihlPj4+Mz09MSlyLnJld2FyZHMucHVzaChkLmRlY29kZShzLHMudWludDMyKCkpKTtlbHNlIHMuc2tpcFR5cGUoNyZlKX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtyZXdhcmRzOkFycmF5LmlzQXJyYXkoZT8ucmV3YXJkcyk/ZS5yZXdhcmRzLm1hcCgoZT0+ZC5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIGUucmV3YXJkcz9vLnJld2FyZHM9ZS5yZXdhcmRzLm1hcCgoZT0+ZT9kLnRvSlNPTihlKTp2b2lkIDApKTpvLnJld2FyZHM9W10sb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17cmV3YXJkczpbXX07cmV0dXJuIG8ucmV3YXJkcz1lLnJld2FyZHM/Lm1hcCgoZT0+ZC5mcm9tUGFydGlhbChlKSkpfHxbXSxvfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1Jlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdGlvblJld2FyZHNSZXNwb25zZShRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1JlcXVlc3RcIixlbmNvZGU6KGUsbz1sLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbGVnYXRvckFkZHJlc3MmJm8udWludDMyKDEwKS5zdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHQ9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IHI9e2RlbGVnYXRvckFkZHJlc3M6XCJcIn07Zm9yKDtzLnBvczx0Oyl7Y29uc3QgZT1zLnVpbnQzMigpO2lmKGU+Pj4zPT0xKXIuZGVsZWdhdG9yQWRkcmVzcz1zLnN0cmluZygpO2Vsc2Ugcy5za2lwVHlwZSg3JmUpfXJldHVybiByfSxmcm9tSlNPTjplPT4oe2RlbGVnYXRvckFkZHJlc3M6dShlLmRlbGVnYXRvckFkZHJlc3MpP1N0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiYoby5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcyksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17ZGVsZWdhdG9yQWRkcmVzczpcIlwifTtyZXR1cm4gby5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcz8/XCJcIixvfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVxdWVzdC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXF1ZXN0KFF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1JlcXVlc3QpO2NvbnN0IFF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZVwiLGVuY29kZShlLG89bC5jcmVhdGUoKSl7Zm9yKGNvbnN0IHMgb2YgZS5yZXdhcmRzKWkuZW5jb2RlKHMsby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7Zm9yKGNvbnN0IHMgb2YgZS50b3RhbClkLmVuY29kZShzLG8udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBvfSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHQ9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IHI9e3Jld2FyZHM6W10sdG90YWw6W119O2Zvcig7cy5wb3M8dDspe2NvbnN0IGU9cy51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLnJld2FyZHMucHVzaChpLmRlY29kZShzLHMudWludDMyKCkpKTticmVhaztjYXNlIDI6ci50b3RhbC5wdXNoKGQuZGVjb2RlKHMscy51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6cy5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtyZXdhcmRzOkFycmF5LmlzQXJyYXkoZT8ucmV3YXJkcyk/ZS5yZXdhcmRzLm1hcCgoZT0+aS5mcm9tSlNPTihlKSkpOltdLHRvdGFsOkFycmF5LmlzQXJyYXkoZT8udG90YWwpP2UudG90YWwubWFwKChlPT5kLmZyb21KU09OKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gZS5yZXdhcmRzP28ucmV3YXJkcz1lLnJld2FyZHMubWFwKChlPT5lP2kudG9KU09OKGUpOnZvaWQgMCkpOm8ucmV3YXJkcz1bXSxlLnRvdGFsP28udG90YWw9ZS50b3RhbC5tYXAoKGU9PmU/ZC50b0pTT04oZSk6dm9pZCAwKSk6by50b3RhbD1bXSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtyZXdhcmRzOltdLHRvdGFsOltdfTtyZXR1cm4gby5yZXdhcmRzPWUucmV3YXJkcz8ubWFwKChlPT5pLmZyb21QYXJ0aWFsKGUpKSl8fFtdLG8udG90YWw9ZS50b3RhbD8ubWFwKChlPT5kLmZyb21QYXJ0aWFsKGUpKSl8fFtdLG99LGZyb21Qcm90b01zZzplPT5RdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZShRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZSk7Y29uc3QgUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdFwiLGVuY29kZTooZSxvPWwuY3JlYXRlKCkpPT4oXCJcIiE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmby51aW50MzIoMTApLnN0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpLG8pLGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgdD12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3Qgcj17ZGVsZWdhdG9yQWRkcmVzczpcIlwifTtmb3IoO3MucG9zPHQ7KXtjb25zdCBlPXMudWludDMyKCk7aWYoZT4+PjM9PTEpci5kZWxlZ2F0b3JBZGRyZXNzPXMuc3RyaW5nKCk7ZWxzZSBzLnNraXBUeXBlKDcmZSl9cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcmVzczp1KGUuZGVsZWdhdG9yQWRkcmVzcyk/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbGVnYXRvckFkZHJlc3MmJihvLmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCJ9O3JldHVybiBvLmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QoUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdCk7Y29uc3QgUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1Jlc3BvbnNlXCIsZW5jb2RlKGUsbz1sLmNyZWF0ZSgpKXtmb3IoY29uc3QgcyBvZiBlLnZhbGlkYXRvcnMpby51aW50MzIoMTApLnN0cmluZyhzKTtyZXR1cm4gb30sZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCB0PXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCByPXt2YWxpZGF0b3JzOltdfTtmb3IoO3MucG9zPHQ7KXtjb25zdCBlPXMudWludDMyKCk7aWYoZT4+PjM9PTEpci52YWxpZGF0b3JzLnB1c2gocy5zdHJpbmcoKSk7ZWxzZSBzLnNraXBUeXBlKDcmZSl9cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7dmFsaWRhdG9yczpBcnJheS5pc0FycmF5KGU/LnZhbGlkYXRvcnMpP2UudmFsaWRhdG9ycy5tYXAoKGU9PlN0cmluZyhlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIGUudmFsaWRhdG9ycz9vLnZhbGlkYXRvcnM9ZS52YWxpZGF0b3JzLm1hcCgoZT0+ZSkpOm8udmFsaWRhdG9ycz1bXSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXt2YWxpZGF0b3JzOltdfTtyZXR1cm4gby52YWxpZGF0b3JzPWUudmFsaWRhdG9ycz8ubWFwKChlPT5lKSl8fFtdLG99LGZyb21Qcm90b01zZzplPT5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZShRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZSk7Y29uc3QgUXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeURlbGVnYXRvcldpdGhkcmF3QWRkcmVzc1JlcXVlc3RcIixlbmNvZGU6KGUsbz1sLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbGVnYXRvckFkZHJlc3MmJm8udWludDMyKDEwKS5zdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHQ9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IHI9e2RlbGVnYXRvckFkZHJlc3M6XCJcIn07Zm9yKDtzLnBvczx0Oyl7Y29uc3QgZT1zLnVpbnQzMigpO2lmKGU+Pj4zPT0xKXIuZGVsZWdhdG9yQWRkcmVzcz1zLnN0cmluZygpO2Vsc2Ugcy5za2lwVHlwZSg3JmUpfXJldHVybiByfSxmcm9tSlNPTjplPT4oe2RlbGVnYXRvckFkZHJlc3M6dShlLmRlbGVnYXRvckFkZHJlc3MpP1N0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiYoby5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcyksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17ZGVsZWdhdG9yQWRkcmVzczpcIlwifTtyZXR1cm4gby5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcz8/XCJcIixvfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXF1ZXN0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVxdWVzdChRdWVyeURlbGVnYXRvcldpdGhkcmF3QWRkcmVzc1JlcXVlc3QpO2NvbnN0IFF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1sLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLndpdGhkcmF3QWRkcmVzcyYmby51aW50MzIoMTApLnN0cmluZyhlLndpdGhkcmF3QWRkcmVzcyksbyksZGVjb2RlKGUsbyl7Y29uc3Qgcz1lIGluc3RhbmNlb2Ygbj9lOm5ldyBuKGUpO2xldCB0PXZvaWQgMD09PW8/cy5sZW46cy5wb3Mrbztjb25zdCByPXt3aXRoZHJhd0FkZHJlc3M6XCJcIn07Zm9yKDtzLnBvczx0Oyl7Y29uc3QgZT1zLnVpbnQzMigpO2lmKGU+Pj4zPT0xKXIud2l0aGRyYXdBZGRyZXNzPXMuc3RyaW5nKCk7ZWxzZSBzLnNraXBUeXBlKDcmZSl9cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7d2l0aGRyYXdBZGRyZXNzOnUoZS53aXRoZHJhd0FkZHJlc3MpP1N0cmluZyhlLndpdGhkcmF3QWRkcmVzcyk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLndpdGhkcmF3QWRkcmVzcyYmKG8ud2l0aGRyYXdBZGRyZXNzPWUud2l0aGRyYXdBZGRyZXNzKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXt3aXRoZHJhd0FkZHJlc3M6XCJcIn07cmV0dXJuIG8ud2l0aGRyYXdBZGRyZXNzPWUud2l0aGRyYXdBZGRyZXNzPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5RdWVyeURlbGVnYXRvcldpdGhkcmF3QWRkcmVzc1Jlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeURlbGVnYXRvcldpdGhkcmF3QWRkcmVzc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVzcG9uc2UoUXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXNwb25zZSk7Y29uc3QgUXVlcnlDb21tdW5pdHlQb29sUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlDb21tdW5pdHlQb29sUmVxdWVzdFwiLGVuY29kZTooZSxvPWwuY3JlYXRlKCkpPT5vLGRlY29kZShlLG8pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbihlKTtsZXQgdD12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3Qgcj17fTtmb3IoO3MucG9zPHQ7KXtjb25zdCBlPXMudWludDMyKCk7cy5za2lwVHlwZSg3JmUpfXJldHVybiByfSxmcm9tSlNPTjplPT4oe30pLHRvSlNPTjplPT4oe30pLGZyb21QYXJ0aWFsOmU9Pih7fSksZnJvbVByb3RvTXNnOmU9PlF1ZXJ5Q29tbXVuaXR5UG9vbFJlcXVlc3QuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlDb21tdW5pdHlQb29sUmVxdWVzdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLlF1ZXJ5Q29tbXVuaXR5UG9vbFJlcXVlc3RcIix2YWx1ZTpRdWVyeUNvbW11bml0eVBvb2xSZXF1ZXN0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlDb21tdW5pdHlQb29sUmVxdWVzdChRdWVyeUNvbW11bml0eVBvb2xSZXF1ZXN0KTtjb25zdCBRdWVyeUNvbW11bml0eVBvb2xSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuUXVlcnlDb21tdW5pdHlQb29sUmVzcG9uc2VcIixlbmNvZGUoZSxvPWwuY3JlYXRlKCkpe2Zvcihjb25zdCBzIG9mIGUucG9vbClkLmVuY29kZShzLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBvfSxkZWNvZGUoZSxvKXtjb25zdCBzPWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSk7bGV0IHQ9dm9pZCAwPT09bz9zLmxlbjpzLnBvcytvO2NvbnN0IHI9e3Bvb2w6W119O2Zvcig7cy5wb3M8dDspe2NvbnN0IGU9cy51aW50MzIoKTtpZihlPj4+Mz09MSlyLnBvb2wucHVzaChkLmRlY29kZShzLHMudWludDMyKCkpKTtlbHNlIHMuc2tpcFR5cGUoNyZlKX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtwb29sOkFycmF5LmlzQXJyYXkoZT8ucG9vbCk/ZS5wb29sLm1hcCgoZT0+ZC5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIGUucG9vbD9vLnBvb2w9ZS5wb29sLm1hcCgoZT0+ZT9kLnRvSlNPTihlKTp2b2lkIDApKTpvLnBvb2w9W10sb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17cG9vbDpbXX07cmV0dXJuIG8ucG9vbD1lLnBvb2w/Lm1hcCgoZT0+ZC5mcm9tUGFydGlhbChlKSkpfHxbXSxvfSxmcm9tUHJvdG9Nc2c6ZT0+UXVlcnlDb21tdW5pdHlQb29sUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UXVlcnlDb21tdW5pdHlQb29sUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5RdWVyeUNvbW11bml0eVBvb2xSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5Q29tbXVuaXR5UG9vbFJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlDb21tdW5pdHlQb29sUmVzcG9uc2UoUXVlcnlDb21tdW5pdHlQb29sUmVzcG9uc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUXVlcnlQYXJhbXNSZXF1ZXN0IjpbIlF1ZXJ5UGFyYW1zUmVxdWVzdCJdLCJRdWVyeVBhcmFtc1Jlc3BvbnNlIjpbIlF1ZXJ5UGFyYW1zUmVzcG9uc2UiXSwiUXVlcnlWYWxpZGF0b3JPdXRzdGFuZGluZ1Jld2FyZHNSZXF1ZXN0IjpbIlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVxdWVzdCJdLCJRdWVyeVZhbGlkYXRvck91dHN0YW5kaW5nUmV3YXJkc1Jlc3BvbnNlIjpbIlF1ZXJ5VmFsaWRhdG9yT3V0c3RhbmRpbmdSZXdhcmRzUmVzcG9uc2UiXSwiUXVlcnlWYWxpZGF0b3JDb21taXNzaW9uUmVxdWVzdCI6WyJRdWVyeVZhbGlkYXRvckNvbW1pc3Npb25SZXF1ZXN0Il0sIlF1ZXJ5VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlIjpbIlF1ZXJ5VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlIl0sIlF1ZXJ5VmFsaWRhdG9yU2xhc2hlc1JlcXVlc3QiOlsiUXVlcnlWYWxpZGF0b3JTbGFzaGVzUmVxdWVzdCJdLCJRdWVyeVZhbGlkYXRvclNsYXNoZXNSZXNwb25zZSI6WyJRdWVyeVZhbGlkYXRvclNsYXNoZXNSZXNwb25zZSJdLCJRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdCI6WyJRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdCJdLCJRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVzcG9uc2UiOlsiUXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1Jlc3BvbnNlIl0sIlF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1JlcXVlc3QiOlsiUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVxdWVzdCJdLCJRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZSI6WyJRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZSJdLCJRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0IjpbIlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QiXSwiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2UiOlsiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2UiXSwiUXVlcnlEZWxlZ2F0b3JXaXRoZHJhd0FkZHJlc3NSZXF1ZXN0IjpbIlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVxdWVzdCJdLCJRdWVyeURlbGVnYXRvcldpdGhkcmF3QWRkcmVzc1Jlc3BvbnNlIjpbIlF1ZXJ5RGVsZWdhdG9yV2l0aGRyYXdBZGRyZXNzUmVzcG9uc2UiXSwiUXVlcnlDb21tdW5pdHlQb29sUmVxdWVzdCI6WyJRdWVyeUNvbW11bml0eVBvb2xSZXF1ZXN0Il0sIlF1ZXJ5Q29tbXVuaXR5UG9vbFJlc3BvbnNlIjpbIlF1ZXJ5Q29tbXVuaXR5UG9vbFJlc3BvbnNlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAIqVDmbnJwAA5ycAAEoAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS90eC5qc3siaW1wb3J0cyI6WyIuLi8uLi9iYXNlL3YxYmV0YTEvY29pbi5qcyIsIi4uLy4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJNc2dGdW5kQ29tbXVuaXR5UG9vbCIsIk1zZ0Z1bmRDb21tdW5pdHlQb29sUmVzcG9uc2UiLCJNc2dTZXRXaXRoZHJhd0FkZHJlc3MiLCJNc2dTZXRXaXRoZHJhd0FkZHJlc3NSZXNwb25zZSIsIk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkIiwiTXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmRSZXNwb25zZSIsIk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvbiIsIk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbyxlLHMsdDskaM2PX2ltcG9ydHMoW1tcIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzXCIsIFtbXCJDb2luXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBNc2dTZXRXaXRoZHJhd0FkZHJlc3M9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLk1zZ1NldFdpdGhkcmF3QWRkcmVzc1wiLGVuY29kZToobyxlPXMuY3JlYXRlKCkpPT4oXCJcIiE9PW8uZGVsZWdhdG9yQWRkcmVzcyYmZS51aW50MzIoMTApLnN0cmluZyhvLmRlbGVnYXRvckFkZHJlc3MpLFwiXCIhPT1vLndpdGhkcmF3QWRkcmVzcyYmZS51aW50MzIoMTgpLnN0cmluZyhvLndpdGhkcmF3QWRkcmVzcyksZSksZGVjb2RlKG8scyl7Y29uc3QgdD1vIGluc3RhbmNlb2YgZT9vOm5ldyBlKG8pO2xldCByPXZvaWQgMD09PXM/dC5sZW46dC5wb3Mrcztjb25zdCBkPXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCIsd2l0aGRyYXdBZGRyZXNzOlwiXCJ9O2Zvcig7dC5wb3M8cjspe2NvbnN0IG89dC51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpkLmRlbGVnYXRvckFkZHJlc3M9dC5zdHJpbmcoKTticmVhaztjYXNlIDI6ZC53aXRoZHJhd0FkZHJlc3M9dC5zdHJpbmcoKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGR9LGZyb21KU09OOm89Pih7ZGVsZWdhdG9yQWRkcmVzczp0KG8uZGVsZWdhdG9yQWRkcmVzcyk/U3RyaW5nKG8uZGVsZWdhdG9yQWRkcmVzcyk6XCJcIix3aXRoZHJhd0FkZHJlc3M6dChvLndpdGhkcmF3QWRkcmVzcyk/U3RyaW5nKG8ud2l0aGRyYXdBZGRyZXNzKTpcIlwifSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8uZGVsZWdhdG9yQWRkcmVzcyYmKGUuZGVsZWdhdG9yQWRkcmVzcz1vLmRlbGVnYXRvckFkZHJlc3MpLHZvaWQgMCE9PW8ud2l0aGRyYXdBZGRyZXNzJiYoZS53aXRoZHJhd0FkZHJlc3M9by53aXRoZHJhd0FkZHJlc3MpLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9e2RlbGVnYXRvckFkZHJlc3M6XCJcIix3aXRoZHJhd0FkZHJlc3M6XCJcIn07cmV0dXJuIGUuZGVsZWdhdG9yQWRkcmVzcz1vLmRlbGVnYXRvckFkZHJlc3M/P1wiXCIsZS53aXRoZHJhd0FkZHJlc3M9by53aXRoZHJhd0FkZHJlc3M/P1wiXCIsZX0sZnJvbVByb3RvTXNnOm89Pk1zZ1NldFdpdGhkcmF3QWRkcmVzcy5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Nc2dTZXRXaXRoZHJhd0FkZHJlc3MuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dTZXRXaXRoZHJhd0FkZHJlc3NcIix2YWx1ZTpNc2dTZXRXaXRoZHJhd0FkZHJlc3MuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dTZXRXaXRoZHJhd0FkZHJlc3MoTXNnU2V0V2l0aGRyYXdBZGRyZXNzKTtjb25zdCBNc2dTZXRXaXRoZHJhd0FkZHJlc3NSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnU2V0V2l0aGRyYXdBZGRyZXNzUmVzcG9uc2VcIixlbmNvZGU6KG8sZT1zLmNyZWF0ZSgpKT0+ZSxkZWNvZGUobyxzKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBlP286bmV3IGUobyk7bGV0IHI9dm9pZCAwPT09cz90Lmxlbjp0LnBvcytzO2NvbnN0IGQ9e307Zm9yKDt0LnBvczxyOyl7Y29uc3Qgbz10LnVpbnQzMigpO3Quc2tpcFR5cGUoNyZvKX1yZXR1cm4gZH0sZnJvbUpTT046bz0+KHt9KSx0b0pTT046bz0+KHt9KSxmcm9tUGFydGlhbDpvPT4oe30pLGZyb21Qcm90b01zZzpvPT5Nc2dTZXRXaXRoZHJhd0FkZHJlc3NSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Nc2dTZXRXaXRoZHJhd0FkZHJlc3NSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLk1zZ1NldFdpdGhkcmF3QWRkcmVzc1Jlc3BvbnNlXCIsdmFsdWU6TXNnU2V0V2l0aGRyYXdBZGRyZXNzUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dTZXRXaXRoZHJhd0FkZHJlc3NSZXNwb25zZShNc2dTZXRXaXRoZHJhd0FkZHJlc3NSZXNwb25zZSk7Y29uc3QgTXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmQ9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkXCIsZW5jb2RlOihvLGU9cy5jcmVhdGUoKSk9PihcIlwiIT09by5kZWxlZ2F0b3JBZGRyZXNzJiZlLnVpbnQzMigxMCkuc3RyaW5nKG8uZGVsZWdhdG9yQWRkcmVzcyksXCJcIiE9PW8udmFsaWRhdG9yQWRkcmVzcyYmZS51aW50MzIoMTgpLnN0cmluZyhvLnZhbGlkYXRvckFkZHJlc3MpLGUpLGRlY29kZShvLHMpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIGU/bzpuZXcgZShvKTtsZXQgcj12b2lkIDA9PT1zP3QubGVuOnQucG9zK3M7Y29uc3QgZD17ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvckFkZHJlc3M6XCJcIn07Zm9yKDt0LnBvczxyOyl7Y29uc3Qgbz10LnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmQuZGVsZWdhdG9yQWRkcmVzcz10LnN0cmluZygpO2JyZWFrO2Nhc2UgMjpkLnZhbGlkYXRvckFkZHJlc3M9dC5zdHJpbmcoKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGR9LGZyb21KU09OOm89Pih7ZGVsZWdhdG9yQWRkcmVzczp0KG8uZGVsZWdhdG9yQWRkcmVzcyk/U3RyaW5nKG8uZGVsZWdhdG9yQWRkcmVzcyk6XCJcIix2YWxpZGF0b3JBZGRyZXNzOnQoby52YWxpZGF0b3JBZGRyZXNzKT9TdHJpbmcoby52YWxpZGF0b3JBZGRyZXNzKTpcIlwifSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8uZGVsZWdhdG9yQWRkcmVzcyYmKGUuZGVsZWdhdG9yQWRkcmVzcz1vLmRlbGVnYXRvckFkZHJlc3MpLHZvaWQgMCE9PW8udmFsaWRhdG9yQWRkcmVzcyYmKGUudmFsaWRhdG9yQWRkcmVzcz1vLnZhbGlkYXRvckFkZHJlc3MpLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9e2RlbGVnYXRvckFkZHJlc3M6XCJcIix2YWxpZGF0b3JBZGRyZXNzOlwiXCJ9O3JldHVybiBlLmRlbGVnYXRvckFkZHJlc3M9by5kZWxlZ2F0b3JBZGRyZXNzPz9cIlwiLGUudmFsaWRhdG9yQWRkcmVzcz1vLnZhbGlkYXRvckFkZHJlc3M/P1wiXCIsZX0sZnJvbVByb3RvTXNnOm89Pk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89Pk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmRcIix2YWx1ZTpNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkKE1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkKTtjb25zdCBNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFJlc3BvbnNlXCIsZW5jb2RlKGUsdD1zLmNyZWF0ZSgpKXtmb3IoY29uc3QgcyBvZiBlLmFtb3VudClvLmVuY29kZShzLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxkZWNvZGUocyx0KXtjb25zdCByPXMgaW5zdGFuY2VvZiBlP3M6bmV3IGUocyk7bGV0IGQ9dm9pZCAwPT09dD9yLmxlbjpyLnBvcyt0O2NvbnN0IGE9e2Ftb3VudDpbXX07Zm9yKDtyLnBvczxkOyl7Y29uc3QgZT1yLnVpbnQzMigpO2lmKGU+Pj4zPT0xKWEuYW1vdW50LnB1c2goby5kZWNvZGUocixyLnVpbnQzMigpKSk7ZWxzZSByLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7YW1vdW50OkFycmF5LmlzQXJyYXkoZT8uYW1vdW50KT9lLmFtb3VudC5tYXAoKGU9Pm8uZnJvbUpTT04oZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCBzPXt9O3JldHVybiBlLmFtb3VudD9zLmFtb3VudD1lLmFtb3VudC5tYXAoKGU9PmU/by50b0pTT04oZSk6dm9pZCAwKSk6cy5hbW91bnQ9W10sc30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgcz17YW1vdW50OltdfTtyZXR1cm4gcy5hbW91bnQ9ZS5hbW91bnQ/Lm1hcCgoZT0+by5mcm9tUGFydGlhbChlKSkpfHxbXSxzfSxmcm9tUHJvdG9Nc2c6bz0+TXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmRSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Nc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmRSZXNwb25zZVwiLHZhbHVlOk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFJlc3BvbnNlKE1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkUmVzcG9uc2UpO2NvbnN0IE1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvbj17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnV2l0aGRyYXdWYWxpZGF0b3JDb21taXNzaW9uXCIsZW5jb2RlOihvLGU9cy5jcmVhdGUoKSk9PihcIlwiIT09by52YWxpZGF0b3JBZGRyZXNzJiZlLnVpbnQzMigxMCkuc3RyaW5nKG8udmFsaWRhdG9yQWRkcmVzcyksZSksZGVjb2RlKG8scyl7Y29uc3QgdD1vIGluc3RhbmNlb2YgZT9vOm5ldyBlKG8pO2xldCByPXZvaWQgMD09PXM/dC5sZW46dC5wb3Mrcztjb25zdCBkPXt2YWxpZGF0b3JBZGRyZXNzOlwiXCJ9O2Zvcig7dC5wb3M8cjspe2NvbnN0IG89dC51aW50MzIoKTtpZihvPj4+Mz09MSlkLnZhbGlkYXRvckFkZHJlc3M9dC5zdHJpbmcoKTtlbHNlIHQuc2tpcFR5cGUoNyZvKX1yZXR1cm4gZH0sZnJvbUpTT046bz0+KHt2YWxpZGF0b3JBZGRyZXNzOnQoby52YWxpZGF0b3JBZGRyZXNzKT9TdHJpbmcoby52YWxpZGF0b3JBZGRyZXNzKTpcIlwifSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8udmFsaWRhdG9yQWRkcmVzcyYmKGUudmFsaWRhdG9yQWRkcmVzcz1vLnZhbGlkYXRvckFkZHJlc3MpLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9e3ZhbGlkYXRvckFkZHJlc3M6XCJcIn07cmV0dXJuIGUudmFsaWRhdG9yQWRkcmVzcz1vLnZhbGlkYXRvckFkZHJlc3M/P1wiXCIsZX0sZnJvbVByb3RvTXNnOm89Pk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvbi5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Nc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb24uZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25cIix2YWx1ZTpNc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb24uZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb24oTXNnV2l0aGRyYXdWYWxpZGF0b3JDb21taXNzaW9uKTtjb25zdCBNc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnV2l0aGRyYXdWYWxpZGF0b3JDb21taXNzaW9uUmVzcG9uc2VcIixlbmNvZGUoZSx0PXMuY3JlYXRlKCkpe2Zvcihjb25zdCBzIG9mIGUuYW1vdW50KW8uZW5jb2RlKHMsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGRlY29kZShzLHQpe2NvbnN0IHI9cyBpbnN0YW5jZW9mIGU/czpuZXcgZShzKTtsZXQgZD12b2lkIDA9PT10P3IubGVuOnIucG9zK3Q7Y29uc3QgYT17YW1vdW50OltdfTtmb3IoO3IucG9zPGQ7KXtjb25zdCBlPXIudWludDMyKCk7aWYoZT4+PjM9PTEpYS5hbW91bnQucHVzaChvLmRlY29kZShyLHIudWludDMyKCkpKTtlbHNlIHIuc2tpcFR5cGUoNyZlKX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHthbW91bnQ6QXJyYXkuaXNBcnJheShlPy5hbW91bnQpP2UuYW1vdW50Lm1hcCgoZT0+by5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IHM9e307cmV0dXJuIGUuYW1vdW50P3MuYW1vdW50PWUuYW1vdW50Lm1hcCgoZT0+ZT9vLnRvSlNPTihlKTp2b2lkIDApKTpzLmFtb3VudD1bXSxzfSxmcm9tUGFydGlhbChlKXtjb25zdCBzPXthbW91bnQ6W119O3JldHVybiBzLmFtb3VudD1lLmFtb3VudD8ubWFwKChlPT5vLmZyb21QYXJ0aWFsKGUpKSl8fFtdLHN9LGZyb21Qcm90b01zZzpvPT5Nc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Nc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvblJlc3BvbnNlXCIsdmFsdWU6TXNnV2l0aGRyYXdWYWxpZGF0b3JDb21taXNzaW9uUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZShNc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZSk7Y29uc3QgTXNnRnVuZENvbW11bml0eVBvb2w9e3R5cGVVcmw6XCIvY29zbW9zLmRpc3RyaWJ1dGlvbi52MWJldGExLk1zZ0Z1bmRDb21tdW5pdHlQb29sXCIsZW5jb2RlKGUsdD1zLmNyZWF0ZSgpKXtmb3IoY29uc3QgcyBvZiBlLmFtb3VudClvLmVuY29kZShzLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVyblwiXCIhPT1lLmRlcG9zaXRvciYmdC51aW50MzIoMTgpLnN0cmluZyhlLmRlcG9zaXRvciksdH0sZGVjb2RlKHMsdCl7Y29uc3Qgcj1zIGluc3RhbmNlb2YgZT9zOm5ldyBlKHMpO2xldCBkPXZvaWQgMD09PXQ/ci5sZW46ci5wb3MrdDtjb25zdCBhPXthbW91bnQ6W10sZGVwb3NpdG9yOlwiXCJ9O2Zvcig7ci5wb3M8ZDspe2NvbnN0IGU9ci51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLmFtb3VudC5wdXNoKG8uZGVjb2RlKHIsci51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjphLmRlcG9zaXRvcj1yLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHthbW91bnQ6QXJyYXkuaXNBcnJheShlPy5hbW91bnQpP2UuYW1vdW50Lm1hcCgoZT0+by5mcm9tSlNPTihlKSkpOltdLGRlcG9zaXRvcjp0KGUuZGVwb3NpdG9yKT9TdHJpbmcoZS5kZXBvc2l0b3IpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgcz17fTtyZXR1cm4gZS5hbW91bnQ/cy5hbW91bnQ9ZS5hbW91bnQubWFwKChlPT5lP28udG9KU09OKGUpOnZvaWQgMCkpOnMuYW1vdW50PVtdLHZvaWQgMCE9PWUuZGVwb3NpdG9yJiYocy5kZXBvc2l0b3I9ZS5kZXBvc2l0b3IpLHN9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHM9e2Ftb3VudDpbXSxkZXBvc2l0b3I6XCJcIn07cmV0dXJuIHMuYW1vdW50PWUuYW1vdW50Py5tYXAoKGU9Pm8uZnJvbVBhcnRpYWwoZSkpKXx8W10scy5kZXBvc2l0b3I9ZS5kZXBvc2l0b3I/P1wiXCIsc30sZnJvbVByb3RvTXNnOm89Pk1zZ0Z1bmRDb21tdW5pdHlQb29sLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89Pk1zZ0Z1bmRDb21tdW5pdHlQb29sLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnRnVuZENvbW11bml0eVBvb2xcIix2YWx1ZTpNc2dGdW5kQ29tbXVuaXR5UG9vbC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0Z1bmRDb21tdW5pdHlQb29sKE1zZ0Z1bmRDb21tdW5pdHlQb29sKTtjb25zdCBNc2dGdW5kQ29tbXVuaXR5UG9vbFJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5kaXN0cmlidXRpb24udjFiZXRhMS5Nc2dGdW5kQ29tbXVuaXR5UG9vbFJlc3BvbnNlXCIsZW5jb2RlOihvLGU9cy5jcmVhdGUoKSk9PmUsZGVjb2RlKG8scyl7Y29uc3QgdD1vIGluc3RhbmNlb2YgZT9vOm5ldyBlKG8pO2xldCByPXZvaWQgMD09PXM/dC5sZW46dC5wb3Mrcztjb25zdCBkPXt9O2Zvcig7dC5wb3M8cjspe2NvbnN0IG89dC51aW50MzIoKTt0LnNraXBUeXBlKDcmbyl9cmV0dXJuIGR9LGZyb21KU09OOm89Pih7fSksdG9KU09OOm89Pih7fSksZnJvbVBhcnRpYWw6bz0+KHt9KSxmcm9tUHJvdG9Nc2c6bz0+TXNnRnVuZENvbW11bml0eVBvb2xSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5Nc2dGdW5kQ29tbXVuaXR5UG9vbFJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3MuZGlzdHJpYnV0aW9uLnYxYmV0YTEuTXNnRnVuZENvbW11bml0eVBvb2xSZXNwb25zZVwiLHZhbHVlOk1zZ0Z1bmRDb21tdW5pdHlQb29sUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dGdW5kQ29tbXVuaXR5UG9vbFJlc3BvbnNlKE1zZ0Z1bmRDb21tdW5pdHlQb29sUmVzcG9uc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiTXNnU2V0V2l0aGRyYXdBZGRyZXNzIjpbIk1zZ1NldFdpdGhkcmF3QWRkcmVzcyJdLCJNc2dTZXRXaXRoZHJhd0FkZHJlc3NSZXNwb25zZSI6WyJNc2dTZXRXaXRoZHJhd0FkZHJlc3NSZXNwb25zZSJdLCJNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZCI6WyJNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZCJdLCJNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFJlc3BvbnNlIjpbIk1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkUmVzcG9uc2UiXSwiTXNnV2l0aGRyYXdWYWxpZGF0b3JDb21taXNzaW9uIjpbIk1zZ1dpdGhkcmF3VmFsaWRhdG9yQ29tbWlzc2lvbiJdLCJNc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZSI6WyJNc2dXaXRoZHJhd1ZhbGlkYXRvckNvbW1pc3Npb25SZXNwb25zZSJdLCJNc2dGdW5kQ29tbXVuaXR5UG9vbCI6WyJNc2dGdW5kQ29tbXVuaXR5UG9vbCJdLCJNc2dGdW5kQ29tbXVuaXR5UG9vbFJlc3BvbnNlIjpbIk1zZ0Z1bmRDb21tdW5pdHlQb29sUmVzcG9uc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAuAxS0nadAAB2nQAASAAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9xdWVyeS5qc3siaW1wb3J0cyI6WyIuLi8uLi9iYXNlL3F1ZXJ5L3YxYmV0YTEvcGFnaW5hdGlvbi5qcyIsIi4vc3Rha2luZy5qcyIsIi4uLy4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJRdWVyeURlbGVnYXRpb25SZXF1ZXN0IiwiUXVlcnlEZWxlZ2F0aW9uUmVzcG9uc2UiLCJRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVxdWVzdCIsIlF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXNwb25zZSIsIlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0IiwiUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlIiwiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXF1ZXN0IiwiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXNwb25zZSIsIlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QiLCJRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZSIsIlF1ZXJ5SGlzdG9yaWNhbEluZm9SZXF1ZXN0IiwiUXVlcnlIaXN0b3JpY2FsSW5mb1Jlc3BvbnNlIiwiUXVlcnlQYXJhbXNSZXF1ZXN0IiwiUXVlcnlQYXJhbXNSZXNwb25zZSIsIlF1ZXJ5UG9vbFJlcXVlc3QiLCJRdWVyeVBvb2xSZXNwb25zZSIsIlF1ZXJ5UmVkZWxlZ2F0aW9uc1JlcXVlc3QiLCJRdWVyeVJlZGVsZWdhdGlvbnNSZXNwb25zZSIsIlF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlcXVlc3QiLCJRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZSIsIlF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0IiwiUXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlIiwiUXVlcnlWYWxpZGF0b3JSZXF1ZXN0IiwiUXVlcnlWYWxpZGF0b3JSZXNwb25zZSIsIlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0IiwiUXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlIiwiUXVlcnlWYWxpZGF0b3JzUmVxdWVzdCIsIlF1ZXJ5VmFsaWRhdG9yc1Jlc3BvbnNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbyxlLHQsbixhLGkscixkLHMsbCxnLHA7JGjNj19pbXBvcnRzKFtbXCIuLi8uLi9iYXNlL3F1ZXJ5L3YxYmV0YTEvcGFnaW5hdGlvbi5qc1wiLCBbW1wiUGFnZVJlcXVlc3RcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dLFtcIlBhZ2VSZXNwb25zZVwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV1dXSxbXCIuL3N0YWtpbmcuanNcIiwgW1tcIlZhbGlkYXRvclwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV0sW1wiRGVsZWdhdGlvblJlc3BvbnNlXCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXSxbXCJVbmJvbmRpbmdEZWxlZ2F0aW9uXCIsWyRozY9fYSA9PiAoYSA9ICRozY9fYSldXSxbXCJSZWRlbGVnYXRpb25SZXNwb25zZVwiLFskaM2PX2EgPT4gKGkgPSAkaM2PX2EpXV0sW1wiSGlzdG9yaWNhbEluZm9cIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dLFtcIlBvb2xcIixbJGjNj19hID0+IChkID0gJGjNj19hKV1dLFtcIlBhcmFtc1wiLFskaM2PX2EgPT4gKHMgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKGwgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAoZyA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAocCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgUXVlcnlWYWxpZGF0b3JzUmVxdWVzdD17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VmFsaWRhdG9yc1JlcXVlc3RcIixlbmNvZGU6KGUsdD1nLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLnN0YXR1cyYmdC51aW50MzIoMTApLnN0cmluZyhlLnN0YXR1cyksdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZvLmVuY29kZShlLnBhZ2luYXRpb24sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgbD9lOm5ldyBsKGUpO2xldCBhPXZvaWQgMD09PXQ/bi5sZW46bi5wb3MrdDtjb25zdCBpPXtzdGF0dXM6XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDtuLnBvczxhOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuc3RhdHVzPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkucGFnaW5hdGlvbj1vLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtzdGF0dXM6cChlLnN0YXR1cyk/U3RyaW5nKGUuc3RhdHVzKTpcIlwiLHBhZ2luYXRpb246cChlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5zdGF0dXMmJih0LnN0YXR1cz1lLnN0YXR1cyksdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiYodC5wYWdpbmF0aW9uPWUucGFnaW5hdGlvbj9vLnRvSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMCksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17c3RhdHVzOlwiXCIscGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiB0LnN0YXR1cz1lLnN0YXR1cz8/XCJcIix0LnBhZ2luYXRpb249dm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZudWxsIT09ZS5wYWdpbmF0aW9uP28uZnJvbVBhcnRpYWwoZS5wYWdpbmF0aW9uKTp2b2lkIDAsdH0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5VmFsaWRhdG9yc1JlcXVlc3QuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlWYWxpZGF0b3JzUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVZhbGlkYXRvcnNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlWYWxpZGF0b3JzUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5VmFsaWRhdG9yc1JlcXVlc3QoUXVlcnlWYWxpZGF0b3JzUmVxdWVzdCk7Y29uc3QgUXVlcnlWYWxpZGF0b3JzUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVZhbGlkYXRvcnNSZXNwb25zZVwiLGVuY29kZShvLG49Zy5jcmVhdGUoKSl7Zm9yKGNvbnN0IGUgb2Ygby52YWxpZGF0b3JzKXQuZW5jb2RlKGUsbi51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmZS5lbmNvZGUoby5wYWdpbmF0aW9uLG4udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG59LGRlY29kZShvLG4pe2NvbnN0IGE9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgaT12b2lkIDA9PT1uP2EubGVuOmEucG9zK247Y29uc3Qgcj17dmFsaWRhdG9yczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDthLnBvczxpOyl7Y29uc3Qgbz1hLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOnIudmFsaWRhdG9ycy5wdXNoKHQuZGVjb2RlKGEsYS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpyLnBhZ2luYXRpb249ZS5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZvKX19cmV0dXJuIHJ9LGZyb21KU09OOm89Pih7dmFsaWRhdG9yczpBcnJheS5pc0FycmF5KG8/LnZhbGlkYXRvcnMpP28udmFsaWRhdG9ycy5tYXAoKG89PnQuZnJvbUpTT04obykpKTpbXSxwYWdpbmF0aW9uOnAoby5wYWdpbmF0aW9uKT9lLmZyb21KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IG49e307cmV0dXJuIG8udmFsaWRhdG9ycz9uLnZhbGlkYXRvcnM9by52YWxpZGF0b3JzLm1hcCgobz0+bz90LnRvSlNPTihvKTp2b2lkIDApKTpuLnZhbGlkYXRvcnM9W10sdm9pZCAwIT09by5wYWdpbmF0aW9uJiYobi5wYWdpbmF0aW9uPW8ucGFnaW5hdGlvbj9lLnRvSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMCksbn0sZnJvbVBhcnRpYWwobyl7Y29uc3Qgbj17dmFsaWRhdG9yczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIG4udmFsaWRhdG9ycz1vLnZhbGlkYXRvcnM/Lm1hcCgobz0+dC5mcm9tUGFydGlhbChvKSkpfHxbXSxuLnBhZ2luYXRpb249dm9pZCAwIT09by5wYWdpbmF0aW9uJiZudWxsIT09by5wYWdpbmF0aW9uP2UuZnJvbVBhcnRpYWwoby5wYWdpbmF0aW9uKTp2b2lkIDAsbn0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5VmFsaWRhdG9yc1Jlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5VmFsaWRhdG9yc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VmFsaWRhdG9yc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlWYWxpZGF0b3JzUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVZhbGlkYXRvcnNSZXNwb25zZShRdWVyeVZhbGlkYXRvcnNSZXNwb25zZSk7Y29uc3QgUXVlcnlWYWxpZGF0b3JSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JSZXF1ZXN0XCIsZW5jb2RlOihvLGU9Zy5jcmVhdGUoKSk9PihcIlwiIT09by52YWxpZGF0b3JBZGRyJiZlLnVpbnQzMigxMCkuc3RyaW5nKG8udmFsaWRhdG9yQWRkciksZSksZGVjb2RlKG8sZSl7Y29uc3QgdD1vIGluc3RhbmNlb2YgbD9vOm5ldyBsKG8pO2xldCBuPXZvaWQgMD09PWU/dC5sZW46dC5wb3MrZTtjb25zdCBhPXt2YWxpZGF0b3JBZGRyOlwiXCJ9O2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTtpZihvPj4+Mz09MSlhLnZhbGlkYXRvckFkZHI9dC5zdHJpbmcoKTtlbHNlIHQuc2tpcFR5cGUoNyZvKX1yZXR1cm4gYX0sZnJvbUpTT046bz0+KHt2YWxpZGF0b3JBZGRyOnAoby52YWxpZGF0b3JBZGRyKT9TdHJpbmcoby52YWxpZGF0b3JBZGRyKTpcIlwifSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8udmFsaWRhdG9yQWRkciYmKGUudmFsaWRhdG9yQWRkcj1vLnZhbGlkYXRvckFkZHIpLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9e3ZhbGlkYXRvckFkZHI6XCJcIn07cmV0dXJuIGUudmFsaWRhdG9yQWRkcj1vLnZhbGlkYXRvckFkZHI/P1wiXCIsZX0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5VmFsaWRhdG9yUmVxdWVzdC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeVZhbGlkYXRvclJlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JSZXF1ZXN0XCIsdmFsdWU6UXVlcnlWYWxpZGF0b3JSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlWYWxpZGF0b3JSZXF1ZXN0KFF1ZXJ5VmFsaWRhdG9yUmVxdWVzdCk7ZnVuY3Rpb24gdSgpe3JldHVybnt2YWxpZGF0b3I6dC5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IFF1ZXJ5VmFsaWRhdG9yUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVZhbGlkYXRvclJlc3BvbnNlXCIsZW5jb2RlOihvLGU9Zy5jcmVhdGUoKSk9Pih2b2lkIDAhPT1vLnZhbGlkYXRvciYmdC5lbmNvZGUoby52YWxpZGF0b3IsZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksZSksZGVjb2RlKG8sZSl7Y29uc3Qgbj1vIGluc3RhbmNlb2YgbD9vOm5ldyBsKG8pO2xldCBhPXZvaWQgMD09PWU/bi5sZW46bi5wb3MrZTtjb25zdCBpPXUoKTtmb3IoO24ucG9zPGE7KXtjb25zdCBvPW4udWludDMyKCk7aWYobz4+PjM9PTEpaS52YWxpZGF0b3I9dC5kZWNvZGUobixuLnVpbnQzMigpKTtlbHNlIG4uc2tpcFR5cGUoNyZvKX1yZXR1cm4gaX0sZnJvbUpTT046bz0+KHt2YWxpZGF0b3I6cChvLnZhbGlkYXRvcik/dC5mcm9tSlNPTihvLnZhbGlkYXRvcik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8udmFsaWRhdG9yJiYoZS52YWxpZGF0b3I9by52YWxpZGF0b3I/dC50b0pTT04oby52YWxpZGF0b3IpOnZvaWQgMCksZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT11KCk7cmV0dXJuIGUudmFsaWRhdG9yPXZvaWQgMCE9PW8udmFsaWRhdG9yJiZudWxsIT09by52YWxpZGF0b3I/dC5mcm9tUGFydGlhbChvLnZhbGlkYXRvcik6dm9pZCAwLGV9LGZyb21Qcm90b01zZzpvPT5RdWVyeVZhbGlkYXRvclJlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5VmFsaWRhdG9yUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5VmFsaWRhdG9yUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVZhbGlkYXRvclJlc3BvbnNlKFF1ZXJ5VmFsaWRhdG9yUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1JlcXVlc3RcIixlbmNvZGU6KGUsdD1nLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLnZhbGlkYXRvckFkZHImJnQudWludDMyKDEwKS5zdHJpbmcoZS52YWxpZGF0b3JBZGRyKSx2b2lkIDAhPT1lLnBhZ2luYXRpb24mJm8uZW5jb2RlKGUucGFnaW5hdGlvbix0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBuPWUgaW5zdGFuY2VvZiBsP2U6bmV3IGwoZSk7bGV0IGE9dm9pZCAwPT09dD9uLmxlbjpuLnBvcyt0O2NvbnN0IGk9e3ZhbGlkYXRvckFkZHI6XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDtuLnBvczxhOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkudmFsaWRhdG9yQWRkcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnBhZ2luYXRpb249by5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7dmFsaWRhdG9yQWRkcjpwKGUudmFsaWRhdG9yQWRkcik/U3RyaW5nKGUudmFsaWRhdG9yQWRkcik6XCJcIixwYWdpbmF0aW9uOnAoZS5wYWdpbmF0aW9uKT9vLmZyb21KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkciYmKHQudmFsaWRhdG9yQWRkcj1lLnZhbGlkYXRvckFkZHIpLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmKHQucGFnaW5hdGlvbj1lLnBhZ2luYXRpb24/by50b0pTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e3ZhbGlkYXRvckFkZHI6XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIHQudmFsaWRhdG9yQWRkcj1lLnZhbGlkYXRvckFkZHI/P1wiXCIsdC5wYWdpbmF0aW9uPXZvaWQgMCE9PWUucGFnaW5hdGlvbiYmbnVsbCE9PWUucGFnaW5hdGlvbj9vLmZyb21QYXJ0aWFsKGUucGFnaW5hdGlvbik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzpvPT5RdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVxdWVzdC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1JlcXVlc3QoUXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1JlcXVlc3QpO2NvbnN0IFF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXNwb25zZVwiLGVuY29kZShvLHQ9Zy5jcmVhdGUoKSl7Zm9yKGNvbnN0IGUgb2Ygby5kZWxlZ2F0aW9uUmVzcG9uc2VzKW4uZW5jb2RlKGUsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmZS5lbmNvZGUoby5wYWdpbmF0aW9uLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHR9LGRlY29kZShvLHQpe2NvbnN0IGE9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgaT12b2lkIDA9PT10P2EubGVuOmEucG9zK3Q7Y29uc3Qgcj17ZGVsZWdhdGlvblJlc3BvbnNlczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDthLnBvczxpOyl7Y29uc3Qgbz1hLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOnIuZGVsZWdhdGlvblJlc3BvbnNlcy5wdXNoKG4uZGVjb2RlKGEsYS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpyLnBhZ2luYXRpb249ZS5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZvKX19cmV0dXJuIHJ9LGZyb21KU09OOm89Pih7ZGVsZWdhdGlvblJlc3BvbnNlczpBcnJheS5pc0FycmF5KG8/LmRlbGVnYXRpb25SZXNwb25zZXMpP28uZGVsZWdhdGlvblJlc3BvbnNlcy5tYXAoKG89Pm4uZnJvbUpTT04obykpKTpbXSxwYWdpbmF0aW9uOnAoby5wYWdpbmF0aW9uKT9lLmZyb21KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIG8uZGVsZWdhdGlvblJlc3BvbnNlcz90LmRlbGVnYXRpb25SZXNwb25zZXM9by5kZWxlZ2F0aW9uUmVzcG9uc2VzLm1hcCgobz0+bz9uLnRvSlNPTihvKTp2b2lkIDApKTp0LmRlbGVnYXRpb25SZXNwb25zZXM9W10sdm9pZCAwIT09by5wYWdpbmF0aW9uJiYodC5wYWdpbmF0aW9uPW8ucGFnaW5hdGlvbj9lLnRvSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMCksdH0sZnJvbVBhcnRpYWwobyl7Y29uc3QgdD17ZGVsZWdhdGlvblJlc3BvbnNlczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIHQuZGVsZWdhdGlvblJlc3BvbnNlcz1vLmRlbGVnYXRpb25SZXNwb25zZXM/Lm1hcCgobz0+bi5mcm9tUGFydGlhbChvKSkpfHxbXSx0LnBhZ2luYXRpb249dm9pZCAwIT09by5wYWdpbmF0aW9uJiZudWxsIT09by5wYWdpbmF0aW9uP2UuZnJvbVBhcnRpYWwoby5wYWdpbmF0aW9uKTp2b2lkIDAsdH0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlKFF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnNSZXNwb25zZSk7Y29uc3QgUXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdFwiLGVuY29kZTooZSx0PWcuY3JlYXRlKCkpPT4oXCJcIiE9PWUudmFsaWRhdG9yQWRkciYmdC51aW50MzIoMTApLnN0cmluZyhlLnZhbGlkYXRvckFkZHIpLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmby5lbmNvZGUoZS5wYWdpbmF0aW9uLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHQpLGRlY29kZShlLHQpe2NvbnN0IG49ZSBpbnN0YW5jZW9mIGw/ZTpuZXcgbChlKTtsZXQgYT12b2lkIDA9PT10P24ubGVuOm4ucG9zK3Q7Y29uc3QgaT17dmFsaWRhdG9yQWRkcjpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO24ucG9zPGE7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS52YWxpZGF0b3JBZGRyPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkucGFnaW5hdGlvbj1vLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHt2YWxpZGF0b3JBZGRyOnAoZS52YWxpZGF0b3JBZGRyKT9TdHJpbmcoZS52YWxpZGF0b3JBZGRyKTpcIlwiLHBhZ2luYXRpb246cChlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS52YWxpZGF0b3JBZGRyJiYodC52YWxpZGF0b3JBZGRyPWUudmFsaWRhdG9yQWRkciksdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiYodC5wYWdpbmF0aW9uPWUucGFnaW5hdGlvbj9vLnRvSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMCksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17dmFsaWRhdG9yQWRkcjpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gdC52YWxpZGF0b3JBZGRyPWUudmFsaWRhdG9yQWRkcj8/XCJcIix0LnBhZ2luYXRpb249dm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZudWxsIT09ZS5wYWdpbmF0aW9uP28uZnJvbVBhcnRpYWwoZS5wYWdpbmF0aW9uKTp2b2lkIDAsdH0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdChRdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdCk7Y29uc3QgUXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlXCIsZW5jb2RlKG8sdD1nLmNyZWF0ZSgpKXtmb3IoY29uc3QgZSBvZiBvLnVuYm9uZGluZ1Jlc3BvbnNlcylhLmVuY29kZShlLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB2b2lkIDAhPT1vLnBhZ2luYXRpb24mJmUuZW5jb2RlKG8ucGFnaW5hdGlvbix0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0fSxkZWNvZGUobyx0KXtjb25zdCBuPW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IGk9dm9pZCAwPT09dD9uLmxlbjpuLnBvcyt0O2NvbnN0IHI9e3VuYm9uZGluZ1Jlc3BvbnNlczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDtuLnBvczxpOyl7Y29uc3Qgbz1uLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOnIudW5ib25kaW5nUmVzcG9uc2VzLnB1c2goYS5kZWNvZGUobixuLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOnIucGFnaW5hdGlvbj1lLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gcn0sZnJvbUpTT046bz0+KHt1bmJvbmRpbmdSZXNwb25zZXM6QXJyYXkuaXNBcnJheShvPy51bmJvbmRpbmdSZXNwb25zZXMpP28udW5ib25kaW5nUmVzcG9uc2VzLm1hcCgobz0+YS5mcm9tSlNPTihvKSkpOltdLHBhZ2luYXRpb246cChvLnBhZ2luYXRpb24pP2UuZnJvbUpTT04oby5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gby51bmJvbmRpbmdSZXNwb25zZXM/dC51bmJvbmRpbmdSZXNwb25zZXM9by51bmJvbmRpbmdSZXNwb25zZXMubWFwKChvPT5vP2EudG9KU09OKG8pOnZvaWQgMCkpOnQudW5ib25kaW5nUmVzcG9uc2VzPVtdLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmKHQucGFnaW5hdGlvbj1vLnBhZ2luYXRpb24/ZS50b0pTT04oby5wYWdpbmF0aW9uKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9e3VuYm9uZGluZ1Jlc3BvbnNlczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIHQudW5ib25kaW5nUmVzcG9uc2VzPW8udW5ib25kaW5nUmVzcG9uc2VzPy5tYXAoKG89PmEuZnJvbVBhcnRpYWwobykpKXx8W10sdC5wYWdpbmF0aW9uPXZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmbnVsbCE9PW8ucGFnaW5hdGlvbj9lLmZyb21QYXJ0aWFsKG8ucGFnaW5hdGlvbik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzpvPT5RdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZShRdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5RGVsZWdhdGlvblJlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeURlbGVnYXRpb25SZXF1ZXN0XCIsZW5jb2RlOihvLGU9Zy5jcmVhdGUoKSk9PihcIlwiIT09by5kZWxlZ2F0b3JBZGRyJiZlLnVpbnQzMigxMCkuc3RyaW5nKG8uZGVsZWdhdG9yQWRkciksXCJcIiE9PW8udmFsaWRhdG9yQWRkciYmZS51aW50MzIoMTgpLnN0cmluZyhvLnZhbGlkYXRvckFkZHIpLGUpLGRlY29kZShvLGUpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgbj12b2lkIDA9PT1lP3QubGVuOnQucG9zK2U7Y29uc3QgYT17ZGVsZWdhdG9yQWRkcjpcIlwiLHZhbGlkYXRvckFkZHI6XCJcIn07Zm9yKDt0LnBvczxuOyl7Y29uc3Qgbz10LnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmEuZGVsZWdhdG9yQWRkcj10LnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLnZhbGlkYXRvckFkZHI9dC5zdHJpbmcoKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGF9LGZyb21KU09OOm89Pih7ZGVsZWdhdG9yQWRkcjpwKG8uZGVsZWdhdG9yQWRkcik/U3RyaW5nKG8uZGVsZWdhdG9yQWRkcik6XCJcIix2YWxpZGF0b3JBZGRyOnAoby52YWxpZGF0b3JBZGRyKT9TdHJpbmcoby52YWxpZGF0b3JBZGRyKTpcIlwifSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8uZGVsZWdhdG9yQWRkciYmKGUuZGVsZWdhdG9yQWRkcj1vLmRlbGVnYXRvckFkZHIpLHZvaWQgMCE9PW8udmFsaWRhdG9yQWRkciYmKGUudmFsaWRhdG9yQWRkcj1vLnZhbGlkYXRvckFkZHIpLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9e2RlbGVnYXRvckFkZHI6XCJcIix2YWxpZGF0b3JBZGRyOlwiXCJ9O3JldHVybiBlLmRlbGVnYXRvckFkZHI9by5kZWxlZ2F0b3JBZGRyPz9cIlwiLGUudmFsaWRhdG9yQWRkcj1vLnZhbGlkYXRvckFkZHI/P1wiXCIsZX0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5RGVsZWdhdGlvblJlcXVlc3QuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlEZWxlZ2F0aW9uUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeURlbGVnYXRpb25SZXF1ZXN0XCIsdmFsdWU6UXVlcnlEZWxlZ2F0aW9uUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdGlvblJlcXVlc3QoUXVlcnlEZWxlZ2F0aW9uUmVxdWVzdCk7Y29uc3QgUXVlcnlEZWxlZ2F0aW9uUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeURlbGVnYXRpb25SZXNwb25zZVwiLGVuY29kZToobyxlPWcuY3JlYXRlKCkpPT4odm9pZCAwIT09by5kZWxlZ2F0aW9uUmVzcG9uc2UmJm4uZW5jb2RlKG8uZGVsZWdhdGlvblJlc3BvbnNlLGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLGUpLGRlY29kZShvLGUpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgYT12b2lkIDA9PT1lP3QubGVuOnQucG9zK2U7Y29uc3QgaT17ZGVsZWdhdGlvblJlc3BvbnNlOnZvaWQgMH07Zm9yKDt0LnBvczxhOyl7Y29uc3Qgbz10LnVpbnQzMigpO2lmKG8+Pj4zPT0xKWkuZGVsZWdhdGlvblJlc3BvbnNlPW4uZGVjb2RlKHQsdC51aW50MzIoKSk7ZWxzZSB0LnNraXBUeXBlKDcmbyl9cmV0dXJuIGl9LGZyb21KU09OOm89Pih7ZGVsZWdhdGlvblJlc3BvbnNlOnAoby5kZWxlZ2F0aW9uUmVzcG9uc2UpP24uZnJvbUpTT04oby5kZWxlZ2F0aW9uUmVzcG9uc2UpOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT1vLmRlbGVnYXRpb25SZXNwb25zZSYmKGUuZGVsZWdhdGlvblJlc3BvbnNlPW8uZGVsZWdhdGlvblJlc3BvbnNlP24udG9KU09OKG8uZGVsZWdhdGlvblJlc3BvbnNlKTp2b2lkIDApLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9e2RlbGVnYXRpb25SZXNwb25zZTp2b2lkIDB9O3JldHVybiBlLmRlbGVnYXRpb25SZXNwb25zZT12b2lkIDAhPT1vLmRlbGVnYXRpb25SZXNwb25zZSYmbnVsbCE9PW8uZGVsZWdhdGlvblJlc3BvbnNlP24uZnJvbVBhcnRpYWwoby5kZWxlZ2F0aW9uUmVzcG9uc2UpOnZvaWQgMCxlfSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlEZWxlZ2F0aW9uUmVzcG9uc2UuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlEZWxlZ2F0aW9uUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0aW9uUmVzcG9uc2VcIix2YWx1ZTpRdWVyeURlbGVnYXRpb25SZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdGlvblJlc3BvbnNlKFF1ZXJ5RGVsZWdhdGlvblJlc3BvbnNlKTtjb25zdCBRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVxdWVzdFwiLGVuY29kZToobyxlPWcuY3JlYXRlKCkpPT4oXCJcIiE9PW8uZGVsZWdhdG9yQWRkciYmZS51aW50MzIoMTApLnN0cmluZyhvLmRlbGVnYXRvckFkZHIpLFwiXCIhPT1vLnZhbGlkYXRvckFkZHImJmUudWludDMyKDE4KS5zdHJpbmcoby52YWxpZGF0b3JBZGRyKSxlKSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGE9e2RlbGVnYXRvckFkZHI6XCJcIix2YWxpZGF0b3JBZGRyOlwiXCJ9O2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTphLmRlbGVnYXRvckFkZHI9dC5zdHJpbmcoKTticmVhaztjYXNlIDI6YS52YWxpZGF0b3JBZGRyPXQuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmbyl9fXJldHVybiBhfSxmcm9tSlNPTjpvPT4oe2RlbGVnYXRvckFkZHI6cChvLmRlbGVnYXRvckFkZHIpP1N0cmluZyhvLmRlbGVnYXRvckFkZHIpOlwiXCIsdmFsaWRhdG9yQWRkcjpwKG8udmFsaWRhdG9yQWRkcik/U3RyaW5nKG8udmFsaWRhdG9yQWRkcik6XCJcIn0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT1vLmRlbGVnYXRvckFkZHImJihlLmRlbGVnYXRvckFkZHI9by5kZWxlZ2F0b3JBZGRyKSx2b2lkIDAhPT1vLnZhbGlkYXRvckFkZHImJihlLnZhbGlkYXRvckFkZHI9by52YWxpZGF0b3JBZGRyKSxlfSxmcm9tUGFydGlhbChvKXtjb25zdCBlPXtkZWxlZ2F0b3JBZGRyOlwiXCIsdmFsaWRhdG9yQWRkcjpcIlwifTtyZXR1cm4gZS5kZWxlZ2F0b3JBZGRyPW8uZGVsZWdhdG9yQWRkcj8/XCJcIixlLnZhbGlkYXRvckFkZHI9by52YWxpZGF0b3JBZGRyPz9cIlwiLGV9LGZyb21Qcm90b01zZzpvPT5RdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXF1ZXN0LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXF1ZXN0KFF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlcXVlc3QpO2Z1bmN0aW9uIGMoKXtyZXR1cm57dW5ib25kOmEuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlXCIsZW5jb2RlOihvLGU9Zy5jcmVhdGUoKSk9Pih2b2lkIDAhPT1vLnVuYm9uZCYmYS5lbmNvZGUoby51bmJvbmQsZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksZSksZGVjb2RlKG8sZSl7Y29uc3QgdD1vIGluc3RhbmNlb2YgbD9vOm5ldyBsKG8pO2xldCBuPXZvaWQgMD09PWU/dC5sZW46dC5wb3MrZTtjb25zdCBpPWMoKTtmb3IoO3QucG9zPG47KXtjb25zdCBvPXQudWludDMyKCk7aWYobz4+PjM9PTEpaS51bmJvbmQ9YS5kZWNvZGUodCx0LnVpbnQzMigpKTtlbHNlIHQuc2tpcFR5cGUoNyZvKX1yZXR1cm4gaX0sZnJvbUpTT046bz0+KHt1bmJvbmQ6cChvLnVuYm9uZCk/YS5mcm9tSlNPTihvLnVuYm9uZCk6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8udW5ib25kJiYoZS51bmJvbmQ9by51bmJvbmQ/YS50b0pTT04oby51bmJvbmQpOnZvaWQgMCksZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT1jKCk7cmV0dXJuIGUudW5ib25kPXZvaWQgMCE9PW8udW5ib25kJiZudWxsIT09by51bmJvbmQ/YS5mcm9tUGFydGlhbChvLnVuYm9uZCk6dm9pZCAwLGV9LGZyb21Qcm90b01zZzpvPT5RdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZVwiLHZhbHVlOlF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UoUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1JlcXVlc3RcIixlbmNvZGU6KGUsdD1nLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbGVnYXRvckFkZHImJnQudWludDMyKDEwKS5zdHJpbmcoZS5kZWxlZ2F0b3JBZGRyKSx2b2lkIDAhPT1lLnBhZ2luYXRpb24mJm8uZW5jb2RlKGUucGFnaW5hdGlvbix0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBuPWUgaW5zdGFuY2VvZiBsP2U6bmV3IGwoZSk7bGV0IGE9dm9pZCAwPT09dD9uLmxlbjpuLnBvcyt0O2NvbnN0IGk9e2RlbGVnYXRvckFkZHI6XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDtuLnBvczxhOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuZGVsZWdhdG9yQWRkcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLnBhZ2luYXRpb249by5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7ZGVsZWdhdG9yQWRkcjpwKGUuZGVsZWdhdG9yQWRkcik/U3RyaW5nKGUuZGVsZWdhdG9yQWRkcik6XCJcIixwYWdpbmF0aW9uOnAoZS5wYWdpbmF0aW9uKT9vLmZyb21KU09OKGUucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkciYmKHQuZGVsZWdhdG9yQWRkcj1lLmRlbGVnYXRvckFkZHIpLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmKHQucGFnaW5hdGlvbj1lLnBhZ2luYXRpb24/by50b0pTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e2RlbGVnYXRvckFkZHI6XCJcIixwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIHQuZGVsZWdhdG9yQWRkcj1lLmRlbGVnYXRvckFkZHI/P1wiXCIsdC5wYWdpbmF0aW9uPXZvaWQgMCE9PWUucGFnaW5hdGlvbiYmbnVsbCE9PWUucGFnaW5hdGlvbj9vLmZyb21QYXJ0aWFsKGUucGFnaW5hdGlvbik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzpvPT5RdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVxdWVzdC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1JlcXVlc3QoUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1JlcXVlc3QpO2NvbnN0IFF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXNwb25zZVwiLGVuY29kZShvLHQ9Zy5jcmVhdGUoKSl7Zm9yKGNvbnN0IGUgb2Ygby5kZWxlZ2F0aW9uUmVzcG9uc2VzKW4uZW5jb2RlKGUsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmZS5lbmNvZGUoby5wYWdpbmF0aW9uLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHR9LGRlY29kZShvLHQpe2NvbnN0IGE9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgaT12b2lkIDA9PT10P2EubGVuOmEucG9zK3Q7Y29uc3Qgcj17ZGVsZWdhdGlvblJlc3BvbnNlczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDthLnBvczxpOyl7Y29uc3Qgbz1hLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOnIuZGVsZWdhdGlvblJlc3BvbnNlcy5wdXNoKG4uZGVjb2RlKGEsYS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpyLnBhZ2luYXRpb249ZS5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZvKX19cmV0dXJuIHJ9LGZyb21KU09OOm89Pih7ZGVsZWdhdGlvblJlc3BvbnNlczpBcnJheS5pc0FycmF5KG8/LmRlbGVnYXRpb25SZXNwb25zZXMpP28uZGVsZWdhdGlvblJlc3BvbnNlcy5tYXAoKG89Pm4uZnJvbUpTT04obykpKTpbXSxwYWdpbmF0aW9uOnAoby5wYWdpbmF0aW9uKT9lLmZyb21KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIG8uZGVsZWdhdGlvblJlc3BvbnNlcz90LmRlbGVnYXRpb25SZXNwb25zZXM9by5kZWxlZ2F0aW9uUmVzcG9uc2VzLm1hcCgobz0+bz9uLnRvSlNPTihvKTp2b2lkIDApKTp0LmRlbGVnYXRpb25SZXNwb25zZXM9W10sdm9pZCAwIT09by5wYWdpbmF0aW9uJiYodC5wYWdpbmF0aW9uPW8ucGFnaW5hdGlvbj9lLnRvSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMCksdH0sZnJvbVBhcnRpYWwobyl7Y29uc3QgdD17ZGVsZWdhdGlvblJlc3BvbnNlczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIHQuZGVsZWdhdGlvblJlc3BvbnNlcz1vLmRlbGVnYXRpb25SZXNwb25zZXM/Lm1hcCgobz0+bi5mcm9tUGFydGlhbChvKSkpfHxbXSx0LnBhZ2luYXRpb249dm9pZCAwIT09by5wYWdpbmF0aW9uJiZudWxsIT09by5wYWdpbmF0aW9uP2UuZnJvbVBhcnRpYWwoby5wYWdpbmF0aW9uKTp2b2lkIDAsdH0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlKFF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXNwb25zZSk7Y29uc3QgUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdFwiLGVuY29kZTooZSx0PWcuY3JlYXRlKCkpPT4oXCJcIiE9PWUuZGVsZWdhdG9yQWRkciYmdC51aW50MzIoMTApLnN0cmluZyhlLmRlbGVnYXRvckFkZHIpLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmby5lbmNvZGUoZS5wYWdpbmF0aW9uLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHQpLGRlY29kZShlLHQpe2NvbnN0IG49ZSBpbnN0YW5jZW9mIGw/ZTpuZXcgbChlKTtsZXQgYT12b2lkIDA9PT10P24ubGVuOm4ucG9zK3Q7Y29uc3QgaT17ZGVsZWdhdG9yQWRkcjpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO24ucG9zPGE7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5kZWxlZ2F0b3JBZGRyPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkucGFnaW5hdGlvbj1vLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtkZWxlZ2F0b3JBZGRyOnAoZS5kZWxlZ2F0b3JBZGRyKT9TdHJpbmcoZS5kZWxlZ2F0b3JBZGRyKTpcIlwiLHBhZ2luYXRpb246cChlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0b3JBZGRyJiYodC5kZWxlZ2F0b3JBZGRyPWUuZGVsZWdhdG9yQWRkciksdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiYodC5wYWdpbmF0aW9uPWUucGFnaW5hdGlvbj9vLnRvSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMCksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17ZGVsZWdhdG9yQWRkcjpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gdC5kZWxlZ2F0b3JBZGRyPWUuZGVsZWdhdG9yQWRkcj8/XCJcIix0LnBhZ2luYXRpb249dm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZudWxsIT09ZS5wYWdpbmF0aW9uP28uZnJvbVBhcnRpYWwoZS5wYWdpbmF0aW9uKTp2b2lkIDAsdH0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0LmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdChRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdCk7Y29uc3QgUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlXCIsZW5jb2RlKG8sdD1nLmNyZWF0ZSgpKXtmb3IoY29uc3QgZSBvZiBvLnVuYm9uZGluZ1Jlc3BvbnNlcylhLmVuY29kZShlLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB2b2lkIDAhPT1vLnBhZ2luYXRpb24mJmUuZW5jb2RlKG8ucGFnaW5hdGlvbix0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0fSxkZWNvZGUobyx0KXtjb25zdCBuPW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IGk9dm9pZCAwPT09dD9uLmxlbjpuLnBvcyt0O2NvbnN0IHI9e3VuYm9uZGluZ1Jlc3BvbnNlczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDtuLnBvczxpOyl7Y29uc3Qgbz1uLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOnIudW5ib25kaW5nUmVzcG9uc2VzLnB1c2goYS5kZWNvZGUobixuLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOnIucGFnaW5hdGlvbj1lLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gcn0sZnJvbUpTT046bz0+KHt1bmJvbmRpbmdSZXNwb25zZXM6QXJyYXkuaXNBcnJheShvPy51bmJvbmRpbmdSZXNwb25zZXMpP28udW5ib25kaW5nUmVzcG9uc2VzLm1hcCgobz0+YS5mcm9tSlNPTihvKSkpOltdLHBhZ2luYXRpb246cChvLnBhZ2luYXRpb24pP2UuZnJvbUpTT04oby5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gby51bmJvbmRpbmdSZXNwb25zZXM/dC51bmJvbmRpbmdSZXNwb25zZXM9by51bmJvbmRpbmdSZXNwb25zZXMubWFwKChvPT5vP2EudG9KU09OKG8pOnZvaWQgMCkpOnQudW5ib25kaW5nUmVzcG9uc2VzPVtdLHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmKHQucGFnaW5hdGlvbj1vLnBhZ2luYXRpb24/ZS50b0pTT04oby5wYWdpbmF0aW9uKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHQ9e3VuYm9uZGluZ1Jlc3BvbnNlczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIHQudW5ib25kaW5nUmVzcG9uc2VzPW8udW5ib25kaW5nUmVzcG9uc2VzPy5tYXAoKG89PmEuZnJvbVBhcnRpYWwobykpKXx8W10sdC5wYWdpbmF0aW9uPXZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmbnVsbCE9PW8ucGFnaW5hdGlvbj9lLmZyb21QYXJ0aWFsKG8ucGFnaW5hdGlvbik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzpvPT5RdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZShRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5UmVkZWxlZ2F0aW9uc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVJlZGVsZWdhdGlvbnNSZXF1ZXN0XCIsZW5jb2RlOihlLHQ9Zy5jcmVhdGUoKSk9PihcIlwiIT09ZS5kZWxlZ2F0b3JBZGRyJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuZGVsZWdhdG9yQWRkciksXCJcIiE9PWUuc3JjVmFsaWRhdG9yQWRkciYmdC51aW50MzIoMTgpLnN0cmluZyhlLnNyY1ZhbGlkYXRvckFkZHIpLFwiXCIhPT1lLmRzdFZhbGlkYXRvckFkZHImJnQudWludDMyKDI2KS5zdHJpbmcoZS5kc3RWYWxpZGF0b3JBZGRyKSx2b2lkIDAhPT1lLnBhZ2luYXRpb24mJm8uZW5jb2RlKGUucGFnaW5hdGlvbix0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBuPWUgaW5zdGFuY2VvZiBsP2U6bmV3IGwoZSk7bGV0IGE9dm9pZCAwPT09dD9uLmxlbjpuLnBvcyt0O2NvbnN0IGk9e2RlbGVnYXRvckFkZHI6XCJcIixzcmNWYWxpZGF0b3JBZGRyOlwiXCIsZHN0VmFsaWRhdG9yQWRkcjpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO24ucG9zPGE7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5kZWxlZ2F0b3JBZGRyPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkuc3JjVmFsaWRhdG9yQWRkcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMzppLmRzdFZhbGlkYXRvckFkZHI9bi5zdHJpbmcoKTticmVhaztjYXNlIDQ6aS5wYWdpbmF0aW9uPW8uZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2RlbGVnYXRvckFkZHI6cChlLmRlbGVnYXRvckFkZHIpP1N0cmluZyhlLmRlbGVnYXRvckFkZHIpOlwiXCIsc3JjVmFsaWRhdG9yQWRkcjpwKGUuc3JjVmFsaWRhdG9yQWRkcik/U3RyaW5nKGUuc3JjVmFsaWRhdG9yQWRkcik6XCJcIixkc3RWYWxpZGF0b3JBZGRyOnAoZS5kc3RWYWxpZGF0b3JBZGRyKT9TdHJpbmcoZS5kc3RWYWxpZGF0b3JBZGRyKTpcIlwiLHBhZ2luYXRpb246cChlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0b3JBZGRyJiYodC5kZWxlZ2F0b3JBZGRyPWUuZGVsZWdhdG9yQWRkciksdm9pZCAwIT09ZS5zcmNWYWxpZGF0b3JBZGRyJiYodC5zcmNWYWxpZGF0b3JBZGRyPWUuc3JjVmFsaWRhdG9yQWRkciksdm9pZCAwIT09ZS5kc3RWYWxpZGF0b3JBZGRyJiYodC5kc3RWYWxpZGF0b3JBZGRyPWUuZHN0VmFsaWRhdG9yQWRkciksdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiYodC5wYWdpbmF0aW9uPWUucGFnaW5hdGlvbj9vLnRvSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMCksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17ZGVsZWdhdG9yQWRkcjpcIlwiLHNyY1ZhbGlkYXRvckFkZHI6XCJcIixkc3RWYWxpZGF0b3JBZGRyOlwiXCIscGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiB0LmRlbGVnYXRvckFkZHI9ZS5kZWxlZ2F0b3JBZGRyPz9cIlwiLHQuc3JjVmFsaWRhdG9yQWRkcj1lLnNyY1ZhbGlkYXRvckFkZHI/P1wiXCIsdC5kc3RWYWxpZGF0b3JBZGRyPWUuZHN0VmFsaWRhdG9yQWRkcj8/XCJcIix0LnBhZ2luYXRpb249dm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZudWxsIT09ZS5wYWdpbmF0aW9uP28uZnJvbVBhcnRpYWwoZS5wYWdpbmF0aW9uKTp2b2lkIDAsdH0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5UmVkZWxlZ2F0aW9uc1JlcXVlc3QuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlSZWRlbGVnYXRpb25zUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVJlZGVsZWdhdGlvbnNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlSZWRlbGVnYXRpb25zUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5UmVkZWxlZ2F0aW9uc1JlcXVlc3QoUXVlcnlSZWRlbGVnYXRpb25zUmVxdWVzdCk7Y29uc3QgUXVlcnlSZWRlbGVnYXRpb25zUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVJlZGVsZWdhdGlvbnNSZXNwb25zZVwiLGVuY29kZShvLHQ9Zy5jcmVhdGUoKSl7Zm9yKGNvbnN0IGUgb2Ygby5yZWRlbGVnYXRpb25SZXNwb25zZXMpaS5lbmNvZGUoZSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdm9pZCAwIT09by5wYWdpbmF0aW9uJiZlLmVuY29kZShvLnBhZ2luYXRpb24sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdH0sZGVjb2RlKG8sdCl7Y29uc3Qgbj1vIGluc3RhbmNlb2YgbD9vOm5ldyBsKG8pO2xldCBhPXZvaWQgMD09PXQ/bi5sZW46bi5wb3MrdDtjb25zdCByPXtyZWRlbGVnYXRpb25SZXNwb25zZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O2Zvcig7bi5wb3M8YTspe2NvbnN0IG89bi51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpyLnJlZGVsZWdhdGlvblJlc3BvbnNlcy5wdXNoKGkuZGVjb2RlKG4sbi51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpyLnBhZ2luYXRpb249ZS5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZvKX19cmV0dXJuIHJ9LGZyb21KU09OOm89Pih7cmVkZWxlZ2F0aW9uUmVzcG9uc2VzOkFycmF5LmlzQXJyYXkobz8ucmVkZWxlZ2F0aW9uUmVzcG9uc2VzKT9vLnJlZGVsZWdhdGlvblJlc3BvbnNlcy5tYXAoKG89PmkuZnJvbUpTT04obykpKTpbXSxwYWdpbmF0aW9uOnAoby5wYWdpbmF0aW9uKT9lLmZyb21KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIG8ucmVkZWxlZ2F0aW9uUmVzcG9uc2VzP3QucmVkZWxlZ2F0aW9uUmVzcG9uc2VzPW8ucmVkZWxlZ2F0aW9uUmVzcG9uc2VzLm1hcCgobz0+bz9pLnRvSlNPTihvKTp2b2lkIDApKTp0LnJlZGVsZWdhdGlvblJlc3BvbnNlcz1bXSx2b2lkIDAhPT1vLnBhZ2luYXRpb24mJih0LnBhZ2luYXRpb249by5wYWdpbmF0aW9uP2UudG9KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PXtyZWRlbGVnYXRpb25SZXNwb25zZXM6W10scGFnaW5hdGlvbjp2b2lkIDB9O3JldHVybiB0LnJlZGVsZWdhdGlvblJlc3BvbnNlcz1vLnJlZGVsZWdhdGlvblJlc3BvbnNlcz8ubWFwKChvPT5pLmZyb21QYXJ0aWFsKG8pKSl8fFtdLHQucGFnaW5hdGlvbj12b2lkIDAhPT1vLnBhZ2luYXRpb24mJm51bGwhPT1vLnBhZ2luYXRpb24/ZS5mcm9tUGFydGlhbChvLnBhZ2luYXRpb24pOnZvaWQgMCx0fSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlSZWRlbGVnYXRpb25zUmVzcG9uc2UuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlSZWRlbGVnYXRpb25zUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlSZWRlbGVnYXRpb25zUmVzcG9uc2VcIix2YWx1ZTpRdWVyeVJlZGVsZWdhdGlvbnNSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5UmVkZWxlZ2F0aW9uc1Jlc3BvbnNlKFF1ZXJ5UmVkZWxlZ2F0aW9uc1Jlc3BvbnNlKTtjb25zdCBRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdFwiLGVuY29kZTooZSx0PWcuY3JlYXRlKCkpPT4oXCJcIiE9PWUuZGVsZWdhdG9yQWRkciYmdC51aW50MzIoMTApLnN0cmluZyhlLmRlbGVnYXRvckFkZHIpLHZvaWQgMCE9PWUucGFnaW5hdGlvbiYmby5lbmNvZGUoZS5wYWdpbmF0aW9uLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHQpLGRlY29kZShlLHQpe2NvbnN0IG49ZSBpbnN0YW5jZW9mIGw/ZTpuZXcgbChlKTtsZXQgYT12b2lkIDA9PT10P24ubGVuOm4ucG9zK3Q7Y29uc3QgaT17ZGVsZWdhdG9yQWRkcjpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtmb3IoO24ucG9zPGE7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5kZWxlZ2F0b3JBZGRyPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkucGFnaW5hdGlvbj1vLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtkZWxlZ2F0b3JBZGRyOnAoZS5kZWxlZ2F0b3JBZGRyKT9TdHJpbmcoZS5kZWxlZ2F0b3JBZGRyKTpcIlwiLHBhZ2luYXRpb246cChlLnBhZ2luYXRpb24pP28uZnJvbUpTT04oZS5wYWdpbmF0aW9uKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0b3JBZGRyJiYodC5kZWxlZ2F0b3JBZGRyPWUuZGVsZWdhdG9yQWRkciksdm9pZCAwIT09ZS5wYWdpbmF0aW9uJiYodC5wYWdpbmF0aW9uPWUucGFnaW5hdGlvbj9vLnRvSlNPTihlLnBhZ2luYXRpb24pOnZvaWQgMCksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17ZGVsZWdhdG9yQWRkcjpcIlwiLHBhZ2luYXRpb246dm9pZCAwfTtyZXR1cm4gdC5kZWxlZ2F0b3JBZGRyPWUuZGVsZWdhdG9yQWRkcj8/XCJcIix0LnBhZ2luYXRpb249dm9pZCAwIT09ZS5wYWdpbmF0aW9uJiZudWxsIT09ZS5wYWdpbmF0aW9uP28uZnJvbVBhcnRpYWwoZS5wYWdpbmF0aW9uKTp2b2lkIDAsdH0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCksdG9Qcm90b01zZzpvPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXF1ZXN0XCIsdmFsdWU6UXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QoUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdCk7Y29uc3QgUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZVwiLGVuY29kZShvLG49Zy5jcmVhdGUoKSl7Zm9yKGNvbnN0IGUgb2Ygby52YWxpZGF0b3JzKXQuZW5jb2RlKGUsbi51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHZvaWQgMCE9PW8ucGFnaW5hdGlvbiYmZS5lbmNvZGUoby5wYWdpbmF0aW9uLG4udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLG59LGRlY29kZShvLG4pe2NvbnN0IGE9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgaT12b2lkIDA9PT1uP2EubGVuOmEucG9zK247Y29uc3Qgcj17dmFsaWRhdG9yczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07Zm9yKDthLnBvczxpOyl7Y29uc3Qgbz1hLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOnIudmFsaWRhdG9ycy5wdXNoKHQuZGVjb2RlKGEsYS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpyLnBhZ2luYXRpb249ZS5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZvKX19cmV0dXJuIHJ9LGZyb21KU09OOm89Pih7dmFsaWRhdG9yczpBcnJheS5pc0FycmF5KG8/LnZhbGlkYXRvcnMpP28udmFsaWRhdG9ycy5tYXAoKG89PnQuZnJvbUpTT04obykpKTpbXSxwYWdpbmF0aW9uOnAoby5wYWdpbmF0aW9uKT9lLmZyb21KU09OKG8ucGFnaW5hdGlvbik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IG49e307cmV0dXJuIG8udmFsaWRhdG9ycz9uLnZhbGlkYXRvcnM9by52YWxpZGF0b3JzLm1hcCgobz0+bz90LnRvSlNPTihvKTp2b2lkIDApKTpuLnZhbGlkYXRvcnM9W10sdm9pZCAwIT09by5wYWdpbmF0aW9uJiYobi5wYWdpbmF0aW9uPW8ucGFnaW5hdGlvbj9lLnRvSlNPTihvLnBhZ2luYXRpb24pOnZvaWQgMCksbn0sZnJvbVBhcnRpYWwobyl7Y29uc3Qgbj17dmFsaWRhdG9yczpbXSxwYWdpbmF0aW9uOnZvaWQgMH07cmV0dXJuIG4udmFsaWRhdG9ycz1vLnZhbGlkYXRvcnM/Lm1hcCgobz0+dC5mcm9tUGFydGlhbChvKSkpfHxbXSxuLnBhZ2luYXRpb249dm9pZCAwIT09by5wYWdpbmF0aW9uJiZudWxsIT09by5wYWdpbmF0aW9uP2UuZnJvbVBhcnRpYWwoby5wYWdpbmF0aW9uKTp2b2lkIDAsbn0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1Jlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1Jlc3BvbnNlXCIsdmFsdWU6UXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZShRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZSk7Y29uc3QgUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXF1ZXN0PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXF1ZXN0XCIsZW5jb2RlOihvLGU9Zy5jcmVhdGUoKSk9PihcIlwiIT09by5kZWxlZ2F0b3JBZGRyJiZlLnVpbnQzMigxMCkuc3RyaW5nKG8uZGVsZWdhdG9yQWRkciksXCJcIiE9PW8udmFsaWRhdG9yQWRkciYmZS51aW50MzIoMTgpLnN0cmluZyhvLnZhbGlkYXRvckFkZHIpLGUpLGRlY29kZShvLGUpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgbj12b2lkIDA9PT1lP3QubGVuOnQucG9zK2U7Y29uc3QgYT17ZGVsZWdhdG9yQWRkcjpcIlwiLHZhbGlkYXRvckFkZHI6XCJcIn07Zm9yKDt0LnBvczxuOyl7Y29uc3Qgbz10LnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmEuZGVsZWdhdG9yQWRkcj10LnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLnZhbGlkYXRvckFkZHI9dC5zdHJpbmcoKTticmVhaztkZWZhdWx0OnQuc2tpcFR5cGUoNyZvKX19cmV0dXJuIGF9LGZyb21KU09OOm89Pih7ZGVsZWdhdG9yQWRkcjpwKG8uZGVsZWdhdG9yQWRkcik/U3RyaW5nKG8uZGVsZWdhdG9yQWRkcik6XCJcIix2YWxpZGF0b3JBZGRyOnAoby52YWxpZGF0b3JBZGRyKT9TdHJpbmcoby52YWxpZGF0b3JBZGRyKTpcIlwifSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8uZGVsZWdhdG9yQWRkciYmKGUuZGVsZWdhdG9yQWRkcj1vLmRlbGVnYXRvckFkZHIpLHZvaWQgMCE9PW8udmFsaWRhdG9yQWRkciYmKGUudmFsaWRhdG9yQWRkcj1vLnZhbGlkYXRvckFkZHIpLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9e2RlbGVnYXRvckFkZHI6XCJcIix2YWxpZGF0b3JBZGRyOlwiXCJ9O3JldHVybiBlLmRlbGVnYXRvckFkZHI9by5kZWxlZ2F0b3JBZGRyPz9cIlwiLGUudmFsaWRhdG9yQWRkcj1vLnZhbGlkYXRvckFkZHI/P1wiXCIsZX0sZnJvbVByb3RvTXNnOm89PlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVxdWVzdC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeURlbGVnYXRvclZhbGlkYXRvclJlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXF1ZXN0XCIsdmFsdWU6UXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXF1ZXN0KFF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVxdWVzdCk7ZnVuY3Rpb24gdigpe3JldHVybnt2YWxpZGF0b3I6dC5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IFF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeURlbGVnYXRvclZhbGlkYXRvclJlc3BvbnNlXCIsZW5jb2RlOihvLGU9Zy5jcmVhdGUoKSk9Pih2b2lkIDAhPT1vLnZhbGlkYXRvciYmdC5lbmNvZGUoby52YWxpZGF0b3IsZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksZSksZGVjb2RlKG8sZSl7Y29uc3Qgbj1vIGluc3RhbmNlb2YgbD9vOm5ldyBsKG8pO2xldCBhPXZvaWQgMD09PWU/bi5sZW46bi5wb3MrZTtjb25zdCBpPXYoKTtmb3IoO24ucG9zPGE7KXtjb25zdCBvPW4udWludDMyKCk7aWYobz4+PjM9PTEpaS52YWxpZGF0b3I9dC5kZWNvZGUobixuLnVpbnQzMigpKTtlbHNlIG4uc2tpcFR5cGUoNyZvKX1yZXR1cm4gaX0sZnJvbUpTT046bz0+KHt2YWxpZGF0b3I6cChvLnZhbGlkYXRvcik/dC5mcm9tSlNPTihvLnZhbGlkYXRvcik6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8udmFsaWRhdG9yJiYoZS52YWxpZGF0b3I9by52YWxpZGF0b3I/dC50b0pTT04oby52YWxpZGF0b3IpOnZvaWQgMCksZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT12KCk7cmV0dXJuIGUudmFsaWRhdG9yPXZvaWQgMCE9PW8udmFsaWRhdG9yJiZudWxsIT09by52YWxpZGF0b3I/dC5mcm9tUGFydGlhbChvLnZhbGlkYXRvcik6dm9pZCAwLGV9LGZyb21Qcm90b01zZzpvPT5RdWVyeURlbGVnYXRvclZhbGlkYXRvclJlc3BvbnNlLmRlY29kZShvLnZhbHVlKSx0b1Byb3RvOm89PlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXNwb25zZVwiLHZhbHVlOlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5RdWVyeURlbGVnYXRvclZhbGlkYXRvclJlc3BvbnNlKFF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVzcG9uc2UpO2Z1bmN0aW9uIGYoKXtyZXR1cm57aGVpZ2h0OkJpZ0ludCgwKX19Y29uc3QgUXVlcnlIaXN0b3JpY2FsSW5mb1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeUhpc3RvcmljYWxJbmZvUmVxdWVzdFwiLGVuY29kZToobyxlPWcuY3JlYXRlKCkpPT4oby5oZWlnaHQhPT1CaWdJbnQoMCkmJmUudWludDMyKDgpLmludDY0KG8uaGVpZ2h0KSxlKSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGE9ZigpO2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTtpZihvPj4+Mz09MSlhLmhlaWdodD10LmludDY0KCk7ZWxzZSB0LnNraXBUeXBlKDcmbyl9cmV0dXJuIGF9LGZyb21KU09OOm89Pih7aGVpZ2h0OnAoby5oZWlnaHQpP0JpZ0ludChvLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04obyl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09by5oZWlnaHQmJihlLmhlaWdodD0oby5oZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT1mKCk7cmV0dXJuIGUuaGVpZ2h0PXZvaWQgMCE9PW8uaGVpZ2h0JiZudWxsIT09by5oZWlnaHQ/QmlnSW50KG8uaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxlfSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlIaXN0b3JpY2FsSW5mb1JlcXVlc3QuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlIaXN0b3JpY2FsSW5mb1JlcXVlc3QuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlIaXN0b3JpY2FsSW5mb1JlcXVlc3RcIix2YWx1ZTpRdWVyeUhpc3RvcmljYWxJbmZvUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5SGlzdG9yaWNhbEluZm9SZXF1ZXN0KFF1ZXJ5SGlzdG9yaWNhbEluZm9SZXF1ZXN0KTtjb25zdCBRdWVyeUhpc3RvcmljYWxJbmZvUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeUhpc3RvcmljYWxJbmZvUmVzcG9uc2VcIixlbmNvZGU6KG8sZT1nLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PW8uaGlzdCYmci5lbmNvZGUoby5oaXN0LGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLGUpLGRlY29kZShvLGUpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgbj12b2lkIDA9PT1lP3QubGVuOnQucG9zK2U7Y29uc3QgYT17aGlzdDp2b2lkIDB9O2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTtpZihvPj4+Mz09MSlhLmhpc3Q9ci5kZWNvZGUodCx0LnVpbnQzMigpKTtlbHNlIHQuc2tpcFR5cGUoNyZvKX1yZXR1cm4gYX0sZnJvbUpTT046bz0+KHtoaXN0OnAoby5oaXN0KT9yLmZyb21KU09OKG8uaGlzdCk6dm9pZCAwfSksdG9KU09OKG8pe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PW8uaGlzdCYmKGUuaGlzdD1vLmhpc3Q/ci50b0pTT04oby5oaXN0KTp2b2lkIDApLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9e2hpc3Q6dm9pZCAwfTtyZXR1cm4gZS5oaXN0PXZvaWQgMCE9PW8uaGlzdCYmbnVsbCE9PW8uaGlzdD9yLmZyb21QYXJ0aWFsKG8uaGlzdCk6dm9pZCAwLGV9LGZyb21Qcm90b01zZzpvPT5RdWVyeUhpc3RvcmljYWxJbmZvUmVzcG9uc2UuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlIaXN0b3JpY2FsSW5mb1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5SGlzdG9yaWNhbEluZm9SZXNwb25zZVwiLHZhbHVlOlF1ZXJ5SGlzdG9yaWNhbEluZm9SZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5SGlzdG9yaWNhbEluZm9SZXNwb25zZShRdWVyeUhpc3RvcmljYWxJbmZvUmVzcG9uc2UpO2NvbnN0IFF1ZXJ5UG9vbFJlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVBvb2xSZXF1ZXN0XCIsZW5jb2RlOihvLGU9Zy5jcmVhdGUoKSk9PmUsZGVjb2RlKG8sZSl7Y29uc3QgdD1vIGluc3RhbmNlb2YgbD9vOm5ldyBsKG8pO2xldCBuPXZvaWQgMD09PWU/dC5sZW46dC5wb3MrZTtjb25zdCBhPXt9O2Zvcig7dC5wb3M8bjspe2NvbnN0IG89dC51aW50MzIoKTt0LnNraXBUeXBlKDcmbyl9cmV0dXJuIGF9LGZyb21KU09OOm89Pih7fSksdG9KU09OOm89Pih7fSksZnJvbVBhcnRpYWw6bz0+KHt9KSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlQb29sUmVxdWVzdC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeVBvb2xSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5UG9vbFJlcXVlc3RcIix2YWx1ZTpRdWVyeVBvb2xSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlQb29sUmVxdWVzdChRdWVyeVBvb2xSZXF1ZXN0KTtmdW5jdGlvbiBtKCl7cmV0dXJue3Bvb2w6ZC5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IFF1ZXJ5UG9vbFJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlQb29sUmVzcG9uc2VcIixlbmNvZGU6KG8sZT1nLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PW8ucG9vbCYmZC5lbmNvZGUoby5wb29sLGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLGUpLGRlY29kZShvLGUpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgbj12b2lkIDA9PT1lP3QubGVuOnQucG9zK2U7Y29uc3QgYT1tKCk7Zm9yKDt0LnBvczxuOyl7Y29uc3Qgbz10LnVpbnQzMigpO2lmKG8+Pj4zPT0xKWEucG9vbD1kLmRlY29kZSh0LHQudWludDMyKCkpO2Vsc2UgdC5za2lwVHlwZSg3Jm8pfXJldHVybiBhfSxmcm9tSlNPTjpvPT4oe3Bvb2w6cChvLnBvb2wpP2QuZnJvbUpTT04oby5wb29sKTp2b2lkIDB9KSx0b0pTT04obyl7Y29uc3QgZT17fTtyZXR1cm4gdm9pZCAwIT09by5wb29sJiYoZS5wb29sPW8ucG9vbD9kLnRvSlNPTihvLnBvb2wpOnZvaWQgMCksZX0sZnJvbVBhcnRpYWwobyl7Y29uc3QgZT1tKCk7cmV0dXJuIGUucG9vbD12b2lkIDAhPT1vLnBvb2wmJm51bGwhPT1vLnBvb2w/ZC5mcm9tUGFydGlhbChvLnBvb2wpOnZvaWQgMCxlfSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlQb29sUmVzcG9uc2UuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlQb29sUmVzcG9uc2UuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlQb29sUmVzcG9uc2VcIix2YWx1ZTpRdWVyeVBvb2xSZXNwb25zZS5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5UG9vbFJlc3BvbnNlKFF1ZXJ5UG9vbFJlc3BvbnNlKTtjb25zdCBRdWVyeVBhcmFtc1JlcXVlc3Q9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5RdWVyeVBhcmFtc1JlcXVlc3RcIixlbmNvZGU6KG8sZT1nLmNyZWF0ZSgpKT0+ZSxkZWNvZGUobyxlKXtjb25zdCB0PW8gaW5zdGFuY2VvZiBsP286bmV3IGwobyk7bGV0IG49dm9pZCAwPT09ZT90Lmxlbjp0LnBvcytlO2NvbnN0IGE9e307Zm9yKDt0LnBvczxuOyl7Y29uc3Qgbz10LnVpbnQzMigpO3Quc2tpcFR5cGUoNyZvKX1yZXR1cm4gYX0sZnJvbUpTT046bz0+KHt9KSx0b0pTT046bz0+KHt9KSxmcm9tUGFydGlhbDpvPT4oe30pLGZyb21Qcm90b01zZzpvPT5RdWVyeVBhcmFtc1JlcXVlc3QuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+UXVlcnlQYXJhbXNSZXF1ZXN0LmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5UGFyYW1zUmVxdWVzdFwiLHZhbHVlOlF1ZXJ5UGFyYW1zUmVxdWVzdC5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlF1ZXJ5UGFyYW1zUmVxdWVzdChRdWVyeVBhcmFtc1JlcXVlc3QpO2Z1bmN0aW9uIHkoKXtyZXR1cm57cGFyYW1zOnMuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBRdWVyeVBhcmFtc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUXVlcnlQYXJhbXNSZXNwb25zZVwiLGVuY29kZToobyxlPWcuY3JlYXRlKCkpPT4odm9pZCAwIT09by5wYXJhbXMmJnMuZW5jb2RlKG8ucGFyYW1zLGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLGUpLGRlY29kZShvLGUpe2NvbnN0IHQ9byBpbnN0YW5jZW9mIGw/bzpuZXcgbChvKTtsZXQgbj12b2lkIDA9PT1lP3QubGVuOnQucG9zK2U7Y29uc3QgYT15KCk7Zm9yKDt0LnBvczxuOyl7Y29uc3Qgbz10LnVpbnQzMigpO2lmKG8+Pj4zPT0xKWEucGFyYW1zPXMuZGVjb2RlKHQsdC51aW50MzIoKSk7ZWxzZSB0LnNraXBUeXBlKDcmbyl9cmV0dXJuIGF9LGZyb21KU09OOm89Pih7cGFyYW1zOnAoby5wYXJhbXMpP3MuZnJvbUpTT04oby5wYXJhbXMpOnZvaWQgMH0pLHRvSlNPTihvKXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT1vLnBhcmFtcyYmKGUucGFyYW1zPW8ucGFyYW1zP3MudG9KU09OKG8ucGFyYW1zKTp2b2lkIDApLGV9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IGU9eSgpO3JldHVybiBlLnBhcmFtcz12b2lkIDAhPT1vLnBhcmFtcyYmbnVsbCE9PW8ucGFyYW1zP3MuZnJvbVBhcnRpYWwoby5wYXJhbXMpOnZvaWQgMCxlfSxmcm9tUHJvdG9Nc2c6bz0+UXVlcnlQYXJhbXNSZXNwb25zZS5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5RdWVyeVBhcmFtc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlF1ZXJ5UGFyYW1zUmVzcG9uc2VcIix2YWx1ZTpRdWVyeVBhcmFtc1Jlc3BvbnNlLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuUXVlcnlQYXJhbXNSZXNwb25zZShRdWVyeVBhcmFtc1Jlc3BvbnNlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlF1ZXJ5VmFsaWRhdG9yc1JlcXVlc3QiOlsiUXVlcnlWYWxpZGF0b3JzUmVxdWVzdCJdLCJRdWVyeVZhbGlkYXRvcnNSZXNwb25zZSI6WyJRdWVyeVZhbGlkYXRvcnNSZXNwb25zZSJdLCJRdWVyeVZhbGlkYXRvclJlcXVlc3QiOlsiUXVlcnlWYWxpZGF0b3JSZXF1ZXN0Il0sIlF1ZXJ5VmFsaWRhdG9yUmVzcG9uc2UiOlsiUXVlcnlWYWxpZGF0b3JSZXNwb25zZSJdLCJRdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVxdWVzdCI6WyJRdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVxdWVzdCJdLCJRdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zUmVzcG9uc2UiOlsiUXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlIl0sIlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0IjpbIlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0Il0sIlF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZSI6WyJRdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UiXSwiUXVlcnlEZWxlZ2F0aW9uUmVxdWVzdCI6WyJRdWVyeURlbGVnYXRpb25SZXF1ZXN0Il0sIlF1ZXJ5RGVsZWdhdGlvblJlc3BvbnNlIjpbIlF1ZXJ5RGVsZWdhdGlvblJlc3BvbnNlIl0sIlF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlcXVlc3QiOlsiUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVxdWVzdCJdLCJRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZSI6WyJRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZSJdLCJRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVxdWVzdCI6WyJRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVxdWVzdCJdLCJRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVzcG9uc2UiOlsiUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlIl0sIlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0IjpbIlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0Il0sIlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZSI6WyJRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UiXSwiUXVlcnlSZWRlbGVnYXRpb25zUmVxdWVzdCI6WyJRdWVyeVJlZGVsZWdhdGlvbnNSZXF1ZXN0Il0sIlF1ZXJ5UmVkZWxlZ2F0aW9uc1Jlc3BvbnNlIjpbIlF1ZXJ5UmVkZWxlZ2F0aW9uc1Jlc3BvbnNlIl0sIlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yc1JlcXVlc3QiOlsiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzUmVxdWVzdCJdLCJRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZSI6WyJRdWVyeURlbGVnYXRvclZhbGlkYXRvcnNSZXNwb25zZSJdLCJRdWVyeURlbGVnYXRvclZhbGlkYXRvclJlcXVlc3QiOlsiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXF1ZXN0Il0sIlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yUmVzcG9uc2UiOlsiUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JSZXNwb25zZSJdLCJRdWVyeUhpc3RvcmljYWxJbmZvUmVxdWVzdCI6WyJRdWVyeUhpc3RvcmljYWxJbmZvUmVxdWVzdCJdLCJRdWVyeUhpc3RvcmljYWxJbmZvUmVzcG9uc2UiOlsiUXVlcnlIaXN0b3JpY2FsSW5mb1Jlc3BvbnNlIl0sIlF1ZXJ5UG9vbFJlcXVlc3QiOlsiUXVlcnlQb29sUmVxdWVzdCJdLCJRdWVyeVBvb2xSZXNwb25zZSI6WyJRdWVyeVBvb2xSZXNwb25zZSJdLCJRdWVyeVBhcmFtc1JlcXVlc3QiOlsiUXVlcnlQYXJhbXNSZXF1ZXN0Il0sIlF1ZXJ5UGFyYW1zUmVzcG9uc2UiOlsiUXVlcnlQYXJhbXNSZXNwb25zZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADznjyYeJYAAHiWAABKAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3N0YWtpbmcuanN7ImltcG9ydHMiOlsiLi4vLi4vLi4vdGVuZGVybWludC90eXBlcy90eXBlcy5qcyIsIi4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAuanMiLCIuLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvYW55LmpzIiwiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2R1cmF0aW9uLmpzIiwiLi4vLi4vYmFzZS92MWJldGExL2NvaW4uanMiLCIuLi8uLi8uLi9iaW5hcnkuanMiLCIuLi8uLi8uLi9oZWxwZXJzLmpzIiwiLi4vLi4vLi4vanNvbi1zYWZlLmpzIiwiLi4vLi4vLi4vZGVjaW1hbHMuanMiXSwiZXhwb3J0cyI6WyJCb25kU3RhdHVzIiwiQm9uZFN0YXR1c1NES1R5cGUiLCJDb21taXNzaW9uIiwiQ29tbWlzc2lvblJhdGVzIiwiQ29zbW9zX2NyeXB0b1B1YktleV9JbnRlcmZhY2VEZWNvZGVyIiwiRFZQYWlyIiwiRFZQYWlycyIsIkRWVlRyaXBsZXQiLCJEVlZUcmlwbGV0cyIsIkRlbGVnYXRpb24iLCJEZWxlZ2F0aW9uUmVzcG9uc2UiLCJEZXNjcmlwdGlvbiIsIkhpc3RvcmljYWxJbmZvIiwiUGFyYW1zIiwiUG9vbCIsIlJlZGVsZWdhdGlvbiIsIlJlZGVsZWdhdGlvbkVudHJ5IiwiUmVkZWxlZ2F0aW9uRW50cnlSZXNwb25zZSIsIlJlZGVsZWdhdGlvblJlc3BvbnNlIiwiVW5ib25kaW5nRGVsZWdhdGlvbiIsIlVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeSIsIlZhbEFkZHJlc3NlcyIsIlZhbGlkYXRvciIsImJvbmRTdGF0dXNGcm9tSlNPTiIsImJvbmRTdGF0dXNUb0pTT04iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBlLHQsbyxpLG4scyxyLGEsZCxsLGM7JGjNj19pbXBvcnRzKFtbXCIuLi8uLi8uLi90ZW5kZXJtaW50L3R5cGVzL3R5cGVzLmpzXCIsIFtbXCJIZWFkZXJcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5qc1wiLCBbW1wiVGltZXN0YW1wXCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9hbnkuanNcIiwgW1tcIkFueVwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvZHVyYXRpb24uanNcIiwgW1tcIkR1cmF0aW9uXCIsWyRozY9fYSA9PiAoaSA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzXCIsIFtbXCJDb2luXCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAocyA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChhID0gJGjNj19hKV1dLFtcImZyb21Kc29uVGltZXN0YW1wXCIsWyRozY9fYSA9PiAoZCA9ICRozY9fYSldXSxbXCJmcm9tVGltZXN0YW1wXCIsWyRozY9fYSA9PiAobCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV0sW1wiLi4vLi4vLi4vZGVjaW1hbHMuanNcIiwgW1tcIkRlY2ltYWxcIixbJGjNj19hID0+IChjID0gJGjNj19hKV1dXV1dKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYm9uZFN0YXR1c0Zyb21KU09OLCduYW1lJyx7dmFsdWU6XCJib25kU3RhdHVzRnJvbUpTT05cIn0pOyRozY9fb25jZS5ib25kU3RhdHVzRnJvbUpTT04oYm9uZFN0YXR1c0Zyb21KU09OKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYm9uZFN0YXR1c1RvSlNPTiwnbmFtZScse3ZhbHVlOlwiYm9uZFN0YXR1c1RvSlNPTlwifSk7JGjNj19vbmNlLmJvbmRTdGF0dXNUb0pTT04oYm9uZFN0YXR1c1RvSlNPTik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkY82PX0JvbmRTdGF0dXM7JGjNj19saXZlLkJvbmRTdGF0dXMoJGPNj19Cb25kU3RhdHVzKTshZnVuY3Rpb24oZSl7ZVtlLkJPTkRfU1RBVFVTX1VOU1BFQ0lGSUVEPTBdPVwiQk9ORF9TVEFUVVNfVU5TUEVDSUZJRURcIixlW2UuQk9ORF9TVEFUVVNfVU5CT05ERUQ9MV09XCJCT05EX1NUQVRVU19VTkJPTkRFRFwiLGVbZS5CT05EX1NUQVRVU19VTkJPTkRJTkc9Ml09XCJCT05EX1NUQVRVU19VTkJPTkRJTkdcIixlW2UuQk9ORF9TVEFUVVNfQk9OREVEPTNdPVwiQk9ORF9TVEFUVVNfQk9OREVEXCIsZVtlLlVOUkVDT0dOSVpFRD0tMV09XCJVTlJFQ09HTklaRURcIn0oQm9uZFN0YXR1c3x8KEJvbmRTdGF0dXM9e30pKTtjb25zdCBCb25kU3RhdHVzU0RLVHlwZT1Cb25kU3RhdHVzOyRozY9fb25jZS5Cb25kU3RhdHVzU0RLVHlwZShCb25kU3RhdHVzU0RLVHlwZSk7ZnVuY3Rpb24gYm9uZFN0YXR1c0Zyb21KU09OKGUpe3N3aXRjaChlKXtjYXNlIDA6Y2FzZVwiQk9ORF9TVEFUVVNfVU5TUEVDSUZJRURcIjpyZXR1cm4gQm9uZFN0YXR1cy5CT05EX1NUQVRVU19VTlNQRUNJRklFRDtjYXNlIDE6Y2FzZVwiQk9ORF9TVEFUVVNfVU5CT05ERURcIjpyZXR1cm4gQm9uZFN0YXR1cy5CT05EX1NUQVRVU19VTkJPTkRFRDtjYXNlIDI6Y2FzZVwiQk9ORF9TVEFUVVNfVU5CT05ESU5HXCI6cmV0dXJuIEJvbmRTdGF0dXMuQk9ORF9TVEFUVVNfVU5CT05ESU5HO2Nhc2UgMzpjYXNlXCJCT05EX1NUQVRVU19CT05ERURcIjpyZXR1cm4gQm9uZFN0YXR1cy5CT05EX1NUQVRVU19CT05ERUQ7ZGVmYXVsdDpyZXR1cm4gQm9uZFN0YXR1cy5VTlJFQ09HTklaRUR9fWZ1bmN0aW9uIGJvbmRTdGF0dXNUb0pTT04oZSl7c3dpdGNoKGUpe2Nhc2UgQm9uZFN0YXR1cy5CT05EX1NUQVRVU19VTlNQRUNJRklFRDpyZXR1cm5cIkJPTkRfU1RBVFVTX1VOU1BFQ0lGSUVEXCI7Y2FzZSBCb25kU3RhdHVzLkJPTkRfU1RBVFVTX1VOQk9OREVEOnJldHVyblwiQk9ORF9TVEFUVVNfVU5CT05ERURcIjtjYXNlIEJvbmRTdGF0dXMuQk9ORF9TVEFUVVNfVU5CT05ESU5HOnJldHVyblwiQk9ORF9TVEFUVVNfVU5CT05ESU5HXCI7Y2FzZSBCb25kU3RhdHVzLkJPTkRfU1RBVFVTX0JPTkRFRDpyZXR1cm5cIkJPTkRfU1RBVFVTX0JPTkRFRFwiO2Nhc2UgQm9uZFN0YXR1cy5VTlJFQ09HTklaRUQ6ZGVmYXVsdDpyZXR1cm5cIlVOUkVDT0dOSVpFRFwifX1mdW5jdGlvbiBtKCl7cmV0dXJue2hlYWRlcjplLmZyb21QYXJ0aWFsKHt9KSx2YWxzZXQ6W119fWNvbnN0IEhpc3RvcmljYWxJbmZvPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuSGlzdG9yaWNhbEluZm9cIixlbmNvZGUodCxvPXIuY3JlYXRlKCkpe3ZvaWQgMCE9PXQuaGVhZGVyJiZlLmVuY29kZSh0LmhlYWRlcixvLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtmb3IoY29uc3QgZSBvZiB0LnZhbHNldClWYWxpZGF0b3IuZW5jb2RlKGUsby51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG99LGRlY29kZSh0LG8pe2NvbnN0IGk9dCBpbnN0YW5jZW9mIHM/dDpuZXcgcyh0KTtsZXQgbj12b2lkIDA9PT1vP2kubGVuOmkucG9zK287Y29uc3Qgcj1tKCk7Zm9yKDtpLnBvczxuOyl7Y29uc3QgdD1pLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOnIuaGVhZGVyPWUuZGVjb2RlKGksaS51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOnIudmFsc2V0LnB1c2goVmFsaWRhdG9yLmRlY29kZShpLGkudWludDMyKCkpKTticmVhaztkZWZhdWx0Omkuc2tpcFR5cGUoNyZ0KX19cmV0dXJuIHJ9LGZyb21KU09OOnQ9Pih7aGVhZGVyOmEodC5oZWFkZXIpP2UuZnJvbUpTT04odC5oZWFkZXIpOnZvaWQgMCx2YWxzZXQ6QXJyYXkuaXNBcnJheSh0Py52YWxzZXQpP3QudmFsc2V0Lm1hcCgoZT0+VmFsaWRhdG9yLmZyb21KU09OKGUpKSk6W119KSx0b0pTT04odCl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09dC5oZWFkZXImJihvLmhlYWRlcj10LmhlYWRlcj9lLnRvSlNPTih0LmhlYWRlcik6dm9pZCAwKSx0LnZhbHNldD9vLnZhbHNldD10LnZhbHNldC5tYXAoKGU9PmU/VmFsaWRhdG9yLnRvSlNPTihlKTp2b2lkIDApKTpvLnZhbHNldD1bXSxvfSxmcm9tUGFydGlhbCh0KXtjb25zdCBvPW0oKTtyZXR1cm4gby5oZWFkZXI9dm9pZCAwIT09dC5oZWFkZXImJm51bGwhPT10LmhlYWRlcj9lLmZyb21QYXJ0aWFsKHQuaGVhZGVyKTp2b2lkIDAsby52YWxzZXQ9dC52YWxzZXQ/Lm1hcCgoZT0+VmFsaWRhdG9yLmZyb21QYXJ0aWFsKGUpKSl8fFtdLG99LGZyb21Qcm90b01zZzplPT5IaXN0b3JpY2FsSW5mby5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5IaXN0b3JpY2FsSW5mby5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5IaXN0b3JpY2FsSW5mb1wiLHZhbHVlOkhpc3RvcmljYWxJbmZvLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuSGlzdG9yaWNhbEluZm8oSGlzdG9yaWNhbEluZm8pO2NvbnN0IENvbW1pc3Npb25SYXRlcz17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLkNvbW1pc3Npb25SYXRlc1wiLGVuY29kZTooZSx0PXIuY3JlYXRlKCkpPT4oXCJcIiE9PWUucmF0ZSYmdC51aW50MzIoMTApLnN0cmluZyhjLmZyb21Vc2VySW5wdXQoZS5yYXRlLDE4KS5hdG9taWNzKSxcIlwiIT09ZS5tYXhSYXRlJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGMuZnJvbVVzZXJJbnB1dChlLm1heFJhdGUsMTgpLmF0b21pY3MpLFwiXCIhPT1lLm1heENoYW5nZVJhdGUmJnQudWludDMyKDI2KS5zdHJpbmcoYy5mcm9tVXNlcklucHV0KGUubWF4Q2hhbmdlUmF0ZSwxOCkuYXRvbWljcyksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBpPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBuPXtyYXRlOlwiXCIsbWF4UmF0ZTpcIlwiLG1heENoYW5nZVJhdGU6XCJcIn07Zm9yKDtvLnBvczxpOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOm4ucmF0ZT1jLmZyb21BdG9taWNzKG8uc3RyaW5nKCksMTgpLnRvU3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm4ubWF4UmF0ZT1jLmZyb21BdG9taWNzKG8uc3RyaW5nKCksMTgpLnRvU3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm4ubWF4Q2hhbmdlUmF0ZT1jLmZyb21BdG9taWNzKG8uc3RyaW5nKCksMTgpLnRvU3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBufSxmcm9tSlNPTjplPT4oe3JhdGU6YShlLnJhdGUpP1N0cmluZyhlLnJhdGUpOlwiXCIsbWF4UmF0ZTphKGUubWF4UmF0ZSk/U3RyaW5nKGUubWF4UmF0ZSk6XCJcIixtYXhDaGFuZ2VSYXRlOmEoZS5tYXhDaGFuZ2VSYXRlKT9TdHJpbmcoZS5tYXhDaGFuZ2VSYXRlKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUucmF0ZSYmKHQucmF0ZT1lLnJhdGUpLHZvaWQgMCE9PWUubWF4UmF0ZSYmKHQubWF4UmF0ZT1lLm1heFJhdGUpLHZvaWQgMCE9PWUubWF4Q2hhbmdlUmF0ZSYmKHQubWF4Q2hhbmdlUmF0ZT1lLm1heENoYW5nZVJhdGUpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e3JhdGU6XCJcIixtYXhSYXRlOlwiXCIsbWF4Q2hhbmdlUmF0ZTpcIlwifTtyZXR1cm4gdC5yYXRlPWUucmF0ZT8/XCJcIix0Lm1heFJhdGU9ZS5tYXhSYXRlPz9cIlwiLHQubWF4Q2hhbmdlUmF0ZT1lLm1heENoYW5nZVJhdGU/P1wiXCIsdH0sZnJvbVByb3RvTXNnOmU9PkNvbW1pc3Npb25SYXRlcy5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Db21taXNzaW9uUmF0ZXMuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuQ29tbWlzc2lvblJhdGVzXCIsdmFsdWU6Q29tbWlzc2lvblJhdGVzLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuQ29tbWlzc2lvblJhdGVzKENvbW1pc3Npb25SYXRlcyk7ZnVuY3Rpb24gZygpe3JldHVybntjb21taXNzaW9uUmF0ZXM6Q29tbWlzc2lvblJhdGVzLmZyb21QYXJ0aWFsKHt9KSx1cGRhdGVUaW1lOnQuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBDb21taXNzaW9uPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuQ29tbWlzc2lvblwiLGVuY29kZTooZSxvPXIuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5jb21taXNzaW9uUmF0ZXMmJkNvbW1pc3Npb25SYXRlcy5lbmNvZGUoZS5jb21taXNzaW9uUmF0ZXMsby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09ZS51cGRhdGVUaW1lJiZ0LmVuY29kZShlLnVwZGF0ZVRpbWUsby51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKGUsbyl7Y29uc3QgaT1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBuPXZvaWQgMD09PW8/aS5sZW46aS5wb3Mrbztjb25zdCByPWcoKTtmb3IoO2kucG9zPG47KXtjb25zdCBlPWkudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6ci5jb21taXNzaW9uUmF0ZXM9Q29tbWlzc2lvblJhdGVzLmRlY29kZShpLGkudWludDMyKCkpO2JyZWFrO2Nhc2UgMjpyLnVwZGF0ZVRpbWU9dC5kZWNvZGUoaSxpLnVpbnQzMigpKTticmVhaztkZWZhdWx0Omkuc2tpcFR5cGUoNyZlKX19cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7Y29tbWlzc2lvblJhdGVzOmEoZS5jb21taXNzaW9uUmF0ZXMpP0NvbW1pc3Npb25SYXRlcy5mcm9tSlNPTihlLmNvbW1pc3Npb25SYXRlcyk6dm9pZCAwLHVwZGF0ZVRpbWU6YShlLnVwZGF0ZVRpbWUpP2QoZS51cGRhdGVUaW1lKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5jb21taXNzaW9uUmF0ZXMmJih0LmNvbW1pc3Npb25SYXRlcz1lLmNvbW1pc3Npb25SYXRlcz9Db21taXNzaW9uUmF0ZXMudG9KU09OKGUuY29tbWlzc2lvblJhdGVzKTp2b2lkIDApLHZvaWQgMCE9PWUudXBkYXRlVGltZSYmKHQudXBkYXRlVGltZT1sKGUudXBkYXRlVGltZSkudG9JU09TdHJpbmcoKSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1nKCk7cmV0dXJuIG8uY29tbWlzc2lvblJhdGVzPXZvaWQgMCE9PWUuY29tbWlzc2lvblJhdGVzJiZudWxsIT09ZS5jb21taXNzaW9uUmF0ZXM/Q29tbWlzc2lvblJhdGVzLmZyb21QYXJ0aWFsKGUuY29tbWlzc2lvblJhdGVzKTp2b2lkIDAsby51cGRhdGVUaW1lPXZvaWQgMCE9PWUudXBkYXRlVGltZSYmbnVsbCE9PWUudXBkYXRlVGltZT90LmZyb21QYXJ0aWFsKGUudXBkYXRlVGltZSk6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5Db21taXNzaW9uLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkNvbW1pc3Npb24uZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuQ29tbWlzc2lvblwiLHZhbHVlOkNvbW1pc3Npb24uZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Db21taXNzaW9uKENvbW1pc3Npb24pO2NvbnN0IERlc2NyaXB0aW9uPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuRGVzY3JpcHRpb25cIixlbmNvZGU6KGUsdD1yLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLm1vbmlrZXImJnQudWludDMyKDEwKS5zdHJpbmcoZS5tb25pa2VyKSxcIlwiIT09ZS5pZGVudGl0eSYmdC51aW50MzIoMTgpLnN0cmluZyhlLmlkZW50aXR5KSxcIlwiIT09ZS53ZWJzaXRlJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUud2Vic2l0ZSksXCJcIiE9PWUuc2VjdXJpdHlDb250YWN0JiZ0LnVpbnQzMigzNCkuc3RyaW5nKGUuc2VjdXJpdHlDb250YWN0KSxcIlwiIT09ZS5kZXRhaWxzJiZ0LnVpbnQzMig0Mikuc3RyaW5nKGUuZGV0YWlscyksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBpPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBuPXttb25pa2VyOlwiXCIsaWRlbnRpdHk6XCJcIix3ZWJzaXRlOlwiXCIsc2VjdXJpdHlDb250YWN0OlwiXCIsZGV0YWlsczpcIlwifTtmb3IoO28ucG9zPGk7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6bi5tb25pa2VyPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm4uaWRlbnRpdHk9by5zdHJpbmcoKTticmVhaztjYXNlIDM6bi53ZWJzaXRlPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om4uc2VjdXJpdHlDb250YWN0PW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSA1Om4uZGV0YWlscz1vLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gbn0sZnJvbUpTT046ZT0+KHttb25pa2VyOmEoZS5tb25pa2VyKT9TdHJpbmcoZS5tb25pa2VyKTpcIlwiLGlkZW50aXR5OmEoZS5pZGVudGl0eSk/U3RyaW5nKGUuaWRlbnRpdHkpOlwiXCIsd2Vic2l0ZTphKGUud2Vic2l0ZSk/U3RyaW5nKGUud2Vic2l0ZSk6XCJcIixzZWN1cml0eUNvbnRhY3Q6YShlLnNlY3VyaXR5Q29udGFjdCk/U3RyaW5nKGUuc2VjdXJpdHlDb250YWN0KTpcIlwiLGRldGFpbHM6YShlLmRldGFpbHMpP1N0cmluZyhlLmRldGFpbHMpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5tb25pa2VyJiYodC5tb25pa2VyPWUubW9uaWtlciksdm9pZCAwIT09ZS5pZGVudGl0eSYmKHQuaWRlbnRpdHk9ZS5pZGVudGl0eSksdm9pZCAwIT09ZS53ZWJzaXRlJiYodC53ZWJzaXRlPWUud2Vic2l0ZSksdm9pZCAwIT09ZS5zZWN1cml0eUNvbnRhY3QmJih0LnNlY3VyaXR5Q29udGFjdD1lLnNlY3VyaXR5Q29udGFjdCksdm9pZCAwIT09ZS5kZXRhaWxzJiYodC5kZXRhaWxzPWUuZGV0YWlscyksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17bW9uaWtlcjpcIlwiLGlkZW50aXR5OlwiXCIsd2Vic2l0ZTpcIlwiLHNlY3VyaXR5Q29udGFjdDpcIlwiLGRldGFpbHM6XCJcIn07cmV0dXJuIHQubW9uaWtlcj1lLm1vbmlrZXI/P1wiXCIsdC5pZGVudGl0eT1lLmlkZW50aXR5Pz9cIlwiLHQud2Vic2l0ZT1lLndlYnNpdGU/P1wiXCIsdC5zZWN1cml0eUNvbnRhY3Q9ZS5zZWN1cml0eUNvbnRhY3Q/P1wiXCIsdC5kZXRhaWxzPWUuZGV0YWlscz8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6ZT0+RGVzY3JpcHRpb24uZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+RGVzY3JpcHRpb24uZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuRGVzY3JpcHRpb25cIix2YWx1ZTpEZXNjcmlwdGlvbi5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkRlc2NyaXB0aW9uKERlc2NyaXB0aW9uKTtmdW5jdGlvbiB1KCl7cmV0dXJue29wZXJhdG9yQWRkcmVzczpcIlwiLGNvbnNlbnN1c1B1YmtleTp2b2lkIDAsamFpbGVkOiExLHN0YXR1czowLHRva2VuczpcIlwiLGRlbGVnYXRvclNoYXJlczpcIlwiLGRlc2NyaXB0aW9uOkRlc2NyaXB0aW9uLmZyb21QYXJ0aWFsKHt9KSx1bmJvbmRpbmdIZWlnaHQ6QmlnSW50KDApLHVuYm9uZGluZ1RpbWU6dC5mcm9tUGFydGlhbCh7fSksY29tbWlzc2lvbjpDb21taXNzaW9uLmZyb21QYXJ0aWFsKHt9KSxtaW5TZWxmRGVsZWdhdGlvbjpcIlwifX1jb25zdCBWYWxpZGF0b3I9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5WYWxpZGF0b3JcIixlbmNvZGU6KGUsaT1yLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLm9wZXJhdG9yQWRkcmVzcyYmaS51aW50MzIoMTApLnN0cmluZyhlLm9wZXJhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS5jb25zZW5zdXNQdWJrZXkmJm8uZW5jb2RlKGUuY29uc2Vuc3VzUHVia2V5LGkudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLCEwPT09ZS5qYWlsZWQmJmkudWludDMyKDI0KS5ib29sKGUuamFpbGVkKSwwIT09ZS5zdGF0dXMmJmkudWludDMyKDMyKS5pbnQzMihlLnN0YXR1cyksXCJcIiE9PWUudG9rZW5zJiZpLnVpbnQzMig0Mikuc3RyaW5nKGUudG9rZW5zKSxcIlwiIT09ZS5kZWxlZ2F0b3JTaGFyZXMmJmkudWludDMyKDUwKS5zdHJpbmcoYy5mcm9tVXNlcklucHV0KGUuZGVsZWdhdG9yU2hhcmVzLDE4KS5hdG9taWNzKSx2b2lkIDAhPT1lLmRlc2NyaXB0aW9uJiZEZXNjcmlwdGlvbi5lbmNvZGUoZS5kZXNjcmlwdGlvbixpLnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKSxlLnVuYm9uZGluZ0hlaWdodCE9PUJpZ0ludCgwKSYmaS51aW50MzIoNjQpLmludDY0KGUudW5ib25kaW5nSGVpZ2h0KSx2b2lkIDAhPT1lLnVuYm9uZGluZ1RpbWUmJnQuZW5jb2RlKGUudW5ib25kaW5nVGltZSxpLnVpbnQzMig3NCkuZm9yaygpKS5sZGVsaW0oKSx2b2lkIDAhPT1lLmNvbW1pc3Npb24mJkNvbW1pc3Npb24uZW5jb2RlKGUuY29tbWlzc2lvbixpLnVpbnQzMig4MikuZm9yaygpKS5sZGVsaW0oKSxcIlwiIT09ZS5taW5TZWxmRGVsZWdhdGlvbiYmaS51aW50MzIoOTApLnN0cmluZyhlLm1pblNlbGZEZWxlZ2F0aW9uKSxpKSxkZWNvZGUoZSxvKXtjb25zdCBpPWUgaW5zdGFuY2VvZiBzP2U6bmV3IHMoZSk7bGV0IG49dm9pZCAwPT09bz9pLmxlbjppLnBvcytvO2NvbnN0IHI9dSgpO2Zvcig7aS5wb3M8bjspe2NvbnN0IGU9aS51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLm9wZXJhdG9yQWRkcmVzcz1pLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpyLmNvbnNlbnN1c1B1YmtleT1Db3Ntb3NfY3J5cHRvUHViS2V5X0ludGVyZmFjZURlY29kZXIoaSk7YnJlYWs7Y2FzZSAzOnIuamFpbGVkPWkuYm9vbCgpO2JyZWFrO2Nhc2UgNDpyLnN0YXR1cz1pLmludDMyKCk7YnJlYWs7Y2FzZSA1OnIudG9rZW5zPWkuc3RyaW5nKCk7YnJlYWs7Y2FzZSA2OnIuZGVsZWdhdG9yU2hhcmVzPWMuZnJvbUF0b21pY3MoaS5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztjYXNlIDc6ci5kZXNjcmlwdGlvbj1EZXNjcmlwdGlvbi5kZWNvZGUoaSxpLnVpbnQzMigpKTticmVhaztjYXNlIDg6ci51bmJvbmRpbmdIZWlnaHQ9aS5pbnQ2NCgpO2JyZWFrO2Nhc2UgOTpyLnVuYm9uZGluZ1RpbWU9dC5kZWNvZGUoaSxpLnVpbnQzMigpKTticmVhaztjYXNlIDEwOnIuY29tbWlzc2lvbj1Db21taXNzaW9uLmRlY29kZShpLGkudWludDMyKCkpO2JyZWFrO2Nhc2UgMTE6ci5taW5TZWxmRGVsZWdhdGlvbj1pLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6aS5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtvcGVyYXRvckFkZHJlc3M6YShlLm9wZXJhdG9yQWRkcmVzcyk/U3RyaW5nKGUub3BlcmF0b3JBZGRyZXNzKTpcIlwiLGNvbnNlbnN1c1B1YmtleTphKGUuY29uc2Vuc3VzUHVia2V5KT9vLmZyb21KU09OKGUuY29uc2Vuc3VzUHVia2V5KTp2b2lkIDAsamFpbGVkOiEhYShlLmphaWxlZCkmJkJvb2xlYW4oZS5qYWlsZWQpLHN0YXR1czphKGUuc3RhdHVzKT9ib25kU3RhdHVzRnJvbUpTT04oZS5zdGF0dXMpOi0xLHRva2VuczphKGUudG9rZW5zKT9TdHJpbmcoZS50b2tlbnMpOlwiXCIsZGVsZWdhdG9yU2hhcmVzOmEoZS5kZWxlZ2F0b3JTaGFyZXMpP1N0cmluZyhlLmRlbGVnYXRvclNoYXJlcyk6XCJcIixkZXNjcmlwdGlvbjphKGUuZGVzY3JpcHRpb24pP0Rlc2NyaXB0aW9uLmZyb21KU09OKGUuZGVzY3JpcHRpb24pOnZvaWQgMCx1bmJvbmRpbmdIZWlnaHQ6YShlLnVuYm9uZGluZ0hlaWdodCk/QmlnSW50KGUudW5ib25kaW5nSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx1bmJvbmRpbmdUaW1lOmEoZS51bmJvbmRpbmdUaW1lKT9kKGUudW5ib25kaW5nVGltZSk6dm9pZCAwLGNvbW1pc3Npb246YShlLmNvbW1pc3Npb24pP0NvbW1pc3Npb24uZnJvbUpTT04oZS5jb21taXNzaW9uKTp2b2lkIDAsbWluU2VsZkRlbGVnYXRpb246YShlLm1pblNlbGZEZWxlZ2F0aW9uKT9TdHJpbmcoZS5taW5TZWxmRGVsZWdhdGlvbik6XCJcIn0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLm9wZXJhdG9yQWRkcmVzcyYmKHQub3BlcmF0b3JBZGRyZXNzPWUub3BlcmF0b3JBZGRyZXNzKSx2b2lkIDAhPT1lLmNvbnNlbnN1c1B1YmtleSYmKHQuY29uc2Vuc3VzUHVia2V5PWUuY29uc2Vuc3VzUHVia2V5P28udG9KU09OKGUuY29uc2Vuc3VzUHVia2V5KTp2b2lkIDApLHZvaWQgMCE9PWUuamFpbGVkJiYodC5qYWlsZWQ9ZS5qYWlsZWQpLHZvaWQgMCE9PWUuc3RhdHVzJiYodC5zdGF0dXM9Ym9uZFN0YXR1c1RvSlNPTihlLnN0YXR1cykpLHZvaWQgMCE9PWUudG9rZW5zJiYodC50b2tlbnM9ZS50b2tlbnMpLHZvaWQgMCE9PWUuZGVsZWdhdG9yU2hhcmVzJiYodC5kZWxlZ2F0b3JTaGFyZXM9ZS5kZWxlZ2F0b3JTaGFyZXMpLHZvaWQgMCE9PWUuZGVzY3JpcHRpb24mJih0LmRlc2NyaXB0aW9uPWUuZGVzY3JpcHRpb24/RGVzY3JpcHRpb24udG9KU09OKGUuZGVzY3JpcHRpb24pOnZvaWQgMCksdm9pZCAwIT09ZS51bmJvbmRpbmdIZWlnaHQmJih0LnVuYm9uZGluZ0hlaWdodD0oZS51bmJvbmRpbmdIZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS51bmJvbmRpbmdUaW1lJiYodC51bmJvbmRpbmdUaW1lPWwoZS51bmJvbmRpbmdUaW1lKS50b0lTT1N0cmluZygpKSx2b2lkIDAhPT1lLmNvbW1pc3Npb24mJih0LmNvbW1pc3Npb249ZS5jb21taXNzaW9uP0NvbW1pc3Npb24udG9KU09OKGUuY29tbWlzc2lvbik6dm9pZCAwKSx2b2lkIDAhPT1lLm1pblNlbGZEZWxlZ2F0aW9uJiYodC5taW5TZWxmRGVsZWdhdGlvbj1lLm1pblNlbGZEZWxlZ2F0aW9uKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCBpPXUoKTtyZXR1cm4gaS5vcGVyYXRvckFkZHJlc3M9ZS5vcGVyYXRvckFkZHJlc3M/P1wiXCIsaS5jb25zZW5zdXNQdWJrZXk9dm9pZCAwIT09ZS5jb25zZW5zdXNQdWJrZXkmJm51bGwhPT1lLmNvbnNlbnN1c1B1YmtleT9vLmZyb21QYXJ0aWFsKGUuY29uc2Vuc3VzUHVia2V5KTp2b2lkIDAsaS5qYWlsZWQ9ZS5qYWlsZWQ/PyExLGkuc3RhdHVzPWUuc3RhdHVzPz8wLGkudG9rZW5zPWUudG9rZW5zPz9cIlwiLGkuZGVsZWdhdG9yU2hhcmVzPWUuZGVsZWdhdG9yU2hhcmVzPz9cIlwiLGkuZGVzY3JpcHRpb249dm9pZCAwIT09ZS5kZXNjcmlwdGlvbiYmbnVsbCE9PWUuZGVzY3JpcHRpb24/RGVzY3JpcHRpb24uZnJvbVBhcnRpYWwoZS5kZXNjcmlwdGlvbik6dm9pZCAwLGkudW5ib25kaW5nSGVpZ2h0PXZvaWQgMCE9PWUudW5ib25kaW5nSGVpZ2h0JiZudWxsIT09ZS51bmJvbmRpbmdIZWlnaHQ/QmlnSW50KGUudW5ib25kaW5nSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxpLnVuYm9uZGluZ1RpbWU9dm9pZCAwIT09ZS51bmJvbmRpbmdUaW1lJiZudWxsIT09ZS51bmJvbmRpbmdUaW1lP3QuZnJvbVBhcnRpYWwoZS51bmJvbmRpbmdUaW1lKTp2b2lkIDAsaS5jb21taXNzaW9uPXZvaWQgMCE9PWUuY29tbWlzc2lvbiYmbnVsbCE9PWUuY29tbWlzc2lvbj9Db21taXNzaW9uLmZyb21QYXJ0aWFsKGUuY29tbWlzc2lvbik6dm9pZCAwLGkubWluU2VsZkRlbGVnYXRpb249ZS5taW5TZWxmRGVsZWdhdGlvbj8/XCJcIixpfSxmcm9tUHJvdG9Nc2c6ZT0+VmFsaWRhdG9yLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlZhbGlkYXRvci5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5WYWxpZGF0b3JcIix2YWx1ZTpWYWxpZGF0b3IuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WYWxpZGF0b3IoVmFsaWRhdG9yKTtjb25zdCBWYWxBZGRyZXNzZXM9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5WYWxBZGRyZXNzZXNcIixlbmNvZGUoZSx0PXIuY3JlYXRlKCkpe2Zvcihjb25zdCBvIG9mIGUuYWRkcmVzc2VzKXQudWludDMyKDEwKS5zdHJpbmcobyk7cmV0dXJuIHR9LGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgaT12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3Qgbj17YWRkcmVzc2VzOltdfTtmb3IoO28ucG9zPGk7KXtjb25zdCBlPW8udWludDMyKCk7aWYoZT4+PjM9PTEpbi5hZGRyZXNzZXMucHVzaChvLnN0cmluZygpKTtlbHNlIG8uc2tpcFR5cGUoNyZlKX1yZXR1cm4gbn0sZnJvbUpTT046ZT0+KHthZGRyZXNzZXM6QXJyYXkuaXNBcnJheShlPy5hZGRyZXNzZXMpP2UuYWRkcmVzc2VzLm1hcCgoZT0+U3RyaW5nKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gZS5hZGRyZXNzZXM/dC5hZGRyZXNzZXM9ZS5hZGRyZXNzZXMubWFwKChlPT5lKSk6dC5hZGRyZXNzZXM9W10sdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17YWRkcmVzc2VzOltdfTtyZXR1cm4gdC5hZGRyZXNzZXM9ZS5hZGRyZXNzZXM/Lm1hcCgoZT0+ZSkpfHxbXSx0fSxmcm9tUHJvdG9Nc2c6ZT0+VmFsQWRkcmVzc2VzLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlZhbEFkZHJlc3Nlcy5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5WYWxBZGRyZXNzZXNcIix2YWx1ZTpWYWxBZGRyZXNzZXMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WYWxBZGRyZXNzZXMoVmFsQWRkcmVzc2VzKTtjb25zdCBEVlBhaXI9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5EVlBhaXJcIixlbmNvZGU6KGUsdD1yLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbGVnYXRvckFkZHJlc3MmJnQudWludDMyKDEwKS5zdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKSxcIlwiIT09ZS52YWxpZGF0b3JBZGRyZXNzJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBpPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBuPXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpcIlwifTtmb3IoO28ucG9zPGk7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6bi5kZWxlZ2F0b3JBZGRyZXNzPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm4udmFsaWRhdG9yQWRkcmVzcz1vLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gbn0sZnJvbUpTT046ZT0+KHtkZWxlZ2F0b3JBZGRyZXNzOmEoZS5kZWxlZ2F0b3JBZGRyZXNzKT9TdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKTpcIlwiLHZhbGlkYXRvckFkZHJlc3M6YShlLnZhbGlkYXRvckFkZHJlc3MpP1N0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiYodC5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS52YWxpZGF0b3JBZGRyZXNzJiYodC52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcyksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvckFkZHJlc3M6XCJcIn07cmV0dXJuIHQuZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3M/P1wiXCIsdC52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcz8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6ZT0+RFZQYWlyLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkRWUGFpci5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5EVlBhaXJcIix2YWx1ZTpEVlBhaXIuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5EVlBhaXIoRFZQYWlyKTtjb25zdCBEVlBhaXJzPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuRFZQYWlyc1wiLGVuY29kZShlLHQ9ci5jcmVhdGUoKSl7Zm9yKGNvbnN0IG8gb2YgZS5wYWlycylEVlBhaXIuZW5jb2RlKG8sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgaT12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3Qgbj17cGFpcnM6W119O2Zvcig7by5wb3M8aTspe2NvbnN0IGU9by51aW50MzIoKTtpZihlPj4+Mz09MSluLnBhaXJzLnB1c2goRFZQYWlyLmRlY29kZShvLG8udWludDMyKCkpKTtlbHNlIG8uc2tpcFR5cGUoNyZlKX1yZXR1cm4gbn0sZnJvbUpTT046ZT0+KHtwYWlyczpBcnJheS5pc0FycmF5KGU/LnBhaXJzKT9lLnBhaXJzLm1hcCgoZT0+RFZQYWlyLmZyb21KU09OKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gZS5wYWlycz90LnBhaXJzPWUucGFpcnMubWFwKChlPT5lP0RWUGFpci50b0pTT04oZSk6dm9pZCAwKSk6dC5wYWlycz1bXSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXtwYWlyczpbXX07cmV0dXJuIHQucGFpcnM9ZS5wYWlycz8ubWFwKChlPT5EVlBhaXIuZnJvbVBhcnRpYWwoZSkpKXx8W10sdH0sZnJvbVByb3RvTXNnOmU9PkRWUGFpcnMuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+RFZQYWlycy5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5EVlBhaXJzXCIsdmFsdWU6RFZQYWlycy5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkRWUGFpcnMoRFZQYWlycyk7Y29uc3QgRFZWVHJpcGxldD17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLkRWVlRyaXBsZXRcIixlbmNvZGU6KGUsdD1yLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbGVnYXRvckFkZHJlc3MmJnQudWludDMyKDEwKS5zdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKSxcIlwiIT09ZS52YWxpZGF0b3JTcmNBZGRyZXNzJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUudmFsaWRhdG9yU3JjQWRkcmVzcyksXCJcIiE9PWUudmFsaWRhdG9yRHN0QWRkcmVzcyYmdC51aW50MzIoMjYpLnN0cmluZyhlLnZhbGlkYXRvckRzdEFkZHJlc3MpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgaT12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3Qgbj17ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvclNyY0FkZHJlc3M6XCJcIix2YWxpZGF0b3JEc3RBZGRyZXNzOlwiXCJ9O2Zvcig7by5wb3M8aTspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpuLmRlbGVnYXRvckFkZHJlc3M9by5zdHJpbmcoKTticmVhaztjYXNlIDI6bi52YWxpZGF0b3JTcmNBZGRyZXNzPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm4udmFsaWRhdG9yRHN0QWRkcmVzcz1vLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gbn0sZnJvbUpTT046ZT0+KHtkZWxlZ2F0b3JBZGRyZXNzOmEoZS5kZWxlZ2F0b3JBZGRyZXNzKT9TdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKTpcIlwiLHZhbGlkYXRvclNyY0FkZHJlc3M6YShlLnZhbGlkYXRvclNyY0FkZHJlc3MpP1N0cmluZyhlLnZhbGlkYXRvclNyY0FkZHJlc3MpOlwiXCIsdmFsaWRhdG9yRHN0QWRkcmVzczphKGUudmFsaWRhdG9yRHN0QWRkcmVzcyk/U3RyaW5nKGUudmFsaWRhdG9yRHN0QWRkcmVzcyk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbGVnYXRvckFkZHJlc3MmJih0LmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzKSx2b2lkIDAhPT1lLnZhbGlkYXRvclNyY0FkZHJlc3MmJih0LnZhbGlkYXRvclNyY0FkZHJlc3M9ZS52YWxpZGF0b3JTcmNBZGRyZXNzKSx2b2lkIDAhPT1lLnZhbGlkYXRvckRzdEFkZHJlc3MmJih0LnZhbGlkYXRvckRzdEFkZHJlc3M9ZS52YWxpZGF0b3JEc3RBZGRyZXNzKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCIsdmFsaWRhdG9yU3JjQWRkcmVzczpcIlwiLHZhbGlkYXRvckRzdEFkZHJlc3M6XCJcIn07cmV0dXJuIHQuZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3M/P1wiXCIsdC52YWxpZGF0b3JTcmNBZGRyZXNzPWUudmFsaWRhdG9yU3JjQWRkcmVzcz8/XCJcIix0LnZhbGlkYXRvckRzdEFkZHJlc3M9ZS52YWxpZGF0b3JEc3RBZGRyZXNzPz9cIlwiLHR9LGZyb21Qcm90b01zZzplPT5EVlZUcmlwbGV0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkRWVlRyaXBsZXQuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuRFZWVHJpcGxldFwiLHZhbHVlOkRWVlRyaXBsZXQuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5EVlZUcmlwbGV0KERWVlRyaXBsZXQpO2NvbnN0IERWVlRyaXBsZXRzPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuRFZWVHJpcGxldHNcIixlbmNvZGUoZSx0PXIuY3JlYXRlKCkpe2Zvcihjb25zdCBvIG9mIGUudHJpcGxldHMpRFZWVHJpcGxldC5lbmNvZGUobyx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBpPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBuPXt0cmlwbGV0czpbXX07Zm9yKDtvLnBvczxpOyl7Y29uc3QgZT1vLnVpbnQzMigpO2lmKGU+Pj4zPT0xKW4udHJpcGxldHMucHVzaChEVlZUcmlwbGV0LmRlY29kZShvLG8udWludDMyKCkpKTtlbHNlIG8uc2tpcFR5cGUoNyZlKX1yZXR1cm4gbn0sZnJvbUpTT046ZT0+KHt0cmlwbGV0czpBcnJheS5pc0FycmF5KGU/LnRyaXBsZXRzKT9lLnRyaXBsZXRzLm1hcCgoZT0+RFZWVHJpcGxldC5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIGUudHJpcGxldHM/dC50cmlwbGV0cz1lLnRyaXBsZXRzLm1hcCgoZT0+ZT9EVlZUcmlwbGV0LnRvSlNPTihlKTp2b2lkIDApKTp0LnRyaXBsZXRzPVtdLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e3RyaXBsZXRzOltdfTtyZXR1cm4gdC50cmlwbGV0cz1lLnRyaXBsZXRzPy5tYXAoKGU9PkRWVlRyaXBsZXQuZnJvbVBhcnRpYWwoZSkpKXx8W10sdH0sZnJvbVByb3RvTXNnOmU9PkRWVlRyaXBsZXRzLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkRWVlRyaXBsZXRzLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLkRWVlRyaXBsZXRzXCIsdmFsdWU6RFZWVHJpcGxldHMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5EVlZUcmlwbGV0cyhEVlZUcmlwbGV0cyk7Y29uc3QgRGVsZWdhdGlvbj17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLkRlbGVnYXRpb25cIixlbmNvZGU6KGUsdD1yLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbGVnYXRvckFkZHJlc3MmJnQudWludDMyKDEwKS5zdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKSxcIlwiIT09ZS52YWxpZGF0b3JBZGRyZXNzJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyksXCJcIiE9PWUuc2hhcmVzJiZ0LnVpbnQzMigyNikuc3RyaW5nKGMuZnJvbVVzZXJJbnB1dChlLnNoYXJlcywxOCkuYXRvbWljcyksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBpPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBuPXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpcIlwiLHNoYXJlczpcIlwifTtmb3IoO28ucG9zPGk7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6bi5kZWxlZ2F0b3JBZGRyZXNzPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm4udmFsaWRhdG9yQWRkcmVzcz1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpuLnNoYXJlcz1jLmZyb21BdG9taWNzKG8uc3RyaW5nKCksMTgpLnRvU3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBufSxmcm9tSlNPTjplPT4oe2RlbGVnYXRvckFkZHJlc3M6YShlLmRlbGVnYXRvckFkZHJlc3MpP1N0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpOlwiXCIsdmFsaWRhdG9yQWRkcmVzczphKGUudmFsaWRhdG9yQWRkcmVzcyk/U3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyk6XCJcIixzaGFyZXM6YShlLnNoYXJlcyk/U3RyaW5nKGUuc2hhcmVzKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmKHQuZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkcmVzcyYmKHQudmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUuc2hhcmVzJiYodC5zaGFyZXM9ZS5zaGFyZXMpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e2RlbGVnYXRvckFkZHJlc3M6XCJcIix2YWxpZGF0b3JBZGRyZXNzOlwiXCIsc2hhcmVzOlwiXCJ9O3JldHVybiB0LmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzPz9cIlwiLHQudmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3M/P1wiXCIsdC5zaGFyZXM9ZS5zaGFyZXM/P1wiXCIsdH0sZnJvbVByb3RvTXNnOmU9PkRlbGVnYXRpb24uZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+RGVsZWdhdGlvbi5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5EZWxlZ2F0aW9uXCIsdmFsdWU6RGVsZWdhdGlvbi5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkRlbGVnYXRpb24oRGVsZWdhdGlvbik7Y29uc3QgVW5ib25kaW5nRGVsZWdhdGlvbj17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlVuYm9uZGluZ0RlbGVnYXRpb25cIixlbmNvZGUoZSx0PXIuY3JlYXRlKCkpe1wiXCIhPT1lLmRlbGVnYXRvckFkZHJlc3MmJnQudWludDMyKDEwKS5zdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKSxcIlwiIT09ZS52YWxpZGF0b3JBZGRyZXNzJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyk7Zm9yKGNvbnN0IG8gb2YgZS5lbnRyaWVzKVVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeS5lbmNvZGUobyx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBpPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBuPXtkZWxlZ2F0b3JBZGRyZXNzOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpcIlwiLGVudHJpZXM6W119O2Zvcig7by5wb3M8aTspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpuLmRlbGVnYXRvckFkZHJlc3M9by5zdHJpbmcoKTticmVhaztjYXNlIDI6bi52YWxpZGF0b3JBZGRyZXNzPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm4uZW50cmllcy5wdXNoKFVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeS5kZWNvZGUobyxvLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBufSxmcm9tSlNPTjplPT4oe2RlbGVnYXRvckFkZHJlc3M6YShlLmRlbGVnYXRvckFkZHJlc3MpP1N0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpOlwiXCIsdmFsaWRhdG9yQWRkcmVzczphKGUudmFsaWRhdG9yQWRkcmVzcyk/U3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyk6XCJcIixlbnRyaWVzOkFycmF5LmlzQXJyYXkoZT8uZW50cmllcyk/ZS5lbnRyaWVzLm1hcCgoZT0+VW5ib25kaW5nRGVsZWdhdGlvbkVudHJ5LmZyb21KU09OKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiYodC5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS52YWxpZGF0b3JBZGRyZXNzJiYodC52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcyksZS5lbnRyaWVzP3QuZW50cmllcz1lLmVudHJpZXMubWFwKChlPT5lP1VuYm9uZGluZ0RlbGVnYXRpb25FbnRyeS50b0pTT04oZSk6dm9pZCAwKSk6dC5lbnRyaWVzPVtdLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e2RlbGVnYXRvckFkZHJlc3M6XCJcIix2YWxpZGF0b3JBZGRyZXNzOlwiXCIsZW50cmllczpbXX07cmV0dXJuIHQuZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3M/P1wiXCIsdC52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcz8/XCJcIix0LmVudHJpZXM9ZS5lbnRyaWVzPy5tYXAoKGU9PlVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeS5mcm9tUGFydGlhbChlKSkpfHxbXSx0fSxmcm9tUHJvdG9Nc2c6ZT0+VW5ib25kaW5nRGVsZWdhdGlvbi5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5VbmJvbmRpbmdEZWxlZ2F0aW9uLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlVuYm9uZGluZ0RlbGVnYXRpb25cIix2YWx1ZTpVbmJvbmRpbmdEZWxlZ2F0aW9uLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuVW5ib25kaW5nRGVsZWdhdGlvbihVbmJvbmRpbmdEZWxlZ2F0aW9uKTtmdW5jdGlvbiBwKCl7cmV0dXJue2NyZWF0aW9uSGVpZ2h0OkJpZ0ludCgwKSxjb21wbGV0aW9uVGltZTp0LmZyb21QYXJ0aWFsKHt9KSxpbml0aWFsQmFsYW5jZTpcIlwiLGJhbGFuY2U6XCJcIn19Y29uc3QgVW5ib25kaW5nRGVsZWdhdGlvbkVudHJ5PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuVW5ib25kaW5nRGVsZWdhdGlvbkVudHJ5XCIsZW5jb2RlOihlLG89ci5jcmVhdGUoKSk9PihlLmNyZWF0aW9uSGVpZ2h0IT09QmlnSW50KDApJiZvLnVpbnQzMig4KS5pbnQ2NChlLmNyZWF0aW9uSGVpZ2h0KSx2b2lkIDAhPT1lLmNvbXBsZXRpb25UaW1lJiZ0LmVuY29kZShlLmNvbXBsZXRpb25UaW1lLG8udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLFwiXCIhPT1lLmluaXRpYWxCYWxhbmNlJiZvLnVpbnQzMigyNikuc3RyaW5nKGUuaW5pdGlhbEJhbGFuY2UpLFwiXCIhPT1lLmJhbGFuY2UmJm8udWludDMyKDM0KS5zdHJpbmcoZS5iYWxhbmNlKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBpPWUgaW5zdGFuY2VvZiBzP2U6bmV3IHMoZSk7bGV0IG49dm9pZCAwPT09bz9pLmxlbjppLnBvcytvO2NvbnN0IHI9cCgpO2Zvcig7aS5wb3M8bjspe2NvbnN0IGU9aS51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLmNyZWF0aW9uSGVpZ2h0PWkuaW50NjQoKTticmVhaztjYXNlIDI6ci5jb21wbGV0aW9uVGltZT10LmRlY29kZShpLGkudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpyLmluaXRpYWxCYWxhbmNlPWkuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OnIuYmFsYW5jZT1pLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6aS5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtjcmVhdGlvbkhlaWdodDphKGUuY3JlYXRpb25IZWlnaHQpP0JpZ0ludChlLmNyZWF0aW9uSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxjb21wbGV0aW9uVGltZTphKGUuY29tcGxldGlvblRpbWUpP2QoZS5jb21wbGV0aW9uVGltZSk6dm9pZCAwLGluaXRpYWxCYWxhbmNlOmEoZS5pbml0aWFsQmFsYW5jZSk/U3RyaW5nKGUuaW5pdGlhbEJhbGFuY2UpOlwiXCIsYmFsYW5jZTphKGUuYmFsYW5jZSk/U3RyaW5nKGUuYmFsYW5jZSk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmNyZWF0aW9uSGVpZ2h0JiYodC5jcmVhdGlvbkhlaWdodD0oZS5jcmVhdGlvbkhlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLmNvbXBsZXRpb25UaW1lJiYodC5jb21wbGV0aW9uVGltZT1sKGUuY29tcGxldGlvblRpbWUpLnRvSVNPU3RyaW5nKCkpLHZvaWQgMCE9PWUuaW5pdGlhbEJhbGFuY2UmJih0LmluaXRpYWxCYWxhbmNlPWUuaW5pdGlhbEJhbGFuY2UpLHZvaWQgMCE9PWUuYmFsYW5jZSYmKHQuYmFsYW5jZT1lLmJhbGFuY2UpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89cCgpO3JldHVybiBvLmNyZWF0aW9uSGVpZ2h0PXZvaWQgMCE9PWUuY3JlYXRpb25IZWlnaHQmJm51bGwhPT1lLmNyZWF0aW9uSGVpZ2h0P0JpZ0ludChlLmNyZWF0aW9uSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvLmNvbXBsZXRpb25UaW1lPXZvaWQgMCE9PWUuY29tcGxldGlvblRpbWUmJm51bGwhPT1lLmNvbXBsZXRpb25UaW1lP3QuZnJvbVBhcnRpYWwoZS5jb21wbGV0aW9uVGltZSk6dm9pZCAwLG8uaW5pdGlhbEJhbGFuY2U9ZS5pbml0aWFsQmFsYW5jZT8/XCJcIixvLmJhbGFuY2U9ZS5iYWxhbmNlPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5VbmJvbmRpbmdEZWxlZ2F0aW9uRW50cnkuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+VW5ib25kaW5nRGVsZWdhdGlvbkVudHJ5LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeVwiLHZhbHVlOlVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeShVbmJvbmRpbmdEZWxlZ2F0aW9uRW50cnkpO2Z1bmN0aW9uIHYoKXtyZXR1cm57Y3JlYXRpb25IZWlnaHQ6QmlnSW50KDApLGNvbXBsZXRpb25UaW1lOnQuZnJvbVBhcnRpYWwoe30pLGluaXRpYWxCYWxhbmNlOlwiXCIsc2hhcmVzRHN0OlwiXCJ9fWNvbnN0IFJlZGVsZWdhdGlvbkVudHJ5PXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUmVkZWxlZ2F0aW9uRW50cnlcIixlbmNvZGU6KGUsbz1yLmNyZWF0ZSgpKT0+KGUuY3JlYXRpb25IZWlnaHQhPT1CaWdJbnQoMCkmJm8udWludDMyKDgpLmludDY0KGUuY3JlYXRpb25IZWlnaHQpLHZvaWQgMCE9PWUuY29tcGxldGlvblRpbWUmJnQuZW5jb2RlKGUuY29tcGxldGlvblRpbWUsby51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksXCJcIiE9PWUuaW5pdGlhbEJhbGFuY2UmJm8udWludDMyKDI2KS5zdHJpbmcoZS5pbml0aWFsQmFsYW5jZSksXCJcIiE9PWUuc2hhcmVzRHN0JiZvLnVpbnQzMigzNCkuc3RyaW5nKGMuZnJvbVVzZXJJbnB1dChlLnNoYXJlc0RzdCwxOCkuYXRvbWljcyksbyksZGVjb2RlKGUsbyl7Y29uc3QgaT1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBuPXZvaWQgMD09PW8/aS5sZW46aS5wb3Mrbztjb25zdCByPXYoKTtmb3IoO2kucG9zPG47KXtjb25zdCBlPWkudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6ci5jcmVhdGlvbkhlaWdodD1pLmludDY0KCk7YnJlYWs7Y2FzZSAyOnIuY29tcGxldGlvblRpbWU9dC5kZWNvZGUoaSxpLnVpbnQzMigpKTticmVhaztjYXNlIDM6ci5pbml0aWFsQmFsYW5jZT1pLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpyLnNoYXJlc0RzdD1jLmZyb21BdG9taWNzKGkuc3RyaW5nKCksMTgpLnRvU3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDppLnNraXBUeXBlKDcmZSl9fXJldHVybiByfSxmcm9tSlNPTjplPT4oe2NyZWF0aW9uSGVpZ2h0OmEoZS5jcmVhdGlvbkhlaWdodCk/QmlnSW50KGUuY3JlYXRpb25IZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLGNvbXBsZXRpb25UaW1lOmEoZS5jb21wbGV0aW9uVGltZSk/ZChlLmNvbXBsZXRpb25UaW1lKTp2b2lkIDAsaW5pdGlhbEJhbGFuY2U6YShlLmluaXRpYWxCYWxhbmNlKT9TdHJpbmcoZS5pbml0aWFsQmFsYW5jZSk6XCJcIixzaGFyZXNEc3Q6YShlLnNoYXJlc0RzdCk/U3RyaW5nKGUuc2hhcmVzRHN0KTpcIlwifSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuY3JlYXRpb25IZWlnaHQmJih0LmNyZWF0aW9uSGVpZ2h0PShlLmNyZWF0aW9uSGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUuY29tcGxldGlvblRpbWUmJih0LmNvbXBsZXRpb25UaW1lPWwoZS5jb21wbGV0aW9uVGltZSkudG9JU09TdHJpbmcoKSksdm9pZCAwIT09ZS5pbml0aWFsQmFsYW5jZSYmKHQuaW5pdGlhbEJhbGFuY2U9ZS5pbml0aWFsQmFsYW5jZSksdm9pZCAwIT09ZS5zaGFyZXNEc3QmJih0LnNoYXJlc0RzdD1lLnNoYXJlc0RzdCksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz12KCk7cmV0dXJuIG8uY3JlYXRpb25IZWlnaHQ9dm9pZCAwIT09ZS5jcmVhdGlvbkhlaWdodCYmbnVsbCE9PWUuY3JlYXRpb25IZWlnaHQ/QmlnSW50KGUuY3JlYXRpb25IZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLG8uY29tcGxldGlvblRpbWU9dm9pZCAwIT09ZS5jb21wbGV0aW9uVGltZSYmbnVsbCE9PWUuY29tcGxldGlvblRpbWU/dC5mcm9tUGFydGlhbChlLmNvbXBsZXRpb25UaW1lKTp2b2lkIDAsby5pbml0aWFsQmFsYW5jZT1lLmluaXRpYWxCYWxhbmNlPz9cIlwiLG8uc2hhcmVzRHN0PWUuc2hhcmVzRHN0Pz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5SZWRlbGVnYXRpb25FbnRyeS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZWRlbGVnYXRpb25FbnRyeS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5SZWRlbGVnYXRpb25FbnRyeVwiLHZhbHVlOlJlZGVsZWdhdGlvbkVudHJ5LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUmVkZWxlZ2F0aW9uRW50cnkoUmVkZWxlZ2F0aW9uRW50cnkpO2NvbnN0IFJlZGVsZWdhdGlvbj17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlJlZGVsZWdhdGlvblwiLGVuY29kZShlLHQ9ci5jcmVhdGUoKSl7XCJcIiE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmdC51aW50MzIoMTApLnN0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpLFwiXCIhPT1lLnZhbGlkYXRvclNyY0FkZHJlc3MmJnQudWludDMyKDE4KS5zdHJpbmcoZS52YWxpZGF0b3JTcmNBZGRyZXNzKSxcIlwiIT09ZS52YWxpZGF0b3JEc3RBZGRyZXNzJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUudmFsaWRhdG9yRHN0QWRkcmVzcyk7Zm9yKGNvbnN0IG8gb2YgZS5lbnRyaWVzKVJlZGVsZWdhdGlvbkVudHJ5LmVuY29kZShvLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiBzP2U6bmV3IHMoZSk7bGV0IGk9dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IG49e2RlbGVnYXRvckFkZHJlc3M6XCJcIix2YWxpZGF0b3JTcmNBZGRyZXNzOlwiXCIsdmFsaWRhdG9yRHN0QWRkcmVzczpcIlwiLGVudHJpZXM6W119O2Zvcig7by5wb3M8aTspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpuLmRlbGVnYXRvckFkZHJlc3M9by5zdHJpbmcoKTticmVhaztjYXNlIDI6bi52YWxpZGF0b3JTcmNBZGRyZXNzPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm4udmFsaWRhdG9yRHN0QWRkcmVzcz1vLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpuLmVudHJpZXMucHVzaChSZWRlbGVnYXRpb25FbnRyeS5kZWNvZGUobyxvLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBufSxmcm9tSlNPTjplPT4oe2RlbGVnYXRvckFkZHJlc3M6YShlLmRlbGVnYXRvckFkZHJlc3MpP1N0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpOlwiXCIsdmFsaWRhdG9yU3JjQWRkcmVzczphKGUudmFsaWRhdG9yU3JjQWRkcmVzcyk/U3RyaW5nKGUudmFsaWRhdG9yU3JjQWRkcmVzcyk6XCJcIix2YWxpZGF0b3JEc3RBZGRyZXNzOmEoZS52YWxpZGF0b3JEc3RBZGRyZXNzKT9TdHJpbmcoZS52YWxpZGF0b3JEc3RBZGRyZXNzKTpcIlwiLGVudHJpZXM6QXJyYXkuaXNBcnJheShlPy5lbnRyaWVzKT9lLmVudHJpZXMubWFwKChlPT5SZWRlbGVnYXRpb25FbnRyeS5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmKHQuZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUudmFsaWRhdG9yU3JjQWRkcmVzcyYmKHQudmFsaWRhdG9yU3JjQWRkcmVzcz1lLnZhbGlkYXRvclNyY0FkZHJlc3MpLHZvaWQgMCE9PWUudmFsaWRhdG9yRHN0QWRkcmVzcyYmKHQudmFsaWRhdG9yRHN0QWRkcmVzcz1lLnZhbGlkYXRvckRzdEFkZHJlc3MpLGUuZW50cmllcz90LmVudHJpZXM9ZS5lbnRyaWVzLm1hcCgoZT0+ZT9SZWRlbGVnYXRpb25FbnRyeS50b0pTT04oZSk6dm9pZCAwKSk6dC5lbnRyaWVzPVtdLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e2RlbGVnYXRvckFkZHJlc3M6XCJcIix2YWxpZGF0b3JTcmNBZGRyZXNzOlwiXCIsdmFsaWRhdG9yRHN0QWRkcmVzczpcIlwiLGVudHJpZXM6W119O3JldHVybiB0LmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzPz9cIlwiLHQudmFsaWRhdG9yU3JjQWRkcmVzcz1lLnZhbGlkYXRvclNyY0FkZHJlc3M/P1wiXCIsdC52YWxpZGF0b3JEc3RBZGRyZXNzPWUudmFsaWRhdG9yRHN0QWRkcmVzcz8/XCJcIix0LmVudHJpZXM9ZS5lbnRyaWVzPy5tYXAoKGU9PlJlZGVsZWdhdGlvbkVudHJ5LmZyb21QYXJ0aWFsKGUpKSl8fFtdLHR9LGZyb21Qcm90b01zZzplPT5SZWRlbGVnYXRpb24uZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UmVkZWxlZ2F0aW9uLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlJlZGVsZWdhdGlvblwiLHZhbHVlOlJlZGVsZWdhdGlvbi5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlJlZGVsZWdhdGlvbihSZWRlbGVnYXRpb24pO2Z1bmN0aW9uIGYoKXtyZXR1cm57dW5ib25kaW5nVGltZTppLmZyb21QYXJ0aWFsKHt9KSxtYXhWYWxpZGF0b3JzOjAsbWF4RW50cmllczowLGhpc3RvcmljYWxFbnRyaWVzOjAsYm9uZERlbm9tOlwiXCIsbWluQ29tbWlzc2lvblJhdGU6XCJcIn19Y29uc3QgUGFyYW1zPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUGFyYW1zXCIsZW5jb2RlOihlLHQ9ci5jcmVhdGUoKSk9Pih2b2lkIDAhPT1lLnVuYm9uZGluZ1RpbWUmJmkuZW5jb2RlKGUudW5ib25kaW5nVGltZSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSwwIT09ZS5tYXhWYWxpZGF0b3JzJiZ0LnVpbnQzMigxNikudWludDMyKGUubWF4VmFsaWRhdG9ycyksMCE9PWUubWF4RW50cmllcyYmdC51aW50MzIoMjQpLnVpbnQzMihlLm1heEVudHJpZXMpLDAhPT1lLmhpc3RvcmljYWxFbnRyaWVzJiZ0LnVpbnQzMigzMikudWludDMyKGUuaGlzdG9yaWNhbEVudHJpZXMpLFwiXCIhPT1lLmJvbmREZW5vbSYmdC51aW50MzIoNDIpLnN0cmluZyhlLmJvbmREZW5vbSksXCJcIiE9PWUubWluQ29tbWlzc2lvblJhdGUmJnQudWludDMyKDUwKS5zdHJpbmcoYy5mcm9tVXNlcklucHV0KGUubWluQ29tbWlzc2lvblJhdGUsMTgpLmF0b21pY3MpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3Qgcj1mKCk7Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnIudW5ib25kaW5nVGltZT1pLmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2Nhc2UgMjpyLm1heFZhbGlkYXRvcnM9by51aW50MzIoKTticmVhaztjYXNlIDM6ci5tYXhFbnRyaWVzPW8udWludDMyKCk7YnJlYWs7Y2FzZSA0OnIuaGlzdG9yaWNhbEVudHJpZXM9by51aW50MzIoKTticmVhaztjYXNlIDU6ci5ib25kRGVub209by5zdHJpbmcoKTticmVhaztjYXNlIDY6ci5taW5Db21taXNzaW9uUmF0ZT1jLmZyb21BdG9taWNzKG8uc3RyaW5nKCksMTgpLnRvU3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiByfSxmcm9tSlNPTjplPT4oe3VuYm9uZGluZ1RpbWU6YShlLnVuYm9uZGluZ1RpbWUpP2kuZnJvbUpTT04oZS51bmJvbmRpbmdUaW1lKTp2b2lkIDAsbWF4VmFsaWRhdG9yczphKGUubWF4VmFsaWRhdG9ycyk/TnVtYmVyKGUubWF4VmFsaWRhdG9ycyk6MCxtYXhFbnRyaWVzOmEoZS5tYXhFbnRyaWVzKT9OdW1iZXIoZS5tYXhFbnRyaWVzKTowLGhpc3RvcmljYWxFbnRyaWVzOmEoZS5oaXN0b3JpY2FsRW50cmllcyk/TnVtYmVyKGUuaGlzdG9yaWNhbEVudHJpZXMpOjAsYm9uZERlbm9tOmEoZS5ib25kRGVub20pP1N0cmluZyhlLmJvbmREZW5vbSk6XCJcIixtaW5Db21taXNzaW9uUmF0ZTphKGUubWluQ29tbWlzc2lvblJhdGUpP1N0cmluZyhlLm1pbkNvbW1pc3Npb25SYXRlKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUudW5ib25kaW5nVGltZSYmKHQudW5ib25kaW5nVGltZT1lLnVuYm9uZGluZ1RpbWU/aS50b0pTT04oZS51bmJvbmRpbmdUaW1lKTp2b2lkIDApLHZvaWQgMCE9PWUubWF4VmFsaWRhdG9ycyYmKHQubWF4VmFsaWRhdG9ycz1NYXRoLnJvdW5kKGUubWF4VmFsaWRhdG9ycykpLHZvaWQgMCE9PWUubWF4RW50cmllcyYmKHQubWF4RW50cmllcz1NYXRoLnJvdW5kKGUubWF4RW50cmllcykpLHZvaWQgMCE9PWUuaGlzdG9yaWNhbEVudHJpZXMmJih0Lmhpc3RvcmljYWxFbnRyaWVzPU1hdGgucm91bmQoZS5oaXN0b3JpY2FsRW50cmllcykpLHZvaWQgMCE9PWUuYm9uZERlbm9tJiYodC5ib25kRGVub209ZS5ib25kRGVub20pLHZvaWQgMCE9PWUubWluQ29tbWlzc2lvblJhdGUmJih0Lm1pbkNvbW1pc3Npb25SYXRlPWUubWluQ29tbWlzc2lvblJhdGUpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9ZigpO3JldHVybiB0LnVuYm9uZGluZ1RpbWU9dm9pZCAwIT09ZS51bmJvbmRpbmdUaW1lJiZudWxsIT09ZS51bmJvbmRpbmdUaW1lP2kuZnJvbVBhcnRpYWwoZS51bmJvbmRpbmdUaW1lKTp2b2lkIDAsdC5tYXhWYWxpZGF0b3JzPWUubWF4VmFsaWRhdG9ycz8/MCx0Lm1heEVudHJpZXM9ZS5tYXhFbnRyaWVzPz8wLHQuaGlzdG9yaWNhbEVudHJpZXM9ZS5oaXN0b3JpY2FsRW50cmllcz8/MCx0LmJvbmREZW5vbT1lLmJvbmREZW5vbT8/XCJcIix0Lm1pbkNvbW1pc3Npb25SYXRlPWUubWluQ29tbWlzc2lvblJhdGU/P1wiXCIsdH0sZnJvbVByb3RvTXNnOmU9PlBhcmFtcy5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5QYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUGFyYW1zXCIsdmFsdWU6UGFyYW1zLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUGFyYW1zKFBhcmFtcyk7ZnVuY3Rpb24gYigpe3JldHVybntkZWxlZ2F0aW9uOkRlbGVnYXRpb24uZnJvbVBhcnRpYWwoe30pLGJhbGFuY2U6bi5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IERlbGVnYXRpb25SZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLkRlbGVnYXRpb25SZXNwb25zZVwiLGVuY29kZTooZSx0PXIuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5kZWxlZ2F0aW9uJiZEZWxlZ2F0aW9uLmVuY29kZShlLmRlbGVnYXRpb24sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09ZS5iYWxhbmNlJiZuLmVuY29kZShlLmJhbGFuY2UsdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBpPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCByPWIoKTtmb3IoO28ucG9zPGk7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6ci5kZWxlZ2F0aW9uPURlbGVnYXRpb24uZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOnIuYmFsYW5jZT1uLmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gcn0sZnJvbUpTT046ZT0+KHtkZWxlZ2F0aW9uOmEoZS5kZWxlZ2F0aW9uKT9EZWxlZ2F0aW9uLmZyb21KU09OKGUuZGVsZWdhdGlvbik6dm9pZCAwLGJhbGFuY2U6YShlLmJhbGFuY2UpP24uZnJvbUpTT04oZS5iYWxhbmNlKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0aW9uJiYodC5kZWxlZ2F0aW9uPWUuZGVsZWdhdGlvbj9EZWxlZ2F0aW9uLnRvSlNPTihlLmRlbGVnYXRpb24pOnZvaWQgMCksdm9pZCAwIT09ZS5iYWxhbmNlJiYodC5iYWxhbmNlPWUuYmFsYW5jZT9uLnRvSlNPTihlLmJhbGFuY2UpOnZvaWQgMCksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1iKCk7cmV0dXJuIHQuZGVsZWdhdGlvbj12b2lkIDAhPT1lLmRlbGVnYXRpb24mJm51bGwhPT1lLmRlbGVnYXRpb24/RGVsZWdhdGlvbi5mcm9tUGFydGlhbChlLmRlbGVnYXRpb24pOnZvaWQgMCx0LmJhbGFuY2U9dm9pZCAwIT09ZS5iYWxhbmNlJiZudWxsIT09ZS5iYWxhbmNlP24uZnJvbVBhcnRpYWwoZS5iYWxhbmNlKTp2b2lkIDAsdH0sZnJvbVByb3RvTXNnOmU9PkRlbGVnYXRpb25SZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5EZWxlZ2F0aW9uUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuRGVsZWdhdGlvblJlc3BvbnNlXCIsdmFsdWU6RGVsZWdhdGlvblJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuRGVsZWdhdGlvblJlc3BvbnNlKERlbGVnYXRpb25SZXNwb25zZSk7ZnVuY3Rpb24gUygpe3JldHVybntyZWRlbGVnYXRpb25FbnRyeTpSZWRlbGVnYXRpb25FbnRyeS5mcm9tUGFydGlhbCh7fSksYmFsYW5jZTpcIlwifX1jb25zdCBSZWRlbGVnYXRpb25FbnRyeVJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUmVkZWxlZ2F0aW9uRW50cnlSZXNwb25zZVwiLGVuY29kZTooZSx0PXIuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5yZWRlbGVnYXRpb25FbnRyeSYmUmVkZWxlZ2F0aW9uRW50cnkuZW5jb2RlKGUucmVkZWxlZ2F0aW9uRW50cnksdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksXCJcIiE9PWUuYmFsYW5jZSYmdC51aW50MzIoMzQpLnN0cmluZyhlLmJhbGFuY2UpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhlKTtsZXQgaT12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3Qgbj1TKCk7Zm9yKDtvLnBvczxpOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOm4ucmVkZWxlZ2F0aW9uRW50cnk9UmVkZWxlZ2F0aW9uRW50cnkuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7Y2FzZSA0Om4uYmFsYW5jZT1vLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gbn0sZnJvbUpTT046ZT0+KHtyZWRlbGVnYXRpb25FbnRyeTphKGUucmVkZWxlZ2F0aW9uRW50cnkpP1JlZGVsZWdhdGlvbkVudHJ5LmZyb21KU09OKGUucmVkZWxlZ2F0aW9uRW50cnkpOnZvaWQgMCxiYWxhbmNlOmEoZS5iYWxhbmNlKT9TdHJpbmcoZS5iYWxhbmNlKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUucmVkZWxlZ2F0aW9uRW50cnkmJih0LnJlZGVsZWdhdGlvbkVudHJ5PWUucmVkZWxlZ2F0aW9uRW50cnk/UmVkZWxlZ2F0aW9uRW50cnkudG9KU09OKGUucmVkZWxlZ2F0aW9uRW50cnkpOnZvaWQgMCksdm9pZCAwIT09ZS5iYWxhbmNlJiYodC5iYWxhbmNlPWUuYmFsYW5jZSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1TKCk7cmV0dXJuIHQucmVkZWxlZ2F0aW9uRW50cnk9dm9pZCAwIT09ZS5yZWRlbGVnYXRpb25FbnRyeSYmbnVsbCE9PWUucmVkZWxlZ2F0aW9uRW50cnk/UmVkZWxlZ2F0aW9uRW50cnkuZnJvbVBhcnRpYWwoZS5yZWRlbGVnYXRpb25FbnRyeSk6dm9pZCAwLHQuYmFsYW5jZT1lLmJhbGFuY2U/P1wiXCIsdH0sZnJvbVByb3RvTXNnOmU9PlJlZGVsZWdhdGlvbkVudHJ5UmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UmVkZWxlZ2F0aW9uRW50cnlSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5SZWRlbGVnYXRpb25FbnRyeVJlc3BvbnNlXCIsdmFsdWU6UmVkZWxlZ2F0aW9uRW50cnlSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlJlZGVsZWdhdGlvbkVudHJ5UmVzcG9uc2UoUmVkZWxlZ2F0aW9uRW50cnlSZXNwb25zZSk7ZnVuY3Rpb24gQSgpe3JldHVybntyZWRlbGVnYXRpb246UmVkZWxlZ2F0aW9uLmZyb21QYXJ0aWFsKHt9KSxlbnRyaWVzOltdfX1jb25zdCBSZWRlbGVnYXRpb25SZXNwb25zZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLlJlZGVsZWdhdGlvblJlc3BvbnNlXCIsZW5jb2RlKGUsdD1yLmNyZWF0ZSgpKXt2b2lkIDAhPT1lLnJlZGVsZWdhdGlvbiYmUmVkZWxlZ2F0aW9uLmVuY29kZShlLnJlZGVsZWdhdGlvbix0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtmb3IoY29uc3QgbyBvZiBlLmVudHJpZXMpUmVkZWxlZ2F0aW9uRW50cnlSZXNwb25zZS5lbmNvZGUobyx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBpPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBuPUEoKTtmb3IoO28ucG9zPGk7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6bi5yZWRlbGVnYXRpb249UmVkZWxlZ2F0aW9uLmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2Nhc2UgMjpuLmVudHJpZXMucHVzaChSZWRlbGVnYXRpb25FbnRyeVJlc3BvbnNlLmRlY29kZShvLG8udWludDMyKCkpKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIG59LGZyb21KU09OOmU9Pih7cmVkZWxlZ2F0aW9uOmEoZS5yZWRlbGVnYXRpb24pP1JlZGVsZWdhdGlvbi5mcm9tSlNPTihlLnJlZGVsZWdhdGlvbik6dm9pZCAwLGVudHJpZXM6QXJyYXkuaXNBcnJheShlPy5lbnRyaWVzKT9lLmVudHJpZXMubWFwKChlPT5SZWRlbGVnYXRpb25FbnRyeVJlc3BvbnNlLmZyb21KU09OKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5yZWRlbGVnYXRpb24mJih0LnJlZGVsZWdhdGlvbj1lLnJlZGVsZWdhdGlvbj9SZWRlbGVnYXRpb24udG9KU09OKGUucmVkZWxlZ2F0aW9uKTp2b2lkIDApLGUuZW50cmllcz90LmVudHJpZXM9ZS5lbnRyaWVzLm1hcCgoZT0+ZT9SZWRlbGVnYXRpb25FbnRyeVJlc3BvbnNlLnRvSlNPTihlKTp2b2lkIDApKTp0LmVudHJpZXM9W10sdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1BKCk7cmV0dXJuIHQucmVkZWxlZ2F0aW9uPXZvaWQgMCE9PWUucmVkZWxlZ2F0aW9uJiZudWxsIT09ZS5yZWRlbGVnYXRpb24/UmVkZWxlZ2F0aW9uLmZyb21QYXJ0aWFsKGUucmVkZWxlZ2F0aW9uKTp2b2lkIDAsdC5lbnRyaWVzPWUuZW50cmllcz8ubWFwKChlPT5SZWRlbGVnYXRpb25FbnRyeVJlc3BvbnNlLmZyb21QYXJ0aWFsKGUpKSl8fFtdLHR9LGZyb21Qcm90b01zZzplPT5SZWRlbGVnYXRpb25SZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZWRlbGVnYXRpb25SZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5SZWRlbGVnYXRpb25SZXNwb25zZVwiLHZhbHVlOlJlZGVsZWdhdGlvblJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUmVkZWxlZ2F0aW9uUmVzcG9uc2UoUmVkZWxlZ2F0aW9uUmVzcG9uc2UpO2NvbnN0IFBvb2w9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Qb29sXCIsZW5jb2RlOihlLHQ9ci5jcmVhdGUoKSk9PihcIlwiIT09ZS5ub3RCb25kZWRUb2tlbnMmJnQudWludDMyKDEwKS5zdHJpbmcoZS5ub3RCb25kZWRUb2tlbnMpLFwiXCIhPT1lLmJvbmRlZFRva2VucyYmdC51aW50MzIoMTgpLnN0cmluZyhlLmJvbmRlZFRva2VucyksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpO2xldCBpPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBuPXtub3RCb25kZWRUb2tlbnM6XCJcIixib25kZWRUb2tlbnM6XCJcIn07Zm9yKDtvLnBvczxpOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOm4ubm90Qm9uZGVkVG9rZW5zPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm4uYm9uZGVkVG9rZW5zPW8uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBufSxmcm9tSlNPTjplPT4oe25vdEJvbmRlZFRva2VuczphKGUubm90Qm9uZGVkVG9rZW5zKT9TdHJpbmcoZS5ub3RCb25kZWRUb2tlbnMpOlwiXCIsYm9uZGVkVG9rZW5zOmEoZS5ib25kZWRUb2tlbnMpP1N0cmluZyhlLmJvbmRlZFRva2Vucyk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLm5vdEJvbmRlZFRva2VucyYmKHQubm90Qm9uZGVkVG9rZW5zPWUubm90Qm9uZGVkVG9rZW5zKSx2b2lkIDAhPT1lLmJvbmRlZFRva2VucyYmKHQuYm9uZGVkVG9rZW5zPWUuYm9uZGVkVG9rZW5zKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXtub3RCb25kZWRUb2tlbnM6XCJcIixib25kZWRUb2tlbnM6XCJcIn07cmV0dXJuIHQubm90Qm9uZGVkVG9rZW5zPWUubm90Qm9uZGVkVG9rZW5zPz9cIlwiLHQuYm9uZGVkVG9rZW5zPWUuYm9uZGVkVG9rZW5zPz9cIlwiLHR9LGZyb21Qcm90b01zZzplPT5Qb29sLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlBvb2wuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuUG9vbFwiLHZhbHVlOlBvb2wuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Qb29sKFBvb2wpO2NvbnN0IENvc21vc19jcnlwdG9QdWJLZXlfSW50ZXJmYWNlRGVjb2Rlcj1lPT57Y29uc3QgdD1lIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUpLGk9by5kZWNvZGUodCx0LnVpbnQzMigpKTtyZXR1cm4gaS50eXBlVXJsLGl9OyRozY9fb25jZS5Db3Ntb3NfY3J5cHRvUHViS2V5X0ludGVyZmFjZURlY29kZXIoQ29zbW9zX2NyeXB0b1B1YktleV9JbnRlcmZhY2VEZWNvZGVyKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7IkJvbmRTdGF0dXMiOlsiQm9uZFN0YXR1cyIsdHJ1ZV19LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiQm9uZFN0YXR1c1NES1R5cGUiOlsiQm9uZFN0YXR1c1NES1R5cGUiXSwiYm9uZFN0YXR1c0Zyb21KU09OIjpbImJvbmRTdGF0dXNGcm9tSlNPTiJdLCJib25kU3RhdHVzVG9KU09OIjpbImJvbmRTdGF0dXNUb0pTT04iXSwiSGlzdG9yaWNhbEluZm8iOlsiSGlzdG9yaWNhbEluZm8iXSwiQ29tbWlzc2lvblJhdGVzIjpbIkNvbW1pc3Npb25SYXRlcyJdLCJDb21taXNzaW9uIjpbIkNvbW1pc3Npb24iXSwiRGVzY3JpcHRpb24iOlsiRGVzY3JpcHRpb24iXSwiVmFsaWRhdG9yIjpbIlZhbGlkYXRvciJdLCJWYWxBZGRyZXNzZXMiOlsiVmFsQWRkcmVzc2VzIl0sIkRWUGFpciI6WyJEVlBhaXIiXSwiRFZQYWlycyI6WyJEVlBhaXJzIl0sIkRWVlRyaXBsZXQiOlsiRFZWVHJpcGxldCJdLCJEVlZUcmlwbGV0cyI6WyJEVlZUcmlwbGV0cyJdLCJEZWxlZ2F0aW9uIjpbIkRlbGVnYXRpb24iXSwiVW5ib25kaW5nRGVsZWdhdGlvbiI6WyJVbmJvbmRpbmdEZWxlZ2F0aW9uIl0sIlVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeSI6WyJVbmJvbmRpbmdEZWxlZ2F0aW9uRW50cnkiXSwiUmVkZWxlZ2F0aW9uRW50cnkiOlsiUmVkZWxlZ2F0aW9uRW50cnkiXSwiUmVkZWxlZ2F0aW9uIjpbIlJlZGVsZWdhdGlvbiJdLCJQYXJhbXMiOlsiUGFyYW1zIl0sIkRlbGVnYXRpb25SZXNwb25zZSI6WyJEZWxlZ2F0aW9uUmVzcG9uc2UiXSwiUmVkZWxlZ2F0aW9uRW50cnlSZXNwb25zZSI6WyJSZWRlbGVnYXRpb25FbnRyeVJlc3BvbnNlIl0sIlJlZGVsZWdhdGlvblJlc3BvbnNlIjpbIlJlZGVsZWdhdGlvblJlc3BvbnNlIl0sIlBvb2wiOlsiUG9vbCJdLCJDb3Ntb3NfY3J5cHRvUHViS2V5X0ludGVyZmFjZURlY29kZXIiOlsiQ29zbW9zX2NyeXB0b1B1YktleV9JbnRlcmZhY2VEZWNvZGVyIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAPlCdFpZTgAAWU4AAEUAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvdHguanN7ImltcG9ydHMiOlsiLi9zdGFraW5nLmpzIiwiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qcyIsIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzIiwiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5qcyIsIi4uLy4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi8uLi9qc29uLXNhZmUuanMiLCIuLi8uLi8uLi9kZWNpbWFscy5qcyJdLCJleHBvcnRzIjpbIkNvc21vc19jcnlwdG9QdWJLZXlfSW50ZXJmYWNlRGVjb2RlciIsIk1zZ0JlZ2luUmVkZWxlZ2F0ZSIsIk1zZ0JlZ2luUmVkZWxlZ2F0ZVJlc3BvbnNlIiwiTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvbiIsIk1zZ0NhbmNlbFVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZSIsIk1zZ0NyZWF0ZVZhbGlkYXRvciIsIk1zZ0NyZWF0ZVZhbGlkYXRvclJlc3BvbnNlIiwiTXNnRGVsZWdhdGUiLCJNc2dEZWxlZ2F0ZVJlc3BvbnNlIiwiTXNnRWRpdFZhbGlkYXRvciIsIk1zZ0VkaXRWYWxpZGF0b3JSZXNwb25zZSIsIk1zZ1VuZGVsZWdhdGUiLCJNc2dVbmRlbGVnYXRlUmVzcG9uc2UiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBlLG8sdCxzLGkscixkLG4sYSxsLGM7JGjNj19pbXBvcnRzKFtbXCIuL3N0YWtpbmcuanNcIiwgW1tcIkRlc2NyaXB0aW9uXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXSxbXCJDb21taXNzaW9uUmF0ZXNcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qc1wiLCBbW1wiQW55XCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luLmpzXCIsIFtbXCJDb2luXCIsWyRozY9fYSA9PiAocyA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAuanNcIiwgW1tcIlRpbWVzdGFtcFwiLFskaM2PX2EgPT4gKGkgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKHIgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAoZCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXSxbXCJmcm9tSnNvblRpbWVzdGFtcFwiLFskaM2PX2EgPT4gKGEgPSAkaM2PX2EpXV0sW1wiZnJvbVRpbWVzdGFtcFwiLFskaM2PX2EgPT4gKGwgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi9qc29uLXNhZmUuanNcIiwgW11dLFtcIi4uLy4uLy4uL2RlY2ltYWxzLmpzXCIsIFtbXCJEZWNpbWFsXCIsWyRozY9fYSA9PiAoYyA9ICRozY9fYSldXV1dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZygpe3JldHVybntkZXNjcmlwdGlvbjplLmZyb21QYXJ0aWFsKHt9KSxjb21taXNzaW9uOm8uZnJvbVBhcnRpYWwoe30pLG1pblNlbGZEZWxlZ2F0aW9uOlwiXCIsZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvckFkZHJlc3M6XCJcIixwdWJrZXk6dm9pZCAwLHZhbHVlOnMuZnJvbVBhcnRpYWwoe30pfX0gICAgICAgY29uc3QgTXNnQ3JlYXRlVmFsaWRhdG9yPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnQ3JlYXRlVmFsaWRhdG9yXCIsZW5jb2RlOihpLHI9ZC5jcmVhdGUoKSk9Pih2b2lkIDAhPT1pLmRlc2NyaXB0aW9uJiZlLmVuY29kZShpLmRlc2NyaXB0aW9uLHIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLHZvaWQgMCE9PWkuY29tbWlzc2lvbiYmby5lbmNvZGUoaS5jb21taXNzaW9uLHIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLFwiXCIhPT1pLm1pblNlbGZEZWxlZ2F0aW9uJiZyLnVpbnQzMigyNikuc3RyaW5nKGkubWluU2VsZkRlbGVnYXRpb24pLFwiXCIhPT1pLmRlbGVnYXRvckFkZHJlc3MmJnIudWludDMyKDM0KS5zdHJpbmcoaS5kZWxlZ2F0b3JBZGRyZXNzKSxcIlwiIT09aS52YWxpZGF0b3JBZGRyZXNzJiZyLnVpbnQzMig0Mikuc3RyaW5nKGkudmFsaWRhdG9yQWRkcmVzcyksdm9pZCAwIT09aS5wdWJrZXkmJnQuZW5jb2RlKGkucHVia2V5LHIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpLHZvaWQgMCE9PWkudmFsdWUmJnMuZW5jb2RlKGkudmFsdWUsci51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCksciksZGVjb2RlKHQsaSl7Y29uc3QgZD10IGluc3RhbmNlb2Ygcj90Om5ldyByKHQpO2xldCBuPXZvaWQgMD09PWk/ZC5sZW46ZC5wb3MraTtjb25zdCBhPWcoKTtmb3IoO2QucG9zPG47KXtjb25zdCB0PWQudWludDMyKCk7c3dpdGNoKHQ+Pj4zKXtjYXNlIDE6YS5kZXNjcmlwdGlvbj1lLmRlY29kZShkLGQudWludDMyKCkpO2JyZWFrO2Nhc2UgMjphLmNvbW1pc3Npb249by5kZWNvZGUoZCxkLnVpbnQzMigpKTticmVhaztjYXNlIDM6YS5taW5TZWxmRGVsZWdhdGlvbj1kLnN0cmluZygpO2JyZWFrO2Nhc2UgNDphLmRlbGVnYXRvckFkZHJlc3M9ZC5zdHJpbmcoKTticmVhaztjYXNlIDU6YS52YWxpZGF0b3JBZGRyZXNzPWQuc3RyaW5nKCk7YnJlYWs7Y2FzZSA2OmEucHVia2V5PUNvc21vc19jcnlwdG9QdWJLZXlfSW50ZXJmYWNlRGVjb2RlcihkKTticmVhaztjYXNlIDc6YS52YWx1ZT1zLmRlY29kZShkLGQudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZC5za2lwVHlwZSg3JnQpfX1yZXR1cm4gYX0sZnJvbUpTT046aT0+KHtkZXNjcmlwdGlvbjpuKGkuZGVzY3JpcHRpb24pP2UuZnJvbUpTT04oaS5kZXNjcmlwdGlvbik6dm9pZCAwLGNvbW1pc3Npb246bihpLmNvbW1pc3Npb24pP28uZnJvbUpTT04oaS5jb21taXNzaW9uKTp2b2lkIDAsbWluU2VsZkRlbGVnYXRpb246bihpLm1pblNlbGZEZWxlZ2F0aW9uKT9TdHJpbmcoaS5taW5TZWxmRGVsZWdhdGlvbik6XCJcIixkZWxlZ2F0b3JBZGRyZXNzOm4oaS5kZWxlZ2F0b3JBZGRyZXNzKT9TdHJpbmcoaS5kZWxlZ2F0b3JBZGRyZXNzKTpcIlwiLHZhbGlkYXRvckFkZHJlc3M6bihpLnZhbGlkYXRvckFkZHJlc3MpP1N0cmluZyhpLnZhbGlkYXRvckFkZHJlc3MpOlwiXCIscHVia2V5Om4oaS5wdWJrZXkpP3QuZnJvbUpTT04oaS5wdWJrZXkpOnZvaWQgMCx2YWx1ZTpuKGkudmFsdWUpP3MuZnJvbUpTT04oaS52YWx1ZSk6dm9pZCAwfSksdG9KU09OKGkpe2NvbnN0IHI9e307cmV0dXJuIHZvaWQgMCE9PWkuZGVzY3JpcHRpb24mJihyLmRlc2NyaXB0aW9uPWkuZGVzY3JpcHRpb24/ZS50b0pTT04oaS5kZXNjcmlwdGlvbik6dm9pZCAwKSx2b2lkIDAhPT1pLmNvbW1pc3Npb24mJihyLmNvbW1pc3Npb249aS5jb21taXNzaW9uP28udG9KU09OKGkuY29tbWlzc2lvbik6dm9pZCAwKSx2b2lkIDAhPT1pLm1pblNlbGZEZWxlZ2F0aW9uJiYoci5taW5TZWxmRGVsZWdhdGlvbj1pLm1pblNlbGZEZWxlZ2F0aW9uKSx2b2lkIDAhPT1pLmRlbGVnYXRvckFkZHJlc3MmJihyLmRlbGVnYXRvckFkZHJlc3M9aS5kZWxlZ2F0b3JBZGRyZXNzKSx2b2lkIDAhPT1pLnZhbGlkYXRvckFkZHJlc3MmJihyLnZhbGlkYXRvckFkZHJlc3M9aS52YWxpZGF0b3JBZGRyZXNzKSx2b2lkIDAhPT1pLnB1YmtleSYmKHIucHVia2V5PWkucHVia2V5P3QudG9KU09OKGkucHVia2V5KTp2b2lkIDApLHZvaWQgMCE9PWkudmFsdWUmJihyLnZhbHVlPWkudmFsdWU/cy50b0pTT04oaS52YWx1ZSk6dm9pZCAwKSxyfSxmcm9tUGFydGlhbChpKXtjb25zdCByPWcoKTtyZXR1cm4gci5kZXNjcmlwdGlvbj12b2lkIDAhPT1pLmRlc2NyaXB0aW9uJiZudWxsIT09aS5kZXNjcmlwdGlvbj9lLmZyb21QYXJ0aWFsKGkuZGVzY3JpcHRpb24pOnZvaWQgMCxyLmNvbW1pc3Npb249dm9pZCAwIT09aS5jb21taXNzaW9uJiZudWxsIT09aS5jb21taXNzaW9uP28uZnJvbVBhcnRpYWwoaS5jb21taXNzaW9uKTp2b2lkIDAsci5taW5TZWxmRGVsZWdhdGlvbj1pLm1pblNlbGZEZWxlZ2F0aW9uPz9cIlwiLHIuZGVsZWdhdG9yQWRkcmVzcz1pLmRlbGVnYXRvckFkZHJlc3M/P1wiXCIsci52YWxpZGF0b3JBZGRyZXNzPWkudmFsaWRhdG9yQWRkcmVzcz8/XCJcIixyLnB1YmtleT12b2lkIDAhPT1pLnB1YmtleSYmbnVsbCE9PWkucHVia2V5P3QuZnJvbVBhcnRpYWwoaS5wdWJrZXkpOnZvaWQgMCxyLnZhbHVlPXZvaWQgMCE9PWkudmFsdWUmJm51bGwhPT1pLnZhbHVlP3MuZnJvbVBhcnRpYWwoaS52YWx1ZSk6dm9pZCAwLHJ9LGZyb21Qcm90b01zZzplPT5Nc2dDcmVhdGVWYWxpZGF0b3IuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnQ3JlYXRlVmFsaWRhdG9yLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0NyZWF0ZVZhbGlkYXRvclwiLHZhbHVlOk1zZ0NyZWF0ZVZhbGlkYXRvci5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0NyZWF0ZVZhbGlkYXRvcihNc2dDcmVhdGVWYWxpZGF0b3IpO2NvbnN0IE1zZ0NyZWF0ZVZhbGlkYXRvclJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnQ3JlYXRlVmFsaWRhdG9yUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1kLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCB0PWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IHM9dm9pZCAwPT09bz90Lmxlbjp0LnBvcytvO2NvbnN0IGk9e307Zm9yKDt0LnBvczxzOyl7Y29uc3QgZT10LnVpbnQzMigpO3Quc2tpcFR5cGUoNyZlKX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5Nc2dDcmVhdGVWYWxpZGF0b3JSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dDcmVhdGVWYWxpZGF0b3JSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dDcmVhdGVWYWxpZGF0b3JSZXNwb25zZVwiLHZhbHVlOk1zZ0NyZWF0ZVZhbGlkYXRvclJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnQ3JlYXRlVmFsaWRhdG9yUmVzcG9uc2UoTXNnQ3JlYXRlVmFsaWRhdG9yUmVzcG9uc2UpO2Z1bmN0aW9uIG0oKXtyZXR1cm57ZGVzY3JpcHRpb246ZS5mcm9tUGFydGlhbCh7fSksdmFsaWRhdG9yQWRkcmVzczpcIlwiLGNvbW1pc3Npb25SYXRlOlwiXCIsbWluU2VsZkRlbGVnYXRpb246XCJcIn19Y29uc3QgTXNnRWRpdFZhbGlkYXRvcj17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0VkaXRWYWxpZGF0b3JcIixlbmNvZGU6KG8sdD1kLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PW8uZGVzY3JpcHRpb24mJmUuZW5jb2RlKG8uZGVzY3JpcHRpb24sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksXCJcIiE9PW8udmFsaWRhdG9yQWRkcmVzcyYmdC51aW50MzIoMTgpLnN0cmluZyhvLnZhbGlkYXRvckFkZHJlc3MpLFwiXCIhPT1vLmNvbW1pc3Npb25SYXRlJiZ0LnVpbnQzMigyNikuc3RyaW5nKGMuZnJvbVVzZXJJbnB1dChvLmNvbW1pc3Npb25SYXRlLDE4KS5hdG9taWNzKSxcIlwiIT09by5taW5TZWxmRGVsZWdhdGlvbiYmdC51aW50MzIoMzQpLnN0cmluZyhvLm1pblNlbGZEZWxlZ2F0aW9uKSx0KSxkZWNvZGUobyx0KXtjb25zdCBzPW8gaW5zdGFuY2VvZiByP286bmV3IHIobyk7bGV0IGk9dm9pZCAwPT09dD9zLmxlbjpzLnBvcyt0O2NvbnN0IGQ9bSgpO2Zvcig7cy5wb3M8aTspe2NvbnN0IG89cy51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpkLmRlc2NyaXB0aW9uPWUuZGVjb2RlKHMscy51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOmQudmFsaWRhdG9yQWRkcmVzcz1zLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpkLmNvbW1pc3Npb25SYXRlPWMuZnJvbUF0b21pY3Mocy5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztjYXNlIDQ6ZC5taW5TZWxmRGVsZWdhdGlvbj1zLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6cy5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gZH0sZnJvbUpTT046bz0+KHtkZXNjcmlwdGlvbjpuKG8uZGVzY3JpcHRpb24pP2UuZnJvbUpTT04oby5kZXNjcmlwdGlvbik6dm9pZCAwLHZhbGlkYXRvckFkZHJlc3M6bihvLnZhbGlkYXRvckFkZHJlc3MpP1N0cmluZyhvLnZhbGlkYXRvckFkZHJlc3MpOlwiXCIsY29tbWlzc2lvblJhdGU6bihvLmNvbW1pc3Npb25SYXRlKT9TdHJpbmcoby5jb21taXNzaW9uUmF0ZSk6XCJcIixtaW5TZWxmRGVsZWdhdGlvbjpuKG8ubWluU2VsZkRlbGVnYXRpb24pP1N0cmluZyhvLm1pblNlbGZEZWxlZ2F0aW9uKTpcIlwifSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW8uZGVzY3JpcHRpb24mJih0LmRlc2NyaXB0aW9uPW8uZGVzY3JpcHRpb24/ZS50b0pTT04oby5kZXNjcmlwdGlvbik6dm9pZCAwKSx2b2lkIDAhPT1vLnZhbGlkYXRvckFkZHJlc3MmJih0LnZhbGlkYXRvckFkZHJlc3M9by52YWxpZGF0b3JBZGRyZXNzKSx2b2lkIDAhPT1vLmNvbW1pc3Npb25SYXRlJiYodC5jb21taXNzaW9uUmF0ZT1vLmNvbW1pc3Npb25SYXRlKSx2b2lkIDAhPT1vLm1pblNlbGZEZWxlZ2F0aW9uJiYodC5taW5TZWxmRGVsZWdhdGlvbj1vLm1pblNlbGZEZWxlZ2F0aW9uKSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PW0oKTtyZXR1cm4gdC5kZXNjcmlwdGlvbj12b2lkIDAhPT1vLmRlc2NyaXB0aW9uJiZudWxsIT09by5kZXNjcmlwdGlvbj9lLmZyb21QYXJ0aWFsKG8uZGVzY3JpcHRpb24pOnZvaWQgMCx0LnZhbGlkYXRvckFkZHJlc3M9by52YWxpZGF0b3JBZGRyZXNzPz9cIlwiLHQuY29tbWlzc2lvblJhdGU9by5jb21taXNzaW9uUmF0ZT8/XCJcIix0Lm1pblNlbGZEZWxlZ2F0aW9uPW8ubWluU2VsZkRlbGVnYXRpb24/P1wiXCIsdH0sZnJvbVByb3RvTXNnOmU9Pk1zZ0VkaXRWYWxpZGF0b3IuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnRWRpdFZhbGlkYXRvci5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dFZGl0VmFsaWRhdG9yXCIsdmFsdWU6TXNnRWRpdFZhbGlkYXRvci5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0VkaXRWYWxpZGF0b3IoTXNnRWRpdFZhbGlkYXRvcik7Y29uc3QgTXNnRWRpdFZhbGlkYXRvclJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnRWRpdFZhbGlkYXRvclJlc3BvbnNlXCIsZW5jb2RlOihlLG89ZC5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3QgdD1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBzPXZvaWQgMD09PW8/dC5sZW46dC5wb3Mrbztjb25zdCBpPXt9O2Zvcig7dC5wb3M8czspe2NvbnN0IGU9dC51aW50MzIoKTt0LnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnRWRpdFZhbGlkYXRvclJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ0VkaXRWYWxpZGF0b3JSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dFZGl0VmFsaWRhdG9yUmVzcG9uc2VcIix2YWx1ZTpNc2dFZGl0VmFsaWRhdG9yUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dFZGl0VmFsaWRhdG9yUmVzcG9uc2UoTXNnRWRpdFZhbGlkYXRvclJlc3BvbnNlKTtmdW5jdGlvbiB2KCl7cmV0dXJue2RlbGVnYXRvckFkZHJlc3M6XCJcIix2YWxpZGF0b3JBZGRyZXNzOlwiXCIsYW1vdW50OnMuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBNc2dEZWxlZ2F0ZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0RlbGVnYXRlXCIsZW5jb2RlOihlLG89ZC5jcmVhdGUoKSk9PihcIlwiIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyksXCJcIiE9PWUudmFsaWRhdG9yQWRkcmVzcyYmby51aW50MzIoMTgpLnN0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUuYW1vdW50JiZzLmVuY29kZShlLmFtb3VudCxvLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxvKSxkZWNvZGUoZSxvKXtjb25zdCB0PWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IGk9dm9pZCAwPT09bz90Lmxlbjp0LnBvcytvO2NvbnN0IGQ9digpO2Zvcig7dC5wb3M8aTspe2NvbnN0IGU9dC51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpkLmRlbGVnYXRvckFkZHJlc3M9dC5zdHJpbmcoKTticmVhaztjYXNlIDI6ZC52YWxpZGF0b3JBZGRyZXNzPXQuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmQuYW1vdW50PXMuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmZSl9fXJldHVybiBkfSxmcm9tSlNPTjplPT4oe2RlbGVnYXRvckFkZHJlc3M6bihlLmRlbGVnYXRvckFkZHJlc3MpP1N0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpuKGUudmFsaWRhdG9yQWRkcmVzcyk/U3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyk6XCJcIixhbW91bnQ6bihlLmFtb3VudCk/cy5mcm9tSlNPTihlLmFtb3VudCk6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmKG8uZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkcmVzcyYmKG8udmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUuYW1vdW50JiYoby5hbW91bnQ9ZS5hbW91bnQ/cy50b0pTT04oZS5hbW91bnQpOnZvaWQgMCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz12KCk7cmV0dXJuIG8uZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3M/P1wiXCIsby52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcz8/XCJcIixvLmFtb3VudD12b2lkIDAhPT1lLmFtb3VudCYmbnVsbCE9PWUuYW1vdW50P3MuZnJvbVBhcnRpYWwoZS5hbW91bnQpOnZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnRGVsZWdhdGUuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnRGVsZWdhdGUuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnRGVsZWdhdGVcIix2YWx1ZTpNc2dEZWxlZ2F0ZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0RlbGVnYXRlKE1zZ0RlbGVnYXRlKTtjb25zdCBNc2dEZWxlZ2F0ZVJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnRGVsZWdhdGVSZXNwb25zZVwiLGVuY29kZTooZSxvPWQuY3JlYXRlKCkpPT5vLGRlY29kZShlLG8pe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgcz12b2lkIDA9PT1vP3QubGVuOnQucG9zK287Y29uc3QgaT17fTtmb3IoO3QucG9zPHM7KXtjb25zdCBlPXQudWludDMyKCk7dC5za2lwVHlwZSg3JmUpfXJldHVybiBpfSxmcm9tSlNPTjplPT4oe30pLHRvSlNPTjplPT4oe30pLGZyb21QYXJ0aWFsOmU9Pih7fSksZnJvbVByb3RvTXNnOmU9Pk1zZ0RlbGVnYXRlUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnRGVsZWdhdGVSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dEZWxlZ2F0ZVJlc3BvbnNlXCIsdmFsdWU6TXNnRGVsZWdhdGVSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0RlbGVnYXRlUmVzcG9uc2UoTXNnRGVsZWdhdGVSZXNwb25zZSk7ZnVuY3Rpb24gdSgpe3JldHVybntkZWxlZ2F0b3JBZGRyZXNzOlwiXCIsdmFsaWRhdG9yU3JjQWRkcmVzczpcIlwiLHZhbGlkYXRvckRzdEFkZHJlc3M6XCJcIixhbW91bnQ6cy5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IE1zZ0JlZ2luUmVkZWxlZ2F0ZT17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0JlZ2luUmVkZWxlZ2F0ZVwiLGVuY29kZTooZSxvPWQuY3JlYXRlKCkpPT4oXCJcIiE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmby51aW50MzIoMTApLnN0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpLFwiXCIhPT1lLnZhbGlkYXRvclNyY0FkZHJlc3MmJm8udWludDMyKDE4KS5zdHJpbmcoZS52YWxpZGF0b3JTcmNBZGRyZXNzKSxcIlwiIT09ZS52YWxpZGF0b3JEc3RBZGRyZXNzJiZvLnVpbnQzMigyNikuc3RyaW5nKGUudmFsaWRhdG9yRHN0QWRkcmVzcyksdm9pZCAwIT09ZS5hbW91bnQmJnMuZW5jb2RlKGUuYW1vdW50LG8udWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShlLG8pe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgaT12b2lkIDA9PT1vP3QubGVuOnQucG9zK287Y29uc3QgZD11KCk7Zm9yKDt0LnBvczxpOyl7Y29uc3QgZT10LnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmQuZGVsZWdhdG9yQWRkcmVzcz10LnN0cmluZygpO2JyZWFrO2Nhc2UgMjpkLnZhbGlkYXRvclNyY0FkZHJlc3M9dC5zdHJpbmcoKTticmVhaztjYXNlIDM6ZC52YWxpZGF0b3JEc3RBZGRyZXNzPXQuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OmQuYW1vdW50PXMuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmZSl9fXJldHVybiBkfSxmcm9tSlNPTjplPT4oe2RlbGVnYXRvckFkZHJlc3M6bihlLmRlbGVnYXRvckFkZHJlc3MpP1N0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpOlwiXCIsdmFsaWRhdG9yU3JjQWRkcmVzczpuKGUudmFsaWRhdG9yU3JjQWRkcmVzcyk/U3RyaW5nKGUudmFsaWRhdG9yU3JjQWRkcmVzcyk6XCJcIix2YWxpZGF0b3JEc3RBZGRyZXNzOm4oZS52YWxpZGF0b3JEc3RBZGRyZXNzKT9TdHJpbmcoZS52YWxpZGF0b3JEc3RBZGRyZXNzKTpcIlwiLGFtb3VudDpuKGUuYW1vdW50KT9zLmZyb21KU09OKGUuYW1vdW50KTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiYoby5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS52YWxpZGF0b3JTcmNBZGRyZXNzJiYoby52YWxpZGF0b3JTcmNBZGRyZXNzPWUudmFsaWRhdG9yU3JjQWRkcmVzcyksdm9pZCAwIT09ZS52YWxpZGF0b3JEc3RBZGRyZXNzJiYoby52YWxpZGF0b3JEc3RBZGRyZXNzPWUudmFsaWRhdG9yRHN0QWRkcmVzcyksdm9pZCAwIT09ZS5hbW91bnQmJihvLmFtb3VudD1lLmFtb3VudD9zLnRvSlNPTihlLmFtb3VudCk6dm9pZCAwKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXUoKTtyZXR1cm4gby5kZWxlZ2F0b3JBZGRyZXNzPWUuZGVsZWdhdG9yQWRkcmVzcz8/XCJcIixvLnZhbGlkYXRvclNyY0FkZHJlc3M9ZS52YWxpZGF0b3JTcmNBZGRyZXNzPz9cIlwiLG8udmFsaWRhdG9yRHN0QWRkcmVzcz1lLnZhbGlkYXRvckRzdEFkZHJlc3M/P1wiXCIsby5hbW91bnQ9dm9pZCAwIT09ZS5hbW91bnQmJm51bGwhPT1lLmFtb3VudD9zLmZyb21QYXJ0aWFsKGUuYW1vdW50KTp2b2lkIDAsb30sZnJvbVByb3RvTXNnOmU9Pk1zZ0JlZ2luUmVkZWxlZ2F0ZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dCZWdpblJlZGVsZWdhdGUuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnQmVnaW5SZWRlbGVnYXRlXCIsdmFsdWU6TXNnQmVnaW5SZWRlbGVnYXRlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnQmVnaW5SZWRlbGVnYXRlKE1zZ0JlZ2luUmVkZWxlZ2F0ZSk7ZnVuY3Rpb24gcCgpe3JldHVybntjb21wbGV0aW9uVGltZTppLmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgTXNnQmVnaW5SZWRlbGVnYXRlUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dCZWdpblJlZGVsZWdhdGVSZXNwb25zZVwiLGVuY29kZTooZSxvPWQuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5jb21wbGV0aW9uVGltZSYmaS5lbmNvZGUoZS5jb21wbGV0aW9uVGltZSxvLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKSxvKSxkZWNvZGUoZSxvKXtjb25zdCB0PWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IHM9dm9pZCAwPT09bz90Lmxlbjp0LnBvcytvO2NvbnN0IGQ9cCgpO2Zvcig7dC5wb3M8czspe2NvbnN0IGU9dC51aW50MzIoKTtpZihlPj4+Mz09MSlkLmNvbXBsZXRpb25UaW1lPWkuZGVjb2RlKHQsdC51aW50MzIoKSk7ZWxzZSB0LnNraXBUeXBlKDcmZSl9cmV0dXJuIGR9LGZyb21KU09OOmU9Pih7Y29tcGxldGlvblRpbWU6bihlLmNvbXBsZXRpb25UaW1lKT9hKGUuY29tcGxldGlvblRpbWUpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmNvbXBsZXRpb25UaW1lJiYoby5jb21wbGV0aW9uVGltZT1sKGUuY29tcGxldGlvblRpbWUpLnRvSVNPU3RyaW5nKCkpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89cCgpO3JldHVybiBvLmNvbXBsZXRpb25UaW1lPXZvaWQgMCE9PWUuY29tcGxldGlvblRpbWUmJm51bGwhPT1lLmNvbXBsZXRpb25UaW1lP2kuZnJvbVBhcnRpYWwoZS5jb21wbGV0aW9uVGltZSk6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5Nc2dCZWdpblJlZGVsZWdhdGVSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dCZWdpblJlZGVsZWdhdGVSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dCZWdpblJlZGVsZWdhdGVSZXNwb25zZVwiLHZhbHVlOk1zZ0JlZ2luUmVkZWxlZ2F0ZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnQmVnaW5SZWRlbGVnYXRlUmVzcG9uc2UoTXNnQmVnaW5SZWRlbGVnYXRlUmVzcG9uc2UpO2Z1bmN0aW9uIGYoKXtyZXR1cm57ZGVsZWdhdG9yQWRkcmVzczpcIlwiLHZhbGlkYXRvckFkZHJlc3M6XCJcIixhbW91bnQ6cy5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IE1zZ1VuZGVsZWdhdGU9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dVbmRlbGVnYXRlXCIsZW5jb2RlOihlLG89ZC5jcmVhdGUoKSk9PihcIlwiIT09ZS5kZWxlZ2F0b3JBZGRyZXNzJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuZGVsZWdhdG9yQWRkcmVzcyksXCJcIiE9PWUudmFsaWRhdG9yQWRkcmVzcyYmby51aW50MzIoMTgpLnN0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUuYW1vdW50JiZzLmVuY29kZShlLmFtb3VudCxvLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxvKSxkZWNvZGUoZSxvKXtjb25zdCB0PWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IGk9dm9pZCAwPT09bz90Lmxlbjp0LnBvcytvO2NvbnN0IGQ9ZigpO2Zvcig7dC5wb3M8aTspe2NvbnN0IGU9dC51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpkLmRlbGVnYXRvckFkZHJlc3M9dC5zdHJpbmcoKTticmVhaztjYXNlIDI6ZC52YWxpZGF0b3JBZGRyZXNzPXQuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmQuYW1vdW50PXMuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmZSl9fXJldHVybiBkfSxmcm9tSlNPTjplPT4oe2RlbGVnYXRvckFkZHJlc3M6bihlLmRlbGVnYXRvckFkZHJlc3MpP1N0cmluZyhlLmRlbGVnYXRvckFkZHJlc3MpOlwiXCIsdmFsaWRhdG9yQWRkcmVzczpuKGUudmFsaWRhdG9yQWRkcmVzcyk/U3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyk6XCJcIixhbW91bnQ6bihlLmFtb3VudCk/cy5mcm9tSlNPTihlLmFtb3VudCk6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuZGVsZWdhdG9yQWRkcmVzcyYmKG8uZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkcmVzcyYmKG8udmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUuYW1vdW50JiYoby5hbW91bnQ9ZS5hbW91bnQ/cy50b0pTT04oZS5hbW91bnQpOnZvaWQgMCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1mKCk7cmV0dXJuIG8uZGVsZWdhdG9yQWRkcmVzcz1lLmRlbGVnYXRvckFkZHJlc3M/P1wiXCIsby52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcz8/XCJcIixvLmFtb3VudD12b2lkIDAhPT1lLmFtb3VudCYmbnVsbCE9PWUuYW1vdW50P3MuZnJvbVBhcnRpYWwoZS5hbW91bnQpOnZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnVW5kZWxlZ2F0ZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dVbmRlbGVnYXRlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ1VuZGVsZWdhdGVcIix2YWx1ZTpNc2dVbmRlbGVnYXRlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnVW5kZWxlZ2F0ZShNc2dVbmRlbGVnYXRlKTtmdW5jdGlvbiBBKCl7cmV0dXJue2NvbXBsZXRpb25UaW1lOmkuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBNc2dVbmRlbGVnYXRlUmVzcG9uc2U9e3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dVbmRlbGVnYXRlUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1kLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUuY29tcGxldGlvblRpbWUmJmkuZW5jb2RlKGUuY29tcGxldGlvblRpbWUsby51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKGUsbyl7Y29uc3QgdD1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBzPXZvaWQgMD09PW8/dC5sZW46dC5wb3Mrbztjb25zdCBkPUEoKTtmb3IoO3QucG9zPHM7KXtjb25zdCBlPXQudWludDMyKCk7aWYoZT4+PjM9PTEpZC5jb21wbGV0aW9uVGltZT1pLmRlY29kZSh0LHQudWludDMyKCkpO2Vsc2UgdC5za2lwVHlwZSg3JmUpfXJldHVybiBkfSxmcm9tSlNPTjplPT4oe2NvbXBsZXRpb25UaW1lOm4oZS5jb21wbGV0aW9uVGltZSk/YShlLmNvbXBsZXRpb25UaW1lKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5jb21wbGV0aW9uVGltZSYmKG8uY29tcGxldGlvblRpbWU9bChlLmNvbXBsZXRpb25UaW1lKS50b0lTT1N0cmluZygpKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPUEoKTtyZXR1cm4gby5jb21wbGV0aW9uVGltZT12b2lkIDAhPT1lLmNvbXBsZXRpb25UaW1lJiZudWxsIT09ZS5jb21wbGV0aW9uVGltZT9pLmZyb21QYXJ0aWFsKGUuY29tcGxldGlvblRpbWUpOnZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnVW5kZWxlZ2F0ZVJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1VuZGVsZWdhdGVSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dVbmRlbGVnYXRlUmVzcG9uc2VcIix2YWx1ZTpNc2dVbmRlbGVnYXRlUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dVbmRlbGVnYXRlUmVzcG9uc2UoTXNnVW5kZWxlZ2F0ZVJlc3BvbnNlKTtmdW5jdGlvbiBTKCl7cmV0dXJue2RlbGVnYXRvckFkZHJlc3M6XCJcIix2YWxpZGF0b3JBZGRyZXNzOlwiXCIsYW1vdW50OnMuZnJvbVBhcnRpYWwoe30pLGNyZWF0aW9uSGVpZ2h0OkJpZ0ludCgwKX19Y29uc3QgTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvbj17dHlwZVVybDpcIi9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0NhbmNlbFVuYm9uZGluZ0RlbGVnYXRpb25cIixlbmNvZGU6KGUsbz1kLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmRlbGVnYXRvckFkZHJlc3MmJm8udWludDMyKDEwKS5zdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKSxcIlwiIT09ZS52YWxpZGF0b3JBZGRyZXNzJiZvLnVpbnQzMigxOCkuc3RyaW5nKGUudmFsaWRhdG9yQWRkcmVzcyksdm9pZCAwIT09ZS5hbW91bnQmJnMuZW5jb2RlKGUuYW1vdW50LG8udWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLGUuY3JlYXRpb25IZWlnaHQhPT1CaWdJbnQoMCkmJm8udWludDMyKDMyKS5pbnQ2NChlLmNyZWF0aW9uSGVpZ2h0KSxvKSxkZWNvZGUoZSxvKXtjb25zdCB0PWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IGk9dm9pZCAwPT09bz90Lmxlbjp0LnBvcytvO2NvbnN0IGQ9UygpO2Zvcig7dC5wb3M8aTspe2NvbnN0IGU9dC51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpkLmRlbGVnYXRvckFkZHJlc3M9dC5zdHJpbmcoKTticmVhaztjYXNlIDI6ZC52YWxpZGF0b3JBZGRyZXNzPXQuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmQuYW1vdW50PXMuZGVjb2RlKHQsdC51aW50MzIoKSk7YnJlYWs7Y2FzZSA0OmQuY3JlYXRpb25IZWlnaHQ9dC5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6dC5za2lwVHlwZSg3JmUpfX1yZXR1cm4gZH0sZnJvbUpTT046ZT0+KHtkZWxlZ2F0b3JBZGRyZXNzOm4oZS5kZWxlZ2F0b3JBZGRyZXNzKT9TdHJpbmcoZS5kZWxlZ2F0b3JBZGRyZXNzKTpcIlwiLHZhbGlkYXRvckFkZHJlc3M6bihlLnZhbGlkYXRvckFkZHJlc3MpP1N0cmluZyhlLnZhbGlkYXRvckFkZHJlc3MpOlwiXCIsYW1vdW50Om4oZS5hbW91bnQpP3MuZnJvbUpTT04oZS5hbW91bnQpOnZvaWQgMCxjcmVhdGlvbkhlaWdodDpuKGUuY3JlYXRpb25IZWlnaHQpP0JpZ0ludChlLmNyZWF0aW9uSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmRlbGVnYXRvckFkZHJlc3MmJihvLmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzKSx2b2lkIDAhPT1lLnZhbGlkYXRvckFkZHJlc3MmJihvLnZhbGlkYXRvckFkZHJlc3M9ZS52YWxpZGF0b3JBZGRyZXNzKSx2b2lkIDAhPT1lLmFtb3VudCYmKG8uYW1vdW50PWUuYW1vdW50P3MudG9KU09OKGUuYW1vdW50KTp2b2lkIDApLHZvaWQgMCE9PWUuY3JlYXRpb25IZWlnaHQmJihvLmNyZWF0aW9uSGVpZ2h0PShlLmNyZWF0aW9uSGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89UygpO3JldHVybiBvLmRlbGVnYXRvckFkZHJlc3M9ZS5kZWxlZ2F0b3JBZGRyZXNzPz9cIlwiLG8udmFsaWRhdG9yQWRkcmVzcz1lLnZhbGlkYXRvckFkZHJlc3M/P1wiXCIsby5hbW91bnQ9dm9pZCAwIT09ZS5hbW91bnQmJm51bGwhPT1lLmFtb3VudD9zLmZyb21QYXJ0aWFsKGUuYW1vdW50KTp2b2lkIDAsby5jcmVhdGlvbkhlaWdodD12b2lkIDAhPT1lLmNyZWF0aW9uSGVpZ2h0JiZudWxsIT09ZS5jcmVhdGlvbkhlaWdodD9CaWdJbnQoZS5jcmVhdGlvbkhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksb30sZnJvbVByb3RvTXNnOmU9Pk1zZ0NhbmNlbFVuYm9uZGluZ0RlbGVnYXRpb24uZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvbi5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uXCIsdmFsdWU6TXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvbi5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0NhbmNlbFVuYm9uZGluZ0RlbGVnYXRpb24oTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvbik7Y29uc3QgTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlPXt0eXBlVXJsOlwiL2Nvc21vcy5zdGFraW5nLnYxYmV0YTEuTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlXCIsZW5jb2RlOihlLG89ZC5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3QgdD1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBzPXZvaWQgMD09PW8/dC5sZW46dC5wb3Mrbztjb25zdCBpPXt9O2Zvcig7dC5wb3M8czspe2NvbnN0IGU9dC51aW50MzIoKTt0LnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ0NhbmNlbFVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2VcIix2YWx1ZTpNc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UoTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlKTtjb25zdCBDb3Ntb3NfY3J5cHRvUHViS2V5X0ludGVyZmFjZURlY29kZXI9ZT0+e2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKSxzPXQuZGVjb2RlKG8sby51aW50MzIoKSk7cmV0dXJuIHMudHlwZVVybCxzfTskaM2PX29uY2UuQ29zbW9zX2NyeXB0b1B1YktleV9JbnRlcmZhY2VEZWNvZGVyKENvc21vc19jcnlwdG9QdWJLZXlfSW50ZXJmYWNlRGVjb2Rlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJNc2dDcmVhdGVWYWxpZGF0b3IiOlsiTXNnQ3JlYXRlVmFsaWRhdG9yIl0sIk1zZ0NyZWF0ZVZhbGlkYXRvclJlc3BvbnNlIjpbIk1zZ0NyZWF0ZVZhbGlkYXRvclJlc3BvbnNlIl0sIk1zZ0VkaXRWYWxpZGF0b3IiOlsiTXNnRWRpdFZhbGlkYXRvciJdLCJNc2dFZGl0VmFsaWRhdG9yUmVzcG9uc2UiOlsiTXNnRWRpdFZhbGlkYXRvclJlc3BvbnNlIl0sIk1zZ0RlbGVnYXRlIjpbIk1zZ0RlbGVnYXRlIl0sIk1zZ0RlbGVnYXRlUmVzcG9uc2UiOlsiTXNnRGVsZWdhdGVSZXNwb25zZSJdLCJNc2dCZWdpblJlZGVsZWdhdGUiOlsiTXNnQmVnaW5SZWRlbGVnYXRlIl0sIk1zZ0JlZ2luUmVkZWxlZ2F0ZVJlc3BvbnNlIjpbIk1zZ0JlZ2luUmVkZWxlZ2F0ZVJlc3BvbnNlIl0sIk1zZ1VuZGVsZWdhdGUiOlsiTXNnVW5kZWxlZ2F0ZSJdLCJNc2dVbmRlbGVnYXRlUmVzcG9uc2UiOlsiTXNnVW5kZWxlZ2F0ZVJlc3BvbnNlIl0sIk1zZ0NhbmNlbFVuYm9uZGluZ0RlbGVnYXRpb24iOlsiTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvbiJdLCJNc2dDYW5jZWxVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UiOlsiTXNnQ2FuY2VsVW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlIl0sIkNvc21vc19jcnlwdG9QdWJLZXlfSW50ZXJmYWNlRGVjb2RlciI6WyJDb3Ntb3NfY3J5cHRvUHViS2V5X0ludGVyZmFjZURlY29kZXIiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAFgiW2RMdAAATHQAASgAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL3VwZ3JhZGUvdjFiZXRhMS91cGdyYWRlLmpzeyJpbXBvcnRzIjpbIi4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAuanMiLCIuLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvYW55LmpzIiwiLi4vLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIkNhbmNlbFNvZnR3YXJlVXBncmFkZVByb3Bvc2FsIiwiTW9kdWxlVmVyc2lvbiIsIlBsYW4iLCJTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsdCxvLGksbixyLGE7JGjNj19pbXBvcnRzKFtbXCIuLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLmpzXCIsIFtbXCJUaW1lc3RhbXBcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qc1wiLCBbW1wiQW55XCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChpID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dLFtcImZyb21Kc29uVGltZXN0YW1wXCIsWyRozY9fYSA9PiAociA9ICRozY9fYSldXSxbXCJmcm9tVGltZXN0YW1wXCIsWyRozY9fYSA9PiAoYSA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcygpe3JldHVybntuYW1lOlwiXCIsdGltZTplLmZyb21QYXJ0aWFsKHt9KSxoZWlnaHQ6QmlnSW50KDApLGluZm86XCJcIix1cGdyYWRlZENsaWVudFN0YXRlOnZvaWQgMH19ICAgICAgIGNvbnN0IFBsYW49e3R5cGVVcmw6XCIvY29zbW9zLnVwZ3JhZGUudjFiZXRhMS5QbGFuXCIsZW5jb2RlOihvLG49aS5jcmVhdGUoKSk9PihcIlwiIT09by5uYW1lJiZuLnVpbnQzMigxMCkuc3RyaW5nKG8ubmFtZSksdm9pZCAwIT09by50aW1lJiZlLmVuY29kZShvLnRpbWUsbi51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksby5oZWlnaHQhPT1CaWdJbnQoMCkmJm4udWludDMyKDI0KS5pbnQ2NChvLmhlaWdodCksXCJcIiE9PW8uaW5mbyYmbi51aW50MzIoMzQpLnN0cmluZyhvLmluZm8pLHZvaWQgMCE9PW8udXBncmFkZWRDbGllbnRTdGF0ZSYmdC5lbmNvZGUoby51cGdyYWRlZENsaWVudFN0YXRlLG4udWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpLG4pLGRlY29kZShpLG4pe2NvbnN0IHI9aSBpbnN0YW5jZW9mIG8/aTpuZXcgbyhpKTtsZXQgYT12b2lkIDA9PT1uP3IubGVuOnIucG9zK247Y29uc3QgZD1zKCk7Zm9yKDtyLnBvczxhOyl7Y29uc3Qgbz1yLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmQubmFtZT1yLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpkLnRpbWU9ZS5kZWNvZGUocixyLnVpbnQzMigpKTticmVhaztjYXNlIDM6ZC5oZWlnaHQ9ci5pbnQ2NCgpO2JyZWFrO2Nhc2UgNDpkLmluZm89ci5zdHJpbmcoKTticmVhaztjYXNlIDU6ZC51cGdyYWRlZENsaWVudFN0YXRlPXQuZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmbyl9fXJldHVybiBkfSxmcm9tSlNPTjplPT4oe25hbWU6bihlLm5hbWUpP1N0cmluZyhlLm5hbWUpOlwiXCIsdGltZTpuKGUudGltZSk/cihlLnRpbWUpOnZvaWQgMCxoZWlnaHQ6bihlLmhlaWdodCk/QmlnSW50KGUuaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxpbmZvOm4oZS5pbmZvKT9TdHJpbmcoZS5pbmZvKTpcIlwiLHVwZ3JhZGVkQ2xpZW50U3RhdGU6bihlLnVwZ3JhZGVkQ2xpZW50U3RhdGUpP3QuZnJvbUpTT04oZS51cGdyYWRlZENsaWVudFN0YXRlKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5uYW1lJiYoby5uYW1lPWUubmFtZSksdm9pZCAwIT09ZS50aW1lJiYoby50aW1lPWEoZS50aW1lKS50b0lTT1N0cmluZygpKSx2b2lkIDAhPT1lLmhlaWdodCYmKG8uaGVpZ2h0PShlLmhlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLmluZm8mJihvLmluZm89ZS5pbmZvKSx2b2lkIDAhPT1lLnVwZ3JhZGVkQ2xpZW50U3RhdGUmJihvLnVwZ3JhZGVkQ2xpZW50U3RhdGU9ZS51cGdyYWRlZENsaWVudFN0YXRlP3QudG9KU09OKGUudXBncmFkZWRDbGllbnRTdGF0ZSk6dm9pZCAwKSxvfSxmcm9tUGFydGlhbChvKXtjb25zdCBpPXMoKTtyZXR1cm4gaS5uYW1lPW8ubmFtZT8/XCJcIixpLnRpbWU9dm9pZCAwIT09by50aW1lJiZudWxsIT09by50aW1lP2UuZnJvbVBhcnRpYWwoby50aW1lKTp2b2lkIDAsaS5oZWlnaHQ9dm9pZCAwIT09by5oZWlnaHQmJm51bGwhPT1vLmhlaWdodD9CaWdJbnQoby5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLGkuaW5mbz1vLmluZm8/P1wiXCIsaS51cGdyYWRlZENsaWVudFN0YXRlPXZvaWQgMCE9PW8udXBncmFkZWRDbGllbnRTdGF0ZSYmbnVsbCE9PW8udXBncmFkZWRDbGllbnRTdGF0ZT90LmZyb21QYXJ0aWFsKG8udXBncmFkZWRDbGllbnRTdGF0ZSk6dm9pZCAwLGl9LGZyb21Qcm90b01zZzplPT5QbGFuLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlBsYW4uZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy51cGdyYWRlLnYxYmV0YTEuUGxhblwiLHZhbHVlOlBsYW4uZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5QbGFuKFBsYW4pO2Z1bmN0aW9uIGQoKXtyZXR1cm57JHR5cGVVcmw6XCIvY29zbW9zLnVwZ3JhZGUudjFiZXRhMS5Tb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbFwiLHRpdGxlOlwiXCIsZGVzY3JpcHRpb246XCJcIixwbGFuOlBsYW4uZnJvbVBhcnRpYWwoe30pfX1jb25zdCBTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbD17dHlwZVVybDpcIi9jb3Ntb3MudXBncmFkZS52MWJldGExLlNvZnR3YXJlVXBncmFkZVByb3Bvc2FsXCIsZW5jb2RlOihlLHQ9aS5jcmVhdGUoKSk9PihcIlwiIT09ZS50aXRsZSYmdC51aW50MzIoMTApLnN0cmluZyhlLnRpdGxlKSxcIlwiIT09ZS5kZXNjcmlwdGlvbiYmdC51aW50MzIoMTgpLnN0cmluZyhlLmRlc2NyaXB0aW9uKSx2b2lkIDAhPT1lLnBsYW4mJlBsYW4uZW5jb2RlKGUucGxhbix0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBpPWUgaW5zdGFuY2VvZiBvP2U6bmV3IG8oZSk7bGV0IG49dm9pZCAwPT09dD9pLmxlbjppLnBvcyt0O2NvbnN0IHI9ZCgpO2Zvcig7aS5wb3M8bjspe2NvbnN0IGU9aS51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLnRpdGxlPWkuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnIuZGVzY3JpcHRpb249aS5zdHJpbmcoKTticmVhaztjYXNlIDM6ci5wbGFuPVBsYW4uZGVjb2RlKGksaS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDppLnNraXBUeXBlKDcmZSl9fXJldHVybiByfSxmcm9tSlNPTjplPT4oe3RpdGxlOm4oZS50aXRsZSk/U3RyaW5nKGUudGl0bGUpOlwiXCIsZGVzY3JpcHRpb246bihlLmRlc2NyaXB0aW9uKT9TdHJpbmcoZS5kZXNjcmlwdGlvbik6XCJcIixwbGFuOm4oZS5wbGFuKT9QbGFuLmZyb21KU09OKGUucGxhbik6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUudGl0bGUmJih0LnRpdGxlPWUudGl0bGUpLHZvaWQgMCE9PWUuZGVzY3JpcHRpb24mJih0LmRlc2NyaXB0aW9uPWUuZGVzY3JpcHRpb24pLHZvaWQgMCE9PWUucGxhbiYmKHQucGxhbj1lLnBsYW4/UGxhbi50b0pTT04oZS5wbGFuKTp2b2lkIDApLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9ZCgpO3JldHVybiB0LnRpdGxlPWUudGl0bGU/P1wiXCIsdC5kZXNjcmlwdGlvbj1lLmRlc2NyaXB0aW9uPz9cIlwiLHQucGxhbj12b2lkIDAhPT1lLnBsYW4mJm51bGwhPT1lLnBsYW4/UGxhbi5mcm9tUGFydGlhbChlLnBsYW4pOnZvaWQgMCx0fSxmcm9tUHJvdG9Nc2c6ZT0+U29mdHdhcmVVcGdyYWRlUHJvcG9zYWwuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+U29mdHdhcmVVcGdyYWRlUHJvcG9zYWwuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy51cGdyYWRlLnYxYmV0YTEuU29mdHdhcmVVcGdyYWRlUHJvcG9zYWxcIix2YWx1ZTpTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlNvZnR3YXJlVXBncmFkZVByb3Bvc2FsKFNvZnR3YXJlVXBncmFkZVByb3Bvc2FsKTtjb25zdCBDYW5jZWxTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbD17dHlwZVVybDpcIi9jb3Ntb3MudXBncmFkZS52MWJldGExLkNhbmNlbFNvZnR3YXJlVXBncmFkZVByb3Bvc2FsXCIsZW5jb2RlOihlLHQ9aS5jcmVhdGUoKSk9PihcIlwiIT09ZS50aXRsZSYmdC51aW50MzIoMTApLnN0cmluZyhlLnRpdGxlKSxcIlwiIT09ZS5kZXNjcmlwdGlvbiYmdC51aW50MzIoMTgpLnN0cmluZyhlLmRlc2NyaXB0aW9uKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBpPWUgaW5zdGFuY2VvZiBvP2U6bmV3IG8oZSk7bGV0IG49dm9pZCAwPT09dD9pLmxlbjppLnBvcyt0O2NvbnN0IHI9eyR0eXBlVXJsOlwiL2Nvc21vcy51cGdyYWRlLnYxYmV0YTEuQ2FuY2VsU29mdHdhcmVVcGdyYWRlUHJvcG9zYWxcIix0aXRsZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCJ9O2Zvcig7aS5wb3M8bjspe2NvbnN0IGU9aS51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpyLnRpdGxlPWkuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnIuZGVzY3JpcHRpb249aS5zdHJpbmcoKTticmVhaztkZWZhdWx0Omkuc2tpcFR5cGUoNyZlKX19cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7dGl0bGU6bihlLnRpdGxlKT9TdHJpbmcoZS50aXRsZSk6XCJcIixkZXNjcmlwdGlvbjpuKGUuZGVzY3JpcHRpb24pP1N0cmluZyhlLmRlc2NyaXB0aW9uKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUudGl0bGUmJih0LnRpdGxlPWUudGl0bGUpLHZvaWQgMCE9PWUuZGVzY3JpcHRpb24mJih0LmRlc2NyaXB0aW9uPWUuZGVzY3JpcHRpb24pLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9eyR0eXBlVXJsOlwiL2Nvc21vcy51cGdyYWRlLnYxYmV0YTEuQ2FuY2VsU29mdHdhcmVVcGdyYWRlUHJvcG9zYWxcIix0aXRsZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCJ9O3JldHVybiB0LnRpdGxlPWUudGl0bGU/P1wiXCIsdC5kZXNjcmlwdGlvbj1lLmRlc2NyaXB0aW9uPz9cIlwiLHR9LGZyb21Qcm90b01zZzplPT5DYW5jZWxTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5DYW5jZWxTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvY29zbW9zLnVwZ3JhZGUudjFiZXRhMS5DYW5jZWxTb2Z0d2FyZVVwZ3JhZGVQcm9wb3NhbFwiLHZhbHVlOkNhbmNlbFNvZnR3YXJlVXBncmFkZVByb3Bvc2FsLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuQ2FuY2VsU29mdHdhcmVVcGdyYWRlUHJvcG9zYWwoQ2FuY2VsU29mdHdhcmVVcGdyYWRlUHJvcG9zYWwpO2Z1bmN0aW9uIGwoKXtyZXR1cm57bmFtZTpcIlwiLHZlcnNpb246QmlnSW50KDApfX1jb25zdCBNb2R1bGVWZXJzaW9uPXt0eXBlVXJsOlwiL2Nvc21vcy51cGdyYWRlLnYxYmV0YTEuTW9kdWxlVmVyc2lvblwiLGVuY29kZTooZSx0PWkuY3JlYXRlKCkpPT4oXCJcIiE9PWUubmFtZSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLGUudmVyc2lvbiE9PUJpZ0ludCgwKSYmdC51aW50MzIoMTYpLnVpbnQ2NChlLnZlcnNpb24pLHQpLGRlY29kZShlLHQpe2NvbnN0IGk9ZSBpbnN0YW5jZW9mIG8/ZTpuZXcgbyhlKTtsZXQgbj12b2lkIDA9PT10P2kubGVuOmkucG9zK3Q7Y29uc3Qgcj1sKCk7Zm9yKDtpLnBvczxuOyl7Y29uc3QgZT1pLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnIubmFtZT1pLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpyLnZlcnNpb249aS51aW50NjQoKTticmVhaztkZWZhdWx0Omkuc2tpcFR5cGUoNyZlKX19cmV0dXJuIHJ9LGZyb21KU09OOmU9Pih7bmFtZTpuKGUubmFtZSk/U3RyaW5nKGUubmFtZSk6XCJcIix2ZXJzaW9uOm4oZS52ZXJzaW9uKT9CaWdJbnQoZS52ZXJzaW9uLnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLm5hbWUmJih0Lm5hbWU9ZS5uYW1lKSx2b2lkIDAhPT1lLnZlcnNpb24mJih0LnZlcnNpb249KGUudmVyc2lvbnx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PWwoKTtyZXR1cm4gdC5uYW1lPWUubmFtZT8/XCJcIix0LnZlcnNpb249dm9pZCAwIT09ZS52ZXJzaW9uJiZudWxsIT09ZS52ZXJzaW9uP0JpZ0ludChlLnZlcnNpb24udG9TdHJpbmcoKSk6QmlnSW50KDApLHR9LGZyb21Qcm90b01zZzplPT5Nb2R1bGVWZXJzaW9uLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1vZHVsZVZlcnNpb24uZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2Nvc21vcy51cGdyYWRlLnYxYmV0YTEuTW9kdWxlVmVyc2lvblwiLHZhbHVlOk1vZHVsZVZlcnNpb24uZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nb2R1bGVWZXJzaW9uKE1vZHVsZVZlcnNpb24pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUGxhbiI6WyJQbGFuIl0sIlNvZnR3YXJlVXBncmFkZVByb3Bvc2FsIjpbIlNvZnR3YXJlVXBncmFkZVByb3Bvc2FsIl0sIkNhbmNlbFNvZnR3YXJlVXBncmFkZVByb3Bvc2FsIjpbIkNhbmNlbFNvZnR3YXJlVXBncmFkZVByb3Bvc2FsIl0sIk1vZHVsZVZlcnNpb24iOlsiTW9kdWxlVmVyc2lvbiJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAD9gcrSxwcAAMcHAAA0AAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9kZWNpbWFscy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiRGVjaW1hbCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsgICAgICAgY2xhc3MgRGVjaW1hbHtzdGF0aWMgZnJvbVVzZXJJbnB1dCh0LGkpe0RlY2ltYWwudmVyaWZ5RnJhY3Rpb25hbERpZ2l0cyhpKTtjb25zdCByPXQubWF0Y2goL1teMC05Ll0vKTtpZihyKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjaGFyYWN0ZXIgYXQgcG9zaXRpb24gJHtyLmluZGV4KzF9YCk7bGV0IGEsZTtpZihcIlwiPT09dClhPVwiMFwiLGU9XCJcIjtlbHNlIGlmKC0xPT09dC5zZWFyY2goL1xcLi8pKWE9dCxlPVwiXCI7ZWxzZXtjb25zdCBpPXQuc3BsaXQoXCIuXCIpO3N3aXRjaChpLmxlbmd0aCl7Y2FzZSAwOmNhc2UgMTp0aHJvdyBuZXcgRXJyb3IoXCJGZXdlciB0aGFuIHR3byBlbGVtZW50cyBpbiBzcGxpdCByZXN1bHQuIFRoaXMgbXVzdCBub3QgaGFwcGVuIGhlcmUuXCIpO2Nhc2UgMjppZighaVsxXSl0aHJvdyBuZXcgRXJyb3IoXCJGcmFjdGlvbmFsIHBhcnQgbWlzc2luZ1wiKTthPWlbMF0sZT1pWzFdLnJlcGxhY2UoLzArJC8sXCJcIik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJNb3JlIHRoYW4gb25lIHNlcGFyYXRvciBmb3VuZFwiKX19aWYoZS5sZW5ndGg+aSl0aHJvdyBuZXcgRXJyb3IoXCJHb3QgbW9yZSBmcmFjdGlvbmFsIGRpZ2l0cyB0aGFuIHN1cHBvcnRlZFwiKTtjb25zdCBuPWAke2F9JHtlLnBhZEVuZChpLFwiMFwiKX1gO3JldHVybiBuZXcgRGVjaW1hbChuLGkpfXN0YXRpYyBmcm9tQXRvbWljcyh0LGkpe3JldHVybiBEZWNpbWFsLnZlcmlmeUZyYWN0aW9uYWxEaWdpdHMoaSksbmV3IERlY2ltYWwodCxpKX1zdGF0aWMgdmVyaWZ5RnJhY3Rpb25hbERpZ2l0cyh0KXtpZighTnVtYmVyLmlzSW50ZWdlcih0KSl0aHJvdyBuZXcgRXJyb3IoXCJGcmFjdGlvbmFsIGRpZ2l0cyBpcyBub3QgYW4gaW50ZWdlclwiKTtpZih0PDApdGhyb3cgbmV3IEVycm9yKFwiRnJhY3Rpb25hbCBkaWdpdHMgbXVzdCBub3QgYmUgbmVnYXRpdmVcIik7aWYodD4zMCl0aHJvdyBuZXcgRXJyb3IoXCJGcmFjdGlvbmFsIGRpZ2l0cyBtdXN0IG5vdCBleGNlZWQgMzBcIil9Z2V0IGF0b21pY3MoKXtyZXR1cm4gdGhpcy5kYXRhLmF0b21pY3MudG9TdHJpbmcoKX1nZXQgZnJhY3Rpb25hbERpZ2l0cygpe3JldHVybiB0aGlzLmRhdGEuZnJhY3Rpb25hbERpZ2l0c31kYXRhO2NvbnN0cnVjdG9yKHQsaSl7aWYoIXQubWF0Y2goL15bMC05XSskLykpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcgZm9ybWF0LiBPbmx5IG5vbi1uZWdhdGl2ZSBpbnRlZ2VycyBpbiBkZWNpbWFsIHJlcHJlc2VudGF0aW9uIHN1cHBvcnRlZC5cIik7dGhpcy5kYXRhPXthdG9taWNzOkJpZ0ludCh0KSxmcmFjdGlvbmFsRGlnaXRzOml9fXRvU3RyaW5nKCl7Y29uc3QgdD1CaWdJbnQoMTApKipCaWdJbnQodGhpcy5kYXRhLmZyYWN0aW9uYWxEaWdpdHMpLGk9dGhpcy5kYXRhLmF0b21pY3MvdCxyPXRoaXMuZGF0YS5hdG9taWNzJXQ7aWYoMG49PT1yKXJldHVybiBpLnRvU3RyaW5nKCk7e2NvbnN0IHQ9ci50b1N0cmluZygpLnBhZFN0YXJ0KHRoaXMuZGF0YS5mcmFjdGlvbmFsRGlnaXRzLFwiMFwiKS5yZXBsYWNlKC8wKyQvLFwiXCIpO3JldHVybmAke2kudG9TdHJpbmcoKX0uJHt0fWB9fX0kaM2PX29uY2UuRGVjaW1hbChEZWNpbWFsKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkRlY2ltYWwiOlsiRGVjaW1hbCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAYKrFi1AcAANQHAAA/AAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9nb29nbGUvcHJvdG9idWYvYW55LmpzeyJpbXBvcnRzIjpbIi4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uL2hlbHBlcnMuanMiLCJAZW5kby9iYXNlNjQiLCIuLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJBbnkiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBlLHIsbyx0LG47JGjNj19pbXBvcnRzKFtbXCIuLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAociA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Jhc2U2NFwiLCBbW1wiZGVjb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXSxbXCJlbmNvZGVCYXNlNjRcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbCgpe3JldHVybnskdHlwZVVybDpcIi9nb29nbGUucHJvdG9idWYuQW55XCIsdHlwZVVybDpcIlwiLHZhbHVlOm5ldyBVaW50OEFycmF5fX0gICAgICAgY29uc3QgQW55PXt0eXBlVXJsOlwiL2dvb2dsZS5wcm90b2J1Zi5BbnlcIixlbmNvZGU6KGUsbz1yLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLnR5cGVVcmwmJm8udWludDMyKDEwKS5zdHJpbmcoZS50eXBlVXJsKSwwIT09ZS52YWx1ZS5sZW5ndGgmJm8udWludDMyKDE4KS5ieXRlcyhlLnZhbHVlKSxvKSxkZWNvZGUocixvKXtjb25zdCB0PXIgaW5zdGFuY2VvZiBlP3I6bmV3IGUocik7bGV0IG49dm9pZCAwPT09bz90Lmxlbjp0LnBvcytvO2NvbnN0IGE9bCgpO2Zvcig7dC5wb3M8bjspe2NvbnN0IGU9dC51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLnR5cGVVcmw9dC5zdHJpbmcoKTticmVhaztjYXNlIDI6YS52YWx1ZT10LmJ5dGVzKCk7YnJlYWs7ZGVmYXVsdDp0LnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe3R5cGVVcmw6byhlLnR5cGVVcmwpP1N0cmluZyhlLnR5cGVVcmwpOlwiXCIsdmFsdWU6byhlLnZhbHVlKT90KGUudmFsdWUpOm5ldyBVaW50OEFycmF5fSksdG9KU09OKGUpe2NvbnN0IHI9e307cmV0dXJuIHZvaWQgMCE9PWUudHlwZVVybCYmKHIudHlwZVVybD1lLnR5cGVVcmwpLHZvaWQgMCE9PWUudmFsdWUmJihyLnZhbHVlPW4odm9pZCAwIT09ZS52YWx1ZT9lLnZhbHVlOm5ldyBVaW50OEFycmF5KSkscn0sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgcj1sKCk7cmV0dXJuIHIudHlwZVVybD1lLnR5cGVVcmw/P1wiXCIsci52YWx1ZT1lLnZhbHVlPz9uZXcgVWludDhBcnJheSxyfSxmcm9tUHJvdG9Nc2c6ZT0+QW55LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkFueS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvZ29vZ2xlLnByb3RvYnVmLkFueVwiLHZhbHVlOkFueS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkFueShBbnkpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiQW55IjpbIkFueSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACBbWb9OwcAADsHAABEAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9nb29nbGUvcHJvdG9idWYvZHVyYXRpb24uanN7ImltcG9ydHMiOlsiLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIkR1cmF0aW9uIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbixvLHM7JGjNj19pbXBvcnRzKFtbXCIuLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAocyA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdCgpe3JldHVybntzZWNvbmRzOkJpZ0ludCgwKSxuYW5vczowfX0gICAgICAgY29uc3QgRHVyYXRpb249e3R5cGVVcmw6XCIvZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uXCIsZW5jb2RlOihuLHM9by5jcmVhdGUoKSk9PihuLnNlY29uZHMhPT1CaWdJbnQoMCkmJnMudWludDMyKDgpLmludDY0KG4uc2Vjb25kcyksMCE9PW4ubmFub3MmJnMudWludDMyKDE2KS5pbnQzMihuLm5hbm9zKSxzKSxkZWNvZGUobyxzKXtjb25zdCBlPW8gaW5zdGFuY2VvZiBuP286bmV3IG4obyk7bGV0IHI9dm9pZCAwPT09cz9lLmxlbjplLnBvcytzO2NvbnN0IGk9dCgpO2Zvcig7ZS5wb3M8cjspe2NvbnN0IG49ZS51aW50MzIoKTtzd2l0Y2gobj4+PjMpe2Nhc2UgMTppLnNlY29uZHM9ZS5pbnQ2NCgpO2JyZWFrO2Nhc2UgMjppLm5hbm9zPWUuaW50MzIoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZuKX19cmV0dXJuIGl9LGZyb21KU09OOm49Pih7c2Vjb25kczpzKG4uc2Vjb25kcyk/QmlnSW50KG4uc2Vjb25kcy50b1N0cmluZygpKTpCaWdJbnQoMCksbmFub3M6cyhuLm5hbm9zKT9OdW1iZXIobi5uYW5vcyk6MH0pLHRvSlNPTihuKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1uLnNlY29uZHMmJihvLnNlY29uZHM9KG4uc2Vjb25kc3x8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1uLm5hbm9zJiYoby5uYW5vcz1NYXRoLnJvdW5kKG4ubmFub3MpKSxvfSxmcm9tUGFydGlhbChuKXtjb25zdCBvPXQoKTtyZXR1cm4gby5zZWNvbmRzPXZvaWQgMCE9PW4uc2Vjb25kcyYmbnVsbCE9PW4uc2Vjb25kcz9CaWdJbnQobi5zZWNvbmRzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvLm5hbm9zPW4ubmFub3M/PzAsb30sZnJvbVByb3RvTXNnOm49PkR1cmF0aW9uLmRlY29kZShuLnZhbHVlKSx0b1Byb3RvOm49PkR1cmF0aW9uLmVuY29kZShuKS5maW5pc2goKSx0b1Byb3RvTXNnOm49Pih7dHlwZVVybDpcIi9nb29nbGUucHJvdG9idWYuRHVyYXRpb25cIix2YWx1ZTpEdXJhdGlvbi5lbmNvZGUobikuZmluaXNoKCl9KX07JGjNj19vbmNlLkR1cmF0aW9uKER1cmF0aW9uKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkR1cmF0aW9uIjpbIkR1cmF0aW9uIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAANS/BTNGBwAARgcAAEUAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAuanN7ImltcG9ydHMiOlsiLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIlRpbWVzdGFtcCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG4sbyxzOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKHMgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHQoKXtyZXR1cm57c2Vjb25kczpCaWdJbnQoMCksbmFub3M6MH19ICAgICAgIGNvbnN0IFRpbWVzdGFtcD17dHlwZVVybDpcIi9nb29nbGUucHJvdG9idWYuVGltZXN0YW1wXCIsZW5jb2RlOihuLHM9by5jcmVhdGUoKSk9PihuLnNlY29uZHMhPT1CaWdJbnQoMCkmJnMudWludDMyKDgpLmludDY0KG4uc2Vjb25kcyksMCE9PW4ubmFub3MmJnMudWludDMyKDE2KS5pbnQzMihuLm5hbm9zKSxzKSxkZWNvZGUobyxzKXtjb25zdCBlPW8gaW5zdGFuY2VvZiBuP286bmV3IG4obyk7bGV0IGk9dm9pZCAwPT09cz9lLmxlbjplLnBvcytzO2NvbnN0IHI9dCgpO2Zvcig7ZS5wb3M8aTspe2NvbnN0IG49ZS51aW50MzIoKTtzd2l0Y2gobj4+PjMpe2Nhc2UgMTpyLnNlY29uZHM9ZS5pbnQ2NCgpO2JyZWFrO2Nhc2UgMjpyLm5hbm9zPWUuaW50MzIoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZuKX19cmV0dXJuIHJ9LGZyb21KU09OOm49Pih7c2Vjb25kczpzKG4uc2Vjb25kcyk/QmlnSW50KG4uc2Vjb25kcy50b1N0cmluZygpKTpCaWdJbnQoMCksbmFub3M6cyhuLm5hbm9zKT9OdW1iZXIobi5uYW5vcyk6MH0pLHRvSlNPTihuKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1uLnNlY29uZHMmJihvLnNlY29uZHM9KG4uc2Vjb25kc3x8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1uLm5hbm9zJiYoby5uYW5vcz1NYXRoLnJvdW5kKG4ubmFub3MpKSxvfSxmcm9tUGFydGlhbChuKXtjb25zdCBvPXQoKTtyZXR1cm4gby5zZWNvbmRzPXZvaWQgMCE9PW4uc2Vjb25kcyYmbnVsbCE9PW4uc2Vjb25kcz9CaWdJbnQobi5zZWNvbmRzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvLm5hbm9zPW4ubmFub3M/PzAsb30sZnJvbVByb3RvTXNnOm49PlRpbWVzdGFtcC5kZWNvZGUobi52YWx1ZSksdG9Qcm90bzpuPT5UaW1lc3RhbXAuZW5jb2RlKG4pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bj0+KHt0eXBlVXJsOlwiL2dvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBcIix2YWx1ZTpUaW1lc3RhbXAuZW5jb2RlKG4pLmZpbmlzaCgpfSl9OyRozY9fb25jZS5UaW1lc3RhbXAoVGltZXN0YW1wKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlRpbWVzdGFtcCI6WyJUaW1lc3RhbXAiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAeK3OdpMMAACTDAAAMwAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vaGVscGVycy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiZnJvbUR1cmF0aW9uIiwiZnJvbUpzb25UaW1lc3RhbXAiLCJmcm9tVGltZXN0YW1wIiwiaXNPYmplY3QiLCJpc1JwYyIsImlzU2V0Iiwib21pdERlZmF1bHQiLCJzZXRQYWdpbmF0aW9uUGFyYW1zIiwidG9EdXJhdGlvbiIsInRvVGltZXN0YW1wIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShvbWl0RGVmYXVsdCwnbmFtZScse3ZhbHVlOlwib21pdERlZmF1bHRcIn0pOyRozY9fb25jZS5vbWl0RGVmYXVsdChvbWl0RGVmYXVsdCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRvRHVyYXRpb24sJ25hbWUnLHt2YWx1ZTpcInRvRHVyYXRpb25cIn0pOyRozY9fb25jZS50b0R1cmF0aW9uKHRvRHVyYXRpb24pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShmcm9tRHVyYXRpb24sJ25hbWUnLHt2YWx1ZTpcImZyb21EdXJhdGlvblwifSk7JGjNj19vbmNlLmZyb21EdXJhdGlvbihmcm9tRHVyYXRpb24pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpc1NldCwnbmFtZScse3ZhbHVlOlwiaXNTZXRcIn0pOyRozY9fb25jZS5pc1NldChpc1NldCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGlzT2JqZWN0LCduYW1lJyx7dmFsdWU6XCJpc09iamVjdFwifSk7JGjNj19vbmNlLmlzT2JqZWN0KGlzT2JqZWN0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaXNScGMsJ25hbWUnLHt2YWx1ZTpcImlzUnBjXCJ9KTskaM2PX29uY2UuaXNScGMoaXNScGMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0b1RpbWVzdGFtcCwnbmFtZScse3ZhbHVlOlwidG9UaW1lc3RhbXBcIn0pOyRozY9fb25jZS50b1RpbWVzdGFtcCh0b1RpbWVzdGFtcCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGZyb21UaW1lc3RhbXAsJ25hbWUnLHt2YWx1ZTpcImZyb21UaW1lc3RhbXBcIn0pOyRozY9fb25jZS5mcm9tVGltZXN0YW1wKGZyb21UaW1lc3RhbXApO09iamVjdC5kZWZpbmVQcm9wZXJ0eShmcm9tSnNvblRpbWVzdGFtcCwnbmFtZScse3ZhbHVlOlwiZnJvbUpzb25UaW1lc3RhbXBcIn0pOyRozY9fb25jZS5mcm9tSnNvblRpbWVzdGFtcChmcm9tSnNvblRpbWVzdGFtcCk7ICAgICAgIGZ1bmN0aW9uIG9taXREZWZhdWx0KHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVyblwiXCI9PT10P3ZvaWQgMDp0O2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiAwPT09dD92b2lkIDA6dDtpZihcImJvb2xlYW5cIj09dHlwZW9mIHQpcmV0dXJuITE9PT10P3ZvaWQgMDp0O2lmKFwiYmlnaW50XCI9PXR5cGVvZiB0KXJldHVybiB0PT09QmlnSW50KDApP3ZvaWQgMDp0O3Rocm93IG5ldyBFcnJvcihcIkdvdCB1bnN1cHBvcnRlZCB0eXBlIFwiK3R5cGVvZiB0KX0gICAgICAgZnVuY3Rpb24gdG9EdXJhdGlvbih0KXtyZXR1cm57c2Vjb25kczpCaWdJbnQoTWF0aC5mbG9vcihwYXJzZUludCh0KS8xZTkpKSxuYW5vczpwYXJzZUludCh0KSUxZTl9fSAgICAgICBmdW5jdGlvbiBmcm9tRHVyYXRpb24odCl7cmV0dXJuKDFlOSpwYXJzZUludCh0LnNlY29uZHMudG9TdHJpbmcoKSkrdC5uYW5vcykudG9TdHJpbmcoKX0gICAgICAgZnVuY3Rpb24gaXNTZXQodCl7cmV0dXJuIG51bGwhPXR9ICAgICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dH0gICAgICAgY29uc3Qgc2V0UGFnaW5hdGlvblBhcmFtcz0odCxuKT0+bj8odm9pZCAwIT09bj8uY291bnRUb3RhbCYmKHQucGFyYW1zW1wicGFnaW5hdGlvbi5jb3VudF90b3RhbFwiXT1uLmNvdW50VG90YWwpLHZvaWQgMCE9PW4/LmtleSYmKHQucGFyYW1zW1wicGFnaW5hdGlvbi5rZXlcIl09QnVmZmVyLmZyb20obi5rZXkpLnRvU3RyaW5nKFwiYmFzZTY0XCIpKSx2b2lkIDAhPT1uPy5saW1pdCYmKHQucGFyYW1zW1wicGFnaW5hdGlvbi5saW1pdFwiXT1uLmxpbWl0LnRvU3RyaW5nKCkpLHZvaWQgMCE9PW4/Lm9mZnNldCYmKHQucGFyYW1zW1wicGFnaW5hdGlvbi5vZmZzZXRcIl09bi5vZmZzZXQudG9TdHJpbmcoKSksdm9pZCAwIT09bj8ucmV2ZXJzZSYmKHQucGFyYW1zW1wicGFnaW5hdGlvbi5yZXZlcnNlXCJdPW4ucmV2ZXJzZSksdCk6dDskaM2PX29uY2Uuc2V0UGFnaW5hdGlvblBhcmFtcyhzZXRQYWdpbmF0aW9uUGFyYW1zKTtmdW5jdGlvbiBpc1JwYyh0KXtyZXR1cm4gbnVsbCE9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5yZXF1ZXN0fWZ1bmN0aW9uIHRvVGltZXN0YW1wKHQpe3ZhciBuO3JldHVybntzZWNvbmRzOihuPXQuZ2V0VGltZSgpLzFlMyxCaWdJbnQoTWF0aC50cnVuYyhuKSkpLG5hbm9zOnQuZ2V0VGltZSgpJTFlMyoxZTZ9fWZ1bmN0aW9uIGZyb21UaW1lc3RhbXAodCl7bGV0IG49MWUzKk51bWJlcih0LnNlY29uZHMpO3JldHVybiBuKz10Lm5hbm9zLzFlNixuZXcgRGF0ZShuKX1mdW5jdGlvbiBmcm9tSnNvblRpbWVzdGFtcCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIERhdGU/dG9UaW1lc3RhbXAodCk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dG9UaW1lc3RhbXAobmV3IERhdGUodCkpOntzZWNvbmRzOmlzU2V0KChuPXQpLnNlY29uZHMpP0JpZ0ludChuLnNlY29uZHMudG9TdHJpbmcoKSk6QmlnSW50KDApLG5hbm9zOmlzU2V0KG4ubmFub3MpP051bWJlcihuLm5hbm9zKTowfTt2YXIgbn1cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im9taXREZWZhdWx0IjpbIm9taXREZWZhdWx0Il0sInRvRHVyYXRpb24iOlsidG9EdXJhdGlvbiJdLCJmcm9tRHVyYXRpb24iOlsiZnJvbUR1cmF0aW9uIl0sImlzU2V0IjpbImlzU2V0Il0sImlzT2JqZWN0IjpbImlzT2JqZWN0Il0sInNldFBhZ2luYXRpb25QYXJhbXMiOlsic2V0UGFnaW5hdGlvblBhcmFtcyJdLCJpc1JwYyI6WyJpc1JwYyJdLCJ0b1RpbWVzdGFtcCI6WyJ0b1RpbWVzdGFtcCJdLCJmcm9tVGltZXN0YW1wIjpbImZyb21UaW1lc3RhbXAiXSwiZnJvbUpzb25UaW1lc3RhbXAiOlsiZnJvbUpzb25UaW1lc3RhbXAiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAbUE7z0EUAABBFAAASwAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vaWJjL2FwcGxpY2F0aW9ucy90cmFuc2Zlci92MS90eC5qc3siaW1wb3J0cyI6WyIuLi8uLi8uLi8uLi9jb3Ntb3MvYmFzZS92MWJldGExL2NvaW4uanMiLCIuLi8uLi8uLi9jb3JlL2NsaWVudC92MS9jbGllbnQuanMiLCIuLi8uLi8uLi8uLi9iaW5hcnkuanMiLCIuLi8uLi8uLi8uLi9oZWxwZXJzLmpzIiwiLi4vLi4vLi4vLi4vanNvbi1zYWZlLmpzIl0sImV4cG9ydHMiOlsiTXNnVHJhbnNmZXIiLCJNc2dUcmFuc2ZlclJlc3BvbnNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZSx0LG8scixuOyRozY9faW1wb3J0cyhbW1wiLi4vLi4vLi4vLi4vY29zbW9zL2Jhc2UvdjFiZXRhMS9jb2luLmpzXCIsIFtbXCJDb2luXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uL2NvcmUvY2xpZW50L3YxL2NsaWVudC5qc1wiLCBbW1wiSGVpZ2h0XCIsWyRozY9fYSA9PiAodCA9ICRozY9fYSldXV1dLFtcIi4uLy4uLy4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGkoKXtyZXR1cm57c291cmNlUG9ydDpcIlwiLHNvdXJjZUNoYW5uZWw6XCJcIix0b2tlbjplLmZyb21QYXJ0aWFsKHt9KSxzZW5kZXI6XCJcIixyZWNlaXZlcjpcIlwiLHRpbWVvdXRIZWlnaHQ6dC5mcm9tUGFydGlhbCh7fSksdGltZW91dFRpbWVzdGFtcDpCaWdJbnQoMCksbWVtbzpcIlwifX0gICAgICAgY29uc3QgTXNnVHJhbnNmZXI9e3R5cGVVcmw6XCIvaWJjLmFwcGxpY2F0aW9ucy50cmFuc2Zlci52MS5Nc2dUcmFuc2ZlclwiLGVuY29kZToobyxuPXIuY3JlYXRlKCkpPT4oXCJcIiE9PW8uc291cmNlUG9ydCYmbi51aW50MzIoMTApLnN0cmluZyhvLnNvdXJjZVBvcnQpLFwiXCIhPT1vLnNvdXJjZUNoYW5uZWwmJm4udWludDMyKDE4KS5zdHJpbmcoby5zb3VyY2VDaGFubmVsKSx2b2lkIDAhPT1vLnRva2VuJiZlLmVuY29kZShvLnRva2VuLG4udWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLFwiXCIhPT1vLnNlbmRlciYmbi51aW50MzIoMzQpLnN0cmluZyhvLnNlbmRlciksXCJcIiE9PW8ucmVjZWl2ZXImJm4udWludDMyKDQyKS5zdHJpbmcoby5yZWNlaXZlciksdm9pZCAwIT09by50aW1lb3V0SGVpZ2h0JiZ0LmVuY29kZShvLnRpbWVvdXRIZWlnaHQsbi51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCksby50aW1lb3V0VGltZXN0YW1wIT09QmlnSW50KDApJiZuLnVpbnQzMig1NikudWludDY0KG8udGltZW91dFRpbWVzdGFtcCksXCJcIiE9PW8ubWVtbyYmbi51aW50MzIoNjYpLnN0cmluZyhvLm1lbW8pLG4pLGRlY29kZShyLG4pe2NvbnN0IHM9ciBpbnN0YW5jZW9mIG8/cjpuZXcgbyhyKTtsZXQgbT12b2lkIDA9PT1uP3MubGVuOnMucG9zK247Y29uc3QgYz1pKCk7Zm9yKDtzLnBvczxtOyl7Y29uc3Qgbz1zLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOmMuc291cmNlUG9ydD1zLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpjLnNvdXJjZUNoYW5uZWw9cy5zdHJpbmcoKTticmVhaztjYXNlIDM6Yy50b2tlbj1lLmRlY29kZShzLHMudWludDMyKCkpO2JyZWFrO2Nhc2UgNDpjLnNlbmRlcj1zLnN0cmluZygpO2JyZWFrO2Nhc2UgNTpjLnJlY2VpdmVyPXMuc3RyaW5nKCk7YnJlYWs7Y2FzZSA2OmMudGltZW91dEhlaWdodD10LmRlY29kZShzLHMudWludDMyKCkpO2JyZWFrO2Nhc2UgNzpjLnRpbWVvdXRUaW1lc3RhbXA9cy51aW50NjQoKTticmVhaztjYXNlIDg6Yy5tZW1vPXMuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpzLnNraXBUeXBlKDcmbyl9fXJldHVybiBjfSxmcm9tSlNPTjpvPT4oe3NvdXJjZVBvcnQ6bihvLnNvdXJjZVBvcnQpP1N0cmluZyhvLnNvdXJjZVBvcnQpOlwiXCIsc291cmNlQ2hhbm5lbDpuKG8uc291cmNlQ2hhbm5lbCk/U3RyaW5nKG8uc291cmNlQ2hhbm5lbCk6XCJcIix0b2tlbjpuKG8udG9rZW4pP2UuZnJvbUpTT04oby50b2tlbik6dm9pZCAwLHNlbmRlcjpuKG8uc2VuZGVyKT9TdHJpbmcoby5zZW5kZXIpOlwiXCIscmVjZWl2ZXI6bihvLnJlY2VpdmVyKT9TdHJpbmcoby5yZWNlaXZlcik6XCJcIix0aW1lb3V0SGVpZ2h0Om4oby50aW1lb3V0SGVpZ2h0KT90LmZyb21KU09OKG8udGltZW91dEhlaWdodCk6dm9pZCAwLHRpbWVvdXRUaW1lc3RhbXA6bihvLnRpbWVvdXRUaW1lc3RhbXApP0JpZ0ludChvLnRpbWVvdXRUaW1lc3RhbXAudG9TdHJpbmcoKSk6QmlnSW50KDApLG1lbW86bihvLm1lbW8pP1N0cmluZyhvLm1lbW8pOlwiXCJ9KSx0b0pTT04obyl7Y29uc3Qgcj17fTtyZXR1cm4gdm9pZCAwIT09by5zb3VyY2VQb3J0JiYoci5zb3VyY2VQb3J0PW8uc291cmNlUG9ydCksdm9pZCAwIT09by5zb3VyY2VDaGFubmVsJiYoci5zb3VyY2VDaGFubmVsPW8uc291cmNlQ2hhbm5lbCksdm9pZCAwIT09by50b2tlbiYmKHIudG9rZW49by50b2tlbj9lLnRvSlNPTihvLnRva2VuKTp2b2lkIDApLHZvaWQgMCE9PW8uc2VuZGVyJiYoci5zZW5kZXI9by5zZW5kZXIpLHZvaWQgMCE9PW8ucmVjZWl2ZXImJihyLnJlY2VpdmVyPW8ucmVjZWl2ZXIpLHZvaWQgMCE9PW8udGltZW91dEhlaWdodCYmKHIudGltZW91dEhlaWdodD1vLnRpbWVvdXRIZWlnaHQ/dC50b0pTT04oby50aW1lb3V0SGVpZ2h0KTp2b2lkIDApLHZvaWQgMCE9PW8udGltZW91dFRpbWVzdGFtcCYmKHIudGltZW91dFRpbWVzdGFtcD0oby50aW1lb3V0VGltZXN0YW1wfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PW8ubWVtbyYmKHIubWVtbz1vLm1lbW8pLHJ9LGZyb21QYXJ0aWFsKG8pe2NvbnN0IHI9aSgpO3JldHVybiByLnNvdXJjZVBvcnQ9by5zb3VyY2VQb3J0Pz9cIlwiLHIuc291cmNlQ2hhbm5lbD1vLnNvdXJjZUNoYW5uZWw/P1wiXCIsci50b2tlbj12b2lkIDAhPT1vLnRva2VuJiZudWxsIT09by50b2tlbj9lLmZyb21QYXJ0aWFsKG8udG9rZW4pOnZvaWQgMCxyLnNlbmRlcj1vLnNlbmRlcj8/XCJcIixyLnJlY2VpdmVyPW8ucmVjZWl2ZXI/P1wiXCIsci50aW1lb3V0SGVpZ2h0PXZvaWQgMCE9PW8udGltZW91dEhlaWdodCYmbnVsbCE9PW8udGltZW91dEhlaWdodD90LmZyb21QYXJ0aWFsKG8udGltZW91dEhlaWdodCk6dm9pZCAwLHIudGltZW91dFRpbWVzdGFtcD12b2lkIDAhPT1vLnRpbWVvdXRUaW1lc3RhbXAmJm51bGwhPT1vLnRpbWVvdXRUaW1lc3RhbXA/QmlnSW50KG8udGltZW91dFRpbWVzdGFtcC50b1N0cmluZygpKTpCaWdJbnQoMCksci5tZW1vPW8ubWVtbz8/XCJcIixyfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnVHJhbnNmZXIuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnVHJhbnNmZXIuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2liYy5hcHBsaWNhdGlvbnMudHJhbnNmZXIudjEuTXNnVHJhbnNmZXJcIix2YWx1ZTpNc2dUcmFuc2Zlci5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1RyYW5zZmVyKE1zZ1RyYW5zZmVyKTtmdW5jdGlvbiBzKCl7cmV0dXJue3NlcXVlbmNlOkJpZ0ludCgwKX19Y29uc3QgTXNnVHJhbnNmZXJSZXNwb25zZT17dHlwZVVybDpcIi9pYmMuYXBwbGljYXRpb25zLnRyYW5zZmVyLnYxLk1zZ1RyYW5zZmVyUmVzcG9uc2VcIixlbmNvZGU6KGUsdD1yLmNyZWF0ZSgpKT0+KGUuc2VxdWVuY2UhPT1CaWdJbnQoMCkmJnQudWludDMyKDgpLnVpbnQ2NChlLnNlcXVlbmNlKSx0KSxkZWNvZGUoZSx0KXtjb25zdCByPWUgaW5zdGFuY2VvZiBvP2U6bmV3IG8oZSk7bGV0IG49dm9pZCAwPT09dD9yLmxlbjpyLnBvcyt0O2NvbnN0IGk9cygpO2Zvcig7ci5wb3M8bjspe2NvbnN0IGU9ci51aW50MzIoKTtpZihlPj4+Mz09MSlpLnNlcXVlbmNlPXIudWludDY0KCk7ZWxzZSByLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7c2VxdWVuY2U6bihlLnNlcXVlbmNlKT9CaWdJbnQoZS5zZXF1ZW5jZS50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5zZXF1ZW5jZSYmKHQuc2VxdWVuY2U9KGUuc2VxdWVuY2V8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1zKCk7cmV0dXJuIHQuc2VxdWVuY2U9dm9pZCAwIT09ZS5zZXF1ZW5jZSYmbnVsbCE9PWUuc2VxdWVuY2U/QmlnSW50KGUuc2VxdWVuY2UudG9TdHJpbmcoKSk6QmlnSW50KDApLHR9LGZyb21Qcm90b01zZzplPT5Nc2dUcmFuc2ZlclJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1RyYW5zZmVyUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL2liYy5hcHBsaWNhdGlvbnMudHJhbnNmZXIudjEuTXNnVHJhbnNmZXJSZXNwb25zZVwiLHZhbHVlOk1zZ1RyYW5zZmVyUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dUcmFuc2ZlclJlc3BvbnNlKE1zZ1RyYW5zZmVyUmVzcG9uc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiTXNnVHJhbnNmZXIiOlsiTXNnVHJhbnNmZXIiXSwiTXNnVHJhbnNmZXJSZXNwb25zZSI6WyJNc2dUcmFuc2ZlclJlc3BvbnNlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAPSTMzpuLgAAbi4AAEUAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2liYy9jb3JlL2NsaWVudC92MS9jbGllbnQuanN7ImltcG9ydHMiOlsiLi4vLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2FueS5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy91cGdyYWRlL3YxYmV0YTEvdXBncmFkZS5qcyIsIi4uLy4uLy4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uLy4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi8uLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJDbGllbnRDb25zZW5zdXNTdGF0ZXMiLCJDbGllbnRVcGRhdGVQcm9wb3NhbCIsIkNvbnNlbnN1c1N0YXRlV2l0aEhlaWdodCIsIkhlaWdodCIsIklkZW50aWZpZWRDbGllbnRTdGF0ZSIsIlBhcmFtcyIsIlVwZ3JhZGVQcm9wb3NhbCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHQsZSxpLG4sbzskaM2PX2ltcG9ydHMoW1tcIi4uLy4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9hbnkuanNcIiwgW1tcIkFueVwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi8uLi9jb3Ntb3MvdXBncmFkZS92MWJldGExL3VwZ3JhZGUuanNcIiwgW1tcIlBsYW5cIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChpID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi8uLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBJZGVudGlmaWVkQ2xpZW50U3RhdGU9e3R5cGVVcmw6XCIvaWJjLmNvcmUuY2xpZW50LnYxLklkZW50aWZpZWRDbGllbnRTdGF0ZVwiLGVuY29kZTooZSxpPW4uY3JlYXRlKCkpPT4oXCJcIiE9PWUuY2xpZW50SWQmJmkudWludDMyKDEwKS5zdHJpbmcoZS5jbGllbnRJZCksdm9pZCAwIT09ZS5jbGllbnRTdGF0ZSYmdC5lbmNvZGUoZS5jbGllbnRTdGF0ZSxpLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxpKSxkZWNvZGUoZSxuKXtjb25zdCBvPWUgaW5zdGFuY2VvZiBpP2U6bmV3IGkoZSk7bGV0IHM9dm9pZCAwPT09bj9vLmxlbjpvLnBvcytuO2NvbnN0IHI9e2NsaWVudElkOlwiXCIsY2xpZW50U3RhdGU6dm9pZCAwfTtmb3IoO28ucG9zPHM7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6ci5jbGllbnRJZD1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpyLmNsaWVudFN0YXRlPXQuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiByfSxmcm9tSlNPTjplPT4oe2NsaWVudElkOm8oZS5jbGllbnRJZCk/U3RyaW5nKGUuY2xpZW50SWQpOlwiXCIsY2xpZW50U3RhdGU6byhlLmNsaWVudFN0YXRlKT90LmZyb21KU09OKGUuY2xpZW50U3RhdGUpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBpPXt9O3JldHVybiB2b2lkIDAhPT1lLmNsaWVudElkJiYoaS5jbGllbnRJZD1lLmNsaWVudElkKSx2b2lkIDAhPT1lLmNsaWVudFN0YXRlJiYoaS5jbGllbnRTdGF0ZT1lLmNsaWVudFN0YXRlP3QudG9KU09OKGUuY2xpZW50U3RhdGUpOnZvaWQgMCksaX0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgaT17Y2xpZW50SWQ6XCJcIixjbGllbnRTdGF0ZTp2b2lkIDB9O3JldHVybiBpLmNsaWVudElkPWUuY2xpZW50SWQ/P1wiXCIsaS5jbGllbnRTdGF0ZT12b2lkIDAhPT1lLmNsaWVudFN0YXRlJiZudWxsIT09ZS5jbGllbnRTdGF0ZT90LmZyb21QYXJ0aWFsKGUuY2xpZW50U3RhdGUpOnZvaWQgMCxpfSxmcm9tUHJvdG9Nc2c6dD0+SWRlbnRpZmllZENsaWVudFN0YXRlLmRlY29kZSh0LnZhbHVlKSx0b1Byb3RvOnQ9PklkZW50aWZpZWRDbGllbnRTdGF0ZS5lbmNvZGUodCkuZmluaXNoKCksdG9Qcm90b01zZzp0PT4oe3R5cGVVcmw6XCIvaWJjLmNvcmUuY2xpZW50LnYxLklkZW50aWZpZWRDbGllbnRTdGF0ZVwiLHZhbHVlOklkZW50aWZpZWRDbGllbnRTdGF0ZS5lbmNvZGUodCkuZmluaXNoKCl9KX07JGjNj19vbmNlLklkZW50aWZpZWRDbGllbnRTdGF0ZShJZGVudGlmaWVkQ2xpZW50U3RhdGUpO2Z1bmN0aW9uIHMoKXtyZXR1cm57aGVpZ2h0OkhlaWdodC5mcm9tUGFydGlhbCh7fSksY29uc2Vuc3VzU3RhdGU6dm9pZCAwfX1jb25zdCBDb25zZW5zdXNTdGF0ZVdpdGhIZWlnaHQ9e3R5cGVVcmw6XCIvaWJjLmNvcmUuY2xpZW50LnYxLkNvbnNlbnN1c1N0YXRlV2l0aEhlaWdodFwiLGVuY29kZTooZSxpPW4uY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5oZWlnaHQmJkhlaWdodC5lbmNvZGUoZS5oZWlnaHQsaS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09ZS5jb25zZW5zdXNTdGF0ZSYmdC5lbmNvZGUoZS5jb25zZW5zdXNTdGF0ZSxpLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxpKSxkZWNvZGUoZSxuKXtjb25zdCBvPWUgaW5zdGFuY2VvZiBpP2U6bmV3IGkoZSk7bGV0IHI9dm9pZCAwPT09bj9vLmxlbjpvLnBvcytuO2NvbnN0IGw9cygpO2Zvcig7by5wb3M8cjspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTpsLmhlaWdodD1IZWlnaHQuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOmwuY29uc2Vuc3VzU3RhdGU9dC5kZWNvZGUobyxvLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGx9LGZyb21KU09OOmU9Pih7aGVpZ2h0Om8oZS5oZWlnaHQpP0hlaWdodC5mcm9tSlNPTihlLmhlaWdodCk6dm9pZCAwLGNvbnNlbnN1c1N0YXRlOm8oZS5jb25zZW5zdXNTdGF0ZSk/dC5mcm9tSlNPTihlLmNvbnNlbnN1c1N0YXRlKTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgaT17fTtyZXR1cm4gdm9pZCAwIT09ZS5oZWlnaHQmJihpLmhlaWdodD1lLmhlaWdodD9IZWlnaHQudG9KU09OKGUuaGVpZ2h0KTp2b2lkIDApLHZvaWQgMCE9PWUuY29uc2Vuc3VzU3RhdGUmJihpLmNvbnNlbnN1c1N0YXRlPWUuY29uc2Vuc3VzU3RhdGU/dC50b0pTT04oZS5jb25zZW5zdXNTdGF0ZSk6dm9pZCAwKSxpfSxmcm9tUGFydGlhbChlKXtjb25zdCBpPXMoKTtyZXR1cm4gaS5oZWlnaHQ9dm9pZCAwIT09ZS5oZWlnaHQmJm51bGwhPT1lLmhlaWdodD9IZWlnaHQuZnJvbVBhcnRpYWwoZS5oZWlnaHQpOnZvaWQgMCxpLmNvbnNlbnN1c1N0YXRlPXZvaWQgMCE9PWUuY29uc2Vuc3VzU3RhdGUmJm51bGwhPT1lLmNvbnNlbnN1c1N0YXRlP3QuZnJvbVBhcnRpYWwoZS5jb25zZW5zdXNTdGF0ZSk6dm9pZCAwLGl9LGZyb21Qcm90b01zZzp0PT5Db25zZW5zdXNTdGF0ZVdpdGhIZWlnaHQuZGVjb2RlKHQudmFsdWUpLHRvUHJvdG86dD0+Q29uc2Vuc3VzU3RhdGVXaXRoSGVpZ2h0LmVuY29kZSh0KS5maW5pc2goKSx0b1Byb3RvTXNnOnQ9Pih7dHlwZVVybDpcIi9pYmMuY29yZS5jbGllbnQudjEuQ29uc2Vuc3VzU3RhdGVXaXRoSGVpZ2h0XCIsdmFsdWU6Q29uc2Vuc3VzU3RhdGVXaXRoSGVpZ2h0LmVuY29kZSh0KS5maW5pc2goKX0pfTskaM2PX29uY2UuQ29uc2Vuc3VzU3RhdGVXaXRoSGVpZ2h0KENvbnNlbnN1c1N0YXRlV2l0aEhlaWdodCk7Y29uc3QgQ2xpZW50Q29uc2Vuc3VzU3RhdGVzPXt0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5DbGllbnRDb25zZW5zdXNTdGF0ZXNcIixlbmNvZGUodCxlPW4uY3JlYXRlKCkpe1wiXCIhPT10LmNsaWVudElkJiZlLnVpbnQzMigxMCkuc3RyaW5nKHQuY2xpZW50SWQpO2Zvcihjb25zdCBpIG9mIHQuY29uc2Vuc3VzU3RhdGVzKUNvbnNlbnN1c1N0YXRlV2l0aEhlaWdodC5lbmNvZGUoaSxlLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gZX0sZGVjb2RlKHQsZSl7Y29uc3Qgbj10IGluc3RhbmNlb2YgaT90Om5ldyBpKHQpO2xldCBvPXZvaWQgMD09PWU/bi5sZW46bi5wb3MrZTtjb25zdCBzPXtjbGllbnRJZDpcIlwiLGNvbnNlbnN1c1N0YXRlczpbXX07Zm9yKDtuLnBvczxvOyl7Y29uc3QgdD1uLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOnMuY2xpZW50SWQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDI6cy5jb25zZW5zdXNTdGF0ZXMucHVzaChDb25zZW5zdXNTdGF0ZVdpdGhIZWlnaHQuZGVjb2RlKG4sbi51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JnQpfX1yZXR1cm4gc30sZnJvbUpTT046dD0+KHtjbGllbnRJZDpvKHQuY2xpZW50SWQpP1N0cmluZyh0LmNsaWVudElkKTpcIlwiLGNvbnNlbnN1c1N0YXRlczpBcnJheS5pc0FycmF5KHQ/LmNvbnNlbnN1c1N0YXRlcyk/dC5jb25zZW5zdXNTdGF0ZXMubWFwKCh0PT5Db25zZW5zdXNTdGF0ZVdpdGhIZWlnaHQuZnJvbUpTT04odCkpKTpbXX0pLHRvSlNPTih0KXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT10LmNsaWVudElkJiYoZS5jbGllbnRJZD10LmNsaWVudElkKSx0LmNvbnNlbnN1c1N0YXRlcz9lLmNvbnNlbnN1c1N0YXRlcz10LmNvbnNlbnN1c1N0YXRlcy5tYXAoKHQ9PnQ/Q29uc2Vuc3VzU3RhdGVXaXRoSGVpZ2h0LnRvSlNPTih0KTp2b2lkIDApKTplLmNvbnNlbnN1c1N0YXRlcz1bXSxlfSxmcm9tUGFydGlhbCh0KXtjb25zdCBlPXtjbGllbnRJZDpcIlwiLGNvbnNlbnN1c1N0YXRlczpbXX07cmV0dXJuIGUuY2xpZW50SWQ9dC5jbGllbnRJZD8/XCJcIixlLmNvbnNlbnN1c1N0YXRlcz10LmNvbnNlbnN1c1N0YXRlcz8ubWFwKCh0PT5Db25zZW5zdXNTdGF0ZVdpdGhIZWlnaHQuZnJvbVBhcnRpYWwodCkpKXx8W10sZX0sZnJvbVByb3RvTXNnOnQ9PkNsaWVudENvbnNlbnN1c1N0YXRlcy5kZWNvZGUodC52YWx1ZSksdG9Qcm90bzp0PT5DbGllbnRDb25zZW5zdXNTdGF0ZXMuZW5jb2RlKHQpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6dD0+KHt0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5DbGllbnRDb25zZW5zdXNTdGF0ZXNcIix2YWx1ZTpDbGllbnRDb25zZW5zdXNTdGF0ZXMuZW5jb2RlKHQpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5DbGllbnRDb25zZW5zdXNTdGF0ZXMoQ2xpZW50Q29uc2Vuc3VzU3RhdGVzKTtjb25zdCBDbGllbnRVcGRhdGVQcm9wb3NhbD17dHlwZVVybDpcIi9pYmMuY29yZS5jbGllbnQudjEuQ2xpZW50VXBkYXRlUHJvcG9zYWxcIixlbmNvZGU6KHQsZT1uLmNyZWF0ZSgpKT0+KFwiXCIhPT10LnRpdGxlJiZlLnVpbnQzMigxMCkuc3RyaW5nKHQudGl0bGUpLFwiXCIhPT10LmRlc2NyaXB0aW9uJiZlLnVpbnQzMigxOCkuc3RyaW5nKHQuZGVzY3JpcHRpb24pLFwiXCIhPT10LnN1YmplY3RDbGllbnRJZCYmZS51aW50MzIoMjYpLnN0cmluZyh0LnN1YmplY3RDbGllbnRJZCksXCJcIiE9PXQuc3Vic3RpdHV0ZUNsaWVudElkJiZlLnVpbnQzMigzNCkuc3RyaW5nKHQuc3Vic3RpdHV0ZUNsaWVudElkKSxlKSxkZWNvZGUodCxlKXtjb25zdCBuPXQgaW5zdGFuY2VvZiBpP3Q6bmV3IGkodCk7bGV0IG89dm9pZCAwPT09ZT9uLmxlbjpuLnBvcytlO2NvbnN0IHM9eyR0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5DbGllbnRVcGRhdGVQcm9wb3NhbFwiLHRpdGxlOlwiXCIsZGVzY3JpcHRpb246XCJcIixzdWJqZWN0Q2xpZW50SWQ6XCJcIixzdWJzdGl0dXRlQ2xpZW50SWQ6XCJcIn07Zm9yKDtuLnBvczxvOyl7Y29uc3QgdD1uLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOnMudGl0bGU9bi5zdHJpbmcoKTticmVhaztjYXNlIDI6cy5kZXNjcmlwdGlvbj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpzLnN1YmplY3RDbGllbnRJZD1uLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpzLnN1YnN0aXR1dGVDbGllbnRJZD1uLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JnQpfX1yZXR1cm4gc30sZnJvbUpTT046dD0+KHt0aXRsZTpvKHQudGl0bGUpP1N0cmluZyh0LnRpdGxlKTpcIlwiLGRlc2NyaXB0aW9uOm8odC5kZXNjcmlwdGlvbik/U3RyaW5nKHQuZGVzY3JpcHRpb24pOlwiXCIsc3ViamVjdENsaWVudElkOm8odC5zdWJqZWN0Q2xpZW50SWQpP1N0cmluZyh0LnN1YmplY3RDbGllbnRJZCk6XCJcIixzdWJzdGl0dXRlQ2xpZW50SWQ6byh0LnN1YnN0aXR1dGVDbGllbnRJZCk/U3RyaW5nKHQuc3Vic3RpdHV0ZUNsaWVudElkKTpcIlwifSksdG9KU09OKHQpe2NvbnN0IGU9e307cmV0dXJuIHZvaWQgMCE9PXQudGl0bGUmJihlLnRpdGxlPXQudGl0bGUpLHZvaWQgMCE9PXQuZGVzY3JpcHRpb24mJihlLmRlc2NyaXB0aW9uPXQuZGVzY3JpcHRpb24pLHZvaWQgMCE9PXQuc3ViamVjdENsaWVudElkJiYoZS5zdWJqZWN0Q2xpZW50SWQ9dC5zdWJqZWN0Q2xpZW50SWQpLHZvaWQgMCE9PXQuc3Vic3RpdHV0ZUNsaWVudElkJiYoZS5zdWJzdGl0dXRlQ2xpZW50SWQ9dC5zdWJzdGl0dXRlQ2xpZW50SWQpLGV9LGZyb21QYXJ0aWFsKHQpe2NvbnN0IGU9eyR0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5DbGllbnRVcGRhdGVQcm9wb3NhbFwiLHRpdGxlOlwiXCIsZGVzY3JpcHRpb246XCJcIixzdWJqZWN0Q2xpZW50SWQ6XCJcIixzdWJzdGl0dXRlQ2xpZW50SWQ6XCJcIn07cmV0dXJuIGUudGl0bGU9dC50aXRsZT8/XCJcIixlLmRlc2NyaXB0aW9uPXQuZGVzY3JpcHRpb24/P1wiXCIsZS5zdWJqZWN0Q2xpZW50SWQ9dC5zdWJqZWN0Q2xpZW50SWQ/P1wiXCIsZS5zdWJzdGl0dXRlQ2xpZW50SWQ9dC5zdWJzdGl0dXRlQ2xpZW50SWQ/P1wiXCIsZX0sZnJvbVByb3RvTXNnOnQ9PkNsaWVudFVwZGF0ZVByb3Bvc2FsLmRlY29kZSh0LnZhbHVlKSx0b1Byb3RvOnQ9PkNsaWVudFVwZGF0ZVByb3Bvc2FsLmVuY29kZSh0KS5maW5pc2goKSx0b1Byb3RvTXNnOnQ9Pih7dHlwZVVybDpcIi9pYmMuY29yZS5jbGllbnQudjEuQ2xpZW50VXBkYXRlUHJvcG9zYWxcIix2YWx1ZTpDbGllbnRVcGRhdGVQcm9wb3NhbC5lbmNvZGUodCkuZmluaXNoKCl9KX07JGjNj19vbmNlLkNsaWVudFVwZGF0ZVByb3Bvc2FsKENsaWVudFVwZGF0ZVByb3Bvc2FsKTtmdW5jdGlvbiByKCl7cmV0dXJueyR0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5VcGdyYWRlUHJvcG9zYWxcIix0aXRsZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCIscGxhbjplLmZyb21QYXJ0aWFsKHt9KSx1cGdyYWRlZENsaWVudFN0YXRlOnZvaWQgMH19Y29uc3QgVXBncmFkZVByb3Bvc2FsPXt0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5VcGdyYWRlUHJvcG9zYWxcIixlbmNvZGU6KGksbz1uLmNyZWF0ZSgpKT0+KFwiXCIhPT1pLnRpdGxlJiZvLnVpbnQzMigxMCkuc3RyaW5nKGkudGl0bGUpLFwiXCIhPT1pLmRlc2NyaXB0aW9uJiZvLnVpbnQzMigxOCkuc3RyaW5nKGkuZGVzY3JpcHRpb24pLHZvaWQgMCE9PWkucGxhbiYmZS5lbmNvZGUoaS5wbGFuLG8udWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLHZvaWQgMCE9PWkudXBncmFkZWRDbGllbnRTdGF0ZSYmdC5lbmNvZGUoaS51cGdyYWRlZENsaWVudFN0YXRlLG8udWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShuLG8pe2NvbnN0IHM9biBpbnN0YW5jZW9mIGk/bjpuZXcgaShuKTtsZXQgbD12b2lkIDA9PT1vP3MubGVuOnMucG9zK287Y29uc3QgYz1yKCk7Zm9yKDtzLnBvczxsOyl7Y29uc3QgaT1zLnVpbnQzMigpO3N3aXRjaChpPj4+Myl7Y2FzZSAxOmMudGl0bGU9cy5zdHJpbmcoKTticmVhaztjYXNlIDI6Yy5kZXNjcmlwdGlvbj1zLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpjLnBsYW49ZS5kZWNvZGUocyxzLnVpbnQzMigpKTticmVhaztjYXNlIDQ6Yy51cGdyYWRlZENsaWVudFN0YXRlPXQuZGVjb2RlKHMscy51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpzLnNraXBUeXBlKDcmaSl9fXJldHVybiBjfSxmcm9tSlNPTjppPT4oe3RpdGxlOm8oaS50aXRsZSk/U3RyaW5nKGkudGl0bGUpOlwiXCIsZGVzY3JpcHRpb246byhpLmRlc2NyaXB0aW9uKT9TdHJpbmcoaS5kZXNjcmlwdGlvbik6XCJcIixwbGFuOm8oaS5wbGFuKT9lLmZyb21KU09OKGkucGxhbik6dm9pZCAwLHVwZ3JhZGVkQ2xpZW50U3RhdGU6byhpLnVwZ3JhZGVkQ2xpZW50U3RhdGUpP3QuZnJvbUpTT04oaS51cGdyYWRlZENsaWVudFN0YXRlKTp2b2lkIDB9KSx0b0pTT04oaSl7Y29uc3Qgbj17fTtyZXR1cm4gdm9pZCAwIT09aS50aXRsZSYmKG4udGl0bGU9aS50aXRsZSksdm9pZCAwIT09aS5kZXNjcmlwdGlvbiYmKG4uZGVzY3JpcHRpb249aS5kZXNjcmlwdGlvbiksdm9pZCAwIT09aS5wbGFuJiYobi5wbGFuPWkucGxhbj9lLnRvSlNPTihpLnBsYW4pOnZvaWQgMCksdm9pZCAwIT09aS51cGdyYWRlZENsaWVudFN0YXRlJiYobi51cGdyYWRlZENsaWVudFN0YXRlPWkudXBncmFkZWRDbGllbnRTdGF0ZT90LnRvSlNPTihpLnVwZ3JhZGVkQ2xpZW50U3RhdGUpOnZvaWQgMCksbn0sZnJvbVBhcnRpYWwoaSl7Y29uc3Qgbj1yKCk7cmV0dXJuIG4udGl0bGU9aS50aXRsZT8/XCJcIixuLmRlc2NyaXB0aW9uPWkuZGVzY3JpcHRpb24/P1wiXCIsbi5wbGFuPXZvaWQgMCE9PWkucGxhbiYmbnVsbCE9PWkucGxhbj9lLmZyb21QYXJ0aWFsKGkucGxhbik6dm9pZCAwLG4udXBncmFkZWRDbGllbnRTdGF0ZT12b2lkIDAhPT1pLnVwZ3JhZGVkQ2xpZW50U3RhdGUmJm51bGwhPT1pLnVwZ3JhZGVkQ2xpZW50U3RhdGU/dC5mcm9tUGFydGlhbChpLnVwZ3JhZGVkQ2xpZW50U3RhdGUpOnZvaWQgMCxufSxmcm9tUHJvdG9Nc2c6dD0+VXBncmFkZVByb3Bvc2FsLmRlY29kZSh0LnZhbHVlKSx0b1Byb3RvOnQ9PlVwZ3JhZGVQcm9wb3NhbC5lbmNvZGUodCkuZmluaXNoKCksdG9Qcm90b01zZzp0PT4oe3R5cGVVcmw6XCIvaWJjLmNvcmUuY2xpZW50LnYxLlVwZ3JhZGVQcm9wb3NhbFwiLHZhbHVlOlVwZ3JhZGVQcm9wb3NhbC5lbmNvZGUodCkuZmluaXNoKCl9KX07JGjNj19vbmNlLlVwZ3JhZGVQcm9wb3NhbChVcGdyYWRlUHJvcG9zYWwpO2Z1bmN0aW9uIGwoKXtyZXR1cm57cmV2aXNpb25OdW1iZXI6QmlnSW50KDApLHJldmlzaW9uSGVpZ2h0OkJpZ0ludCgwKX19Y29uc3QgSGVpZ2h0PXt0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5IZWlnaHRcIixlbmNvZGU6KHQsZT1uLmNyZWF0ZSgpKT0+KHQucmV2aXNpb25OdW1iZXIhPT1CaWdJbnQoMCkmJmUudWludDMyKDgpLnVpbnQ2NCh0LnJldmlzaW9uTnVtYmVyKSx0LnJldmlzaW9uSGVpZ2h0IT09QmlnSW50KDApJiZlLnVpbnQzMigxNikudWludDY0KHQucmV2aXNpb25IZWlnaHQpLGUpLGRlY29kZSh0LGUpe2NvbnN0IG49dCBpbnN0YW5jZW9mIGk/dDpuZXcgaSh0KTtsZXQgbz12b2lkIDA9PT1lP24ubGVuOm4ucG9zK2U7Y29uc3Qgcz1sKCk7Zm9yKDtuLnBvczxvOyl7Y29uc3QgdD1uLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOnMucmV2aXNpb25OdW1iZXI9bi51aW50NjQoKTticmVhaztjYXNlIDI6cy5yZXZpc2lvbkhlaWdodD1uLnVpbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JnQpfX1yZXR1cm4gc30sZnJvbUpTT046dD0+KHtyZXZpc2lvbk51bWJlcjpvKHQucmV2aXNpb25OdW1iZXIpP0JpZ0ludCh0LnJldmlzaW9uTnVtYmVyLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxyZXZpc2lvbkhlaWdodDpvKHQucmV2aXNpb25IZWlnaHQpP0JpZ0ludCh0LnJldmlzaW9uSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTih0KXtjb25zdCBlPXt9O3JldHVybiB2b2lkIDAhPT10LnJldmlzaW9uTnVtYmVyJiYoZS5yZXZpc2lvbk51bWJlcj0odC5yZXZpc2lvbk51bWJlcnx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT10LnJldmlzaW9uSGVpZ2h0JiYoZS5yZXZpc2lvbkhlaWdodD0odC5yZXZpc2lvbkhlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSxlfSxmcm9tUGFydGlhbCh0KXtjb25zdCBlPWwoKTtyZXR1cm4gZS5yZXZpc2lvbk51bWJlcj12b2lkIDAhPT10LnJldmlzaW9uTnVtYmVyJiZudWxsIT09dC5yZXZpc2lvbk51bWJlcj9CaWdJbnQodC5yZXZpc2lvbk51bWJlci50b1N0cmluZygpKTpCaWdJbnQoMCksZS5yZXZpc2lvbkhlaWdodD12b2lkIDAhPT10LnJldmlzaW9uSGVpZ2h0JiZudWxsIT09dC5yZXZpc2lvbkhlaWdodD9CaWdJbnQodC5yZXZpc2lvbkhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksZX0sZnJvbVByb3RvTXNnOnQ9PkhlaWdodC5kZWNvZGUodC52YWx1ZSksdG9Qcm90bzp0PT5IZWlnaHQuZW5jb2RlKHQpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6dD0+KHt0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5IZWlnaHRcIix2YWx1ZTpIZWlnaHQuZW5jb2RlKHQpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5IZWlnaHQoSGVpZ2h0KTtjb25zdCBQYXJhbXM9e3R5cGVVcmw6XCIvaWJjLmNvcmUuY2xpZW50LnYxLlBhcmFtc1wiLGVuY29kZSh0LGU9bi5jcmVhdGUoKSl7Zm9yKGNvbnN0IGkgb2YgdC5hbGxvd2VkQ2xpZW50cyllLnVpbnQzMigxMCkuc3RyaW5nKGkpO3JldHVybiBlfSxkZWNvZGUodCxlKXtjb25zdCBuPXQgaW5zdGFuY2VvZiBpP3Q6bmV3IGkodCk7bGV0IG89dm9pZCAwPT09ZT9uLmxlbjpuLnBvcytlO2NvbnN0IHM9e2FsbG93ZWRDbGllbnRzOltdfTtmb3IoO24ucG9zPG87KXtjb25zdCB0PW4udWludDMyKCk7aWYodD4+PjM9PTEpcy5hbGxvd2VkQ2xpZW50cy5wdXNoKG4uc3RyaW5nKCkpO2Vsc2Ugbi5za2lwVHlwZSg3JnQpfXJldHVybiBzfSxmcm9tSlNPTjp0PT4oe2FsbG93ZWRDbGllbnRzOkFycmF5LmlzQXJyYXkodD8uYWxsb3dlZENsaWVudHMpP3QuYWxsb3dlZENsaWVudHMubWFwKCh0PT5TdHJpbmcodCkpKTpbXX0pLHRvSlNPTih0KXtjb25zdCBlPXt9O3JldHVybiB0LmFsbG93ZWRDbGllbnRzP2UuYWxsb3dlZENsaWVudHM9dC5hbGxvd2VkQ2xpZW50cy5tYXAoKHQ9PnQpKTplLmFsbG93ZWRDbGllbnRzPVtdLGV9LGZyb21QYXJ0aWFsKHQpe2NvbnN0IGU9e2FsbG93ZWRDbGllbnRzOltdfTtyZXR1cm4gZS5hbGxvd2VkQ2xpZW50cz10LmFsbG93ZWRDbGllbnRzPy5tYXAoKHQ9PnQpKXx8W10sZX0sZnJvbVByb3RvTXNnOnQ9PlBhcmFtcy5kZWNvZGUodC52YWx1ZSksdG9Qcm90bzp0PT5QYXJhbXMuZW5jb2RlKHQpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6dD0+KHt0eXBlVXJsOlwiL2liYy5jb3JlLmNsaWVudC52MS5QYXJhbXNcIix2YWx1ZTpQYXJhbXMuZW5jb2RlKHQpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5QYXJhbXMoUGFyYW1zKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IklkZW50aWZpZWRDbGllbnRTdGF0ZSI6WyJJZGVudGlmaWVkQ2xpZW50U3RhdGUiXSwiQ29uc2Vuc3VzU3RhdGVXaXRoSGVpZ2h0IjpbIkNvbnNlbnN1c1N0YXRlV2l0aEhlaWdodCJdLCJDbGllbnRDb25zZW5zdXNTdGF0ZXMiOlsiQ2xpZW50Q29uc2Vuc3VzU3RhdGVzIl0sIkNsaWVudFVwZGF0ZVByb3Bvc2FsIjpbIkNsaWVudFVwZGF0ZVByb3Bvc2FsIl0sIlVwZ3JhZGVQcm9wb3NhbCI6WyJVcGdyYWRlUHJvcG9zYWwiXSwiSGVpZ2h0IjpbIkhlaWdodCJdLCJQYXJhbXMiOlsiUGFyYW1zIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEXM//FYAQAAWAEAADUAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2pzb24tc2FmZS5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAlXL0NwgABAMIAAQA+AAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9zdHJpZGUvc3Rha2VpYmMvdHguanN7ImltcG9ydHMiOlsiLi92YWxpZGF0b3IuanMiLCIuLi8uLi9jb3Ntb3MvYmFzZS92MWJldGExL2NvaW4uanMiLCIuLi8uLi9iaW5hcnkuanMiLCIuLi8uLi9kZWNpbWFscy5qcyIsIi4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJBdXRoelBlcm1pc3Npb25DaGFuZ2UiLCJBdXRoelBlcm1pc3Npb25DaGFuZ2VTREtUeXBlIiwiTXNnQWRkVmFsaWRhdG9ycyIsIk1zZ0FkZFZhbGlkYXRvcnNSZXNwb25zZSIsIk1zZ0NhbGlicmF0ZURlbGVnYXRpb24iLCJNc2dDYWxpYnJhdGVEZWxlZ2F0aW9uUmVzcG9uc2UiLCJNc2dDaGFuZ2VWYWxpZGF0b3JXZWlnaHRzIiwiTXNnQ2hhbmdlVmFsaWRhdG9yV2VpZ2h0c1Jlc3BvbnNlIiwiTXNnQ2xhaW1VbmRlbGVnYXRlZFRva2VucyIsIk1zZ0NsYWltVW5kZWxlZ2F0ZWRUb2tlbnNSZXNwb25zZSIsIk1zZ0NsZWFyQmFsYW5jZSIsIk1zZ0NsZWFyQmFsYW5jZVJlc3BvbnNlIiwiTXNnQ2xvc2VEZWxlZ2F0aW9uQ2hhbm5lbCIsIk1zZ0Nsb3NlRGVsZWdhdGlvbkNoYW5uZWxSZXNwb25zZSIsIk1zZ0NyZWF0ZVRyYWRlUm91dGUiLCJNc2dDcmVhdGVUcmFkZVJvdXRlUmVzcG9uc2UiLCJNc2dEZWxldGVUcmFkZVJvdXRlIiwiTXNnRGVsZXRlVHJhZGVSb3V0ZVJlc3BvbnNlIiwiTXNnRGVsZXRlVmFsaWRhdG9yIiwiTXNnRGVsZXRlVmFsaWRhdG9yUmVzcG9uc2UiLCJNc2dMU01MaXF1aWRTdGFrZSIsIk1zZ0xTTUxpcXVpZFN0YWtlUmVzcG9uc2UiLCJNc2dMaXF1aWRTdGFrZSIsIk1zZ0xpcXVpZFN0YWtlUmVzcG9uc2UiLCJNc2dSZWJhbGFuY2VWYWxpZGF0b3JzIiwiTXNnUmViYWxhbmNlVmFsaWRhdG9yc1Jlc3BvbnNlIiwiTXNnUmVkZWVtU3Rha2UiLCJNc2dSZWRlZW1TdGFrZVJlc3BvbnNlIiwiTXNnUmVnaXN0ZXJIb3N0Wm9uZSIsIk1zZ1JlZ2lzdGVySG9zdFpvbmVSZXNwb25zZSIsIk1zZ1Jlc3RvcmVJbnRlcmNoYWluQWNjb3VudCIsIk1zZ1Jlc3RvcmVJbnRlcmNoYWluQWNjb3VudFJlc3BvbnNlIiwiTXNnUmVzdW1lSG9zdFpvbmUiLCJNc2dSZXN1bWVIb3N0Wm9uZVJlc3BvbnNlIiwiTXNnU2V0Q29tbXVuaXR5UG9vbFJlYmF0ZSIsIk1zZ1NldENvbW11bml0eVBvb2xSZWJhdGVSZXNwb25zZSIsIk1zZ1RvZ2dsZVRyYWRlQ29udHJvbGxlciIsIk1zZ1RvZ2dsZVRyYWRlQ29udHJvbGxlclJlc3BvbnNlIiwiTXNnVXBkYXRlSG9zdFpvbmVQYXJhbXMiLCJNc2dVcGRhdGVIb3N0Wm9uZVBhcmFtc1Jlc3BvbnNlIiwiTXNnVXBkYXRlSW5uZXJSZWRlbXB0aW9uUmF0ZUJvdW5kcyIsIk1zZ1VwZGF0ZUlubmVyUmVkZW1wdGlvblJhdGVCb3VuZHNSZXNwb25zZSIsIk1zZ1VwZGF0ZVRyYWRlUm91dGUiLCJNc2dVcGRhdGVUcmFkZVJvdXRlUmVzcG9uc2UiLCJNc2dVcGRhdGVWYWxpZGF0b3JTaGFyZXNFeGNoUmF0ZSIsIk1zZ1VwZGF0ZVZhbGlkYXRvclNoYXJlc0V4Y2hSYXRlUmVzcG9uc2UiLCJWYWxpZGF0b3JXZWlnaHQiLCJhdXRoelBlcm1pc3Npb25DaGFuZ2VGcm9tSlNPTiIsImF1dGh6UGVybWlzc2lvbkNoYW5nZVRvSlNPTiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsbyx0LG4scixhOyRozY9faW1wb3J0cyhbW1wiLi92YWxpZGF0b3IuanNcIiwgW1tcIlZhbGlkYXRvclwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9jb3Ntb3MvYmFzZS92MWJldGExL2NvaW4uanNcIiwgW1tcIkNvaW5cIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9kZWNpbWFscy5qc1wiLCBbW1wiRGVjaW1hbFwiLFskaM2PX2EgPT4gKHIgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKGEgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGF1dGh6UGVybWlzc2lvbkNoYW5nZUZyb21KU09OLCduYW1lJyx7dmFsdWU6XCJhdXRoelBlcm1pc3Npb25DaGFuZ2VGcm9tSlNPTlwifSk7JGjNj19vbmNlLmF1dGh6UGVybWlzc2lvbkNoYW5nZUZyb21KU09OKGF1dGh6UGVybWlzc2lvbkNoYW5nZUZyb21KU09OKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYXV0aHpQZXJtaXNzaW9uQ2hhbmdlVG9KU09OLCduYW1lJyx7dmFsdWU6XCJhdXRoelBlcm1pc3Npb25DaGFuZ2VUb0pTT05cIn0pOyRozY9fb25jZS5hdXRoelBlcm1pc3Npb25DaGFuZ2VUb0pTT04oYXV0aHpQZXJtaXNzaW9uQ2hhbmdlVG9KU09OKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkY82PX0F1dGh6UGVybWlzc2lvbkNoYW5nZTskaM2PX2xpdmUuQXV0aHpQZXJtaXNzaW9uQ2hhbmdlKCRjzY9fQXV0aHpQZXJtaXNzaW9uQ2hhbmdlKTshZnVuY3Rpb24oZSl7ZVtlLkdSQU5UPTBdPVwiR1JBTlRcIixlW2UuUkVWT0tFPTFdPVwiUkVWT0tFXCIsZVtlLlVOUkVDT0dOSVpFRD0tMV09XCJVTlJFQ09HTklaRURcIn0oQXV0aHpQZXJtaXNzaW9uQ2hhbmdlfHwoQXV0aHpQZXJtaXNzaW9uQ2hhbmdlPXt9KSk7Y29uc3QgQXV0aHpQZXJtaXNzaW9uQ2hhbmdlU0RLVHlwZT1BdXRoelBlcm1pc3Npb25DaGFuZ2U7JGjNj19vbmNlLkF1dGh6UGVybWlzc2lvbkNoYW5nZVNES1R5cGUoQXV0aHpQZXJtaXNzaW9uQ2hhbmdlU0RLVHlwZSk7ZnVuY3Rpb24gYXV0aHpQZXJtaXNzaW9uQ2hhbmdlRnJvbUpTT04oZSl7c3dpdGNoKGUpe2Nhc2UgMDpjYXNlXCJHUkFOVFwiOnJldHVybiBBdXRoelBlcm1pc3Npb25DaGFuZ2UuR1JBTlQ7Y2FzZSAxOmNhc2VcIlJFVk9LRVwiOnJldHVybiBBdXRoelBlcm1pc3Npb25DaGFuZ2UuUkVWT0tFO2RlZmF1bHQ6cmV0dXJuIEF1dGh6UGVybWlzc2lvbkNoYW5nZS5VTlJFQ09HTklaRUR9fWZ1bmN0aW9uIGF1dGh6UGVybWlzc2lvbkNoYW5nZVRvSlNPTihlKXtzd2l0Y2goZSl7Y2FzZSBBdXRoelBlcm1pc3Npb25DaGFuZ2UuR1JBTlQ6cmV0dXJuXCJHUkFOVFwiO2Nhc2UgQXV0aHpQZXJtaXNzaW9uQ2hhbmdlLlJFVk9LRTpyZXR1cm5cIlJFVk9LRVwiO2Nhc2UgQXV0aHpQZXJtaXNzaW9uQ2hhbmdlLlVOUkVDT0dOSVpFRDpkZWZhdWx0OnJldHVyblwiVU5SRUNPR05JWkVEXCJ9fWNvbnN0IE1zZ1VwZGF0ZUlubmVyUmVkZW1wdGlvblJhdGVCb3VuZHM9e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ1VwZGF0ZUlubmVyUmVkZW1wdGlvblJhdGVCb3VuZHNcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmNyZWF0b3ImJm8udWludDMyKDEwKS5zdHJpbmcoZS5jcmVhdG9yKSxcIlwiIT09ZS5jaGFpbklkJiZvLnVpbnQzMigxOCkuc3RyaW5nKGUuY2hhaW5JZCksXCJcIiE9PWUubWluSW5uZXJSZWRlbXB0aW9uUmF0ZSYmby51aW50MzIoMjYpLnN0cmluZyhyLmZyb21Vc2VySW5wdXQoZS5taW5Jbm5lclJlZGVtcHRpb25SYXRlLDE4KS5hdG9taWNzKSxcIlwiIT09ZS5tYXhJbm5lclJlZGVtcHRpb25SYXRlJiZvLnVpbnQzMigzNCkuc3RyaW5nKHIuZnJvbVVzZXJJbnB1dChlLm1heElubmVyUmVkZW1wdGlvblJhdGUsMTgpLmF0b21pY3MpLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgYT12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3Qgcz17Y3JlYXRvcjpcIlwiLGNoYWluSWQ6XCJcIixtaW5Jbm5lclJlZGVtcHRpb25SYXRlOlwiXCIsbWF4SW5uZXJSZWRlbXB0aW9uUmF0ZTpcIlwifTtmb3IoO24ucG9zPGE7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6cy5jcmVhdG9yPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnMuY2hhaW5JZD1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpzLm1pbklubmVyUmVkZW1wdGlvblJhdGU9ci5mcm9tQXRvbWljcyhuLnN0cmluZygpLDE4KS50b1N0cmluZygpO2JyZWFrO2Nhc2UgNDpzLm1heElubmVyUmVkZW1wdGlvblJhdGU9ci5mcm9tQXRvbWljcyhuLnN0cmluZygpLDE4KS50b1N0cmluZygpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gc30sZnJvbUpTT046ZT0+KHtjcmVhdG9yOmEoZS5jcmVhdG9yKT9TdHJpbmcoZS5jcmVhdG9yKTpcIlwiLGNoYWluSWQ6YShlLmNoYWluSWQpP1N0cmluZyhlLmNoYWluSWQpOlwiXCIsbWluSW5uZXJSZWRlbXB0aW9uUmF0ZTphKGUubWluSW5uZXJSZWRlbXB0aW9uUmF0ZSk/U3RyaW5nKGUubWluSW5uZXJSZWRlbXB0aW9uUmF0ZSk6XCJcIixtYXhJbm5lclJlZGVtcHRpb25SYXRlOmEoZS5tYXhJbm5lclJlZGVtcHRpb25SYXRlKT9TdHJpbmcoZS5tYXhJbm5lclJlZGVtcHRpb25SYXRlKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuY3JlYXRvciYmKG8uY3JlYXRvcj1lLmNyZWF0b3IpLHZvaWQgMCE9PWUuY2hhaW5JZCYmKG8uY2hhaW5JZD1lLmNoYWluSWQpLHZvaWQgMCE9PWUubWluSW5uZXJSZWRlbXB0aW9uUmF0ZSYmKG8ubWluSW5uZXJSZWRlbXB0aW9uUmF0ZT1lLm1pbklubmVyUmVkZW1wdGlvblJhdGUpLHZvaWQgMCE9PWUubWF4SW5uZXJSZWRlbXB0aW9uUmF0ZSYmKG8ubWF4SW5uZXJSZWRlbXB0aW9uUmF0ZT1lLm1heElubmVyUmVkZW1wdGlvblJhdGUpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2NyZWF0b3I6XCJcIixjaGFpbklkOlwiXCIsbWluSW5uZXJSZWRlbXB0aW9uUmF0ZTpcIlwiLG1heElubmVyUmVkZW1wdGlvblJhdGU6XCJcIn07cmV0dXJuIG8uY3JlYXRvcj1lLmNyZWF0b3I/P1wiXCIsby5jaGFpbklkPWUuY2hhaW5JZD8/XCJcIixvLm1pbklubmVyUmVkZW1wdGlvblJhdGU9ZS5taW5Jbm5lclJlZGVtcHRpb25SYXRlPz9cIlwiLG8ubWF4SW5uZXJSZWRlbXB0aW9uUmF0ZT1lLm1heElubmVyUmVkZW1wdGlvblJhdGU/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9Pk1zZ1VwZGF0ZUlubmVyUmVkZW1wdGlvblJhdGVCb3VuZHMuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnVXBkYXRlSW5uZXJSZWRlbXB0aW9uUmF0ZUJvdW5kcy5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ1VwZGF0ZUlubmVyUmVkZW1wdGlvblJhdGVCb3VuZHNcIix2YWx1ZTpNc2dVcGRhdGVJbm5lclJlZGVtcHRpb25SYXRlQm91bmRzLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnVXBkYXRlSW5uZXJSZWRlbXB0aW9uUmF0ZUJvdW5kcyhNc2dVcGRhdGVJbm5lclJlZGVtcHRpb25SYXRlQm91bmRzKTtjb25zdCBNc2dVcGRhdGVJbm5lclJlZGVtcHRpb25SYXRlQm91bmRzUmVzcG9uc2U9e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ1VwZGF0ZUlubmVyUmVkZW1wdGlvblJhdGVCb3VuZHNSZXNwb25zZVwiLGVuY29kZTooZSxvPW4uY3JlYXRlKCkpPT5vLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgcj12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT17fTtmb3IoO24ucG9zPHI7KXtjb25zdCBlPW4udWludDMyKCk7bi5za2lwVHlwZSg3JmUpfXJldHVybiBhfSxmcm9tSlNPTjplPT4oe30pLHRvSlNPTjplPT4oe30pLGZyb21QYXJ0aWFsOmU9Pih7fSksZnJvbVByb3RvTXNnOmU9Pk1zZ1VwZGF0ZUlubmVyUmVkZW1wdGlvblJhdGVCb3VuZHNSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dVcGRhdGVJbm5lclJlZGVtcHRpb25SYXRlQm91bmRzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dVcGRhdGVJbm5lclJlZGVtcHRpb25SYXRlQm91bmRzUmVzcG9uc2VcIix2YWx1ZTpNc2dVcGRhdGVJbm5lclJlZGVtcHRpb25SYXRlQm91bmRzUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dVcGRhdGVJbm5lclJlZGVtcHRpb25SYXRlQm91bmRzUmVzcG9uc2UoTXNnVXBkYXRlSW5uZXJSZWRlbXB0aW9uUmF0ZUJvdW5kc1Jlc3BvbnNlKTtjb25zdCBNc2dMaXF1aWRTdGFrZT17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnTGlxdWlkU3Rha2VcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmNyZWF0b3ImJm8udWludDMyKDEwKS5zdHJpbmcoZS5jcmVhdG9yKSxcIlwiIT09ZS5hbW91bnQmJm8udWludDMyKDE4KS5zdHJpbmcoZS5hbW91bnQpLFwiXCIhPT1lLmhvc3REZW5vbSYmby51aW50MzIoMjYpLnN0cmluZyhlLmhvc3REZW5vbSksbyksZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXtjcmVhdG9yOlwiXCIsYW1vdW50OlwiXCIsaG9zdERlbm9tOlwiXCJ9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLmNyZWF0b3I9bi5zdHJpbmcoKTticmVhaztjYXNlIDI6YS5hbW91bnQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDM6YS5ob3N0RGVub209bi5zdHJpbmcoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7Y3JlYXRvcjphKGUuY3JlYXRvcik/U3RyaW5nKGUuY3JlYXRvcik6XCJcIixhbW91bnQ6YShlLmFtb3VudCk/U3RyaW5nKGUuYW1vdW50KTpcIlwiLGhvc3REZW5vbTphKGUuaG9zdERlbm9tKT9TdHJpbmcoZS5ob3N0RGVub20pOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5jcmVhdG9yJiYoby5jcmVhdG9yPWUuY3JlYXRvciksdm9pZCAwIT09ZS5hbW91bnQmJihvLmFtb3VudD1lLmFtb3VudCksdm9pZCAwIT09ZS5ob3N0RGVub20mJihvLmhvc3REZW5vbT1lLmhvc3REZW5vbSksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17Y3JlYXRvcjpcIlwiLGFtb3VudDpcIlwiLGhvc3REZW5vbTpcIlwifTtyZXR1cm4gby5jcmVhdG9yPWUuY3JlYXRvcj8/XCJcIixvLmFtb3VudD1lLmFtb3VudD8/XCJcIixvLmhvc3REZW5vbT1lLmhvc3REZW5vbT8/XCJcIixvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnTGlxdWlkU3Rha2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnTGlxdWlkU3Rha2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dMaXF1aWRTdGFrZVwiLHZhbHVlOk1zZ0xpcXVpZFN0YWtlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnTGlxdWlkU3Rha2UoTXNnTGlxdWlkU3Rha2UpO2Z1bmN0aW9uIHMoKXtyZXR1cm57c3RUb2tlbjpvLmZyb21QYXJ0aWFsKHt9KX19Y29uc3QgTXNnTGlxdWlkU3Rha2VSZXNwb25zZT17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnTGlxdWlkU3Rha2VSZXNwb25zZVwiLGVuY29kZTooZSx0PW4uY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5zdFRva2VuJiZvLmVuY29kZShlLnN0VG9rZW4sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdCksZGVjb2RlKGUsbil7Y29uc3Qgcj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCBhPXZvaWQgMD09PW4/ci5sZW46ci5wb3Mrbjtjb25zdCBpPXMoKTtmb3IoO3IucG9zPGE7KXtjb25zdCBlPXIudWludDMyKCk7aWYoZT4+PjM9PTEpaS5zdFRva2VuPW8uZGVjb2RlKHIsci51aW50MzIoKSk7ZWxzZSByLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7c3RUb2tlbjphKGUuc3RUb2tlbik/by5mcm9tSlNPTihlLnN0VG9rZW4pOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnN0VG9rZW4mJih0LnN0VG9rZW49ZS5zdFRva2VuP28udG9KU09OKGUuc3RUb2tlbik6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXMoKTtyZXR1cm4gdC5zdFRva2VuPXZvaWQgMCE9PWUuc3RUb2tlbiYmbnVsbCE9PWUuc3RUb2tlbj9vLmZyb21QYXJ0aWFsKGUuc3RUb2tlbik6dm9pZCAwLHR9LGZyb21Qcm90b01zZzplPT5Nc2dMaXF1aWRTdGFrZVJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ0xpcXVpZFN0YWtlUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dMaXF1aWRTdGFrZVJlc3BvbnNlXCIsdmFsdWU6TXNnTGlxdWlkU3Rha2VSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0xpcXVpZFN0YWtlUmVzcG9uc2UoTXNnTGlxdWlkU3Rha2VSZXNwb25zZSk7Y29uc3QgTXNnTFNNTGlxdWlkU3Rha2U9e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ0xTTUxpcXVpZFN0YWtlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9PihcIlwiIT09ZS5jcmVhdG9yJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuY3JlYXRvciksXCJcIiE9PWUuYW1vdW50JiZvLnVpbnQzMigxOCkuc3RyaW5nKGUuYW1vdW50KSxcIlwiIT09ZS5sc21Ub2tlbkliY0Rlbm9tJiZvLnVpbnQzMigyNikuc3RyaW5nKGUubHNtVG9rZW5JYmNEZW5vbSksbyksZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXtjcmVhdG9yOlwiXCIsYW1vdW50OlwiXCIsbHNtVG9rZW5JYmNEZW5vbTpcIlwifTtmb3IoO24ucG9zPHI7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS5jcmVhdG9yPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmEuYW1vdW50PW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmEubHNtVG9rZW5JYmNEZW5vbT1uLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHtjcmVhdG9yOmEoZS5jcmVhdG9yKT9TdHJpbmcoZS5jcmVhdG9yKTpcIlwiLGFtb3VudDphKGUuYW1vdW50KT9TdHJpbmcoZS5hbW91bnQpOlwiXCIsbHNtVG9rZW5JYmNEZW5vbTphKGUubHNtVG9rZW5JYmNEZW5vbSk/U3RyaW5nKGUubHNtVG9rZW5JYmNEZW5vbSk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmNyZWF0b3ImJihvLmNyZWF0b3I9ZS5jcmVhdG9yKSx2b2lkIDAhPT1lLmFtb3VudCYmKG8uYW1vdW50PWUuYW1vdW50KSx2b2lkIDAhPT1lLmxzbVRva2VuSWJjRGVub20mJihvLmxzbVRva2VuSWJjRGVub209ZS5sc21Ub2tlbkliY0Rlbm9tKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtjcmVhdG9yOlwiXCIsYW1vdW50OlwiXCIsbHNtVG9rZW5JYmNEZW5vbTpcIlwifTtyZXR1cm4gby5jcmVhdG9yPWUuY3JlYXRvcj8/XCJcIixvLmFtb3VudD1lLmFtb3VudD8/XCJcIixvLmxzbVRva2VuSWJjRGVub209ZS5sc21Ub2tlbkliY0Rlbm9tPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5Nc2dMU01MaXF1aWRTdGFrZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dMU01MaXF1aWRTdGFrZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ0xTTUxpcXVpZFN0YWtlXCIsdmFsdWU6TXNnTFNNTGlxdWlkU3Rha2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dMU01MaXF1aWRTdGFrZShNc2dMU01MaXF1aWRTdGFrZSk7Y29uc3QgTXNnTFNNTGlxdWlkU3Rha2VSZXNwb25zZT17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnTFNNTGlxdWlkU3Rha2VSZXNwb25zZVwiLGVuY29kZTooZSxvPW4uY3JlYXRlKCkpPT4oITA9PT1lLnRyYW5zYWN0aW9uQ29tcGxldGUmJm8udWludDMyKDgpLmJvb2woZS50cmFuc2FjdGlvbkNvbXBsZXRlKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9e3RyYW5zYWN0aW9uQ29tcGxldGU6ITF9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtpZihlPj4+Mz09MSlhLnRyYW5zYWN0aW9uQ29tcGxldGU9bi5ib29sKCk7ZWxzZSBuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7dHJhbnNhY3Rpb25Db21wbGV0ZTohIWEoZS50cmFuc2FjdGlvbkNvbXBsZXRlKSYmQm9vbGVhbihlLnRyYW5zYWN0aW9uQ29tcGxldGUpfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUudHJhbnNhY3Rpb25Db21wbGV0ZSYmKG8udHJhbnNhY3Rpb25Db21wbGV0ZT1lLnRyYW5zYWN0aW9uQ29tcGxldGUpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e3RyYW5zYWN0aW9uQ29tcGxldGU6ITF9O3JldHVybiBvLnRyYW5zYWN0aW9uQ29tcGxldGU9ZS50cmFuc2FjdGlvbkNvbXBsZXRlPz8hMSxvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnTFNNTGlxdWlkU3Rha2VSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dMU01MaXF1aWRTdGFrZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnTFNNTGlxdWlkU3Rha2VSZXNwb25zZVwiLHZhbHVlOk1zZ0xTTUxpcXVpZFN0YWtlUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dMU01MaXF1aWRTdGFrZVJlc3BvbnNlKE1zZ0xTTUxpcXVpZFN0YWtlUmVzcG9uc2UpO2NvbnN0IE1zZ0NsZWFyQmFsYW5jZT17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQ2xlYXJCYWxhbmNlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9PihcIlwiIT09ZS5jcmVhdG9yJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuY3JlYXRvciksXCJcIiE9PWUuY2hhaW5JZCYmby51aW50MzIoMTgpLnN0cmluZyhlLmNoYWluSWQpLFwiXCIhPT1lLmFtb3VudCYmby51aW50MzIoMjYpLnN0cmluZyhlLmFtb3VudCksXCJcIiE9PWUuY2hhbm5lbCYmby51aW50MzIoMzQpLnN0cmluZyhlLmNoYW5uZWwpLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgcj12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT17Y3JlYXRvcjpcIlwiLGNoYWluSWQ6XCJcIixhbW91bnQ6XCJcIixjaGFubmVsOlwiXCJ9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLmNyZWF0b3I9bi5zdHJpbmcoKTticmVhaztjYXNlIDI6YS5jaGFpbklkPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmEuYW1vdW50PW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OmEuY2hhbm5lbD1uLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHtjcmVhdG9yOmEoZS5jcmVhdG9yKT9TdHJpbmcoZS5jcmVhdG9yKTpcIlwiLGNoYWluSWQ6YShlLmNoYWluSWQpP1N0cmluZyhlLmNoYWluSWQpOlwiXCIsYW1vdW50OmEoZS5hbW91bnQpP1N0cmluZyhlLmFtb3VudCk6XCJcIixjaGFubmVsOmEoZS5jaGFubmVsKT9TdHJpbmcoZS5jaGFubmVsKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuY3JlYXRvciYmKG8uY3JlYXRvcj1lLmNyZWF0b3IpLHZvaWQgMCE9PWUuY2hhaW5JZCYmKG8uY2hhaW5JZD1lLmNoYWluSWQpLHZvaWQgMCE9PWUuYW1vdW50JiYoby5hbW91bnQ9ZS5hbW91bnQpLHZvaWQgMCE9PWUuY2hhbm5lbCYmKG8uY2hhbm5lbD1lLmNoYW5uZWwpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2NyZWF0b3I6XCJcIixjaGFpbklkOlwiXCIsYW1vdW50OlwiXCIsY2hhbm5lbDpcIlwifTtyZXR1cm4gby5jcmVhdG9yPWUuY3JlYXRvcj8/XCJcIixvLmNoYWluSWQ9ZS5jaGFpbklkPz9cIlwiLG8uYW1vdW50PWUuYW1vdW50Pz9cIlwiLG8uY2hhbm5lbD1lLmNoYW5uZWw/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9Pk1zZ0NsZWFyQmFsYW5jZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dDbGVhckJhbGFuY2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dDbGVhckJhbGFuY2VcIix2YWx1ZTpNc2dDbGVhckJhbGFuY2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dDbGVhckJhbGFuY2UoTXNnQ2xlYXJCYWxhbmNlKTtjb25zdCBNc2dDbGVhckJhbGFuY2VSZXNwb25zZT17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQ2xlYXJCYWxhbmNlUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9e307Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO24uc2tpcFR5cGUoNyZlKX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5Nc2dDbGVhckJhbGFuY2VSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dDbGVhckJhbGFuY2VSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ0NsZWFyQmFsYW5jZVJlc3BvbnNlXCIsdmFsdWU6TXNnQ2xlYXJCYWxhbmNlUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dDbGVhckJhbGFuY2VSZXNwb25zZShNc2dDbGVhckJhbGFuY2VSZXNwb25zZSk7Y29uc3QgTXNnUmVkZWVtU3Rha2U9e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ1JlZGVlbVN0YWtlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9PihcIlwiIT09ZS5jcmVhdG9yJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuY3JlYXRvciksXCJcIiE9PWUuYW1vdW50JiZvLnVpbnQzMigxOCkuc3RyaW5nKGUuYW1vdW50KSxcIlwiIT09ZS5ob3N0Wm9uZSYmby51aW50MzIoMjYpLnN0cmluZyhlLmhvc3Rab25lKSxcIlwiIT09ZS5yZWNlaXZlciYmby51aW50MzIoMzQpLnN0cmluZyhlLnJlY2VpdmVyKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9e2NyZWF0b3I6XCJcIixhbW91bnQ6XCJcIixob3N0Wm9uZTpcIlwiLHJlY2VpdmVyOlwiXCJ9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLmNyZWF0b3I9bi5zdHJpbmcoKTticmVhaztjYXNlIDI6YS5hbW91bnQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDM6YS5ob3N0Wm9uZT1uLnN0cmluZygpO2JyZWFrO2Nhc2UgNDphLnJlY2VpdmVyPW4uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe2NyZWF0b3I6YShlLmNyZWF0b3IpP1N0cmluZyhlLmNyZWF0b3IpOlwiXCIsYW1vdW50OmEoZS5hbW91bnQpP1N0cmluZyhlLmFtb3VudCk6XCJcIixob3N0Wm9uZTphKGUuaG9zdFpvbmUpP1N0cmluZyhlLmhvc3Rab25lKTpcIlwiLHJlY2VpdmVyOmEoZS5yZWNlaXZlcik/U3RyaW5nKGUucmVjZWl2ZXIpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5jcmVhdG9yJiYoby5jcmVhdG9yPWUuY3JlYXRvciksdm9pZCAwIT09ZS5hbW91bnQmJihvLmFtb3VudD1lLmFtb3VudCksdm9pZCAwIT09ZS5ob3N0Wm9uZSYmKG8uaG9zdFpvbmU9ZS5ob3N0Wm9uZSksdm9pZCAwIT09ZS5yZWNlaXZlciYmKG8ucmVjZWl2ZXI9ZS5yZWNlaXZlciksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17Y3JlYXRvcjpcIlwiLGFtb3VudDpcIlwiLGhvc3Rab25lOlwiXCIscmVjZWl2ZXI6XCJcIn07cmV0dXJuIG8uY3JlYXRvcj1lLmNyZWF0b3I/P1wiXCIsby5hbW91bnQ9ZS5hbW91bnQ/P1wiXCIsby5ob3N0Wm9uZT1lLmhvc3Rab25lPz9cIlwiLG8ucmVjZWl2ZXI9ZS5yZWNlaXZlcj8/XCJcIixvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnUmVkZWVtU3Rha2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnUmVkZWVtU3Rha2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dSZWRlZW1TdGFrZVwiLHZhbHVlOk1zZ1JlZGVlbVN0YWtlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnUmVkZWVtU3Rha2UoTXNnUmVkZWVtU3Rha2UpO2NvbnN0IE1zZ1JlZGVlbVN0YWtlUmVzcG9uc2U9e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ1JlZGVlbVN0YWtlUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9e307Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO24uc2tpcFR5cGUoNyZlKX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5Nc2dSZWRlZW1TdGFrZVJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1JlZGVlbVN0YWtlUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dSZWRlZW1TdGFrZVJlc3BvbnNlXCIsdmFsdWU6TXNnUmVkZWVtU3Rha2VSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1JlZGVlbVN0YWtlUmVzcG9uc2UoTXNnUmVkZWVtU3Rha2VSZXNwb25zZSk7ZnVuY3Rpb24gaSgpe3JldHVybntjb25uZWN0aW9uSWQ6XCJcIixiZWNoMzJwcmVmaXg6XCJcIixob3N0RGVub206XCJcIixpYmNEZW5vbTpcIlwiLGNyZWF0b3I6XCJcIix0cmFuc2ZlckNoYW5uZWxJZDpcIlwiLHVuYm9uZGluZ1BlcmlvZDpCaWdJbnQoMCksbWluUmVkZW1wdGlvblJhdGU6XCJcIixtYXhSZWRlbXB0aW9uUmF0ZTpcIlwiLGxzbUxpcXVpZFN0YWtlRW5hYmxlZDohMSxjb21tdW5pdHlQb29sVHJlYXN1cnlBZGRyZXNzOlwiXCIsbWF4TWVzc2FnZXNQZXJJY2FUeDpCaWdJbnQoMCl9fWNvbnN0IE1zZ1JlZ2lzdGVySG9zdFpvbmU9e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ1JlZ2lzdGVySG9zdFpvbmVcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmNvbm5lY3Rpb25JZCYmby51aW50MzIoMTgpLnN0cmluZyhlLmNvbm5lY3Rpb25JZCksXCJcIiE9PWUuYmVjaDMycHJlZml4JiZvLnVpbnQzMig5OCkuc3RyaW5nKGUuYmVjaDMycHJlZml4KSxcIlwiIT09ZS5ob3N0RGVub20mJm8udWludDMyKDM0KS5zdHJpbmcoZS5ob3N0RGVub20pLFwiXCIhPT1lLmliY0Rlbm9tJiZvLnVpbnQzMig0Mikuc3RyaW5nKGUuaWJjRGVub20pLFwiXCIhPT1lLmNyZWF0b3ImJm8udWludDMyKDUwKS5zdHJpbmcoZS5jcmVhdG9yKSxcIlwiIT09ZS50cmFuc2ZlckNoYW5uZWxJZCYmby51aW50MzIoODIpLnN0cmluZyhlLnRyYW5zZmVyQ2hhbm5lbElkKSxlLnVuYm9uZGluZ1BlcmlvZCE9PUJpZ0ludCgwKSYmby51aW50MzIoODgpLnVpbnQ2NChlLnVuYm9uZGluZ1BlcmlvZCksXCJcIiE9PWUubWluUmVkZW1wdGlvblJhdGUmJm8udWludDMyKDEwNikuc3RyaW5nKHIuZnJvbVVzZXJJbnB1dChlLm1pblJlZGVtcHRpb25SYXRlLDE4KS5hdG9taWNzKSxcIlwiIT09ZS5tYXhSZWRlbXB0aW9uUmF0ZSYmby51aW50MzIoMTE0KS5zdHJpbmcoci5mcm9tVXNlcklucHV0KGUubWF4UmVkZW1wdGlvblJhdGUsMTgpLmF0b21pY3MpLCEwPT09ZS5sc21MaXF1aWRTdGFrZUVuYWJsZWQmJm8udWludDMyKDEyMCkuYm9vbChlLmxzbUxpcXVpZFN0YWtlRW5hYmxlZCksXCJcIiE9PWUuY29tbXVuaXR5UG9vbFRyZWFzdXJ5QWRkcmVzcyYmby51aW50MzIoMTMwKS5zdHJpbmcoZS5jb21tdW5pdHlQb29sVHJlYXN1cnlBZGRyZXNzKSxlLm1heE1lc3NhZ2VzUGVySWNhVHghPT1CaWdJbnQoMCkmJm8udWludDMyKDEzNikudWludDY0KGUubWF4TWVzc2FnZXNQZXJJY2FUeCksbyksZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCBhPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBzPWkoKTtmb3IoO24ucG9zPGE7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDI6cy5jb25uZWN0aW9uSWQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDEyOnMuYmVjaDMycHJlZml4PW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OnMuaG9zdERlbm9tPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSA1OnMuaWJjRGVub209bi5zdHJpbmcoKTticmVhaztjYXNlIDY6cy5jcmVhdG9yPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMDpzLnRyYW5zZmVyQ2hhbm5lbElkPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMTpzLnVuYm9uZGluZ1BlcmlvZD1uLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgMTM6cy5taW5SZWRlbXB0aW9uUmF0ZT1yLmZyb21BdG9taWNzKG4uc3RyaW5nKCksMTgpLnRvU3RyaW5nKCk7YnJlYWs7Y2FzZSAxNDpzLm1heFJlZGVtcHRpb25SYXRlPXIuZnJvbUF0b21pY3Mobi5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztjYXNlIDE1OnMubHNtTGlxdWlkU3Rha2VFbmFibGVkPW4uYm9vbCgpO2JyZWFrO2Nhc2UgMTY6cy5jb21tdW5pdHlQb29sVHJlYXN1cnlBZGRyZXNzPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAxNzpzLm1heE1lc3NhZ2VzUGVySWNhVHg9bi51aW50NjQoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIHN9LGZyb21KU09OOmU9Pih7Y29ubmVjdGlvbklkOmEoZS5jb25uZWN0aW9uSWQpP1N0cmluZyhlLmNvbm5lY3Rpb25JZCk6XCJcIixiZWNoMzJwcmVmaXg6YShlLmJlY2gzMnByZWZpeCk/U3RyaW5nKGUuYmVjaDMycHJlZml4KTpcIlwiLGhvc3REZW5vbTphKGUuaG9zdERlbm9tKT9TdHJpbmcoZS5ob3N0RGVub20pOlwiXCIsaWJjRGVub206YShlLmliY0Rlbm9tKT9TdHJpbmcoZS5pYmNEZW5vbSk6XCJcIixjcmVhdG9yOmEoZS5jcmVhdG9yKT9TdHJpbmcoZS5jcmVhdG9yKTpcIlwiLHRyYW5zZmVyQ2hhbm5lbElkOmEoZS50cmFuc2ZlckNoYW5uZWxJZCk/U3RyaW5nKGUudHJhbnNmZXJDaGFubmVsSWQpOlwiXCIsdW5ib25kaW5nUGVyaW9kOmEoZS51bmJvbmRpbmdQZXJpb2QpP0JpZ0ludChlLnVuYm9uZGluZ1BlcmlvZC50b1N0cmluZygpKTpCaWdJbnQoMCksbWluUmVkZW1wdGlvblJhdGU6YShlLm1pblJlZGVtcHRpb25SYXRlKT9TdHJpbmcoZS5taW5SZWRlbXB0aW9uUmF0ZSk6XCJcIixtYXhSZWRlbXB0aW9uUmF0ZTphKGUubWF4UmVkZW1wdGlvblJhdGUpP1N0cmluZyhlLm1heFJlZGVtcHRpb25SYXRlKTpcIlwiLGxzbUxpcXVpZFN0YWtlRW5hYmxlZDohIWEoZS5sc21MaXF1aWRTdGFrZUVuYWJsZWQpJiZCb29sZWFuKGUubHNtTGlxdWlkU3Rha2VFbmFibGVkKSxjb21tdW5pdHlQb29sVHJlYXN1cnlBZGRyZXNzOmEoZS5jb21tdW5pdHlQb29sVHJlYXN1cnlBZGRyZXNzKT9TdHJpbmcoZS5jb21tdW5pdHlQb29sVHJlYXN1cnlBZGRyZXNzKTpcIlwiLG1heE1lc3NhZ2VzUGVySWNhVHg6YShlLm1heE1lc3NhZ2VzUGVySWNhVHgpP0JpZ0ludChlLm1heE1lc3NhZ2VzUGVySWNhVHgudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuY29ubmVjdGlvbklkJiYoby5jb25uZWN0aW9uSWQ9ZS5jb25uZWN0aW9uSWQpLHZvaWQgMCE9PWUuYmVjaDMycHJlZml4JiYoby5iZWNoMzJwcmVmaXg9ZS5iZWNoMzJwcmVmaXgpLHZvaWQgMCE9PWUuaG9zdERlbm9tJiYoby5ob3N0RGVub209ZS5ob3N0RGVub20pLHZvaWQgMCE9PWUuaWJjRGVub20mJihvLmliY0Rlbm9tPWUuaWJjRGVub20pLHZvaWQgMCE9PWUuY3JlYXRvciYmKG8uY3JlYXRvcj1lLmNyZWF0b3IpLHZvaWQgMCE9PWUudHJhbnNmZXJDaGFubmVsSWQmJihvLnRyYW5zZmVyQ2hhbm5lbElkPWUudHJhbnNmZXJDaGFubmVsSWQpLHZvaWQgMCE9PWUudW5ib25kaW5nUGVyaW9kJiYoby51bmJvbmRpbmdQZXJpb2Q9KGUudW5ib25kaW5nUGVyaW9kfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUubWluUmVkZW1wdGlvblJhdGUmJihvLm1pblJlZGVtcHRpb25SYXRlPWUubWluUmVkZW1wdGlvblJhdGUpLHZvaWQgMCE9PWUubWF4UmVkZW1wdGlvblJhdGUmJihvLm1heFJlZGVtcHRpb25SYXRlPWUubWF4UmVkZW1wdGlvblJhdGUpLHZvaWQgMCE9PWUubHNtTGlxdWlkU3Rha2VFbmFibGVkJiYoby5sc21MaXF1aWRTdGFrZUVuYWJsZWQ9ZS5sc21MaXF1aWRTdGFrZUVuYWJsZWQpLHZvaWQgMCE9PWUuY29tbXVuaXR5UG9vbFRyZWFzdXJ5QWRkcmVzcyYmKG8uY29tbXVuaXR5UG9vbFRyZWFzdXJ5QWRkcmVzcz1lLmNvbW11bml0eVBvb2xUcmVhc3VyeUFkZHJlc3MpLHZvaWQgMCE9PWUubWF4TWVzc2FnZXNQZXJJY2FUeCYmKG8ubWF4TWVzc2FnZXNQZXJJY2FUeD0oZS5tYXhNZXNzYWdlc1BlckljYVR4fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89aSgpO3JldHVybiBvLmNvbm5lY3Rpb25JZD1lLmNvbm5lY3Rpb25JZD8/XCJcIixvLmJlY2gzMnByZWZpeD1lLmJlY2gzMnByZWZpeD8/XCJcIixvLmhvc3REZW5vbT1lLmhvc3REZW5vbT8/XCJcIixvLmliY0Rlbm9tPWUuaWJjRGVub20/P1wiXCIsby5jcmVhdG9yPWUuY3JlYXRvcj8/XCJcIixvLnRyYW5zZmVyQ2hhbm5lbElkPWUudHJhbnNmZXJDaGFubmVsSWQ/P1wiXCIsby51bmJvbmRpbmdQZXJpb2Q9dm9pZCAwIT09ZS51bmJvbmRpbmdQZXJpb2QmJm51bGwhPT1lLnVuYm9uZGluZ1BlcmlvZD9CaWdJbnQoZS51bmJvbmRpbmdQZXJpb2QudG9TdHJpbmcoKSk6QmlnSW50KDApLG8ubWluUmVkZW1wdGlvblJhdGU9ZS5taW5SZWRlbXB0aW9uUmF0ZT8/XCJcIixvLm1heFJlZGVtcHRpb25SYXRlPWUubWF4UmVkZW1wdGlvblJhdGU/P1wiXCIsby5sc21MaXF1aWRTdGFrZUVuYWJsZWQ9ZS5sc21MaXF1aWRTdGFrZUVuYWJsZWQ/PyExLG8uY29tbXVuaXR5UG9vbFRyZWFzdXJ5QWRkcmVzcz1lLmNvbW11bml0eVBvb2xUcmVhc3VyeUFkZHJlc3M/P1wiXCIsby5tYXhNZXNzYWdlc1BlckljYVR4PXZvaWQgMCE9PWUubWF4TWVzc2FnZXNQZXJJY2FUeCYmbnVsbCE9PWUubWF4TWVzc2FnZXNQZXJJY2FUeD9CaWdJbnQoZS5tYXhNZXNzYWdlc1BlckljYVR4LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnUmVnaXN0ZXJIb3N0Wm9uZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dSZWdpc3Rlckhvc3Rab25lLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnUmVnaXN0ZXJIb3N0Wm9uZVwiLHZhbHVlOk1zZ1JlZ2lzdGVySG9zdFpvbmUuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dSZWdpc3Rlckhvc3Rab25lKE1zZ1JlZ2lzdGVySG9zdFpvbmUpO2NvbnN0IE1zZ1JlZ2lzdGVySG9zdFpvbmVSZXNwb25zZT17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnUmVnaXN0ZXJIb3N0Wm9uZVJlc3BvbnNlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXt9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnUmVnaXN0ZXJIb3N0Wm9uZVJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1JlZ2lzdGVySG9zdFpvbmVSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ1JlZ2lzdGVySG9zdFpvbmVSZXNwb25zZVwiLHZhbHVlOk1zZ1JlZ2lzdGVySG9zdFpvbmVSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1JlZ2lzdGVySG9zdFpvbmVSZXNwb25zZShNc2dSZWdpc3Rlckhvc3Rab25lUmVzcG9uc2UpO2Z1bmN0aW9uIGQoKXtyZXR1cm57Y3JlYXRvcjpcIlwiLGhvc3Rab25lSWQ6XCJcIixlcG9jaDpCaWdJbnQoMCkscmVjZWl2ZXI6XCJcIn19Y29uc3QgTXNnQ2xhaW1VbmRlbGVnYXRlZFRva2Vucz17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQ2xhaW1VbmRlbGVnYXRlZFRva2Vuc1wiLGVuY29kZTooZSxvPW4uY3JlYXRlKCkpPT4oXCJcIiE9PWUuY3JlYXRvciYmby51aW50MzIoMTApLnN0cmluZyhlLmNyZWF0b3IpLFwiXCIhPT1lLmhvc3Rab25lSWQmJm8udWludDMyKDE4KS5zdHJpbmcoZS5ob3N0Wm9uZUlkKSxlLmVwb2NoIT09QmlnSW50KDApJiZvLnVpbnQzMigyNCkudWludDY0KGUuZXBvY2gpLFwiXCIhPT1lLnJlY2VpdmVyJiZvLnVpbnQzMig0Mikuc3RyaW5nKGUucmVjZWl2ZXIpLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgcj12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT1kKCk7Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEuY3JlYXRvcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLmhvc3Rab25lSWQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDM6YS5lcG9jaD1uLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgNTphLnJlY2VpdmVyPW4uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe2NyZWF0b3I6YShlLmNyZWF0b3IpP1N0cmluZyhlLmNyZWF0b3IpOlwiXCIsaG9zdFpvbmVJZDphKGUuaG9zdFpvbmVJZCk/U3RyaW5nKGUuaG9zdFpvbmVJZCk6XCJcIixlcG9jaDphKGUuZXBvY2gpP0JpZ0ludChlLmVwb2NoLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxyZWNlaXZlcjphKGUucmVjZWl2ZXIpP1N0cmluZyhlLnJlY2VpdmVyKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuY3JlYXRvciYmKG8uY3JlYXRvcj1lLmNyZWF0b3IpLHZvaWQgMCE9PWUuaG9zdFpvbmVJZCYmKG8uaG9zdFpvbmVJZD1lLmhvc3Rab25lSWQpLHZvaWQgMCE9PWUuZXBvY2gmJihvLmVwb2NoPShlLmVwb2NofHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUucmVjZWl2ZXImJihvLnJlY2VpdmVyPWUucmVjZWl2ZXIpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89ZCgpO3JldHVybiBvLmNyZWF0b3I9ZS5jcmVhdG9yPz9cIlwiLG8uaG9zdFpvbmVJZD1lLmhvc3Rab25lSWQ/P1wiXCIsby5lcG9jaD12b2lkIDAhPT1lLmVwb2NoJiZudWxsIT09ZS5lcG9jaD9CaWdJbnQoZS5lcG9jaC50b1N0cmluZygpKTpCaWdJbnQoMCksby5yZWNlaXZlcj1lLnJlY2VpdmVyPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5Nc2dDbGFpbVVuZGVsZWdhdGVkVG9rZW5zLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ0NsYWltVW5kZWxlZ2F0ZWRUb2tlbnMuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dDbGFpbVVuZGVsZWdhdGVkVG9rZW5zXCIsdmFsdWU6TXNnQ2xhaW1VbmRlbGVnYXRlZFRva2Vucy5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0NsYWltVW5kZWxlZ2F0ZWRUb2tlbnMoTXNnQ2xhaW1VbmRlbGVnYXRlZFRva2Vucyk7Y29uc3QgTXNnQ2xhaW1VbmRlbGVnYXRlZFRva2Vuc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dDbGFpbVVuZGVsZWdhdGVkVG9rZW5zUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9e307Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO24uc2tpcFR5cGUoNyZlKX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5Nc2dDbGFpbVVuZGVsZWdhdGVkVG9rZW5zUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnQ2xhaW1VbmRlbGVnYXRlZFRva2Vuc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQ2xhaW1VbmRlbGVnYXRlZFRva2Vuc1Jlc3BvbnNlXCIsdmFsdWU6TXNnQ2xhaW1VbmRlbGVnYXRlZFRva2Vuc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnQ2xhaW1VbmRlbGVnYXRlZFRva2Vuc1Jlc3BvbnNlKE1zZ0NsYWltVW5kZWxlZ2F0ZWRUb2tlbnNSZXNwb25zZSk7ZnVuY3Rpb24gYygpe3JldHVybntjcmVhdG9yOlwiXCIsaG9zdFpvbmU6XCJcIixudW1SZWJhbGFuY2U6QmlnSW50KDApfX1jb25zdCBNc2dSZWJhbGFuY2VWYWxpZGF0b3JzPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dSZWJhbGFuY2VWYWxpZGF0b3JzXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9PihcIlwiIT09ZS5jcmVhdG9yJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuY3JlYXRvciksXCJcIiE9PWUuaG9zdFpvbmUmJm8udWludDMyKDE4KS5zdHJpbmcoZS5ob3N0Wm9uZSksZS5udW1SZWJhbGFuY2UhPT1CaWdJbnQoMCkmJm8udWludDMyKDI0KS51aW50NjQoZS5udW1SZWJhbGFuY2UpLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgcj12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT1jKCk7Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEuY3JlYXRvcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLmhvc3Rab25lPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmEubnVtUmViYWxhbmNlPW4udWludDY0KCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe2NyZWF0b3I6YShlLmNyZWF0b3IpP1N0cmluZyhlLmNyZWF0b3IpOlwiXCIsaG9zdFpvbmU6YShlLmhvc3Rab25lKT9TdHJpbmcoZS5ob3N0Wm9uZSk6XCJcIixudW1SZWJhbGFuY2U6YShlLm51bVJlYmFsYW5jZSk/QmlnSW50KGUubnVtUmViYWxhbmNlLnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmNyZWF0b3ImJihvLmNyZWF0b3I9ZS5jcmVhdG9yKSx2b2lkIDAhPT1lLmhvc3Rab25lJiYoby5ob3N0Wm9uZT1lLmhvc3Rab25lKSx2b2lkIDAhPT1lLm51bVJlYmFsYW5jZSYmKG8ubnVtUmViYWxhbmNlPShlLm51bVJlYmFsYW5jZXx8QmlnSW50KDApKS50b1N0cmluZygpKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPWMoKTtyZXR1cm4gby5jcmVhdG9yPWUuY3JlYXRvcj8/XCJcIixvLmhvc3Rab25lPWUuaG9zdFpvbmU/P1wiXCIsby5udW1SZWJhbGFuY2U9dm9pZCAwIT09ZS5udW1SZWJhbGFuY2UmJm51bGwhPT1lLm51bVJlYmFsYW5jZT9CaWdJbnQoZS5udW1SZWJhbGFuY2UudG9TdHJpbmcoKSk6QmlnSW50KDApLG99LGZyb21Qcm90b01zZzplPT5Nc2dSZWJhbGFuY2VWYWxpZGF0b3JzLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1JlYmFsYW5jZVZhbGlkYXRvcnMuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dSZWJhbGFuY2VWYWxpZGF0b3JzXCIsdmFsdWU6TXNnUmViYWxhbmNlVmFsaWRhdG9ycy5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1JlYmFsYW5jZVZhbGlkYXRvcnMoTXNnUmViYWxhbmNlVmFsaWRhdG9ycyk7Y29uc3QgTXNnUmViYWxhbmNlVmFsaWRhdG9yc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dSZWJhbGFuY2VWYWxpZGF0b3JzUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9e307Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO24uc2tpcFR5cGUoNyZlKX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5Nc2dSZWJhbGFuY2VWYWxpZGF0b3JzUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnUmViYWxhbmNlVmFsaWRhdG9yc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnUmViYWxhbmNlVmFsaWRhdG9yc1Jlc3BvbnNlXCIsdmFsdWU6TXNnUmViYWxhbmNlVmFsaWRhdG9yc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnUmViYWxhbmNlVmFsaWRhdG9yc1Jlc3BvbnNlKE1zZ1JlYmFsYW5jZVZhbGlkYXRvcnNSZXNwb25zZSk7Y29uc3QgTXNnQWRkVmFsaWRhdG9ycz17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQWRkVmFsaWRhdG9yc1wiLGVuY29kZShvLHQ9bi5jcmVhdGUoKSl7XCJcIiE9PW8uY3JlYXRvciYmdC51aW50MzIoMTApLnN0cmluZyhvLmNyZWF0b3IpLFwiXCIhPT1vLmhvc3Rab25lJiZ0LnVpbnQzMigxOCkuc3RyaW5nKG8uaG9zdFpvbmUpO2Zvcihjb25zdCBuIG9mIG8udmFsaWRhdG9ycyllLmVuY29kZShuLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxkZWNvZGUobyxuKXtjb25zdCByPW8gaW5zdGFuY2VvZiB0P286bmV3IHQobyk7bGV0IGE9dm9pZCAwPT09bj9yLmxlbjpyLnBvcytuO2NvbnN0IHM9e2NyZWF0b3I6XCJcIixob3N0Wm9uZTpcIlwiLHZhbGlkYXRvcnM6W119O2Zvcig7ci5wb3M8YTspe2NvbnN0IG89ci51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpzLmNyZWF0b3I9ci5zdHJpbmcoKTticmVhaztjYXNlIDI6cy5ob3N0Wm9uZT1yLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpzLnZhbGlkYXRvcnMucHVzaChlLmRlY29kZShyLHIudWludDMyKCkpKTticmVhaztkZWZhdWx0OnIuc2tpcFR5cGUoNyZvKX19cmV0dXJuIHN9LGZyb21KU09OOm89Pih7Y3JlYXRvcjphKG8uY3JlYXRvcik/U3RyaW5nKG8uY3JlYXRvcik6XCJcIixob3N0Wm9uZTphKG8uaG9zdFpvbmUpP1N0cmluZyhvLmhvc3Rab25lKTpcIlwiLHZhbGlkYXRvcnM6QXJyYXkuaXNBcnJheShvPy52YWxpZGF0b3JzKT9vLnZhbGlkYXRvcnMubWFwKChvPT5lLmZyb21KU09OKG8pKSk6W119KSx0b0pTT04obyl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09by5jcmVhdG9yJiYodC5jcmVhdG9yPW8uY3JlYXRvciksdm9pZCAwIT09by5ob3N0Wm9uZSYmKHQuaG9zdFpvbmU9by5ob3N0Wm9uZSksby52YWxpZGF0b3JzP3QudmFsaWRhdG9ycz1vLnZhbGlkYXRvcnMubWFwKChvPT5vP2UudG9KU09OKG8pOnZvaWQgMCkpOnQudmFsaWRhdG9ycz1bXSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PXtjcmVhdG9yOlwiXCIsaG9zdFpvbmU6XCJcIix2YWxpZGF0b3JzOltdfTtyZXR1cm4gdC5jcmVhdG9yPW8uY3JlYXRvcj8/XCJcIix0Lmhvc3Rab25lPW8uaG9zdFpvbmU/P1wiXCIsdC52YWxpZGF0b3JzPW8udmFsaWRhdG9ycz8ubWFwKChvPT5lLmZyb21QYXJ0aWFsKG8pKSl8fFtdLHR9LGZyb21Qcm90b01zZzplPT5Nc2dBZGRWYWxpZGF0b3JzLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ0FkZFZhbGlkYXRvcnMuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dBZGRWYWxpZGF0b3JzXCIsdmFsdWU6TXNnQWRkVmFsaWRhdG9ycy5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0FkZFZhbGlkYXRvcnMoTXNnQWRkVmFsaWRhdG9ycyk7Y29uc3QgTXNnQWRkVmFsaWRhdG9yc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dBZGRWYWxpZGF0b3JzUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9e307Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO24uc2tpcFR5cGUoNyZlKX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5Nc2dBZGRWYWxpZGF0b3JzUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnQWRkVmFsaWRhdG9yc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQWRkVmFsaWRhdG9yc1Jlc3BvbnNlXCIsdmFsdWU6TXNnQWRkVmFsaWRhdG9yc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnQWRkVmFsaWRhdG9yc1Jlc3BvbnNlKE1zZ0FkZFZhbGlkYXRvcnNSZXNwb25zZSk7ZnVuY3Rpb24gbCgpe3JldHVybnthZGRyZXNzOlwiXCIsd2VpZ2h0OkJpZ0ludCgwKX19Y29uc3QgVmFsaWRhdG9yV2VpZ2h0PXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5WYWxpZGF0b3JXZWlnaHRcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmFkZHJlc3MmJm8udWludDMyKDEwKS5zdHJpbmcoZS5hZGRyZXNzKSxlLndlaWdodCE9PUJpZ0ludCgwKSYmby51aW50MzIoMTYpLnVpbnQ2NChlLndlaWdodCksbyksZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPWwoKTtmb3IoO24ucG9zPHI7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS5hZGRyZXNzPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmEud2VpZ2h0PW4udWludDY0KCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe2FkZHJlc3M6YShlLmFkZHJlc3MpP1N0cmluZyhlLmFkZHJlc3MpOlwiXCIsd2VpZ2h0OmEoZS53ZWlnaHQpP0JpZ0ludChlLndlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5hZGRyZXNzJiYoby5hZGRyZXNzPWUuYWRkcmVzcyksdm9pZCAwIT09ZS53ZWlnaHQmJihvLndlaWdodD0oZS53ZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1sKCk7cmV0dXJuIG8uYWRkcmVzcz1lLmFkZHJlc3M/P1wiXCIsby53ZWlnaHQ9dm9pZCAwIT09ZS53ZWlnaHQmJm51bGwhPT1lLndlaWdodD9CaWdJbnQoZS53ZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLG99LGZyb21Qcm90b01zZzplPT5WYWxpZGF0b3JXZWlnaHQuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+VmFsaWRhdG9yV2VpZ2h0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuVmFsaWRhdG9yV2VpZ2h0XCIsdmFsdWU6VmFsaWRhdG9yV2VpZ2h0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuVmFsaWRhdG9yV2VpZ2h0KFZhbGlkYXRvcldlaWdodCk7Y29uc3QgTXNnQ2hhbmdlVmFsaWRhdG9yV2VpZ2h0cz17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQ2hhbmdlVmFsaWRhdG9yV2VpZ2h0c1wiLGVuY29kZShlLG89bi5jcmVhdGUoKSl7XCJcIiE9PWUuY3JlYXRvciYmby51aW50MzIoMTApLnN0cmluZyhlLmNyZWF0b3IpLFwiXCIhPT1lLmhvc3Rab25lJiZvLnVpbnQzMigxOCkuc3RyaW5nKGUuaG9zdFpvbmUpO2Zvcihjb25zdCB0IG9mIGUudmFsaWRhdG9yV2VpZ2h0cylWYWxpZGF0b3JXZWlnaHQuZW5jb2RlKHQsby51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG99LGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgcj12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT17Y3JlYXRvcjpcIlwiLGhvc3Rab25lOlwiXCIsdmFsaWRhdG9yV2VpZ2h0czpbXX07Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEuY3JlYXRvcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLmhvc3Rab25lPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmEudmFsaWRhdG9yV2VpZ2h0cy5wdXNoKFZhbGlkYXRvcldlaWdodC5kZWNvZGUobixuLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe2NyZWF0b3I6YShlLmNyZWF0b3IpP1N0cmluZyhlLmNyZWF0b3IpOlwiXCIsaG9zdFpvbmU6YShlLmhvc3Rab25lKT9TdHJpbmcoZS5ob3N0Wm9uZSk6XCJcIix2YWxpZGF0b3JXZWlnaHRzOkFycmF5LmlzQXJyYXkoZT8udmFsaWRhdG9yV2VpZ2h0cyk/ZS52YWxpZGF0b3JXZWlnaHRzLm1hcCgoZT0+VmFsaWRhdG9yV2VpZ2h0LmZyb21KU09OKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5jcmVhdG9yJiYoby5jcmVhdG9yPWUuY3JlYXRvciksdm9pZCAwIT09ZS5ob3N0Wm9uZSYmKG8uaG9zdFpvbmU9ZS5ob3N0Wm9uZSksZS52YWxpZGF0b3JXZWlnaHRzP28udmFsaWRhdG9yV2VpZ2h0cz1lLnZhbGlkYXRvcldlaWdodHMubWFwKChlPT5lP1ZhbGlkYXRvcldlaWdodC50b0pTT04oZSk6dm9pZCAwKSk6by52YWxpZGF0b3JXZWlnaHRzPVtdLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2NyZWF0b3I6XCJcIixob3N0Wm9uZTpcIlwiLHZhbGlkYXRvcldlaWdodHM6W119O3JldHVybiBvLmNyZWF0b3I9ZS5jcmVhdG9yPz9cIlwiLG8uaG9zdFpvbmU9ZS5ob3N0Wm9uZT8/XCJcIixvLnZhbGlkYXRvcldlaWdodHM9ZS52YWxpZGF0b3JXZWlnaHRzPy5tYXAoKGU9PlZhbGlkYXRvcldlaWdodC5mcm9tUGFydGlhbChlKSkpfHxbXSxvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnQ2hhbmdlVmFsaWRhdG9yV2VpZ2h0cy5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dDaGFuZ2VWYWxpZGF0b3JXZWlnaHRzLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQ2hhbmdlVmFsaWRhdG9yV2VpZ2h0c1wiLHZhbHVlOk1zZ0NoYW5nZVZhbGlkYXRvcldlaWdodHMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dDaGFuZ2VWYWxpZGF0b3JXZWlnaHRzKE1zZ0NoYW5nZVZhbGlkYXRvcldlaWdodHMpO2NvbnN0IE1zZ0NoYW5nZVZhbGlkYXRvcldlaWdodHNSZXNwb25zZT17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQ2hhbmdlVmFsaWRhdG9yV2VpZ2h0c1Jlc3BvbnNlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXt9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnQ2hhbmdlVmFsaWRhdG9yV2VpZ2h0c1Jlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ0NoYW5nZVZhbGlkYXRvcldlaWdodHNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ0NoYW5nZVZhbGlkYXRvcldlaWdodHNSZXNwb25zZVwiLHZhbHVlOk1zZ0NoYW5nZVZhbGlkYXRvcldlaWdodHNSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0NoYW5nZVZhbGlkYXRvcldlaWdodHNSZXNwb25zZShNc2dDaGFuZ2VWYWxpZGF0b3JXZWlnaHRzUmVzcG9uc2UpO2NvbnN0IE1zZ0RlbGV0ZVZhbGlkYXRvcj17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnRGVsZXRlVmFsaWRhdG9yXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9PihcIlwiIT09ZS5jcmVhdG9yJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuY3JlYXRvciksXCJcIiE9PWUuaG9zdFpvbmUmJm8udWludDMyKDE4KS5zdHJpbmcoZS5ob3N0Wm9uZSksXCJcIiE9PWUudmFsQWRkciYmby51aW50MzIoMjYpLnN0cmluZyhlLnZhbEFkZHIpLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgcj12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT17Y3JlYXRvcjpcIlwiLGhvc3Rab25lOlwiXCIsdmFsQWRkcjpcIlwifTtmb3IoO24ucG9zPHI7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS5jcmVhdG9yPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmEuaG9zdFpvbmU9bi5zdHJpbmcoKTticmVhaztjYXNlIDM6YS52YWxBZGRyPW4uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe2NyZWF0b3I6YShlLmNyZWF0b3IpP1N0cmluZyhlLmNyZWF0b3IpOlwiXCIsaG9zdFpvbmU6YShlLmhvc3Rab25lKT9TdHJpbmcoZS5ob3N0Wm9uZSk6XCJcIix2YWxBZGRyOmEoZS52YWxBZGRyKT9TdHJpbmcoZS52YWxBZGRyKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuY3JlYXRvciYmKG8uY3JlYXRvcj1lLmNyZWF0b3IpLHZvaWQgMCE9PWUuaG9zdFpvbmUmJihvLmhvc3Rab25lPWUuaG9zdFpvbmUpLHZvaWQgMCE9PWUudmFsQWRkciYmKG8udmFsQWRkcj1lLnZhbEFkZHIpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2NyZWF0b3I6XCJcIixob3N0Wm9uZTpcIlwiLHZhbEFkZHI6XCJcIn07cmV0dXJuIG8uY3JlYXRvcj1lLmNyZWF0b3I/P1wiXCIsby5ob3N0Wm9uZT1lLmhvc3Rab25lPz9cIlwiLG8udmFsQWRkcj1lLnZhbEFkZHI/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9Pk1zZ0RlbGV0ZVZhbGlkYXRvci5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dEZWxldGVWYWxpZGF0b3IuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dEZWxldGVWYWxpZGF0b3JcIix2YWx1ZTpNc2dEZWxldGVWYWxpZGF0b3IuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dEZWxldGVWYWxpZGF0b3IoTXNnRGVsZXRlVmFsaWRhdG9yKTtjb25zdCBNc2dEZWxldGVWYWxpZGF0b3JSZXNwb25zZT17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnRGVsZXRlVmFsaWRhdG9yUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9e307Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO24uc2tpcFR5cGUoNyZlKX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5Nc2dEZWxldGVWYWxpZGF0b3JSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dEZWxldGVWYWxpZGF0b3JSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ0RlbGV0ZVZhbGlkYXRvclJlc3BvbnNlXCIsdmFsdWU6TXNnRGVsZXRlVmFsaWRhdG9yUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dEZWxldGVWYWxpZGF0b3JSZXNwb25zZShNc2dEZWxldGVWYWxpZGF0b3JSZXNwb25zZSk7Y29uc3QgTXNnUmVzdG9yZUludGVyY2hhaW5BY2NvdW50PXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dSZXN0b3JlSW50ZXJjaGFpbkFjY291bnRcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmNyZWF0b3ImJm8udWludDMyKDEwKS5zdHJpbmcoZS5jcmVhdG9yKSxcIlwiIT09ZS5jaGFpbklkJiZvLnVpbnQzMigxOCkuc3RyaW5nKGUuY2hhaW5JZCksXCJcIiE9PWUuY29ubmVjdGlvbklkJiZvLnVpbnQzMigyNikuc3RyaW5nKGUuY29ubmVjdGlvbklkKSxcIlwiIT09ZS5hY2NvdW50T3duZXImJm8udWludDMyKDM0KS5zdHJpbmcoZS5hY2NvdW50T3duZXIpLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgcj12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT17Y3JlYXRvcjpcIlwiLGNoYWluSWQ6XCJcIixjb25uZWN0aW9uSWQ6XCJcIixhY2NvdW50T3duZXI6XCJcIn07Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEuY3JlYXRvcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLmNoYWluSWQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDM6YS5jb25uZWN0aW9uSWQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDQ6YS5hY2NvdW50T3duZXI9bi5zdHJpbmcoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7Y3JlYXRvcjphKGUuY3JlYXRvcik/U3RyaW5nKGUuY3JlYXRvcik6XCJcIixjaGFpbklkOmEoZS5jaGFpbklkKT9TdHJpbmcoZS5jaGFpbklkKTpcIlwiLGNvbm5lY3Rpb25JZDphKGUuY29ubmVjdGlvbklkKT9TdHJpbmcoZS5jb25uZWN0aW9uSWQpOlwiXCIsYWNjb3VudE93bmVyOmEoZS5hY2NvdW50T3duZXIpP1N0cmluZyhlLmFjY291bnRPd25lcik6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmNyZWF0b3ImJihvLmNyZWF0b3I9ZS5jcmVhdG9yKSx2b2lkIDAhPT1lLmNoYWluSWQmJihvLmNoYWluSWQ9ZS5jaGFpbklkKSx2b2lkIDAhPT1lLmNvbm5lY3Rpb25JZCYmKG8uY29ubmVjdGlvbklkPWUuY29ubmVjdGlvbklkKSx2b2lkIDAhPT1lLmFjY291bnRPd25lciYmKG8uYWNjb3VudE93bmVyPWUuYWNjb3VudE93bmVyKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtjcmVhdG9yOlwiXCIsY2hhaW5JZDpcIlwiLGNvbm5lY3Rpb25JZDpcIlwiLGFjY291bnRPd25lcjpcIlwifTtyZXR1cm4gby5jcmVhdG9yPWUuY3JlYXRvcj8/XCJcIixvLmNoYWluSWQ9ZS5jaGFpbklkPz9cIlwiLG8uY29ubmVjdGlvbklkPWUuY29ubmVjdGlvbklkPz9cIlwiLG8uYWNjb3VudE93bmVyPWUuYWNjb3VudE93bmVyPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5Nc2dSZXN0b3JlSW50ZXJjaGFpbkFjY291bnQuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnUmVzdG9yZUludGVyY2hhaW5BY2NvdW50LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnUmVzdG9yZUludGVyY2hhaW5BY2NvdW50XCIsdmFsdWU6TXNnUmVzdG9yZUludGVyY2hhaW5BY2NvdW50LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnUmVzdG9yZUludGVyY2hhaW5BY2NvdW50KE1zZ1Jlc3RvcmVJbnRlcmNoYWluQWNjb3VudCk7Y29uc3QgTXNnUmVzdG9yZUludGVyY2hhaW5BY2NvdW50UmVzcG9uc2U9e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ1Jlc3RvcmVJbnRlcmNoYWluQWNjb3VudFJlc3BvbnNlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXt9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnUmVzdG9yZUludGVyY2hhaW5BY2NvdW50UmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnUmVzdG9yZUludGVyY2hhaW5BY2NvdW50UmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dSZXN0b3JlSW50ZXJjaGFpbkFjY291bnRSZXNwb25zZVwiLHZhbHVlOk1zZ1Jlc3RvcmVJbnRlcmNoYWluQWNjb3VudFJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnUmVzdG9yZUludGVyY2hhaW5BY2NvdW50UmVzcG9uc2UoTXNnUmVzdG9yZUludGVyY2hhaW5BY2NvdW50UmVzcG9uc2UpO2NvbnN0IE1zZ0Nsb3NlRGVsZWdhdGlvbkNoYW5uZWw9e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ0Nsb3NlRGVsZWdhdGlvbkNoYW5uZWxcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmNyZWF0b3ImJm8udWludDMyKDEwKS5zdHJpbmcoZS5jcmVhdG9yKSxcIlwiIT09ZS5jaGFpbklkJiZvLnVpbnQzMigxOCkuc3RyaW5nKGUuY2hhaW5JZCksbyksZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXtjcmVhdG9yOlwiXCIsY2hhaW5JZDpcIlwifTtmb3IoO24ucG9zPHI7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS5jcmVhdG9yPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmEuY2hhaW5JZD1uLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHtjcmVhdG9yOmEoZS5jcmVhdG9yKT9TdHJpbmcoZS5jcmVhdG9yKTpcIlwiLGNoYWluSWQ6YShlLmNoYWluSWQpP1N0cmluZyhlLmNoYWluSWQpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5jcmVhdG9yJiYoby5jcmVhdG9yPWUuY3JlYXRvciksdm9pZCAwIT09ZS5jaGFpbklkJiYoby5jaGFpbklkPWUuY2hhaW5JZCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17Y3JlYXRvcjpcIlwiLGNoYWluSWQ6XCJcIn07cmV0dXJuIG8uY3JlYXRvcj1lLmNyZWF0b3I/P1wiXCIsby5jaGFpbklkPWUuY2hhaW5JZD8/XCJcIixvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnQ2xvc2VEZWxlZ2F0aW9uQ2hhbm5lbC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dDbG9zZURlbGVnYXRpb25DaGFubmVsLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQ2xvc2VEZWxlZ2F0aW9uQ2hhbm5lbFwiLHZhbHVlOk1zZ0Nsb3NlRGVsZWdhdGlvbkNoYW5uZWwuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dDbG9zZURlbGVnYXRpb25DaGFubmVsKE1zZ0Nsb3NlRGVsZWdhdGlvbkNoYW5uZWwpO2NvbnN0IE1zZ0Nsb3NlRGVsZWdhdGlvbkNoYW5uZWxSZXNwb25zZT17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQ2xvc2VEZWxlZ2F0aW9uQ2hhbm5lbFJlc3BvbnNlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXt9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnQ2xvc2VEZWxlZ2F0aW9uQ2hhbm5lbFJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ0Nsb3NlRGVsZWdhdGlvbkNoYW5uZWxSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ0Nsb3NlRGVsZWdhdGlvbkNoYW5uZWxSZXNwb25zZVwiLHZhbHVlOk1zZ0Nsb3NlRGVsZWdhdGlvbkNoYW5uZWxSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0Nsb3NlRGVsZWdhdGlvbkNoYW5uZWxSZXNwb25zZShNc2dDbG9zZURlbGVnYXRpb25DaGFubmVsUmVzcG9uc2UpO2NvbnN0IE1zZ1VwZGF0ZVZhbGlkYXRvclNoYXJlc0V4Y2hSYXRlPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dVcGRhdGVWYWxpZGF0b3JTaGFyZXNFeGNoUmF0ZVwiLGVuY29kZTooZSxvPW4uY3JlYXRlKCkpPT4oXCJcIiE9PWUuY3JlYXRvciYmby51aW50MzIoMTApLnN0cmluZyhlLmNyZWF0b3IpLFwiXCIhPT1lLmNoYWluSWQmJm8udWludDMyKDE4KS5zdHJpbmcoZS5jaGFpbklkKSxcIlwiIT09ZS52YWxvcGVyJiZvLnVpbnQzMigyNikuc3RyaW5nKGUudmFsb3BlciksbyksZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXtjcmVhdG9yOlwiXCIsY2hhaW5JZDpcIlwiLHZhbG9wZXI6XCJcIn07Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEuY3JlYXRvcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLmNoYWluSWQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDM6YS52YWxvcGVyPW4uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe2NyZWF0b3I6YShlLmNyZWF0b3IpP1N0cmluZyhlLmNyZWF0b3IpOlwiXCIsY2hhaW5JZDphKGUuY2hhaW5JZCk/U3RyaW5nKGUuY2hhaW5JZCk6XCJcIix2YWxvcGVyOmEoZS52YWxvcGVyKT9TdHJpbmcoZS52YWxvcGVyKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuY3JlYXRvciYmKG8uY3JlYXRvcj1lLmNyZWF0b3IpLHZvaWQgMCE9PWUuY2hhaW5JZCYmKG8uY2hhaW5JZD1lLmNoYWluSWQpLHZvaWQgMCE9PWUudmFsb3BlciYmKG8udmFsb3Blcj1lLnZhbG9wZXIpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2NyZWF0b3I6XCJcIixjaGFpbklkOlwiXCIsdmFsb3BlcjpcIlwifTtyZXR1cm4gby5jcmVhdG9yPWUuY3JlYXRvcj8/XCJcIixvLmNoYWluSWQ9ZS5jaGFpbklkPz9cIlwiLG8udmFsb3Blcj1lLnZhbG9wZXI/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9Pk1zZ1VwZGF0ZVZhbGlkYXRvclNoYXJlc0V4Y2hSYXRlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1VwZGF0ZVZhbGlkYXRvclNoYXJlc0V4Y2hSYXRlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnVXBkYXRlVmFsaWRhdG9yU2hhcmVzRXhjaFJhdGVcIix2YWx1ZTpNc2dVcGRhdGVWYWxpZGF0b3JTaGFyZXNFeGNoUmF0ZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1VwZGF0ZVZhbGlkYXRvclNoYXJlc0V4Y2hSYXRlKE1zZ1VwZGF0ZVZhbGlkYXRvclNoYXJlc0V4Y2hSYXRlKTtjb25zdCBNc2dVcGRhdGVWYWxpZGF0b3JTaGFyZXNFeGNoUmF0ZVJlc3BvbnNlPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dVcGRhdGVWYWxpZGF0b3JTaGFyZXNFeGNoUmF0ZVJlc3BvbnNlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXt9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnVXBkYXRlVmFsaWRhdG9yU2hhcmVzRXhjaFJhdGVSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dVcGRhdGVWYWxpZGF0b3JTaGFyZXNFeGNoUmF0ZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnVXBkYXRlVmFsaWRhdG9yU2hhcmVzRXhjaFJhdGVSZXNwb25zZVwiLHZhbHVlOk1zZ1VwZGF0ZVZhbGlkYXRvclNoYXJlc0V4Y2hSYXRlUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dVcGRhdGVWYWxpZGF0b3JTaGFyZXNFeGNoUmF0ZVJlc3BvbnNlKE1zZ1VwZGF0ZVZhbGlkYXRvclNoYXJlc0V4Y2hSYXRlUmVzcG9uc2UpO2NvbnN0IE1zZ0NhbGlicmF0ZURlbGVnYXRpb249e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ0NhbGlicmF0ZURlbGVnYXRpb25cIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmNyZWF0b3ImJm8udWludDMyKDEwKS5zdHJpbmcoZS5jcmVhdG9yKSxcIlwiIT09ZS5jaGFpbklkJiZvLnVpbnQzMigxOCkuc3RyaW5nKGUuY2hhaW5JZCksXCJcIiE9PWUudmFsb3BlciYmby51aW50MzIoMjYpLnN0cmluZyhlLnZhbG9wZXIpLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgcj12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT17Y3JlYXRvcjpcIlwiLGNoYWluSWQ6XCJcIix2YWxvcGVyOlwiXCJ9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLmNyZWF0b3I9bi5zdHJpbmcoKTticmVhaztjYXNlIDI6YS5jaGFpbklkPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmEudmFsb3Blcj1uLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHtjcmVhdG9yOmEoZS5jcmVhdG9yKT9TdHJpbmcoZS5jcmVhdG9yKTpcIlwiLGNoYWluSWQ6YShlLmNoYWluSWQpP1N0cmluZyhlLmNoYWluSWQpOlwiXCIsdmFsb3BlcjphKGUudmFsb3Blcik/U3RyaW5nKGUudmFsb3Blcik6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmNyZWF0b3ImJihvLmNyZWF0b3I9ZS5jcmVhdG9yKSx2b2lkIDAhPT1lLmNoYWluSWQmJihvLmNoYWluSWQ9ZS5jaGFpbklkKSx2b2lkIDAhPT1lLnZhbG9wZXImJihvLnZhbG9wZXI9ZS52YWxvcGVyKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtjcmVhdG9yOlwiXCIsY2hhaW5JZDpcIlwiLHZhbG9wZXI6XCJcIn07cmV0dXJuIG8uY3JlYXRvcj1lLmNyZWF0b3I/P1wiXCIsby5jaGFpbklkPWUuY2hhaW5JZD8/XCJcIixvLnZhbG9wZXI9ZS52YWxvcGVyPz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5Nc2dDYWxpYnJhdGVEZWxlZ2F0aW9uLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ0NhbGlicmF0ZURlbGVnYXRpb24uZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dDYWxpYnJhdGVEZWxlZ2F0aW9uXCIsdmFsdWU6TXNnQ2FsaWJyYXRlRGVsZWdhdGlvbi5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0NhbGlicmF0ZURlbGVnYXRpb24oTXNnQ2FsaWJyYXRlRGVsZWdhdGlvbik7Y29uc3QgTXNnQ2FsaWJyYXRlRGVsZWdhdGlvblJlc3BvbnNlPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dDYWxpYnJhdGVEZWxlZ2F0aW9uUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9e307Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO24uc2tpcFR5cGUoNyZlKX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5Nc2dDYWxpYnJhdGVEZWxlZ2F0aW9uUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnQ2FsaWJyYXRlRGVsZWdhdGlvblJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQ2FsaWJyYXRlRGVsZWdhdGlvblJlc3BvbnNlXCIsdmFsdWU6TXNnQ2FsaWJyYXRlRGVsZWdhdGlvblJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnQ2FsaWJyYXRlRGVsZWdhdGlvblJlc3BvbnNlKE1zZ0NhbGlicmF0ZURlbGVnYXRpb25SZXNwb25zZSk7Y29uc3QgTXNnUmVzdW1lSG9zdFpvbmU9e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ1Jlc3VtZUhvc3Rab25lXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9PihcIlwiIT09ZS5jcmVhdG9yJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuY3JlYXRvciksXCJcIiE9PWUuY2hhaW5JZCYmby51aW50MzIoMTgpLnN0cmluZyhlLmNoYWluSWQpLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgcj12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT17Y3JlYXRvcjpcIlwiLGNoYWluSWQ6XCJcIn07Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEuY3JlYXRvcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLmNoYWluSWQ9bi5zdHJpbmcoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7Y3JlYXRvcjphKGUuY3JlYXRvcik/U3RyaW5nKGUuY3JlYXRvcik6XCJcIixjaGFpbklkOmEoZS5jaGFpbklkKT9TdHJpbmcoZS5jaGFpbklkKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuY3JlYXRvciYmKG8uY3JlYXRvcj1lLmNyZWF0b3IpLHZvaWQgMCE9PWUuY2hhaW5JZCYmKG8uY2hhaW5JZD1lLmNoYWluSWQpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2NyZWF0b3I6XCJcIixjaGFpbklkOlwiXCJ9O3JldHVybiBvLmNyZWF0b3I9ZS5jcmVhdG9yPz9cIlwiLG8uY2hhaW5JZD1lLmNoYWluSWQ/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9Pk1zZ1Jlc3VtZUhvc3Rab25lLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1Jlc3VtZUhvc3Rab25lLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnUmVzdW1lSG9zdFpvbmVcIix2YWx1ZTpNc2dSZXN1bWVIb3N0Wm9uZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1Jlc3VtZUhvc3Rab25lKE1zZ1Jlc3VtZUhvc3Rab25lKTtjb25zdCBNc2dSZXN1bWVIb3N0Wm9uZVJlc3BvbnNlPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dSZXN1bWVIb3N0Wm9uZVJlc3BvbnNlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXt9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnUmVzdW1lSG9zdFpvbmVSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dSZXN1bWVIb3N0Wm9uZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnUmVzdW1lSG9zdFpvbmVSZXNwb25zZVwiLHZhbHVlOk1zZ1Jlc3VtZUhvc3Rab25lUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dSZXN1bWVIb3N0Wm9uZVJlc3BvbnNlKE1zZ1Jlc3VtZUhvc3Rab25lUmVzcG9uc2UpO2Z1bmN0aW9uIGcoKXtyZXR1cm57YXV0aG9yaXR5OlwiXCIsaG9zdENoYWluSWQ6XCJcIixzdHJpZGVUb1Jld2FyZENvbm5lY3Rpb25JZDpcIlwiLHN0cmlkZVRvVHJhZGVDb25uZWN0aW9uSWQ6XCJcIixob3N0VG9SZXdhcmRUcmFuc2ZlckNoYW5uZWxJZDpcIlwiLHJld2FyZFRvVHJhZGVUcmFuc2ZlckNoYW5uZWxJZDpcIlwiLHRyYWRlVG9Ib3N0VHJhbnNmZXJDaGFubmVsSWQ6XCJcIixyZXdhcmREZW5vbU9uSG9zdDpcIlwiLHJld2FyZERlbm9tT25SZXdhcmQ6XCJcIixyZXdhcmREZW5vbU9uVHJhZGU6XCJcIixob3N0RGVub21PblRyYWRlOlwiXCIsaG9zdERlbm9tT25Ib3N0OlwiXCIscG9vbElkOkJpZ0ludCgwKSxtYXhBbGxvd2VkU3dhcExvc3NSYXRlOlwiXCIsbWluU3dhcEFtb3VudDpcIlwiLG1heFN3YXBBbW91bnQ6XCJcIixtaW5UcmFuc2ZlckFtb3VudDpcIlwifX1jb25zdCBNc2dDcmVhdGVUcmFkZVJvdXRlPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dDcmVhdGVUcmFkZVJvdXRlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9PihcIlwiIT09ZS5hdXRob3JpdHkmJm8udWludDMyKDEwKS5zdHJpbmcoZS5hdXRob3JpdHkpLFwiXCIhPT1lLmhvc3RDaGFpbklkJiZvLnVpbnQzMigxOCkuc3RyaW5nKGUuaG9zdENoYWluSWQpLFwiXCIhPT1lLnN0cmlkZVRvUmV3YXJkQ29ubmVjdGlvbklkJiZvLnVpbnQzMigyNikuc3RyaW5nKGUuc3RyaWRlVG9SZXdhcmRDb25uZWN0aW9uSWQpLFwiXCIhPT1lLnN0cmlkZVRvVHJhZGVDb25uZWN0aW9uSWQmJm8udWludDMyKDM0KS5zdHJpbmcoZS5zdHJpZGVUb1RyYWRlQ29ubmVjdGlvbklkKSxcIlwiIT09ZS5ob3N0VG9SZXdhcmRUcmFuc2ZlckNoYW5uZWxJZCYmby51aW50MzIoNDIpLnN0cmluZyhlLmhvc3RUb1Jld2FyZFRyYW5zZmVyQ2hhbm5lbElkKSxcIlwiIT09ZS5yZXdhcmRUb1RyYWRlVHJhbnNmZXJDaGFubmVsSWQmJm8udWludDMyKDUwKS5zdHJpbmcoZS5yZXdhcmRUb1RyYWRlVHJhbnNmZXJDaGFubmVsSWQpLFwiXCIhPT1lLnRyYWRlVG9Ib3N0VHJhbnNmZXJDaGFubmVsSWQmJm8udWludDMyKDU4KS5zdHJpbmcoZS50cmFkZVRvSG9zdFRyYW5zZmVyQ2hhbm5lbElkKSxcIlwiIT09ZS5yZXdhcmREZW5vbU9uSG9zdCYmby51aW50MzIoNjYpLnN0cmluZyhlLnJld2FyZERlbm9tT25Ib3N0KSxcIlwiIT09ZS5yZXdhcmREZW5vbU9uUmV3YXJkJiZvLnVpbnQzMig3NCkuc3RyaW5nKGUucmV3YXJkRGVub21PblJld2FyZCksXCJcIiE9PWUucmV3YXJkRGVub21PblRyYWRlJiZvLnVpbnQzMig4Mikuc3RyaW5nKGUucmV3YXJkRGVub21PblRyYWRlKSxcIlwiIT09ZS5ob3N0RGVub21PblRyYWRlJiZvLnVpbnQzMig5MCkuc3RyaW5nKGUuaG9zdERlbm9tT25UcmFkZSksXCJcIiE9PWUuaG9zdERlbm9tT25Ib3N0JiZvLnVpbnQzMig5OCkuc3RyaW5nKGUuaG9zdERlbm9tT25Ib3N0KSxlLnBvb2xJZCE9PUJpZ0ludCgwKSYmby51aW50MzIoMTA0KS51aW50NjQoZS5wb29sSWQpLFwiXCIhPT1lLm1heEFsbG93ZWRTd2FwTG9zc1JhdGUmJm8udWludDMyKDExNCkuc3RyaW5nKGUubWF4QWxsb3dlZFN3YXBMb3NzUmF0ZSksXCJcIiE9PWUubWluU3dhcEFtb3VudCYmby51aW50MzIoMTIyKS5zdHJpbmcoZS5taW5Td2FwQW1vdW50KSxcIlwiIT09ZS5tYXhTd2FwQW1vdW50JiZvLnVpbnQzMigxMzApLnN0cmluZyhlLm1heFN3YXBBbW91bnQpLFwiXCIhPT1lLm1pblRyYW5zZmVyQW1vdW50JiZvLnVpbnQzMigxMzgpLnN0cmluZyhlLm1pblRyYW5zZmVyQW1vdW50KSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9ZygpO2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLmF1dGhvcml0eT1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLmhvc3RDaGFpbklkPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmEuc3RyaWRlVG9SZXdhcmRDb25uZWN0aW9uSWQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDQ6YS5zdHJpZGVUb1RyYWRlQ29ubmVjdGlvbklkPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSA1OmEuaG9zdFRvUmV3YXJkVHJhbnNmZXJDaGFubmVsSWQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDY6YS5yZXdhcmRUb1RyYWRlVHJhbnNmZXJDaGFubmVsSWQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDc6YS50cmFkZVRvSG9zdFRyYW5zZmVyQ2hhbm5lbElkPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSA4OmEucmV3YXJkRGVub21Pbkhvc3Q9bi5zdHJpbmcoKTticmVhaztjYXNlIDk6YS5yZXdhcmREZW5vbU9uUmV3YXJkPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMDphLnJld2FyZERlbm9tT25UcmFkZT1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMTE6YS5ob3N0RGVub21PblRyYWRlPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMjphLmhvc3REZW5vbU9uSG9zdD1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMTM6YS5wb29sSWQ9bi51aW50NjQoKTticmVhaztjYXNlIDE0OmEubWF4QWxsb3dlZFN3YXBMb3NzUmF0ZT1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMTU6YS5taW5Td2FwQW1vdW50PW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAxNjphLm1heFN3YXBBbW91bnQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDE3OmEubWluVHJhbnNmZXJBbW91bnQ9bi5zdHJpbmcoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7YXV0aG9yaXR5OmEoZS5hdXRob3JpdHkpP1N0cmluZyhlLmF1dGhvcml0eSk6XCJcIixob3N0Q2hhaW5JZDphKGUuaG9zdENoYWluSWQpP1N0cmluZyhlLmhvc3RDaGFpbklkKTpcIlwiLHN0cmlkZVRvUmV3YXJkQ29ubmVjdGlvbklkOmEoZS5zdHJpZGVUb1Jld2FyZENvbm5lY3Rpb25JZCk/U3RyaW5nKGUuc3RyaWRlVG9SZXdhcmRDb25uZWN0aW9uSWQpOlwiXCIsc3RyaWRlVG9UcmFkZUNvbm5lY3Rpb25JZDphKGUuc3RyaWRlVG9UcmFkZUNvbm5lY3Rpb25JZCk/U3RyaW5nKGUuc3RyaWRlVG9UcmFkZUNvbm5lY3Rpb25JZCk6XCJcIixob3N0VG9SZXdhcmRUcmFuc2ZlckNoYW5uZWxJZDphKGUuaG9zdFRvUmV3YXJkVHJhbnNmZXJDaGFubmVsSWQpP1N0cmluZyhlLmhvc3RUb1Jld2FyZFRyYW5zZmVyQ2hhbm5lbElkKTpcIlwiLHJld2FyZFRvVHJhZGVUcmFuc2ZlckNoYW5uZWxJZDphKGUucmV3YXJkVG9UcmFkZVRyYW5zZmVyQ2hhbm5lbElkKT9TdHJpbmcoZS5yZXdhcmRUb1RyYWRlVHJhbnNmZXJDaGFubmVsSWQpOlwiXCIsdHJhZGVUb0hvc3RUcmFuc2ZlckNoYW5uZWxJZDphKGUudHJhZGVUb0hvc3RUcmFuc2ZlckNoYW5uZWxJZCk/U3RyaW5nKGUudHJhZGVUb0hvc3RUcmFuc2ZlckNoYW5uZWxJZCk6XCJcIixyZXdhcmREZW5vbU9uSG9zdDphKGUucmV3YXJkRGVub21Pbkhvc3QpP1N0cmluZyhlLnJld2FyZERlbm9tT25Ib3N0KTpcIlwiLHJld2FyZERlbm9tT25SZXdhcmQ6YShlLnJld2FyZERlbm9tT25SZXdhcmQpP1N0cmluZyhlLnJld2FyZERlbm9tT25SZXdhcmQpOlwiXCIscmV3YXJkRGVub21PblRyYWRlOmEoZS5yZXdhcmREZW5vbU9uVHJhZGUpP1N0cmluZyhlLnJld2FyZERlbm9tT25UcmFkZSk6XCJcIixob3N0RGVub21PblRyYWRlOmEoZS5ob3N0RGVub21PblRyYWRlKT9TdHJpbmcoZS5ob3N0RGVub21PblRyYWRlKTpcIlwiLGhvc3REZW5vbU9uSG9zdDphKGUuaG9zdERlbm9tT25Ib3N0KT9TdHJpbmcoZS5ob3N0RGVub21Pbkhvc3QpOlwiXCIscG9vbElkOmEoZS5wb29sSWQpP0JpZ0ludChlLnBvb2xJZC50b1N0cmluZygpKTpCaWdJbnQoMCksbWF4QWxsb3dlZFN3YXBMb3NzUmF0ZTphKGUubWF4QWxsb3dlZFN3YXBMb3NzUmF0ZSk/U3RyaW5nKGUubWF4QWxsb3dlZFN3YXBMb3NzUmF0ZSk6XCJcIixtaW5Td2FwQW1vdW50OmEoZS5taW5Td2FwQW1vdW50KT9TdHJpbmcoZS5taW5Td2FwQW1vdW50KTpcIlwiLG1heFN3YXBBbW91bnQ6YShlLm1heFN3YXBBbW91bnQpP1N0cmluZyhlLm1heFN3YXBBbW91bnQpOlwiXCIsbWluVHJhbnNmZXJBbW91bnQ6YShlLm1pblRyYW5zZmVyQW1vdW50KT9TdHJpbmcoZS5taW5UcmFuc2ZlckFtb3VudCk6XCJcIn0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmF1dGhvcml0eSYmKG8uYXV0aG9yaXR5PWUuYXV0aG9yaXR5KSx2b2lkIDAhPT1lLmhvc3RDaGFpbklkJiYoby5ob3N0Q2hhaW5JZD1lLmhvc3RDaGFpbklkKSx2b2lkIDAhPT1lLnN0cmlkZVRvUmV3YXJkQ29ubmVjdGlvbklkJiYoby5zdHJpZGVUb1Jld2FyZENvbm5lY3Rpb25JZD1lLnN0cmlkZVRvUmV3YXJkQ29ubmVjdGlvbklkKSx2b2lkIDAhPT1lLnN0cmlkZVRvVHJhZGVDb25uZWN0aW9uSWQmJihvLnN0cmlkZVRvVHJhZGVDb25uZWN0aW9uSWQ9ZS5zdHJpZGVUb1RyYWRlQ29ubmVjdGlvbklkKSx2b2lkIDAhPT1lLmhvc3RUb1Jld2FyZFRyYW5zZmVyQ2hhbm5lbElkJiYoby5ob3N0VG9SZXdhcmRUcmFuc2ZlckNoYW5uZWxJZD1lLmhvc3RUb1Jld2FyZFRyYW5zZmVyQ2hhbm5lbElkKSx2b2lkIDAhPT1lLnJld2FyZFRvVHJhZGVUcmFuc2ZlckNoYW5uZWxJZCYmKG8ucmV3YXJkVG9UcmFkZVRyYW5zZmVyQ2hhbm5lbElkPWUucmV3YXJkVG9UcmFkZVRyYW5zZmVyQ2hhbm5lbElkKSx2b2lkIDAhPT1lLnRyYWRlVG9Ib3N0VHJhbnNmZXJDaGFubmVsSWQmJihvLnRyYWRlVG9Ib3N0VHJhbnNmZXJDaGFubmVsSWQ9ZS50cmFkZVRvSG9zdFRyYW5zZmVyQ2hhbm5lbElkKSx2b2lkIDAhPT1lLnJld2FyZERlbm9tT25Ib3N0JiYoby5yZXdhcmREZW5vbU9uSG9zdD1lLnJld2FyZERlbm9tT25Ib3N0KSx2b2lkIDAhPT1lLnJld2FyZERlbm9tT25SZXdhcmQmJihvLnJld2FyZERlbm9tT25SZXdhcmQ9ZS5yZXdhcmREZW5vbU9uUmV3YXJkKSx2b2lkIDAhPT1lLnJld2FyZERlbm9tT25UcmFkZSYmKG8ucmV3YXJkRGVub21PblRyYWRlPWUucmV3YXJkRGVub21PblRyYWRlKSx2b2lkIDAhPT1lLmhvc3REZW5vbU9uVHJhZGUmJihvLmhvc3REZW5vbU9uVHJhZGU9ZS5ob3N0RGVub21PblRyYWRlKSx2b2lkIDAhPT1lLmhvc3REZW5vbU9uSG9zdCYmKG8uaG9zdERlbm9tT25Ib3N0PWUuaG9zdERlbm9tT25Ib3N0KSx2b2lkIDAhPT1lLnBvb2xJZCYmKG8ucG9vbElkPShlLnBvb2xJZHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLm1heEFsbG93ZWRTd2FwTG9zc1JhdGUmJihvLm1heEFsbG93ZWRTd2FwTG9zc1JhdGU9ZS5tYXhBbGxvd2VkU3dhcExvc3NSYXRlKSx2b2lkIDAhPT1lLm1pblN3YXBBbW91bnQmJihvLm1pblN3YXBBbW91bnQ9ZS5taW5Td2FwQW1vdW50KSx2b2lkIDAhPT1lLm1heFN3YXBBbW91bnQmJihvLm1heFN3YXBBbW91bnQ9ZS5tYXhTd2FwQW1vdW50KSx2b2lkIDAhPT1lLm1pblRyYW5zZmVyQW1vdW50JiYoby5taW5UcmFuc2ZlckFtb3VudD1lLm1pblRyYW5zZmVyQW1vdW50KSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPWcoKTtyZXR1cm4gby5hdXRob3JpdHk9ZS5hdXRob3JpdHk/P1wiXCIsby5ob3N0Q2hhaW5JZD1lLmhvc3RDaGFpbklkPz9cIlwiLG8uc3RyaWRlVG9SZXdhcmRDb25uZWN0aW9uSWQ9ZS5zdHJpZGVUb1Jld2FyZENvbm5lY3Rpb25JZD8/XCJcIixvLnN0cmlkZVRvVHJhZGVDb25uZWN0aW9uSWQ9ZS5zdHJpZGVUb1RyYWRlQ29ubmVjdGlvbklkPz9cIlwiLG8uaG9zdFRvUmV3YXJkVHJhbnNmZXJDaGFubmVsSWQ9ZS5ob3N0VG9SZXdhcmRUcmFuc2ZlckNoYW5uZWxJZD8/XCJcIixvLnJld2FyZFRvVHJhZGVUcmFuc2ZlckNoYW5uZWxJZD1lLnJld2FyZFRvVHJhZGVUcmFuc2ZlckNoYW5uZWxJZD8/XCJcIixvLnRyYWRlVG9Ib3N0VHJhbnNmZXJDaGFubmVsSWQ9ZS50cmFkZVRvSG9zdFRyYW5zZmVyQ2hhbm5lbElkPz9cIlwiLG8ucmV3YXJkRGVub21Pbkhvc3Q9ZS5yZXdhcmREZW5vbU9uSG9zdD8/XCJcIixvLnJld2FyZERlbm9tT25SZXdhcmQ9ZS5yZXdhcmREZW5vbU9uUmV3YXJkPz9cIlwiLG8ucmV3YXJkRGVub21PblRyYWRlPWUucmV3YXJkRGVub21PblRyYWRlPz9cIlwiLG8uaG9zdERlbm9tT25UcmFkZT1lLmhvc3REZW5vbU9uVHJhZGU/P1wiXCIsby5ob3N0RGVub21Pbkhvc3Q9ZS5ob3N0RGVub21Pbkhvc3Q/P1wiXCIsby5wb29sSWQ9dm9pZCAwIT09ZS5wb29sSWQmJm51bGwhPT1lLnBvb2xJZD9CaWdJbnQoZS5wb29sSWQudG9TdHJpbmcoKSk6QmlnSW50KDApLG8ubWF4QWxsb3dlZFN3YXBMb3NzUmF0ZT1lLm1heEFsbG93ZWRTd2FwTG9zc1JhdGU/P1wiXCIsby5taW5Td2FwQW1vdW50PWUubWluU3dhcEFtb3VudD8/XCJcIixvLm1heFN3YXBBbW91bnQ9ZS5tYXhTd2FwQW1vdW50Pz9cIlwiLG8ubWluVHJhbnNmZXJBbW91bnQ9ZS5taW5UcmFuc2ZlckFtb3VudD8/XCJcIixvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnQ3JlYXRlVHJhZGVSb3V0ZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dDcmVhdGVUcmFkZVJvdXRlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQ3JlYXRlVHJhZGVSb3V0ZVwiLHZhbHVlOk1zZ0NyZWF0ZVRyYWRlUm91dGUuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dDcmVhdGVUcmFkZVJvdXRlKE1zZ0NyZWF0ZVRyYWRlUm91dGUpO2NvbnN0IE1zZ0NyZWF0ZVRyYWRlUm91dGVSZXNwb25zZT17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnQ3JlYXRlVHJhZGVSb3V0ZVJlc3BvbnNlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXt9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnQ3JlYXRlVHJhZGVSb3V0ZVJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ0NyZWF0ZVRyYWRlUm91dGVSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ0NyZWF0ZVRyYWRlUm91dGVSZXNwb25zZVwiLHZhbHVlOk1zZ0NyZWF0ZVRyYWRlUm91dGVSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ0NyZWF0ZVRyYWRlUm91dGVSZXNwb25zZShNc2dDcmVhdGVUcmFkZVJvdXRlUmVzcG9uc2UpO2NvbnN0IE1zZ0RlbGV0ZVRyYWRlUm91dGU9e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ0RlbGV0ZVRyYWRlUm91dGVcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmF1dGhvcml0eSYmby51aW50MzIoMTApLnN0cmluZyhlLmF1dGhvcml0eSksXCJcIiE9PWUucmV3YXJkRGVub20mJm8udWludDMyKDE4KS5zdHJpbmcoZS5yZXdhcmREZW5vbSksXCJcIiE9PWUuaG9zdERlbm9tJiZvLnVpbnQzMigyNikuc3RyaW5nKGUuaG9zdERlbm9tKSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9e2F1dGhvcml0eTpcIlwiLHJld2FyZERlbm9tOlwiXCIsaG9zdERlbm9tOlwiXCJ9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLmF1dGhvcml0eT1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLnJld2FyZERlbm9tPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmEuaG9zdERlbm9tPW4uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe2F1dGhvcml0eTphKGUuYXV0aG9yaXR5KT9TdHJpbmcoZS5hdXRob3JpdHkpOlwiXCIscmV3YXJkRGVub206YShlLnJld2FyZERlbm9tKT9TdHJpbmcoZS5yZXdhcmREZW5vbSk6XCJcIixob3N0RGVub206YShlLmhvc3REZW5vbSk/U3RyaW5nKGUuaG9zdERlbm9tKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuYXV0aG9yaXR5JiYoby5hdXRob3JpdHk9ZS5hdXRob3JpdHkpLHZvaWQgMCE9PWUucmV3YXJkRGVub20mJihvLnJld2FyZERlbm9tPWUucmV3YXJkRGVub20pLHZvaWQgMCE9PWUuaG9zdERlbm9tJiYoby5ob3N0RGVub209ZS5ob3N0RGVub20pLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89e2F1dGhvcml0eTpcIlwiLHJld2FyZERlbm9tOlwiXCIsaG9zdERlbm9tOlwiXCJ9O3JldHVybiBvLmF1dGhvcml0eT1lLmF1dGhvcml0eT8/XCJcIixvLnJld2FyZERlbm9tPWUucmV3YXJkRGVub20/P1wiXCIsby5ob3N0RGVub209ZS5ob3N0RGVub20/P1wiXCIsb30sZnJvbVByb3RvTXNnOmU9Pk1zZ0RlbGV0ZVRyYWRlUm91dGUuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnRGVsZXRlVHJhZGVSb3V0ZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ0RlbGV0ZVRyYWRlUm91dGVcIix2YWx1ZTpNc2dEZWxldGVUcmFkZVJvdXRlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnRGVsZXRlVHJhZGVSb3V0ZShNc2dEZWxldGVUcmFkZVJvdXRlKTtjb25zdCBNc2dEZWxldGVUcmFkZVJvdXRlUmVzcG9uc2U9e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ0RlbGV0ZVRyYWRlUm91dGVSZXNwb25zZVwiLGVuY29kZTooZSxvPW4uY3JlYXRlKCkpPT5vLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgcj12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT17fTtmb3IoO24ucG9zPHI7KXtjb25zdCBlPW4udWludDMyKCk7bi5za2lwVHlwZSg3JmUpfXJldHVybiBhfSxmcm9tSlNPTjplPT4oe30pLHRvSlNPTjplPT4oe30pLGZyb21QYXJ0aWFsOmU9Pih7fSksZnJvbVByb3RvTXNnOmU9Pk1zZ0RlbGV0ZVRyYWRlUm91dGVSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dEZWxldGVUcmFkZVJvdXRlUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dEZWxldGVUcmFkZVJvdXRlUmVzcG9uc2VcIix2YWx1ZTpNc2dEZWxldGVUcmFkZVJvdXRlUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dEZWxldGVUcmFkZVJvdXRlUmVzcG9uc2UoTXNnRGVsZXRlVHJhZGVSb3V0ZVJlc3BvbnNlKTtmdW5jdGlvbiBtKCl7cmV0dXJue2F1dGhvcml0eTpcIlwiLHJld2FyZERlbm9tOlwiXCIsaG9zdERlbm9tOlwiXCIscG9vbElkOkJpZ0ludCgwKSxtYXhBbGxvd2VkU3dhcExvc3NSYXRlOlwiXCIsbWluU3dhcEFtb3VudDpcIlwiLG1heFN3YXBBbW91bnQ6XCJcIixtaW5UcmFuc2ZlckFtb3VudDpcIlwifX1jb25zdCBNc2dVcGRhdGVUcmFkZVJvdXRlPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dVcGRhdGVUcmFkZVJvdXRlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9PihcIlwiIT09ZS5hdXRob3JpdHkmJm8udWludDMyKDEwKS5zdHJpbmcoZS5hdXRob3JpdHkpLFwiXCIhPT1lLnJld2FyZERlbm9tJiZvLnVpbnQzMigxOCkuc3RyaW5nKGUucmV3YXJkRGVub20pLFwiXCIhPT1lLmhvc3REZW5vbSYmby51aW50MzIoMjYpLnN0cmluZyhlLmhvc3REZW5vbSksZS5wb29sSWQhPT1CaWdJbnQoMCkmJm8udWludDMyKDMyKS51aW50NjQoZS5wb29sSWQpLFwiXCIhPT1lLm1heEFsbG93ZWRTd2FwTG9zc1JhdGUmJm8udWludDMyKDQyKS5zdHJpbmcoZS5tYXhBbGxvd2VkU3dhcExvc3NSYXRlKSxcIlwiIT09ZS5taW5Td2FwQW1vdW50JiZvLnVpbnQzMig1MCkuc3RyaW5nKGUubWluU3dhcEFtb3VudCksXCJcIiE9PWUubWF4U3dhcEFtb3VudCYmby51aW50MzIoNTgpLnN0cmluZyhlLm1heFN3YXBBbW91bnQpLFwiXCIhPT1lLm1pblRyYW5zZmVyQW1vdW50JiZvLnVpbnQzMigxMzgpLnN0cmluZyhlLm1pblRyYW5zZmVyQW1vdW50KSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9bSgpO2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTphLmF1dGhvcml0eT1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjphLnJld2FyZERlbm9tPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmEuaG9zdERlbm9tPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OmEucG9vbElkPW4udWludDY0KCk7YnJlYWs7Y2FzZSA1OmEubWF4QWxsb3dlZFN3YXBMb3NzUmF0ZT1uLnN0cmluZygpO2JyZWFrO2Nhc2UgNjphLm1pblN3YXBBbW91bnQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDc6YS5tYXhTd2FwQW1vdW50PW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAxNzphLm1pblRyYW5zZmVyQW1vdW50PW4uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe2F1dGhvcml0eTphKGUuYXV0aG9yaXR5KT9TdHJpbmcoZS5hdXRob3JpdHkpOlwiXCIscmV3YXJkRGVub206YShlLnJld2FyZERlbm9tKT9TdHJpbmcoZS5yZXdhcmREZW5vbSk6XCJcIixob3N0RGVub206YShlLmhvc3REZW5vbSk/U3RyaW5nKGUuaG9zdERlbm9tKTpcIlwiLHBvb2xJZDphKGUucG9vbElkKT9CaWdJbnQoZS5wb29sSWQudG9TdHJpbmcoKSk6QmlnSW50KDApLG1heEFsbG93ZWRTd2FwTG9zc1JhdGU6YShlLm1heEFsbG93ZWRTd2FwTG9zc1JhdGUpP1N0cmluZyhlLm1heEFsbG93ZWRTd2FwTG9zc1JhdGUpOlwiXCIsbWluU3dhcEFtb3VudDphKGUubWluU3dhcEFtb3VudCk/U3RyaW5nKGUubWluU3dhcEFtb3VudCk6XCJcIixtYXhTd2FwQW1vdW50OmEoZS5tYXhTd2FwQW1vdW50KT9TdHJpbmcoZS5tYXhTd2FwQW1vdW50KTpcIlwiLG1pblRyYW5zZmVyQW1vdW50OmEoZS5taW5UcmFuc2ZlckFtb3VudCk/U3RyaW5nKGUubWluVHJhbnNmZXJBbW91bnQpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5hdXRob3JpdHkmJihvLmF1dGhvcml0eT1lLmF1dGhvcml0eSksdm9pZCAwIT09ZS5yZXdhcmREZW5vbSYmKG8ucmV3YXJkRGVub209ZS5yZXdhcmREZW5vbSksdm9pZCAwIT09ZS5ob3N0RGVub20mJihvLmhvc3REZW5vbT1lLmhvc3REZW5vbSksdm9pZCAwIT09ZS5wb29sSWQmJihvLnBvb2xJZD0oZS5wb29sSWR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5tYXhBbGxvd2VkU3dhcExvc3NSYXRlJiYoby5tYXhBbGxvd2VkU3dhcExvc3NSYXRlPWUubWF4QWxsb3dlZFN3YXBMb3NzUmF0ZSksdm9pZCAwIT09ZS5taW5Td2FwQW1vdW50JiYoby5taW5Td2FwQW1vdW50PWUubWluU3dhcEFtb3VudCksdm9pZCAwIT09ZS5tYXhTd2FwQW1vdW50JiYoby5tYXhTd2FwQW1vdW50PWUubWF4U3dhcEFtb3VudCksdm9pZCAwIT09ZS5taW5UcmFuc2ZlckFtb3VudCYmKG8ubWluVHJhbnNmZXJBbW91bnQ9ZS5taW5UcmFuc2ZlckFtb3VudCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1tKCk7cmV0dXJuIG8uYXV0aG9yaXR5PWUuYXV0aG9yaXR5Pz9cIlwiLG8ucmV3YXJkRGVub209ZS5yZXdhcmREZW5vbT8/XCJcIixvLmhvc3REZW5vbT1lLmhvc3REZW5vbT8/XCJcIixvLnBvb2xJZD12b2lkIDAhPT1lLnBvb2xJZCYmbnVsbCE9PWUucG9vbElkP0JpZ0ludChlLnBvb2xJZC50b1N0cmluZygpKTpCaWdJbnQoMCksby5tYXhBbGxvd2VkU3dhcExvc3NSYXRlPWUubWF4QWxsb3dlZFN3YXBMb3NzUmF0ZT8/XCJcIixvLm1pblN3YXBBbW91bnQ9ZS5taW5Td2FwQW1vdW50Pz9cIlwiLG8ubWF4U3dhcEFtb3VudD1lLm1heFN3YXBBbW91bnQ/P1wiXCIsby5taW5UcmFuc2ZlckFtb3VudD1lLm1pblRyYW5zZmVyQW1vdW50Pz9cIlwiLG99LGZyb21Qcm90b01zZzplPT5Nc2dVcGRhdGVUcmFkZVJvdXRlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1VwZGF0ZVRyYWRlUm91dGUuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dVcGRhdGVUcmFkZVJvdXRlXCIsdmFsdWU6TXNnVXBkYXRlVHJhZGVSb3V0ZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1VwZGF0ZVRyYWRlUm91dGUoTXNnVXBkYXRlVHJhZGVSb3V0ZSk7Y29uc3QgTXNnVXBkYXRlVHJhZGVSb3V0ZVJlc3BvbnNlPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dVcGRhdGVUcmFkZVJvdXRlUmVzcG9uc2VcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+byxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IHI9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9e307Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO24uc2tpcFR5cGUoNyZlKX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHt9KSx0b0pTT046ZT0+KHt9KSxmcm9tUGFydGlhbDplPT4oe30pLGZyb21Qcm90b01zZzplPT5Nc2dVcGRhdGVUcmFkZVJvdXRlUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnVXBkYXRlVHJhZGVSb3V0ZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnVXBkYXRlVHJhZGVSb3V0ZVJlc3BvbnNlXCIsdmFsdWU6TXNnVXBkYXRlVHJhZGVSb3V0ZVJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnVXBkYXRlVHJhZGVSb3V0ZVJlc3BvbnNlKE1zZ1VwZGF0ZVRyYWRlUm91dGVSZXNwb25zZSk7Y29uc3QgTXNnU2V0Q29tbXVuaXR5UG9vbFJlYmF0ZT17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnU2V0Q29tbXVuaXR5UG9vbFJlYmF0ZVwiLGVuY29kZTooZSxvPW4uY3JlYXRlKCkpPT4oXCJcIiE9PWUuY3JlYXRvciYmby51aW50MzIoMTApLnN0cmluZyhlLmNyZWF0b3IpLFwiXCIhPT1lLmNoYWluSWQmJm8udWludDMyKDE4KS5zdHJpbmcoZS5jaGFpbklkKSxcIlwiIT09ZS5yZWJhdGVSYXRlJiZvLnVpbnQzMigyNikuc3RyaW5nKHIuZnJvbVVzZXJJbnB1dChlLnJlYmF0ZVJhdGUsMTgpLmF0b21pY3MpLFwiXCIhPT1lLmxpcXVpZFN0YWtlZFN0VG9rZW5BbW91bnQmJm8udWludDMyKDM0KS5zdHJpbmcoZS5saXF1aWRTdGFrZWRTdFRva2VuQW1vdW50KSxvKSxkZWNvZGUoZSxvKXtjb25zdCBuPWUgaW5zdGFuY2VvZiB0P2U6bmV3IHQoZSk7bGV0IGE9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IHM9e2NyZWF0b3I6XCJcIixjaGFpbklkOlwiXCIscmViYXRlUmF0ZTpcIlwiLGxpcXVpZFN0YWtlZFN0VG9rZW5BbW91bnQ6XCJcIn07Zm9yKDtuLnBvczxhOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnMuY3JlYXRvcj1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpzLmNoYWluSWQ9bi5zdHJpbmcoKTticmVhaztjYXNlIDM6cy5yZWJhdGVSYXRlPXIuZnJvbUF0b21pY3Mobi5zdHJpbmcoKSwxOCkudG9TdHJpbmcoKTticmVhaztjYXNlIDQ6cy5saXF1aWRTdGFrZWRTdFRva2VuQW1vdW50PW4uc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBzfSxmcm9tSlNPTjplPT4oe2NyZWF0b3I6YShlLmNyZWF0b3IpP1N0cmluZyhlLmNyZWF0b3IpOlwiXCIsY2hhaW5JZDphKGUuY2hhaW5JZCk/U3RyaW5nKGUuY2hhaW5JZCk6XCJcIixyZWJhdGVSYXRlOmEoZS5yZWJhdGVSYXRlKT9TdHJpbmcoZS5yZWJhdGVSYXRlKTpcIlwiLGxpcXVpZFN0YWtlZFN0VG9rZW5BbW91bnQ6YShlLmxpcXVpZFN0YWtlZFN0VG9rZW5BbW91bnQpP1N0cmluZyhlLmxpcXVpZFN0YWtlZFN0VG9rZW5BbW91bnQpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5jcmVhdG9yJiYoby5jcmVhdG9yPWUuY3JlYXRvciksdm9pZCAwIT09ZS5jaGFpbklkJiYoby5jaGFpbklkPWUuY2hhaW5JZCksdm9pZCAwIT09ZS5yZWJhdGVSYXRlJiYoby5yZWJhdGVSYXRlPWUucmViYXRlUmF0ZSksdm9pZCAwIT09ZS5saXF1aWRTdGFrZWRTdFRva2VuQW1vdW50JiYoby5saXF1aWRTdGFrZWRTdFRva2VuQW1vdW50PWUubGlxdWlkU3Rha2VkU3RUb2tlbkFtb3VudCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17Y3JlYXRvcjpcIlwiLGNoYWluSWQ6XCJcIixyZWJhdGVSYXRlOlwiXCIsbGlxdWlkU3Rha2VkU3RUb2tlbkFtb3VudDpcIlwifTtyZXR1cm4gby5jcmVhdG9yPWUuY3JlYXRvcj8/XCJcIixvLmNoYWluSWQ9ZS5jaGFpbklkPz9cIlwiLG8ucmViYXRlUmF0ZT1lLnJlYmF0ZVJhdGU/P1wiXCIsby5saXF1aWRTdGFrZWRTdFRva2VuQW1vdW50PWUubGlxdWlkU3Rha2VkU3RUb2tlbkFtb3VudD8/XCJcIixvfSxmcm9tUHJvdG9Nc2c6ZT0+TXNnU2V0Q29tbXVuaXR5UG9vbFJlYmF0ZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dTZXRDb21tdW5pdHlQb29sUmViYXRlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnU2V0Q29tbXVuaXR5UG9vbFJlYmF0ZVwiLHZhbHVlOk1zZ1NldENvbW11bml0eVBvb2xSZWJhdGUuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dTZXRDb21tdW5pdHlQb29sUmViYXRlKE1zZ1NldENvbW11bml0eVBvb2xSZWJhdGUpO2NvbnN0IE1zZ1NldENvbW11bml0eVBvb2xSZWJhdGVSZXNwb25zZT17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnU2V0Q29tbXVuaXR5UG9vbFJlYmF0ZVJlc3BvbnNlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXt9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnU2V0Q29tbXVuaXR5UG9vbFJlYmF0ZVJlc3BvbnNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1NldENvbW11bml0eVBvb2xSZWJhdGVSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ1NldENvbW11bml0eVBvb2xSZWJhdGVSZXNwb25zZVwiLHZhbHVlOk1zZ1NldENvbW11bml0eVBvb2xSZWJhdGVSZXNwb25zZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1NldENvbW11bml0eVBvb2xSZWJhdGVSZXNwb25zZShNc2dTZXRDb21tdW5pdHlQb29sUmViYXRlUmVzcG9uc2UpO2NvbnN0IE1zZ1RvZ2dsZVRyYWRlQ29udHJvbGxlcj17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnVG9nZ2xlVHJhZGVDb250cm9sbGVyXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9PihcIlwiIT09ZS5jcmVhdG9yJiZvLnVpbnQzMigxMCkuc3RyaW5nKGUuY3JlYXRvciksXCJcIiE9PWUuY2hhaW5JZCYmby51aW50MzIoMTgpLnN0cmluZyhlLmNoYWluSWQpLDAhPT1lLnBlcm1pc3Npb25DaGFuZ2UmJm8udWludDMyKDI0KS5pbnQzMihlLnBlcm1pc3Npb25DaGFuZ2UpLFwiXCIhPT1lLmFkZHJlc3MmJm8udWludDMyKDM0KS5zdHJpbmcoZS5hZGRyZXNzKSwhMD09PWUubGVnYWN5JiZvLnVpbnQzMig0MCkuYm9vbChlLmxlZ2FjeSksbyksZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXtjcmVhdG9yOlwiXCIsY2hhaW5JZDpcIlwiLHBlcm1pc3Npb25DaGFuZ2U6MCxhZGRyZXNzOlwiXCIsbGVnYWN5OiExfTtmb3IoO24ucG9zPHI7KXtjb25zdCBlPW4udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS5jcmVhdG9yPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmEuY2hhaW5JZD1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMzphLnBlcm1pc3Npb25DaGFuZ2U9bi5pbnQzMigpO2JyZWFrO2Nhc2UgNDphLmFkZHJlc3M9bi5zdHJpbmcoKTticmVhaztjYXNlIDU6YS5sZWdhY3k9bi5ib29sKCk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmZSl9fXJldHVybiBhfSxmcm9tSlNPTjplPT4oe2NyZWF0b3I6YShlLmNyZWF0b3IpP1N0cmluZyhlLmNyZWF0b3IpOlwiXCIsY2hhaW5JZDphKGUuY2hhaW5JZCk/U3RyaW5nKGUuY2hhaW5JZCk6XCJcIixwZXJtaXNzaW9uQ2hhbmdlOmEoZS5wZXJtaXNzaW9uQ2hhbmdlKT9hdXRoelBlcm1pc3Npb25DaGFuZ2VGcm9tSlNPTihlLnBlcm1pc3Npb25DaGFuZ2UpOi0xLGFkZHJlc3M6YShlLmFkZHJlc3MpP1N0cmluZyhlLmFkZHJlc3MpOlwiXCIsbGVnYWN5OiEhYShlLmxlZ2FjeSkmJkJvb2xlYW4oZS5sZWdhY3kpfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuY3JlYXRvciYmKG8uY3JlYXRvcj1lLmNyZWF0b3IpLHZvaWQgMCE9PWUuY2hhaW5JZCYmKG8uY2hhaW5JZD1lLmNoYWluSWQpLHZvaWQgMCE9PWUucGVybWlzc2lvbkNoYW5nZSYmKG8ucGVybWlzc2lvbkNoYW5nZT1hdXRoelBlcm1pc3Npb25DaGFuZ2VUb0pTT04oZS5wZXJtaXNzaW9uQ2hhbmdlKSksdm9pZCAwIT09ZS5hZGRyZXNzJiYoby5hZGRyZXNzPWUuYWRkcmVzcyksdm9pZCAwIT09ZS5sZWdhY3kmJihvLmxlZ2FjeT1lLmxlZ2FjeSksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17Y3JlYXRvcjpcIlwiLGNoYWluSWQ6XCJcIixwZXJtaXNzaW9uQ2hhbmdlOjAsYWRkcmVzczpcIlwiLGxlZ2FjeTohMX07cmV0dXJuIG8uY3JlYXRvcj1lLmNyZWF0b3I/P1wiXCIsby5jaGFpbklkPWUuY2hhaW5JZD8/XCJcIixvLnBlcm1pc3Npb25DaGFuZ2U9ZS5wZXJtaXNzaW9uQ2hhbmdlPz8wLG8uYWRkcmVzcz1lLmFkZHJlc3M/P1wiXCIsby5sZWdhY3k9ZS5sZWdhY3k/PyExLG99LGZyb21Qcm90b01zZzplPT5Nc2dUb2dnbGVUcmFkZUNvbnRyb2xsZXIuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnVG9nZ2xlVHJhZGVDb250cm9sbGVyLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnVG9nZ2xlVHJhZGVDb250cm9sbGVyXCIsdmFsdWU6TXNnVG9nZ2xlVHJhZGVDb250cm9sbGVyLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnVG9nZ2xlVHJhZGVDb250cm9sbGVyKE1zZ1RvZ2dsZVRyYWRlQ29udHJvbGxlcik7Y29uc3QgTXNnVG9nZ2xlVHJhZGVDb250cm9sbGVyUmVzcG9uc2U9e3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLk1zZ1RvZ2dsZVRyYWRlQ29udHJvbGxlclJlc3BvbnNlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXt9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnVG9nZ2xlVHJhZGVDb250cm9sbGVyUmVzcG9uc2UuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TXNnVG9nZ2xlVHJhZGVDb250cm9sbGVyUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dUb2dnbGVUcmFkZUNvbnRyb2xsZXJSZXNwb25zZVwiLHZhbHVlOk1zZ1RvZ2dsZVRyYWRlQ29udHJvbGxlclJlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTXNnVG9nZ2xlVHJhZGVDb250cm9sbGVyUmVzcG9uc2UoTXNnVG9nZ2xlVHJhZGVDb250cm9sbGVyUmVzcG9uc2UpO2Z1bmN0aW9uIHUoKXtyZXR1cm57YXV0aG9yaXR5OlwiXCIsY2hhaW5JZDpcIlwiLG1heE1lc3NhZ2VzUGVySWNhVHg6QmlnSW50KDApfX1jb25zdCBNc2dVcGRhdGVIb3N0Wm9uZVBhcmFtcz17dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnVXBkYXRlSG9zdFpvbmVQYXJhbXNcIixlbmNvZGU6KGUsbz1uLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLmF1dGhvcml0eSYmby51aW50MzIoMTApLnN0cmluZyhlLmF1dGhvcml0eSksXCJcIiE9PWUuY2hhaW5JZCYmby51aW50MzIoMTgpLnN0cmluZyhlLmNoYWluSWQpLGUubWF4TWVzc2FnZXNQZXJJY2FUeCE9PUJpZ0ludCgwKSYmby51aW50MzIoMjQpLnVpbnQ2NChlLm1heE1lc3NhZ2VzUGVySWNhVHgpLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHQ/ZTpuZXcgdChlKTtsZXQgcj12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT11KCk7Zm9yKDtuLnBvczxyOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEuYXV0aG9yaXR5PW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmEuY2hhaW5JZD1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMzphLm1heE1lc3NhZ2VzUGVySWNhVHg9bi51aW50NjQoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7YXV0aG9yaXR5OmEoZS5hdXRob3JpdHkpP1N0cmluZyhlLmF1dGhvcml0eSk6XCJcIixjaGFpbklkOmEoZS5jaGFpbklkKT9TdHJpbmcoZS5jaGFpbklkKTpcIlwiLG1heE1lc3NhZ2VzUGVySWNhVHg6YShlLm1heE1lc3NhZ2VzUGVySWNhVHgpP0JpZ0ludChlLm1heE1lc3NhZ2VzUGVySWNhVHgudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuYXV0aG9yaXR5JiYoby5hdXRob3JpdHk9ZS5hdXRob3JpdHkpLHZvaWQgMCE9PWUuY2hhaW5JZCYmKG8uY2hhaW5JZD1lLmNoYWluSWQpLHZvaWQgMCE9PWUubWF4TWVzc2FnZXNQZXJJY2FUeCYmKG8ubWF4TWVzc2FnZXNQZXJJY2FUeD0oZS5tYXhNZXNzYWdlc1BlckljYVR4fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IG89dSgpO3JldHVybiBvLmF1dGhvcml0eT1lLmF1dGhvcml0eT8/XCJcIixvLmNoYWluSWQ9ZS5jaGFpbklkPz9cIlwiLG8ubWF4TWVzc2FnZXNQZXJJY2FUeD12b2lkIDAhPT1lLm1heE1lc3NhZ2VzUGVySWNhVHgmJm51bGwhPT1lLm1heE1lc3NhZ2VzUGVySWNhVHg/QmlnSW50KGUubWF4TWVzc2FnZXNQZXJJY2FUeC50b1N0cmluZygpKTpCaWdJbnQoMCksb30sZnJvbVByb3RvTXNnOmU9Pk1zZ1VwZGF0ZUhvc3Rab25lUGFyYW1zLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pk1zZ1VwZGF0ZUhvc3Rab25lUGFyYW1zLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnVXBkYXRlSG9zdFpvbmVQYXJhbXNcIix2YWx1ZTpNc2dVcGRhdGVIb3N0Wm9uZVBhcmFtcy5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLk1zZ1VwZGF0ZUhvc3Rab25lUGFyYW1zKE1zZ1VwZGF0ZUhvc3Rab25lUGFyYW1zKTtjb25zdCBNc2dVcGRhdGVIb3N0Wm9uZVBhcmFtc1Jlc3BvbnNlPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5Nc2dVcGRhdGVIb3N0Wm9uZVBhcmFtc1Jlc3BvbnNlXCIsZW5jb2RlOihlLG89bi5jcmVhdGUoKSk9Pm8sZGVjb2RlKGUsbyl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgdD9lOm5ldyB0KGUpO2xldCByPXZvaWQgMD09PW8/bi5sZW46bi5wb3Mrbztjb25zdCBhPXt9O2Zvcig7bi5wb3M8cjspe2NvbnN0IGU9bi51aW50MzIoKTtuLnNraXBUeXBlKDcmZSl9cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7fSksdG9KU09OOmU9Pih7fSksZnJvbVBhcnRpYWw6ZT0+KHt9KSxmcm9tUHJvdG9Nc2c6ZT0+TXNnVXBkYXRlSG9zdFpvbmVQYXJhbXNSZXNwb25zZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Nc2dVcGRhdGVIb3N0Wm9uZVBhcmFtc1Jlc3BvbnNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi9zdHJpZGUuc3Rha2VpYmMuTXNnVXBkYXRlSG9zdFpvbmVQYXJhbXNSZXNwb25zZVwiLHZhbHVlOk1zZ1VwZGF0ZUhvc3Rab25lUGFyYW1zUmVzcG9uc2UuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Nc2dVcGRhdGVIb3N0Wm9uZVBhcmFtc1Jlc3BvbnNlKE1zZ1VwZGF0ZUhvc3Rab25lUGFyYW1zUmVzcG9uc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnsiQXV0aHpQZXJtaXNzaW9uQ2hhbmdlIjpbIkF1dGh6UGVybWlzc2lvbkNoYW5nZSIsdHJ1ZV19LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiQXV0aHpQZXJtaXNzaW9uQ2hhbmdlU0RLVHlwZSI6WyJBdXRoelBlcm1pc3Npb25DaGFuZ2VTREtUeXBlIl0sImF1dGh6UGVybWlzc2lvbkNoYW5nZUZyb21KU09OIjpbImF1dGh6UGVybWlzc2lvbkNoYW5nZUZyb21KU09OIl0sImF1dGh6UGVybWlzc2lvbkNoYW5nZVRvSlNPTiI6WyJhdXRoelBlcm1pc3Npb25DaGFuZ2VUb0pTT04iXSwiTXNnVXBkYXRlSW5uZXJSZWRlbXB0aW9uUmF0ZUJvdW5kcyI6WyJNc2dVcGRhdGVJbm5lclJlZGVtcHRpb25SYXRlQm91bmRzIl0sIk1zZ1VwZGF0ZUlubmVyUmVkZW1wdGlvblJhdGVCb3VuZHNSZXNwb25zZSI6WyJNc2dVcGRhdGVJbm5lclJlZGVtcHRpb25SYXRlQm91bmRzUmVzcG9uc2UiXSwiTXNnTGlxdWlkU3Rha2UiOlsiTXNnTGlxdWlkU3Rha2UiXSwiTXNnTGlxdWlkU3Rha2VSZXNwb25zZSI6WyJNc2dMaXF1aWRTdGFrZVJlc3BvbnNlIl0sIk1zZ0xTTUxpcXVpZFN0YWtlIjpbIk1zZ0xTTUxpcXVpZFN0YWtlIl0sIk1zZ0xTTUxpcXVpZFN0YWtlUmVzcG9uc2UiOlsiTXNnTFNNTGlxdWlkU3Rha2VSZXNwb25zZSJdLCJNc2dDbGVhckJhbGFuY2UiOlsiTXNnQ2xlYXJCYWxhbmNlIl0sIk1zZ0NsZWFyQmFsYW5jZVJlc3BvbnNlIjpbIk1zZ0NsZWFyQmFsYW5jZVJlc3BvbnNlIl0sIk1zZ1JlZGVlbVN0YWtlIjpbIk1zZ1JlZGVlbVN0YWtlIl0sIk1zZ1JlZGVlbVN0YWtlUmVzcG9uc2UiOlsiTXNnUmVkZWVtU3Rha2VSZXNwb25zZSJdLCJNc2dSZWdpc3Rlckhvc3Rab25lIjpbIk1zZ1JlZ2lzdGVySG9zdFpvbmUiXSwiTXNnUmVnaXN0ZXJIb3N0Wm9uZVJlc3BvbnNlIjpbIk1zZ1JlZ2lzdGVySG9zdFpvbmVSZXNwb25zZSJdLCJNc2dDbGFpbVVuZGVsZWdhdGVkVG9rZW5zIjpbIk1zZ0NsYWltVW5kZWxlZ2F0ZWRUb2tlbnMiXSwiTXNnQ2xhaW1VbmRlbGVnYXRlZFRva2Vuc1Jlc3BvbnNlIjpbIk1zZ0NsYWltVW5kZWxlZ2F0ZWRUb2tlbnNSZXNwb25zZSJdLCJNc2dSZWJhbGFuY2VWYWxpZGF0b3JzIjpbIk1zZ1JlYmFsYW5jZVZhbGlkYXRvcnMiXSwiTXNnUmViYWxhbmNlVmFsaWRhdG9yc1Jlc3BvbnNlIjpbIk1zZ1JlYmFsYW5jZVZhbGlkYXRvcnNSZXNwb25zZSJdLCJNc2dBZGRWYWxpZGF0b3JzIjpbIk1zZ0FkZFZhbGlkYXRvcnMiXSwiTXNnQWRkVmFsaWRhdG9yc1Jlc3BvbnNlIjpbIk1zZ0FkZFZhbGlkYXRvcnNSZXNwb25zZSJdLCJWYWxpZGF0b3JXZWlnaHQiOlsiVmFsaWRhdG9yV2VpZ2h0Il0sIk1zZ0NoYW5nZVZhbGlkYXRvcldlaWdodHMiOlsiTXNnQ2hhbmdlVmFsaWRhdG9yV2VpZ2h0cyJdLCJNc2dDaGFuZ2VWYWxpZGF0b3JXZWlnaHRzUmVzcG9uc2UiOlsiTXNnQ2hhbmdlVmFsaWRhdG9yV2VpZ2h0c1Jlc3BvbnNlIl0sIk1zZ0RlbGV0ZVZhbGlkYXRvciI6WyJNc2dEZWxldGVWYWxpZGF0b3IiXSwiTXNnRGVsZXRlVmFsaWRhdG9yUmVzcG9uc2UiOlsiTXNnRGVsZXRlVmFsaWRhdG9yUmVzcG9uc2UiXSwiTXNnUmVzdG9yZUludGVyY2hhaW5BY2NvdW50IjpbIk1zZ1Jlc3RvcmVJbnRlcmNoYWluQWNjb3VudCJdLCJNc2dSZXN0b3JlSW50ZXJjaGFpbkFjY291bnRSZXNwb25zZSI6WyJNc2dSZXN0b3JlSW50ZXJjaGFpbkFjY291bnRSZXNwb25zZSJdLCJNc2dDbG9zZURlbGVnYXRpb25DaGFubmVsIjpbIk1zZ0Nsb3NlRGVsZWdhdGlvbkNoYW5uZWwiXSwiTXNnQ2xvc2VEZWxlZ2F0aW9uQ2hhbm5lbFJlc3BvbnNlIjpbIk1zZ0Nsb3NlRGVsZWdhdGlvbkNoYW5uZWxSZXNwb25zZSJdLCJNc2dVcGRhdGVWYWxpZGF0b3JTaGFyZXNFeGNoUmF0ZSI6WyJNc2dVcGRhdGVWYWxpZGF0b3JTaGFyZXNFeGNoUmF0ZSJdLCJNc2dVcGRhdGVWYWxpZGF0b3JTaGFyZXNFeGNoUmF0ZVJlc3BvbnNlIjpbIk1zZ1VwZGF0ZVZhbGlkYXRvclNoYXJlc0V4Y2hSYXRlUmVzcG9uc2UiXSwiTXNnQ2FsaWJyYXRlRGVsZWdhdGlvbiI6WyJNc2dDYWxpYnJhdGVEZWxlZ2F0aW9uIl0sIk1zZ0NhbGlicmF0ZURlbGVnYXRpb25SZXNwb25zZSI6WyJNc2dDYWxpYnJhdGVEZWxlZ2F0aW9uUmVzcG9uc2UiXSwiTXNnUmVzdW1lSG9zdFpvbmUiOlsiTXNnUmVzdW1lSG9zdFpvbmUiXSwiTXNnUmVzdW1lSG9zdFpvbmVSZXNwb25zZSI6WyJNc2dSZXN1bWVIb3N0Wm9uZVJlc3BvbnNlIl0sIk1zZ0NyZWF0ZVRyYWRlUm91dGUiOlsiTXNnQ3JlYXRlVHJhZGVSb3V0ZSJdLCJNc2dDcmVhdGVUcmFkZVJvdXRlUmVzcG9uc2UiOlsiTXNnQ3JlYXRlVHJhZGVSb3V0ZVJlc3BvbnNlIl0sIk1zZ0RlbGV0ZVRyYWRlUm91dGUiOlsiTXNnRGVsZXRlVHJhZGVSb3V0ZSJdLCJNc2dEZWxldGVUcmFkZVJvdXRlUmVzcG9uc2UiOlsiTXNnRGVsZXRlVHJhZGVSb3V0ZVJlc3BvbnNlIl0sIk1zZ1VwZGF0ZVRyYWRlUm91dGUiOlsiTXNnVXBkYXRlVHJhZGVSb3V0ZSJdLCJNc2dVcGRhdGVUcmFkZVJvdXRlUmVzcG9uc2UiOlsiTXNnVXBkYXRlVHJhZGVSb3V0ZVJlc3BvbnNlIl0sIk1zZ1NldENvbW11bml0eVBvb2xSZWJhdGUiOlsiTXNnU2V0Q29tbXVuaXR5UG9vbFJlYmF0ZSJdLCJNc2dTZXRDb21tdW5pdHlQb29sUmViYXRlUmVzcG9uc2UiOlsiTXNnU2V0Q29tbXVuaXR5UG9vbFJlYmF0ZVJlc3BvbnNlIl0sIk1zZ1RvZ2dsZVRyYWRlQ29udHJvbGxlciI6WyJNc2dUb2dnbGVUcmFkZUNvbnRyb2xsZXIiXSwiTXNnVG9nZ2xlVHJhZGVDb250cm9sbGVyUmVzcG9uc2UiOlsiTXNnVG9nZ2xlVHJhZGVDb250cm9sbGVyUmVzcG9uc2UiXSwiTXNnVXBkYXRlSG9zdFpvbmVQYXJhbXMiOlsiTXNnVXBkYXRlSG9zdFpvbmVQYXJhbXMiXSwiTXNnVXBkYXRlSG9zdFpvbmVQYXJhbXNSZXNwb25zZSI6WyJNc2dVcGRhdGVIb3N0Wm9uZVBhcmFtc1Jlc3BvbnNlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAPbTicfUEQAA1BEAAEUAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3N0cmlkZS9zdGFrZWliYy92YWxpZGF0b3IuanN7ImltcG9ydHMiOlsiLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vZGVjaW1hbHMuanMiLCIuLi8uLi9oZWxwZXJzLmpzIiwiLi4vLi4vanNvbi1zYWZlLmpzIl0sImV4cG9ydHMiOlsiVmFsaWRhdG9yIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZSxzLHIsbjskaM2PX2ltcG9ydHMoW1tcIi4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vZGVjaW1hbHMuanNcIiwgW1tcIkRlY2ltYWxcIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGEoKXtyZXR1cm57bmFtZTpcIlwiLGFkZHJlc3M6XCJcIix3ZWlnaHQ6QmlnSW50KDApLGRlbGVnYXRpb246XCJcIixzbGFzaFF1ZXJ5UHJvZ3Jlc3NUcmFja2VyOlwiXCIsc2xhc2hRdWVyeUNoZWNrcG9pbnQ6XCJcIixzaGFyZXNUb1Rva2Vuc1JhdGU6XCJcIixkZWxlZ2F0aW9uQ2hhbmdlc0luUHJvZ3Jlc3M6QmlnSW50KDApLHNsYXNoUXVlcnlJblByb2dyZXNzOiExfX0gICAgICAgY29uc3QgVmFsaWRhdG9yPXt0eXBlVXJsOlwiL3N0cmlkZS5zdGFrZWliYy5WYWxpZGF0b3JcIixlbmNvZGU6KGUsbj1zLmNyZWF0ZSgpKT0+KFwiXCIhPT1lLm5hbWUmJm4udWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxcIlwiIT09ZS5hZGRyZXNzJiZuLnVpbnQzMigxOCkuc3RyaW5nKGUuYWRkcmVzcyksZS53ZWlnaHQhPT1CaWdJbnQoMCkmJm4udWludDMyKDQ4KS51aW50NjQoZS53ZWlnaHQpLFwiXCIhPT1lLmRlbGVnYXRpb24mJm4udWludDMyKDQyKS5zdHJpbmcoZS5kZWxlZ2F0aW9uKSxcIlwiIT09ZS5zbGFzaFF1ZXJ5UHJvZ3Jlc3NUcmFja2VyJiZuLnVpbnQzMig3NCkuc3RyaW5nKGUuc2xhc2hRdWVyeVByb2dyZXNzVHJhY2tlciksXCJcIiE9PWUuc2xhc2hRdWVyeUNoZWNrcG9pbnQmJm4udWludDMyKDk4KS5zdHJpbmcoZS5zbGFzaFF1ZXJ5Q2hlY2twb2ludCksXCJcIiE9PWUuc2hhcmVzVG9Ub2tlbnNSYXRlJiZuLnVpbnQzMig4Mikuc3RyaW5nKHIuZnJvbVVzZXJJbnB1dChlLnNoYXJlc1RvVG9rZW5zUmF0ZSwxOCkuYXRvbWljcyksZS5kZWxlZ2F0aW9uQ2hhbmdlc0luUHJvZ3Jlc3MhPT1CaWdJbnQoMCkmJm4udWludDMyKDg4KS5pbnQ2NChlLmRlbGVnYXRpb25DaGFuZ2VzSW5Qcm9ncmVzcyksITA9PT1lLnNsYXNoUXVlcnlJblByb2dyZXNzJiZuLnVpbnQzMigxMDQpLmJvb2woZS5zbGFzaFF1ZXJ5SW5Qcm9ncmVzcyksbiksZGVjb2RlKHMsbil7Y29uc3Qgbz1zIGluc3RhbmNlb2YgZT9zOm5ldyBlKHMpO2xldCB0PXZvaWQgMD09PW4/by5sZW46by5wb3Mrbjtjb25zdCBpPWEoKTtmb3IoO28ucG9zPHQ7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5uYW1lPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkuYWRkcmVzcz1vLnN0cmluZygpO2JyZWFrO2Nhc2UgNjppLndlaWdodD1vLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgNTppLmRlbGVnYXRpb249by5zdHJpbmcoKTticmVhaztjYXNlIDk6aS5zbGFzaFF1ZXJ5UHJvZ3Jlc3NUcmFja2VyPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMjppLnNsYXNoUXVlcnlDaGVja3BvaW50PW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMDppLnNoYXJlc1RvVG9rZW5zUmF0ZT1yLmZyb21BdG9taWNzKG8uc3RyaW5nKCksMTgpLnRvU3RyaW5nKCk7YnJlYWs7Y2FzZSAxMTppLmRlbGVnYXRpb25DaGFuZ2VzSW5Qcm9ncmVzcz1vLmludDY0KCk7YnJlYWs7Y2FzZSAxMzppLnNsYXNoUXVlcnlJblByb2dyZXNzPW8uYm9vbCgpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtuYW1lOm4oZS5uYW1lKT9TdHJpbmcoZS5uYW1lKTpcIlwiLGFkZHJlc3M6bihlLmFkZHJlc3MpP1N0cmluZyhlLmFkZHJlc3MpOlwiXCIsd2VpZ2h0Om4oZS53ZWlnaHQpP0JpZ0ludChlLndlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksZGVsZWdhdGlvbjpuKGUuZGVsZWdhdGlvbik/U3RyaW5nKGUuZGVsZWdhdGlvbik6XCJcIixzbGFzaFF1ZXJ5UHJvZ3Jlc3NUcmFja2VyOm4oZS5zbGFzaFF1ZXJ5UHJvZ3Jlc3NUcmFja2VyKT9TdHJpbmcoZS5zbGFzaFF1ZXJ5UHJvZ3Jlc3NUcmFja2VyKTpcIlwiLHNsYXNoUXVlcnlDaGVja3BvaW50Om4oZS5zbGFzaFF1ZXJ5Q2hlY2twb2ludCk/U3RyaW5nKGUuc2xhc2hRdWVyeUNoZWNrcG9pbnQpOlwiXCIsc2hhcmVzVG9Ub2tlbnNSYXRlOm4oZS5zaGFyZXNUb1Rva2Vuc1JhdGUpP1N0cmluZyhlLnNoYXJlc1RvVG9rZW5zUmF0ZSk6XCJcIixkZWxlZ2F0aW9uQ2hhbmdlc0luUHJvZ3Jlc3M6bihlLmRlbGVnYXRpb25DaGFuZ2VzSW5Qcm9ncmVzcyk/QmlnSW50KGUuZGVsZWdhdGlvbkNoYW5nZXNJblByb2dyZXNzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxzbGFzaFF1ZXJ5SW5Qcm9ncmVzczohIW4oZS5zbGFzaFF1ZXJ5SW5Qcm9ncmVzcykmJkJvb2xlYW4oZS5zbGFzaFF1ZXJ5SW5Qcm9ncmVzcyl9KSx0b0pTT04oZSl7Y29uc3Qgcz17fTtyZXR1cm4gdm9pZCAwIT09ZS5uYW1lJiYocy5uYW1lPWUubmFtZSksdm9pZCAwIT09ZS5hZGRyZXNzJiYocy5hZGRyZXNzPWUuYWRkcmVzcyksdm9pZCAwIT09ZS53ZWlnaHQmJihzLndlaWdodD0oZS53ZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5kZWxlZ2F0aW9uJiYocy5kZWxlZ2F0aW9uPWUuZGVsZWdhdGlvbiksdm9pZCAwIT09ZS5zbGFzaFF1ZXJ5UHJvZ3Jlc3NUcmFja2VyJiYocy5zbGFzaFF1ZXJ5UHJvZ3Jlc3NUcmFja2VyPWUuc2xhc2hRdWVyeVByb2dyZXNzVHJhY2tlciksdm9pZCAwIT09ZS5zbGFzaFF1ZXJ5Q2hlY2twb2ludCYmKHMuc2xhc2hRdWVyeUNoZWNrcG9pbnQ9ZS5zbGFzaFF1ZXJ5Q2hlY2twb2ludCksdm9pZCAwIT09ZS5zaGFyZXNUb1Rva2Vuc1JhdGUmJihzLnNoYXJlc1RvVG9rZW5zUmF0ZT1lLnNoYXJlc1RvVG9rZW5zUmF0ZSksdm9pZCAwIT09ZS5kZWxlZ2F0aW9uQ2hhbmdlc0luUHJvZ3Jlc3MmJihzLmRlbGVnYXRpb25DaGFuZ2VzSW5Qcm9ncmVzcz0oZS5kZWxlZ2F0aW9uQ2hhbmdlc0luUHJvZ3Jlc3N8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5zbGFzaFF1ZXJ5SW5Qcm9ncmVzcyYmKHMuc2xhc2hRdWVyeUluUHJvZ3Jlc3M9ZS5zbGFzaFF1ZXJ5SW5Qcm9ncmVzcyksc30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgcz1hKCk7cmV0dXJuIHMubmFtZT1lLm5hbWU/P1wiXCIscy5hZGRyZXNzPWUuYWRkcmVzcz8/XCJcIixzLndlaWdodD12b2lkIDAhPT1lLndlaWdodCYmbnVsbCE9PWUud2VpZ2h0P0JpZ0ludChlLndlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCkscy5kZWxlZ2F0aW9uPWUuZGVsZWdhdGlvbj8/XCJcIixzLnNsYXNoUXVlcnlQcm9ncmVzc1RyYWNrZXI9ZS5zbGFzaFF1ZXJ5UHJvZ3Jlc3NUcmFja2VyPz9cIlwiLHMuc2xhc2hRdWVyeUNoZWNrcG9pbnQ9ZS5zbGFzaFF1ZXJ5Q2hlY2twb2ludD8/XCJcIixzLnNoYXJlc1RvVG9rZW5zUmF0ZT1lLnNoYXJlc1RvVG9rZW5zUmF0ZT8/XCJcIixzLmRlbGVnYXRpb25DaGFuZ2VzSW5Qcm9ncmVzcz12b2lkIDAhPT1lLmRlbGVnYXRpb25DaGFuZ2VzSW5Qcm9ncmVzcyYmbnVsbCE9PWUuZGVsZWdhdGlvbkNoYW5nZXNJblByb2dyZXNzP0JpZ0ludChlLmRlbGVnYXRpb25DaGFuZ2VzSW5Qcm9ncmVzcy50b1N0cmluZygpKTpCaWdJbnQoMCkscy5zbGFzaFF1ZXJ5SW5Qcm9ncmVzcz1lLnNsYXNoUXVlcnlJblByb2dyZXNzPz8hMSxzfSxmcm9tUHJvdG9Nc2c6ZT0+VmFsaWRhdG9yLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlZhbGlkYXRvci5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvc3RyaWRlLnN0YWtlaWJjLlZhbGlkYXRvclwiLHZhbHVlOlZhbGlkYXRvci5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlZhbGlkYXRvcihWYWxpZGF0b3IpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiVmFsaWRhdG9yIjpbIlZhbGlkYXRvciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAC7TEI7mYoAAJmKAABBAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L2FiY2kvdHlwZXMuanN7ImltcG9ydHMiOlsiLi4vdHlwZXMvdHlwZXMuanMiLCIuLi9jcnlwdG8vcHJvb2YuanMiLCIuLi90eXBlcy9wYXJhbXMuanMiLCIuLi9jcnlwdG8va2V5cy5qcyIsIi4uLy4uL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAuanMiLCIuLi8uLi9iaW5hcnkuanMiLCIuLi8uLi9oZWxwZXJzLmpzIiwiQGVuZG8vYmFzZTY0IiwiLi4vLi4vanNvbi1zYWZlLmpzIl0sImV4cG9ydHMiOlsiQ2hlY2tUeFR5cGUiLCJDaGVja1R4VHlwZVNES1R5cGUiLCJFdmVudCIsIkV2ZW50QXR0cmlidXRlIiwiRXZpZGVuY2UiLCJFdmlkZW5jZVR5cGUiLCJFdmlkZW5jZVR5cGVTREtUeXBlIiwiTGFzdENvbW1pdEluZm8iLCJSZXF1ZXN0QmVnaW5CbG9jayIsIlJlcXVlc3RDaGVja1R4IiwiUmVxdWVzdENvbW1pdCIsIlJlcXVlc3REZWxpdmVyVHgiLCJSZXF1ZXN0RW5kQmxvY2siLCJSZXF1ZXN0UXVlcnkiLCJSZXNwb25zZUJlZ2luQmxvY2siLCJSZXNwb25zZUNoZWNrVHgiLCJSZXNwb25zZUNvbW1pdCIsIlJlc3BvbnNlRGVsaXZlclR4IiwiUmVzcG9uc2VFbmRCbG9jayIsIlJlc3BvbnNlUXVlcnkiLCJUeFJlc3VsdCIsIlZhbGlkYXRvciIsIlZhbGlkYXRvclVwZGF0ZSIsIlZvdGVJbmZvIiwiY2hlY2tUeFR5cGVGcm9tSlNPTiIsImNoZWNrVHhUeXBlVG9KU09OIiwiZXZpZGVuY2VUeXBlRnJvbUpTT04iLCJldmlkZW5jZVR5cGVUb0pTT04iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBlLHQsbyxuLGkscixhLHMsZCxjLGwsdTskaM2PX2ltcG9ydHMoW1tcIi4uL3R5cGVzL3R5cGVzLmpzXCIsIFtbXCJIZWFkZXJcIixbJGjNj19hID0+IChlID0gJGjNj19hKV1dXV0sW1wiLi4vY3J5cHRvL3Byb29mLmpzXCIsIFtbXCJQcm9vZk9wc1wiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV1dXSxbXCIuLi90eXBlcy9wYXJhbXMuanNcIiwgW1tcIkNvbnNlbnN1c1BhcmFtc1wiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV1dXSxbXCIuLi9jcnlwdG8va2V5cy5qc1wiLCBbW1wiUHVibGljS2V5XCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAuanNcIiwgW1tcIlRpbWVzdGFtcFwiLFskaM2PX2EgPT4gKGkgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKHIgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAoYSA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAocyA9ICRozY9fYSldXSxbXCJmcm9tSnNvblRpbWVzdGFtcFwiLFskaM2PX2EgPT4gKGQgPSAkaM2PX2EpXV0sW1wiZnJvbVRpbWVzdGFtcFwiLFskaM2PX2EgPT4gKGMgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9iYXNlNjRcIiwgW1tcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGwgPSAkaM2PX2EpXV0sW1wiZW5jb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAodSA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV1dKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hlY2tUeFR5cGVGcm9tSlNPTiwnbmFtZScse3ZhbHVlOlwiY2hlY2tUeFR5cGVGcm9tSlNPTlwifSk7JGjNj19vbmNlLmNoZWNrVHhUeXBlRnJvbUpTT04oY2hlY2tUeFR5cGVGcm9tSlNPTik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGNoZWNrVHhUeXBlVG9KU09OLCduYW1lJyx7dmFsdWU6XCJjaGVja1R4VHlwZVRvSlNPTlwifSk7JGjNj19vbmNlLmNoZWNrVHhUeXBlVG9KU09OKGNoZWNrVHhUeXBlVG9KU09OKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZpZGVuY2VUeXBlRnJvbUpTT04sJ25hbWUnLHt2YWx1ZTpcImV2aWRlbmNlVHlwZUZyb21KU09OXCJ9KTskaM2PX29uY2UuZXZpZGVuY2VUeXBlRnJvbUpTT04oZXZpZGVuY2VUeXBlRnJvbUpTT04pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShldmlkZW5jZVR5cGVUb0pTT04sJ25hbWUnLHt2YWx1ZTpcImV2aWRlbmNlVHlwZVRvSlNPTlwifSk7JGjNj19vbmNlLmV2aWRlbmNlVHlwZVRvSlNPTihldmlkZW5jZVR5cGVUb0pTT04pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRjzY9fQ2hlY2tUeFR5cGU7JGjNj19saXZlLkNoZWNrVHhUeXBlKCRjzY9fQ2hlY2tUeFR5cGUpOyFmdW5jdGlvbihlKXtlW2UuTkVXPTBdPVwiTkVXXCIsZVtlLlJFQ0hFQ0s9MV09XCJSRUNIRUNLXCIsZVtlLlVOUkVDT0dOSVpFRD0tMV09XCJVTlJFQ09HTklaRURcIn0oQ2hlY2tUeFR5cGV8fChDaGVja1R4VHlwZT17fSkpO2NvbnN0IENoZWNrVHhUeXBlU0RLVHlwZT1DaGVja1R4VHlwZTskaM2PX29uY2UuQ2hlY2tUeFR5cGVTREtUeXBlKENoZWNrVHhUeXBlU0RLVHlwZSk7ZnVuY3Rpb24gY2hlY2tUeFR5cGVGcm9tSlNPTihlKXtzd2l0Y2goZSl7Y2FzZSAwOmNhc2VcIk5FV1wiOnJldHVybiBDaGVja1R4VHlwZS5ORVc7Y2FzZSAxOmNhc2VcIlJFQ0hFQ0tcIjpyZXR1cm4gQ2hlY2tUeFR5cGUuUkVDSEVDSztkZWZhdWx0OnJldHVybiBDaGVja1R4VHlwZS5VTlJFQ09HTklaRUR9fWZ1bmN0aW9uIGNoZWNrVHhUeXBlVG9KU09OKGUpe3N3aXRjaChlKXtjYXNlIENoZWNrVHhUeXBlLk5FVzpyZXR1cm5cIk5FV1wiO2Nhc2UgQ2hlY2tUeFR5cGUuUkVDSEVDSzpyZXR1cm5cIlJFQ0hFQ0tcIjtjYXNlIENoZWNrVHhUeXBlLlVOUkVDT0dOSVpFRDpkZWZhdWx0OnJldHVyblwiVU5SRUNPR05JWkVEXCJ9fXZhciAkY82PX0V2aWRlbmNlVHlwZTskaM2PX2xpdmUuRXZpZGVuY2VUeXBlKCRjzY9fRXZpZGVuY2VUeXBlKTshZnVuY3Rpb24oZSl7ZVtlLlVOS05PV049MF09XCJVTktOT1dOXCIsZVtlLkRVUExJQ0FURV9WT1RFPTFdPVwiRFVQTElDQVRFX1ZPVEVcIixlW2UuTElHSFRfQ0xJRU5UX0FUVEFDSz0yXT1cIkxJR0hUX0NMSUVOVF9BVFRBQ0tcIixlW2UuVU5SRUNPR05JWkVEPS0xXT1cIlVOUkVDT0dOSVpFRFwifShFdmlkZW5jZVR5cGV8fChFdmlkZW5jZVR5cGU9e30pKTtjb25zdCBFdmlkZW5jZVR5cGVTREtUeXBlPUV2aWRlbmNlVHlwZTskaM2PX29uY2UuRXZpZGVuY2VUeXBlU0RLVHlwZShFdmlkZW5jZVR5cGVTREtUeXBlKTtmdW5jdGlvbiBldmlkZW5jZVR5cGVGcm9tSlNPTihlKXtzd2l0Y2goZSl7Y2FzZSAwOmNhc2VcIlVOS05PV05cIjpyZXR1cm4gRXZpZGVuY2VUeXBlLlVOS05PV047Y2FzZSAxOmNhc2VcIkRVUExJQ0FURV9WT1RFXCI6cmV0dXJuIEV2aWRlbmNlVHlwZS5EVVBMSUNBVEVfVk9URTtjYXNlIDI6Y2FzZVwiTElHSFRfQ0xJRU5UX0FUVEFDS1wiOnJldHVybiBFdmlkZW5jZVR5cGUuTElHSFRfQ0xJRU5UX0FUVEFDSztkZWZhdWx0OnJldHVybiBFdmlkZW5jZVR5cGUuVU5SRUNPR05JWkVEfX1mdW5jdGlvbiBldmlkZW5jZVR5cGVUb0pTT04oZSl7c3dpdGNoKGUpe2Nhc2UgRXZpZGVuY2VUeXBlLlVOS05PV046cmV0dXJuXCJVTktOT1dOXCI7Y2FzZSBFdmlkZW5jZVR5cGUuRFVQTElDQVRFX1ZPVEU6cmV0dXJuXCJEVVBMSUNBVEVfVk9URVwiO2Nhc2UgRXZpZGVuY2VUeXBlLkxJR0hUX0NMSUVOVF9BVFRBQ0s6cmV0dXJuXCJMSUdIVF9DTElFTlRfQVRUQUNLXCI7Y2FzZSBFdmlkZW5jZVR5cGUuVU5SRUNPR05JWkVEOmRlZmF1bHQ6cmV0dXJuXCJVTlJFQ09HTklaRURcIn19ZnVuY3Rpb24gcCgpe3JldHVybntkYXRhOm5ldyBVaW50OEFycmF5LHBhdGg6XCJcIixoZWlnaHQ6QmlnSW50KDApLHByb3ZlOiExfX1jb25zdCBSZXF1ZXN0UXVlcnk9e3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlJlcXVlc3RRdWVyeVwiLGVuY29kZTooZSx0PWEuY3JlYXRlKCkpPT4oMCE9PWUuZGF0YS5sZW5ndGgmJnQudWludDMyKDEwKS5ieXRlcyhlLmRhdGEpLFwiXCIhPT1lLnBhdGgmJnQudWludDMyKDE4KS5zdHJpbmcoZS5wYXRoKSxlLmhlaWdodCE9PUJpZ0ludCgwKSYmdC51aW50MzIoMjQpLmludDY0KGUuaGVpZ2h0KSwhMD09PWUucHJvdmUmJnQudWludDMyKDMyKS5ib29sKGUucHJvdmUpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT1wKCk7Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuZGF0YT1vLmJ5dGVzKCk7YnJlYWs7Y2FzZSAyOmkucGF0aD1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMzppLmhlaWdodD1vLmludDY0KCk7YnJlYWs7Y2FzZSA0OmkucHJvdmU9by5ib29sKCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2RhdGE6cyhlLmRhdGEpP2woZS5kYXRhKTpuZXcgVWludDhBcnJheSxwYXRoOnMoZS5wYXRoKT9TdHJpbmcoZS5wYXRoKTpcIlwiLGhlaWdodDpzKGUuaGVpZ2h0KT9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHByb3ZlOiEhcyhlLnByb3ZlKSYmQm9vbGVhbihlLnByb3ZlKX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmRhdGEmJih0LmRhdGE9dSh2b2lkIDAhPT1lLmRhdGE/ZS5kYXRhOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS5wYXRoJiYodC5wYXRoPWUucGF0aCksdm9pZCAwIT09ZS5oZWlnaHQmJih0LmhlaWdodD0oZS5oZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5wcm92ZSYmKHQucHJvdmU9ZS5wcm92ZSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1wKCk7cmV0dXJuIHQuZGF0YT1lLmRhdGE/P25ldyBVaW50OEFycmF5LHQucGF0aD1lLnBhdGg/P1wiXCIsdC5oZWlnaHQ9dm9pZCAwIT09ZS5oZWlnaHQmJm51bGwhPT1lLmhlaWdodD9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHQucHJvdmU9ZS5wcm92ZT8/ITEsdH0sZnJvbVByb3RvTXNnOmU9PlJlcXVlc3RRdWVyeS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZXF1ZXN0UXVlcnkuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXF1ZXN0UXVlcnlcIix2YWx1ZTpSZXF1ZXN0UXVlcnkuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5SZXF1ZXN0UXVlcnkoUmVxdWVzdFF1ZXJ5KTtmdW5jdGlvbiBnKCl7cmV0dXJue2hhc2g6bmV3IFVpbnQ4QXJyYXksaGVhZGVyOmUuZnJvbVBhcnRpYWwoe30pLGxhc3RDb21taXRJbmZvOkxhc3RDb21taXRJbmZvLmZyb21QYXJ0aWFsKHt9KSxieXphbnRpbmVWYWxpZGF0b3JzOltdfX1jb25zdCBSZXF1ZXN0QmVnaW5CbG9jaz17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVxdWVzdEJlZ2luQmxvY2tcIixlbmNvZGUodCxvPWEuY3JlYXRlKCkpezAhPT10Lmhhc2gubGVuZ3RoJiZvLnVpbnQzMigxMCkuYnl0ZXModC5oYXNoKSx2b2lkIDAhPT10LmhlYWRlciYmZS5lbmNvZGUodC5oZWFkZXIsby51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09dC5sYXN0Q29tbWl0SW5mbyYmTGFzdENvbW1pdEluZm8uZW5jb2RlKHQubGFzdENvbW1pdEluZm8sby51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7Zm9yKGNvbnN0IGUgb2YgdC5ieXphbnRpbmVWYWxpZGF0b3JzKUV2aWRlbmNlLmVuY29kZShlLG8udWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBvfSxkZWNvZGUodCxvKXtjb25zdCBuPXQgaW5zdGFuY2VvZiByP3Q6bmV3IHIodCk7bGV0IGk9dm9pZCAwPT09bz9uLmxlbjpuLnBvcytvO2NvbnN0IGE9ZygpO2Zvcig7bi5wb3M8aTspe2NvbnN0IHQ9bi51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTphLmhhc2g9bi5ieXRlcygpO2JyZWFrO2Nhc2UgMjphLmhlYWRlcj1lLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2Nhc2UgMzphLmxhc3RDb21taXRJbmZvPUxhc3RDb21taXRJbmZvLmRlY29kZShuLG4udWludDMyKCkpO2JyZWFrO2Nhc2UgNDphLmJ5emFudGluZVZhbGlkYXRvcnMucHVzaChFdmlkZW5jZS5kZWNvZGUobixuLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmdCl9fXJldHVybiBhfSxmcm9tSlNPTjp0PT4oe2hhc2g6cyh0Lmhhc2gpP2wodC5oYXNoKTpuZXcgVWludDhBcnJheSxoZWFkZXI6cyh0LmhlYWRlcik/ZS5mcm9tSlNPTih0LmhlYWRlcik6dm9pZCAwLGxhc3RDb21taXRJbmZvOnModC5sYXN0Q29tbWl0SW5mbyk/TGFzdENvbW1pdEluZm8uZnJvbUpTT04odC5sYXN0Q29tbWl0SW5mbyk6dm9pZCAwLGJ5emFudGluZVZhbGlkYXRvcnM6QXJyYXkuaXNBcnJheSh0Py5ieXphbnRpbmVWYWxpZGF0b3JzKT90LmJ5emFudGluZVZhbGlkYXRvcnMubWFwKChlPT5FdmlkZW5jZS5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKHQpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PXQuaGFzaCYmKG8uaGFzaD11KHZvaWQgMCE9PXQuaGFzaD90Lmhhc2g6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT10LmhlYWRlciYmKG8uaGVhZGVyPXQuaGVhZGVyP2UudG9KU09OKHQuaGVhZGVyKTp2b2lkIDApLHZvaWQgMCE9PXQubGFzdENvbW1pdEluZm8mJihvLmxhc3RDb21taXRJbmZvPXQubGFzdENvbW1pdEluZm8/TGFzdENvbW1pdEluZm8udG9KU09OKHQubGFzdENvbW1pdEluZm8pOnZvaWQgMCksdC5ieXphbnRpbmVWYWxpZGF0b3JzP28uYnl6YW50aW5lVmFsaWRhdG9ycz10LmJ5emFudGluZVZhbGlkYXRvcnMubWFwKChlPT5lP0V2aWRlbmNlLnRvSlNPTihlKTp2b2lkIDApKTpvLmJ5emFudGluZVZhbGlkYXRvcnM9W10sb30sZnJvbVBhcnRpYWwodCl7Y29uc3Qgbz1nKCk7cmV0dXJuIG8uaGFzaD10Lmhhc2g/P25ldyBVaW50OEFycmF5LG8uaGVhZGVyPXZvaWQgMCE9PXQuaGVhZGVyJiZudWxsIT09dC5oZWFkZXI/ZS5mcm9tUGFydGlhbCh0LmhlYWRlcik6dm9pZCAwLG8ubGFzdENvbW1pdEluZm89dm9pZCAwIT09dC5sYXN0Q29tbWl0SW5mbyYmbnVsbCE9PXQubGFzdENvbW1pdEluZm8/TGFzdENvbW1pdEluZm8uZnJvbVBhcnRpYWwodC5sYXN0Q29tbWl0SW5mbyk6dm9pZCAwLG8uYnl6YW50aW5lVmFsaWRhdG9ycz10LmJ5emFudGluZVZhbGlkYXRvcnM/Lm1hcCgoZT0+RXZpZGVuY2UuZnJvbVBhcnRpYWwoZSkpKXx8W10sb30sZnJvbVByb3RvTXNnOmU9PlJlcXVlc3RCZWdpbkJsb2NrLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlJlcXVlc3RCZWdpbkJsb2NrLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVxdWVzdEJlZ2luQmxvY2tcIix2YWx1ZTpSZXF1ZXN0QmVnaW5CbG9jay5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlJlcXVlc3RCZWdpbkJsb2NrKFJlcXVlc3RCZWdpbkJsb2NrKTtmdW5jdGlvbiB2KCl7cmV0dXJue3R4Om5ldyBVaW50OEFycmF5LHR5cGU6MH19Y29uc3QgUmVxdWVzdENoZWNrVHg9e3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlJlcXVlc3RDaGVja1R4XCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PigwIT09ZS50eC5sZW5ndGgmJnQudWludDMyKDEwKS5ieXRlcyhlLnR4KSwwIT09ZS50eXBlJiZ0LnVpbnQzMigxNikuaW50MzIoZS50eXBlKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9digpO2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTppLnR4PW8uYnl0ZXMoKTticmVhaztjYXNlIDI6aS50eXBlPW8uaW50MzIoKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7dHg6cyhlLnR4KT9sKGUudHgpOm5ldyBVaW50OEFycmF5LHR5cGU6cyhlLnR5cGUpP2NoZWNrVHhUeXBlRnJvbUpTT04oZS50eXBlKTotMX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnR4JiYodC50eD11KHZvaWQgMCE9PWUudHg/ZS50eDpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUudHlwZSYmKHQudHlwZT1jaGVja1R4VHlwZVRvSlNPTihlLnR5cGUpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXYoKTtyZXR1cm4gdC50eD1lLnR4Pz9uZXcgVWludDhBcnJheSx0LnR5cGU9ZS50eXBlPz8wLHR9LGZyb21Qcm90b01zZzplPT5SZXF1ZXN0Q2hlY2tUeC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZXF1ZXN0Q2hlY2tUeC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlJlcXVlc3RDaGVja1R4XCIsdmFsdWU6UmVxdWVzdENoZWNrVHguZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5SZXF1ZXN0Q2hlY2tUeChSZXF1ZXN0Q2hlY2tUeCk7ZnVuY3Rpb24gZigpe3JldHVybnt0eDpuZXcgVWludDhBcnJheX19Y29uc3QgUmVxdWVzdERlbGl2ZXJUeD17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVxdWVzdERlbGl2ZXJUeFwiLGVuY29kZTooZSx0PWEuY3JlYXRlKCkpPT4oMCE9PWUudHgubGVuZ3RoJiZ0LnVpbnQzMigxMCkuYnl0ZXMoZS50eCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPWYoKTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7aWYoZT4+PjM9PTEpaS50eD1vLmJ5dGVzKCk7ZWxzZSBvLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7dHg6cyhlLnR4KT9sKGUudHgpOm5ldyBVaW50OEFycmF5fSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUudHgmJih0LnR4PXUodm9pZCAwIT09ZS50eD9lLnR4Om5ldyBVaW50OEFycmF5KSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1mKCk7cmV0dXJuIHQudHg9ZS50eD8/bmV3IFVpbnQ4QXJyYXksdH0sZnJvbVByb3RvTXNnOmU9PlJlcXVlc3REZWxpdmVyVHguZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UmVxdWVzdERlbGl2ZXJUeC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlJlcXVlc3REZWxpdmVyVHhcIix2YWx1ZTpSZXF1ZXN0RGVsaXZlclR4LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUmVxdWVzdERlbGl2ZXJUeChSZXF1ZXN0RGVsaXZlclR4KTtmdW5jdGlvbiBoKCl7cmV0dXJue2hlaWdodDpCaWdJbnQoMCl9fWNvbnN0IFJlcXVlc3RFbmRCbG9jaz17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVxdWVzdEVuZEJsb2NrXCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PihlLmhlaWdodCE9PUJpZ0ludCgwKSYmdC51aW50MzIoOCkuaW50NjQoZS5oZWlnaHQpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT1oKCk7Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO2lmKGU+Pj4zPT0xKWkuaGVpZ2h0PW8uaW50NjQoKTtlbHNlIG8uc2tpcFR5cGUoNyZlKX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtoZWlnaHQ6cyhlLmhlaWdodCk/QmlnSW50KGUuaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmhlaWdodCYmKHQuaGVpZ2h0PShlLmhlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PWgoKTtyZXR1cm4gdC5oZWlnaHQ9dm9pZCAwIT09ZS5oZWlnaHQmJm51bGwhPT1lLmhlaWdodD9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHR9LGZyb21Qcm90b01zZzplPT5SZXF1ZXN0RW5kQmxvY2suZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UmVxdWVzdEVuZEJsb2NrLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVxdWVzdEVuZEJsb2NrXCIsdmFsdWU6UmVxdWVzdEVuZEJsb2NrLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUmVxdWVzdEVuZEJsb2NrKFJlcXVlc3RFbmRCbG9jayk7Y29uc3QgUmVxdWVzdENvbW1pdD17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVxdWVzdENvbW1pdFwiLGVuY29kZTooZSx0PWEuY3JlYXRlKCkpPT50LGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT17fTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7by5za2lwVHlwZSg3JmUpfXJldHVybiBpfSxmcm9tSlNPTjplPT4oe30pLHRvSlNPTjplPT4oe30pLGZyb21QYXJ0aWFsOmU9Pih7fSksZnJvbVByb3RvTXNnOmU9PlJlcXVlc3RDb21taXQuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UmVxdWVzdENvbW1pdC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlJlcXVlc3RDb21taXRcIix2YWx1ZTpSZXF1ZXN0Q29tbWl0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUmVxdWVzdENvbW1pdChSZXF1ZXN0Q29tbWl0KTtmdW5jdGlvbiBtKCl7cmV0dXJue2NvZGU6MCxsb2c6XCJcIixpbmZvOlwiXCIsaW5kZXg6QmlnSW50KDApLGtleTpuZXcgVWludDhBcnJheSx2YWx1ZTpuZXcgVWludDhBcnJheSxwcm9vZk9wczp2b2lkIDAsaGVpZ2h0OkJpZ0ludCgwKSxjb2Rlc3BhY2U6XCJcIn19Y29uc3QgUmVzcG9uc2VRdWVyeT17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVzcG9uc2VRdWVyeVwiLGVuY29kZTooZSxvPWEuY3JlYXRlKCkpPT4oMCE9PWUuY29kZSYmby51aW50MzIoOCkudWludDMyKGUuY29kZSksXCJcIiE9PWUubG9nJiZvLnVpbnQzMigyNikuc3RyaW5nKGUubG9nKSxcIlwiIT09ZS5pbmZvJiZvLnVpbnQzMigzNCkuc3RyaW5nKGUuaW5mbyksZS5pbmRleCE9PUJpZ0ludCgwKSYmby51aW50MzIoNDApLmludDY0KGUuaW5kZXgpLDAhPT1lLmtleS5sZW5ndGgmJm8udWludDMyKDUwKS5ieXRlcyhlLmtleSksMCE9PWUudmFsdWUubGVuZ3RoJiZvLnVpbnQzMig1OCkuYnl0ZXMoZS52YWx1ZSksdm9pZCAwIT09ZS5wcm9vZk9wcyYmdC5lbmNvZGUoZS5wcm9vZk9wcyxvLnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKSxlLmhlaWdodCE9PUJpZ0ludCgwKSYmby51aW50MzIoNzIpLmludDY0KGUuaGVpZ2h0KSxcIlwiIT09ZS5jb2Rlc3BhY2UmJm8udWludDMyKDgyKS5zdHJpbmcoZS5jb2Rlc3BhY2UpLG8pLGRlY29kZShlLG8pe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgaT12b2lkIDA9PT1vP24ubGVuOm4ucG9zK287Y29uc3QgYT1tKCk7Zm9yKDtuLnBvczxpOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEuY29kZT1uLnVpbnQzMigpO2JyZWFrO2Nhc2UgMzphLmxvZz1uLnN0cmluZygpO2JyZWFrO2Nhc2UgNDphLmluZm89bi5zdHJpbmcoKTticmVhaztjYXNlIDU6YS5pbmRleD1uLmludDY0KCk7YnJlYWs7Y2FzZSA2OmEua2V5PW4uYnl0ZXMoKTticmVhaztjYXNlIDc6YS52YWx1ZT1uLmJ5dGVzKCk7YnJlYWs7Y2FzZSA4OmEucHJvb2ZPcHM9dC5kZWNvZGUobixuLnVpbnQzMigpKTticmVhaztjYXNlIDk6YS5oZWlnaHQ9bi5pbnQ2NCgpO2JyZWFrO2Nhc2UgMTA6YS5jb2Rlc3BhY2U9bi5zdHJpbmcoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGF9LGZyb21KU09OOmU9Pih7Y29kZTpzKGUuY29kZSk/TnVtYmVyKGUuY29kZSk6MCxsb2c6cyhlLmxvZyk/U3RyaW5nKGUubG9nKTpcIlwiLGluZm86cyhlLmluZm8pP1N0cmluZyhlLmluZm8pOlwiXCIsaW5kZXg6cyhlLmluZGV4KT9CaWdJbnQoZS5pbmRleC50b1N0cmluZygpKTpCaWdJbnQoMCksa2V5OnMoZS5rZXkpP2woZS5rZXkpOm5ldyBVaW50OEFycmF5LHZhbHVlOnMoZS52YWx1ZSk/bChlLnZhbHVlKTpuZXcgVWludDhBcnJheSxwcm9vZk9wczpzKGUucHJvb2ZPcHMpP3QuZnJvbUpTT04oZS5wcm9vZk9wcyk6dm9pZCAwLGhlaWdodDpzKGUuaGVpZ2h0KT9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLGNvZGVzcGFjZTpzKGUuY29kZXNwYWNlKT9TdHJpbmcoZS5jb2Rlc3BhY2UpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5jb2RlJiYoby5jb2RlPU1hdGgucm91bmQoZS5jb2RlKSksdm9pZCAwIT09ZS5sb2cmJihvLmxvZz1lLmxvZyksdm9pZCAwIT09ZS5pbmZvJiYoby5pbmZvPWUuaW5mbyksdm9pZCAwIT09ZS5pbmRleCYmKG8uaW5kZXg9KGUuaW5kZXh8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5rZXkmJihvLmtleT11KHZvaWQgMCE9PWUua2V5P2Uua2V5Om5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS52YWx1ZSYmKG8udmFsdWU9dSh2b2lkIDAhPT1lLnZhbHVlP2UudmFsdWU6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnByb29mT3BzJiYoby5wcm9vZk9wcz1lLnByb29mT3BzP3QudG9KU09OKGUucHJvb2ZPcHMpOnZvaWQgMCksdm9pZCAwIT09ZS5oZWlnaHQmJihvLmhlaWdodD0oZS5oZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5jb2Rlc3BhY2UmJihvLmNvZGVzcGFjZT1lLmNvZGVzcGFjZSksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1tKCk7cmV0dXJuIG8uY29kZT1lLmNvZGU/PzAsby5sb2c9ZS5sb2c/P1wiXCIsby5pbmZvPWUuaW5mbz8/XCJcIixvLmluZGV4PXZvaWQgMCE9PWUuaW5kZXgmJm51bGwhPT1lLmluZGV4P0JpZ0ludChlLmluZGV4LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvLmtleT1lLmtleT8/bmV3IFVpbnQ4QXJyYXksby52YWx1ZT1lLnZhbHVlPz9uZXcgVWludDhBcnJheSxvLnByb29mT3BzPXZvaWQgMCE9PWUucHJvb2ZPcHMmJm51bGwhPT1lLnByb29mT3BzP3QuZnJvbVBhcnRpYWwoZS5wcm9vZk9wcyk6dm9pZCAwLG8uaGVpZ2h0PXZvaWQgMCE9PWUuaGVpZ2h0JiZudWxsIT09ZS5oZWlnaHQ/QmlnSW50KGUuaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvLmNvZGVzcGFjZT1lLmNvZGVzcGFjZT8/XCJcIixvfSxmcm9tUHJvdG9Nc2c6ZT0+UmVzcG9uc2VRdWVyeS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZXNwb25zZVF1ZXJ5LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVzcG9uc2VRdWVyeVwiLHZhbHVlOlJlc3BvbnNlUXVlcnkuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5SZXNwb25zZVF1ZXJ5KFJlc3BvbnNlUXVlcnkpO2NvbnN0IFJlc3BvbnNlQmVnaW5CbG9jaz17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVzcG9uc2VCZWdpbkJsb2NrXCIsZW5jb2RlKGUsdD1hLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLmV2ZW50cylFdmVudC5lbmNvZGUobyx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPXtldmVudHM6W119O2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtpZihlPj4+Mz09MSlpLmV2ZW50cy5wdXNoKEV2ZW50LmRlY29kZShvLG8udWludDMyKCkpKTtlbHNlIG8uc2tpcFR5cGUoNyZlKX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtldmVudHM6QXJyYXkuaXNBcnJheShlPy5ldmVudHMpP2UuZXZlbnRzLm1hcCgoZT0+RXZlbnQuZnJvbUpTT04oZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiBlLmV2ZW50cz90LmV2ZW50cz1lLmV2ZW50cy5tYXAoKGU9PmU/RXZlbnQudG9KU09OKGUpOnZvaWQgMCkpOnQuZXZlbnRzPVtdLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e2V2ZW50czpbXX07cmV0dXJuIHQuZXZlbnRzPWUuZXZlbnRzPy5tYXAoKGU9PkV2ZW50LmZyb21QYXJ0aWFsKGUpKSl8fFtdLHR9LGZyb21Qcm90b01zZzplPT5SZXNwb25zZUJlZ2luQmxvY2suZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UmVzcG9uc2VCZWdpbkJsb2NrLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVzcG9uc2VCZWdpbkJsb2NrXCIsdmFsdWU6UmVzcG9uc2VCZWdpbkJsb2NrLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUmVzcG9uc2VCZWdpbkJsb2NrKFJlc3BvbnNlQmVnaW5CbG9jayk7ZnVuY3Rpb24geSgpe3JldHVybntjb2RlOjAsZGF0YTpuZXcgVWludDhBcnJheSxsb2c6XCJcIixpbmZvOlwiXCIsZ2FzV2FudGVkOkJpZ0ludCgwKSxnYXNVc2VkOkJpZ0ludCgwKSxldmVudHM6W10sY29kZXNwYWNlOlwiXCJ9fWNvbnN0IFJlc3BvbnNlQ2hlY2tUeD17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVzcG9uc2VDaGVja1R4XCIsZW5jb2RlKGUsdD1hLmNyZWF0ZSgpKXswIT09ZS5jb2RlJiZ0LnVpbnQzMig4KS51aW50MzIoZS5jb2RlKSwwIT09ZS5kYXRhLmxlbmd0aCYmdC51aW50MzIoMTgpLmJ5dGVzKGUuZGF0YSksXCJcIiE9PWUubG9nJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUubG9nKSxcIlwiIT09ZS5pbmZvJiZ0LnVpbnQzMigzNCkuc3RyaW5nKGUuaW5mbyksZS5nYXNXYW50ZWQhPT1CaWdJbnQoMCkmJnQudWludDMyKDQwKS5pbnQ2NChlLmdhc1dhbnRlZCksZS5nYXNVc2VkIT09QmlnSW50KDApJiZ0LnVpbnQzMig0OCkuaW50NjQoZS5nYXNVc2VkKTtmb3IoY29uc3QgbyBvZiBlLmV2ZW50cylFdmVudC5lbmNvZGUobyx0LnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm5cIlwiIT09ZS5jb2Rlc3BhY2UmJnQudWludDMyKDY2KS5zdHJpbmcoZS5jb2Rlc3BhY2UpLHR9LGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT15KCk7Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuY29kZT1vLnVpbnQzMigpO2JyZWFrO2Nhc2UgMjppLmRhdGE9by5ieXRlcygpO2JyZWFrO2Nhc2UgMzppLmxvZz1vLnN0cmluZygpO2JyZWFrO2Nhc2UgNDppLmluZm89by5zdHJpbmcoKTticmVhaztjYXNlIDU6aS5nYXNXYW50ZWQ9by5pbnQ2NCgpO2JyZWFrO2Nhc2UgNjppLmdhc1VzZWQ9by5pbnQ2NCgpO2JyZWFrO2Nhc2UgNzppLmV2ZW50cy5wdXNoKEV2ZW50LmRlY29kZShvLG8udWludDMyKCkpKTticmVhaztjYXNlIDg6aS5jb2Rlc3BhY2U9by5zdHJpbmcoKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7Y29kZTpzKGUuY29kZSk/TnVtYmVyKGUuY29kZSk6MCxkYXRhOnMoZS5kYXRhKT9sKGUuZGF0YSk6bmV3IFVpbnQ4QXJyYXksbG9nOnMoZS5sb2cpP1N0cmluZyhlLmxvZyk6XCJcIixpbmZvOnMoZS5pbmZvKT9TdHJpbmcoZS5pbmZvKTpcIlwiLGdhc1dhbnRlZDpzKGUuZ2FzX3dhbnRlZCk/QmlnSW50KGUuZ2FzX3dhbnRlZC50b1N0cmluZygpKTpCaWdJbnQoMCksZ2FzVXNlZDpzKGUuZ2FzX3VzZWQpP0JpZ0ludChlLmdhc191c2VkLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxldmVudHM6QXJyYXkuaXNBcnJheShlPy5ldmVudHMpP2UuZXZlbnRzLm1hcCgoZT0+RXZlbnQuZnJvbUpTT04oZSkpKTpbXSxjb2Rlc3BhY2U6cyhlLmNvZGVzcGFjZSk/U3RyaW5nKGUuY29kZXNwYWNlKTpcIlwifSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuY29kZSYmKHQuY29kZT1NYXRoLnJvdW5kKGUuY29kZSkpLHZvaWQgMCE9PWUuZGF0YSYmKHQuZGF0YT11KHZvaWQgMCE9PWUuZGF0YT9lLmRhdGE6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLmxvZyYmKHQubG9nPWUubG9nKSx2b2lkIDAhPT1lLmluZm8mJih0LmluZm89ZS5pbmZvKSx2b2lkIDAhPT1lLmdhc1dhbnRlZCYmKHQuZ2FzX3dhbnRlZD0oZS5nYXNXYW50ZWR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5nYXNVc2VkJiYodC5nYXNfdXNlZD0oZS5nYXNVc2VkfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLGUuZXZlbnRzP3QuZXZlbnRzPWUuZXZlbnRzLm1hcCgoZT0+ZT9FdmVudC50b0pTT04oZSk6dm9pZCAwKSk6dC5ldmVudHM9W10sdm9pZCAwIT09ZS5jb2Rlc3BhY2UmJih0LmNvZGVzcGFjZT1lLmNvZGVzcGFjZSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD15KCk7cmV0dXJuIHQuY29kZT1lLmNvZGU/PzAsdC5kYXRhPWUuZGF0YT8/bmV3IFVpbnQ4QXJyYXksdC5sb2c9ZS5sb2c/P1wiXCIsdC5pbmZvPWUuaW5mbz8/XCJcIix0Lmdhc1dhbnRlZD12b2lkIDAhPT1lLmdhc1dhbnRlZCYmbnVsbCE9PWUuZ2FzV2FudGVkP0JpZ0ludChlLmdhc1dhbnRlZC50b1N0cmluZygpKTpCaWdJbnQoMCksdC5nYXNVc2VkPXZvaWQgMCE9PWUuZ2FzVXNlZCYmbnVsbCE9PWUuZ2FzVXNlZD9CaWdJbnQoZS5nYXNVc2VkLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0LmV2ZW50cz1lLmV2ZW50cz8ubWFwKChlPT5FdmVudC5mcm9tUGFydGlhbChlKSkpfHxbXSx0LmNvZGVzcGFjZT1lLmNvZGVzcGFjZT8/XCJcIix0fSxmcm9tUHJvdG9Nc2c6ZT0+UmVzcG9uc2VDaGVja1R4LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlJlc3BvbnNlQ2hlY2tUeC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlJlc3BvbnNlQ2hlY2tUeFwiLHZhbHVlOlJlc3BvbnNlQ2hlY2tUeC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlJlc3BvbnNlQ2hlY2tUeChSZXNwb25zZUNoZWNrVHgpO2Z1bmN0aW9uIGIoKXtyZXR1cm57Y29kZTowLGRhdGE6bmV3IFVpbnQ4QXJyYXksbG9nOlwiXCIsaW5mbzpcIlwiLGdhc1dhbnRlZDpCaWdJbnQoMCksZ2FzVXNlZDpCaWdJbnQoMCksZXZlbnRzOltdLGNvZGVzcGFjZTpcIlwifX1jb25zdCBSZXNwb25zZURlbGl2ZXJUeD17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVzcG9uc2VEZWxpdmVyVHhcIixlbmNvZGUoZSx0PWEuY3JlYXRlKCkpezAhPT1lLmNvZGUmJnQudWludDMyKDgpLnVpbnQzMihlLmNvZGUpLDAhPT1lLmRhdGEubGVuZ3RoJiZ0LnVpbnQzMigxOCkuYnl0ZXMoZS5kYXRhKSxcIlwiIT09ZS5sb2cmJnQudWludDMyKDI2KS5zdHJpbmcoZS5sb2cpLFwiXCIhPT1lLmluZm8mJnQudWludDMyKDM0KS5zdHJpbmcoZS5pbmZvKSxlLmdhc1dhbnRlZCE9PUJpZ0ludCgwKSYmdC51aW50MzIoNDApLmludDY0KGUuZ2FzV2FudGVkKSxlLmdhc1VzZWQhPT1CaWdJbnQoMCkmJnQudWludDMyKDQ4KS5pbnQ2NChlLmdhc1VzZWQpO2Zvcihjb25zdCBvIG9mIGUuZXZlbnRzKUV2ZW50LmVuY29kZShvLHQudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVyblwiXCIhPT1lLmNvZGVzcGFjZSYmdC51aW50MzIoNjYpLnN0cmluZyhlLmNvZGVzcGFjZSksdH0sZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPWIoKTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5jb2RlPW8udWludDMyKCk7YnJlYWs7Y2FzZSAyOmkuZGF0YT1vLmJ5dGVzKCk7YnJlYWs7Y2FzZSAzOmkubG9nPW8uc3RyaW5nKCk7YnJlYWs7Y2FzZSA0OmkuaW5mbz1vLnN0cmluZygpO2JyZWFrO2Nhc2UgNTppLmdhc1dhbnRlZD1vLmludDY0KCk7YnJlYWs7Y2FzZSA2OmkuZ2FzVXNlZD1vLmludDY0KCk7YnJlYWs7Y2FzZSA3OmkuZXZlbnRzLnB1c2goRXZlbnQuZGVjb2RlKG8sby51aW50MzIoKSkpO2JyZWFrO2Nhc2UgODppLmNvZGVzcGFjZT1vLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtjb2RlOnMoZS5jb2RlKT9OdW1iZXIoZS5jb2RlKTowLGRhdGE6cyhlLmRhdGEpP2woZS5kYXRhKTpuZXcgVWludDhBcnJheSxsb2c6cyhlLmxvZyk/U3RyaW5nKGUubG9nKTpcIlwiLGluZm86cyhlLmluZm8pP1N0cmluZyhlLmluZm8pOlwiXCIsZ2FzV2FudGVkOnMoZS5nYXNfd2FudGVkKT9CaWdJbnQoZS5nYXNfd2FudGVkLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxnYXNVc2VkOnMoZS5nYXNfdXNlZCk/QmlnSW50KGUuZ2FzX3VzZWQudG9TdHJpbmcoKSk6QmlnSW50KDApLGV2ZW50czpBcnJheS5pc0FycmF5KGU/LmV2ZW50cyk/ZS5ldmVudHMubWFwKChlPT5FdmVudC5mcm9tSlNPTihlKSkpOltdLGNvZGVzcGFjZTpzKGUuY29kZXNwYWNlKT9TdHJpbmcoZS5jb2Rlc3BhY2UpOlwiXCJ9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5jb2RlJiYodC5jb2RlPU1hdGgucm91bmQoZS5jb2RlKSksdm9pZCAwIT09ZS5kYXRhJiYodC5kYXRhPXUodm9pZCAwIT09ZS5kYXRhP2UuZGF0YTpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUubG9nJiYodC5sb2c9ZS5sb2cpLHZvaWQgMCE9PWUuaW5mbyYmKHQuaW5mbz1lLmluZm8pLHZvaWQgMCE9PWUuZ2FzV2FudGVkJiYodC5nYXNfd2FudGVkPShlLmdhc1dhbnRlZHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLmdhc1VzZWQmJih0Lmdhc191c2VkPShlLmdhc1VzZWR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksZS5ldmVudHM/dC5ldmVudHM9ZS5ldmVudHMubWFwKChlPT5lP0V2ZW50LnRvSlNPTihlKTp2b2lkIDApKTp0LmV2ZW50cz1bXSx2b2lkIDAhPT1lLmNvZGVzcGFjZSYmKHQuY29kZXNwYWNlPWUuY29kZXNwYWNlKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PWIoKTtyZXR1cm4gdC5jb2RlPWUuY29kZT8/MCx0LmRhdGE9ZS5kYXRhPz9uZXcgVWludDhBcnJheSx0LmxvZz1lLmxvZz8/XCJcIix0LmluZm89ZS5pbmZvPz9cIlwiLHQuZ2FzV2FudGVkPXZvaWQgMCE9PWUuZ2FzV2FudGVkJiZudWxsIT09ZS5nYXNXYW50ZWQ/QmlnSW50KGUuZ2FzV2FudGVkLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0Lmdhc1VzZWQ9dm9pZCAwIT09ZS5nYXNVc2VkJiZudWxsIT09ZS5nYXNVc2VkP0JpZ0ludChlLmdhc1VzZWQudG9TdHJpbmcoKSk6QmlnSW50KDApLHQuZXZlbnRzPWUuZXZlbnRzPy5tYXAoKGU9PkV2ZW50LmZyb21QYXJ0aWFsKGUpKSl8fFtdLHQuY29kZXNwYWNlPWUuY29kZXNwYWNlPz9cIlwiLHR9LGZyb21Qcm90b01zZzplPT5SZXNwb25zZURlbGl2ZXJUeC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZXNwb25zZURlbGl2ZXJUeC5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlJlc3BvbnNlRGVsaXZlclR4XCIsdmFsdWU6UmVzcG9uc2VEZWxpdmVyVHguZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5SZXNwb25zZURlbGl2ZXJUeChSZXNwb25zZURlbGl2ZXJUeCk7Y29uc3QgUmVzcG9uc2VFbmRCbG9jaz17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVzcG9uc2VFbmRCbG9ja1wiLGVuY29kZShlLHQ9YS5jcmVhdGUoKSl7Zm9yKGNvbnN0IG8gb2YgZS52YWxpZGF0b3JVcGRhdGVzKVZhbGlkYXRvclVwZGF0ZS5lbmNvZGUobyx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTt2b2lkIDAhPT1lLmNvbnNlbnN1c1BhcmFtVXBkYXRlcyYmby5lbmNvZGUoZS5jb25zZW5zdXNQYXJhbVVwZGF0ZXMsdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7Zm9yKGNvbnN0IG8gb2YgZS5ldmVudHMpRXZlbnQuZW5jb2RlKG8sdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGRlY29kZShlLHQpe2NvbnN0IG49ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgaT12b2lkIDA9PT10P24ubGVuOm4ucG9zK3Q7Y29uc3QgYT17dmFsaWRhdG9yVXBkYXRlczpbXSxjb25zZW5zdXNQYXJhbVVwZGF0ZXM6dm9pZCAwLGV2ZW50czpbXX07Zm9yKDtuLnBvczxpOyl7Y29uc3QgZT1uLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEudmFsaWRhdG9yVXBkYXRlcy5wdXNoKFZhbGlkYXRvclVwZGF0ZS5kZWNvZGUobixuLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOmEuY29uc2Vuc3VzUGFyYW1VcGRhdGVzPW8uZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOmEuZXZlbnRzLnB1c2goRXZlbnQuZGVjb2RlKG4sbi51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHt2YWxpZGF0b3JVcGRhdGVzOkFycmF5LmlzQXJyYXkoZT8udmFsaWRhdG9yVXBkYXRlcyk/ZS52YWxpZGF0b3JVcGRhdGVzLm1hcCgoZT0+VmFsaWRhdG9yVXBkYXRlLmZyb21KU09OKGUpKSk6W10sY29uc2Vuc3VzUGFyYW1VcGRhdGVzOnMoZS5jb25zZW5zdXNQYXJhbVVwZGF0ZXMpP28uZnJvbUpTT04oZS5jb25zZW5zdXNQYXJhbVVwZGF0ZXMpOnZvaWQgMCxldmVudHM6QXJyYXkuaXNBcnJheShlPy5ldmVudHMpP2UuZXZlbnRzLm1hcCgoZT0+RXZlbnQuZnJvbUpTT04oZSkpKTpbXX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiBlLnZhbGlkYXRvclVwZGF0ZXM/dC52YWxpZGF0b3JVcGRhdGVzPWUudmFsaWRhdG9yVXBkYXRlcy5tYXAoKGU9PmU/VmFsaWRhdG9yVXBkYXRlLnRvSlNPTihlKTp2b2lkIDApKTp0LnZhbGlkYXRvclVwZGF0ZXM9W10sdm9pZCAwIT09ZS5jb25zZW5zdXNQYXJhbVVwZGF0ZXMmJih0LmNvbnNlbnN1c1BhcmFtVXBkYXRlcz1lLmNvbnNlbnN1c1BhcmFtVXBkYXRlcz9vLnRvSlNPTihlLmNvbnNlbnN1c1BhcmFtVXBkYXRlcyk6dm9pZCAwKSxlLmV2ZW50cz90LmV2ZW50cz1lLmV2ZW50cy5tYXAoKGU9PmU/RXZlbnQudG9KU09OKGUpOnZvaWQgMCkpOnQuZXZlbnRzPVtdLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9e3ZhbGlkYXRvclVwZGF0ZXM6W10sY29uc2Vuc3VzUGFyYW1VcGRhdGVzOnZvaWQgMCxldmVudHM6W119O3JldHVybiB0LnZhbGlkYXRvclVwZGF0ZXM9ZS52YWxpZGF0b3JVcGRhdGVzPy5tYXAoKGU9PlZhbGlkYXRvclVwZGF0ZS5mcm9tUGFydGlhbChlKSkpfHxbXSx0LmNvbnNlbnN1c1BhcmFtVXBkYXRlcz12b2lkIDAhPT1lLmNvbnNlbnN1c1BhcmFtVXBkYXRlcyYmbnVsbCE9PWUuY29uc2Vuc3VzUGFyYW1VcGRhdGVzP28uZnJvbVBhcnRpYWwoZS5jb25zZW5zdXNQYXJhbVVwZGF0ZXMpOnZvaWQgMCx0LmV2ZW50cz1lLmV2ZW50cz8ubWFwKChlPT5FdmVudC5mcm9tUGFydGlhbChlKSkpfHxbXSx0fSxmcm9tUHJvdG9Nc2c6ZT0+UmVzcG9uc2VFbmRCbG9jay5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5SZXNwb25zZUVuZEJsb2NrLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVzcG9uc2VFbmRCbG9ja1wiLHZhbHVlOlJlc3BvbnNlRW5kQmxvY2suZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5SZXNwb25zZUVuZEJsb2NrKFJlc3BvbnNlRW5kQmxvY2spO2Z1bmN0aW9uIGsoKXtyZXR1cm57ZGF0YTpuZXcgVWludDhBcnJheSxyZXRhaW5IZWlnaHQ6QmlnSW50KDApfX1jb25zdCBSZXNwb25zZUNvbW1pdD17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuUmVzcG9uc2VDb21taXRcIixlbmNvZGU6KGUsdD1hLmNyZWF0ZSgpKT0+KDAhPT1lLmRhdGEubGVuZ3RoJiZ0LnVpbnQzMigxOCkuYnl0ZXMoZS5kYXRhKSxlLnJldGFpbkhlaWdodCE9PUJpZ0ludCgwKSYmdC51aW50MzIoMjQpLmludDY0KGUucmV0YWluSGVpZ2h0KSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9aygpO2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMjppLmRhdGE9by5ieXRlcygpO2JyZWFrO2Nhc2UgMzppLnJldGFpbkhlaWdodD1vLmludDY0KCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2RhdGE6cyhlLmRhdGEpP2woZS5kYXRhKTpuZXcgVWludDhBcnJheSxyZXRhaW5IZWlnaHQ6cyhlLnJldGFpbkhlaWdodCk/QmlnSW50KGUucmV0YWluSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmRhdGEmJih0LmRhdGE9dSh2b2lkIDAhPT1lLmRhdGE/ZS5kYXRhOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS5yZXRhaW5IZWlnaHQmJih0LnJldGFpbkhlaWdodD0oZS5yZXRhaW5IZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1rKCk7cmV0dXJuIHQuZGF0YT1lLmRhdGE/P25ldyBVaW50OEFycmF5LHQucmV0YWluSGVpZ2h0PXZvaWQgMCE9PWUucmV0YWluSGVpZ2h0JiZudWxsIT09ZS5yZXRhaW5IZWlnaHQ/QmlnSW50KGUucmV0YWluSGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0fSxmcm9tUHJvdG9Nc2c6ZT0+UmVzcG9uc2VDb21taXQuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UmVzcG9uc2VDb21taXQuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5SZXNwb25zZUNvbW1pdFwiLHZhbHVlOlJlc3BvbnNlQ29tbWl0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUmVzcG9uc2VDb21taXQoUmVzcG9uc2VDb21taXQpO2NvbnN0IExhc3RDb21taXRJbmZvPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5MYXN0Q29tbWl0SW5mb1wiLGVuY29kZShlLHQ9YS5jcmVhdGUoKSl7MCE9PWUucm91bmQmJnQudWludDMyKDgpLmludDMyKGUucm91bmQpO2Zvcihjb25zdCBvIG9mIGUudm90ZXMpVm90ZUluZm8uZW5jb2RlKG8sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT17cm91bmQ6MCx2b3RlczpbXX07Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkucm91bmQ9by5pbnQzMigpO2JyZWFrO2Nhc2UgMjppLnZvdGVzLnB1c2goVm90ZUluZm8uZGVjb2RlKG8sby51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtyb3VuZDpzKGUucm91bmQpP051bWJlcihlLnJvdW5kKTowLHZvdGVzOkFycmF5LmlzQXJyYXkoZT8udm90ZXMpP2Uudm90ZXMubWFwKChlPT5Wb3RlSW5mby5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUucm91bmQmJih0LnJvdW5kPU1hdGgucm91bmQoZS5yb3VuZCkpLGUudm90ZXM/dC52b3Rlcz1lLnZvdGVzLm1hcCgoZT0+ZT9Wb3RlSW5mby50b0pTT04oZSk6dm9pZCAwKSk6dC52b3Rlcz1bXSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXtyb3VuZDowLHZvdGVzOltdfTtyZXR1cm4gdC5yb3VuZD1lLnJvdW5kPz8wLHQudm90ZXM9ZS52b3Rlcz8ubWFwKChlPT5Wb3RlSW5mby5mcm9tUGFydGlhbChlKSkpfHxbXSx0fSxmcm9tUHJvdG9Nc2c6ZT0+TGFzdENvbW1pdEluZm8uZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+TGFzdENvbW1pdEluZm8uZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5MYXN0Q29tbWl0SW5mb1wiLHZhbHVlOkxhc3RDb21taXRJbmZvLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTGFzdENvbW1pdEluZm8oTGFzdENvbW1pdEluZm8pO2NvbnN0IEV2ZW50PXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5FdmVudFwiLGVuY29kZShlLHQ9YS5jcmVhdGUoKSl7XCJcIiE9PWUudHlwZSYmdC51aW50MzIoMTApLnN0cmluZyhlLnR5cGUpO2Zvcihjb25zdCBvIG9mIGUuYXR0cmlidXRlcylFdmVudEF0dHJpYnV0ZS5lbmNvZGUobyx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPXt0eXBlOlwiXCIsYXR0cmlidXRlczpbXX07Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkudHlwZT1vLnN0cmluZygpO2JyZWFrO2Nhc2UgMjppLmF0dHJpYnV0ZXMucHVzaChFdmVudEF0dHJpYnV0ZS5kZWNvZGUobyxvLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe3R5cGU6cyhlLnR5cGUpP1N0cmluZyhlLnR5cGUpOlwiXCIsYXR0cmlidXRlczpBcnJheS5pc0FycmF5KGU/LmF0dHJpYnV0ZXMpP2UuYXR0cmlidXRlcy5tYXAoKGU9PkV2ZW50QXR0cmlidXRlLmZyb21KU09OKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS50eXBlJiYodC50eXBlPWUudHlwZSksZS5hdHRyaWJ1dGVzP3QuYXR0cmlidXRlcz1lLmF0dHJpYnV0ZXMubWFwKChlPT5lP0V2ZW50QXR0cmlidXRlLnRvSlNPTihlKTp2b2lkIDApKTp0LmF0dHJpYnV0ZXM9W10sdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17dHlwZTpcIlwiLGF0dHJpYnV0ZXM6W119O3JldHVybiB0LnR5cGU9ZS50eXBlPz9cIlwiLHQuYXR0cmlidXRlcz1lLmF0dHJpYnV0ZXM/Lm1hcCgoZT0+RXZlbnRBdHRyaWJ1dGUuZnJvbVBhcnRpYWwoZSkpKXx8W10sdH0sZnJvbVByb3RvTXNnOmU9PkV2ZW50LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkV2ZW50LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuRXZlbnRcIix2YWx1ZTpFdmVudC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkV2ZW50KEV2ZW50KTtmdW5jdGlvbiBVKCl7cmV0dXJue2tleTpuZXcgVWludDhBcnJheSx2YWx1ZTpuZXcgVWludDhBcnJheSxpbmRleDohMX19Y29uc3QgRXZlbnRBdHRyaWJ1dGU9e3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLkV2ZW50QXR0cmlidXRlXCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PigwIT09ZS5rZXkubGVuZ3RoJiZ0LnVpbnQzMigxMCkuYnl0ZXMoZS5rZXkpLDAhPT1lLnZhbHVlLmxlbmd0aCYmdC51aW50MzIoMTgpLmJ5dGVzKGUudmFsdWUpLCEwPT09ZS5pbmRleCYmdC51aW50MzIoMjQpLmJvb2woZS5pbmRleCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPVUoKTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5rZXk9by5ieXRlcygpO2JyZWFrO2Nhc2UgMjppLnZhbHVlPW8uYnl0ZXMoKTticmVhaztjYXNlIDM6aS5pbmRleD1vLmJvb2woKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7a2V5OnMoZS5rZXkpP2woZS5rZXkpOm5ldyBVaW50OEFycmF5LHZhbHVlOnMoZS52YWx1ZSk/bChlLnZhbHVlKTpuZXcgVWludDhBcnJheSxpbmRleDohIXMoZS5pbmRleCkmJkJvb2xlYW4oZS5pbmRleCl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5rZXkmJih0LmtleT11KHZvaWQgMCE9PWUua2V5P2Uua2V5Om5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS52YWx1ZSYmKHQudmFsdWU9dSh2b2lkIDAhPT1lLnZhbHVlP2UudmFsdWU6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLmluZGV4JiYodC5pbmRleD1lLmluZGV4KSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PVUoKTtyZXR1cm4gdC5rZXk9ZS5rZXk/P25ldyBVaW50OEFycmF5LHQudmFsdWU9ZS52YWx1ZT8/bmV3IFVpbnQ4QXJyYXksdC5pbmRleD1lLmluZGV4Pz8hMSx0fSxmcm9tUHJvdG9Nc2c6ZT0+RXZlbnRBdHRyaWJ1dGUuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+RXZlbnRBdHRyaWJ1dGUuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5FdmVudEF0dHJpYnV0ZVwiLHZhbHVlOkV2ZW50QXR0cmlidXRlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuRXZlbnRBdHRyaWJ1dGUoRXZlbnRBdHRyaWJ1dGUpO2Z1bmN0aW9uIEkoKXtyZXR1cm57aGVpZ2h0OkJpZ0ludCgwKSxpbmRleDowLHR4Om5ldyBVaW50OEFycmF5LHJlc3VsdDpSZXNwb25zZURlbGl2ZXJUeC5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IFR4UmVzdWx0PXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5UeFJlc3VsdFwiLGVuY29kZTooZSx0PWEuY3JlYXRlKCkpPT4oZS5oZWlnaHQhPT1CaWdJbnQoMCkmJnQudWludDMyKDgpLmludDY0KGUuaGVpZ2h0KSwwIT09ZS5pbmRleCYmdC51aW50MzIoMTYpLnVpbnQzMihlLmluZGV4KSwwIT09ZS50eC5sZW5ndGgmJnQudWludDMyKDI2KS5ieXRlcyhlLnR4KSx2b2lkIDAhPT1lLnJlc3VsdCYmUmVzcG9uc2VEZWxpdmVyVHguZW5jb2RlKGUucmVzdWx0LHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT1JKCk7Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuaGVpZ2h0PW8uaW50NjQoKTticmVhaztjYXNlIDI6aS5pbmRleD1vLnVpbnQzMigpO2JyZWFrO2Nhc2UgMzppLnR4PW8uYnl0ZXMoKTticmVhaztjYXNlIDQ6aS5yZXN1bHQ9UmVzcG9uc2VEZWxpdmVyVHguZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2hlaWdodDpzKGUuaGVpZ2h0KT9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLGluZGV4OnMoZS5pbmRleCk/TnVtYmVyKGUuaW5kZXgpOjAsdHg6cyhlLnR4KT9sKGUudHgpOm5ldyBVaW50OEFycmF5LHJlc3VsdDpzKGUucmVzdWx0KT9SZXNwb25zZURlbGl2ZXJUeC5mcm9tSlNPTihlLnJlc3VsdCk6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuaGVpZ2h0JiYodC5oZWlnaHQ9KGUuaGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUuaW5kZXgmJih0LmluZGV4PU1hdGgucm91bmQoZS5pbmRleCkpLHZvaWQgMCE9PWUudHgmJih0LnR4PXUodm9pZCAwIT09ZS50eD9lLnR4Om5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS5yZXN1bHQmJih0LnJlc3VsdD1lLnJlc3VsdD9SZXNwb25zZURlbGl2ZXJUeC50b0pTT04oZS5yZXN1bHQpOnZvaWQgMCksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1JKCk7cmV0dXJuIHQuaGVpZ2h0PXZvaWQgMCE9PWUuaGVpZ2h0JiZudWxsIT09ZS5oZWlnaHQ/QmlnSW50KGUuaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0LmluZGV4PWUuaW5kZXg/PzAsdC50eD1lLnR4Pz9uZXcgVWludDhBcnJheSx0LnJlc3VsdD12b2lkIDAhPT1lLnJlc3VsdCYmbnVsbCE9PWUucmVzdWx0P1Jlc3BvbnNlRGVsaXZlclR4LmZyb21QYXJ0aWFsKGUucmVzdWx0KTp2b2lkIDAsdH0sZnJvbVByb3RvTXNnOmU9PlR4UmVzdWx0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlR4UmVzdWx0LmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuVHhSZXN1bHRcIix2YWx1ZTpUeFJlc3VsdC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlR4UmVzdWx0KFR4UmVzdWx0KTtmdW5jdGlvbiB4KCl7cmV0dXJue2FkZHJlc3M6bmV3IFVpbnQ4QXJyYXkscG93ZXI6QmlnSW50KDApfX1jb25zdCBWYWxpZGF0b3I9e3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLlZhbGlkYXRvclwiLGVuY29kZTooZSx0PWEuY3JlYXRlKCkpPT4oMCE9PWUuYWRkcmVzcy5sZW5ndGgmJnQudWludDMyKDEwKS5ieXRlcyhlLmFkZHJlc3MpLGUucG93ZXIhPT1CaWdJbnQoMCkmJnQudWludDMyKDI0KS5pbnQ2NChlLnBvd2VyKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiByP2U6bmV3IHIoZSk7bGV0IG49dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IGk9eCgpO2Zvcig7by5wb3M8bjspe2NvbnN0IGU9by51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTppLmFkZHJlc3M9by5ieXRlcygpO2JyZWFrO2Nhc2UgMzppLnBvd2VyPW8uaW50NjQoKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7YWRkcmVzczpzKGUuYWRkcmVzcyk/bChlLmFkZHJlc3MpOm5ldyBVaW50OEFycmF5LHBvd2VyOnMoZS5wb3dlcik/QmlnSW50KGUucG93ZXIudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuYWRkcmVzcyYmKHQuYWRkcmVzcz11KHZvaWQgMCE9PWUuYWRkcmVzcz9lLmFkZHJlc3M6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnBvd2VyJiYodC5wb3dlcj0oZS5wb3dlcnx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXgoKTtyZXR1cm4gdC5hZGRyZXNzPWUuYWRkcmVzcz8/bmV3IFVpbnQ4QXJyYXksdC5wb3dlcj12b2lkIDAhPT1lLnBvd2VyJiZudWxsIT09ZS5wb3dlcj9CaWdJbnQoZS5wb3dlci50b1N0cmluZygpKTpCaWdJbnQoMCksdH0sZnJvbVByb3RvTXNnOmU9PlZhbGlkYXRvci5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5WYWxpZGF0b3IuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5WYWxpZGF0b3JcIix2YWx1ZTpWYWxpZGF0b3IuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WYWxpZGF0b3IoVmFsaWRhdG9yKTtmdW5jdGlvbiBCKCl7cmV0dXJue3B1YktleTpuLmZyb21QYXJ0aWFsKHt9KSxwb3dlcjpCaWdJbnQoMCl9fWNvbnN0IFZhbGlkYXRvclVwZGF0ZT17dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuVmFsaWRhdG9yVXBkYXRlXCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9Pih2b2lkIDAhPT1lLnB1YktleSYmbi5lbmNvZGUoZS5wdWJLZXksdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksZS5wb3dlciE9PUJpZ0ludCgwKSYmdC51aW50MzIoMTYpLmludDY0KGUucG93ZXIpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgaT12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgYT1CKCk7Zm9yKDtvLnBvczxpOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmEucHViS2V5PW4uZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOmEucG93ZXI9by5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHtwdWJLZXk6cyhlLnB1YktleSk/bi5mcm9tSlNPTihlLnB1YktleSk6dm9pZCAwLHBvd2VyOnMoZS5wb3dlcik/QmlnSW50KGUucG93ZXIudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUucHViS2V5JiYodC5wdWJLZXk9ZS5wdWJLZXk/bi50b0pTT04oZS5wdWJLZXkpOnZvaWQgMCksdm9pZCAwIT09ZS5wb3dlciYmKHQucG93ZXI9KGUucG93ZXJ8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1CKCk7cmV0dXJuIHQucHViS2V5PXZvaWQgMCE9PWUucHViS2V5JiZudWxsIT09ZS5wdWJLZXk/bi5mcm9tUGFydGlhbChlLnB1YktleSk6dm9pZCAwLHQucG93ZXI9dm9pZCAwIT09ZS5wb3dlciYmbnVsbCE9PWUucG93ZXI/QmlnSW50KGUucG93ZXIudG9TdHJpbmcoKSk6QmlnSW50KDApLHR9LGZyb21Qcm90b01zZzplPT5WYWxpZGF0b3JVcGRhdGUuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+VmFsaWRhdG9yVXBkYXRlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuVmFsaWRhdG9yVXBkYXRlXCIsdmFsdWU6VmFsaWRhdG9yVXBkYXRlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuVmFsaWRhdG9yVXBkYXRlKFZhbGlkYXRvclVwZGF0ZSk7ZnVuY3Rpb24gVCgpe3JldHVybnt2YWxpZGF0b3I6VmFsaWRhdG9yLmZyb21QYXJ0aWFsKHt9KSxzaWduZWRMYXN0QmxvY2s6ITF9fWNvbnN0IFZvdGVJbmZvPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5Wb3RlSW5mb1wiLGVuY29kZTooZSx0PWEuY3JlYXRlKCkpPT4odm9pZCAwIT09ZS52YWxpZGF0b3ImJlZhbGlkYXRvci5lbmNvZGUoZS52YWxpZGF0b3IsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksITA9PT1lLnNpZ25lZExhc3RCbG9jayYmdC51aW50MzIoMTYpLmJvb2woZS5zaWduZWRMYXN0QmxvY2spLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIHI/ZTpuZXcgcihlKTtsZXQgbj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT1UKCk7Zm9yKDtvLnBvczxuOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkudmFsaWRhdG9yPVZhbGlkYXRvci5kZWNvZGUobyxvLnVpbnQzMigpKTticmVhaztjYXNlIDI6aS5zaWduZWRMYXN0QmxvY2s9by5ib29sKCk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe3ZhbGlkYXRvcjpzKGUudmFsaWRhdG9yKT9WYWxpZGF0b3IuZnJvbUpTT04oZS52YWxpZGF0b3IpOnZvaWQgMCxzaWduZWRMYXN0QmxvY2s6ISFzKGUuc2lnbmVkTGFzdEJsb2NrKSYmQm9vbGVhbihlLnNpZ25lZExhc3RCbG9jayl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS52YWxpZGF0b3ImJih0LnZhbGlkYXRvcj1lLnZhbGlkYXRvcj9WYWxpZGF0b3IudG9KU09OKGUudmFsaWRhdG9yKTp2b2lkIDApLHZvaWQgMCE9PWUuc2lnbmVkTGFzdEJsb2NrJiYodC5zaWduZWRMYXN0QmxvY2s9ZS5zaWduZWRMYXN0QmxvY2spLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9VCgpO3JldHVybiB0LnZhbGlkYXRvcj12b2lkIDAhPT1lLnZhbGlkYXRvciYmbnVsbCE9PWUudmFsaWRhdG9yP1ZhbGlkYXRvci5mcm9tUGFydGlhbChlLnZhbGlkYXRvcik6dm9pZCAwLHQuc2lnbmVkTGFzdEJsb2NrPWUuc2lnbmVkTGFzdEJsb2NrPz8hMSx0fSxmcm9tUHJvdG9Nc2c6ZT0+Vm90ZUluZm8uZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+Vm90ZUluZm8uZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuYWJjaS5Wb3RlSW5mb1wiLHZhbHVlOlZvdGVJbmZvLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuVm90ZUluZm8oVm90ZUluZm8pO2Z1bmN0aW9uIHcoKXtyZXR1cm57dHlwZTowLHZhbGlkYXRvcjpWYWxpZGF0b3IuZnJvbVBhcnRpYWwoe30pLGhlaWdodDpCaWdJbnQoMCksdGltZTppLmZyb21QYXJ0aWFsKHt9KSx0b3RhbFZvdGluZ1Bvd2VyOkJpZ0ludCgwKX19Y29uc3QgRXZpZGVuY2U9e3R5cGVVcmw6XCIvdGVuZGVybWludC5hYmNpLkV2aWRlbmNlXCIsZW5jb2RlOihlLHQ9YS5jcmVhdGUoKSk9PigwIT09ZS50eXBlJiZ0LnVpbnQzMig4KS5pbnQzMihlLnR5cGUpLHZvaWQgMCE9PWUudmFsaWRhdG9yJiZWYWxpZGF0b3IuZW5jb2RlKGUudmFsaWRhdG9yLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLGUuaGVpZ2h0IT09QmlnSW50KDApJiZ0LnVpbnQzMigyNCkuaW50NjQoZS5oZWlnaHQpLHZvaWQgMCE9PWUudGltZSYmaS5lbmNvZGUoZS50aW1lLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLGUudG90YWxWb3RpbmdQb3dlciE9PUJpZ0ludCgwKSYmdC51aW50MzIoNDApLmludDY0KGUudG90YWxWb3RpbmdQb3dlciksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2Ygcj9lOm5ldyByKGUpO2xldCBuPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBhPXcoKTtmb3IoO28ucG9zPG47KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6YS50eXBlPW8uaW50MzIoKTticmVhaztjYXNlIDI6YS52YWxpZGF0b3I9VmFsaWRhdG9yLmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2Nhc2UgMzphLmhlaWdodD1vLmludDY0KCk7YnJlYWs7Y2FzZSA0OmEudGltZT1pLmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2Nhc2UgNTphLnRvdGFsVm90aW5nUG93ZXI9by5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gYX0sZnJvbUpTT046ZT0+KHt0eXBlOnMoZS50eXBlKT9ldmlkZW5jZVR5cGVGcm9tSlNPTihlLnR5cGUpOi0xLHZhbGlkYXRvcjpzKGUudmFsaWRhdG9yKT9WYWxpZGF0b3IuZnJvbUpTT04oZS52YWxpZGF0b3IpOnZvaWQgMCxoZWlnaHQ6cyhlLmhlaWdodCk/QmlnSW50KGUuaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSx0aW1lOnMoZS50aW1lKT9kKGUudGltZSk6dm9pZCAwLHRvdGFsVm90aW5nUG93ZXI6cyhlLnRvdGFsVm90aW5nUG93ZXIpP0JpZ0ludChlLnRvdGFsVm90aW5nUG93ZXIudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUudHlwZSYmKHQudHlwZT1ldmlkZW5jZVR5cGVUb0pTT04oZS50eXBlKSksdm9pZCAwIT09ZS52YWxpZGF0b3ImJih0LnZhbGlkYXRvcj1lLnZhbGlkYXRvcj9WYWxpZGF0b3IudG9KU09OKGUudmFsaWRhdG9yKTp2b2lkIDApLHZvaWQgMCE9PWUuaGVpZ2h0JiYodC5oZWlnaHQ9KGUuaGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUudGltZSYmKHQudGltZT1jKGUudGltZSkudG9JU09TdHJpbmcoKSksdm9pZCAwIT09ZS50b3RhbFZvdGluZ1Bvd2VyJiYodC50b3RhbFZvdGluZ1Bvd2VyPShlLnRvdGFsVm90aW5nUG93ZXJ8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD13KCk7cmV0dXJuIHQudHlwZT1lLnR5cGU/PzAsdC52YWxpZGF0b3I9dm9pZCAwIT09ZS52YWxpZGF0b3ImJm51bGwhPT1lLnZhbGlkYXRvcj9WYWxpZGF0b3IuZnJvbVBhcnRpYWwoZS52YWxpZGF0b3IpOnZvaWQgMCx0LmhlaWdodD12b2lkIDAhPT1lLmhlaWdodCYmbnVsbCE9PWUuaGVpZ2h0P0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksdC50aW1lPXZvaWQgMCE9PWUudGltZSYmbnVsbCE9PWUudGltZT9pLmZyb21QYXJ0aWFsKGUudGltZSk6dm9pZCAwLHQudG90YWxWb3RpbmdQb3dlcj12b2lkIDAhPT1lLnRvdGFsVm90aW5nUG93ZXImJm51bGwhPT1lLnRvdGFsVm90aW5nUG93ZXI/QmlnSW50KGUudG90YWxWb3RpbmdQb3dlci50b1N0cmluZygpKTpCaWdJbnQoMCksdH0sZnJvbVByb3RvTXNnOmU9PkV2aWRlbmNlLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkV2aWRlbmNlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LmFiY2kuRXZpZGVuY2VcIix2YWx1ZTpFdmlkZW5jZS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkV2aWRlbmNlKEV2aWRlbmNlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7IkNoZWNrVHhUeXBlIjpbIkNoZWNrVHhUeXBlIix0cnVlXSwiRXZpZGVuY2VUeXBlIjpbIkV2aWRlbmNlVHlwZSIsdHJ1ZV19LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiQ2hlY2tUeFR5cGVTREtUeXBlIjpbIkNoZWNrVHhUeXBlU0RLVHlwZSJdLCJjaGVja1R4VHlwZUZyb21KU09OIjpbImNoZWNrVHhUeXBlRnJvbUpTT04iXSwiY2hlY2tUeFR5cGVUb0pTT04iOlsiY2hlY2tUeFR5cGVUb0pTT04iXSwiRXZpZGVuY2VUeXBlU0RLVHlwZSI6WyJFdmlkZW5jZVR5cGVTREtUeXBlIl0sImV2aWRlbmNlVHlwZUZyb21KU09OIjpbImV2aWRlbmNlVHlwZUZyb21KU09OIl0sImV2aWRlbmNlVHlwZVRvSlNPTiI6WyJldmlkZW5jZVR5cGVUb0pTT04iXSwiUmVxdWVzdFF1ZXJ5IjpbIlJlcXVlc3RRdWVyeSJdLCJSZXF1ZXN0QmVnaW5CbG9jayI6WyJSZXF1ZXN0QmVnaW5CbG9jayJdLCJSZXF1ZXN0Q2hlY2tUeCI6WyJSZXF1ZXN0Q2hlY2tUeCJdLCJSZXF1ZXN0RGVsaXZlclR4IjpbIlJlcXVlc3REZWxpdmVyVHgiXSwiUmVxdWVzdEVuZEJsb2NrIjpbIlJlcXVlc3RFbmRCbG9jayJdLCJSZXF1ZXN0Q29tbWl0IjpbIlJlcXVlc3RDb21taXQiXSwiUmVzcG9uc2VRdWVyeSI6WyJSZXNwb25zZVF1ZXJ5Il0sIlJlc3BvbnNlQmVnaW5CbG9jayI6WyJSZXNwb25zZUJlZ2luQmxvY2siXSwiUmVzcG9uc2VDaGVja1R4IjpbIlJlc3BvbnNlQ2hlY2tUeCJdLCJSZXNwb25zZURlbGl2ZXJUeCI6WyJSZXNwb25zZURlbGl2ZXJUeCJdLCJSZXNwb25zZUVuZEJsb2NrIjpbIlJlc3BvbnNlRW5kQmxvY2siXSwiUmVzcG9uc2VDb21taXQiOlsiUmVzcG9uc2VDb21taXQiXSwiTGFzdENvbW1pdEluZm8iOlsiTGFzdENvbW1pdEluZm8iXSwiRXZlbnQiOlsiRXZlbnQiXSwiRXZlbnRBdHRyaWJ1dGUiOlsiRXZlbnRBdHRyaWJ1dGUiXSwiVHhSZXN1bHQiOlsiVHhSZXN1bHQiXSwiVmFsaWRhdG9yIjpbIlZhbGlkYXRvciJdLCJWYWxpZGF0b3JVcGRhdGUiOlsiVmFsaWRhdG9yVXBkYXRlIl0sIlZvdGVJbmZvIjpbIlZvdGVJbmZvIl0sIkV2aWRlbmNlIjpbIkV2aWRlbmNlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAALeOsd8vCAAALwgAAEIAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvY3J5cHRvL2tleXMuanN7ImltcG9ydHMiOlsiLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vaGVscGVycy5qcyIsIkBlbmRvL2Jhc2U2NCIsIi4uLy4uL2pzb24tc2FmZS5qcyJdLCJleHBvcnRzIjpbIlB1YmxpY0tleSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsbyxzLGQsaTskaM2PX2ltcG9ydHMoW1tcIi4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+IChvID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vYmFzZTY0XCIsIFtbXCJkZWNvZGVCYXNlNjRcIixbJGjNj19hID0+IChkID0gJGjNj19hKV1dLFtcImVuY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGkgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgUHVibGljS2V5PXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuY3J5cHRvLlB1YmxpY0tleVwiLGVuY29kZTooZSxzPW8uY3JlYXRlKCkpPT4odm9pZCAwIT09ZS5lZDI1NTE5JiZzLnVpbnQzMigxMCkuYnl0ZXMoZS5lZDI1NTE5KSx2b2lkIDAhPT1lLnNlY3AyNTZrMSYmcy51aW50MzIoMTgpLmJ5dGVzKGUuc2VjcDI1NmsxKSxzKSxkZWNvZGUobyxzKXtjb25zdCBkPW8gaW5zdGFuY2VvZiBlP286bmV3IGUobyk7bGV0IGk9dm9pZCAwPT09cz9kLmxlbjpkLnBvcytzO2NvbnN0IHQ9e2VkMjU1MTk6dm9pZCAwLHNlY3AyNTZrMTp2b2lkIDB9O2Zvcig7ZC5wb3M8aTspe2NvbnN0IGU9ZC51aW50MzIoKTtzd2l0Y2goZT4+PjMpe2Nhc2UgMTp0LmVkMjU1MTk9ZC5ieXRlcygpO2JyZWFrO2Nhc2UgMjp0LnNlY3AyNTZrMT1kLmJ5dGVzKCk7YnJlYWs7ZGVmYXVsdDpkLnNraXBUeXBlKDcmZSl9fXJldHVybiB0fSxmcm9tSlNPTjplPT4oe2VkMjU1MTk6cyhlLmVkMjU1MTkpP2QoZS5lZDI1NTE5KTp2b2lkIDAsc2VjcDI1NmsxOnMoZS5zZWNwMjU2azEpP2QoZS5zZWNwMjU2azEpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmVkMjU1MTkmJihvLmVkMjU1MTk9dm9pZCAwIT09ZS5lZDI1NTE5P2koZS5lZDI1NTE5KTp2b2lkIDApLHZvaWQgMCE9PWUuc2VjcDI1NmsxJiYoby5zZWNwMjU2azE9dm9pZCAwIT09ZS5zZWNwMjU2azE/aShlLnNlY3AyNTZrMSk6dm9pZCAwKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXtlZDI1NTE5OnZvaWQgMCxzZWNwMjU2azE6dm9pZCAwfTtyZXR1cm4gby5lZDI1NTE5PWUuZWQyNTUxOT8/dm9pZCAwLG8uc2VjcDI1NmsxPWUuc2VjcDI1NmsxPz92b2lkIDAsb30sZnJvbVByb3RvTXNnOmU9PlB1YmxpY0tleS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5QdWJsaWNLZXkuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuY3J5cHRvLlB1YmxpY0tleVwiLHZhbHVlOlB1YmxpY0tleS5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlB1YmxpY0tleShQdWJsaWNLZXkpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUHVibGljS2V5IjpbIlB1YmxpY0tleSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADA7Tt/bRsAAG0bAABDAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L2NyeXB0by9wcm9vZi5qc3siaW1wb3J0cyI6WyIuLi8uLi9iaW5hcnkuanMiLCIuLi8uLi9oZWxwZXJzLmpzIiwiQGVuZG8vYmFzZTY0IiwiLi4vLi4vanNvbi1zYWZlLmpzIl0sImV4cG9ydHMiOlsiRG9taW5vT3AiLCJQcm9vZiIsIlByb29mT3AiLCJQcm9vZk9wcyIsIlZhbHVlT3AiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCB0LG8sZSxuLHI7JGjNj19pbXBvcnRzKFtbXCIuLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Jhc2U2NFwiLCBbW1wiZGVjb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAobiA9ICRozY9fYSldXSxbXCJlbmNvZGVCYXNlNjRcIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gaSgpe3JldHVybnt0b3RhbDpCaWdJbnQoMCksaW5kZXg6QmlnSW50KDApLGxlYWZIYXNoOm5ldyBVaW50OEFycmF5LGF1bnRzOltdfX0gICAgICAgY29uc3QgUHJvb2Y9e3R5cGVVcmw6XCIvdGVuZGVybWludC5jcnlwdG8uUHJvb2ZcIixlbmNvZGUodCxlPW8uY3JlYXRlKCkpe3QudG90YWwhPT1CaWdJbnQoMCkmJmUudWludDMyKDgpLmludDY0KHQudG90YWwpLHQuaW5kZXghPT1CaWdJbnQoMCkmJmUudWludDMyKDE2KS5pbnQ2NCh0LmluZGV4KSwwIT09dC5sZWFmSGFzaC5sZW5ndGgmJmUudWludDMyKDI2KS5ieXRlcyh0LmxlYWZIYXNoKTtmb3IoY29uc3QgbyBvZiB0LmF1bnRzKWUudWludDMyKDM0KS5ieXRlcyhvKTtyZXR1cm4gZX0sZGVjb2RlKG8sZSl7Y29uc3Qgbj1vIGluc3RhbmNlb2YgdD9vOm5ldyB0KG8pO2xldCByPXZvaWQgMD09PWU/bi5sZW46bi5wb3MrZTtjb25zdCBhPWkoKTtmb3IoO24ucG9zPHI7KXtjb25zdCB0PW4udWludDMyKCk7c3dpdGNoKHQ+Pj4zKXtjYXNlIDE6YS50b3RhbD1uLmludDY0KCk7YnJlYWs7Y2FzZSAyOmEuaW5kZXg9bi5pbnQ2NCgpO2JyZWFrO2Nhc2UgMzphLmxlYWZIYXNoPW4uYnl0ZXMoKTticmVhaztjYXNlIDQ6YS5hdW50cy5wdXNoKG4uYnl0ZXMoKSk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmdCl9fXJldHVybiBhfSxmcm9tSlNPTjp0PT4oe3RvdGFsOmUodC50b3RhbCk/QmlnSW50KHQudG90YWwudG9TdHJpbmcoKSk6QmlnSW50KDApLGluZGV4OmUodC5pbmRleCk/QmlnSW50KHQuaW5kZXgudG9TdHJpbmcoKSk6QmlnSW50KDApLGxlYWZIYXNoOmUodC5sZWFmSGFzaCk/bih0LmxlYWZIYXNoKTpuZXcgVWludDhBcnJheSxhdW50czpBcnJheS5pc0FycmF5KHQ/LmF1bnRzKT90LmF1bnRzLm1hcCgodD0+bih0KSkpOltdfSksdG9KU09OKHQpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PXQudG90YWwmJihvLnRvdGFsPSh0LnRvdGFsfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PXQuaW5kZXgmJihvLmluZGV4PSh0LmluZGV4fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PXQubGVhZkhhc2gmJihvLmxlYWZIYXNoPXIodm9pZCAwIT09dC5sZWFmSGFzaD90LmxlYWZIYXNoOm5ldyBVaW50OEFycmF5KSksdC5hdW50cz9vLmF1bnRzPXQuYXVudHMubWFwKCh0PT5yKHZvaWQgMCE9PXQ/dDpuZXcgVWludDhBcnJheSkpKTpvLmF1bnRzPVtdLG99LGZyb21QYXJ0aWFsKHQpe2NvbnN0IG89aSgpO3JldHVybiBvLnRvdGFsPXZvaWQgMCE9PXQudG90YWwmJm51bGwhPT10LnRvdGFsP0JpZ0ludCh0LnRvdGFsLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvLmluZGV4PXZvaWQgMCE9PXQuaW5kZXgmJm51bGwhPT10LmluZGV4P0JpZ0ludCh0LmluZGV4LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvLmxlYWZIYXNoPXQubGVhZkhhc2g/P25ldyBVaW50OEFycmF5LG8uYXVudHM9dC5hdW50cz8ubWFwKCh0PT50KSl8fFtdLG99LGZyb21Qcm90b01zZzp0PT5Qcm9vZi5kZWNvZGUodC52YWx1ZSksdG9Qcm90bzp0PT5Qcm9vZi5lbmNvZGUodCkuZmluaXNoKCksdG9Qcm90b01zZzp0PT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5jcnlwdG8uUHJvb2ZcIix2YWx1ZTpQcm9vZi5lbmNvZGUodCkuZmluaXNoKCl9KX07JGjNj19vbmNlLlByb29mKFByb29mKTtmdW5jdGlvbiBhKCl7cmV0dXJue2tleTpuZXcgVWludDhBcnJheSxwcm9vZjp2b2lkIDB9fWNvbnN0IFZhbHVlT3A9e3R5cGVVcmw6XCIvdGVuZGVybWludC5jcnlwdG8uVmFsdWVPcFwiLGVuY29kZToodCxlPW8uY3JlYXRlKCkpPT4oMCE9PXQua2V5Lmxlbmd0aCYmZS51aW50MzIoMTApLmJ5dGVzKHQua2V5KSx2b2lkIDAhPT10LnByb29mJiZQcm9vZi5lbmNvZGUodC5wcm9vZixlLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxlKSxkZWNvZGUobyxlKXtjb25zdCBuPW8gaW5zdGFuY2VvZiB0P286bmV3IHQobyk7bGV0IHI9dm9pZCAwPT09ZT9uLmxlbjpuLnBvcytlO2NvbnN0IGk9YSgpO2Zvcig7bi5wb3M8cjspe2NvbnN0IHQ9bi51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTppLmtleT1uLmJ5dGVzKCk7YnJlYWs7Y2FzZSAyOmkucHJvb2Y9UHJvb2YuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpuLnNraXBUeXBlKDcmdCl9fXJldHVybiBpfSxmcm9tSlNPTjp0PT4oe2tleTplKHQua2V5KT9uKHQua2V5KTpuZXcgVWludDhBcnJheSxwcm9vZjplKHQucHJvb2YpP1Byb29mLmZyb21KU09OKHQucHJvb2YpOnZvaWQgMH0pLHRvSlNPTih0KXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT10LmtleSYmKG8ua2V5PXIodm9pZCAwIT09dC5rZXk/dC5rZXk6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT10LnByb29mJiYoby5wcm9vZj10LnByb29mP1Byb29mLnRvSlNPTih0LnByb29mKTp2b2lkIDApLG99LGZyb21QYXJ0aWFsKHQpe2NvbnN0IG89YSgpO3JldHVybiBvLmtleT10LmtleT8/bmV3IFVpbnQ4QXJyYXksby5wcm9vZj12b2lkIDAhPT10LnByb29mJiZudWxsIT09dC5wcm9vZj9Qcm9vZi5mcm9tUGFydGlhbCh0LnByb29mKTp2b2lkIDAsb30sZnJvbVByb3RvTXNnOnQ9PlZhbHVlT3AuZGVjb2RlKHQudmFsdWUpLHRvUHJvdG86dD0+VmFsdWVPcC5lbmNvZGUodCkuZmluaXNoKCksdG9Qcm90b01zZzp0PT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5jcnlwdG8uVmFsdWVPcFwiLHZhbHVlOlZhbHVlT3AuZW5jb2RlKHQpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WYWx1ZU9wKFZhbHVlT3ApO2NvbnN0IERvbWlub09wPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuY3J5cHRvLkRvbWlub09wXCIsZW5jb2RlOih0LGU9by5jcmVhdGUoKSk9PihcIlwiIT09dC5rZXkmJmUudWludDMyKDEwKS5zdHJpbmcodC5rZXkpLFwiXCIhPT10LmlucHV0JiZlLnVpbnQzMigxOCkuc3RyaW5nKHQuaW5wdXQpLFwiXCIhPT10Lm91dHB1dCYmZS51aW50MzIoMjYpLnN0cmluZyh0Lm91dHB1dCksZSksZGVjb2RlKG8sZSl7Y29uc3Qgbj1vIGluc3RhbmNlb2YgdD9vOm5ldyB0KG8pO2xldCByPXZvaWQgMD09PWU/bi5sZW46bi5wb3MrZTtjb25zdCBpPXtrZXk6XCJcIixpbnB1dDpcIlwiLG91dHB1dDpcIlwifTtmb3IoO24ucG9zPHI7KXtjb25zdCB0PW4udWludDMyKCk7c3dpdGNoKHQ+Pj4zKXtjYXNlIDE6aS5rZXk9bi5zdHJpbmcoKTticmVhaztjYXNlIDI6aS5pbnB1dD1uLnN0cmluZygpO2JyZWFrO2Nhc2UgMzppLm91dHB1dD1uLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3JnQpfX1yZXR1cm4gaX0sZnJvbUpTT046dD0+KHtrZXk6ZSh0LmtleSk/U3RyaW5nKHQua2V5KTpcIlwiLGlucHV0OmUodC5pbnB1dCk/U3RyaW5nKHQuaW5wdXQpOlwiXCIsb3V0cHV0OmUodC5vdXRwdXQpP1N0cmluZyh0Lm91dHB1dCk6XCJcIn0pLHRvSlNPTih0KXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT10LmtleSYmKG8ua2V5PXQua2V5KSx2b2lkIDAhPT10LmlucHV0JiYoby5pbnB1dD10LmlucHV0KSx2b2lkIDAhPT10Lm91dHB1dCYmKG8ub3V0cHV0PXQub3V0cHV0KSxvfSxmcm9tUGFydGlhbCh0KXtjb25zdCBvPXtrZXk6XCJcIixpbnB1dDpcIlwiLG91dHB1dDpcIlwifTtyZXR1cm4gby5rZXk9dC5rZXk/P1wiXCIsby5pbnB1dD10LmlucHV0Pz9cIlwiLG8ub3V0cHV0PXQub3V0cHV0Pz9cIlwiLG99LGZyb21Qcm90b01zZzp0PT5Eb21pbm9PcC5kZWNvZGUodC52YWx1ZSksdG9Qcm90bzp0PT5Eb21pbm9PcC5lbmNvZGUodCkuZmluaXNoKCksdG9Qcm90b01zZzp0PT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5jcnlwdG8uRG9taW5vT3BcIix2YWx1ZTpEb21pbm9PcC5lbmNvZGUodCkuZmluaXNoKCl9KX07JGjNj19vbmNlLkRvbWlub09wKERvbWlub09wKTtmdW5jdGlvbiBzKCl7cmV0dXJue3R5cGU6XCJcIixrZXk6bmV3IFVpbnQ4QXJyYXksZGF0YTpuZXcgVWludDhBcnJheX19Y29uc3QgUHJvb2ZPcD17dHlwZVVybDpcIi90ZW5kZXJtaW50LmNyeXB0by5Qcm9vZk9wXCIsZW5jb2RlOih0LGU9by5jcmVhdGUoKSk9PihcIlwiIT09dC50eXBlJiZlLnVpbnQzMigxMCkuc3RyaW5nKHQudHlwZSksMCE9PXQua2V5Lmxlbmd0aCYmZS51aW50MzIoMTgpLmJ5dGVzKHQua2V5KSwwIT09dC5kYXRhLmxlbmd0aCYmZS51aW50MzIoMjYpLmJ5dGVzKHQuZGF0YSksZSksZGVjb2RlKG8sZSl7Y29uc3Qgbj1vIGluc3RhbmNlb2YgdD9vOm5ldyB0KG8pO2xldCByPXZvaWQgMD09PWU/bi5sZW46bi5wb3MrZTtjb25zdCBpPXMoKTtmb3IoO24ucG9zPHI7KXtjb25zdCB0PW4udWludDMyKCk7c3dpdGNoKHQ+Pj4zKXtjYXNlIDE6aS50eXBlPW4uc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmkua2V5PW4uYnl0ZXMoKTticmVhaztjYXNlIDM6aS5kYXRhPW4uYnl0ZXMoKTticmVhaztkZWZhdWx0Om4uc2tpcFR5cGUoNyZ0KX19cmV0dXJuIGl9LGZyb21KU09OOnQ9Pih7dHlwZTplKHQudHlwZSk/U3RyaW5nKHQudHlwZSk6XCJcIixrZXk6ZSh0LmtleSk/bih0LmtleSk6bmV3IFVpbnQ4QXJyYXksZGF0YTplKHQuZGF0YSk/bih0LmRhdGEpOm5ldyBVaW50OEFycmF5fSksdG9KU09OKHQpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PXQudHlwZSYmKG8udHlwZT10LnR5cGUpLHZvaWQgMCE9PXQua2V5JiYoby5rZXk9cih2b2lkIDAhPT10LmtleT90LmtleTpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PXQuZGF0YSYmKG8uZGF0YT1yKHZvaWQgMCE9PXQuZGF0YT90LmRhdGE6bmV3IFVpbnQ4QXJyYXkpKSxvfSxmcm9tUGFydGlhbCh0KXtjb25zdCBvPXMoKTtyZXR1cm4gby50eXBlPXQudHlwZT8/XCJcIixvLmtleT10LmtleT8/bmV3IFVpbnQ4QXJyYXksby5kYXRhPXQuZGF0YT8/bmV3IFVpbnQ4QXJyYXksb30sZnJvbVByb3RvTXNnOnQ9PlByb29mT3AuZGVjb2RlKHQudmFsdWUpLHRvUHJvdG86dD0+UHJvb2ZPcC5lbmNvZGUodCkuZmluaXNoKCksdG9Qcm90b01zZzp0PT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC5jcnlwdG8uUHJvb2ZPcFwiLHZhbHVlOlByb29mT3AuZW5jb2RlKHQpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Qcm9vZk9wKFByb29mT3ApO2NvbnN0IFByb29mT3BzPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuY3J5cHRvLlByb29mT3BzXCIsZW5jb2RlKHQsZT1vLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiB0Lm9wcylQcm9vZk9wLmVuY29kZShvLGUudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBlfSxkZWNvZGUobyxlKXtjb25zdCBuPW8gaW5zdGFuY2VvZiB0P286bmV3IHQobyk7bGV0IHI9dm9pZCAwPT09ZT9uLmxlbjpuLnBvcytlO2NvbnN0IGk9e29wczpbXX07Zm9yKDtuLnBvczxyOyl7Y29uc3QgdD1uLnVpbnQzMigpO2lmKHQ+Pj4zPT0xKWkub3BzLnB1c2goUHJvb2ZPcC5kZWNvZGUobixuLnVpbnQzMigpKSk7ZWxzZSBuLnNraXBUeXBlKDcmdCl9cmV0dXJuIGl9LGZyb21KU09OOnQ9Pih7b3BzOkFycmF5LmlzQXJyYXkodD8ub3BzKT90Lm9wcy5tYXAoKHQ9PlByb29mT3AuZnJvbUpTT04odCkpKTpbXX0pLHRvSlNPTih0KXtjb25zdCBvPXt9O3JldHVybiB0Lm9wcz9vLm9wcz10Lm9wcy5tYXAoKHQ9PnQ/UHJvb2ZPcC50b0pTT04odCk6dm9pZCAwKSk6by5vcHM9W10sb30sZnJvbVBhcnRpYWwodCl7Y29uc3Qgbz17b3BzOltdfTtyZXR1cm4gby5vcHM9dC5vcHM/Lm1hcCgodD0+UHJvb2ZPcC5mcm9tUGFydGlhbCh0KSkpfHxbXSxvfSxmcm9tUHJvdG9Nc2c6dD0+UHJvb2ZPcHMuZGVjb2RlKHQudmFsdWUpLHRvUHJvdG86dD0+UHJvb2ZPcHMuZW5jb2RlKHQpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6dD0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQuY3J5cHRvLlByb29mT3BzXCIsdmFsdWU6UHJvb2ZPcHMuZW5jb2RlKHQpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5Qcm9vZk9wcyhQcm9vZk9wcyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJQcm9vZiI6WyJQcm9vZiJdLCJWYWx1ZU9wIjpbIlZhbHVlT3AiXSwiRG9taW5vT3AiOlsiRG9taW5vT3AiXSwiUHJvb2ZPcCI6WyJQcm9vZk9wIl0sIlByb29mT3BzIjpbIlByb29mT3BzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAIvXu9eKJwAAiicAAEMAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdHlwZXMvcGFyYW1zLmpzeyJpbXBvcnRzIjpbIi4uLy4uL2dvb2dsZS9wcm90b2J1Zi9kdXJhdGlvbi5qcyIsIi4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJCbG9ja1BhcmFtcyIsIkNvbnNlbnN1c1BhcmFtcyIsIkV2aWRlbmNlUGFyYW1zIiwiSGFzaGVkUGFyYW1zIiwiVmFsaWRhdG9yUGFyYW1zIiwiVmVyc2lvblBhcmFtcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGUsbyx0LGE7JGjNj19pbXBvcnRzKFtbXCIuLi8uLi9nb29nbGUvcHJvdG9idWYvZHVyYXRpb24uanNcIiwgW1tcIkR1cmF0aW9uXCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChhID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbigpe3JldHVybntibG9jazpCbG9ja1BhcmFtcy5mcm9tUGFydGlhbCh7fSksZXZpZGVuY2U6RXZpZGVuY2VQYXJhbXMuZnJvbVBhcnRpYWwoe30pLHZhbGlkYXRvcjpWYWxpZGF0b3JQYXJhbXMuZnJvbVBhcnRpYWwoe30pLHZlcnNpb246VmVyc2lvblBhcmFtcy5mcm9tUGFydGlhbCh7fSl9fSAgICAgICBjb25zdCBDb25zZW5zdXNQYXJhbXM9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5Db25zZW5zdXNQYXJhbXNcIixlbmNvZGU6KGUsbz10LmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUuYmxvY2smJkJsb2NrUGFyYW1zLmVuY29kZShlLmJsb2NrLG8udWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLHZvaWQgMCE9PWUuZXZpZGVuY2UmJkV2aWRlbmNlUGFyYW1zLmVuY29kZShlLmV2aWRlbmNlLG8udWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHZvaWQgMCE9PWUudmFsaWRhdG9yJiZWYWxpZGF0b3JQYXJhbXMuZW5jb2RlKGUudmFsaWRhdG9yLG8udWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLHZvaWQgMCE9PWUudmVyc2lvbiYmVmVyc2lvblBhcmFtcy5lbmNvZGUoZS52ZXJzaW9uLG8udWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZShlLHQpe2NvbnN0IGE9ZSBpbnN0YW5jZW9mIG8/ZTpuZXcgbyhlKTtsZXQgaT12b2lkIDA9PT10P2EubGVuOmEucG9zK3Q7Y29uc3Qgcz1uKCk7Zm9yKDthLnBvczxpOyl7Y29uc3QgZT1hLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnMuYmxvY2s9QmxvY2tQYXJhbXMuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOnMuZXZpZGVuY2U9RXZpZGVuY2VQYXJhbXMuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOnMudmFsaWRhdG9yPVZhbGlkYXRvclBhcmFtcy5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztjYXNlIDQ6cy52ZXJzaW9uPVZlcnNpb25QYXJhbXMuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmZSl9fXJldHVybiBzfSxmcm9tSlNPTjplPT4oe2Jsb2NrOmEoZS5ibG9jayk/QmxvY2tQYXJhbXMuZnJvbUpTT04oZS5ibG9jayk6dm9pZCAwLGV2aWRlbmNlOmEoZS5ldmlkZW5jZSk/RXZpZGVuY2VQYXJhbXMuZnJvbUpTT04oZS5ldmlkZW5jZSk6dm9pZCAwLHZhbGlkYXRvcjphKGUudmFsaWRhdG9yKT9WYWxpZGF0b3JQYXJhbXMuZnJvbUpTT04oZS52YWxpZGF0b3IpOnZvaWQgMCx2ZXJzaW9uOmEoZS52ZXJzaW9uKT9WZXJzaW9uUGFyYW1zLmZyb21KU09OKGUudmVyc2lvbik6dm9pZCAwfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PWUuYmxvY2smJihvLmJsb2NrPWUuYmxvY2s/QmxvY2tQYXJhbXMudG9KU09OKGUuYmxvY2spOnZvaWQgMCksdm9pZCAwIT09ZS5ldmlkZW5jZSYmKG8uZXZpZGVuY2U9ZS5ldmlkZW5jZT9FdmlkZW5jZVBhcmFtcy50b0pTT04oZS5ldmlkZW5jZSk6dm9pZCAwKSx2b2lkIDAhPT1lLnZhbGlkYXRvciYmKG8udmFsaWRhdG9yPWUudmFsaWRhdG9yP1ZhbGlkYXRvclBhcmFtcy50b0pTT04oZS52YWxpZGF0b3IpOnZvaWQgMCksdm9pZCAwIT09ZS52ZXJzaW9uJiYoby52ZXJzaW9uPWUudmVyc2lvbj9WZXJzaW9uUGFyYW1zLnRvSlNPTihlLnZlcnNpb24pOnZvaWQgMCksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1uKCk7cmV0dXJuIG8uYmxvY2s9dm9pZCAwIT09ZS5ibG9jayYmbnVsbCE9PWUuYmxvY2s/QmxvY2tQYXJhbXMuZnJvbVBhcnRpYWwoZS5ibG9jayk6dm9pZCAwLG8uZXZpZGVuY2U9dm9pZCAwIT09ZS5ldmlkZW5jZSYmbnVsbCE9PWUuZXZpZGVuY2U/RXZpZGVuY2VQYXJhbXMuZnJvbVBhcnRpYWwoZS5ldmlkZW5jZSk6dm9pZCAwLG8udmFsaWRhdG9yPXZvaWQgMCE9PWUudmFsaWRhdG9yJiZudWxsIT09ZS52YWxpZGF0b3I/VmFsaWRhdG9yUGFyYW1zLmZyb21QYXJ0aWFsKGUudmFsaWRhdG9yKTp2b2lkIDAsby52ZXJzaW9uPXZvaWQgMCE9PWUudmVyc2lvbiYmbnVsbCE9PWUudmVyc2lvbj9WZXJzaW9uUGFyYW1zLmZyb21QYXJ0aWFsKGUudmVyc2lvbik6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5Db25zZW5zdXNQYXJhbXMuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+Q29uc2Vuc3VzUGFyYW1zLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkNvbnNlbnN1c1BhcmFtc1wiLHZhbHVlOkNvbnNlbnN1c1BhcmFtcy5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkNvbnNlbnN1c1BhcmFtcyhDb25zZW5zdXNQYXJhbXMpO2Z1bmN0aW9uIGkoKXtyZXR1cm57bWF4Qnl0ZXM6QmlnSW50KDApLG1heEdhczpCaWdJbnQoMCksdGltZUlvdGFNczpCaWdJbnQoMCl9fWNvbnN0IEJsb2NrUGFyYW1zPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuQmxvY2tQYXJhbXNcIixlbmNvZGU6KGUsbz10LmNyZWF0ZSgpKT0+KGUubWF4Qnl0ZXMhPT1CaWdJbnQoMCkmJm8udWludDMyKDgpLmludDY0KGUubWF4Qnl0ZXMpLGUubWF4R2FzIT09QmlnSW50KDApJiZvLnVpbnQzMigxNikuaW50NjQoZS5tYXhHYXMpLGUudGltZUlvdGFNcyE9PUJpZ0ludCgwKSYmby51aW50MzIoMjQpLmludDY0KGUudGltZUlvdGFNcyksbyksZGVjb2RlKGUsdCl7Y29uc3QgYT1lIGluc3RhbmNlb2Ygbz9lOm5ldyBvKGUpO2xldCBuPXZvaWQgMD09PXQ/YS5sZW46YS5wb3MrdDtjb25zdCBzPWkoKTtmb3IoO2EucG9zPG47KXtjb25zdCBlPWEudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6cy5tYXhCeXRlcz1hLmludDY0KCk7YnJlYWs7Y2FzZSAyOnMubWF4R2FzPWEuaW50NjQoKTticmVhaztjYXNlIDM6cy50aW1lSW90YU1zPWEuaW50NjQoKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZlKX19cmV0dXJuIHN9LGZyb21KU09OOmU9Pih7bWF4Qnl0ZXM6YShlLm1heEJ5dGVzKT9CaWdJbnQoZS5tYXhCeXRlcy50b1N0cmluZygpKTpCaWdJbnQoMCksbWF4R2FzOmEoZS5tYXhHYXMpP0JpZ0ludChlLm1heEdhcy50b1N0cmluZygpKTpCaWdJbnQoMCksdGltZUlvdGFNczphKGUudGltZUlvdGFNcyk/QmlnSW50KGUudGltZUlvdGFNcy50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04oZSl7Y29uc3Qgbz17fTtyZXR1cm4gdm9pZCAwIT09ZS5tYXhCeXRlcyYmKG8ubWF4Qnl0ZXM9KGUubWF4Qnl0ZXN8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5tYXhHYXMmJihvLm1heEdhcz0oZS5tYXhHYXN8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS50aW1lSW90YU1zJiYoby50aW1lSW90YU1zPShlLnRpbWVJb3RhTXN8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz1pKCk7cmV0dXJuIG8ubWF4Qnl0ZXM9dm9pZCAwIT09ZS5tYXhCeXRlcyYmbnVsbCE9PWUubWF4Qnl0ZXM/QmlnSW50KGUubWF4Qnl0ZXMudG9TdHJpbmcoKSk6QmlnSW50KDApLG8ubWF4R2FzPXZvaWQgMCE9PWUubWF4R2FzJiZudWxsIT09ZS5tYXhHYXM/QmlnSW50KGUubWF4R2FzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvLnRpbWVJb3RhTXM9dm9pZCAwIT09ZS50aW1lSW90YU1zJiZudWxsIT09ZS50aW1lSW90YU1zP0JpZ0ludChlLnRpbWVJb3RhTXMudG9TdHJpbmcoKSk6QmlnSW50KDApLG99LGZyb21Qcm90b01zZzplPT5CbG9ja1BhcmFtcy5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5CbG9ja1BhcmFtcy5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5CbG9ja1BhcmFtc1wiLHZhbHVlOkJsb2NrUGFyYW1zLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuQmxvY2tQYXJhbXMoQmxvY2tQYXJhbXMpO2Z1bmN0aW9uIHMoKXtyZXR1cm57bWF4QWdlTnVtQmxvY2tzOkJpZ0ludCgwKSxtYXhBZ2VEdXJhdGlvbjplLmZyb21QYXJ0aWFsKHt9KSxtYXhCeXRlczpCaWdJbnQoMCl9fWNvbnN0IEV2aWRlbmNlUGFyYW1zPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuRXZpZGVuY2VQYXJhbXNcIixlbmNvZGU6KG8sYT10LmNyZWF0ZSgpKT0+KG8ubWF4QWdlTnVtQmxvY2tzIT09QmlnSW50KDApJiZhLnVpbnQzMig4KS5pbnQ2NChvLm1heEFnZU51bUJsb2Nrcyksdm9pZCAwIT09by5tYXhBZ2VEdXJhdGlvbiYmZS5lbmNvZGUoby5tYXhBZ2VEdXJhdGlvbixhLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxvLm1heEJ5dGVzIT09QmlnSW50KDApJiZhLnVpbnQzMigyNCkuaW50NjQoby5tYXhCeXRlcyksYSksZGVjb2RlKHQsYSl7Y29uc3Qgbj10IGluc3RhbmNlb2Ygbz90Om5ldyBvKHQpO2xldCBpPXZvaWQgMD09PWE/bi5sZW46bi5wb3MrYTtjb25zdCByPXMoKTtmb3IoO24ucG9zPGk7KXtjb25zdCBvPW4udWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6ci5tYXhBZ2VOdW1CbG9ja3M9bi5pbnQ2NCgpO2JyZWFrO2Nhc2UgMjpyLm1heEFnZUR1cmF0aW9uPWUuZGVjb2RlKG4sbi51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOnIubWF4Qnl0ZXM9bi5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6bi5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gcn0sZnJvbUpTT046bz0+KHttYXhBZ2VOdW1CbG9ja3M6YShvLm1heEFnZU51bUJsb2Nrcyk/QmlnSW50KG8ubWF4QWdlTnVtQmxvY2tzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxtYXhBZ2VEdXJhdGlvbjphKG8ubWF4QWdlRHVyYXRpb24pP2UuZnJvbUpTT04oby5tYXhBZ2VEdXJhdGlvbik6dm9pZCAwLG1heEJ5dGVzOmEoby5tYXhCeXRlcyk/QmlnSW50KG8ubWF4Qnl0ZXMudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PW8ubWF4QWdlTnVtQmxvY2tzJiYodC5tYXhBZ2VOdW1CbG9ja3M9KG8ubWF4QWdlTnVtQmxvY2tzfHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PW8ubWF4QWdlRHVyYXRpb24mJih0Lm1heEFnZUR1cmF0aW9uPW8ubWF4QWdlRHVyYXRpb24/ZS50b0pTT04oby5tYXhBZ2VEdXJhdGlvbik6dm9pZCAwKSx2b2lkIDAhPT1vLm1heEJ5dGVzJiYodC5tYXhCeXRlcz0oby5tYXhCeXRlc3x8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PXMoKTtyZXR1cm4gdC5tYXhBZ2VOdW1CbG9ja3M9dm9pZCAwIT09by5tYXhBZ2VOdW1CbG9ja3MmJm51bGwhPT1vLm1heEFnZU51bUJsb2Nrcz9CaWdJbnQoby5tYXhBZ2VOdW1CbG9ja3MudG9TdHJpbmcoKSk6QmlnSW50KDApLHQubWF4QWdlRHVyYXRpb249dm9pZCAwIT09by5tYXhBZ2VEdXJhdGlvbiYmbnVsbCE9PW8ubWF4QWdlRHVyYXRpb24/ZS5mcm9tUGFydGlhbChvLm1heEFnZUR1cmF0aW9uKTp2b2lkIDAsdC5tYXhCeXRlcz12b2lkIDAhPT1vLm1heEJ5dGVzJiZudWxsIT09by5tYXhCeXRlcz9CaWdJbnQoby5tYXhCeXRlcy50b1N0cmluZygpKTpCaWdJbnQoMCksdH0sZnJvbVByb3RvTXNnOmU9PkV2aWRlbmNlUGFyYW1zLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkV2aWRlbmNlUGFyYW1zLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkV2aWRlbmNlUGFyYW1zXCIsdmFsdWU6RXZpZGVuY2VQYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5FdmlkZW5jZVBhcmFtcyhFdmlkZW5jZVBhcmFtcyk7Y29uc3QgVmFsaWRhdG9yUGFyYW1zPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuVmFsaWRhdG9yUGFyYW1zXCIsZW5jb2RlKGUsbz10LmNyZWF0ZSgpKXtmb3IoY29uc3QgdCBvZiBlLnB1YktleVR5cGVzKW8udWludDMyKDEwKS5zdHJpbmcodCk7cmV0dXJuIG99LGRlY29kZShlLHQpe2NvbnN0IGE9ZSBpbnN0YW5jZW9mIG8/ZTpuZXcgbyhlKTtsZXQgbj12b2lkIDA9PT10P2EubGVuOmEucG9zK3Q7Y29uc3QgaT17cHViS2V5VHlwZXM6W119O2Zvcig7YS5wb3M8bjspe2NvbnN0IGU9YS51aW50MzIoKTtpZihlPj4+Mz09MSlpLnB1YktleVR5cGVzLnB1c2goYS5zdHJpbmcoKSk7ZWxzZSBhLnNraXBUeXBlKDcmZSl9cmV0dXJuIGl9LGZyb21KU09OOmU9Pih7cHViS2V5VHlwZXM6QXJyYXkuaXNBcnJheShlPy5wdWJLZXlUeXBlcyk/ZS5wdWJLZXlUeXBlcy5tYXAoKGU9PlN0cmluZyhlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IG89e307cmV0dXJuIGUucHViS2V5VHlwZXM/by5wdWJLZXlUeXBlcz1lLnB1YktleVR5cGVzLm1hcCgoZT0+ZSkpOm8ucHViS2V5VHlwZXM9W10sb30sZnJvbVBhcnRpYWwoZSl7Y29uc3Qgbz17cHViS2V5VHlwZXM6W119O3JldHVybiBvLnB1YktleVR5cGVzPWUucHViS2V5VHlwZXM/Lm1hcCgoZT0+ZSkpfHxbXSxvfSxmcm9tUHJvdG9Nc2c6ZT0+VmFsaWRhdG9yUGFyYW1zLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlZhbGlkYXRvclBhcmFtcy5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5WYWxpZGF0b3JQYXJhbXNcIix2YWx1ZTpWYWxpZGF0b3JQYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5WYWxpZGF0b3JQYXJhbXMoVmFsaWRhdG9yUGFyYW1zKTtmdW5jdGlvbiByKCl7cmV0dXJue2FwcFZlcnNpb246QmlnSW50KDApfX1jb25zdCBWZXJzaW9uUGFyYW1zPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuVmVyc2lvblBhcmFtc1wiLGVuY29kZTooZSxvPXQuY3JlYXRlKCkpPT4oZS5hcHBWZXJzaW9uIT09QmlnSW50KDApJiZvLnVpbnQzMig4KS51aW50NjQoZS5hcHBWZXJzaW9uKSxvKSxkZWNvZGUoZSx0KXtjb25zdCBhPWUgaW5zdGFuY2VvZiBvP2U6bmV3IG8oZSk7bGV0IG49dm9pZCAwPT09dD9hLmxlbjphLnBvcyt0O2NvbnN0IGk9cigpO2Zvcig7YS5wb3M8bjspe2NvbnN0IGU9YS51aW50MzIoKTtpZihlPj4+Mz09MSlpLmFwcFZlcnNpb249YS51aW50NjQoKTtlbHNlIGEuc2tpcFR5cGUoNyZlKX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHthcHBWZXJzaW9uOmEoZS5hcHBWZXJzaW9uKT9CaWdJbnQoZS5hcHBWZXJzaW9uLnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmFwcFZlcnNpb24mJihvLmFwcFZlcnNpb249KGUuYXBwVmVyc2lvbnx8QmlnSW50KDApKS50b1N0cmluZygpKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPXIoKTtyZXR1cm4gby5hcHBWZXJzaW9uPXZvaWQgMCE9PWUuYXBwVmVyc2lvbiYmbnVsbCE9PWUuYXBwVmVyc2lvbj9CaWdJbnQoZS5hcHBWZXJzaW9uLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvfSxmcm9tUHJvdG9Nc2c6ZT0+VmVyc2lvblBhcmFtcy5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5WZXJzaW9uUGFyYW1zLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLlZlcnNpb25QYXJhbXNcIix2YWx1ZTpWZXJzaW9uUGFyYW1zLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuVmVyc2lvblBhcmFtcyhWZXJzaW9uUGFyYW1zKTtmdW5jdGlvbiBtKCl7cmV0dXJue2Jsb2NrTWF4Qnl0ZXM6QmlnSW50KDApLGJsb2NrTWF4R2FzOkJpZ0ludCgwKX19Y29uc3QgSGFzaGVkUGFyYW1zPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuSGFzaGVkUGFyYW1zXCIsZW5jb2RlOihlLG89dC5jcmVhdGUoKSk9PihlLmJsb2NrTWF4Qnl0ZXMhPT1CaWdJbnQoMCkmJm8udWludDMyKDgpLmludDY0KGUuYmxvY2tNYXhCeXRlcyksZS5ibG9ja01heEdhcyE9PUJpZ0ludCgwKSYmby51aW50MzIoMTYpLmludDY0KGUuYmxvY2tNYXhHYXMpLG8pLGRlY29kZShlLHQpe2NvbnN0IGE9ZSBpbnN0YW5jZW9mIG8/ZTpuZXcgbyhlKTtsZXQgbj12b2lkIDA9PT10P2EubGVuOmEucG9zK3Q7Y29uc3QgaT1tKCk7Zm9yKDthLnBvczxuOyl7Y29uc3QgZT1hLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuYmxvY2tNYXhCeXRlcz1hLmludDY0KCk7YnJlYWs7Y2FzZSAyOmkuYmxvY2tNYXhHYXM9YS5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtibG9ja01heEJ5dGVzOmEoZS5ibG9ja01heEJ5dGVzKT9CaWdJbnQoZS5ibG9ja01heEJ5dGVzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxibG9ja01heEdhczphKGUuYmxvY2tNYXhHYXMpP0JpZ0ludChlLmJsb2NrTWF4R2FzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLmJsb2NrTWF4Qnl0ZXMmJihvLmJsb2NrTWF4Qnl0ZXM9KGUuYmxvY2tNYXhCeXRlc3x8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLmJsb2NrTWF4R2FzJiYoby5ibG9ja01heEdhcz0oZS5ibG9ja01heEdhc3x8QmlnSW50KDApKS50b1N0cmluZygpKSxvfSxmcm9tUGFydGlhbChlKXtjb25zdCBvPW0oKTtyZXR1cm4gby5ibG9ja01heEJ5dGVzPXZvaWQgMCE9PWUuYmxvY2tNYXhCeXRlcyYmbnVsbCE9PWUuYmxvY2tNYXhCeXRlcz9CaWdJbnQoZS5ibG9ja01heEJ5dGVzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvLmJsb2NrTWF4R2FzPXZvaWQgMCE9PWUuYmxvY2tNYXhHYXMmJm51bGwhPT1lLmJsb2NrTWF4R2FzP0JpZ0ludChlLmJsb2NrTWF4R2FzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxvfSxmcm9tUHJvdG9Nc2c6ZT0+SGFzaGVkUGFyYW1zLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9Pkhhc2hlZFBhcmFtcy5lbmNvZGUoZSkuZmluaXNoKCksdG9Qcm90b01zZzplPT4oe3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5IYXNoZWRQYXJhbXNcIix2YWx1ZTpIYXNoZWRQYXJhbXMuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5IYXNoZWRQYXJhbXMoSGFzaGVkUGFyYW1zKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkNvbnNlbnN1c1BhcmFtcyI6WyJDb25zZW5zdXNQYXJhbXMiXSwiQmxvY2tQYXJhbXMiOlsiQmxvY2tQYXJhbXMiXSwiRXZpZGVuY2VQYXJhbXMiOlsiRXZpZGVuY2VQYXJhbXMiXSwiVmFsaWRhdG9yUGFyYW1zIjpbIlZhbGlkYXRvclBhcmFtcyJdLCJWZXJzaW9uUGFyYW1zIjpbIlZlcnNpb25QYXJhbXMiXSwiSGFzaGVkUGFyYW1zIjpbIkhhc2hlZFBhcmFtcyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADDyaj1wXYAAMF2AABCAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L3R5cGVzL3R5cGVzLmpzeyJpbXBvcnRzIjpbIi4uL2NyeXB0by9wcm9vZi5qcyIsIi4uL3ZlcnNpb24vdHlwZXMuanMiLCIuLi8uLi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLmpzIiwiLi92YWxpZGF0b3IuanMiLCIuLi8uLi9iaW5hcnkuanMiLCIuLi8uLi9oZWxwZXJzLmpzIiwiQGVuZG8vYmFzZTY0IiwiLi4vLi4vanNvbi1zYWZlLmpzIl0sImV4cG9ydHMiOlsiQmxvY2tJRCIsIkJsb2NrSURGbGFnIiwiQmxvY2tJREZsYWdTREtUeXBlIiwiQmxvY2tNZXRhIiwiQ29tbWl0IiwiQ29tbWl0U2lnIiwiRGF0YSIsIkhlYWRlciIsIkxpZ2h0QmxvY2siLCJQYXJ0IiwiUGFydFNldEhlYWRlciIsIlByb3Bvc2FsIiwiU2lnbmVkSGVhZGVyIiwiU2lnbmVkTXNnVHlwZSIsIlNpZ25lZE1zZ1R5cGVTREtUeXBlIiwiVHhQcm9vZiIsIlZvdGUiLCJibG9ja0lERmxhZ0Zyb21KU09OIiwiYmxvY2tJREZsYWdUb0pTT04iLCJzaWduZWRNc2dUeXBlRnJvbUpTT04iLCJzaWduZWRNc2dUeXBlVG9KU09OIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZSx0LG8scixhLGksbixzLGQsbCxjOyRozY9faW1wb3J0cyhbW1wiLi4vY3J5cHRvL3Byb29mLmpzXCIsIFtbXCJQcm9vZlwiLFskaM2PX2EgPT4gKGUgPSAkaM2PX2EpXV1dXSxbXCIuLi92ZXJzaW9uL3R5cGVzLmpzXCIsIFtbXCJDb25zZW5zdXNcIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5qc1wiLCBbW1wiVGltZXN0YW1wXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXV1dLFtcIi4vdmFsaWRhdG9yLmpzXCIsIFtbXCJWYWxpZGF0b3JTZXRcIixbJGjNj19hID0+IChyID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vYmluYXJ5LmpzXCIsIFtbXCJCaW5hcnlSZWFkZXJcIixbJGjNj19hID0+IChhID0gJGjNj19hKV1dLFtcIkJpbmFyeVdyaXRlclwiLFskaM2PX2EgPT4gKGkgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9oZWxwZXJzLmpzXCIsIFtbXCJpc1NldFwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV0sW1wiZnJvbUpzb25UaW1lc3RhbXBcIixbJGjNj19hID0+IChzID0gJGjNj19hKV1dLFtcImZyb21UaW1lc3RhbXBcIixbJGjNj19hID0+IChkID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vYmFzZTY0XCIsIFtbXCJkZWNvZGVCYXNlNjRcIixbJGjNj19hID0+IChsID0gJGjNj19hKV1dLFtcImVuY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGMgPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9qc29uLXNhZmUuanNcIiwgW11dXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGJsb2NrSURGbGFnRnJvbUpTT04sJ25hbWUnLHt2YWx1ZTpcImJsb2NrSURGbGFnRnJvbUpTT05cIn0pOyRozY9fb25jZS5ibG9ja0lERmxhZ0Zyb21KU09OKGJsb2NrSURGbGFnRnJvbUpTT04pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShibG9ja0lERmxhZ1RvSlNPTiwnbmFtZScse3ZhbHVlOlwiYmxvY2tJREZsYWdUb0pTT05cIn0pOyRozY9fb25jZS5ibG9ja0lERmxhZ1RvSlNPTihibG9ja0lERmxhZ1RvSlNPTik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHNpZ25lZE1zZ1R5cGVGcm9tSlNPTiwnbmFtZScse3ZhbHVlOlwic2lnbmVkTXNnVHlwZUZyb21KU09OXCJ9KTskaM2PX29uY2Uuc2lnbmVkTXNnVHlwZUZyb21KU09OKHNpZ25lZE1zZ1R5cGVGcm9tSlNPTik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHNpZ25lZE1zZ1R5cGVUb0pTT04sJ25hbWUnLHt2YWx1ZTpcInNpZ25lZE1zZ1R5cGVUb0pTT05cIn0pOyRozY9fb25jZS5zaWduZWRNc2dUeXBlVG9KU09OKHNpZ25lZE1zZ1R5cGVUb0pTT04pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRjzY9fQmxvY2tJREZsYWc7JGjNj19saXZlLkJsb2NrSURGbGFnKCRjzY9fQmxvY2tJREZsYWcpOyFmdW5jdGlvbihlKXtlW2UuQkxPQ0tfSURfRkxBR19VTktOT1dOPTBdPVwiQkxPQ0tfSURfRkxBR19VTktOT1dOXCIsZVtlLkJMT0NLX0lEX0ZMQUdfQUJTRU5UPTFdPVwiQkxPQ0tfSURfRkxBR19BQlNFTlRcIixlW2UuQkxPQ0tfSURfRkxBR19DT01NSVQ9Ml09XCJCTE9DS19JRF9GTEFHX0NPTU1JVFwiLGVbZS5CTE9DS19JRF9GTEFHX05JTD0zXT1cIkJMT0NLX0lEX0ZMQUdfTklMXCIsZVtlLlVOUkVDT0dOSVpFRD0tMV09XCJVTlJFQ09HTklaRURcIn0oQmxvY2tJREZsYWd8fChCbG9ja0lERmxhZz17fSkpO2NvbnN0IEJsb2NrSURGbGFnU0RLVHlwZT1CbG9ja0lERmxhZzskaM2PX29uY2UuQmxvY2tJREZsYWdTREtUeXBlKEJsb2NrSURGbGFnU0RLVHlwZSk7ZnVuY3Rpb24gYmxvY2tJREZsYWdGcm9tSlNPTihlKXtzd2l0Y2goZSl7Y2FzZSAwOmNhc2VcIkJMT0NLX0lEX0ZMQUdfVU5LTk9XTlwiOnJldHVybiBCbG9ja0lERmxhZy5CTE9DS19JRF9GTEFHX1VOS05PV047Y2FzZSAxOmNhc2VcIkJMT0NLX0lEX0ZMQUdfQUJTRU5UXCI6cmV0dXJuIEJsb2NrSURGbGFnLkJMT0NLX0lEX0ZMQUdfQUJTRU5UO2Nhc2UgMjpjYXNlXCJCTE9DS19JRF9GTEFHX0NPTU1JVFwiOnJldHVybiBCbG9ja0lERmxhZy5CTE9DS19JRF9GTEFHX0NPTU1JVDtjYXNlIDM6Y2FzZVwiQkxPQ0tfSURfRkxBR19OSUxcIjpyZXR1cm4gQmxvY2tJREZsYWcuQkxPQ0tfSURfRkxBR19OSUw7ZGVmYXVsdDpyZXR1cm4gQmxvY2tJREZsYWcuVU5SRUNPR05JWkVEfX1mdW5jdGlvbiBibG9ja0lERmxhZ1RvSlNPTihlKXtzd2l0Y2goZSl7Y2FzZSBCbG9ja0lERmxhZy5CTE9DS19JRF9GTEFHX1VOS05PV046cmV0dXJuXCJCTE9DS19JRF9GTEFHX1VOS05PV05cIjtjYXNlIEJsb2NrSURGbGFnLkJMT0NLX0lEX0ZMQUdfQUJTRU5UOnJldHVyblwiQkxPQ0tfSURfRkxBR19BQlNFTlRcIjtjYXNlIEJsb2NrSURGbGFnLkJMT0NLX0lEX0ZMQUdfQ09NTUlUOnJldHVyblwiQkxPQ0tfSURfRkxBR19DT01NSVRcIjtjYXNlIEJsb2NrSURGbGFnLkJMT0NLX0lEX0ZMQUdfTklMOnJldHVyblwiQkxPQ0tfSURfRkxBR19OSUxcIjtjYXNlIEJsb2NrSURGbGFnLlVOUkVDT0dOSVpFRDpkZWZhdWx0OnJldHVyblwiVU5SRUNPR05JWkVEXCJ9fXZhciAkY82PX1NpZ25lZE1zZ1R5cGU7JGjNj19saXZlLlNpZ25lZE1zZ1R5cGUoJGPNj19TaWduZWRNc2dUeXBlKTshZnVuY3Rpb24oZSl7ZVtlLlNJR05FRF9NU0dfVFlQRV9VTktOT1dOPTBdPVwiU0lHTkVEX01TR19UWVBFX1VOS05PV05cIixlW2UuU0lHTkVEX01TR19UWVBFX1BSRVZPVEU9MV09XCJTSUdORURfTVNHX1RZUEVfUFJFVk9URVwiLGVbZS5TSUdORURfTVNHX1RZUEVfUFJFQ09NTUlUPTJdPVwiU0lHTkVEX01TR19UWVBFX1BSRUNPTU1JVFwiLGVbZS5TSUdORURfTVNHX1RZUEVfUFJPUE9TQUw9MzJdPVwiU0lHTkVEX01TR19UWVBFX1BST1BPU0FMXCIsZVtlLlVOUkVDT0dOSVpFRD0tMV09XCJVTlJFQ09HTklaRURcIn0oU2lnbmVkTXNnVHlwZXx8KFNpZ25lZE1zZ1R5cGU9e30pKTtjb25zdCBTaWduZWRNc2dUeXBlU0RLVHlwZT1TaWduZWRNc2dUeXBlOyRozY9fb25jZS5TaWduZWRNc2dUeXBlU0RLVHlwZShTaWduZWRNc2dUeXBlU0RLVHlwZSk7ZnVuY3Rpb24gc2lnbmVkTXNnVHlwZUZyb21KU09OKGUpe3N3aXRjaChlKXtjYXNlIDA6Y2FzZVwiU0lHTkVEX01TR19UWVBFX1VOS05PV05cIjpyZXR1cm4gU2lnbmVkTXNnVHlwZS5TSUdORURfTVNHX1RZUEVfVU5LTk9XTjtjYXNlIDE6Y2FzZVwiU0lHTkVEX01TR19UWVBFX1BSRVZPVEVcIjpyZXR1cm4gU2lnbmVkTXNnVHlwZS5TSUdORURfTVNHX1RZUEVfUFJFVk9URTtjYXNlIDI6Y2FzZVwiU0lHTkVEX01TR19UWVBFX1BSRUNPTU1JVFwiOnJldHVybiBTaWduZWRNc2dUeXBlLlNJR05FRF9NU0dfVFlQRV9QUkVDT01NSVQ7Y2FzZSAzMjpjYXNlXCJTSUdORURfTVNHX1RZUEVfUFJPUE9TQUxcIjpyZXR1cm4gU2lnbmVkTXNnVHlwZS5TSUdORURfTVNHX1RZUEVfUFJPUE9TQUw7ZGVmYXVsdDpyZXR1cm4gU2lnbmVkTXNnVHlwZS5VTlJFQ09HTklaRUR9fWZ1bmN0aW9uIHNpZ25lZE1zZ1R5cGVUb0pTT04oZSl7c3dpdGNoKGUpe2Nhc2UgU2lnbmVkTXNnVHlwZS5TSUdORURfTVNHX1RZUEVfVU5LTk9XTjpyZXR1cm5cIlNJR05FRF9NU0dfVFlQRV9VTktOT1dOXCI7Y2FzZSBTaWduZWRNc2dUeXBlLlNJR05FRF9NU0dfVFlQRV9QUkVWT1RFOnJldHVyblwiU0lHTkVEX01TR19UWVBFX1BSRVZPVEVcIjtjYXNlIFNpZ25lZE1zZ1R5cGUuU0lHTkVEX01TR19UWVBFX1BSRUNPTU1JVDpyZXR1cm5cIlNJR05FRF9NU0dfVFlQRV9QUkVDT01NSVRcIjtjYXNlIFNpZ25lZE1zZ1R5cGUuU0lHTkVEX01TR19UWVBFX1BST1BPU0FMOnJldHVyblwiU0lHTkVEX01TR19UWVBFX1BST1BPU0FMXCI7Y2FzZSBTaWduZWRNc2dUeXBlLlVOUkVDT0dOSVpFRDpkZWZhdWx0OnJldHVyblwiVU5SRUNPR05JWkVEXCJ9fWZ1bmN0aW9uIGgoKXtyZXR1cm57dG90YWw6MCxoYXNoOm5ldyBVaW50OEFycmF5fX1jb25zdCBQYXJ0U2V0SGVhZGVyPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuUGFydFNldEhlYWRlclwiLGVuY29kZTooZSx0PWkuY3JlYXRlKCkpPT4oMCE9PWUudG90YWwmJnQudWludDMyKDgpLnVpbnQzMihlLnRvdGFsKSwwIT09ZS5oYXNoLmxlbmd0aCYmdC51aW50MzIoMTgpLmJ5dGVzKGUuaGFzaCksdCksZGVjb2RlKGUsdCl7Y29uc3Qgbz1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCByPXZvaWQgMD09PXQ/by5sZW46by5wb3MrdDtjb25zdCBpPWgoKTtmb3IoO28ucG9zPHI7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS50b3RhbD1vLnVpbnQzMigpO2JyZWFrO2Nhc2UgMjppLmhhc2g9by5ieXRlcygpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHt0b3RhbDpuKGUudG90YWwpP051bWJlcihlLnRvdGFsKTowLGhhc2g6bihlLmhhc2gpP2woZS5oYXNoKTpuZXcgVWludDhBcnJheX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLnRvdGFsJiYodC50b3RhbD1NYXRoLnJvdW5kKGUudG90YWwpKSx2b2lkIDAhPT1lLmhhc2gmJih0Lmhhc2g9Yyh2b2lkIDAhPT1lLmhhc2g/ZS5oYXNoOm5ldyBVaW50OEFycmF5KSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1oKCk7cmV0dXJuIHQudG90YWw9ZS50b3RhbD8/MCx0Lmhhc2g9ZS5oYXNoPz9uZXcgVWludDhBcnJheSx0fSxmcm9tUHJvdG9Nc2c6ZT0+UGFydFNldEhlYWRlci5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5QYXJ0U2V0SGVhZGVyLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLlBhcnRTZXRIZWFkZXJcIix2YWx1ZTpQYXJ0U2V0SGVhZGVyLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuUGFydFNldEhlYWRlcihQYXJ0U2V0SGVhZGVyKTtmdW5jdGlvbiB1KCl7cmV0dXJue2luZGV4OjAsYnl0ZXM6bmV3IFVpbnQ4QXJyYXkscHJvb2Y6ZS5mcm9tUGFydGlhbCh7fSl9fWNvbnN0IFBhcnQ9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5QYXJ0XCIsZW5jb2RlOih0LG89aS5jcmVhdGUoKSk9PigwIT09dC5pbmRleCYmby51aW50MzIoOCkudWludDMyKHQuaW5kZXgpLDAhPT10LmJ5dGVzLmxlbmd0aCYmby51aW50MzIoMTgpLmJ5dGVzKHQuYnl0ZXMpLHZvaWQgMCE9PXQucHJvb2YmJmUuZW5jb2RlKHQucHJvb2Ysby51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksbyksZGVjb2RlKHQsbyl7Y29uc3Qgcj10IGluc3RhbmNlb2YgYT90Om5ldyBhKHQpO2xldCBpPXZvaWQgMD09PW8/ci5sZW46ci5wb3Mrbztjb25zdCBuPXUoKTtmb3IoO3IucG9zPGk7KXtjb25zdCB0PXIudWludDMyKCk7c3dpdGNoKHQ+Pj4zKXtjYXNlIDE6bi5pbmRleD1yLnVpbnQzMigpO2JyZWFrO2Nhc2UgMjpuLmJ5dGVzPXIuYnl0ZXMoKTticmVhaztjYXNlIDM6bi5wcm9vZj1lLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZSg3JnQpfX1yZXR1cm4gbn0sZnJvbUpTT046dD0+KHtpbmRleDpuKHQuaW5kZXgpP051bWJlcih0LmluZGV4KTowLGJ5dGVzOm4odC5ieXRlcyk/bCh0LmJ5dGVzKTpuZXcgVWludDhBcnJheSxwcm9vZjpuKHQucHJvb2YpP2UuZnJvbUpTT04odC5wcm9vZik6dm9pZCAwfSksdG9KU09OKHQpe2NvbnN0IG89e307cmV0dXJuIHZvaWQgMCE9PXQuaW5kZXgmJihvLmluZGV4PU1hdGgucm91bmQodC5pbmRleCkpLHZvaWQgMCE9PXQuYnl0ZXMmJihvLmJ5dGVzPWModm9pZCAwIT09dC5ieXRlcz90LmJ5dGVzOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09dC5wcm9vZiYmKG8ucHJvb2Y9dC5wcm9vZj9lLnRvSlNPTih0LnByb29mKTp2b2lkIDApLG99LGZyb21QYXJ0aWFsKHQpe2NvbnN0IG89dSgpO3JldHVybiBvLmluZGV4PXQuaW5kZXg/PzAsby5ieXRlcz10LmJ5dGVzPz9uZXcgVWludDhBcnJheSxvLnByb29mPXZvaWQgMCE9PXQucHJvb2YmJm51bGwhPT10LnByb29mP2UuZnJvbVBhcnRpYWwodC5wcm9vZik6dm9pZCAwLG99LGZyb21Qcm90b01zZzplPT5QYXJ0LmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PlBhcnQuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuUGFydFwiLHZhbHVlOlBhcnQuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5QYXJ0KFBhcnQpO2Z1bmN0aW9uIG0oKXtyZXR1cm57aGFzaDpuZXcgVWludDhBcnJheSxwYXJ0U2V0SGVhZGVyOlBhcnRTZXRIZWFkZXIuZnJvbVBhcnRpYWwoe30pfX1jb25zdCBCbG9ja0lEPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuQmxvY2tJRFwiLGVuY29kZTooZSx0PWkuY3JlYXRlKCkpPT4oMCE9PWUuaGFzaC5sZW5ndGgmJnQudWludDMyKDEwKS5ieXRlcyhlLmhhc2gpLHZvaWQgMCE9PWUucGFydFNldEhlYWRlciYmUGFydFNldEhlYWRlci5lbmNvZGUoZS5wYXJ0U2V0SGVhZGVyLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgcj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT1tKCk7Zm9yKDtvLnBvczxyOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuaGFzaD1vLmJ5dGVzKCk7YnJlYWs7Y2FzZSAyOmkucGFydFNldEhlYWRlcj1QYXJ0U2V0SGVhZGVyLmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtoYXNoOm4oZS5oYXNoKT9sKGUuaGFzaCk6bmV3IFVpbnQ4QXJyYXkscGFydFNldEhlYWRlcjpuKGUucGFydFNldEhlYWRlcik/UGFydFNldEhlYWRlci5mcm9tSlNPTihlLnBhcnRTZXRIZWFkZXIpOnZvaWQgMH0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmhhc2gmJih0Lmhhc2g9Yyh2b2lkIDAhPT1lLmhhc2g/ZS5oYXNoOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS5wYXJ0U2V0SGVhZGVyJiYodC5wYXJ0U2V0SGVhZGVyPWUucGFydFNldEhlYWRlcj9QYXJ0U2V0SGVhZGVyLnRvSlNPTihlLnBhcnRTZXRIZWFkZXIpOnZvaWQgMCksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1tKCk7cmV0dXJuIHQuaGFzaD1lLmhhc2g/P25ldyBVaW50OEFycmF5LHQucGFydFNldEhlYWRlcj12b2lkIDAhPT1lLnBhcnRTZXRIZWFkZXImJm51bGwhPT1lLnBhcnRTZXRIZWFkZXI/UGFydFNldEhlYWRlci5mcm9tUGFydGlhbChlLnBhcnRTZXRIZWFkZXIpOnZvaWQgMCx0fSxmcm9tUHJvdG9Nc2c6ZT0+QmxvY2tJRC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5CbG9ja0lELmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkJsb2NrSURcIix2YWx1ZTpCbG9ja0lELmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuQmxvY2tJRChCbG9ja0lEKTtmdW5jdGlvbiBwKCl7cmV0dXJue3ZlcnNpb246dC5mcm9tUGFydGlhbCh7fSksY2hhaW5JZDpcIlwiLGhlaWdodDpCaWdJbnQoMCksdGltZTpvLmZyb21QYXJ0aWFsKHt9KSxsYXN0QmxvY2tJZDpCbG9ja0lELmZyb21QYXJ0aWFsKHt9KSxsYXN0Q29tbWl0SGFzaDpuZXcgVWludDhBcnJheSxkYXRhSGFzaDpuZXcgVWludDhBcnJheSx2YWxpZGF0b3JzSGFzaDpuZXcgVWludDhBcnJheSxuZXh0VmFsaWRhdG9yc0hhc2g6bmV3IFVpbnQ4QXJyYXksY29uc2Vuc3VzSGFzaDpuZXcgVWludDhBcnJheSxhcHBIYXNoOm5ldyBVaW50OEFycmF5LGxhc3RSZXN1bHRzSGFzaDpuZXcgVWludDhBcnJheSxldmlkZW5jZUhhc2g6bmV3IFVpbnQ4QXJyYXkscHJvcG9zZXJBZGRyZXNzOm5ldyBVaW50OEFycmF5fX1jb25zdCBIZWFkZXI9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5IZWFkZXJcIixlbmNvZGU6KGUscj1pLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUudmVyc2lvbiYmdC5lbmNvZGUoZS52ZXJzaW9uLHIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLFwiXCIhPT1lLmNoYWluSWQmJnIudWludDMyKDE4KS5zdHJpbmcoZS5jaGFpbklkKSxlLmhlaWdodCE9PUJpZ0ludCgwKSYmci51aW50MzIoMjQpLmludDY0KGUuaGVpZ2h0KSx2b2lkIDAhPT1lLnRpbWUmJm8uZW5jb2RlKGUudGltZSxyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKSx2b2lkIDAhPT1lLmxhc3RCbG9ja0lkJiZCbG9ja0lELmVuY29kZShlLmxhc3RCbG9ja0lkLHIudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpLDAhPT1lLmxhc3RDb21taXRIYXNoLmxlbmd0aCYmci51aW50MzIoNTApLmJ5dGVzKGUubGFzdENvbW1pdEhhc2gpLDAhPT1lLmRhdGFIYXNoLmxlbmd0aCYmci51aW50MzIoNTgpLmJ5dGVzKGUuZGF0YUhhc2gpLDAhPT1lLnZhbGlkYXRvcnNIYXNoLmxlbmd0aCYmci51aW50MzIoNjYpLmJ5dGVzKGUudmFsaWRhdG9yc0hhc2gpLDAhPT1lLm5leHRWYWxpZGF0b3JzSGFzaC5sZW5ndGgmJnIudWludDMyKDc0KS5ieXRlcyhlLm5leHRWYWxpZGF0b3JzSGFzaCksMCE9PWUuY29uc2Vuc3VzSGFzaC5sZW5ndGgmJnIudWludDMyKDgyKS5ieXRlcyhlLmNvbnNlbnN1c0hhc2gpLDAhPT1lLmFwcEhhc2gubGVuZ3RoJiZyLnVpbnQzMig5MCkuYnl0ZXMoZS5hcHBIYXNoKSwwIT09ZS5sYXN0UmVzdWx0c0hhc2gubGVuZ3RoJiZyLnVpbnQzMig5OCkuYnl0ZXMoZS5sYXN0UmVzdWx0c0hhc2gpLDAhPT1lLmV2aWRlbmNlSGFzaC5sZW5ndGgmJnIudWludDMyKDEwNikuYnl0ZXMoZS5ldmlkZW5jZUhhc2gpLDAhPT1lLnByb3Bvc2VyQWRkcmVzcy5sZW5ndGgmJnIudWludDMyKDExNCkuYnl0ZXMoZS5wcm9wb3NlckFkZHJlc3MpLHIpLGRlY29kZShlLHIpe2NvbnN0IGk9ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgbj12b2lkIDA9PT1yP2kubGVuOmkucG9zK3I7Y29uc3Qgcz1wKCk7Zm9yKDtpLnBvczxuOyl7Y29uc3QgZT1pLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOnMudmVyc2lvbj10LmRlY29kZShpLGkudWludDMyKCkpO2JyZWFrO2Nhc2UgMjpzLmNoYWluSWQ9aS5zdHJpbmcoKTticmVhaztjYXNlIDM6cy5oZWlnaHQ9aS5pbnQ2NCgpO2JyZWFrO2Nhc2UgNDpzLnRpbWU9by5kZWNvZGUoaSxpLnVpbnQzMigpKTticmVhaztjYXNlIDU6cy5sYXN0QmxvY2tJZD1CbG9ja0lELmRlY29kZShpLGkudWludDMyKCkpO2JyZWFrO2Nhc2UgNjpzLmxhc3RDb21taXRIYXNoPWkuYnl0ZXMoKTticmVhaztjYXNlIDc6cy5kYXRhSGFzaD1pLmJ5dGVzKCk7YnJlYWs7Y2FzZSA4OnMudmFsaWRhdG9yc0hhc2g9aS5ieXRlcygpO2JyZWFrO2Nhc2UgOTpzLm5leHRWYWxpZGF0b3JzSGFzaD1pLmJ5dGVzKCk7YnJlYWs7Y2FzZSAxMDpzLmNvbnNlbnN1c0hhc2g9aS5ieXRlcygpO2JyZWFrO2Nhc2UgMTE6cy5hcHBIYXNoPWkuYnl0ZXMoKTticmVhaztjYXNlIDEyOnMubGFzdFJlc3VsdHNIYXNoPWkuYnl0ZXMoKTticmVhaztjYXNlIDEzOnMuZXZpZGVuY2VIYXNoPWkuYnl0ZXMoKTticmVhaztjYXNlIDE0OnMucHJvcG9zZXJBZGRyZXNzPWkuYnl0ZXMoKTticmVhaztkZWZhdWx0Omkuc2tpcFR5cGUoNyZlKX19cmV0dXJuIHN9LGZyb21KU09OOmU9Pih7dmVyc2lvbjpuKGUudmVyc2lvbik/dC5mcm9tSlNPTihlLnZlcnNpb24pOnZvaWQgMCxjaGFpbklkOm4oZS5jaGFpbklkKT9TdHJpbmcoZS5jaGFpbklkKTpcIlwiLGhlaWdodDpuKGUuaGVpZ2h0KT9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHRpbWU6bihlLnRpbWUpP3MoZS50aW1lKTp2b2lkIDAsbGFzdEJsb2NrSWQ6bihlLmxhc3RCbG9ja0lkKT9CbG9ja0lELmZyb21KU09OKGUubGFzdEJsb2NrSWQpOnZvaWQgMCxsYXN0Q29tbWl0SGFzaDpuKGUubGFzdENvbW1pdEhhc2gpP2woZS5sYXN0Q29tbWl0SGFzaCk6bmV3IFVpbnQ4QXJyYXksZGF0YUhhc2g6bihlLmRhdGFIYXNoKT9sKGUuZGF0YUhhc2gpOm5ldyBVaW50OEFycmF5LHZhbGlkYXRvcnNIYXNoOm4oZS52YWxpZGF0b3JzSGFzaCk/bChlLnZhbGlkYXRvcnNIYXNoKTpuZXcgVWludDhBcnJheSxuZXh0VmFsaWRhdG9yc0hhc2g6bihlLm5leHRWYWxpZGF0b3JzSGFzaCk/bChlLm5leHRWYWxpZGF0b3JzSGFzaCk6bmV3IFVpbnQ4QXJyYXksY29uc2Vuc3VzSGFzaDpuKGUuY29uc2Vuc3VzSGFzaCk/bChlLmNvbnNlbnN1c0hhc2gpOm5ldyBVaW50OEFycmF5LGFwcEhhc2g6bihlLmFwcEhhc2gpP2woZS5hcHBIYXNoKTpuZXcgVWludDhBcnJheSxsYXN0UmVzdWx0c0hhc2g6bihlLmxhc3RSZXN1bHRzSGFzaCk/bChlLmxhc3RSZXN1bHRzSGFzaCk6bmV3IFVpbnQ4QXJyYXksZXZpZGVuY2VIYXNoOm4oZS5ldmlkZW5jZUhhc2gpP2woZS5ldmlkZW5jZUhhc2gpOm5ldyBVaW50OEFycmF5LHByb3Bvc2VyQWRkcmVzczpuKGUucHJvcG9zZXJBZGRyZXNzKT9sKGUucHJvcG9zZXJBZGRyZXNzKTpuZXcgVWludDhBcnJheX0pLHRvSlNPTihlKXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT1lLnZlcnNpb24mJihvLnZlcnNpb249ZS52ZXJzaW9uP3QudG9KU09OKGUudmVyc2lvbik6dm9pZCAwKSx2b2lkIDAhPT1lLmNoYWluSWQmJihvLmNoYWluSWQ9ZS5jaGFpbklkKSx2b2lkIDAhPT1lLmhlaWdodCYmKG8uaGVpZ2h0PShlLmhlaWdodHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLnRpbWUmJihvLnRpbWU9ZChlLnRpbWUpLnRvSVNPU3RyaW5nKCkpLHZvaWQgMCE9PWUubGFzdEJsb2NrSWQmJihvLmxhc3RCbG9ja0lkPWUubGFzdEJsb2NrSWQ/QmxvY2tJRC50b0pTT04oZS5sYXN0QmxvY2tJZCk6dm9pZCAwKSx2b2lkIDAhPT1lLmxhc3RDb21taXRIYXNoJiYoby5sYXN0Q29tbWl0SGFzaD1jKHZvaWQgMCE9PWUubGFzdENvbW1pdEhhc2g/ZS5sYXN0Q29tbWl0SGFzaDpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUuZGF0YUhhc2gmJihvLmRhdGFIYXNoPWModm9pZCAwIT09ZS5kYXRhSGFzaD9lLmRhdGFIYXNoOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS52YWxpZGF0b3JzSGFzaCYmKG8udmFsaWRhdG9yc0hhc2g9Yyh2b2lkIDAhPT1lLnZhbGlkYXRvcnNIYXNoP2UudmFsaWRhdG9yc0hhc2g6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLm5leHRWYWxpZGF0b3JzSGFzaCYmKG8ubmV4dFZhbGlkYXRvcnNIYXNoPWModm9pZCAwIT09ZS5uZXh0VmFsaWRhdG9yc0hhc2g/ZS5uZXh0VmFsaWRhdG9yc0hhc2g6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLmNvbnNlbnN1c0hhc2gmJihvLmNvbnNlbnN1c0hhc2g9Yyh2b2lkIDAhPT1lLmNvbnNlbnN1c0hhc2g/ZS5jb25zZW5zdXNIYXNoOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS5hcHBIYXNoJiYoby5hcHBIYXNoPWModm9pZCAwIT09ZS5hcHBIYXNoP2UuYXBwSGFzaDpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUubGFzdFJlc3VsdHNIYXNoJiYoby5sYXN0UmVzdWx0c0hhc2g9Yyh2b2lkIDAhPT1lLmxhc3RSZXN1bHRzSGFzaD9lLmxhc3RSZXN1bHRzSGFzaDpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUuZXZpZGVuY2VIYXNoJiYoby5ldmlkZW5jZUhhc2g9Yyh2b2lkIDAhPT1lLmV2aWRlbmNlSGFzaD9lLmV2aWRlbmNlSGFzaDpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PWUucHJvcG9zZXJBZGRyZXNzJiYoby5wcm9wb3NlckFkZHJlc3M9Yyh2b2lkIDAhPT1lLnByb3Bvc2VyQWRkcmVzcz9lLnByb3Bvc2VyQWRkcmVzczpuZXcgVWludDhBcnJheSkpLG99LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHI9cCgpO3JldHVybiByLnZlcnNpb249dm9pZCAwIT09ZS52ZXJzaW9uJiZudWxsIT09ZS52ZXJzaW9uP3QuZnJvbVBhcnRpYWwoZS52ZXJzaW9uKTp2b2lkIDAsci5jaGFpbklkPWUuY2hhaW5JZD8/XCJcIixyLmhlaWdodD12b2lkIDAhPT1lLmhlaWdodCYmbnVsbCE9PWUuaGVpZ2h0P0JpZ0ludChlLmhlaWdodC50b1N0cmluZygpKTpCaWdJbnQoMCksci50aW1lPXZvaWQgMCE9PWUudGltZSYmbnVsbCE9PWUudGltZT9vLmZyb21QYXJ0aWFsKGUudGltZSk6dm9pZCAwLHIubGFzdEJsb2NrSWQ9dm9pZCAwIT09ZS5sYXN0QmxvY2tJZCYmbnVsbCE9PWUubGFzdEJsb2NrSWQ/QmxvY2tJRC5mcm9tUGFydGlhbChlLmxhc3RCbG9ja0lkKTp2b2lkIDAsci5sYXN0Q29tbWl0SGFzaD1lLmxhc3RDb21taXRIYXNoPz9uZXcgVWludDhBcnJheSxyLmRhdGFIYXNoPWUuZGF0YUhhc2g/P25ldyBVaW50OEFycmF5LHIudmFsaWRhdG9yc0hhc2g9ZS52YWxpZGF0b3JzSGFzaD8/bmV3IFVpbnQ4QXJyYXksci5uZXh0VmFsaWRhdG9yc0hhc2g9ZS5uZXh0VmFsaWRhdG9yc0hhc2g/P25ldyBVaW50OEFycmF5LHIuY29uc2Vuc3VzSGFzaD1lLmNvbnNlbnN1c0hhc2g/P25ldyBVaW50OEFycmF5LHIuYXBwSGFzaD1lLmFwcEhhc2g/P25ldyBVaW50OEFycmF5LHIubGFzdFJlc3VsdHNIYXNoPWUubGFzdFJlc3VsdHNIYXNoPz9uZXcgVWludDhBcnJheSxyLmV2aWRlbmNlSGFzaD1lLmV2aWRlbmNlSGFzaD8/bmV3IFVpbnQ4QXJyYXksci5wcm9wb3NlckFkZHJlc3M9ZS5wcm9wb3NlckFkZHJlc3M/P25ldyBVaW50OEFycmF5LHJ9LGZyb21Qcm90b01zZzplPT5IZWFkZXIuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+SGVhZGVyLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkhlYWRlclwiLHZhbHVlOkhlYWRlci5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkhlYWRlcihIZWFkZXIpO2NvbnN0IERhdGE9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5EYXRhXCIsZW5jb2RlKGUsdD1pLmNyZWF0ZSgpKXtmb3IoY29uc3QgbyBvZiBlLnR4cyl0LnVpbnQzMigxMCkuYnl0ZXMobyk7cmV0dXJuIHR9LGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgcj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT17dHhzOltdfTtmb3IoO28ucG9zPHI7KXtjb25zdCBlPW8udWludDMyKCk7aWYoZT4+PjM9PTEpaS50eHMucHVzaChvLmJ5dGVzKCkpO2Vsc2Ugby5za2lwVHlwZSg3JmUpfXJldHVybiBpfSxmcm9tSlNPTjplPT4oe3R4czpBcnJheS5pc0FycmF5KGU/LnR4cyk/ZS50eHMubWFwKChlPT5sKGUpKSk6W119KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gZS50eHM/dC50eHM9ZS50eHMubWFwKChlPT5jKHZvaWQgMCE9PWU/ZTpuZXcgVWludDhBcnJheSkpKTp0LnR4cz1bXSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXt0eHM6W119O3JldHVybiB0LnR4cz1lLnR4cz8ubWFwKChlPT5lKSl8fFtdLHR9LGZyb21Qcm90b01zZzplPT5EYXRhLmRlY29kZShlLnZhbHVlKSx0b1Byb3RvOmU9PkRhdGEuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuRGF0YVwiLHZhbHVlOkRhdGEuZW5jb2RlKGUpLmZpbmlzaCgpfSl9OyRozY9fb25jZS5EYXRhKERhdGEpO2Z1bmN0aW9uIGcoKXtyZXR1cm57dHlwZTowLGhlaWdodDpCaWdJbnQoMCkscm91bmQ6MCxibG9ja0lkOkJsb2NrSUQuZnJvbVBhcnRpYWwoe30pLHRpbWVzdGFtcDpvLmZyb21QYXJ0aWFsKHt9KSx2YWxpZGF0b3JBZGRyZXNzOm5ldyBVaW50OEFycmF5LHZhbGlkYXRvckluZGV4OjAsc2lnbmF0dXJlOm5ldyBVaW50OEFycmF5fX1jb25zdCBWb3RlPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuVm90ZVwiLGVuY29kZTooZSx0PWkuY3JlYXRlKCkpPT4oMCE9PWUudHlwZSYmdC51aW50MzIoOCkuaW50MzIoZS50eXBlKSxlLmhlaWdodCE9PUJpZ0ludCgwKSYmdC51aW50MzIoMTYpLmludDY0KGUuaGVpZ2h0KSwwIT09ZS5yb3VuZCYmdC51aW50MzIoMjQpLmludDMyKGUucm91bmQpLHZvaWQgMCE9PWUuYmxvY2tJZCYmQmxvY2tJRC5lbmNvZGUoZS5ibG9ja0lkLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLHZvaWQgMCE9PWUudGltZXN0YW1wJiZvLmVuY29kZShlLnRpbWVzdGFtcCx0LnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKSwwIT09ZS52YWxpZGF0b3JBZGRyZXNzLmxlbmd0aCYmdC51aW50MzIoNTApLmJ5dGVzKGUudmFsaWRhdG9yQWRkcmVzcyksMCE9PWUudmFsaWRhdG9ySW5kZXgmJnQudWludDMyKDU2KS5pbnQzMihlLnZhbGlkYXRvckluZGV4KSwwIT09ZS5zaWduYXR1cmUubGVuZ3RoJiZ0LnVpbnQzMig2NikuYnl0ZXMoZS5zaWduYXR1cmUpLHQpLGRlY29kZShlLHQpe2NvbnN0IHI9ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgaT12b2lkIDA9PT10P3IubGVuOnIucG9zK3Q7Y29uc3Qgbj1nKCk7Zm9yKDtyLnBvczxpOyl7Y29uc3QgZT1yLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOm4udHlwZT1yLmludDMyKCk7YnJlYWs7Y2FzZSAyOm4uaGVpZ2h0PXIuaW50NjQoKTticmVhaztjYXNlIDM6bi5yb3VuZD1yLmludDMyKCk7YnJlYWs7Y2FzZSA0Om4uYmxvY2tJZD1CbG9ja0lELmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgNTpuLnRpbWVzdGFtcD1vLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgNjpuLnZhbGlkYXRvckFkZHJlc3M9ci5ieXRlcygpO2JyZWFrO2Nhc2UgNzpuLnZhbGlkYXRvckluZGV4PXIuaW50MzIoKTticmVhaztjYXNlIDg6bi5zaWduYXR1cmU9ci5ieXRlcygpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZSg3JmUpfX1yZXR1cm4gbn0sZnJvbUpTT046ZT0+KHt0eXBlOm4oZS50eXBlKT9zaWduZWRNc2dUeXBlRnJvbUpTT04oZS50eXBlKTotMSxoZWlnaHQ6bihlLmhlaWdodCk/QmlnSW50KGUuaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxyb3VuZDpuKGUucm91bmQpP051bWJlcihlLnJvdW5kKTowLGJsb2NrSWQ6bihlLmJsb2NrSWQpP0Jsb2NrSUQuZnJvbUpTT04oZS5ibG9ja0lkKTp2b2lkIDAsdGltZXN0YW1wOm4oZS50aW1lc3RhbXApP3MoZS50aW1lc3RhbXApOnZvaWQgMCx2YWxpZGF0b3JBZGRyZXNzOm4oZS52YWxpZGF0b3JBZGRyZXNzKT9sKGUudmFsaWRhdG9yQWRkcmVzcyk6bmV3IFVpbnQ4QXJyYXksdmFsaWRhdG9ySW5kZXg6bihlLnZhbGlkYXRvckluZGV4KT9OdW1iZXIoZS52YWxpZGF0b3JJbmRleCk6MCxzaWduYXR1cmU6bihlLnNpZ25hdHVyZSk/bChlLnNpZ25hdHVyZSk6bmV3IFVpbnQ4QXJyYXl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS50eXBlJiYodC50eXBlPXNpZ25lZE1zZ1R5cGVUb0pTT04oZS50eXBlKSksdm9pZCAwIT09ZS5oZWlnaHQmJih0LmhlaWdodD0oZS5oZWlnaHR8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09ZS5yb3VuZCYmKHQucm91bmQ9TWF0aC5yb3VuZChlLnJvdW5kKSksdm9pZCAwIT09ZS5ibG9ja0lkJiYodC5ibG9ja0lkPWUuYmxvY2tJZD9CbG9ja0lELnRvSlNPTihlLmJsb2NrSWQpOnZvaWQgMCksdm9pZCAwIT09ZS50aW1lc3RhbXAmJih0LnRpbWVzdGFtcD1kKGUudGltZXN0YW1wKS50b0lTT1N0cmluZygpKSx2b2lkIDAhPT1lLnZhbGlkYXRvckFkZHJlc3MmJih0LnZhbGlkYXRvckFkZHJlc3M9Yyh2b2lkIDAhPT1lLnZhbGlkYXRvckFkZHJlc3M/ZS52YWxpZGF0b3JBZGRyZXNzOm5ldyBVaW50OEFycmF5KSksdm9pZCAwIT09ZS52YWxpZGF0b3JJbmRleCYmKHQudmFsaWRhdG9ySW5kZXg9TWF0aC5yb3VuZChlLnZhbGlkYXRvckluZGV4KSksdm9pZCAwIT09ZS5zaWduYXR1cmUmJih0LnNpZ25hdHVyZT1jKHZvaWQgMCE9PWUuc2lnbmF0dXJlP2Uuc2lnbmF0dXJlOm5ldyBVaW50OEFycmF5KSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1nKCk7cmV0dXJuIHQudHlwZT1lLnR5cGU/PzAsdC5oZWlnaHQ9dm9pZCAwIT09ZS5oZWlnaHQmJm51bGwhPT1lLmhlaWdodD9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHQucm91bmQ9ZS5yb3VuZD8/MCx0LmJsb2NrSWQ9dm9pZCAwIT09ZS5ibG9ja0lkJiZudWxsIT09ZS5ibG9ja0lkP0Jsb2NrSUQuZnJvbVBhcnRpYWwoZS5ibG9ja0lkKTp2b2lkIDAsdC50aW1lc3RhbXA9dm9pZCAwIT09ZS50aW1lc3RhbXAmJm51bGwhPT1lLnRpbWVzdGFtcD9vLmZyb21QYXJ0aWFsKGUudGltZXN0YW1wKTp2b2lkIDAsdC52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcz8/bmV3IFVpbnQ4QXJyYXksdC52YWxpZGF0b3JJbmRleD1lLnZhbGlkYXRvckluZGV4Pz8wLHQuc2lnbmF0dXJlPWUuc2lnbmF0dXJlPz9uZXcgVWludDhBcnJheSx0fSxmcm9tUHJvdG9Nc2c6ZT0+Vm90ZS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Wb3RlLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLlZvdGVcIix2YWx1ZTpWb3RlLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuVm90ZShWb3RlKTtmdW5jdGlvbiB2KCl7cmV0dXJue2hlaWdodDpCaWdJbnQoMCkscm91bmQ6MCxibG9ja0lkOkJsb2NrSUQuZnJvbVBhcnRpYWwoe30pLHNpZ25hdHVyZXM6W119fWNvbnN0IENvbW1pdD17dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkNvbW1pdFwiLGVuY29kZShlLHQ9aS5jcmVhdGUoKSl7ZS5oZWlnaHQhPT1CaWdJbnQoMCkmJnQudWludDMyKDgpLmludDY0KGUuaGVpZ2h0KSwwIT09ZS5yb3VuZCYmdC51aW50MzIoMTYpLmludDMyKGUucm91bmQpLHZvaWQgMCE9PWUuYmxvY2tJZCYmQmxvY2tJRC5lbmNvZGUoZS5ibG9ja0lkLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO2Zvcihjb25zdCBvIG9mIGUuc2lnbmF0dXJlcylDb21taXRTaWcuZW5jb2RlKG8sdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgcj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT12KCk7Zm9yKDtvLnBvczxyOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuaGVpZ2h0PW8uaW50NjQoKTticmVhaztjYXNlIDI6aS5yb3VuZD1vLmludDMyKCk7YnJlYWs7Y2FzZSAzOmkuYmxvY2tJZD1CbG9ja0lELmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2Nhc2UgNDppLnNpZ25hdHVyZXMucHVzaChDb21taXRTaWcuZGVjb2RlKG8sby51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtoZWlnaHQ6bihlLmhlaWdodCk/QmlnSW50KGUuaGVpZ2h0LnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxyb3VuZDpuKGUucm91bmQpP051bWJlcihlLnJvdW5kKTowLGJsb2NrSWQ6bihlLmJsb2NrSWQpP0Jsb2NrSUQuZnJvbUpTT04oZS5ibG9ja0lkKTp2b2lkIDAsc2lnbmF0dXJlczpBcnJheS5pc0FycmF5KGU/LnNpZ25hdHVyZXMpP2Uuc2lnbmF0dXJlcy5tYXAoKGU9PkNvbW1pdFNpZy5mcm9tSlNPTihlKSkpOltdfSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUuaGVpZ2h0JiYodC5oZWlnaHQ9KGUuaGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUucm91bmQmJih0LnJvdW5kPU1hdGgucm91bmQoZS5yb3VuZCkpLHZvaWQgMCE9PWUuYmxvY2tJZCYmKHQuYmxvY2tJZD1lLmJsb2NrSWQ/QmxvY2tJRC50b0pTT04oZS5ibG9ja0lkKTp2b2lkIDApLGUuc2lnbmF0dXJlcz90LnNpZ25hdHVyZXM9ZS5zaWduYXR1cmVzLm1hcCgoZT0+ZT9Db21taXRTaWcudG9KU09OKGUpOnZvaWQgMCkpOnQuc2lnbmF0dXJlcz1bXSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXYoKTtyZXR1cm4gdC5oZWlnaHQ9dm9pZCAwIT09ZS5oZWlnaHQmJm51bGwhPT1lLmhlaWdodD9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHQucm91bmQ9ZS5yb3VuZD8/MCx0LmJsb2NrSWQ9dm9pZCAwIT09ZS5ibG9ja0lkJiZudWxsIT09ZS5ibG9ja0lkP0Jsb2NrSUQuZnJvbVBhcnRpYWwoZS5ibG9ja0lkKTp2b2lkIDAsdC5zaWduYXR1cmVzPWUuc2lnbmF0dXJlcz8ubWFwKChlPT5Db21taXRTaWcuZnJvbVBhcnRpYWwoZSkpKXx8W10sdH0sZnJvbVByb3RvTXNnOmU9PkNvbW1pdC5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5Db21taXQuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuQ29tbWl0XCIsdmFsdWU6Q29tbWl0LmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuQ29tbWl0KENvbW1pdCk7ZnVuY3Rpb24gSSgpe3JldHVybntibG9ja0lkRmxhZzowLHZhbGlkYXRvckFkZHJlc3M6bmV3IFVpbnQ4QXJyYXksdGltZXN0YW1wOm8uZnJvbVBhcnRpYWwoe30pLHNpZ25hdHVyZTpuZXcgVWludDhBcnJheX19Y29uc3QgQ29tbWl0U2lnPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuQ29tbWl0U2lnXCIsZW5jb2RlOihlLHQ9aS5jcmVhdGUoKSk9PigwIT09ZS5ibG9ja0lkRmxhZyYmdC51aW50MzIoOCkuaW50MzIoZS5ibG9ja0lkRmxhZyksMCE9PWUudmFsaWRhdG9yQWRkcmVzcy5sZW5ndGgmJnQudWludDMyKDE4KS5ieXRlcyhlLnZhbGlkYXRvckFkZHJlc3MpLHZvaWQgMCE9PWUudGltZXN0YW1wJiZvLmVuY29kZShlLnRpbWVzdGFtcCx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSwwIT09ZS5zaWduYXR1cmUubGVuZ3RoJiZ0LnVpbnQzMigzNCkuYnl0ZXMoZS5zaWduYXR1cmUpLHQpLGRlY29kZShlLHQpe2NvbnN0IHI9ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgaT12b2lkIDA9PT10P3IubGVuOnIucG9zK3Q7Y29uc3Qgbj1JKCk7Zm9yKDtyLnBvczxpOyl7Y29uc3QgZT1yLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOm4uYmxvY2tJZEZsYWc9ci5pbnQzMigpO2JyZWFrO2Nhc2UgMjpuLnZhbGlkYXRvckFkZHJlc3M9ci5ieXRlcygpO2JyZWFrO2Nhc2UgMzpuLnRpbWVzdGFtcD1vLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgNDpuLnNpZ25hdHVyZT1yLmJ5dGVzKCk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmZSl9fXJldHVybiBufSxmcm9tSlNPTjplPT4oe2Jsb2NrSWRGbGFnOm4oZS5ibG9ja0lkRmxhZyk/YmxvY2tJREZsYWdGcm9tSlNPTihlLmJsb2NrSWRGbGFnKTotMSx2YWxpZGF0b3JBZGRyZXNzOm4oZS52YWxpZGF0b3JBZGRyZXNzKT9sKGUudmFsaWRhdG9yQWRkcmVzcyk6bmV3IFVpbnQ4QXJyYXksdGltZXN0YW1wOm4oZS50aW1lc3RhbXApP3MoZS50aW1lc3RhbXApOnZvaWQgMCxzaWduYXR1cmU6bihlLnNpZ25hdHVyZSk/bChlLnNpZ25hdHVyZSk6bmV3IFVpbnQ4QXJyYXl9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5ibG9ja0lkRmxhZyYmKHQuYmxvY2tJZEZsYWc9YmxvY2tJREZsYWdUb0pTT04oZS5ibG9ja0lkRmxhZykpLHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkcmVzcyYmKHQudmFsaWRhdG9yQWRkcmVzcz1jKHZvaWQgMCE9PWUudmFsaWRhdG9yQWRkcmVzcz9lLnZhbGlkYXRvckFkZHJlc3M6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT1lLnRpbWVzdGFtcCYmKHQudGltZXN0YW1wPWQoZS50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCkpLHZvaWQgMCE9PWUuc2lnbmF0dXJlJiYodC5zaWduYXR1cmU9Yyh2b2lkIDAhPT1lLnNpZ25hdHVyZT9lLnNpZ25hdHVyZTpuZXcgVWludDhBcnJheSkpLHR9LGZyb21QYXJ0aWFsKGUpe2NvbnN0IHQ9SSgpO3JldHVybiB0LmJsb2NrSWRGbGFnPWUuYmxvY2tJZEZsYWc/PzAsdC52YWxpZGF0b3JBZGRyZXNzPWUudmFsaWRhdG9yQWRkcmVzcz8/bmV3IFVpbnQ4QXJyYXksdC50aW1lc3RhbXA9dm9pZCAwIT09ZS50aW1lc3RhbXAmJm51bGwhPT1lLnRpbWVzdGFtcD9vLmZyb21QYXJ0aWFsKGUudGltZXN0YW1wKTp2b2lkIDAsdC5zaWduYXR1cmU9ZS5zaWduYXR1cmU/P25ldyBVaW50OEFycmF5LHR9LGZyb21Qcm90b01zZzplPT5Db21taXRTaWcuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+Q29tbWl0U2lnLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkNvbW1pdFNpZ1wiLHZhbHVlOkNvbW1pdFNpZy5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLkNvbW1pdFNpZyhDb21taXRTaWcpO2Z1bmN0aW9uIGsoKXtyZXR1cm57dHlwZTowLGhlaWdodDpCaWdJbnQoMCkscm91bmQ6MCxwb2xSb3VuZDowLGJsb2NrSWQ6QmxvY2tJRC5mcm9tUGFydGlhbCh7fSksdGltZXN0YW1wOm8uZnJvbVBhcnRpYWwoe30pLHNpZ25hdHVyZTpuZXcgVWludDhBcnJheX19Y29uc3QgUHJvcG9zYWw9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5Qcm9wb3NhbFwiLGVuY29kZTooZSx0PWkuY3JlYXRlKCkpPT4oMCE9PWUudHlwZSYmdC51aW50MzIoOCkuaW50MzIoZS50eXBlKSxlLmhlaWdodCE9PUJpZ0ludCgwKSYmdC51aW50MzIoMTYpLmludDY0KGUuaGVpZ2h0KSwwIT09ZS5yb3VuZCYmdC51aW50MzIoMjQpLmludDMyKGUucm91bmQpLDAhPT1lLnBvbFJvdW5kJiZ0LnVpbnQzMigzMikuaW50MzIoZS5wb2xSb3VuZCksdm9pZCAwIT09ZS5ibG9ja0lkJiZCbG9ja0lELmVuY29kZShlLmJsb2NrSWQsdC51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCksdm9pZCAwIT09ZS50aW1lc3RhbXAmJm8uZW5jb2RlKGUudGltZXN0YW1wLHQudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpLDAhPT1lLnNpZ25hdHVyZS5sZW5ndGgmJnQudWludDMyKDU4KS5ieXRlcyhlLnNpZ25hdHVyZSksdCksZGVjb2RlKGUsdCl7Y29uc3Qgcj1lIGluc3RhbmNlb2YgYT9lOm5ldyBhKGUpO2xldCBpPXZvaWQgMD09PXQ/ci5sZW46ci5wb3MrdDtjb25zdCBuPWsoKTtmb3IoO3IucG9zPGk7KXtjb25zdCBlPXIudWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6bi50eXBlPXIuaW50MzIoKTticmVhaztjYXNlIDI6bi5oZWlnaHQ9ci5pbnQ2NCgpO2JyZWFrO2Nhc2UgMzpuLnJvdW5kPXIuaW50MzIoKTticmVhaztjYXNlIDQ6bi5wb2xSb3VuZD1yLmludDMyKCk7YnJlYWs7Y2FzZSA1Om4uYmxvY2tJZD1CbG9ja0lELmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgNjpuLnRpbWVzdGFtcD1vLmRlY29kZShyLHIudWludDMyKCkpO2JyZWFrO2Nhc2UgNzpuLnNpZ25hdHVyZT1yLmJ5dGVzKCk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmZSl9fXJldHVybiBufSxmcm9tSlNPTjplPT4oe3R5cGU6bihlLnR5cGUpP3NpZ25lZE1zZ1R5cGVGcm9tSlNPTihlLnR5cGUpOi0xLGhlaWdodDpuKGUuaGVpZ2h0KT9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHJvdW5kOm4oZS5yb3VuZCk/TnVtYmVyKGUucm91bmQpOjAscG9sUm91bmQ6bihlLnBvbFJvdW5kKT9OdW1iZXIoZS5wb2xSb3VuZCk6MCxibG9ja0lkOm4oZS5ibG9ja0lkKT9CbG9ja0lELmZyb21KU09OKGUuYmxvY2tJZCk6dm9pZCAwLHRpbWVzdGFtcDpuKGUudGltZXN0YW1wKT9zKGUudGltZXN0YW1wKTp2b2lkIDAsc2lnbmF0dXJlOm4oZS5zaWduYXR1cmUpP2woZS5zaWduYXR1cmUpOm5ldyBVaW50OEFycmF5fSksdG9KU09OKGUpe2NvbnN0IHQ9e307cmV0dXJuIHZvaWQgMCE9PWUudHlwZSYmKHQudHlwZT1zaWduZWRNc2dUeXBlVG9KU09OKGUudHlwZSkpLHZvaWQgMCE9PWUuaGVpZ2h0JiYodC5oZWlnaHQ9KGUuaGVpZ2h0fHxCaWdJbnQoMCkpLnRvU3RyaW5nKCkpLHZvaWQgMCE9PWUucm91bmQmJih0LnJvdW5kPU1hdGgucm91bmQoZS5yb3VuZCkpLHZvaWQgMCE9PWUucG9sUm91bmQmJih0LnBvbFJvdW5kPU1hdGgucm91bmQoZS5wb2xSb3VuZCkpLHZvaWQgMCE9PWUuYmxvY2tJZCYmKHQuYmxvY2tJZD1lLmJsb2NrSWQ/QmxvY2tJRC50b0pTT04oZS5ibG9ja0lkKTp2b2lkIDApLHZvaWQgMCE9PWUudGltZXN0YW1wJiYodC50aW1lc3RhbXA9ZChlLnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSksdm9pZCAwIT09ZS5zaWduYXR1cmUmJih0LnNpZ25hdHVyZT1jKHZvaWQgMCE9PWUuc2lnbmF0dXJlP2Uuc2lnbmF0dXJlOm5ldyBVaW50OEFycmF5KSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD1rKCk7cmV0dXJuIHQudHlwZT1lLnR5cGU/PzAsdC5oZWlnaHQ9dm9pZCAwIT09ZS5oZWlnaHQmJm51bGwhPT1lLmhlaWdodD9CaWdJbnQoZS5oZWlnaHQudG9TdHJpbmcoKSk6QmlnSW50KDApLHQucm91bmQ9ZS5yb3VuZD8/MCx0LnBvbFJvdW5kPWUucG9sUm91bmQ/PzAsdC5ibG9ja0lkPXZvaWQgMCE9PWUuYmxvY2tJZCYmbnVsbCE9PWUuYmxvY2tJZD9CbG9ja0lELmZyb21QYXJ0aWFsKGUuYmxvY2tJZCk6dm9pZCAwLHQudGltZXN0YW1wPXZvaWQgMCE9PWUudGltZXN0YW1wJiZudWxsIT09ZS50aW1lc3RhbXA/by5mcm9tUGFydGlhbChlLnRpbWVzdGFtcCk6dm9pZCAwLHQuc2lnbmF0dXJlPWUuc2lnbmF0dXJlPz9uZXcgVWludDhBcnJheSx0fSxmcm9tUHJvdG9Nc2c6ZT0+UHJvcG9zYWwuZGVjb2RlKGUudmFsdWUpLHRvUHJvdG86ZT0+UHJvcG9zYWwuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuUHJvcG9zYWxcIix2YWx1ZTpQcm9wb3NhbC5lbmNvZGUoZSkuZmluaXNoKCl9KX07JGjNj19vbmNlLlByb3Bvc2FsKFByb3Bvc2FsKTtjb25zdCBTaWduZWRIZWFkZXI9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5TaWduZWRIZWFkZXJcIixlbmNvZGU6KGUsdD1pLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUuaGVhZGVyJiZIZWFkZXIuZW5jb2RlKGUuaGVhZGVyLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLHZvaWQgMCE9PWUuY29tbWl0JiZDb21taXQuZW5jb2RlKGUuY29tbWl0LHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgcj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT17aGVhZGVyOnZvaWQgMCxjb21taXQ6dm9pZCAwfTtmb3IoO28ucG9zPHI7KXtjb25zdCBlPW8udWludDMyKCk7c3dpdGNoKGU+Pj4zKXtjYXNlIDE6aS5oZWFkZXI9SGVhZGVyLmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2Nhc2UgMjppLmNvbW1pdD1Db21taXQuZGVjb2RlKG8sby51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpvLnNraXBUeXBlKDcmZSl9fXJldHVybiBpfSxmcm9tSlNPTjplPT4oe2hlYWRlcjpuKGUuaGVhZGVyKT9IZWFkZXIuZnJvbUpTT04oZS5oZWFkZXIpOnZvaWQgMCxjb21taXQ6bihlLmNvbW1pdCk/Q29tbWl0LmZyb21KU09OKGUuY29tbWl0KTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5oZWFkZXImJih0LmhlYWRlcj1lLmhlYWRlcj9IZWFkZXIudG9KU09OKGUuaGVhZGVyKTp2b2lkIDApLHZvaWQgMCE9PWUuY29tbWl0JiYodC5jb21taXQ9ZS5jb21taXQ/Q29tbWl0LnRvSlNPTihlLmNvbW1pdCk6dm9pZCAwKSx0fSxmcm9tUGFydGlhbChlKXtjb25zdCB0PXtoZWFkZXI6dm9pZCAwLGNvbW1pdDp2b2lkIDB9O3JldHVybiB0LmhlYWRlcj12b2lkIDAhPT1lLmhlYWRlciYmbnVsbCE9PWUuaGVhZGVyP0hlYWRlci5mcm9tUGFydGlhbChlLmhlYWRlcik6dm9pZCAwLHQuY29tbWl0PXZvaWQgMCE9PWUuY29tbWl0JiZudWxsIT09ZS5jb21taXQ/Q29tbWl0LmZyb21QYXJ0aWFsKGUuY29tbWl0KTp2b2lkIDAsdH0sZnJvbVByb3RvTXNnOmU9PlNpZ25lZEhlYWRlci5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5TaWduZWRIZWFkZXIuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuU2lnbmVkSGVhZGVyXCIsdmFsdWU6U2lnbmVkSGVhZGVyLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuU2lnbmVkSGVhZGVyKFNpZ25lZEhlYWRlcik7Y29uc3QgTGlnaHRCbG9jaz17dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkxpZ2h0QmxvY2tcIixlbmNvZGU6KGUsdD1pLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUuc2lnbmVkSGVhZGVyJiZTaWduZWRIZWFkZXIuZW5jb2RlKGUuc2lnbmVkSGVhZGVyLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLHZvaWQgMCE9PWUudmFsaWRhdG9yU2V0JiZyLmVuY29kZShlLnZhbGlkYXRvclNldCx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0KSxkZWNvZGUoZSx0KXtjb25zdCBvPWUgaW5zdGFuY2VvZiBhP2U6bmV3IGEoZSk7bGV0IGk9dm9pZCAwPT09dD9vLmxlbjpvLnBvcyt0O2NvbnN0IG49e3NpZ25lZEhlYWRlcjp2b2lkIDAsdmFsaWRhdG9yU2V0OnZvaWQgMH07Zm9yKDtvLnBvczxpOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOm4uc2lnbmVkSGVhZGVyPVNpZ25lZEhlYWRlci5kZWNvZGUobyxvLnVpbnQzMigpKTticmVhaztjYXNlIDI6bi52YWxpZGF0b3JTZXQ9ci5kZWNvZGUobyxvLnVpbnQzMigpKTticmVhaztkZWZhdWx0Om8uc2tpcFR5cGUoNyZlKX19cmV0dXJuIG59LGZyb21KU09OOmU9Pih7c2lnbmVkSGVhZGVyOm4oZS5zaWduZWRIZWFkZXIpP1NpZ25lZEhlYWRlci5mcm9tSlNPTihlLnNpZ25lZEhlYWRlcik6dm9pZCAwLHZhbGlkYXRvclNldDpuKGUudmFsaWRhdG9yU2V0KT9yLmZyb21KU09OKGUudmFsaWRhdG9yU2V0KTp2b2lkIDB9KSx0b0pTT04oZSl7Y29uc3QgdD17fTtyZXR1cm4gdm9pZCAwIT09ZS5zaWduZWRIZWFkZXImJih0LnNpZ25lZEhlYWRlcj1lLnNpZ25lZEhlYWRlcj9TaWduZWRIZWFkZXIudG9KU09OKGUuc2lnbmVkSGVhZGVyKTp2b2lkIDApLHZvaWQgMCE9PWUudmFsaWRhdG9yU2V0JiYodC52YWxpZGF0b3JTZXQ9ZS52YWxpZGF0b3JTZXQ/ci50b0pTT04oZS52YWxpZGF0b3JTZXQpOnZvaWQgMCksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD17c2lnbmVkSGVhZGVyOnZvaWQgMCx2YWxpZGF0b3JTZXQ6dm9pZCAwfTtyZXR1cm4gdC5zaWduZWRIZWFkZXI9dm9pZCAwIT09ZS5zaWduZWRIZWFkZXImJm51bGwhPT1lLnNpZ25lZEhlYWRlcj9TaWduZWRIZWFkZXIuZnJvbVBhcnRpYWwoZS5zaWduZWRIZWFkZXIpOnZvaWQgMCx0LnZhbGlkYXRvclNldD12b2lkIDAhPT1lLnZhbGlkYXRvclNldCYmbnVsbCE9PWUudmFsaWRhdG9yU2V0P3IuZnJvbVBhcnRpYWwoZS52YWxpZGF0b3JTZXQpOnZvaWQgMCx0fSxmcm9tUHJvdG9Nc2c6ZT0+TGlnaHRCbG9jay5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5MaWdodEJsb2NrLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLkxpZ2h0QmxvY2tcIix2YWx1ZTpMaWdodEJsb2NrLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuTGlnaHRCbG9jayhMaWdodEJsb2NrKTtmdW5jdGlvbiB5KCl7cmV0dXJue2Jsb2NrSWQ6QmxvY2tJRC5mcm9tUGFydGlhbCh7fSksYmxvY2tTaXplOkJpZ0ludCgwKSxoZWFkZXI6SGVhZGVyLmZyb21QYXJ0aWFsKHt9KSxudW1UeHM6QmlnSW50KDApfX1jb25zdCBCbG9ja01ldGE9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5CbG9ja01ldGFcIixlbmNvZGU6KGUsdD1pLmNyZWF0ZSgpKT0+KHZvaWQgMCE9PWUuYmxvY2tJZCYmQmxvY2tJRC5lbmNvZGUoZS5ibG9ja0lkLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpLGUuYmxvY2tTaXplIT09QmlnSW50KDApJiZ0LnVpbnQzMigxNikuaW50NjQoZS5ibG9ja1NpemUpLHZvaWQgMCE9PWUuaGVhZGVyJiZIZWFkZXIuZW5jb2RlKGUuaGVhZGVyLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLGUubnVtVHhzIT09QmlnSW50KDApJiZ0LnVpbnQzMigzMikuaW50NjQoZS5udW1UeHMpLHQpLGRlY29kZShlLHQpe2NvbnN0IG89ZSBpbnN0YW5jZW9mIGE/ZTpuZXcgYShlKTtsZXQgcj12b2lkIDA9PT10P28ubGVuOm8ucG9zK3Q7Y29uc3QgaT15KCk7Zm9yKDtvLnBvczxyOyl7Y29uc3QgZT1vLnVpbnQzMigpO3N3aXRjaChlPj4+Myl7Y2FzZSAxOmkuYmxvY2tJZD1CbG9ja0lELmRlY29kZShvLG8udWludDMyKCkpO2JyZWFrO2Nhc2UgMjppLmJsb2NrU2l6ZT1vLmludDY0KCk7YnJlYWs7Y2FzZSAzOmkuaGVhZGVyPUhlYWRlci5kZWNvZGUobyxvLnVpbnQzMigpKTticmVhaztjYXNlIDQ6aS5udW1UeHM9by5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6by5za2lwVHlwZSg3JmUpfX1yZXR1cm4gaX0sZnJvbUpTT046ZT0+KHtibG9ja0lkOm4oZS5ibG9ja0lkKT9CbG9ja0lELmZyb21KU09OKGUuYmxvY2tJZCk6dm9pZCAwLGJsb2NrU2l6ZTpuKGUuYmxvY2tTaXplKT9CaWdJbnQoZS5ibG9ja1NpemUudG9TdHJpbmcoKSk6QmlnSW50KDApLGhlYWRlcjpuKGUuaGVhZGVyKT9IZWFkZXIuZnJvbUpTT04oZS5oZWFkZXIpOnZvaWQgMCxudW1UeHM6bihlLm51bVR4cyk/QmlnSW50KGUubnVtVHhzLnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihlKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1lLmJsb2NrSWQmJih0LmJsb2NrSWQ9ZS5ibG9ja0lkP0Jsb2NrSUQudG9KU09OKGUuYmxvY2tJZCk6dm9pZCAwKSx2b2lkIDAhPT1lLmJsb2NrU2l6ZSYmKHQuYmxvY2tTaXplPShlLmJsb2NrU2l6ZXx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1lLmhlYWRlciYmKHQuaGVhZGVyPWUuaGVhZGVyP0hlYWRlci50b0pTT04oZS5oZWFkZXIpOnZvaWQgMCksdm9pZCAwIT09ZS5udW1UeHMmJih0Lm51bVR4cz0oZS5udW1UeHN8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdH0sZnJvbVBhcnRpYWwoZSl7Y29uc3QgdD15KCk7cmV0dXJuIHQuYmxvY2tJZD12b2lkIDAhPT1lLmJsb2NrSWQmJm51bGwhPT1lLmJsb2NrSWQ/QmxvY2tJRC5mcm9tUGFydGlhbChlLmJsb2NrSWQpOnZvaWQgMCx0LmJsb2NrU2l6ZT12b2lkIDAhPT1lLmJsb2NrU2l6ZSYmbnVsbCE9PWUuYmxvY2tTaXplP0JpZ0ludChlLmJsb2NrU2l6ZS50b1N0cmluZygpKTpCaWdJbnQoMCksdC5oZWFkZXI9dm9pZCAwIT09ZS5oZWFkZXImJm51bGwhPT1lLmhlYWRlcj9IZWFkZXIuZnJvbVBhcnRpYWwoZS5oZWFkZXIpOnZvaWQgMCx0Lm51bVR4cz12b2lkIDAhPT1lLm51bVR4cyYmbnVsbCE9PWUubnVtVHhzP0JpZ0ludChlLm51bVR4cy50b1N0cmluZygpKTpCaWdJbnQoMCksdH0sZnJvbVByb3RvTXNnOmU9PkJsb2NrTWV0YS5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5CbG9ja01ldGEuZW5jb2RlKGUpLmZpbmlzaCgpLHRvUHJvdG9Nc2c6ZT0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuQmxvY2tNZXRhXCIsdmFsdWU6QmxvY2tNZXRhLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuQmxvY2tNZXRhKEJsb2NrTWV0YSk7ZnVuY3Rpb24gUygpe3JldHVybntyb290SGFzaDpuZXcgVWludDhBcnJheSxkYXRhOm5ldyBVaW50OEFycmF5LHByb29mOnZvaWQgMH19Y29uc3QgVHhQcm9vZj17dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLlR4UHJvb2ZcIixlbmNvZGU6KHQsbz1pLmNyZWF0ZSgpKT0+KDAhPT10LnJvb3RIYXNoLmxlbmd0aCYmby51aW50MzIoMTApLmJ5dGVzKHQucm9vdEhhc2gpLDAhPT10LmRhdGEubGVuZ3RoJiZvLnVpbnQzMigxOCkuYnl0ZXModC5kYXRhKSx2b2lkIDAhPT10LnByb29mJiZlLmVuY29kZSh0LnByb29mLG8udWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLG8pLGRlY29kZSh0LG8pe2NvbnN0IHI9dCBpbnN0YW5jZW9mIGE/dDpuZXcgYSh0KTtsZXQgaT12b2lkIDA9PT1vP3IubGVuOnIucG9zK287Y29uc3Qgbj1TKCk7Zm9yKDtyLnBvczxpOyl7Y29uc3QgdD1yLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOm4ucm9vdEhhc2g9ci5ieXRlcygpO2JyZWFrO2Nhc2UgMjpuLmRhdGE9ci5ieXRlcygpO2JyZWFrO2Nhc2UgMzpuLnByb29mPWUuZGVjb2RlKHIsci51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDpyLnNraXBUeXBlKDcmdCl9fXJldHVybiBufSxmcm9tSlNPTjp0PT4oe3Jvb3RIYXNoOm4odC5yb290SGFzaCk/bCh0LnJvb3RIYXNoKTpuZXcgVWludDhBcnJheSxkYXRhOm4odC5kYXRhKT9sKHQuZGF0YSk6bmV3IFVpbnQ4QXJyYXkscHJvb2Y6bih0LnByb29mKT9lLmZyb21KU09OKHQucHJvb2YpOnZvaWQgMH0pLHRvSlNPTih0KXtjb25zdCBvPXt9O3JldHVybiB2b2lkIDAhPT10LnJvb3RIYXNoJiYoby5yb290SGFzaD1jKHZvaWQgMCE9PXQucm9vdEhhc2g/dC5yb290SGFzaDpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PXQuZGF0YSYmKG8uZGF0YT1jKHZvaWQgMCE9PXQuZGF0YT90LmRhdGE6bmV3IFVpbnQ4QXJyYXkpKSx2b2lkIDAhPT10LnByb29mJiYoby5wcm9vZj10LnByb29mP2UudG9KU09OKHQucHJvb2YpOnZvaWQgMCksb30sZnJvbVBhcnRpYWwodCl7Y29uc3Qgbz1TKCk7cmV0dXJuIG8ucm9vdEhhc2g9dC5yb290SGFzaD8/bmV3IFVpbnQ4QXJyYXksby5kYXRhPXQuZGF0YT8/bmV3IFVpbnQ4QXJyYXksby5wcm9vZj12b2lkIDAhPT10LnByb29mJiZudWxsIT09dC5wcm9vZj9lLmZyb21QYXJ0aWFsKHQucHJvb2YpOnZvaWQgMCxvfSxmcm9tUHJvdG9Nc2c6ZT0+VHhQcm9vZi5kZWNvZGUoZS52YWx1ZSksdG9Qcm90bzplPT5UeFByb29mLmVuY29kZShlKS5maW5pc2goKSx0b1Byb3RvTXNnOmU9Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLlR4UHJvb2ZcIix2YWx1ZTpUeFByb29mLmVuY29kZShlKS5maW5pc2goKX0pfTskaM2PX29uY2UuVHhQcm9vZihUeFByb29mKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7IkJsb2NrSURGbGFnIjpbIkJsb2NrSURGbGFnIix0cnVlXSwiU2lnbmVkTXNnVHlwZSI6WyJTaWduZWRNc2dUeXBlIix0cnVlXX0sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJCbG9ja0lERmxhZ1NES1R5cGUiOlsiQmxvY2tJREZsYWdTREtUeXBlIl0sImJsb2NrSURGbGFnRnJvbUpTT04iOlsiYmxvY2tJREZsYWdGcm9tSlNPTiJdLCJibG9ja0lERmxhZ1RvSlNPTiI6WyJibG9ja0lERmxhZ1RvSlNPTiJdLCJTaWduZWRNc2dUeXBlU0RLVHlwZSI6WyJTaWduZWRNc2dUeXBlU0RLVHlwZSJdLCJzaWduZWRNc2dUeXBlRnJvbUpTT04iOlsic2lnbmVkTXNnVHlwZUZyb21KU09OIl0sInNpZ25lZE1zZ1R5cGVUb0pTT04iOlsic2lnbmVkTXNnVHlwZVRvSlNPTiJdLCJQYXJ0U2V0SGVhZGVyIjpbIlBhcnRTZXRIZWFkZXIiXSwiUGFydCI6WyJQYXJ0Il0sIkJsb2NrSUQiOlsiQmxvY2tJRCJdLCJIZWFkZXIiOlsiSGVhZGVyIl0sIkRhdGEiOlsiRGF0YSJdLCJWb3RlIjpbIlZvdGUiXSwiQ29tbWl0IjpbIkNvbW1pdCJdLCJDb21taXRTaWciOlsiQ29tbWl0U2lnIl0sIlByb3Bvc2FsIjpbIlByb3Bvc2FsIl0sIlNpZ25lZEhlYWRlciI6WyJTaWduZWRIZWFkZXIiXSwiTGlnaHRCbG9jayI6WyJMaWdodEJsb2NrIl0sIkJsb2NrTWV0YSI6WyJCbG9ja01ldGEiXSwiVHhQcm9vZiI6WyJUeFByb29mIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAKGjdhnZGAAA2RgAAEYAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdHlwZXMvdmFsaWRhdG9yLmpzeyJpbXBvcnRzIjpbIi4uL2NyeXB0by9rZXlzLmpzIiwiLi4vLi4vYmluYXJ5LmpzIiwiLi4vLi4vaGVscGVycy5qcyIsIi4uLy4uL2pzb24tc2FmZS5qcyIsIkBlbmRvL2Jhc2U2NCJdLCJleHBvcnRzIjpbIlNpbXBsZVZhbGlkYXRvciIsIlZhbGlkYXRvciIsIlZhbGlkYXRvclNldCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG8sdCxyLGUsaSxuOyRozY9faW1wb3J0cyhbW1wiLi4vY3J5cHRvL2tleXMuanNcIiwgW1tcIlB1YmxpY0tleVwiLFskaM2PX2EgPT4gKG8gPSAkaM2PX2EpXV1dXSxbXCIuLi8uLi9iaW5hcnkuanNcIiwgW1tcIkJpbmFyeVJlYWRlclwiLFskaM2PX2EgPT4gKHQgPSAkaM2PX2EpXV0sW1wiQmluYXJ5V3JpdGVyXCIsWyRozY9fYSA9PiAociA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2hlbHBlcnMuanNcIiwgW1tcImlzU2V0XCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dLFtcIi4uLy4uL2pzb24tc2FmZS5qc1wiLCBbXV0sW1wiQGVuZG8vYmFzZTY0XCIsIFtbXCJkZWNvZGVCYXNlNjRcIixbJGjNj19hID0+IChpID0gJGjNj19hKV1dLFtcImVuY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKG4gPSAkaM2PX2EpXV1dXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGEoKXtyZXR1cm57dmFsaWRhdG9yczpbXSxwcm9wb3Nlcjp2b2lkIDAsdG90YWxWb3RpbmdQb3dlcjpCaWdJbnQoMCl9fSAgICAgICBjb25zdCBWYWxpZGF0b3JTZXQ9e3R5cGVVcmw6XCIvdGVuZGVybWludC50eXBlcy5WYWxpZGF0b3JTZXRcIixlbmNvZGUobyx0PXIuY3JlYXRlKCkpe2Zvcihjb25zdCByIG9mIG8udmFsaWRhdG9ycylWYWxpZGF0b3IuZW5jb2RlKHIsdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHZvaWQgMCE9PW8ucHJvcG9zZXImJlZhbGlkYXRvci5lbmNvZGUoby5wcm9wb3Nlcix0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSxvLnRvdGFsVm90aW5nUG93ZXIhPT1CaWdJbnQoMCkmJnQudWludDMyKDI0KS5pbnQ2NChvLnRvdGFsVm90aW5nUG93ZXIpLHR9LGRlY29kZShvLHIpe2NvbnN0IGU9byBpbnN0YW5jZW9mIHQ/bzpuZXcgdChvKTtsZXQgaT12b2lkIDA9PT1yP2UubGVuOmUucG9zK3I7Y29uc3Qgbj1hKCk7Zm9yKDtlLnBvczxpOyl7Y29uc3Qgbz1lLnVpbnQzMigpO3N3aXRjaChvPj4+Myl7Y2FzZSAxOm4udmFsaWRhdG9ycy5wdXNoKFZhbGlkYXRvci5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOm4ucHJvcG9zZXI9VmFsaWRhdG9yLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpuLnRvdGFsVm90aW5nUG93ZXI9ZS5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gbn0sZnJvbUpTT046bz0+KHt2YWxpZGF0b3JzOkFycmF5LmlzQXJyYXkobz8udmFsaWRhdG9ycyk/by52YWxpZGF0b3JzLm1hcCgobz0+VmFsaWRhdG9yLmZyb21KU09OKG8pKSk6W10scHJvcG9zZXI6ZShvLnByb3Bvc2VyKT9WYWxpZGF0b3IuZnJvbUpTT04oby5wcm9wb3Nlcik6dm9pZCAwLHRvdGFsVm90aW5nUG93ZXI6ZShvLnRvdGFsVm90aW5nUG93ZXIpP0JpZ0ludChvLnRvdGFsVm90aW5nUG93ZXIudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKG8pe2NvbnN0IHQ9e307cmV0dXJuIG8udmFsaWRhdG9ycz90LnZhbGlkYXRvcnM9by52YWxpZGF0b3JzLm1hcCgobz0+bz9WYWxpZGF0b3IudG9KU09OKG8pOnZvaWQgMCkpOnQudmFsaWRhdG9ycz1bXSx2b2lkIDAhPT1vLnByb3Bvc2VyJiYodC5wcm9wb3Nlcj1vLnByb3Bvc2VyP1ZhbGlkYXRvci50b0pTT04oby5wcm9wb3Nlcik6dm9pZCAwKSx2b2lkIDAhPT1vLnRvdGFsVm90aW5nUG93ZXImJih0LnRvdGFsVm90aW5nUG93ZXI9KG8udG90YWxWb3RpbmdQb3dlcnx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PWEoKTtyZXR1cm4gdC52YWxpZGF0b3JzPW8udmFsaWRhdG9ycz8ubWFwKChvPT5WYWxpZGF0b3IuZnJvbVBhcnRpYWwobykpKXx8W10sdC5wcm9wb3Nlcj12b2lkIDAhPT1vLnByb3Bvc2VyJiZudWxsIT09by5wcm9wb3Nlcj9WYWxpZGF0b3IuZnJvbVBhcnRpYWwoby5wcm9wb3Nlcik6dm9pZCAwLHQudG90YWxWb3RpbmdQb3dlcj12b2lkIDAhPT1vLnRvdGFsVm90aW5nUG93ZXImJm51bGwhPT1vLnRvdGFsVm90aW5nUG93ZXI/QmlnSW50KG8udG90YWxWb3RpbmdQb3dlci50b1N0cmluZygpKTpCaWdJbnQoMCksdH0sZnJvbVByb3RvTXNnOm89PlZhbGlkYXRvclNldC5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5WYWxpZGF0b3JTZXQuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuVmFsaWRhdG9yU2V0XCIsdmFsdWU6VmFsaWRhdG9yU2V0LmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuVmFsaWRhdG9yU2V0KFZhbGlkYXRvclNldCk7ZnVuY3Rpb24gZCgpe3JldHVybnthZGRyZXNzOm5ldyBVaW50OEFycmF5LHB1YktleTpvLmZyb21QYXJ0aWFsKHt9KSx2b3RpbmdQb3dlcjpCaWdJbnQoMCkscHJvcG9zZXJQcmlvcml0eTpCaWdJbnQoMCl9fWNvbnN0IFZhbGlkYXRvcj17dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLlZhbGlkYXRvclwiLGVuY29kZToodCxlPXIuY3JlYXRlKCkpPT4oMCE9PXQuYWRkcmVzcy5sZW5ndGgmJmUudWludDMyKDEwKS5ieXRlcyh0LmFkZHJlc3MpLHZvaWQgMCE9PXQucHViS2V5JiZvLmVuY29kZSh0LnB1YktleSxlLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0LnZvdGluZ1Bvd2VyIT09QmlnSW50KDApJiZlLnVpbnQzMigyNCkuaW50NjQodC52b3RpbmdQb3dlciksdC5wcm9wb3NlclByaW9yaXR5IT09QmlnSW50KDApJiZlLnVpbnQzMigzMikuaW50NjQodC5wcm9wb3NlclByaW9yaXR5KSxlKSxkZWNvZGUocixlKXtjb25zdCBpPXIgaW5zdGFuY2VvZiB0P3I6bmV3IHQocik7bGV0IG49dm9pZCAwPT09ZT9pLmxlbjppLnBvcytlO2NvbnN0IGE9ZCgpO2Zvcig7aS5wb3M8bjspe2NvbnN0IHQ9aS51aW50MzIoKTtzd2l0Y2godD4+PjMpe2Nhc2UgMTphLmFkZHJlc3M9aS5ieXRlcygpO2JyZWFrO2Nhc2UgMjphLnB1YktleT1vLmRlY29kZShpLGkudWludDMyKCkpO2JyZWFrO2Nhc2UgMzphLnZvdGluZ1Bvd2VyPWkuaW50NjQoKTticmVhaztjYXNlIDQ6YS5wcm9wb3NlclByaW9yaXR5PWkuaW50NjQoKTticmVhaztkZWZhdWx0Omkuc2tpcFR5cGUoNyZ0KX19cmV0dXJuIGF9LGZyb21KU09OOnQ9Pih7YWRkcmVzczplKHQuYWRkcmVzcyk/aSh0LmFkZHJlc3MpOm5ldyBVaW50OEFycmF5LHB1YktleTplKHQucHViS2V5KT9vLmZyb21KU09OKHQucHViS2V5KTp2b2lkIDAsdm90aW5nUG93ZXI6ZSh0LnZvdGluZ1Bvd2VyKT9CaWdJbnQodC52b3RpbmdQb3dlci50b1N0cmluZygpKTpCaWdJbnQoMCkscHJvcG9zZXJQcmlvcml0eTplKHQucHJvcG9zZXJQcmlvcml0eSk/QmlnSW50KHQucHJvcG9zZXJQcmlvcml0eS50b1N0cmluZygpKTpCaWdJbnQoMCl9KSx0b0pTT04odCl7Y29uc3Qgcj17fTtyZXR1cm4gdm9pZCAwIT09dC5hZGRyZXNzJiYoci5hZGRyZXNzPW4odm9pZCAwIT09dC5hZGRyZXNzP3QuYWRkcmVzczpuZXcgVWludDhBcnJheSkpLHZvaWQgMCE9PXQucHViS2V5JiYoci5wdWJLZXk9dC5wdWJLZXk/by50b0pTT04odC5wdWJLZXkpOnZvaWQgMCksdm9pZCAwIT09dC52b3RpbmdQb3dlciYmKHIudm90aW5nUG93ZXI9KHQudm90aW5nUG93ZXJ8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSksdm9pZCAwIT09dC5wcm9wb3NlclByaW9yaXR5JiYoci5wcm9wb3NlclByaW9yaXR5PSh0LnByb3Bvc2VyUHJpb3JpdHl8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSkscn0sZnJvbVBhcnRpYWwodCl7Y29uc3Qgcj1kKCk7cmV0dXJuIHIuYWRkcmVzcz10LmFkZHJlc3M/P25ldyBVaW50OEFycmF5LHIucHViS2V5PXZvaWQgMCE9PXQucHViS2V5JiZudWxsIT09dC5wdWJLZXk/by5mcm9tUGFydGlhbCh0LnB1YktleSk6dm9pZCAwLHIudm90aW5nUG93ZXI9dm9pZCAwIT09dC52b3RpbmdQb3dlciYmbnVsbCE9PXQudm90aW5nUG93ZXI/QmlnSW50KHQudm90aW5nUG93ZXIudG9TdHJpbmcoKSk6QmlnSW50KDApLHIucHJvcG9zZXJQcmlvcml0eT12b2lkIDAhPT10LnByb3Bvc2VyUHJpb3JpdHkmJm51bGwhPT10LnByb3Bvc2VyUHJpb3JpdHk/QmlnSW50KHQucHJvcG9zZXJQcmlvcml0eS50b1N0cmluZygpKTpCaWdJbnQoMCkscn0sZnJvbVByb3RvTXNnOm89PlZhbGlkYXRvci5kZWNvZGUoby52YWx1ZSksdG9Qcm90bzpvPT5WYWxpZGF0b3IuZW5jb2RlKG8pLmZpbmlzaCgpLHRvUHJvdG9Nc2c6bz0+KHt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuVmFsaWRhdG9yXCIsdmFsdWU6VmFsaWRhdG9yLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuVmFsaWRhdG9yKFZhbGlkYXRvcik7ZnVuY3Rpb24gcygpe3JldHVybntwdWJLZXk6dm9pZCAwLHZvdGluZ1Bvd2VyOkJpZ0ludCgwKX19Y29uc3QgU2ltcGxlVmFsaWRhdG9yPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudHlwZXMuU2ltcGxlVmFsaWRhdG9yXCIsZW5jb2RlOih0LGU9ci5jcmVhdGUoKSk9Pih2b2lkIDAhPT10LnB1YktleSYmby5lbmNvZGUodC5wdWJLZXksZS51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCksdC52b3RpbmdQb3dlciE9PUJpZ0ludCgwKSYmZS51aW50MzIoMTYpLmludDY0KHQudm90aW5nUG93ZXIpLGUpLGRlY29kZShyLGUpe2NvbnN0IGk9ciBpbnN0YW5jZW9mIHQ/cjpuZXcgdChyKTtsZXQgbj12b2lkIDA9PT1lP2kubGVuOmkucG9zK2U7Y29uc3QgYT1zKCk7Zm9yKDtpLnBvczxuOyl7Y29uc3QgdD1pLnVpbnQzMigpO3N3aXRjaCh0Pj4+Myl7Y2FzZSAxOmEucHViS2V5PW8uZGVjb2RlKGksaS51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOmEudm90aW5nUG93ZXI9aS5pbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6aS5za2lwVHlwZSg3JnQpfX1yZXR1cm4gYX0sZnJvbUpTT046dD0+KHtwdWJLZXk6ZSh0LnB1YktleSk/by5mcm9tSlNPTih0LnB1YktleSk6dm9pZCAwLHZvdGluZ1Bvd2VyOmUodC52b3RpbmdQb3dlcik/QmlnSW50KHQudm90aW5nUG93ZXIudG9TdHJpbmcoKSk6QmlnSW50KDApfSksdG9KU09OKHQpe2NvbnN0IHI9e307cmV0dXJuIHZvaWQgMCE9PXQucHViS2V5JiYoci5wdWJLZXk9dC5wdWJLZXk/by50b0pTT04odC5wdWJLZXkpOnZvaWQgMCksdm9pZCAwIT09dC52b3RpbmdQb3dlciYmKHIudm90aW5nUG93ZXI9KHQudm90aW5nUG93ZXJ8fEJpZ0ludCgwKSkudG9TdHJpbmcoKSkscn0sZnJvbVBhcnRpYWwodCl7Y29uc3Qgcj1zKCk7cmV0dXJuIHIucHViS2V5PXZvaWQgMCE9PXQucHViS2V5JiZudWxsIT09dC5wdWJLZXk/by5mcm9tUGFydGlhbCh0LnB1YktleSk6dm9pZCAwLHIudm90aW5nUG93ZXI9dm9pZCAwIT09dC52b3RpbmdQb3dlciYmbnVsbCE9PXQudm90aW5nUG93ZXI/QmlnSW50KHQudm90aW5nUG93ZXIudG9TdHJpbmcoKSk6QmlnSW50KDApLHJ9LGZyb21Qcm90b01zZzpvPT5TaW1wbGVWYWxpZGF0b3IuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+U2ltcGxlVmFsaWRhdG9yLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnR5cGVzLlNpbXBsZVZhbGlkYXRvclwiLHZhbHVlOlNpbXBsZVZhbGlkYXRvci5lbmNvZGUobykuZmluaXNoKCl9KX07JGjNj19vbmNlLlNpbXBsZVZhbGlkYXRvcihTaW1wbGVWYWxpZGF0b3IpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiVmFsaWRhdG9yU2V0IjpbIlZhbGlkYXRvclNldCJdLCJWYWxpZGF0b3IiOlsiVmFsaWRhdG9yIl0sIlNpbXBsZVZhbGlkYXRvciI6WyJTaW1wbGVWYWxpZGF0b3IiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAANp5m8sLAADLCwAARAAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vdGVuZGVybWludC92ZXJzaW9uL3R5cGVzLmpzeyJpbXBvcnRzIjpbIi4uLy4uL2JpbmFyeS5qcyIsIi4uLy4uL2hlbHBlcnMuanMiLCIuLi8uLi9qc29uLXNhZmUuanMiXSwiZXhwb3J0cyI6WyJBcHAiLCJDb25zZW5zdXMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBvLHQsbjskaM2PX2ltcG9ydHMoW1tcIi4uLy4uL2JpbmFyeS5qc1wiLCBbW1wiQmluYXJ5UmVhZGVyXCIsWyRozY9fYSA9PiAobyA9ICRozY9fYSldXSxbXCJCaW5hcnlXcml0ZXJcIixbJGjNj19hID0+ICh0ID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vaGVscGVycy5qc1wiLCBbW1wiaXNTZXRcIixbJGjNj19hID0+IChuID0gJGjNj19hKV1dXV0sW1wiLi4vLi4vanNvbi1zYWZlLmpzXCIsIFtdXV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiByKCl7cmV0dXJue3Byb3RvY29sOkJpZ0ludCgwKSxzb2Z0d2FyZTpcIlwifX0gICAgICAgY29uc3QgQXBwPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudmVyc2lvbi5BcHBcIixlbmNvZGU6KG8sbj10LmNyZWF0ZSgpKT0+KG8ucHJvdG9jb2whPT1CaWdJbnQoMCkmJm4udWludDMyKDgpLnVpbnQ2NChvLnByb3RvY29sKSxcIlwiIT09by5zb2Z0d2FyZSYmbi51aW50MzIoMTgpLnN0cmluZyhvLnNvZnR3YXJlKSxuKSxkZWNvZGUodCxuKXtjb25zdCBlPXQgaW5zdGFuY2VvZiBvP3Q6bmV3IG8odCk7bGV0IGk9dm9pZCAwPT09bj9lLmxlbjplLnBvcytuO2NvbnN0IHM9cigpO2Zvcig7ZS5wb3M8aTspe2NvbnN0IG89ZS51aW50MzIoKTtzd2l0Y2gobz4+PjMpe2Nhc2UgMTpzLnByb3RvY29sPWUudWludDY0KCk7YnJlYWs7Y2FzZSAyOnMuc29mdHdhcmU9ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZvKX19cmV0dXJuIHN9LGZyb21KU09OOm89Pih7cHJvdG9jb2w6bihvLnByb3RvY29sKT9CaWdJbnQoby5wcm90b2NvbC50b1N0cmluZygpKTpCaWdJbnQoMCksc29mdHdhcmU6bihvLnNvZnR3YXJlKT9TdHJpbmcoby5zb2Z0d2FyZSk6XCJcIn0pLHRvSlNPTihvKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1vLnByb3RvY29sJiYodC5wcm90b2NvbD0oby5wcm90b2NvbHx8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1vLnNvZnR3YXJlJiYodC5zb2Z0d2FyZT1vLnNvZnR3YXJlKSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PXIoKTtyZXR1cm4gdC5wcm90b2NvbD12b2lkIDAhPT1vLnByb3RvY29sJiZudWxsIT09by5wcm90b2NvbD9CaWdJbnQoby5wcm90b2NvbC50b1N0cmluZygpKTpCaWdJbnQoMCksdC5zb2Z0d2FyZT1vLnNvZnR3YXJlPz9cIlwiLHR9LGZyb21Qcm90b01zZzpvPT5BcHAuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+QXBwLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnZlcnNpb24uQXBwXCIsdmFsdWU6QXBwLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuQXBwKEFwcCk7ZnVuY3Rpb24gZSgpe3JldHVybntibG9jazpCaWdJbnQoMCksYXBwOkJpZ0ludCgwKX19Y29uc3QgQ29uc2Vuc3VzPXt0eXBlVXJsOlwiL3RlbmRlcm1pbnQudmVyc2lvbi5Db25zZW5zdXNcIixlbmNvZGU6KG8sbj10LmNyZWF0ZSgpKT0+KG8uYmxvY2shPT1CaWdJbnQoMCkmJm4udWludDMyKDgpLnVpbnQ2NChvLmJsb2NrKSxvLmFwcCE9PUJpZ0ludCgwKSYmbi51aW50MzIoMTYpLnVpbnQ2NChvLmFwcCksbiksZGVjb2RlKHQsbil7Y29uc3Qgcj10IGluc3RhbmNlb2Ygbz90Om5ldyBvKHQpO2xldCBpPXZvaWQgMD09PW4/ci5sZW46ci5wb3Mrbjtjb25zdCBzPWUoKTtmb3IoO3IucG9zPGk7KXtjb25zdCBvPXIudWludDMyKCk7c3dpdGNoKG8+Pj4zKXtjYXNlIDE6cy5ibG9jaz1yLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgMjpzLmFwcD1yLnVpbnQ2NCgpO2JyZWFrO2RlZmF1bHQ6ci5za2lwVHlwZSg3Jm8pfX1yZXR1cm4gc30sZnJvbUpTT046bz0+KHtibG9jazpuKG8uYmxvY2spP0JpZ0ludChvLmJsb2NrLnRvU3RyaW5nKCkpOkJpZ0ludCgwKSxhcHA6bihvLmFwcCk/QmlnSW50KG8uYXBwLnRvU3RyaW5nKCkpOkJpZ0ludCgwKX0pLHRvSlNPTihvKXtjb25zdCB0PXt9O3JldHVybiB2b2lkIDAhPT1vLmJsb2NrJiYodC5ibG9jaz0oby5ibG9ja3x8QmlnSW50KDApKS50b1N0cmluZygpKSx2b2lkIDAhPT1vLmFwcCYmKHQuYXBwPShvLmFwcHx8QmlnSW50KDApKS50b1N0cmluZygpKSx0fSxmcm9tUGFydGlhbChvKXtjb25zdCB0PWUoKTtyZXR1cm4gdC5ibG9jaz12b2lkIDAhPT1vLmJsb2NrJiZudWxsIT09by5ibG9jaz9CaWdJbnQoby5ibG9jay50b1N0cmluZygpKTpCaWdJbnQoMCksdC5hcHA9dm9pZCAwIT09by5hcHAmJm51bGwhPT1vLmFwcD9CaWdJbnQoby5hcHAudG9TdHJpbmcoKSk6QmlnSW50KDApLHR9LGZyb21Qcm90b01zZzpvPT5Db25zZW5zdXMuZGVjb2RlKG8udmFsdWUpLHRvUHJvdG86bz0+Q29uc2Vuc3VzLmVuY29kZShvKS5maW5pc2goKSx0b1Byb3RvTXNnOm89Pih7dHlwZVVybDpcIi90ZW5kZXJtaW50LnZlcnNpb24uQ29uc2Vuc3VzXCIsdmFsdWU6Q29uc2Vuc3VzLmVuY29kZShvKS5maW5pc2goKX0pfTskaM2PX29uY2UuQ29uc2Vuc3VzKENvbnNlbnN1cyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJBcHAiOlsiQXBwIl0sIkNvbnNlbnN1cyI6WyJDb25zZW5zdXMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAW561ffgGAAD4BgAAMAAAAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vdXRmOC5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsidXRmOExlbmd0aCIsInV0ZjhSZWFkIiwidXRmOFdyaXRlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh1dGY4TGVuZ3RoLCduYW1lJyx7dmFsdWU6XCJ1dGY4TGVuZ3RoXCJ9KTskaM2PX29uY2UudXRmOExlbmd0aCh1dGY4TGVuZ3RoKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodXRmOFJlYWQsJ25hbWUnLHt2YWx1ZTpcInV0ZjhSZWFkXCJ9KTskaM2PX29uY2UudXRmOFJlYWQodXRmOFJlYWQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh1dGY4V3JpdGUsJ25hbWUnLHt2YWx1ZTpcInV0ZjhXcml0ZVwifSk7JGjNj19vbmNlLnV0ZjhXcml0ZSh1dGY4V3JpdGUpOyAgICAgICBmdW5jdGlvbiB1dGY4TGVuZ3RoKHQpe2xldCByPTAsZT0wO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7KytvKWU9dC5jaGFyQ29kZUF0KG8pLGU8MTI4P3IrPTE6ZTwyMDQ4P3IrPTI6NTUyOTY9PSg2NDUxMiZlKSYmNTYzMjA9PSg2NDUxMiZ0LmNoYXJDb2RlQXQobysxKSk/KCsrbyxyKz00KTpyKz0zO3JldHVybiByfSAgICAgICBmdW5jdGlvbiB1dGY4UmVhZCh0LHIsZSl7aWYoZS1yPDEpcmV0dXJuXCJcIjtjb25zdCBvPVtdO2xldCBuLGY9W10saD0wO2Zvcig7cjxlOyluPXRbcisrXSxuPDEyOD9vW2grK109bjpuPjE5MSYmbjwyMjQ/b1toKytdPSgzMSZuKTw8Nnw2MyZ0W3IrK106bj4yMzkmJm48MzY1PyhuPSgoNyZuKTw8MTh8KDYzJnRbcisrXSk8PDEyfCg2MyZ0W3IrK10pPDw2fDYzJnRbcisrXSktNjU1MzYsb1toKytdPTU1Mjk2KyhuPj4xMCksb1toKytdPTU2MzIwKygxMDIzJm4pKTpvW2grK109KDE1Jm4pPDwxMnwoNjMmdFtyKytdKTw8Nnw2MyZ0W3IrK10saD44MTkxJiYoKGZ8fChmPVtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLm8pKSxoPTApO3JldHVybiBmPyhoJiZmLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSguLi5vLnNsaWNlKDAsaCkpKSxmLmpvaW4oXCJcIikpOlN0cmluZy5mcm9tQ2hhckNvZGUoLi4uby5zbGljZSgwLGgpKX0gICAgICAgZnVuY3Rpb24gdXRmOFdyaXRlKHQscixlKXtjb25zdCBvPWU7bGV0IG4sZjtmb3IobGV0IG89MDtvPHQubGVuZ3RoOysrbyluPXQuY2hhckNvZGVBdChvKSxuPDEyOD9yW2UrK109bjpuPDIwNDg/KHJbZSsrXT1uPj42fDE5MixyW2UrK109NjMmbnwxMjgpOjU1Mjk2PT0oNjQ1MTImbikmJjU2MzIwPT0oNjQ1MTImKGY9dC5jaGFyQ29kZUF0KG8rMSkpKT8obj02NTUzNisoKDEwMjMmbik8PDEwKSsoMTAyMyZmKSwrK28scltlKytdPW4+PjE4fDI0MCxyW2UrK109bj4+MTImNjN8MTI4LHJbZSsrXT1uPj42JjYzfDEyOCxyW2UrK109NjMmbnwxMjgpOihyW2UrK109bj4+MTJ8MjI0LHJbZSsrXT1uPj42JjYzfDEyOCxyW2UrK109NjMmbnwxMjgpO3JldHVybiBlLW99XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJ1dGY4TGVuZ3RoIjpbInV0ZjhMZW5ndGgiXSwidXRmOFJlYWQiOlsidXRmOFJlYWQiXSwidXRmOFdyaXRlIjpbInV0ZjhXcml0ZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADrn8T1/BYAAPwWAAAyAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi92YXJpbnQuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImludDY0RnJvbVN0cmluZyIsImludDY0TGVuZ3RoIiwiaW50NjRUb1N0cmluZyIsInJlYWRJbnQzMiIsInJlYWRVSW50MzIiLCJ1SW50NjRUb1N0cmluZyIsInZhcmludDMycmVhZCIsInZhcmludDMyd3JpdGUiLCJ2YXJpbnQ2NHJlYWQiLCJ2YXJpbnQ2NHdyaXRlIiwid3JpdGVCeXRlIiwid3JpdGVGaXhlZDMyIiwid3JpdGVWYXJpbnQzMiIsIndyaXRlVmFyaW50NjQiLCJ6ekRlY29kZSIsInp6RW5jb2RlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YXJpbnQ2NHJlYWQsJ25hbWUnLHt2YWx1ZTpcInZhcmludDY0cmVhZFwifSk7JGjNj19vbmNlLnZhcmludDY0cmVhZCh2YXJpbnQ2NHJlYWQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YXJpbnQ2NHdyaXRlLCduYW1lJyx7dmFsdWU6XCJ2YXJpbnQ2NHdyaXRlXCJ9KTskaM2PX29uY2UudmFyaW50NjR3cml0ZSh2YXJpbnQ2NHdyaXRlKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaW50NjRGcm9tU3RyaW5nLCduYW1lJyx7dmFsdWU6XCJpbnQ2NEZyb21TdHJpbmdcIn0pOyRozY9fb25jZS5pbnQ2NEZyb21TdHJpbmcoaW50NjRGcm9tU3RyaW5nKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaW50NjRUb1N0cmluZywnbmFtZScse3ZhbHVlOlwiaW50NjRUb1N0cmluZ1wifSk7JGjNj19vbmNlLmludDY0VG9TdHJpbmcoaW50NjRUb1N0cmluZyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHVJbnQ2NFRvU3RyaW5nLCduYW1lJyx7dmFsdWU6XCJ1SW50NjRUb1N0cmluZ1wifSk7JGjNj19vbmNlLnVJbnQ2NFRvU3RyaW5nKHVJbnQ2NFRvU3RyaW5nKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodmFyaW50MzJ3cml0ZSwnbmFtZScse3ZhbHVlOlwidmFyaW50MzJ3cml0ZVwifSk7JGjNj19vbmNlLnZhcmludDMyd3JpdGUodmFyaW50MzJ3cml0ZSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHZhcmludDMycmVhZCwnbmFtZScse3ZhbHVlOlwidmFyaW50MzJyZWFkXCJ9KTskaM2PX29uY2UudmFyaW50MzJyZWFkKHZhcmludDMycmVhZCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHp6RW5jb2RlLCduYW1lJyx7dmFsdWU6XCJ6ekVuY29kZVwifSk7JGjNj19vbmNlLnp6RW5jb2RlKHp6RW5jb2RlKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoenpEZWNvZGUsJ25hbWUnLHt2YWx1ZTpcInp6RGVjb2RlXCJ9KTskaM2PX29uY2UuenpEZWNvZGUoenpEZWNvZGUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWFkVUludDMyLCduYW1lJyx7dmFsdWU6XCJyZWFkVUludDMyXCJ9KTskaM2PX29uY2UucmVhZFVJbnQzMihyZWFkVUludDMyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocmVhZEludDMyLCduYW1lJyx7dmFsdWU6XCJyZWFkSW50MzJcIn0pOyRozY9fb25jZS5yZWFkSW50MzIocmVhZEludDMyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkod3JpdGVWYXJpbnQzMiwnbmFtZScse3ZhbHVlOlwid3JpdGVWYXJpbnQzMlwifSk7JGjNj19vbmNlLndyaXRlVmFyaW50MzIod3JpdGVWYXJpbnQzMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHdyaXRlVmFyaW50NjQsJ25hbWUnLHt2YWx1ZTpcIndyaXRlVmFyaW50NjRcIn0pOyRozY9fb25jZS53cml0ZVZhcmludDY0KHdyaXRlVmFyaW50NjQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnQ2NExlbmd0aCwnbmFtZScse3ZhbHVlOlwiaW50NjRMZW5ndGhcIn0pOyRozY9fb25jZS5pbnQ2NExlbmd0aChpbnQ2NExlbmd0aCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHdyaXRlRml4ZWQzMiwnbmFtZScse3ZhbHVlOlwid3JpdGVGaXhlZDMyXCJ9KTskaM2PX29uY2Uud3JpdGVGaXhlZDMyKHdyaXRlRml4ZWQzMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHdyaXRlQnl0ZSwnbmFtZScse3ZhbHVlOlwid3JpdGVCeXRlXCJ9KTskaM2PX29uY2Uud3JpdGVCeXRlKHdyaXRlQnl0ZSk7ICAgICAgIGZ1bmN0aW9uIHZhcmludDY0cmVhZCgpe2xldCB0PTAscj0wO2ZvcihsZXQgbj0wO248Mjg7bis9Nyl7bGV0IG89dGhpcy5idWZbdGhpcy5wb3MrK107aWYodHw9KDEyNyZvKTw8biwhKDEyOCZvKSlyZXR1cm4gdGhpcy5hc3NlcnRCb3VuZHMoKSxbdCxyXX1sZXQgbj10aGlzLmJ1Zlt0aGlzLnBvcysrXTtpZih0fD0oMTUmbik8PDI4LHI9KDExMiZuKT4+NCwhKDEyOCZuKSlyZXR1cm4gdGhpcy5hc3NlcnRCb3VuZHMoKSxbdCxyXTtmb3IobGV0IG49MztuPD0zMTtuKz03KXtsZXQgbz10aGlzLmJ1Zlt0aGlzLnBvcysrXTtpZihyfD0oMTI3Jm8pPDxuLCEoMTI4Jm8pKXJldHVybiB0aGlzLmFzc2VydEJvdW5kcygpLFt0LHJdfXRocm93IG5ldyBFcnJvcihcImludmFsaWQgdmFyaW50XCIpfSAgICAgICBmdW5jdGlvbiB2YXJpbnQ2NHdyaXRlKHQscixuKXtmb3IobGV0IG89MDtvPDI4O28rPTcpe2NvbnN0IGk9dD4+Pm8sZT0hKGk+Pj43PT0wJiYwPT1yKSxzPTI1NSYoZT8xMjh8aTppKTtpZihuLnB1c2gocyksIWUpcmV0dXJufWNvbnN0IG89dD4+PjI4JjE1fCg3JnIpPDw0LGk9ISEocj4+Myk7aWYobi5wdXNoKDI1NSYoaT8xMjh8bzpvKSksaSl7Zm9yKGxldCB0PTM7dDwzMTt0Kz03KXtjb25zdCBvPXI+Pj50LGk9IShvPj4+Nz09MCksZT0yNTUmKGk/MTI4fG86byk7aWYobi5wdXNoKGUpLCFpKXJldHVybn1uLnB1c2gocj4+PjMxJjEpfX1jb25zdCB0PTQyOTQ5NjcyOTY7ICAgICAgIGZ1bmN0aW9uIGludDY0RnJvbVN0cmluZyhvKXtjb25zdCBpPVwiLVwiPT09b1swXTtpJiYobz1vLnNsaWNlKDEpKTtjb25zdCBlPTFlNjtsZXQgcz0wLHU9MDtmdW5jdGlvbiBmKHIsbil7Y29uc3QgaT1OdW1iZXIoby5zbGljZShyLG4pKTt1Kj1lLHM9cyplK2kscz49dCYmKHUrPXMvdHwwLHMlPXQpfXJldHVybiBmKC0yNCwtMTgpLGYoLTE4LC0xMiksZigtMTIsLTYpLGYoLTYpLGk/bihzLHUpOnIocyx1KX0gICAgICAgZnVuY3Rpb24gaW50NjRUb1N0cmluZyh0LG8pe2xldCBpPXIodCxvKTtjb25zdCBlPTIxNDc0ODM2NDgmaS5oaTtlJiYoaT1uKGkubG8saS5oaSkpO2NvbnN0IHM9dUludDY0VG9TdHJpbmcoaS5sbyxpLmhpKTtyZXR1cm4gZT9cIi1cIitzOnN9ICAgICAgIGZ1bmN0aW9uIHVJbnQ2NFRvU3RyaW5nKHIsbil7aWYoKHtsbzpyLGhpOm59PWZ1bmN0aW9uKHQscil7cmV0dXJue2xvOnQ+Pj4wLGhpOnI+Pj4wfX0ocixuKSksbjw9MjA5NzE1MSlyZXR1cm4gU3RyaW5nKHQqbityKTtjb25zdCBpPTE2Nzc3MjE1JihyPj4+MjR8bjw8OCksZT1uPj4xNiY2NTUzNTtsZXQgcz0oMTY3NzcyMTUmcikrNjc3NzIxNippKzY3MTA2NTYqZSx1PWkrODE0NzQ5NyplLGY9MiplO2NvbnN0IGg9MWU3O3JldHVybiBzPj1oJiYodSs9TWF0aC5mbG9vcihzL2gpLHMlPWgpLHU+PWgmJihmKz1NYXRoLmZsb29yKHUvaCksdSU9aCksZi50b1N0cmluZygpK28odSkrbyhzKX1mdW5jdGlvbiByKHQscil7cmV0dXJue2xvOjB8dCxoaTowfHJ9fWZ1bmN0aW9uIG4odCxuKXtyZXR1cm4gbj1+bix0P3Q9MSt+dDpuKz0xLHIodCxuKX1jb25zdCBvPXQ9Pntjb25zdCByPVN0cmluZyh0KTtyZXR1cm5cIjAwMDAwMDBcIi5zbGljZShyLmxlbmd0aCkrcn07ICAgICAgIGZ1bmN0aW9uIHZhcmludDMyd3JpdGUodCxyKXtpZih0Pj0wKXtmb3IoO3Q+MTI3OylyLnB1c2goMTI3JnR8MTI4KSx0Pj4+PTc7ci5wdXNoKHQpfWVsc2V7Zm9yKGxldCBuPTA7bjw5O24rKylyLnB1c2goMTI3JnR8MTI4KSx0Pj49NztyLnB1c2goMSl9fSAgICAgICBmdW5jdGlvbiB2YXJpbnQzMnJlYWQoKXtsZXQgdD10aGlzLmJ1Zlt0aGlzLnBvcysrXSxyPTEyNyZ0O2lmKCEoMTI4JnQpKXJldHVybiB0aGlzLmFzc2VydEJvdW5kcygpLHI7aWYodD10aGlzLmJ1Zlt0aGlzLnBvcysrXSxyfD0oMTI3JnQpPDw3LCEoMTI4JnQpKXJldHVybiB0aGlzLmFzc2VydEJvdW5kcygpLHI7aWYodD10aGlzLmJ1Zlt0aGlzLnBvcysrXSxyfD0oMTI3JnQpPDwxNCwhKDEyOCZ0KSlyZXR1cm4gdGhpcy5hc3NlcnRCb3VuZHMoKSxyO2lmKHQ9dGhpcy5idWZbdGhpcy5wb3MrK10scnw9KDEyNyZ0KTw8MjEsISgxMjgmdCkpcmV0dXJuIHRoaXMuYXNzZXJ0Qm91bmRzKCkscjt0PXRoaXMuYnVmW3RoaXMucG9zKytdLHJ8PSgxNSZ0KTw8Mjg7Zm9yKGxldCByPTU7MTI4JnQmJnI8MTA7cisrKXQ9dGhpcy5idWZbdGhpcy5wb3MrK107aWYoMTI4JnQpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB2YXJpbnRcIik7cmV0dXJuIHRoaXMuYXNzZXJ0Qm91bmRzKCkscj4+PjB9ICAgICAgIGZ1bmN0aW9uIHp6RW5jb2RlKHQscil7bGV0IG49cj4+MzE7cmV0dXJuIHI9KChyPDwxfHQ+Pj4zMSlebik+Pj4wLFt0PSh0PDwxXm4pPj4+MCxyXX0gICAgICAgZnVuY3Rpb24genpEZWNvZGUodCxyKXtsZXQgbj0tKDEmdCk7cmV0dXJuW3Q9KCh0Pj4+MXxyPDwzMSlebik+Pj4wLHI9KHI+Pj4xXm4pPj4+MF19ICAgICAgIGZ1bmN0aW9uIHJlYWRVSW50MzIodCxyKXtyZXR1cm4odFtyXXx0W3IrMV08PDh8dFtyKzJdPDwxNikrMTY3NzcyMTYqdFtyKzNdfSAgICAgICBmdW5jdGlvbiByZWFkSW50MzIodCxyKXtyZXR1cm4odFtyXXx0W3IrMV08PDh8dFtyKzJdPDwxNikrKHRbciszXTw8MjQpfSAgICAgICBmdW5jdGlvbiB3cml0ZVZhcmludDMyKHQscixuKXtmb3IoO3Q+MTI3OylyW24rK109MTI3JnR8MTI4LHQ+Pj49NztyW25dPXR9ICAgICAgIGZ1bmN0aW9uIHdyaXRlVmFyaW50NjQodCxyLG4pe2Zvcig7dC5oaTspcltuKytdPTEyNyZ0LmxvfDEyOCx0LmxvPSh0LmxvPj4+N3x0LmhpPDwyNSk+Pj4wLHQuaGk+Pj49Nztmb3IoO3QubG8+MTI3OylyW24rK109MTI3JnQubG98MTI4LHQubG89dC5sbz4+Pjc7cltuKytdPXQubG99ICAgICAgIGZ1bmN0aW9uIGludDY0TGVuZ3RoKHQscil7bGV0IG49KHQ+Pj4yOHxyPDw0KT4+PjAsbz1yPj4+MjQ7cmV0dXJuIDA9PT1vPzA9PT1uP3Q8MTYzODQ/dDwxMjg/MToyOnQ8MjA5NzE1Mj8zOjQ6bjwxNjM4ND9uPDEyOD81OjY6bjwyMDk3MTUyPzc6ODpvPDEyOD85OjEwfSAgICAgICBmdW5jdGlvbiB3cml0ZUZpeGVkMzIodCxyLG4pe3Jbbl09MjU1JnQscltuKzFdPXQ+Pj44JjI1NSxyW24rMl09dD4+PjE2JjI1NSxyW24rM109dD4+PjI0fSAgICAgICBmdW5jdGlvbiB3cml0ZUJ5dGUodCxyLG4pe3Jbbl09MjU1JnR9XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJ2YXJpbnQ2NHJlYWQiOlsidmFyaW50NjRyZWFkIl0sInZhcmludDY0d3JpdGUiOlsidmFyaW50NjR3cml0ZSJdLCJpbnQ2NEZyb21TdHJpbmciOlsiaW50NjRGcm9tU3RyaW5nIl0sImludDY0VG9TdHJpbmciOlsiaW50NjRUb1N0cmluZyJdLCJ1SW50NjRUb1N0cmluZyI6WyJ1SW50NjRUb1N0cmluZyJdLCJ2YXJpbnQzMndyaXRlIjpbInZhcmludDMyd3JpdGUiXSwidmFyaW50MzJyZWFkIjpbInZhcmludDMycmVhZCJdLCJ6ekVuY29kZSI6WyJ6ekVuY29kZSJdLCJ6ekRlY29kZSI6WyJ6ekRlY29kZSJdLCJyZWFkVUludDMyIjpbInJlYWRVSW50MzIiXSwicmVhZEludDMyIjpbInJlYWRJbnQzMiJdLCJ3cml0ZVZhcmludDMyIjpbIndyaXRlVmFyaW50MzIiXSwid3JpdGVWYXJpbnQ2NCI6WyJ3cml0ZVZhcmludDY0Il0sImludDY0TGVuZ3RoIjpbImludDY0TGVuZ3RoIl0sIndyaXRlRml4ZWQzMiI6WyJ3cml0ZUZpeGVkMzIiXSwid3JpdGVCeXRlIjpbIndyaXRlQnl0ZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAA2Ue0T/AQAAPwEAAArAAAAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvaGVscGVycy5qc3siaW1wb3J0cyI6WyIuL2NvZGVnZW4vdGVuZGVybWludC9hYmNpL3R5cGVzLmpzIl0sImV4cG9ydHMiOlsidG9SZXF1ZXN0UXVlcnlKc29uIiwidHlwZVVybFRvR3JwY1BhdGgiLCJ0eXBlZEpzb24iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBlOyRozY9faW1wb3J0cyhbW1wiLi9jb2RlZ2VuL3RlbmRlcm1pbnQvYWJjaS90eXBlcy5qc1wiLCBbW1wiUmVxdWVzdFF1ZXJ5XCIsWyRozY9fYSA9PiAoZSA9ICRozY9fYSldXV1dXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVkSnNvbj0oZSx0KT0+KHtcIkB0eXBlXCI6ZSwuLi50fSk7JGjNj19vbmNlLnR5cGVkSnNvbih0eXBlZEpzb24pO2NvbnN0IHQ9L15cXC8oPzxzZXJ2aWNlTmFtZT5cXHcrKD86XFwuXFx3KykqKVxcLlF1ZXJ5KD88bWV0aG9kTmFtZT5cXHcrKVJlcXVlc3QkLztjb25zdCB0eXBlVXJsVG9HcnBjUGF0aD1lPT57Y29uc3Qgcj1lLm1hdGNoKHQpO2lmKCFyfHwhci5ncm91cHMpdGhyb3cgVHlwZUVycm9yKGBJbnZhbGlkIHR5cGVVcmw6ICR7ZX0uIE11c3QgYmUgYSBRdWVyeSBSZXF1ZXN0LmApO2NvbnN0e3NlcnZpY2VOYW1lOm8sbWV0aG9kTmFtZTpzfT1yLmdyb3VwcztyZXR1cm5gLyR7b30uUXVlcnkvJHtzfWB9OyRozY9fb25jZS50eXBlVXJsVG9HcnBjUGF0aCh0eXBlVXJsVG9HcnBjUGF0aCk7Y29uc3QgdG9SZXF1ZXN0UXVlcnlKc29uPSh0LHI9e30pPT5lLnRvSlNPTihlLmZyb21QYXJ0aWFsKHtwYXRoOnR5cGVVcmxUb0dycGNQYXRoKHQudHlwZVVybCksZGF0YTp0LnZhbHVlLC4uLnJ9KSk7JGjNj19vbmNlLnRvUmVxdWVzdFF1ZXJ5SnNvbih0b1JlcXVlc3RRdWVyeUpzb24pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsidHlwZWRKc29uIjpbInR5cGVkSnNvbiJdLCJ0eXBlVXJsVG9HcnBjUGF0aCI6WyJ0eXBlVXJsVG9HcnBjUGF0aCJdLCJ0b1JlcXVlc3RRdWVyeUpzb24iOlsidG9SZXF1ZXN0UXVlcnlKc29uIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAABKPDCfdAQAA3QEAACkAAABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9pbmRleC5qc3siaW1wb3J0cyI6WyIuL2NvZGVnZW4vanNvbi1zYWZlLmpzIiwiLi9oZWxwZXJzLmpzIl0sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOlsiLi9jb2RlZ2VuL2pzb24tc2FmZS5qcyIsIi4vaGVscGVycy5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL2NvZGVnZW4vanNvbi1zYWZlLmpzXCIsIFtdXSxbXCIuL2hlbHBlcnMuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAmQLNtKUfAAClHwAAJgAAAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9hbW91bnRNYXRoLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL21hcnNoYWwiLCJAYWdvcmljL3N0b3JlIiwiLi9tYXRoSGVscGVycy9uYXRNYXRoSGVscGVycy5qcyIsIi4vbWF0aEhlbHBlcnMvc2V0TWF0aEhlbHBlcnMuanMiLCIuL21hdGhIZWxwZXJzL2NvcHlTZXRNYXRoSGVscGVycy5qcyIsIi4vbWF0aEhlbHBlcnMvY29weUJhZ01hdGhIZWxwZXJzLmpzIl0sImV4cG9ydHMiOlsiQW1vdW50TWF0aCIsIkFzc2V0S2luZCIsImFzc2VydEFzc2V0S2luZCIsImFzc2VydFZhbHVlR2V0SGVscGVycyIsImdldEFzc2V0S2luZCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHEsRmFpbCxwYXNzU3R5bGVPZixhc3NlcnRSZW1vdGFibGUsYXNzZXJ0UmVjb3JkLE0sbWF0Y2hlcyxuYXRNYXRoSGVscGVycyxzZXRNYXRoSGVscGVycyxjb3B5U2V0TWF0aEhlbHBlcnMsY29weUJhZ01hdGhIZWxwZXJzOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL21hcnNoYWxcIiwgW1tcInBhc3NTdHlsZU9mXCIsWyRozY9fYSA9PiAocGFzc1N0eWxlT2YgPSAkaM2PX2EpXV0sW1wiYXNzZXJ0UmVtb3RhYmxlXCIsWyRozY9fYSA9PiAoYXNzZXJ0UmVtb3RhYmxlID0gJGjNj19hKV1dLFtcImFzc2VydFJlY29yZFwiLFskaM2PX2EgPT4gKGFzc2VydFJlY29yZCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvc3RvcmVcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dLFtcIm1hdGNoZXNcIixbJGjNj19hID0+IChtYXRjaGVzID0gJGjNj19hKV1dXV0sW1wiLi9tYXRoSGVscGVycy9uYXRNYXRoSGVscGVycy5qc1wiLCBbW1wibmF0TWF0aEhlbHBlcnNcIixbJGjNj19hID0+IChuYXRNYXRoSGVscGVycyA9ICRozY9fYSldXV1dLFtcIi4vbWF0aEhlbHBlcnMvc2V0TWF0aEhlbHBlcnMuanNcIiwgW1tcInNldE1hdGhIZWxwZXJzXCIsWyRozY9fYSA9PiAoc2V0TWF0aEhlbHBlcnMgPSAkaM2PX2EpXV1dXSxbXCIuL21hdGhIZWxwZXJzL2NvcHlTZXRNYXRoSGVscGVycy5qc1wiLCBbW1wiY29weVNldE1hdGhIZWxwZXJzXCIsWyRozY9fYSA9PiAoY29weVNldE1hdGhIZWxwZXJzID0gJGjNj19hKV1dXV0sW1wiLi9tYXRoSGVscGVycy9jb3B5QmFnTWF0aEhlbHBlcnMuanNcIiwgW1tcImNvcHlCYWdNYXRoSGVscGVyc1wiLFskaM2PX2EgPT4gKGNvcHlCYWdNYXRoSGVscGVycyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuLypcblxuXG4gKi9cblxuLy9cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBBc3NldEtpbmQgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICBOQVQ6ICduYXQnLFxuICBTRVQ6ICdzZXQnLFxuICBDT1BZX1NFVDogJ2NvcHlTZXQnLFxuICBDT1BZX0JBRzogJ2NvcHlCYWcnLFxufSk7JGjNj19vbmNlLkFzc2V0S2luZChBc3NldEtpbmQpO1xuaGFyZGVuKEFzc2V0S2luZCk7XG5jb25zdCBhc3NldEtpbmROYW1lcyA9IGhhcmRlbihPYmplY3QudmFsdWVzKEFzc2V0S2luZCkuc29ydCgpKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBhc3NlcnRBc3NldEtpbmQgPSBhbGxlZ2VkQUsgPT4ge1xuICBhc3NldEtpbmROYW1lcy5pbmNsdWRlcyhhbGxlZ2VkQUspIHx8XG4gICAgRmFpbGBUaGUgYXNzZXRLaW5kICR7YWxsZWdlZEFLfSBtdXN0IGJlIG9uZSBvZiAke3EoYXNzZXRLaW5kTmFtZXMpfWA7XG59OyRozY9fb25jZS5hc3NlcnRBc3NldEtpbmQoYXNzZXJ0QXNzZXRLaW5kKTtcbmhhcmRlbihhc3NlcnRBc3NldEtpbmQpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuY29uc3QgaGVscGVycyA9IHtcbiAgbmF0OiBuYXRNYXRoSGVscGVycyxcbiAgc2V0OiBzZXRNYXRoSGVscGVycyxcbiAgY29weVNldDogY29weVNldE1hdGhIZWxwZXJzLFxuICBjb3B5QmFnOiBjb3B5QmFnTWF0aEhlbHBlcnMsXG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgYXNzZXJ0VmFsdWVHZXRBc3NldEtpbmQgPSB2YWx1ZSA9PiB7XG4gIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHZhbHVlKTtcbiAgaWYgKHBhc3NTdHlsZSA9PT0gJ2JpZ2ludCcpIHtcbiAgICByZXR1cm4gJ25hdCc7XG4gIH1cbiAgaWYgKHBhc3NTdHlsZSA9PT0gJ2NvcHlBcnJheScpIHtcbiAgICByZXR1cm4gJ3NldCc7XG4gIH1cbiAgaWYgKG1hdGNoZXModmFsdWUsIE0uc2V0KCkpKSB7XG4gICAgcmV0dXJuICdjb3B5U2V0JztcbiAgfVxuICBpZiAobWF0Y2hlcyh2YWx1ZSwgTS5iYWcoKSkpIHtcbiAgICByZXR1cm4gJ2NvcHlCYWcnO1xuICB9XG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIHRocm93IEZhaWxgdmFsdWUgJHt2YWx1ZX0gbXVzdCBiZSBhIGJpZ2ludCwgY29weVNldCwgY29weUJhZywgb3IgYW4gYXJyYXksIG5vdCAke3EoXG4gICAgcGFzc1N0eWxlLFxuICApfWA7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBhc3NlcnRWYWx1ZUdldEhlbHBlcnMgPSB2YWx1ZSA9PlxuICAvL1xuICBoZWxwZXJzW2Fzc2VydFZhbHVlR2V0QXNzZXRLaW5kKHZhbHVlKV07XG5cbi8qXG5cbiAqLyRozY9fb25jZS5hc3NlcnRWYWx1ZUdldEhlbHBlcnMoYXNzZXJ0VmFsdWVHZXRIZWxwZXJzKTtcbmNvbnN0IG9wdGlvbmFsQnJhbmRDaGVjayA9IChhbGxlZ2VkQnJhbmQsIGJyYW5kKSA9PiB7XG4gIGlmIChicmFuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYXNzZXJ0UmVtb3RhYmxlKGJyYW5kLCAnYnJhbmQnKTtcbiAgICBhbGxlZ2VkQnJhbmQgPT09IGJyYW5kIHx8XG4gICAgICBGYWlsYGFtb3VudCdzIGJyYW5kICR7cShhbGxlZ2VkQnJhbmQpfSBkaWQgbm90IG1hdGNoIGV4cGVjdGVkIGJyYW5kICR7cShcbiAgICAgICAgYnJhbmQsXG4gICAgICApfWA7XG4gIH1cbn07XG5cbi8qXG5cblxuXG5cblxuICovXG5jb25zdCBjaGVja0xSQW5kR2V0SGVscGVycyA9IChsZWZ0QW1vdW50LCByaWdodEFtb3VudCwgYnJhbmQgPSB1bmRlZmluZWQpID0+IHtcbiAgYXNzZXJ0UmVjb3JkKGxlZnRBbW91bnQsICdsZWZ0QW1vdW50Jyk7XG4gIGFzc2VydFJlY29yZChyaWdodEFtb3VudCwgJ3JpZ2h0QW1vdW50Jyk7XG4gIGNvbnN0IHsgdmFsdWU6IGxlZnRWYWx1ZSwgYnJhbmQ6IGxlZnRCcmFuZCB9ID0gbGVmdEFtb3VudDtcbiAgY29uc3QgeyB2YWx1ZTogcmlnaHRWYWx1ZSwgYnJhbmQ6IHJpZ2h0QnJhbmQgfSA9IHJpZ2h0QW1vdW50O1xuICBhc3NlcnRSZW1vdGFibGUobGVmdEJyYW5kLCAnbGVmdEJyYW5kJyk7XG4gIGFzc2VydFJlbW90YWJsZShyaWdodEJyYW5kLCAncmlnaHRCcmFuZCcpO1xuICBvcHRpb25hbEJyYW5kQ2hlY2sobGVmdEJyYW5kLCBicmFuZCk7XG4gIG9wdGlvbmFsQnJhbmRDaGVjayhyaWdodEJyYW5kLCBicmFuZCk7XG4gIGxlZnRCcmFuZCA9PT0gcmlnaHRCcmFuZCB8fFxuICAgIEZhaWxgQnJhbmRzIGluIGxlZnQgJHtxKGxlZnRCcmFuZCl9IGFuZCByaWdodCAke3EoXG4gICAgICByaWdodEJyYW5kLFxuICAgICl9IHNob3VsZCBtYXRjaCBidXQgZG8gbm90YDtcbiAgY29uc3QgbGVmdEhlbHBlcnMgPSBhc3NlcnRWYWx1ZUdldEhlbHBlcnMobGVmdFZhbHVlKTtcbiAgY29uc3QgcmlnaHRIZWxwZXJzID0gYXNzZXJ0VmFsdWVHZXRIZWxwZXJzKHJpZ2h0VmFsdWUpO1xuICBsZWZ0SGVscGVycyA9PT0gcmlnaHRIZWxwZXJzIHx8XG4gICAgRmFpbGBUaGUgbGVmdCAke2xlZnRBbW91bnR9IGFuZCByaWdodCBhbW91bnQgJHtyaWdodEFtb3VudH0gaGFkIGRpZmZlcmVudCBhc3NldEtpbmRzYDtcbiAgcmV0dXJuIGxlZnRIZWxwZXJzO1xufTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGNvZXJjZUxSID0gKGgsIGxlZnRBbW91bnQsIHJpZ2h0QW1vdW50KSA9PiB7XG4gIC8vXG4gIHJldHVybiBbaC5kb0NvZXJjZShsZWZ0QW1vdW50LnZhbHVlKSwgaC5kb0NvZXJjZShyaWdodEFtb3VudC52YWx1ZSldO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGlzR1RFID0gKGxlZnRBbW91bnQsIHJpZ2h0QW1vdW50LCBicmFuZCA9IHVuZGVmaW5lZCkgPT4ge1xuICBjb25zdCBoID0gY2hlY2tMUkFuZEdldEhlbHBlcnMobGVmdEFtb3VudCwgcmlnaHRBbW91bnQsIGJyYW5kKTtcbiAgcmV0dXJuIGguZG9Jc0dURSguLi5jb2VyY2VMUihoLCBsZWZ0QW1vdW50LCByaWdodEFtb3VudCkpO1xufTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IEFtb3VudE1hdGggPSB7XG4gIC8vXG4gIC8vXG4gIC8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIG1ha2U6IChicmFuZCwgYWxsZWdlZFZhbHVlKSA9PiB7XG4gICAgYXNzZXJ0UmVtb3RhYmxlKGJyYW5kLCAnYnJhbmQnKTtcbiAgICBjb25zdCBoID0gYXNzZXJ0VmFsdWVHZXRIZWxwZXJzKGFsbGVnZWRWYWx1ZSk7XG4gICAgY29uc3QgdmFsdWUgPSBoLmRvQ29lcmNlKGFsbGVnZWRWYWx1ZSk7XG4gICAgLy9cbiAgICByZXR1cm4gaGFyZGVuKHsgYnJhbmQsIHZhbHVlIH0pO1xuICB9LFxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb2VyY2U6IChicmFuZCwgYWxsZWdlZEFtb3VudCkgPT4ge1xuICAgIGFzc2VydFJlbW90YWJsZShicmFuZCwgJ2JyYW5kJyk7XG4gICAgYXNzZXJ0UmVjb3JkKGFsbGVnZWRBbW91bnQsICdhbW91bnQnKTtcbiAgICBjb25zdCB7IGJyYW5kOiBhbGxlZ2VkQnJhbmQsIHZhbHVlOiBhbGxlZ2VkVmFsdWUgfSA9IGFsbGVnZWRBbW91bnQ7XG4gICAgYnJhbmQgPT09IGFsbGVnZWRCcmFuZCB8fFxuICAgICAgRmFpbGBUaGUgYnJhbmQgaW4gdGhlIGFsbGVnZWRBbW91bnQgJHthbGxlZ2VkQW1vdW50fSBpbiAnY29lcmNlJyBkaWRuJ3QgbWF0Y2ggdGhlIHNwZWNpZmllZCBicmFuZCAke2JyYW5kfS5gO1xuICAgIC8vXG4gICAgLy9cbiAgICByZXR1cm4gQW1vdW50TWF0aC5tYWtlKGJyYW5kLCBhbGxlZ2VkVmFsdWUpO1xuICB9LFxuICAvKlxuXG5cblxuXG5cblxuICAgKi9cbiAgZ2V0VmFsdWU6IChicmFuZCwgYW1vdW50KSA9PiBBbW91bnRNYXRoLmNvZXJjZShicmFuZCwgYW1vdW50KS52YWx1ZSxcbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgbWFrZUVtcHR5OiAoYnJhbmQsIGFzc2V0S2luZCA9IC8qICAgICAgICAgICAgICAgICovICgnbmF0JykpID0+IHtcbiAgICBhc3NlcnRSZW1vdGFibGUoYnJhbmQsICdicmFuZCcpO1xuICAgIGFzc2VydEFzc2V0S2luZChhc3NldEtpbmQpO1xuICAgIGNvbnN0IHZhbHVlID0gaGVscGVyc1thc3NldEtpbmRdLmRvTWFrZUVtcHR5KCk7XG4gICAgLy9cbiAgICByZXR1cm4gaGFyZGVuKHsgYnJhbmQsIHZhbHVlIH0pO1xuICB9LFxuICAvKlxuXG5cblxuXG5cblxuICAgKi9cbiAgbWFrZUVtcHR5RnJvbUFtb3VudDogYW1vdW50ID0+IHtcbiAgICBhc3NlcnRSZWNvcmQoYW1vdW50LCAnYW1vdW50Jyk7XG4gICAgY29uc3QgeyBicmFuZCwgdmFsdWUgfSA9IGFtb3VudDtcbiAgICBjb25zdCBhc3NldEtpbmQgPSBhc3NlcnRWYWx1ZUdldEFzc2V0S2luZCh2YWx1ZSk7XG4gICAgLy9cbiAgICByZXR1cm4gQW1vdW50TWF0aC5tYWtlRW1wdHkoYnJhbmQsIGFzc2V0S2luZCk7XG4gIH0sXG4gIC8qXG5cblxuXG5cblxuICAgKi9cbiAgaXNFbXB0eTogKGFtb3VudCwgYnJhbmQgPSB1bmRlZmluZWQpID0+IHtcbiAgICBhc3NlcnRSZWNvcmQoYW1vdW50LCAnYW1vdW50Jyk7XG4gICAgY29uc3QgeyBicmFuZDogYWxsZWdlZEJyYW5kLCB2YWx1ZSB9ID0gYW1vdW50O1xuICAgIGFzc2VydFJlbW90YWJsZShhbGxlZ2VkQnJhbmQsICdicmFuZCcpO1xuICAgIG9wdGlvbmFsQnJhbmRDaGVjayhhbGxlZ2VkQnJhbmQsIGJyYW5kKTtcbiAgICBjb25zdCBoID0gYXNzZXJ0VmFsdWVHZXRIZWxwZXJzKHZhbHVlKTtcbiAgICByZXR1cm4gaC5kb0lzRW1wdHkoaC5kb0NvZXJjZSh2YWx1ZSkpO1xuICB9LFxuICBpc0dURSxcbiAgLypcblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBpc0VxdWFsOiAobGVmdEFtb3VudCwgcmlnaHRBbW91bnQsIGJyYW5kID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgY29uc3QgaCA9IGNoZWNrTFJBbmRHZXRIZWxwZXJzKGxlZnRBbW91bnQsIHJpZ2h0QW1vdW50LCBicmFuZCk7XG4gICAgcmV0dXJuIGguZG9Jc0VxdWFsKC4uLmNvZXJjZUxSKGgsIGxlZnRBbW91bnQsIHJpZ2h0QW1vdW50KSk7XG4gIH0sXG4gIC8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgYWRkOiAobGVmdEFtb3VudCwgcmlnaHRBbW91bnQsIGJyYW5kID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgY29uc3QgaCA9IGNoZWNrTFJBbmRHZXRIZWxwZXJzKGxlZnRBbW91bnQsIHJpZ2h0QW1vdW50LCBicmFuZCk7XG4gICAgY29uc3QgdmFsdWUgPSBoLmRvQWRkKC4uLmNvZXJjZUxSKGgsIGxlZnRBbW91bnQsIHJpZ2h0QW1vdW50KSk7XG4gICAgLy9cbiAgICByZXR1cm4gaGFyZGVuKHsgYnJhbmQ6IGxlZnRBbW91bnQuYnJhbmQsIHZhbHVlIH0pO1xuICB9LFxuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgc3VidHJhY3Q6IChsZWZ0QW1vdW50LCByaWdodEFtb3VudCwgYnJhbmQgPSB1bmRlZmluZWQpID0+IHtcbiAgICBjb25zdCBoID0gY2hlY2tMUkFuZEdldEhlbHBlcnMobGVmdEFtb3VudCwgcmlnaHRBbW91bnQsIGJyYW5kKTtcbiAgICBjb25zdCB2YWx1ZSA9IGguZG9TdWJ0cmFjdCguLi5jb2VyY2VMUihoLCBsZWZ0QW1vdW50LCByaWdodEFtb3VudCkpO1xuICAgIC8vXG4gICAgcmV0dXJuIGhhcmRlbih7IGJyYW5kOiBsZWZ0QW1vdW50LmJyYW5kLCB2YWx1ZSB9KTtcbiAgfSxcbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgbWluOiAoeCwgeSwgYnJhbmQgPSB1bmRlZmluZWQpID0+XG4gICAgLy9cbiAgICBpc0dURSh4LCB5LCBicmFuZClcbiAgICAgID8geVxuICAgICAgOiBpc0dURSh5LCB4LCBicmFuZClcbiAgICAgICAgPyB4XG4gICAgICAgIDogRmFpbGAke3h9IGFuZCAke3l9IGFyZSBpbmNvbXBhcmFibGVgLFxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBtYXg6ICh4LCB5LCBicmFuZCA9IHVuZGVmaW5lZCkgPT5cbiAgICAvL1xuICAgIGlzR1RFKHgsIHksIGJyYW5kKVxuICAgICAgPyB4XG4gICAgICA6IGlzR1RFKHksIHgpXG4gICAgICAgID8geVxuICAgICAgICA6IEZhaWxgJHt4fSBhbmQgJHt5fSBhcmUgaW5jb21wYXJhYmxlYCxcbn07JGjNj19vbmNlLkFtb3VudE1hdGgoQW1vdW50TWF0aCk7XG5oYXJkZW4oQW1vdW50TWF0aCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgZ2V0QXNzZXRLaW5kID0gYW1vdW50ID0+IHtcbiAgYXNzZXJ0UmVjb3JkKGFtb3VudCwgJ2Ftb3VudCcpO1xuICBjb25zdCB7IHZhbHVlIH0gPSBhbW91bnQ7XG4gIHJldHVybiBhc3NlcnRWYWx1ZUdldEFzc2V0S2luZCh2YWx1ZSk7XG59OyRozY9fb25jZS5nZXRBc3NldEtpbmQoZ2V0QXNzZXRLaW5kKTtcbmhhcmRlbihnZXRBc3NldEtpbmQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiQXNzZXRLaW5kIjpbIkFzc2V0S2luZCJdLCJhc3NlcnRBc3NldEtpbmQiOlsiYXNzZXJ0QXNzZXRLaW5kIl0sImFzc2VydFZhbHVlR2V0SGVscGVycyI6WyJhc3NlcnRWYWx1ZUdldEhlbHBlcnMiXSwiQW1vdW50TWF0aCI6WyJBbW91bnRNYXRoIl0sImdldEFzc2V0S2luZCI6WyJnZXRBc3NldEtpbmQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAExpaUjEEAAAxBAAAJwAAAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9hbW91bnRTdG9yZS5qc3siaW1wb3J0cyI6WyIuL2Ftb3VudE1hdGguanMiXSwiZXhwb3J0cyI6WyJtYWtlQW1vdW50U3RvcmUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBBbW91bnRNYXRoOyRozY9faW1wb3J0cyhbW1wiLi9hbW91bnRNYXRoLmpzXCIsIFtbXCJBbW91bnRNYXRoXCIsWyRozY9fYSA9PiAoQW1vdW50TWF0aCA9ICRozY9fYSldXV1dXSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUFtb3VudFN0b3JlID0gKHN0YXRlLCBrZXkpID0+IHtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgZ2V0QW1vdW50OiAoKSA9PiBzdGF0ZVtrZXldLFxuICAgIGluY3JlbWVudDogZGVsdGEgPT4ge1xuICAgICAgc3RhdGVba2V5XSA9IEFtb3VudE1hdGguYWRkKHN0YXRlW2tleV0sIGRlbHRhKTtcbiAgICB9LFxuICAgIGRlY3JlbWVudDogZGVsdGEgPT4ge1xuICAgICAgaWYgKEFtb3VudE1hdGguaXNHVEUoc3RhdGVba2V5XSwgZGVsdGEpKSB7XG4gICAgICAgIHN0YXRlW2tleV0gPSBBbW91bnRNYXRoLnN1YnRyYWN0KHN0YXRlW2tleV0sIGRlbHRhKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgfSk7XG59OyRozY9fb25jZS5tYWtlQW1vdW50U3RvcmUobWFrZUFtb3VudFN0b3JlKTtcbmhhcmRlbihtYWtlQW1vdW50U3RvcmUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZUFtb3VudFN0b3JlIjpbIm1ha2VBbW91bnRTdG9yZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAC4O4ykBwYAAAcGAAAnAAAAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL2Rpc3BsYXlJbmZvLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBhZ29yaWMvc3RvcmUiLCIuL3R5cGVHdWFyZHMuanMiXSwiZXhwb3J0cyI6WyJjb2VyY2VEaXNwbGF5SW5mbyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsbXVzdE1hdGNoLERpc3BsYXlJbmZvU2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dXV0sW1wiLi90eXBlR3VhcmRzLmpzXCIsIFtbXCJEaXNwbGF5SW5mb1NoYXBlXCIsWyRozY9fYSA9PiAoRGlzcGxheUluZm9TaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgY29lcmNlRGlzcGxheUluZm8gPSAoYWxsZWdlZERpc3BsYXlJbmZvLCBhc3NldEtpbmQpID0+IHtcbiAgbXVzdE1hdGNoKGFsbGVnZWREaXNwbGF5SW5mbywgRGlzcGxheUluZm9TaGFwZSwgJ2Rpc3BsYXlJbmZvJyk7XG5cbiAgaWYgKGFsbGVnZWREaXNwbGF5SW5mby5hc3NldEtpbmQgIT09IHVuZGVmaW5lZCkge1xuICAgIGFsbGVnZWREaXNwbGF5SW5mby5hc3NldEtpbmQgPT09IGFzc2V0S2luZCB8fFxuICAgICAgRmFpbGBkaXNwbGF5SW5mby5hc3NldEtpbmQgd2FzIHByZXNlbnQgKCR7YWxsZWdlZERpc3BsYXlJbmZvLmFzc2V0S2luZH0pIGFuZCBkaWQgbm90IG1hdGNoIHRoZSBhc3NldEtpbmQgYXJndW1lbnQgKCR7YXNzZXRLaW5kfSlgO1xuICB9XG4gIGNvbnN0IGRpc3BsYXlJbmZvID0gaGFyZGVuKHsgLi4uYWxsZWdlZERpc3BsYXlJbmZvLCBhc3NldEtpbmQgfSk7XG5cbiAgaWYgKGRpc3BsYXlJbmZvLmRlY2ltYWxQbGFjZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIE51bWJlci5pc1NhZmVJbnRlZ2VyKGRpc3BsYXlJbmZvLmRlY2ltYWxQbGFjZXMpIHx8XG4gICAgICBGYWlsYGRlY2ltYWxQbGFjZXMgJHtkaXNwbGF5SW5mby5kZWNpbWFsUGxhY2VzfSBpcyBub3QgYSBzYWZlIGludGVnZXJgO1xuICB9XG5cbiAgcmV0dXJuIGRpc3BsYXlJbmZvO1xufTskaM2PX29uY2UuY29lcmNlRGlzcGxheUluZm8oY29lcmNlRGlzcGxheUluZm8pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiY29lcmNlRGlzcGxheUluZm8iOlsiY29lcmNlRGlzcGxheUluZm8iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA819NA00CAABNAgAAIQAAAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9pbmRleC5qc3siaW1wb3J0cyI6WyIuL2Ftb3VudE1hdGguanMiLCIuL2lzc3VlcktpdC5qcyIsIi4vdHlwZUd1YXJkcy5qcyIsIi4vdHlwZXMtaW5kZXguanMiXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6WyIuL2Ftb3VudE1hdGguanMiLCIuL2lzc3VlcktpdC5qcyIsIi4vdHlwZUd1YXJkcy5qcyIsIi4vdHlwZXMtaW5kZXguanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9hbW91bnRNYXRoLmpzXCIsIFtdXSxbXCIuL2lzc3VlcktpdC5qc1wiLCBbXV0sW1wiLi90eXBlR3VhcmRzLmpzXCIsIFtdXSxbXCIuL3R5cGVzLWluZGV4LmpzXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAJ1k6WEdGAAAHRgAACUAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvaXNzdWVyS2l0LmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBhZ29yaWMvc3RvcmUiLCJAYWdvcmljL3ZhdC1kYXRhIiwiQGFnb3JpYy96b25lL2R1cmFibGUuanMiLCIuL2Ftb3VudE1hdGguanMiLCIuL2Rpc3BsYXlJbmZvLmpzIiwiLi9wYXltZW50TGVkZ2VyLmpzIl0sImV4cG9ydHMiOlsiaGFzSXNzdWVyIiwibWFrZUR1cmFibGVJc3N1ZXJLaXQiLCJtYWtlSXNzdWVyS2l0IiwicHJlcGFyZUlzc3VlcktpdCIsInVwZ3JhZGVJc3N1ZXJLaXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnQsRmFpbCxhc3NlcnRQYXR0ZXJuLG1ha2VTY2FsYXJCaWdNYXBTdG9yZSxtYWtlRHVyYWJsZVpvbmUsQXNzZXRLaW5kLGFzc2VydEFzc2V0S2luZCxjb2VyY2VEaXNwbGF5SW5mbyxwcmVwYXJlUGF5bWVudExlZGdlcjskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiYXNzZXJ0XCIsWyRozY9fYSA9PiAoYXNzZXJ0ID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wiYXNzZXJ0UGF0dGVyblwiLFskaM2PX2EgPT4gKGFzc2VydFBhdHRlcm4gPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3ZhdC1kYXRhXCIsIFtbXCJtYWtlU2NhbGFyQmlnTWFwU3RvcmVcIixbJGjNj19hID0+IChtYWtlU2NhbGFyQmlnTWFwU3RvcmUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3pvbmUvZHVyYWJsZS5qc1wiLCBbW1wibWFrZUR1cmFibGVab25lXCIsWyRozY9fYSA9PiAobWFrZUR1cmFibGVab25lID0gJGjNj19hKV1dXV0sW1wiLi9hbW91bnRNYXRoLmpzXCIsIFtbXCJBc3NldEtpbmRcIixbJGjNj19hID0+IChBc3NldEtpbmQgPSAkaM2PX2EpXV0sW1wiYXNzZXJ0QXNzZXRLaW5kXCIsWyRozY9fYSA9PiAoYXNzZXJ0QXNzZXRLaW5kID0gJGjNj19hKV1dXV0sW1wiLi9kaXNwbGF5SW5mby5qc1wiLCBbW1wiY29lcmNlRGlzcGxheUluZm9cIixbJGjNj19hID0+IChjb2VyY2VEaXNwbGF5SW5mbyA9ICRozY9fYSldXV1dLFtcIi4vcGF5bWVudExlZGdlci5qc1wiLCBbW1wicHJlcGFyZVBheW1lbnRMZWRnZXJcIixbJGjNj19hID0+IChwcmVwYXJlUGF5bWVudExlZGdlciA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBzZXR1cElzc3VlcktpdCA9IChcbiAgeyBuYW1lLCBhc3NldEtpbmQsIGRpc3BsYXlJbmZvLCBlbGVtZW50U2hhcGUgfSxcbiAgaXNzdWVyWm9uZSxcbiAgcmVjb3ZlcnlTZXRzU3RhdGUsXG4gIG9wdFNodXRkb3duV2l0aEZhaWx1cmUgPSB1bmRlZmluZWQsXG4pID0+IHtcbiAgYXNzZXJ0LnR5cGVvZihuYW1lLCAnc3RyaW5nJyk7XG4gIGFzc2VydEFzc2V0S2luZChhc3NldEtpbmQpO1xuXG4gIC8vXG4gIGNvbnN0IGNsZWFuRGlzcGxheUluZm8gPSBjb2VyY2VEaXNwbGF5SW5mbyhkaXNwbGF5SW5mbywgYXNzZXRLaW5kKTtcbiAgaWYgKG9wdFNodXRkb3duV2l0aEZhaWx1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgIGFzc2VydC50eXBlb2Yob3B0U2h1dGRvd25XaXRoRmFpbHVyZSwgJ2Z1bmN0aW9uJyk7XG4gIH1cblxuICBpZiAoZWxlbWVudFNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICBhc3NlcnRQYXR0ZXJuKGVsZW1lbnRTaGFwZSk7XG4gIH1cblxuICAvL1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8vXG4gIGNvbnN0IHsgaXNzdWVyLCBtaW50LCBicmFuZCwgbWludFJlY292ZXJ5UHVyc2UgfSA9IHByZXBhcmVQYXltZW50TGVkZ2VyKFxuICAgIGlzc3VlclpvbmUsXG4gICAgbmFtZSxcbiAgICBhc3NldEtpbmQsXG4gICAgY2xlYW5EaXNwbGF5SW5mbyxcbiAgICBlbGVtZW50U2hhcGUsXG4gICAgcmVjb3ZlcnlTZXRzU3RhdGUsXG4gICAgb3B0U2h1dGRvd25XaXRoRmFpbHVyZSxcbiAgKTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBicmFuZCxcbiAgICBpc3N1ZXIsXG4gICAgbWludCxcbiAgICBtaW50UmVjb3ZlcnlQdXJzZSxcbiAgICBkaXNwbGF5SW5mbzogY2xlYW5EaXNwbGF5SW5mbyxcbiAgfSk7XG59O1xuaGFyZGVuKHNldHVwSXNzdWVyS2l0KTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgSU5TVEFOQ0VfS0VZID0gJ2lzc3Vlcic7XG4vKlxuXG5cblxuICovXG5jb25zdCBSRUNPVkVSWV9TRVRTX1NUQVRFID0gJ3JlY292ZXJ5U2V0c1N0YXRlJztcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHVwZ3JhZGVJc3N1ZXJLaXQgPSAoXG4gIGlzc3VlckJhZ2dhZ2UsXG4gIG9wdFNodXRkb3duV2l0aEZhaWx1cmUgPSB1bmRlZmluZWQsXG4gIHJlY292ZXJ5U2V0c09wdGlvbiA9IHVuZGVmaW5lZCxcbikgPT4ge1xuICBjb25zdCBpc3N1ZXJSZWNvcmQgPSBpc3N1ZXJCYWdnYWdlLmdldChJTlNUQU5DRV9LRVkpO1xuICBjb25zdCBpc3N1ZXJab25lID0gbWFrZUR1cmFibGVab25lKGlzc3VlckJhZ2dhZ2UpO1xuICBjb25zdCBvbGRSZWNvdmVyeVNldHNTdGF0ZSA9IGlzc3VlckJhZ2dhZ2UuaGFzKFJFQ09WRVJZX1NFVFNfU1RBVEUpXG4gICAgPyBpc3N1ZXJCYWdnYWdlLmdldChSRUNPVkVSWV9TRVRTX1NUQVRFKVxuICAgIDogJ2hhc1JlY292ZXJ5U2V0cyc7XG4gIGlmIChcbiAgICBvbGRSZWNvdmVyeVNldHNTdGF0ZSA9PT0gJ25vUmVjb3ZlcnlTZXRzJyAmJlxuICAgIHJlY292ZXJ5U2V0c09wdGlvbiA9PT0gJ2hhc1JlY292ZXJ5U2V0cydcbiAgKSB7XG4gICAgRmFpbGBDYW5ub3QgKHlldD8pIHVwZ3JhZGUgZnJvbSAnbm9SZWNvdmVyeVNldHMnIHRvICdoYXNSZWNvdmVyeVNldHMnYDtcbiAgfVxuICAvL1xuICAvL1xuICAvL1xuICBjb25zdCByZWNvdmVyeVNldHNTdGF0ZSA9IHJlY292ZXJ5U2V0c09wdGlvbiB8fCBvbGRSZWNvdmVyeVNldHNTdGF0ZTtcbiAgcmV0dXJuIHNldHVwSXNzdWVyS2l0KFxuICAgIGlzc3VlclJlY29yZCxcbiAgICBpc3N1ZXJab25lLFxuICAgIHJlY292ZXJ5U2V0c1N0YXRlLFxuICAgIG9wdFNodXRkb3duV2l0aEZhaWx1cmUsXG4gICk7XG59OyRozY9fb25jZS51cGdyYWRlSXNzdWVyS2l0KHVwZ3JhZGVJc3N1ZXJLaXQpO1xuaGFyZGVuKHVwZ3JhZGVJc3N1ZXJLaXQpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgaGFzSXNzdWVyID0gYmFnZ2FnZSA9PiBiYWdnYWdlLmhhcyhJTlNUQU5DRV9LRVkpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuaGFzSXNzdWVyKGhhc0lzc3Vlcik7XG4gICAgICAgY29uc3QgbWFrZUR1cmFibGVJc3N1ZXJLaXQgPSAoXG4gIGlzc3VlckJhZ2dhZ2UsXG4gIG5hbWUsXG4gIC8vXG4gIGFzc2V0S2luZCA9IEFzc2V0S2luZC5OQVQsXG4gIGRpc3BsYXlJbmZvID0gaGFyZGVuKHt9KSxcbiAgb3B0U2h1dGRvd25XaXRoRmFpbHVyZSA9IHVuZGVmaW5lZCxcbiAgeyBlbGVtZW50U2hhcGUgPSB1bmRlZmluZWQsIHJlY292ZXJ5U2V0c09wdGlvbiA9IHVuZGVmaW5lZCB9ID0ge30sXG4pID0+IHtcbiAgY29uc3QgaXNzdWVyRGF0YSA9IGhhcmRlbih7XG4gICAgbmFtZSxcbiAgICBhc3NldEtpbmQsXG4gICAgZGlzcGxheUluZm8sXG4gICAgZWxlbWVudFNoYXBlLFxuICB9KTtcbiAgaXNzdWVyQmFnZ2FnZS5pbml0KElOU1RBTkNFX0tFWSwgaXNzdWVyRGF0YSk7XG4gIGNvbnN0IGlzc3VlclpvbmUgPSBtYWtlRHVyYWJsZVpvbmUoaXNzdWVyQmFnZ2FnZSk7XG4gIGNvbnN0IHJlY292ZXJ5U2V0c1N0YXRlID0gcmVjb3ZlcnlTZXRzT3B0aW9uIHx8ICdoYXNSZWNvdmVyeVNldHMnO1xuICBpc3N1ZXJCYWdnYWdlLmluaXQoUkVDT1ZFUllfU0VUU19TVEFURSwgcmVjb3ZlcnlTZXRzU3RhdGUpO1xuICByZXR1cm4gc2V0dXBJc3N1ZXJLaXQoXG4gICAgaXNzdWVyRGF0YSxcbiAgICBpc3N1ZXJab25lLFxuICAgIHJlY292ZXJ5U2V0c1N0YXRlLFxuICAgIG9wdFNodXRkb3duV2l0aEZhaWx1cmUsXG4gICk7XG59OyRozY9fb25jZS5tYWtlRHVyYWJsZUlzc3VlcktpdChtYWtlRHVyYWJsZUlzc3VlcktpdCk7XG5oYXJkZW4obWFrZUR1cmFibGVJc3N1ZXJLaXQpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlSXNzdWVyS2l0ID0gKFxuICBpc3N1ZXJCYWdnYWdlLFxuICBuYW1lLFxuICAvL1xuICBhc3NldEtpbmQgPSBBc3NldEtpbmQuTkFULFxuICBkaXNwbGF5SW5mbyA9IGhhcmRlbih7fSksXG4gIG9wdFNodXRkb3duV2l0aEZhaWx1cmUgPSB1bmRlZmluZWQsXG4gIC8vXG4gIG9wdGlvbnMgPSB7fSxcbikgPT4ge1xuICBpZiAoaGFzSXNzdWVyKGlzc3VlckJhZ2dhZ2UpKSB7XG4gICAgY29uc3QgeyBlbGVtZW50U2hhcGU6IF8gPSB1bmRlZmluZWQsIHJlY292ZXJ5U2V0c09wdGlvbiA9IHVuZGVmaW5lZCB9ID1cbiAgICAgIG9wdGlvbnM7XG4gICAgY29uc3QgaXNzdWVyS2l0ID0gdXBncmFkZUlzc3VlcktpdChcbiAgICAgIGlzc3VlckJhZ2dhZ2UsXG4gICAgICBvcHRTaHV0ZG93bldpdGhGYWlsdXJlLFxuICAgICAgcmVjb3ZlcnlTZXRzT3B0aW9uLFxuICAgICk7XG5cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG5cbiAgICAvL1xuICAgIHJldHVybiBpc3N1ZXJLaXQ7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaXNzdWVyS2l0ID0gbWFrZUR1cmFibGVJc3N1ZXJLaXQoXG4gICAgICBpc3N1ZXJCYWdnYWdlLFxuICAgICAgbmFtZSxcbiAgICAgIGFzc2V0S2luZCxcbiAgICAgIGRpc3BsYXlJbmZvLFxuICAgICAgb3B0U2h1dGRvd25XaXRoRmFpbHVyZSxcbiAgICAgIG9wdGlvbnMsXG4gICAgKTtcbiAgICAvL1xuICAgIHJldHVybiBpc3N1ZXJLaXQ7XG4gIH1cbn07JGjNj19vbmNlLnByZXBhcmVJc3N1ZXJLaXQocHJlcGFyZUlzc3VlcktpdCk7XG5oYXJkZW4ocHJlcGFyZUlzc3VlcktpdCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUlzc3VlcktpdCA9IChcbiAgbmFtZSxcbiAgLy9cbiAgYXNzZXRLaW5kID0gQXNzZXRLaW5kLk5BVCxcbiAgZGlzcGxheUluZm8gPSBoYXJkZW4oe30pLFxuICBvcHRTaHV0ZG93bldpdGhGYWlsdXJlID0gdW5kZWZpbmVkLFxuICAvL1xuICB7IGVsZW1lbnRTaGFwZSA9IHVuZGVmaW5lZCwgcmVjb3ZlcnlTZXRzT3B0aW9uID0gdW5kZWZpbmVkIH0gPSB7fSxcbikgPT5cbiAgLy9cbiAgbWFrZUR1cmFibGVJc3N1ZXJLaXQoXG4gICAgbWFrZVNjYWxhckJpZ01hcFN0b3JlKCdkcm9wcGVkIGlzc3VlciBraXQnLCB7IGR1cmFibGU6IHRydWUgfSksXG4gICAgbmFtZSxcbiAgICBhc3NldEtpbmQsXG4gICAgZGlzcGxheUluZm8sXG4gICAgb3B0U2h1dGRvd25XaXRoRmFpbHVyZSxcbiAgICB7IGVsZW1lbnRTaGFwZSwgcmVjb3ZlcnlTZXRzT3B0aW9uIH0sXG4gICk7JGjNj19vbmNlLm1ha2VJc3N1ZXJLaXQobWFrZUlzc3VlcktpdCk7XG5oYXJkZW4obWFrZUlzc3VlcktpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJ1cGdyYWRlSXNzdWVyS2l0IjpbInVwZ3JhZGVJc3N1ZXJLaXQiXSwiaGFzSXNzdWVyIjpbImhhc0lzc3VlciJdLCJtYWtlRHVyYWJsZUlzc3VlcktpdCI6WyJtYWtlRHVyYWJsZUlzc3VlcktpdCJdLCJwcmVwYXJlSXNzdWVyS2l0IjpbInByZXBhcmVJc3N1ZXJLaXQiXSwibWFrZUlzc3VlcktpdCI6WyJtYWtlSXNzdWVyS2l0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAADTpUBQSBgAAEgYAADoAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvbWF0aEhlbHBlcnMvY29weUJhZ01hdGhIZWxwZXJzLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvc3RvcmUiXSwiZXhwb3J0cyI6WyJjb3B5QmFnTWF0aEhlbHBlcnMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBrZXlFUSxtYWtlQ29weUJhZyxtdXN0TWF0Y2gsTSxnZXRDb3B5QmFnRW50cmllcyxiYWdJc1N1cGVyYmFnLGJhZ1VuaW9uLGJhZ0Rpc2pvaW50U3VidHJhY3Q7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJrZXlFUVwiLFskaM2PX2EgPT4gKGtleUVRID0gJGjNj19hKV1dLFtcIm1ha2VDb3B5QmFnXCIsWyRozY9fYSA9PiAobWFrZUNvcHlCYWcgPSAkaM2PX2EpXV0sW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dLFtcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dLFtcImdldENvcHlCYWdFbnRyaWVzXCIsWyRozY9fYSA9PiAoZ2V0Q29weUJhZ0VudHJpZXMgPSAkaM2PX2EpXV0sW1wiYmFnSXNTdXBlcmJhZ1wiLFskaM2PX2EgPT4gKGJhZ0lzU3VwZXJiYWcgPSAkaM2PX2EpXV0sW1wiYmFnVW5pb25cIixbJGjNj19hID0+IChiYWdVbmlvbiA9ICRozY9fYSldXSxbXCJiYWdEaXNqb2ludFN1YnRyYWN0XCIsWyRozY9fYSA9PiAoYmFnRGlzam9pbnRTdWJ0cmFjdCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgZW1wdHkgPSBtYWtlQ29weUJhZyhbXSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IGNvcHlCYWdNYXRoSGVscGVycyA9IGhhcmRlbih7XG4gIGRvQ29lcmNlOiBiYWcgPT4ge1xuICAgIG11c3RNYXRjaChiYWcsIE0uYmFnKCksICdiYWcgb2YgYW1vdW50Jyk7XG4gICAgcmV0dXJuIGJhZztcbiAgfSxcbiAgZG9NYWtlRW1wdHk6ICgpID0+IGVtcHR5LFxuICBkb0lzRW1wdHk6IGJhZyA9PiBnZXRDb3B5QmFnRW50cmllcyhiYWcpLmxlbmd0aCA9PT0gMCxcbiAgZG9Jc0dURTogYmFnSXNTdXBlcmJhZyxcbiAgZG9Jc0VxdWFsOiBrZXlFUSxcbiAgZG9BZGQ6IGJhZ1VuaW9uLFxuICBkb1N1YnRyYWN0OiBiYWdEaXNqb2ludFN1YnRyYWN0LFxufSk7JGjNj19vbmNlLmNvcHlCYWdNYXRoSGVscGVycyhjb3B5QmFnTWF0aEhlbHBlcnMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiY29weUJhZ01hdGhIZWxwZXJzIjpbImNvcHlCYWdNYXRoSGVscGVycyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAChmPGE0AUAANAFAAA6AAAAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL21hdGhIZWxwZXJzL2NvcHlTZXRNYXRoSGVscGVycy5qc3siaW1wb3J0cyI6WyJAYWdvcmljL3N0b3JlIl0sImV4cG9ydHMiOlsiY29weVNldE1hdGhIZWxwZXJzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQga2V5RVEsbWFrZUNvcHlTZXQsbXVzdE1hdGNoLE0sZ2V0Q29weVNldEtleXMsc2V0SXNTdXBlcnNldCxzZXREaXNqb2ludFVuaW9uLHNldERpc2pvaW50U3VidHJhY3Q7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJrZXlFUVwiLFskaM2PX2EgPT4gKGtleUVRID0gJGjNj19hKV1dLFtcIm1ha2VDb3B5U2V0XCIsWyRozY9fYSA9PiAobWFrZUNvcHlTZXQgPSAkaM2PX2EpXV0sW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dLFtcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dLFtcImdldENvcHlTZXRLZXlzXCIsWyRozY9fYSA9PiAoZ2V0Q29weVNldEtleXMgPSAkaM2PX2EpXV0sW1wic2V0SXNTdXBlcnNldFwiLFskaM2PX2EgPT4gKHNldElzU3VwZXJzZXQgPSAkaM2PX2EpXV0sW1wic2V0RGlzam9pbnRVbmlvblwiLFskaM2PX2EgPT4gKHNldERpc2pvaW50VW5pb24gPSAkaM2PX2EpXV0sW1wic2V0RGlzam9pbnRTdWJ0cmFjdFwiLFskaM2PX2EgPT4gKHNldERpc2pvaW50U3VidHJhY3QgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG4gKi9cblxuLyogICAgICAgICAgICAgICAgICAqL1xuY29uc3QgZW1wdHkgPSBtYWtlQ29weVNldChbXSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgY29weVNldE1hdGhIZWxwZXJzID0gaGFyZGVuKHtcbiAgZG9Db2VyY2U6IHNldCA9PiB7XG4gICAgbXVzdE1hdGNoKHNldCwgTS5zZXQoKSwgJ3NldCBvZiBhbW91bnQnKTtcbiAgICByZXR1cm4gc2V0O1xuICB9LFxuICBkb01ha2VFbXB0eTogKCkgPT4gZW1wdHksXG4gIGRvSXNFbXB0eTogc2V0ID0+IGdldENvcHlTZXRLZXlzKHNldCkubGVuZ3RoID09PSAwLFxuICBkb0lzR1RFOiBzZXRJc1N1cGVyc2V0LFxuICBkb0lzRXF1YWw6IGtleUVRLFxuICBkb0FkZDogc2V0RGlzam9pbnRVbmlvbixcbiAgZG9TdWJ0cmFjdDogc2V0RGlzam9pbnRTdWJ0cmFjdCxcbn0pOyRozY9fb25jZS5jb3B5U2V0TWF0aEhlbHBlcnMoY29weVNldE1hdGhIZWxwZXJzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImNvcHlTZXRNYXRoSGVscGVycyI6WyJjb3B5U2V0TWF0aEhlbHBlcnMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA82r1OrsEAAC7BAAANgAAAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9tYXRoSGVscGVycy9uYXRNYXRoSGVscGVycy5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9uYXQiXSwiZXhwb3J0cyI6WyJuYXRNYXRoSGVscGVycyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsTmF0LGlzTmF0OyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL25hdFwiLCBbW1wiTmF0XCIsWyRozY9fYSA9PiAoTmF0ID0gJGjNj19hKV1dLFtcImlzTmF0XCIsWyRozY9fYSA9PiAoaXNOYXQgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgZW1wdHkgPSAwbjtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG5hdE1hdGhIZWxwZXJzID0gaGFyZGVuKHtcbiAgZG9Db2VyY2U6IG5hdCA9PiB7XG4gICAgLy9cbiAgICBhc3NlcnQudHlwZW9mKG5hdCwgJ2JpZ2ludCcpO1xuICAgIGlzTmF0KG5hdCkgfHwgRmFpbGB2YWx1ZSAke25hdH0gbXVzdCBiZSBhIG5hdHVyYWwgbnVtYmVyYDtcbiAgICByZXR1cm4gTmF0KG5hdCk7XG4gIH0sXG4gIGRvTWFrZUVtcHR5OiAoKSA9PiBlbXB0eSxcbiAgZG9Jc0VtcHR5OiBuYXQgPT4gbmF0ID09PSBlbXB0eSxcbiAgZG9Jc0dURTogKGxlZnQsIHJpZ2h0KSA9PiBsZWZ0ID49IHJpZ2h0LFxuICBkb0lzRXF1YWw6IChsZWZ0LCByaWdodCkgPT4gbGVmdCA9PT0gcmlnaHQsXG4gIC8vXG4gIGRvQWRkOiAobGVmdCwgcmlnaHQpID0+IGxlZnQgKyByaWdodCxcbiAgZG9TdWJ0cmFjdDogKGxlZnQsIHJpZ2h0KSA9PiBOYXQobGVmdCAtIHJpZ2h0KSxcbn0pOyRozY9fb25jZS5uYXRNYXRoSGVscGVycyhuYXRNYXRoSGVscGVycyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJuYXRNYXRoSGVscGVycyI6WyJuYXRNYXRoSGVscGVycyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACB+ofGmAYAAJgGAAA2AAAAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL21hdGhIZWxwZXJzL3NldE1hdGhIZWxwZXJzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL21hcnNoYWwiLCJAYWdvcmljL3N0b3JlIl0sImV4cG9ydHMiOlsic2V0TWF0aEhlbHBlcnMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBwYXNzU3R5bGVPZixhc3NlcnRLZXksZWxlbWVudHNJc1N1cGVyc2V0LGVsZW1lbnRzRGlzam9pbnRVbmlvbixlbGVtZW50c0Rpc2pvaW50U3VidHJhY3QsY29lcmNlVG9FbGVtZW50cyxlbGVtZW50c0NvbXBhcmU7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wiYXNzZXJ0S2V5XCIsWyRozY9fYSA9PiAoYXNzZXJ0S2V5ID0gJGjNj19hKV1dLFtcImVsZW1lbnRzSXNTdXBlcnNldFwiLFskaM2PX2EgPT4gKGVsZW1lbnRzSXNTdXBlcnNldCA9ICRozY9fYSldXSxbXCJlbGVtZW50c0Rpc2pvaW50VW5pb25cIixbJGjNj19hID0+IChlbGVtZW50c0Rpc2pvaW50VW5pb24gPSAkaM2PX2EpXV0sW1wiZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0XCIsWyRozY9fYSA9PiAoZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0ID0gJGjNj19hKV1dLFtcImNvZXJjZVRvRWxlbWVudHNcIixbJGjNj19hID0+IChjb2VyY2VUb0VsZW1lbnRzID0gJGjNj19hKV1dLFtcImVsZW1lbnRzQ29tcGFyZVwiLFskaM2PX2EgPT4gKGVsZW1lbnRzQ29tcGFyZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8vXG4vL1xuLyogICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGVtcHR5ID0gaGFyZGVuKFtdKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBzZXRNYXRoSGVscGVycyA9IGhhcmRlbih7XG4gIGRvQ29lcmNlOiBsaXN0ID0+IHtcbiAgICBsaXN0ID0gY29lcmNlVG9FbGVtZW50cyhsaXN0KTtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGFzc2VydEtleShsaXN0KTtcbiAgICByZXR1cm4gbGlzdDtcbiAgfSxcbiAgZG9NYWtlRW1wdHk6ICgpID0+IGVtcHR5LFxuICBkb0lzRW1wdHk6IGxpc3QgPT4gcGFzc1N0eWxlT2YobGlzdCkgPT09ICdjb3B5QXJyYXknICYmIGxpc3QubGVuZ3RoID09PSAwLFxuICBkb0lzR1RFOiBlbGVtZW50c0lzU3VwZXJzZXQsXG4gIGRvSXNFcXVhbDogKHgsIHkpID0+IGVsZW1lbnRzQ29tcGFyZSh4LCB5KSA9PT0gMCxcbiAgZG9BZGQ6IGVsZW1lbnRzRGlzam9pbnRVbmlvbixcbiAgZG9TdWJ0cmFjdDogZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0LFxufSk7JGjNj19vbmNlLnNldE1hdGhIZWxwZXJzKHNldE1hdGhIZWxwZXJzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InNldE1hdGhIZWxwZXJzIjpbInNldE1hdGhIZWxwZXJzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAJ57M0HJAwAAyQMAACMAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvcGF5bWVudC5qc3siaW1wb3J0cyI6WyJAYWdvcmljL3N0b3JlIl0sImV4cG9ydHMiOlsicHJlcGFyZVBheW1lbnRLaW5kIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgaW5pdEVtcHR5OyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wiaW5pdEVtcHR5XCIsWyRozY9fYSA9PiAoaW5pdEVtcHR5ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vL1xuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVQYXltZW50S2luZCA9IChpc3N1ZXJab25lLCBuYW1lLCBicmFuZCwgUGF5bWVudEkpID0+IHtcbiAgY29uc3QgbWFrZVBheW1lbnQgPSBpc3N1ZXJab25lLmV4b0NsYXNzKFxuICAgIGAke25hbWV9IHBheW1lbnRgLFxuICAgIFBheW1lbnRJLFxuICAgIGluaXRFbXB0eSxcbiAgICB7XG4gICAgICBnZXRBbGxlZ2VkQnJhbmQoKSB7XG4gICAgICAgIHJldHVybiBicmFuZDtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcbiAgLy9cbiAgcmV0dXJuIG1ha2VQYXltZW50O1xufTskaM2PX29uY2UucHJlcGFyZVBheW1lbnRLaW5kKHByZXBhcmVQYXltZW50S2luZCk7XG5oYXJkZW4ocHJlcGFyZVBheW1lbnRLaW5kKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVQYXltZW50S2luZCI6WyJwcmVwYXJlUGF5bWVudEtpbmQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAslt9GjAlAAAwJQAAKQAAAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9wYXltZW50TGVkZ2VyLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL3Byb21pc2Uta2l0IiwiQGVuZG8vcGF0dGVybnMiLCIuL2Ftb3VudE1hdGguanMiLCIuL3BheW1lbnQuanMiLCIuL3B1cnNlLmpzIiwiLi90eXBlR3VhcmRzLmpzIl0sImV4cG9ydHMiOlsicHJlcGFyZVBheW1lbnRMZWRnZXIiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBxLEZhaWwsYW5ub3RhdGVFcnJvcixYLGlzUHJvbWlzZSxtdXN0TWF0Y2gsTSxrZXlFUSxBbW91bnRNYXRoLHByZXBhcmVQYXltZW50S2luZCxwcmVwYXJlUHVyc2VLaW5kLEJyYW5kSSxtYWtlSXNzdWVySW50ZXJmYWNlczskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wiYW5ub3RhdGVFcnJvclwiLFskaM2PX2EgPT4gKGFubm90YXRlRXJyb3IgPSAkaM2PX2EpXV0sW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wcm9taXNlLWtpdFwiLCBbW1wiaXNQcm9taXNlXCIsWyRozY9fYSA9PiAoaXNQcm9taXNlID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIm11c3RNYXRjaFwiLFskaM2PX2EgPT4gKG11c3RNYXRjaCA9ICRozY9fYSldXSxbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXSxbXCJrZXlFUVwiLFskaM2PX2EgPT4gKGtleUVRID0gJGjNj19hKV1dXV0sW1wiLi9hbW91bnRNYXRoLmpzXCIsIFtbXCJBbW91bnRNYXRoXCIsWyRozY9fYSA9PiAoQW1vdW50TWF0aCA9ICRozY9fYSldXV1dLFtcIi4vcGF5bWVudC5qc1wiLCBbW1wicHJlcGFyZVBheW1lbnRLaW5kXCIsWyRozY9fYSA9PiAocHJlcGFyZVBheW1lbnRLaW5kID0gJGjNj19hKV1dXV0sW1wiLi9wdXJzZS5qc1wiLCBbW1wicHJlcGFyZVB1cnNlS2luZFwiLFskaM2PX2EgPT4gKHByZXBhcmVQdXJzZUtpbmQgPSAkaM2PX2EpXV1dXSxbXCIuL3R5cGVHdWFyZHMuanNcIiwgW1tcIkJyYW5kSVwiLFskaM2PX2EgPT4gKEJyYW5kSSA9ICRozY9fYSldXSxbXCJtYWtlSXNzdWVySW50ZXJmYWNlc1wiLFskaM2PX2EgPT4gKG1ha2VJc3N1ZXJJbnRlcmZhY2VzID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuICovXG5jb25zdCBhbW91bnRTaGFwZUZyb21FbGVtZW50U2hhcGUgPSAoYnJhbmQsIGFzc2V0S2luZCwgZWxlbWVudFNoYXBlKSA9PiB7XG4gIGxldCB2YWx1ZVNoYXBlO1xuICBzd2l0Y2ggKGFzc2V0S2luZCkge1xuICAgIGNhc2UgJ25hdCc6IHtcbiAgICAgIHZhbHVlU2hhcGUgPSBNLm5hdCgpO1xuICAgICAgZWxlbWVudFNoYXBlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgRmFpbGBGdW5naWJsZSBhc3NldHMgY2Fubm90IGhhdmUgYW4gZWxlbWVudFNoYXBlOiAke3EoZWxlbWVudFNoYXBlKX1gO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ3NldCc6IHtcbiAgICAgIGlmIChlbGVtZW50U2hhcGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZVNoYXBlID0gTS5hcnJheU9mKE0ua2V5KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWVTaGFwZSA9IE0uYXJyYXlPZihNLmFuZChNLmtleSgpLCBlbGVtZW50U2hhcGUpKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdjb3B5U2V0Jzoge1xuICAgICAgaWYgKGVsZW1lbnRTaGFwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlU2hhcGUgPSBNLnNldCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWVTaGFwZSA9IE0uc2V0T2YoZWxlbWVudFNoYXBlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdjb3B5QmFnJzoge1xuICAgICAgaWYgKGVsZW1lbnRTaGFwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlU2hhcGUgPSBNLmJhZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWVTaGFwZSA9IE0uYmFnT2YoZWxlbWVudFNoYXBlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICBGYWlsYHVuZXhwZWN0ZWQgYXNzZXQga2luZCAke3EoYXNzZXRLaW5kKX1gO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGFtb3VudFNoYXBlID0gaGFyZGVuKHtcbiAgICBicmFuZCwgLy9cbiAgICB2YWx1ZTogdmFsdWVTaGFwZSxcbiAgfSk7XG4gIHJldHVybiBhbW91bnRTaGFwZTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlUGF5bWVudExlZGdlciA9IChcbiAgaXNzdWVyWm9uZSxcbiAgbmFtZSxcbiAgYXNzZXRLaW5kLFxuICBkaXNwbGF5SW5mbyxcbiAgZWxlbWVudFNoYXBlLFxuICByZWNvdmVyeVNldHNTdGF0ZSxcbiAgb3B0U2h1dGRvd25XaXRoRmFpbHVyZSA9IHVuZGVmaW5lZCxcbikgPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAqL1xuICAvL1xuICBjb25zdCBicmFuZCA9IGlzc3VlclpvbmUuZXhvKGAke25hbWV9IGJyYW5kYCwgQnJhbmRJLCB7XG4gICAgaXNNeUlzc3VlcihhbGxlZ2VkSXNzdWVyKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGFsbGVnZWRJc3N1ZXIgPT09IGlzc3VlcjtcbiAgICB9LFxuICAgIGdldEFsbGVnZWROYW1lKCkge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfSxcbiAgICAvL1xuICAgIGdldERpc3BsYXlJbmZvKCkge1xuICAgICAgcmV0dXJuIGRpc3BsYXlJbmZvO1xuICAgIH0sXG4gICAgZ2V0QW1vdW50U2hhcGUoKSB7XG4gICAgICByZXR1cm4gYW1vdW50U2hhcGU7XG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgYW1vdW50U2hhcGUgPSBhbW91bnRTaGFwZUZyb21FbGVtZW50U2hhcGUoXG4gICAgYnJhbmQsXG4gICAgYXNzZXRLaW5kLFxuICAgIGVsZW1lbnRTaGFwZSxcbiAgKTtcblxuICBjb25zdCB7IElzc3VlckksIE1pbnRJLCBQYXltZW50SSwgUHVyc2VJS2l0IH0gPSBtYWtlSXNzdWVySW50ZXJmYWNlcyhcbiAgICBicmFuZCxcbiAgICBhc3NldEtpbmQsXG4gICAgYW1vdW50U2hhcGUsXG4gICk7XG5cbiAgY29uc3QgbWFrZVBheW1lbnQgPSBwcmVwYXJlUGF5bWVudEtpbmQoaXNzdWVyWm9uZSwgbmFtZSwgYnJhbmQsIFBheW1lbnRJKTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHNodXRkb3duTGVkZ2VyV2l0aEZhaWx1cmUgPSByZWFzb24gPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICBpZiAob3B0U2h1dGRvd25XaXRoRmFpbHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0cnkge1xuICAgICAgICBvcHRTaHV0ZG93bldpdGhGYWlsdXJlKHJlYXNvbik7XG4gICAgICB9IGNhdGNoIChlcnJJblNodXRkb3duKSB7XG4gICAgICAgIGFubm90YXRlRXJyb3IoZXJySW5TaHV0ZG93biwgWGBDYXVzZWQgYnk6ICR7cmVhc29ufWApO1xuICAgICAgICB0aHJvdyBlcnJJblNodXRkb3duO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyByZWFzb247XG4gIH07XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgcGF5bWVudExlZGdlciA9IGlzc3VlclpvbmUud2Vha01hcFN0b3JlKCdwYXltZW50TGVkZ2VyJywge1xuICAgIHZhbHVlU2hhcGU6IGFtb3VudFNoYXBlLFxuICB9KTtcblxuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHBheW1lbnRSZWNvdmVyeVNldHMgPSBpc3N1ZXJab25lLndlYWtNYXBTdG9yZSgncGF5bWVudFJlY292ZXJ5U2V0cycpO1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBpbml0UGF5bWVudCA9IChwYXltZW50LCBhbW91bnQsIG9wdFJlY292ZXJ5U2V0ID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKHJlY292ZXJ5U2V0c1N0YXRlID09PSAnbm9SZWNvdmVyeVNldHMnKSB7XG4gICAgICBvcHRSZWNvdmVyeVNldCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIEZhaWxgd2hlbiByZWNvdmVyU2V0c1N0YXRlID09PSAnbm9SZWNvdmVyeVNldHMnLCBvcHRSZWNvdmVyeVNldCBtdXN0IGJlIGVtcHR5YDtcbiAgICB9XG4gICAgaWYgKG9wdFJlY292ZXJ5U2V0ICE9PSB1bmRlZmluZWQgJiYgIUFtb3VudE1hdGguaXNFbXB0eShhbW91bnQpKSB7XG4gICAgICBvcHRSZWNvdmVyeVNldC5hZGQocGF5bWVudCk7XG4gICAgICBwYXltZW50UmVjb3ZlcnlTZXRzLmluaXQocGF5bWVudCwgb3B0UmVjb3ZlcnlTZXQpO1xuICAgIH1cbiAgICBwYXltZW50TGVkZ2VyLmluaXQocGF5bWVudCwgYW1vdW50KTtcbiAgfTtcblxuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBkZWxldGVQYXltZW50ID0gcGF5bWVudCA9PiB7XG4gICAgcGF5bWVudExlZGdlci5kZWxldGUocGF5bWVudCk7XG4gICAgaWYgKHBheW1lbnRSZWNvdmVyeVNldHMuaGFzKHBheW1lbnQpKSB7XG4gICAgICBjb25zdCByZWNvdmVyeVNldCA9IHBheW1lbnRSZWNvdmVyeVNldHMuZ2V0KHBheW1lbnQpO1xuICAgICAgcGF5bWVudFJlY292ZXJ5U2V0cy5kZWxldGUocGF5bWVudCk7XG4gICAgICByZWNvdmVyeVNldC5kZWxldGUocGF5bWVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBjb2VyY2UgPSBhbGxlZ2VkQW1vdW50ID0+IEFtb3VudE1hdGguY29lcmNlKGJyYW5kLCBhbGxlZ2VkQW1vdW50KTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBhc3NlcnRBbW91bnRDb25zaXN0ZW50ID0gKHBheW1lbnRCYWxhbmNlLCBvcHRBbW91bnRTaGFwZSkgPT4ge1xuICAgIGlmIChvcHRBbW91bnRTaGFwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBtdXN0TWF0Y2gocGF5bWVudEJhbGFuY2UsIG9wdEFtb3VudFNoYXBlLCAnYW1vdW50Jyk7XG4gICAgfVxuICB9O1xuXG4gIC8qXG5cblxuICAgKi9cbiAgY29uc3QgYXNzZXJ0TGl2ZVBheW1lbnQgPSBwYXltZW50ID0+IHtcbiAgICBwYXltZW50TGVkZ2VyLmhhcyhwYXltZW50KSB8fFxuICAgICAgRmFpbGAke3BheW1lbnR9IHdhcyBub3QgYSBsaXZlIHBheW1lbnQgZm9yIGJyYW5kICR7cShcbiAgICAgICAgYnJhbmQsXG4gICAgICApfS4gSXQgY291bGQgYmUgYSB1c2VkLXVwIHBheW1lbnQsIGEgcGF5bWVudCBmb3IgYW5vdGhlciBicmFuZCwgb3IgaXQgbWlnaHQgbm90IGJlIGEgcGF5bWVudCBhdCBhbGwuYDtcbiAgfTtcblxuICAvKlxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgZGVwb3NpdEludGVybmFsID0gKFxuICAgIGJhbGFuY2VTdG9yZSxcbiAgICBzcmNQYXltZW50LFxuICAgIG9wdEFtb3VudFNoYXBlID0gdW5kZWZpbmVkLFxuICApID0+IHtcbiAgICAhaXNQcm9taXNlKHNyY1BheW1lbnQpIHx8XG4gICAgICBhc3NlcnQuZmFpbChcbiAgICAgICAgYGRlcG9zaXQgZG9lcyBub3QgYWNjZXB0IHByb21pc2VzIGFzIGZpcnN0IGFyZ3VtZW50LiBJbnN0ZWFkIG9mIHBhc3NpbmcgdGhlIHByb21pc2UgKGRlcG9zaXQocGF5bWVudFByb21pc2UpKSwgY29uc2lkZXIgdW53cmFwcGluZyB0aGUgcHJvbWlzZSBmaXJzdDogRS53aGVuKHBheW1lbnRQcm9taXNlLCAoYWN0dWFsUGF5bWVudCA9PiBkZXBvc2l0KGFjdHVhbFBheW1lbnQpKWAsXG4gICAgICAgIFR5cGVFcnJvcixcbiAgICAgICk7XG4gICAgYXNzZXJ0TGl2ZVBheW1lbnQoc3JjUGF5bWVudCk7XG4gICAgY29uc3Qgc3JjUGF5bWVudEJhbGFuY2UgPSBwYXltZW50TGVkZ2VyLmdldChzcmNQYXltZW50KTtcbiAgICBhc3NlcnRBbW91bnRDb25zaXN0ZW50KHNyY1BheW1lbnRCYWxhbmNlLCBvcHRBbW91bnRTaGFwZSk7XG4gICAgdHJ5IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGRlbGV0ZVBheW1lbnQoc3JjUGF5bWVudCk7XG4gICAgICBiYWxhbmNlU3RvcmUuaW5jcmVtZW50KHNyY1BheW1lbnRCYWxhbmNlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNodXRkb3duTGVkZ2VyV2l0aEZhaWx1cmUoZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIHNyY1BheW1lbnRCYWxhbmNlO1xuICB9O1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCB3aXRoZHJhd0ludGVybmFsID0gKGJhbGFuY2VTdG9yZSwgYW1vdW50LCByZWNvdmVyeVNldCA9IHVuZGVmaW5lZCkgPT4ge1xuICAgIGFtb3VudCA9IGNvZXJjZShhbW91bnQpO1xuICAgIGNvbnN0IHBheW1lbnQgPSBtYWtlUGF5bWVudCgpO1xuICAgIC8vXG4gICAgLy9cbiAgICBiYWxhbmNlU3RvcmUuZGVjcmVtZW50KGFtb3VudCkgfHxcbiAgICAgIEZhaWxgV2l0aGRyYXdhbCBvZiAke2Ftb3VudH0gZmFpbGVkIGJlY2F1c2UgdGhlIHB1cnNlIG9ubHkgY29udGFpbmVkICR7YmFsYW5jZVN0b3JlLmdldEFtb3VudCgpfWA7XG4gICAgdHJ5IHtcbiAgICAgIGluaXRQYXltZW50KHBheW1lbnQsIGFtb3VudCwgcmVjb3ZlcnlTZXQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2h1dGRvd25MZWRnZXJXaXRoRmFpbHVyZShlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gcGF5bWVudDtcbiAgfTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAvL1xuICBjb25zdCBtYWtlRW1wdHlQdXJzZSA9IHByZXBhcmVQdXJzZUtpbmQoXG4gICAgaXNzdWVyWm9uZSxcbiAgICBuYW1lLFxuICAgIGFzc2V0S2luZCxcbiAgICBicmFuZCxcbiAgICBQdXJzZUlLaXQsXG4gICAgaGFyZGVuKHtcbiAgICAgIGRlcG9zaXRJbnRlcm5hbCxcbiAgICAgIHdpdGhkcmF3SW50ZXJuYWwsXG4gICAgfSksXG4gICAgcmVjb3ZlcnlTZXRzU3RhdGUsXG4gICAgcGF5bWVudFJlY292ZXJ5U2V0cyxcbiAgKTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgKi9cbiAgLy9cbiAgY29uc3QgaXNzdWVyID0gaXNzdWVyWm9uZS5leG8oYCR7bmFtZX0gaXNzdWVyYCwgSXNzdWVySSwge1xuICAgIGdldEJyYW5kKCkge1xuICAgICAgcmV0dXJuIGJyYW5kO1xuICAgIH0sXG4gICAgZ2V0QWxsZWdlZE5hbWUoKSB7XG4gICAgICByZXR1cm4gbmFtZTtcbiAgICB9LFxuICAgIGdldEFzc2V0S2luZCgpIHtcbiAgICAgIHJldHVybiBhc3NldEtpbmQ7XG4gICAgfSxcbiAgICBnZXREaXNwbGF5SW5mbygpIHtcbiAgICAgIHJldHVybiBkaXNwbGF5SW5mbztcbiAgICB9LFxuICAgIG1ha2VFbXB0eVB1cnNlKCkge1xuICAgICAgcmV0dXJuIG1ha2VFbXB0eVB1cnNlKCk7XG4gICAgfSxcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBpc0xpdmUocGF5bWVudCkge1xuICAgICAgLy9cbiAgICAgIHJldHVybiBwYXltZW50TGVkZ2VyLmhhcyhwYXltZW50KTtcbiAgICB9LFxuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGdldEFtb3VudE9mKHBheW1lbnQpIHtcbiAgICAgIC8vXG4gICAgICBhc3NlcnRMaXZlUGF5bWVudChwYXltZW50KTtcbiAgICAgIHJldHVybiBwYXltZW50TGVkZ2VyLmdldChwYXltZW50KTtcbiAgICB9LFxuICAgIC8qXG5cblxuICAgICAqL1xuICAgIGJ1cm4ocGF5bWVudCwgb3B0QW1vdW50U2hhcGUgPSB1bmRlZmluZWQpIHtcbiAgICAgIC8vXG4gICAgICBhc3NlcnRMaXZlUGF5bWVudChwYXltZW50KTtcbiAgICAgIGNvbnN0IHBheW1lbnRCYWxhbmNlID0gcGF5bWVudExlZGdlci5nZXQocGF5bWVudCk7XG4gICAgICBhc3NlcnRBbW91bnRDb25zaXN0ZW50KHBheW1lbnRCYWxhbmNlLCBvcHRBbW91bnRTaGFwZSk7XG4gICAgICB0cnkge1xuICAgICAgICAvL1xuICAgICAgICBkZWxldGVQYXltZW50KHBheW1lbnQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNodXRkb3duTGVkZ2VyV2l0aEZhaWx1cmUoZXJyKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBheW1lbnRCYWxhbmNlO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgbWludFJlY292ZXJ5UHVyc2UgPSAvKiAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgaXNzdWVyWm9uZS5tYWtlT25jZSgnbWludFJlY292ZXJ5UHVyc2UnLCAoKSA9PiBtYWtlRW1wdHlQdXJzZSgpKVxuICApO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWludCA9IGlzc3VlclpvbmUuZXhvKGAke25hbWV9IG1pbnRgLCBNaW50SSwge1xuICAgIGdldElzc3VlcigpIHtcbiAgICAgIHJldHVybiBpc3N1ZXI7XG4gICAgfSxcbiAgICBtaW50UGF5bWVudChuZXdBbW91bnQpIHtcbiAgICAgIG5ld0Ftb3VudCA9IGNvZXJjZShuZXdBbW91bnQpO1xuICAgICAgbXVzdE1hdGNoKG5ld0Ftb3VudCwgYW1vdW50U2hhcGUsICdtaW50ZWQgYW1vdW50Jyk7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGNvbnN0IHJhd1BheW1lbnQgPSBtYWtlUGF5bWVudCgpO1xuICAgICAgaW5pdFBheW1lbnQocmF3UGF5bWVudCwgbmV3QW1vdW50LCB1bmRlZmluZWQpO1xuXG4gICAgICBjb25zdCBtaW50UmVjb3ZlcnlQdXJzZUJlZm9yZSA9IG1pbnRSZWNvdmVyeVB1cnNlLmdldEN1cnJlbnRBbW91bnQoKTtcbiAgICAgIG1pbnRSZWNvdmVyeVB1cnNlLmRlcG9zaXQocmF3UGF5bWVudCwgbmV3QW1vdW50KTtcbiAgICAgIGNvbnN0IHBheW1lbnQgPSBtaW50UmVjb3ZlcnlQdXJzZS53aXRoZHJhdyhuZXdBbW91bnQpO1xuICAgICAgY29uc3QgbWludFJlY292ZXJ5UHVyc2VBZnRlciA9IG1pbnRSZWNvdmVyeVB1cnNlLmdldEN1cnJlbnRBbW91bnQoKTtcbiAgICAgIGFzc2VydChrZXlFUShtaW50UmVjb3ZlcnlQdXJzZUJlZm9yZSwgbWludFJlY292ZXJ5UHVyc2VBZnRlcikpO1xuICAgICAgcmV0dXJuIHBheW1lbnQ7XG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgaXNzdWVyS2l0ID0gaGFyZGVuKHsgaXNzdWVyLCBtaW50LCBicmFuZCwgbWludFJlY292ZXJ5UHVyc2UgfSk7XG4gIHJldHVybiBpc3N1ZXJLaXQ7XG59OyRozY9fb25jZS5wcmVwYXJlUGF5bWVudExlZGdlcihwcmVwYXJlUGF5bWVudExlZGdlcik7XG5oYXJkZW4ocHJlcGFyZVBheW1lbnRMZWRnZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZVBheW1lbnRMZWRnZXIiOlsicHJlcGFyZVBheW1lbnRMZWRnZXIiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAACc2lSAcVAAAHFQAAIQAAAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9wdXJzZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAYWdvcmljL3N0b3JlIiwiLi9hbW91bnRNYXRoLmpzIiwiLi90cmFuc2llbnROb3RpZmllci5qcyIsIi4vYW1vdW50U3RvcmUuanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlUHVyc2VLaW5kIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxNLG1ha2VDb3B5U2V0LEFtb3VudE1hdGgsbWFrZVRyYW5zaWVudE5vdGlmaWVyS2l0LG1ha2VBbW91bnRTdG9yZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXSxbXCJtYWtlQ29weVNldFwiLFskaM2PX2EgPT4gKG1ha2VDb3B5U2V0ID0gJGjNj19hKV1dXV0sW1wiLi9hbW91bnRNYXRoLmpzXCIsIFtbXCJBbW91bnRNYXRoXCIsWyRozY9fYSA9PiAoQW1vdW50TWF0aCA9ICRozY9fYSldXV1dLFtcIi4vdHJhbnNpZW50Tm90aWZpZXIuanNcIiwgW1tcIm1ha2VUcmFuc2llbnROb3RpZmllcktpdFwiLFskaM2PX2EgPT4gKG1ha2VUcmFuc2llbnROb3RpZmllcktpdCA9ICRozY9fYSldXV1dLFtcIi4vYW1vdW50U3RvcmUuanNcIiwgW1tcIm1ha2VBbW91bnRTdG9yZVwiLFskaM2PX2EgPT4gKG1ha2VBbW91bnRTdG9yZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgRU1QVFlfQ09QWV9TRVQgPSBtYWtlQ29weVNldChbXSk7XG5cbi8vXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVQdXJzZUtpbmQgPSAoXG4gIGlzc3VlclpvbmUsXG4gIG5hbWUsXG4gIGFzc2V0S2luZCxcbiAgYnJhbmQsXG4gIFB1cnNlSUtpdCxcbiAgcHVyc2VNZXRob2RzLFxuICByZWNvdmVyeVNldHNTdGF0ZSxcbiAgcGF5bWVudFJlY292ZXJ5U2V0cyxcbikgPT4ge1xuICBjb25zdCBhbW91bnRTaGFwZSA9IGJyYW5kLmdldEFtb3VudFNoYXBlKCk7XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgeyBwcm92aWRlTm90aWZpZXIsIHVwZGF0ZTogdXBkYXRlQmFsYW5jZSB9ID0gbWFrZVRyYW5zaWVudE5vdGlmaWVyS2l0KCk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgbWF5YmVSZWNvdmVyeVNldCA9IHN0YXRlID0+IHtcbiAgICBjb25zdCB7IHJlY292ZXJ5U2V0IH0gPSBzdGF0ZTtcbiAgICBpZiAocmVjb3ZlcnlTZXRzU3RhdGUgPT09ICdoYXNSZWNvdmVyeVNldHMnKSB7XG4gICAgICByZXR1cm4gcmVjb3ZlcnlTZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlY292ZXJ5U2V0c1N0YXRlID09PSAnbm9SZWNvdmVyeVNldHMnIHx8XG4gICAgICAgIEZhaWxgcmVjb3ZlclNldHNTdGF0ZSBtdXN0IGJlIG5vUmVjb3ZlcnlTZXRzIGlmIGl0IGlzbid0IGhhc1JlY292ZXJTZXRzYDtcbiAgICAgIHBheW1lbnRSZWNvdmVyeVNldHMgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBGYWlsYHBheW1lbnRSZWNvdmVyeVNldHMgbXVzdCBhbHdheXMgYmUgZGVmaW5lZGA7XG4gICAgICByZWNvdmVyeVNldC5nZXRTaXplKCkgPT09IDAgfHxcbiAgICAgICAgRmFpbGBXaXRoIG5vUmVjb3ZlcnlTZXRzLCByZWNvdmVyeVNldCBtdXN0IGJlIGVtcHR5YDtcblxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgeyBkZXBvc2l0SW50ZXJuYWwsIHdpdGhkcmF3SW50ZXJuYWwgfSA9IHB1cnNlTWV0aG9kcztcbiAgY29uc3QgbWFrZVB1cnNlS2l0ID0gaXNzdWVyWm9uZS5leG9DbGFzc0tpdChcbiAgICBgJHtuYW1lfSBQdXJzZWAsXG4gICAgUHVyc2VJS2l0LFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRCYWxhbmNlID0gQW1vdW50TWF0aC5tYWtlRW1wdHkoYnJhbmQsIGFzc2V0S2luZCk7XG5cbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCByZWNvdmVyeVNldCA9IGlzc3VlclpvbmUuZGV0YWNoZWQoKS5zZXRTdG9yZSgncmVjb3Zlcnkgc2V0Jyk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGN1cnJlbnRCYWxhbmNlLFxuICAgICAgICByZWNvdmVyeVNldCxcbiAgICAgIH07XG4gICAgfSxcbiAgICB7XG4gICAgICBwdXJzZToge1xuICAgICAgICBkZXBvc2l0KHNyY1BheW1lbnQsIG9wdEFtb3VudFNoYXBlID0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgICAgY29uc3QgeyBwdXJzZSB9ID0gdGhpcy5mYWNldHM7XG4gICAgICAgICAgY29uc3QgYmFsYW5jZVN0b3JlID0gbWFrZUFtb3VudFN0b3JlKHN0YXRlLCAnY3VycmVudEJhbGFuY2UnKTtcbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IHNyY1BheW1lbnRCYWxhbmNlID0gZGVwb3NpdEludGVybmFsKFxuICAgICAgICAgICAgYmFsYW5jZVN0b3JlLFxuICAgICAgICAgICAgc3JjUGF5bWVudCxcbiAgICAgICAgICAgIG9wdEFtb3VudFNoYXBlLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdXBkYXRlQmFsYW5jZShwdXJzZSwgYmFsYW5jZVN0b3JlLmdldEFtb3VudCgpKTtcbiAgICAgICAgICByZXR1cm4gc3JjUGF5bWVudEJhbGFuY2U7XG4gICAgICAgIH0sXG4gICAgICAgIHdpdGhkcmF3KGFtb3VudCkge1xuICAgICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgICAgY29uc3QgeyBwdXJzZSB9ID0gdGhpcy5mYWNldHM7XG5cbiAgICAgICAgICBjb25zdCBvcHRSZWNvdmVyeVNldCA9IG1heWJlUmVjb3ZlcnlTZXQoc3RhdGUpO1xuICAgICAgICAgIGNvbnN0IGJhbGFuY2VTdG9yZSA9IG1ha2VBbW91bnRTdG9yZShzdGF0ZSwgJ2N1cnJlbnRCYWxhbmNlJyk7XG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCBwYXltZW50ID0gd2l0aGRyYXdJbnRlcm5hbChcbiAgICAgICAgICAgIGJhbGFuY2VTdG9yZSxcbiAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgIG9wdFJlY292ZXJ5U2V0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgdXBkYXRlQmFsYW5jZShwdXJzZSwgYmFsYW5jZVN0b3JlLmdldEFtb3VudCgpKTtcbiAgICAgICAgICByZXR1cm4gcGF5bWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q3VycmVudEFtb3VudCgpIHtcbiAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICAgIGNvbnN0IGJhbGFuY2VTdG9yZSA9IG1ha2VBbW91bnRTdG9yZShzdGF0ZSwgJ2N1cnJlbnRCYWxhbmNlJyk7XG4gICAgICAgICAgcmV0dXJuIGJhbGFuY2VTdG9yZS5nZXRBbW91bnQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q3VycmVudEFtb3VudE5vdGlmaWVyKCkge1xuICAgICAgICAgIHJldHVybiBwcm92aWRlTm90aWZpZXIodGhpcy5mYWNldHMucHVyc2UpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRBbGxlZ2VkQnJhbmQoKSB7XG4gICAgICAgICAgcmV0dXJuIGJyYW5kO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldERlcG9zaXRGYWNldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mYWNldHMuZGVwb3NpdEZhY2V0O1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldFJlY292ZXJ5U2V0KCkge1xuICAgICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgICAgY29uc3Qgb3B0UmVjb3ZlcnlTZXQgPSBtYXliZVJlY292ZXJ5U2V0KHN0YXRlKTtcbiAgICAgICAgICBpZiAob3B0UmVjb3ZlcnlTZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX0NPUFlfU0VUO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb3B0UmVjb3ZlcnlTZXQuc25hcHNob3QoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVjb3ZlckFsbCgpIHtcbiAgICAgICAgICBjb25zdCB7IHN0YXRlLCBmYWNldHMgfSA9IHRoaXM7XG4gICAgICAgICAgbGV0IGFtb3VudCA9IEFtb3VudE1hdGgubWFrZUVtcHR5KGJyYW5kLCBhc3NldEtpbmQpO1xuICAgICAgICAgIGNvbnN0IG9wdFJlY292ZXJ5U2V0ID0gbWF5YmVSZWNvdmVyeVNldChzdGF0ZSk7XG4gICAgICAgICAgaWYgKG9wdFJlY292ZXJ5U2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBhbW91bnQ7IC8vXG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoY29uc3QgcGF5bWVudCBvZiBvcHRSZWNvdmVyeVNldC5rZXlzKCkpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBmYWNldHMucHVyc2UuZGVwb3NpdChwYXltZW50KTtcbiAgICAgICAgICAgIGFtb3VudCA9IEFtb3VudE1hdGguYWRkKGFtb3VudCwgZGVsdGEsIGJyYW5kKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3B0UmVjb3ZlcnlTZXQuZ2V0U2l6ZSgpID09PSAwIHx8XG4gICAgICAgICAgICBGYWlsYGludGVybmFsOiBSZW1haW5pbmcgdW5yZWNvdmVyZWQgcGF5bWVudHM6ICR7ZmFjZXRzLnB1cnNlLmdldFJlY292ZXJ5U2V0KCl9YDtcbiAgICAgICAgICByZXR1cm4gYW1vdW50O1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGRlcG9zaXRGYWNldDoge1xuICAgICAgICByZWNlaXZlKC4uLmFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mYWNldHMucHVyc2UuZGVwb3NpdCguLi5hcmdzKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBzdGF0ZVNoYXBlOiB7XG4gICAgICAgIGN1cnJlbnRCYWxhbmNlOiBhbW91bnRTaGFwZSxcbiAgICAgICAgcmVjb3ZlcnlTZXQ6IE0ucmVtb3RhYmxlKCdyZWNvdmVyeVNldCcpLFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuICByZXR1cm4gKCkgPT4gbWFrZVB1cnNlS2l0KCkucHVyc2U7XG59OyRozY9fb25jZS5wcmVwYXJlUHVyc2VLaW5kKHByZXBhcmVQdXJzZUtpbmQpO1xuaGFyZGVuKHByZXBhcmVQdXJzZUtpbmQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZVB1cnNlS2luZCI6WyJwcmVwYXJlUHVyc2VLaW5kIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAIkTInFgLQAAYC0AACEAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvcmF0aW8uanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vbWFyc2hhbCIsIkBlbmRvL25hdCIsIi4vYW1vdW50TWF0aC5qcyIsIi4vc2FmZU1hdGguanMiXSwiZXhwb3J0cyI6WyJhZGRSYXRpb3MiLCJhc3NlcnRJc1JhdGlvIiwiYXNzZXJ0UGFyc2FibGVOdW1iZXIiLCJjZWlsRGl2aWRlQnkiLCJjZWlsTXVsdGlwbHlCeSIsImRpdmlkZUJ5IiwiZmxvb3JEaXZpZGVCeSIsImZsb29yTXVsdGlwbHlCeSIsImludmVydFJhdGlvIiwibWFrZVJhdGlvIiwibWFrZVJhdGlvRnJvbUFtb3VudHMiLCJtdWx0aXBseUJ5IiwibXVsdGlwbHlSYXRpb3MiLCJvbmVNaW51cyIsInBhcnNlUmF0aW8iLCJxdWFudGl6ZSIsInJhdGlvR1RFIiwicmF0aW9Ub051bWJlciIsInJhdGlvc1NhbWUiLCJzdWJ0cmFjdFJhdGlvcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHEsRmFpbCxhc3NlcnRSZWNvcmQsaXNOYXQsQW1vdW50TWF0aCxuYXRTYWZlTWF0aDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJhc3NlcnRSZWNvcmRcIixbJGjNj19hID0+IChhc3NlcnRSZWNvcmQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9uYXRcIiwgW1tcImlzTmF0XCIsWyRozY9fYSA9PiAoaXNOYXQgPSAkaM2PX2EpXV1dXSxbXCIuL2Ftb3VudE1hdGguanNcIiwgW1tcIkFtb3VudE1hdGhcIixbJGjNj19hID0+IChBbW91bnRNYXRoID0gJGjNj19hKV1dXV0sW1wiLi9zYWZlTWF0aC5qc1wiLCBbW1wibmF0U2FmZU1hdGhcIixbJGjNj19hID0+IChuYXRTYWZlTWF0aCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG4vKlxuXG4gKi9cblxuY29uc3QgeyBtdWx0aXBseSwgZmxvb3JEaXZpZGUsIGNlaWxEaXZpZGUsIGJhbmtlcnNEaXZpZGUsIGFkZCwgc3VidHJhY3QgfSA9XG4gIG5hdFNhZmVNYXRoO1xuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbmNvbnN0IFBFUkNFTlQgPSAxMDBuO1xuXG5jb25zdCByYXRpb1Byb3BlcnR5TmFtZXMgPSBbJ251bWVyYXRvcicsICdkZW5vbWluYXRvciddO1xuXG4gICAgICAgY29uc3QgYXNzZXJ0SXNSYXRpbyA9IHJhdGlvID0+IHtcbiAgYXNzZXJ0UmVjb3JkKHJhdGlvLCAncmF0aW8nKTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJhdGlvKTtcbiAga2V5cy5sZW5ndGggPT09IDIgfHwgRmFpbGBSYXRpbyAke3JhdGlvfSBtdXN0IGJlIGEgcmVjb3JkIHdpdGggMiBmaWVsZHMuYDtcbiAgZm9yIChjb25zdCBuYW1lIG9mIGtleXMpIHtcbiAgICByYXRpb1Byb3BlcnR5TmFtZXMuaW5jbHVkZXMobmFtZSkgfHxcbiAgICAgIEZhaWxgUGFyYW1ldGVyIG11c3QgYmUgYSBSYXRpbyByZWNvcmQsIGJ1dCAke3JhdGlvfSBoYXMgJHtxKG5hbWUpfWA7XG4gIH1cbiAgY29uc3QgbnVtZXJhdG9yVmFsdWUgPSByYXRpby5udW1lcmF0b3IudmFsdWU7XG4gIGNvbnN0IGRlbm9taW5hdG9yVmFsdWUgPSByYXRpby5kZW5vbWluYXRvci52YWx1ZTtcbiAgaXNOYXQobnVtZXJhdG9yVmFsdWUpIHx8XG4gICAgRmFpbGBUaGUgbnVtZXJhdG9yIHZhbHVlIG11c3QgYmUgYSBOYXRWYWx1ZSwgbm90ICR7bnVtZXJhdG9yVmFsdWV9YDtcbiAgaXNOYXQoZGVub21pbmF0b3JWYWx1ZSkgfHxcbiAgICBGYWlsYFRoZSBkZW5vbWluYXRvciB2YWx1ZSBtdXN0IGJlIGEgTmF0VmFsdWUsIG5vdCAke2Rlbm9taW5hdG9yVmFsdWV9YDtcbn07XG5cbi8qXG5cblxuXG5cblxuICovJGjNj19vbmNlLmFzc2VydElzUmF0aW8oYXNzZXJ0SXNSYXRpbyk7XG4gICAgICAgY29uc3QgbWFrZVJhdGlvID0gKFxuICBudW1lcmF0b3IsXG4gIG51bWVyYXRvckJyYW5kLFxuICBkZW5vbWluYXRvciA9IFBFUkNFTlQsXG4gIGRlbm9taW5hdG9yQnJhbmQgPSBudW1lcmF0b3JCcmFuZCxcbikgPT4ge1xuICBkZW5vbWluYXRvciA+IDBuIHx8XG4gICAgRmFpbGBObyBpbmZpbml0ZSByYXRpb3MhIERlbm9taW5hdG9yIHdhcyAwICR7cShkZW5vbWluYXRvckJyYW5kKX1gO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIG51bWVyYXRvcjogQW1vdW50TWF0aC5tYWtlKG51bWVyYXRvckJyYW5kLCBudW1lcmF0b3IpLFxuICAgIGRlbm9taW5hdG9yOiBBbW91bnRNYXRoLm1ha2UoZGVub21pbmF0b3JCcmFuZCwgZGVub21pbmF0b3IpLFxuICB9KTtcbn07XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UubWFrZVJhdGlvKG1ha2VSYXRpbyk7XG4gICAgICAgY29uc3QgbWFrZVJhdGlvRnJvbUFtb3VudHMgPSAobnVtZXJhdG9yQW1vdW50LCBkZW5vbWluYXRvckFtb3VudCkgPT4ge1xuICBBbW91bnRNYXRoLmNvZXJjZShudW1lcmF0b3JBbW91bnQuYnJhbmQsIG51bWVyYXRvckFtb3VudCk7XG4gIEFtb3VudE1hdGguY29lcmNlKGRlbm9taW5hdG9yQW1vdW50LmJyYW5kLCBkZW5vbWluYXRvckFtb3VudCk7XG4gIHJldHVybiBtYWtlUmF0aW8oXG4gICAgLy9cbiAgICBudW1lcmF0b3JBbW91bnQudmFsdWUsXG4gICAgbnVtZXJhdG9yQW1vdW50LmJyYW5kLFxuICAgIGRlbm9taW5hdG9yQW1vdW50LnZhbHVlLFxuICAgIGRlbm9taW5hdG9yQW1vdW50LmJyYW5kLFxuICApO1xufTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLm1ha2VSYXRpb0Zyb21BbW91bnRzKG1ha2VSYXRpb0Zyb21BbW91bnRzKTtcbmNvbnN0IG11bHRpcGx5SGVscGVyID0gKGFtb3VudCwgcmF0aW8sIGRpdmlkZU9wKSA9PiB7XG4gIEFtb3VudE1hdGguY29lcmNlKGFtb3VudC5icmFuZCwgYW1vdW50KTtcbiAgYXNzZXJ0SXNSYXRpbyhyYXRpbyk7XG4gIGFtb3VudC5icmFuZCA9PT0gcmF0aW8uZGVub21pbmF0b3IuYnJhbmQgfHxcbiAgICBGYWlsYGFtb3VudCdzIGJyYW5kICR7cShhbW91bnQuYnJhbmQpfSBtdXN0IG1hdGNoIHJhdGlvJ3MgZGVub21pbmF0b3IgJHtxKFxuICAgICAgcmF0aW8uZGVub21pbmF0b3IuYnJhbmQsXG4gICAgKX1gO1xuXG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICBBbW91bnRNYXRoLm1ha2UoXG4gICAgICByYXRpby5udW1lcmF0b3IuYnJhbmQsXG4gICAgICBkaXZpZGVPcChcbiAgICAgICAgbXVsdGlwbHkoYW1vdW50LnZhbHVlLCByYXRpby5udW1lcmF0b3IudmFsdWUpLFxuICAgICAgICByYXRpby5kZW5vbWluYXRvci52YWx1ZSxcbiAgICAgICksXG4gICAgKVxuICApO1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBmbG9vck11bHRpcGx5QnkgPSAoYW1vdW50LCByYXRpbykgPT4ge1xuICByZXR1cm4gbXVsdGlwbHlIZWxwZXIoYW1vdW50LCByYXRpbywgZmxvb3JEaXZpZGUpO1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UuZmxvb3JNdWx0aXBseUJ5KGZsb29yTXVsdGlwbHlCeSk7XG4gICAgICAgY29uc3QgY2VpbE11bHRpcGx5QnkgPSAoYW1vdW50LCByYXRpbykgPT4ge1xuICByZXR1cm4gbXVsdGlwbHlIZWxwZXIoYW1vdW50LCByYXRpbywgY2VpbERpdmlkZSk7XG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5jZWlsTXVsdGlwbHlCeShjZWlsTXVsdGlwbHlCeSk7XG4gICAgICAgY29uc3QgbXVsdGlwbHlCeSA9IChhbW91bnQsIHJhdGlvKSA9PiB7XG4gIHJldHVybiBtdWx0aXBseUhlbHBlcihhbW91bnQsIHJhdGlvLCBiYW5rZXJzRGl2aWRlKTtcbn07XG5cbi8qXG5cblxuXG5cbiAqLyRozY9fb25jZS5tdWx0aXBseUJ5KG11bHRpcGx5QnkpO1xuY29uc3QgZGl2aWRlSGVscGVyID0gKGFtb3VudCwgcmF0aW8sIGRpdmlkZU9wKSA9PiB7XG4gIEFtb3VudE1hdGguY29lcmNlKGFtb3VudC5icmFuZCwgYW1vdW50KTtcbiAgYXNzZXJ0SXNSYXRpbyhyYXRpbyk7XG4gIGFtb3VudC5icmFuZCA9PT0gcmF0aW8ubnVtZXJhdG9yLmJyYW5kIHx8XG4gICAgRmFpbGBhbW91bnQncyBicmFuZCAke3EoYW1vdW50LmJyYW5kKX0gbXVzdCBtYXRjaCByYXRpbydzIG51bWVyYXRvciAke3EoXG4gICAgICByYXRpby5udW1lcmF0b3IuYnJhbmQsXG4gICAgKX1gO1xuXG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICBBbW91bnRNYXRoLm1ha2UoXG4gICAgICByYXRpby5kZW5vbWluYXRvci5icmFuZCxcbiAgICAgIGRpdmlkZU9wKFxuICAgICAgICBtdWx0aXBseShhbW91bnQudmFsdWUsIHJhdGlvLmRlbm9taW5hdG9yLnZhbHVlKSxcbiAgICAgICAgcmF0aW8ubnVtZXJhdG9yLnZhbHVlLFxuICAgICAgKSxcbiAgICApXG4gICk7XG59O1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgZmxvb3JEaXZpZGVCeSA9IChhbW91bnQsIHJhdGlvKSA9PiB7XG4gIHJldHVybiBkaXZpZGVIZWxwZXIoYW1vdW50LCByYXRpbywgZmxvb3JEaXZpZGUpO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5mbG9vckRpdmlkZUJ5KGZsb29yRGl2aWRlQnkpO1xuICAgICAgIGNvbnN0IGNlaWxEaXZpZGVCeSA9IChhbW91bnQsIHJhdGlvKSA9PiB7XG4gIHJldHVybiBkaXZpZGVIZWxwZXIoYW1vdW50LCByYXRpbywgY2VpbERpdmlkZSk7XG59O1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UuY2VpbERpdmlkZUJ5KGNlaWxEaXZpZGVCeSk7XG4gICAgICAgY29uc3QgZGl2aWRlQnkgPSAoYW1vdW50LCByYXRpbykgPT4ge1xuICByZXR1cm4gZGl2aWRlSGVscGVyKGFtb3VudCwgcmF0aW8sIGJhbmtlcnNEaXZpZGUpO1xufTtcblxuLypcblxuXG4gKi8kaM2PX29uY2UuZGl2aWRlQnkoZGl2aWRlQnkpO1xuICAgICAgIGNvbnN0IGludmVydFJhdGlvID0gcmF0aW8gPT4ge1xuICBhc3NlcnRJc1JhdGlvKHJhdGlvKTtcblxuICByZXR1cm4gbWFrZVJhdGlvKFxuICAgIHJhdGlvLmRlbm9taW5hdG9yLnZhbHVlLFxuICAgIHJhdGlvLmRlbm9taW5hdG9yLmJyYW5kLFxuICAgIHJhdGlvLm51bWVyYXRvci52YWx1ZSxcbiAgICByYXRpby5udW1lcmF0b3IuYnJhbmQsXG4gICk7XG59O1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLmludmVydFJhdGlvKGludmVydFJhdGlvKTtcbiAgICAgICBjb25zdCBhZGRSYXRpb3MgPSAobGVmdCwgcmlnaHQpID0+IHtcbiAgYXNzZXJ0SXNSYXRpbyhyaWdodCk7XG4gIGFzc2VydElzUmF0aW8obGVmdCk7XG4gIGxlZnQubnVtZXJhdG9yLmJyYW5kID09PSByaWdodC5udW1lcmF0b3IuYnJhbmQgfHxcbiAgICBGYWlsYG51bWVyYXRvciBicmFuZHMgbXVzdCBtYXRjaDogJHtxKGxlZnQpfSAke3EocmlnaHQpfWA7XG4gIGxlZnQuZGVub21pbmF0b3IuYnJhbmQgPT09IHJpZ2h0LmRlbm9taW5hdG9yLmJyYW5kIHx8XG4gICAgRmFpbGBkZW5vbWluYXRvciBicmFuZHMgbXVzdCBtYXRjaDogJHtxKGxlZnQpfSAke3EocmlnaHQpfWA7XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgcmV0dXJuIG1ha2VSYXRpbyhcbiAgICBhZGQoXG4gICAgICBtdWx0aXBseShsZWZ0Lm51bWVyYXRvci52YWx1ZSwgcmlnaHQuZGVub21pbmF0b3IudmFsdWUpLCAvL1xuICAgICAgbXVsdGlwbHkobGVmdC5kZW5vbWluYXRvci52YWx1ZSwgcmlnaHQubnVtZXJhdG9yLnZhbHVlKSAgLy9cbiAgICApLCAvL1xuICAgIGxlZnQubnVtZXJhdG9yLmJyYW5kLFxuICAgIG11bHRpcGx5KGxlZnQuZGVub21pbmF0b3IudmFsdWUsIHJpZ2h0LmRlbm9taW5hdG9yLnZhbHVlKSwgLy9cbiAgICBsZWZ0LmRlbm9taW5hdG9yLmJyYW5kLFxuICApO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5hZGRSYXRpb3MoYWRkUmF0aW9zKTtcbiAgICAgICBjb25zdCBzdWJ0cmFjdFJhdGlvcyA9IChsZWZ0LCByaWdodCkgPT4ge1xuICBhc3NlcnRJc1JhdGlvKHJpZ2h0KTtcbiAgYXNzZXJ0SXNSYXRpbyhsZWZ0KTtcbiAgbGVmdC5udW1lcmF0b3IuYnJhbmQgPT09IHJpZ2h0Lm51bWVyYXRvci5icmFuZCB8fFxuICAgIEZhaWxgbnVtZXJhdG9yIGJyYW5kcyBtdXN0IG1hdGNoOiAke3EobGVmdCl9ICR7cShyaWdodCl9YDtcbiAgbGVmdC5kZW5vbWluYXRvci5icmFuZCA9PT0gcmlnaHQuZGVub21pbmF0b3IuYnJhbmQgfHxcbiAgICBGYWlsYGRlbm9taW5hdG9yIGJyYW5kcyBtdXN0IG1hdGNoOiAke3EobGVmdCl9ICR7cShyaWdodCl9YDtcblxuICByZXR1cm4gbWFrZVJhdGlvKFxuICAgIHN1YnRyYWN0KFxuICAgICAgbXVsdGlwbHkobGVmdC5udW1lcmF0b3IudmFsdWUsIHJpZ2h0LmRlbm9taW5hdG9yLnZhbHVlKSwgLy9cbiAgICAgIG11bHRpcGx5KGxlZnQuZGVub21pbmF0b3IudmFsdWUsIHJpZ2h0Lm51bWVyYXRvci52YWx1ZSkgIC8vXG4gICAgKSwgLy9cbiAgICBsZWZ0Lm51bWVyYXRvci5icmFuZCxcbiAgICBtdWx0aXBseShsZWZ0LmRlbm9taW5hdG9yLnZhbHVlLCByaWdodC5kZW5vbWluYXRvci52YWx1ZSksIC8vXG4gICAgbGVmdC5kZW5vbWluYXRvci5icmFuZCxcbiAgKTtcbn07XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2Uuc3VidHJhY3RSYXRpb3Moc3VidHJhY3RSYXRpb3MpO1xuICAgICAgIGNvbnN0IG11bHRpcGx5UmF0aW9zID0gKGxlZnQsIHJpZ2h0KSA9PiB7XG4gIGFzc2VydElzUmF0aW8ocmlnaHQpO1xuICBhc3NlcnRJc1JhdGlvKGxlZnQpO1xuXG4gIGNvbnN0IGdldFJlbWFpbmluZ0JyYW5kcyA9ICgpID0+IHtcbiAgICAvL1xuICAgIGlmIChyaWdodC5udW1lcmF0b3IuYnJhbmQgPT09IHJpZ2h0LmRlbm9taW5hdG9yLmJyYW5kKSB7XG4gICAgICByZXR1cm4gW2xlZnQubnVtZXJhdG9yLmJyYW5kLCBsZWZ0LmRlbm9taW5hdG9yLmJyYW5kXTtcbiAgICB9XG4gICAgaWYgKHJpZ2h0Lm51bWVyYXRvci5icmFuZCA9PT0gbGVmdC5kZW5vbWluYXRvci5icmFuZCkge1xuICAgICAgcmV0dXJuIFtsZWZ0Lm51bWVyYXRvci5icmFuZCwgcmlnaHQuZGVub21pbmF0b3IuYnJhbmRdO1xuICAgIH1cbiAgICBpZiAobGVmdC5udW1lcmF0b3IuYnJhbmQgPT09IHJpZ2h0LmRlbm9taW5hdG9yLmJyYW5kKSB7XG4gICAgICByZXR1cm4gW3JpZ2h0Lm51bWVyYXRvci5icmFuZCwgbGVmdC5kZW5vbWluYXRvci5icmFuZF07XG4gICAgfVxuICAgIGlmIChsZWZ0Lm51bWVyYXRvci5icmFuZCA9PT0gbGVmdC5kZW5vbWluYXRvci5icmFuZCkge1xuICAgICAgcmV0dXJuIFtyaWdodC5udW1lcmF0b3IuYnJhbmQsIHJpZ2h0LmRlbm9taW5hdG9yLmJyYW5kXTtcbiAgICB9XG4gICAgdGhyb3cgRmFpbGBhdCBsZWFzdCBvbmUgYnJhbmQgbXVzdCBjYW5jZWwgb3V0OiAke3EobGVmdCl9ICR7cShyaWdodCl9YDtcbiAgfTtcblxuICBjb25zdCBbbnVtZXJhdG9yQnJhbmQsIGRlbm9taW5hdG9yQnJhbmRdID0gZ2V0UmVtYWluaW5nQnJhbmRzKCk7XG4gIHJldHVybiBtYWtlUmF0aW8oXG4gICAgbXVsdGlwbHkobGVmdC5udW1lcmF0b3IudmFsdWUsIHJpZ2h0Lm51bWVyYXRvci52YWx1ZSksXG4gICAgbnVtZXJhdG9yQnJhbmQsXG4gICAgbXVsdGlwbHkobGVmdC5kZW5vbWluYXRvci52YWx1ZSwgcmlnaHQuZGVub21pbmF0b3IudmFsdWUpLFxuICAgIGRlbm9taW5hdG9yQnJhbmQsXG4gICk7XG59O1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UubXVsdGlwbHlSYXRpb3MobXVsdGlwbHlSYXRpb3MpO1xuICAgICAgIGNvbnN0IG9uZU1pbnVzID0gcmF0aW8gPT4ge1xuICBhc3NlcnRJc1JhdGlvKHJhdGlvKTtcbiAgcmF0aW8ubnVtZXJhdG9yLmJyYW5kID09PSByYXRpby5kZW5vbWluYXRvci5icmFuZCB8fFxuICAgIEZhaWxgb25lTWludXMgb25seSBzdXBwb3J0cyByYXRpb3Mgd2l0aCBhIHNpbmdsZSBicmFuZCwgYnV0ICR7cmF0aW8ubnVtZXJhdG9yLmJyYW5kfSBkb2Vzbid0IG1hdGNoICR7cmF0aW8uZGVub21pbmF0b3IuYnJhbmR9YDtcbiAgcmF0aW8ubnVtZXJhdG9yLnZhbHVlIDw9IHJhdGlvLmRlbm9taW5hdG9yLnZhbHVlIHx8XG4gICAgRmFpbGBQYXJhbWV0ZXIgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gMTogJHtyYXRpby5udW1lcmF0b3IudmFsdWV9LyR7cmF0aW8uZGVub21pbmF0b3IudmFsdWV9YDtcbiAgcmV0dXJuIG1ha2VSYXRpbyhcbiAgICBzdWJ0cmFjdChyYXRpby5kZW5vbWluYXRvci52YWx1ZSwgcmF0aW8ubnVtZXJhdG9yLnZhbHVlKSxcbiAgICByYXRpby5udW1lcmF0b3IuYnJhbmQsXG4gICAgcmF0aW8uZGVub21pbmF0b3IudmFsdWUsXG4gICAgcmF0aW8ubnVtZXJhdG9yLmJyYW5kLFxuICApO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5vbmVNaW51cyhvbmVNaW51cyk7XG4gICAgICAgY29uc3QgcmF0aW9HVEUgPSAobGVmdCwgcmlnaHQpID0+IHtcbiAgaWYgKGxlZnQubnVtZXJhdG9yLmJyYW5kID09PSByaWdodC5udW1lcmF0b3IuYnJhbmQpIHtcbiAgICBsZWZ0LmRlbm9taW5hdG9yLmJyYW5kID09PSByaWdodC5kZW5vbWluYXRvci5icmFuZCB8fFxuICAgICAgRmFpbGBudW1lcmF0b3IgYnJhbmRzIG1hdGNoLCBidXQgZGVub21pbmF0b3IgYnJhbmRzIGRvbid0OiAke3EobGVmdCl9ICR7cShcbiAgICAgICAgcmlnaHQsXG4gICAgICApfWA7XG4gIH0gZWxzZSBpZiAobGVmdC5udW1lcmF0b3IuYnJhbmQgPT09IGxlZnQuZGVub21pbmF0b3IuYnJhbmQpIHtcbiAgICByaWdodC5udW1lcmF0b3IuYnJhbmQgPT09IHJpZ2h0LmRlbm9taW5hdG9yLmJyYW5kIHx8XG4gICAgICBGYWlsYGxlZnRoYW5kIGJyYW5kcyBtYXRjaCwgYnV0IHJpZ2h0aGFuZCBicmFuZHMgZG9uJ3Q6ICR7cShsZWZ0KX0gJHtxKFxuICAgICAgICByaWdodCxcbiAgICAgICl9YDtcbiAgfVxuICByZXR1cm4gbmF0U2FmZU1hdGguaXNHVEUoXG4gICAgbXVsdGlwbHkobGVmdC5udW1lcmF0b3IudmFsdWUsIHJpZ2h0LmRlbm9taW5hdG9yLnZhbHVlKSxcbiAgICBtdWx0aXBseShyaWdodC5udW1lcmF0b3IudmFsdWUsIGxlZnQuZGVub21pbmF0b3IudmFsdWUpLFxuICApO1xufTtcblxuLypcblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5yYXRpb0dURShyYXRpb0dURSk7XG4gICAgICAgY29uc3QgcmF0aW9zU2FtZSA9IChsZWZ0LCByaWdodCkgPT4ge1xuICByZXR1cm4gKFxuICAgIEFtb3VudE1hdGguaXNFcXVhbChsZWZ0Lm51bWVyYXRvciwgcmlnaHQubnVtZXJhdG9yKSAmJlxuICAgIEFtb3VudE1hdGguaXNFcXVhbChsZWZ0LmRlbm9taW5hdG9yLCByaWdodC5kZW5vbWluYXRvcilcbiAgKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5yYXRpb3NTYW1lKHJhdGlvc1NhbWUpO1xuICAgICAgIGNvbnN0IHF1YW50aXplID0gKHJhdGlvLCBuZXdEZW4pID0+IHtcbiAgY29uc3Qgb2xkRGVuID0gcmF0aW8uZGVub21pbmF0b3IudmFsdWU7XG4gIGNvbnN0IG9sZE51bSA9IHJhdGlvLm51bWVyYXRvci52YWx1ZTtcbiAgaWYgKG5ld0RlbiA+IG9sZERlbikge1xuICAgIHJldHVybiByYXRpbztcbiAgfVxuXG4gIGNvbnN0IG5ld051bSA9XG4gICAgbmV3RGVuID09PSBvbGREZW4gPyBvbGROdW0gOiBiYW5rZXJzRGl2aWRlKG9sZE51bSAqIG5ld0Rlbiwgb2xkRGVuKTtcbiAgcmV0dXJuIG1ha2VSYXRpbyhcbiAgICBuZXdOdW0sXG4gICAgcmF0aW8ubnVtZXJhdG9yLmJyYW5kLFxuICAgIG5ld0RlbixcbiAgICByYXRpby5kZW5vbWluYXRvci5icmFuZCxcbiAgKTtcbn07JGjNj19vbmNlLnF1YW50aXplKHF1YW50aXplKTtcblxuY29uc3QgTlVNRVJJQ19SRSA9IC9eKFxcZFxcZCopKD86XFwuKFxcZCopKT8kLztcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcGFyc2VSYXRpbyA9IChcbiAgbnVtZXJpYyxcbiAgbnVtZXJhdG9yQnJhbmQsXG4gIGRlbm9taW5hdG9yQnJhbmQgPSBudW1lcmF0b3JCcmFuZCxcbikgPT4ge1xuICBjb25zdCBtYXRjaCA9IGAke251bWVyaWN9YC5tYXRjaChOVU1FUklDX1JFKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHRocm93IEZhaWxgSW52YWxpZCBudW1lcmljIGRhdGE6ICR7bnVtZXJpY31gO1xuICB9XG5cbiAgY29uc3QgW18sIHdob2xlLCBwYXJ0ID0gJyddID0gbWF0Y2g7XG4gIHJldHVybiBtYWtlUmF0aW8oXG4gICAgQmlnSW50KGAke3dob2xlfSR7cGFydH1gKSxcbiAgICBudW1lcmF0b3JCcmFuZCxcbiAgICAxMG4gKiogQmlnSW50KHBhcnQubGVuZ3RoKSxcbiAgICBkZW5vbWluYXRvckJyYW5kLFxuICApO1xufTtcblxuLypcblxuXG4gKi8kaM2PX29uY2UucGFyc2VSYXRpbyhwYXJzZVJhdGlvKTtcbiAgICAgICBjb25zdCBhc3NlcnRQYXJzYWJsZU51bWJlciA9IHNwZWNpbWVuID0+IHtcbiAgY29uc3QgbWF0Y2ggPSBgJHtzcGVjaW1lbn1gLm1hdGNoKE5VTUVSSUNfUkUpO1xuICBtYXRjaCB8fCBGYWlsYEludmFsaWQgbnVtZXJpYyBkYXRhOiAke3NwZWNpbWVufWA7XG59O1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UuYXNzZXJ0UGFyc2FibGVOdW1iZXIoYXNzZXJ0UGFyc2FibGVOdW1iZXIpO1xuICAgICAgIGNvbnN0IHJhdGlvVG9OdW1iZXIgPSByYXRpbyA9PiB7XG4gIGNvbnN0IG4gPSBOdW1iZXIocmF0aW8ubnVtZXJhdG9yLnZhbHVlKTtcbiAgY29uc3QgZCA9IE51bWJlcihyYXRpby5kZW5vbWluYXRvci52YWx1ZSk7XG4gIHJldHVybiBuIC8gZDtcbn07JGjNj19vbmNlLnJhdGlvVG9OdW1iZXIocmF0aW9Ub051bWJlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJhc3NlcnRJc1JhdGlvIjpbImFzc2VydElzUmF0aW8iXSwibWFrZVJhdGlvIjpbIm1ha2VSYXRpbyJdLCJtYWtlUmF0aW9Gcm9tQW1vdW50cyI6WyJtYWtlUmF0aW9Gcm9tQW1vdW50cyJdLCJmbG9vck11bHRpcGx5QnkiOlsiZmxvb3JNdWx0aXBseUJ5Il0sImNlaWxNdWx0aXBseUJ5IjpbImNlaWxNdWx0aXBseUJ5Il0sIm11bHRpcGx5QnkiOlsibXVsdGlwbHlCeSJdLCJmbG9vckRpdmlkZUJ5IjpbImZsb29yRGl2aWRlQnkiXSwiY2VpbERpdmlkZUJ5IjpbImNlaWxEaXZpZGVCeSJdLCJkaXZpZGVCeSI6WyJkaXZpZGVCeSJdLCJpbnZlcnRSYXRpbyI6WyJpbnZlcnRSYXRpbyJdLCJhZGRSYXRpb3MiOlsiYWRkUmF0aW9zIl0sInN1YnRyYWN0UmF0aW9zIjpbInN1YnRyYWN0UmF0aW9zIl0sIm11bHRpcGx5UmF0aW9zIjpbIm11bHRpcGx5UmF0aW9zIl0sIm9uZU1pbnVzIjpbIm9uZU1pbnVzIl0sInJhdGlvR1RFIjpbInJhdGlvR1RFIl0sInJhdGlvc1NhbWUiOlsicmF0aW9zU2FtZSJdLCJxdWFudGl6ZSI6WyJxdWFudGl6ZSJdLCJwYXJzZVJhdGlvIjpbInBhcnNlUmF0aW8iXSwiYXNzZXJ0UGFyc2FibGVOdW1iZXIiOlsiYXNzZXJ0UGFyc2FibGVOdW1iZXIiXSwicmF0aW9Ub051bWJlciI6WyJyYXRpb1RvTnVtYmVyIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAADW7UdqYBQAAmAUAACQAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvc2FmZU1hdGguanN7ImltcG9ydHMiOlsiQGVuZG8vbmF0Il0sImV4cG9ydHMiOlsibmF0U2FmZU1hdGgiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBOYXQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9uYXRcIiwgW1tcIk5hdFwiLFskaM2PX2EgPT4gKE5hdCA9ICRozY9fYSldXV1dXSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbmF0U2FmZU1hdGggPSBoYXJkZW4oe1xuICAvKiAgICAgICAgICAgICAgICAqL1xuICAvL1xuICBhZGQ6ICh4LCB5KSA9PiBOYXQoeCkgKyBOYXQoeSksXG4gIC8qICAgICAgICAgICAgICAgICovXG4gIHN1YnRyYWN0OiAoeCwgeSkgPT4gTmF0KE5hdCh4KSAtIE5hdCh5KSksXG4gIC8qICAgICAgICAgICAgICAgICovXG4gIG11bHRpcGx5OiAoeCwgeSkgPT4gTmF0KHgpICogTmF0KHkpLFxuICAvKiAgICAgICAgICAgICAgICAqL1xuICBmbG9vckRpdmlkZTogKHgsIHkpID0+IE5hdCh4KSAvIE5hdCh5KSxcbiAgLyogICAgICAgICAgICAgICAgKi9cbiAgY2VpbERpdmlkZTogKHgsIHkpID0+IHtcbiAgICB5ID0gTmF0KHkpO1xuICAgIHJldHVybiBOYXQoTmF0KHgpICsgeSAtIDFuKSAvIHk7XG4gIH0sXG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGJhbmtlcnNEaXZpZGU6IChhLCBiKSA9PiB7XG4gICAgYSA9IE5hdChhKTtcbiAgICBiID0gTmF0KGIpO1xuXG4gICAgY29uc3QgZGl2ID0gYSAvIGI7XG4gICAgY29uc3QgcmVtID0gYSAlIGI7XG4gICAgLy9cbiAgICBpZiAocmVtICogMm4gPiBiKSB7XG4gICAgICByZXR1cm4gZGl2ICsgMW47XG4gICAgfSBlbHNlIGlmIChyZW0gKiAybiA9PT0gYikge1xuICAgICAgLy9cbiAgICAgIGlmIChkaXYgJSAybiA9PT0gMW4pIHJldHVybiBkaXYgKyAxbjtcbiAgICB9XG4gICAgcmV0dXJuIGRpdjtcbiAgfSxcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGlzR1RFOiAoeCwgeSkgPT4gTmF0KHgpID49IE5hdCh5KSxcbn0pOyRozY9fb25jZS5uYXRTYWZlTWF0aChuYXRTYWZlTWF0aCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJuYXRTYWZlTWF0aCI6WyJuYXRTYWZlTWF0aCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABNlMZDMgYAADIGAAAtAAAAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL3RyYW5zaWVudE5vdGlmaWVyLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvdmF0LWRhdGEiLCJAYWdvcmljL3N0b3JlIiwiQGFnb3JpYy9ub3RpZmllciJdLCJleHBvcnRzIjpbIm1ha2VUcmFuc2llbnROb3RpZmllcktpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VTY2FsYXJCaWdXZWFrTWFwU3RvcmUscHJvdmlkZUxhenksbWFrZU5vdGlmaWVyS2l0OyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wibWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZVwiLFskaM2PX2EgPT4gKG1ha2VTY2FsYXJCaWdXZWFrTWFwU3RvcmUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJwcm92aWRlTGF6eVwiLFskaM2PX2EgPT4gKHByb3ZpZGVMYXp5ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9ub3RpZmllclwiLCBbW1wibWFrZU5vdGlmaWVyS2l0XCIsWyRozY9fYSA9PiAobWFrZU5vdGlmaWVyS2l0ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG4vL1xuLy9cbiAgICAgICBjb25zdCBtYWtlVHJhbnNpZW50Tm90aWZpZXJLaXQgPSAoKSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgdHJhbnNpZW50Tm90aWZlcktpdHMgPSBtYWtlU2NhbGFyQmlnV2Vha01hcFN0b3JlKFxuICAgICd0cmFuc2llbnROb3RpZmVyS2l0cycsXG4gICk7XG5cbiAgY29uc3QgcHJvdmlkZU5vdGlmaWVyS2l0ID0ga2V5ID0+XG4gICAgcHJvdmlkZUxhenkodHJhbnNpZW50Tm90aWZlcktpdHMsIGtleSwgKCkgPT5cbiAgICAgIG1ha2VOb3RpZmllcktpdChrZXkuZ2V0Q3VycmVudEFtb3VudCgpKSxcbiAgICApO1xuXG4gIGNvbnN0IHByb3ZpZGVOb3RpZmllciA9IGtleSA9PiBwcm92aWRlTm90aWZpZXJLaXQoa2V5KS5ub3RpZmllcjtcbiAgY29uc3QgdXBkYXRlID0gKGtleSwgbmV3VmFsdWUpID0+IHtcbiAgICBpZiAodHJhbnNpZW50Tm90aWZlcktpdHMuaGFzKGtleSkpIHtcbiAgICAgIGNvbnN0IHsgdXBkYXRlciB9ID0gdHJhbnNpZW50Tm90aWZlcktpdHMuZ2V0KGtleSk7XG4gICAgICB1cGRhdGVyLnVwZGF0ZVN0YXRlKG5ld1ZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHsgcHJvdmlkZU5vdGlmaWVyLCB1cGRhdGUgfTtcbn07JGjNj19vbmNlLm1ha2VUcmFuc2llbnROb3RpZmllcktpdChtYWtlVHJhbnNpZW50Tm90aWZpZXJLaXQpO1xuaGFyZGVuKG1ha2VUcmFuc2llbnROb3RpZmllcktpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlVHJhbnNpZW50Tm90aWZpZXJLaXQiOlsibWFrZVRyYW5zaWVudE5vdGlmaWVyS2l0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAHAbIY50GgAAdBoAACYAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvdHlwZUd1YXJkcy5qc3siaW1wb3J0cyI6WyJAZW5kby9wYXR0ZXJucyJdLCJleHBvcnRzIjpbIkFtb3VudFBhdHRlcm5TaGFwZSIsIkFtb3VudFNoYXBlIiwiQXNzZXRLaW5kU2hhcGUiLCJCcmFuZEkiLCJCcmFuZFNoYXBlIiwiRGVwb3NpdEZhY2V0U2hhcGUiLCJEaXNwbGF5SW5mb1NoYXBlIiwiSXNzdWVyS2l0U2hhcGUiLCJJc3N1ZXJTaGFwZSIsIk1BWF9BQlNPTFVURV9ERUNJTUFMX1BMQUNFUyIsIk1pbnRTaGFwZSIsIk5vdGlmaWVyU2hhcGUiLCJQYXltZW50U2hhcGUiLCJQdXJzZVNoYXBlIiwiUmF0aW9TaGFwZSIsImlzQ29weUJhZ1ZhbHVlIiwiaXNDb3B5U2V0VmFsdWUiLCJpc05hdFZhbHVlIiwiaXNTZXRWYWx1ZSIsIm1ha2VJc3N1ZXJJbnRlcmZhY2VzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgTSxtYXRjaGVzLGdldEludGVyZmFjZUd1YXJkUGF5bG9hZDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXSxbXCJtYXRjaGVzXCIsWyRozY9fYSA9PiAobWF0Y2hlcyA9ICRozY9fYSldXSxbXCJnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWRcIixbJGjNj19hID0+IChnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQgPSAkaM2PX2EpXV1dXV0pO1xuXG5cbi8qXG5cblxuXG4gKi9cblxuICAgICAgIGNvbnN0IEJyYW5kU2hhcGUgPSBNLnJlbW90YWJsZSgnQnJhbmQnKTskaM2PX29uY2UuQnJhbmRTaGFwZShCcmFuZFNoYXBlKTtcbiAgICAgICBjb25zdCBJc3N1ZXJTaGFwZSA9IE0ucmVtb3RhYmxlKCdJc3N1ZXInKTskaM2PX29uY2UuSXNzdWVyU2hhcGUoSXNzdWVyU2hhcGUpO1xuICAgICAgIGNvbnN0IFBheW1lbnRTaGFwZSA9IE0ucmVtb3RhYmxlKCdQYXltZW50Jyk7JGjNj19vbmNlLlBheW1lbnRTaGFwZShQYXltZW50U2hhcGUpO1xuICAgICAgIGNvbnN0IFB1cnNlU2hhcGUgPSBNLnJlbW90YWJsZSgnUHVyc2UnKTskaM2PX29uY2UuUHVyc2VTaGFwZShQdXJzZVNoYXBlKTtcbiAgICAgICBjb25zdCBEZXBvc2l0RmFjZXRTaGFwZSA9IE0ucmVtb3RhYmxlKCdEZXBvc2l0RmFjZXQnKTskaM2PX29uY2UuRGVwb3NpdEZhY2V0U2hhcGUoRGVwb3NpdEZhY2V0U2hhcGUpO1xuICAgICAgIGNvbnN0IE5vdGlmaWVyU2hhcGUgPSBNLnJlbW90YWJsZSgnTm90aWZpZXInKTskaM2PX29uY2UuTm90aWZpZXJTaGFwZShOb3RpZmllclNoYXBlKTtcbiAgICAgICBjb25zdCBNaW50U2hhcGUgPSBNLnJlbW90YWJsZSgnTWludCcpO1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UuTWludFNoYXBlKE1pbnRTaGFwZSk7XG5jb25zdCBOYXRWYWx1ZVNoYXBlID0gTS5uYXQoKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IENvcHlTZXRWYWx1ZVNoYXBlID0gTS5zZXQoKTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IFNldFZhbHVlU2hhcGUgPSBNLmFycmF5T2YoTS5rZXkoKSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IENvcHlCYWdWYWx1ZVNoYXBlID0gTS5iYWcoKTtcblxuY29uc3QgQW1vdW50VmFsdWVTaGFwZSA9IE0ub3IoXG4gIE5hdFZhbHVlU2hhcGUsXG4gIENvcHlTZXRWYWx1ZVNoYXBlLFxuICBTZXRWYWx1ZVNoYXBlLFxuICBDb3B5QmFnVmFsdWVTaGFwZSxcbik7XG5cbiAgICAgICBjb25zdCBBbW91bnRTaGFwZSA9IHsgYnJhbmQ6IEJyYW5kU2hhcGUsIHZhbHVlOiBBbW91bnRWYWx1ZVNoYXBlIH07JGjNj19vbmNlLkFtb3VudFNoYXBlKEFtb3VudFNoYXBlKTtcbmhhcmRlbihBbW91bnRTaGFwZSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBBbW91bnRQYXR0ZXJuU2hhcGUgPSBNLnBhdHRlcm4oKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5BbW91bnRQYXR0ZXJuU2hhcGUoQW1vdW50UGF0dGVyblNoYXBlKTtcbiAgICAgICBjb25zdCBSYXRpb1NoYXBlID0geyBudW1lcmF0b3I6IEFtb3VudFNoYXBlLCBkZW5vbWluYXRvcjogQW1vdW50U2hhcGUgfTskaM2PX29uY2UuUmF0aW9TaGFwZShSYXRpb1NoYXBlKTtcbmhhcmRlbihSYXRpb1NoYXBlKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNOYXRWYWx1ZSA9IHZhbHVlID0+IG1hdGNoZXModmFsdWUsIE5hdFZhbHVlU2hhcGUpOyRozY9fb25jZS5pc05hdFZhbHVlKGlzTmF0VmFsdWUpO1xuaGFyZGVuKGlzTmF0VmFsdWUpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBpc0NvcHlTZXRWYWx1ZSA9IHZhbHVlID0+IG1hdGNoZXModmFsdWUsIENvcHlTZXRWYWx1ZVNoYXBlKTskaM2PX29uY2UuaXNDb3B5U2V0VmFsdWUoaXNDb3B5U2V0VmFsdWUpO1xuaGFyZGVuKGlzQ29weVNldFZhbHVlKTtcblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNTZXRWYWx1ZSA9IHZhbHVlID0+IG1hdGNoZXModmFsdWUsIFNldFZhbHVlU2hhcGUpOyRozY9fb25jZS5pc1NldFZhbHVlKGlzU2V0VmFsdWUpO1xuaGFyZGVuKGlzU2V0VmFsdWUpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBpc0NvcHlCYWdWYWx1ZSA9IHZhbHVlID0+IG1hdGNoZXModmFsdWUsIENvcHlCYWdWYWx1ZVNoYXBlKTskaM2PX29uY2UuaXNDb3B5QmFnVmFsdWUoaXNDb3B5QmFnVmFsdWUpO1xuaGFyZGVuKGlzQ29weUJhZ1ZhbHVlKTtcblxuLy9cbiAgICAgICBjb25zdCBNQVhfQUJTT0xVVEVfREVDSU1BTF9QTEFDRVMgPSAxMDA7JGjNj19vbmNlLk1BWF9BQlNPTFVURV9ERUNJTUFMX1BMQUNFUyhNQVhfQUJTT0xVVEVfREVDSU1BTF9QTEFDRVMpO1xuXG4gICAgICAgY29uc3QgQXNzZXRLaW5kU2hhcGUgPSBNLm9yKCduYXQnLCAnc2V0JywgJ2NvcHlTZXQnLCAnY29weUJhZycpOyRozY9fb25jZS5Bc3NldEtpbmRTaGFwZShBc3NldEtpbmRTaGFwZSk7XG5cbiAgICAgICBjb25zdCBEaXNwbGF5SW5mb1NoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge30sXG4gIHtcbiAgICBkZWNpbWFsUGxhY2VzOiBNLmFuZChcbiAgICAgIE0uZ3RlKC1NQVhfQUJTT0xVVEVfREVDSU1BTF9QTEFDRVMpLFxuICAgICAgTS5sdGUoTUFYX0FCU09MVVRFX0RFQ0lNQUxfUExBQ0VTKSxcbiAgICApLFxuICAgIGFzc2V0S2luZDogQXNzZXRLaW5kU2hhcGUsXG4gIH0sXG4gIHtcbiAgICAvL1xuICAgIC8vXG4gIH0sXG4pOyRozY9fb25jZS5EaXNwbGF5SW5mb1NoYXBlKERpc3BsYXlJbmZvU2hhcGUpO1xuXG4gICAgICAgY29uc3QgSXNzdWVyS2l0U2hhcGUgPSB7XG4gIGJyYW5kOiBCcmFuZFNoYXBlLFxuICBtaW50OiBNaW50U2hhcGUsXG4gIG1pbnRSZWNvdmVyeVB1cnNlOiBQdXJzZVNoYXBlLFxuICBpc3N1ZXI6IElzc3VlclNoYXBlLFxuICBkaXNwbGF5SW5mbzogRGlzcGxheUluZm9TaGFwZSxcbn07JGjNj19vbmNlLklzc3VlcktpdFNoYXBlKElzc3VlcktpdFNoYXBlKTtcbmhhcmRlbihJc3N1ZXJLaXRTaGFwZSk7XG5cbi8vXG5cbiAgICAgICBjb25zdCBCcmFuZEkgPSBNLmludGVyZmFjZSgnQnJhbmQnLCB7XG4gIGlzTXlJc3N1ZXI6IE0uY2FsbFdoZW4oTS5hd2FpdChJc3N1ZXJTaGFwZSkpLnJldHVybnMoTS5ib29sZWFuKCkpLFxuICBnZXRBbGxlZ2VkTmFtZTogTS5jYWxsKCkucmV0dXJucyhNLnN0cmluZygpKSxcbiAgZ2V0RGlzcGxheUluZm86IE0uY2FsbCgpLnJldHVybnMoRGlzcGxheUluZm9TaGFwZSksXG4gIGdldEFtb3VudFNoYXBlOiBNLmNhbGwoKS5yZXR1cm5zKE0ucGF0dGVybigpKSxcbn0pO1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLkJyYW5kSShCcmFuZEkpO1xuICAgICAgIGNvbnN0IG1ha2VJc3N1ZXJJbnRlcmZhY2VzID0gKFxuICBicmFuZFNoYXBlID0gQnJhbmRTaGFwZSxcbiAgYXNzZXRLaW5kU2hhcGUgPSBBc3NldEtpbmRTaGFwZSxcbiAgYW1vdW50U2hhcGUgPSBBbW91bnRTaGFwZSxcbikgPT4ge1xuICBjb25zdCBJc3N1ZXJJID0gTS5pbnRlcmZhY2UoJ0lzc3VlcicsIHtcbiAgICBnZXRCcmFuZDogTS5jYWxsKCkucmV0dXJucyhicmFuZFNoYXBlKSxcbiAgICBnZXRBbGxlZ2VkTmFtZTogTS5jYWxsKCkucmV0dXJucyhNLnN0cmluZygpKSxcbiAgICBnZXRBc3NldEtpbmQ6IE0uY2FsbCgpLnJldHVybnMoYXNzZXRLaW5kU2hhcGUpLFxuICAgIGdldERpc3BsYXlJbmZvOiBNLmNhbGwoKS5yZXR1cm5zKERpc3BsYXlJbmZvU2hhcGUpLFxuICAgIG1ha2VFbXB0eVB1cnNlOiBNLmNhbGwoKS5yZXR1cm5zKFB1cnNlU2hhcGUpLFxuXG4gICAgaXNMaXZlOiBNLmNhbGxXaGVuKE0uYXdhaXQoUGF5bWVudFNoYXBlKSkucmV0dXJucyhNLmJvb2xlYW4oKSksXG4gICAgZ2V0QW1vdW50T2Y6IE0uY2FsbFdoZW4oTS5hd2FpdChQYXltZW50U2hhcGUpKS5yZXR1cm5zKGFtb3VudFNoYXBlKSxcbiAgICBidXJuOiBNLmNhbGxXaGVuKE0uYXdhaXQoUGF5bWVudFNoYXBlKSlcbiAgICAgIC5vcHRpb25hbChBbW91bnRQYXR0ZXJuU2hhcGUpXG4gICAgICAucmV0dXJucyhhbW91bnRTaGFwZSksXG4gIH0pO1xuXG4gIGNvbnN0IE1pbnRJID0gTS5pbnRlcmZhY2UoJ01pbnQnLCB7XG4gICAgZ2V0SXNzdWVyOiBNLmNhbGwoKS5yZXR1cm5zKElzc3VlclNoYXBlKSxcbiAgICBtaW50UGF5bWVudDogTS5jYWxsKGFtb3VudFNoYXBlKS5yZXR1cm5zKFBheW1lbnRTaGFwZSksXG4gIH0pO1xuXG4gIGNvbnN0IFBheW1lbnRJID0gTS5pbnRlcmZhY2UoJ1BheW1lbnQnLCB7XG4gICAgZ2V0QWxsZWdlZEJyYW5kOiBNLmNhbGwoKS5yZXR1cm5zKGJyYW5kU2hhcGUpLFxuICB9KTtcblxuICBjb25zdCBQdXJzZUkgPSBNLmludGVyZmFjZSgnUHVyc2UnLCB7XG4gICAgZ2V0QWxsZWdlZEJyYW5kOiBNLmNhbGwoKS5yZXR1cm5zKGJyYW5kU2hhcGUpLFxuICAgIGdldEN1cnJlbnRBbW91bnQ6IE0uY2FsbCgpLnJldHVybnMoYW1vdW50U2hhcGUpLFxuICAgIGdldEN1cnJlbnRBbW91bnROb3RpZmllcjogTS5jYWxsKCkucmV0dXJucyhOb3RpZmllclNoYXBlKSxcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGRlcG9zaXQ6IE0uY2FsbChQYXltZW50U2hhcGUpXG4gICAgICAub3B0aW9uYWwoQW1vdW50UGF0dGVyblNoYXBlKVxuICAgICAgLnJldHVybnMoYW1vdW50U2hhcGUpLFxuICAgIGdldERlcG9zaXRGYWNldDogTS5jYWxsKCkucmV0dXJucyhEZXBvc2l0RmFjZXRTaGFwZSksXG4gICAgd2l0aGRyYXc6IE0uY2FsbChhbW91bnRTaGFwZSkucmV0dXJucyhQYXltZW50U2hhcGUpLFxuICAgIGdldFJlY292ZXJ5U2V0OiBNLmNhbGwoKS5yZXR1cm5zKE0uc2V0T2YoUGF5bWVudFNoYXBlKSksXG4gICAgcmVjb3ZlckFsbDogTS5jYWxsKCkucmV0dXJucyhhbW91bnRTaGFwZSksXG4gIH0pO1xuXG4gIGNvbnN0IERlcG9zaXRGYWNldEkgPSBNLmludGVyZmFjZSgnRGVwb3NpdEZhY2V0Jywge1xuICAgIHJlY2VpdmU6IGdldEludGVyZmFjZUd1YXJkUGF5bG9hZChQdXJzZUkpLm1ldGhvZEd1YXJkcy5kZXBvc2l0LFxuICB9KTtcblxuICBjb25zdCBQdXJzZUlLaXQgPSB7XG4gICAgcHVyc2U6IFB1cnNlSSxcbiAgICBkZXBvc2l0RmFjZXQ6IERlcG9zaXRGYWNldEksXG4gIH07XG4gIGhhcmRlbihQdXJzZUlLaXQpO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIElzc3VlckksXG4gICAgTWludEksXG4gICAgUGF5bWVudEksXG4gICAgUHVyc2VJS2l0LFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VJc3N1ZXJJbnRlcmZhY2VzKG1ha2VJc3N1ZXJJbnRlcmZhY2VzKTtcbmhhcmRlbihtYWtlSXNzdWVySW50ZXJmYWNlcyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJCcmFuZFNoYXBlIjpbIkJyYW5kU2hhcGUiXSwiSXNzdWVyU2hhcGUiOlsiSXNzdWVyU2hhcGUiXSwiUGF5bWVudFNoYXBlIjpbIlBheW1lbnRTaGFwZSJdLCJQdXJzZVNoYXBlIjpbIlB1cnNlU2hhcGUiXSwiRGVwb3NpdEZhY2V0U2hhcGUiOlsiRGVwb3NpdEZhY2V0U2hhcGUiXSwiTm90aWZpZXJTaGFwZSI6WyJOb3RpZmllclNoYXBlIl0sIk1pbnRTaGFwZSI6WyJNaW50U2hhcGUiXSwiQW1vdW50U2hhcGUiOlsiQW1vdW50U2hhcGUiXSwiQW1vdW50UGF0dGVyblNoYXBlIjpbIkFtb3VudFBhdHRlcm5TaGFwZSJdLCJSYXRpb1NoYXBlIjpbIlJhdGlvU2hhcGUiXSwiaXNOYXRWYWx1ZSI6WyJpc05hdFZhbHVlIl0sImlzQ29weVNldFZhbHVlIjpbImlzQ29weVNldFZhbHVlIl0sImlzU2V0VmFsdWUiOlsiaXNTZXRWYWx1ZSJdLCJpc0NvcHlCYWdWYWx1ZSI6WyJpc0NvcHlCYWdWYWx1ZSJdLCJNQVhfQUJTT0xVVEVfREVDSU1BTF9QTEFDRVMiOlsiTUFYX0FCU09MVVRFX0RFQ0lNQUxfUExBQ0VTIl0sIkFzc2V0S2luZFNoYXBlIjpbIkFzc2V0S2luZFNoYXBlIl0sIkRpc3BsYXlJbmZvU2hhcGUiOlsiRGlzcGxheUluZm9TaGFwZSJdLCJJc3N1ZXJLaXRTaGFwZSI6WyJJc3N1ZXJLaXRTaGFwZSJdLCJCcmFuZEkiOlsiQnJhbmRJIl0sIm1ha2VJc3N1ZXJJbnRlcmZhY2VzIjpbIm1ha2VJc3N1ZXJJbnRlcmZhY2VzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEXM//FYAQAAWAEAACcAAABAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvdHlwZXMtaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA+4NNsokdAACJHQAAJwAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9jYWxsYmFjay5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9mYXIiLCJAZW5kby9tYXJzaGFsIiwiQGVuZG8vcGF0dGVybnMiXSwiZXhwb3J0cyI6WyJjYWxsRSIsImNhbGxTeW5jIiwiaXNDYWxsYmFjayIsIm1ha2VGdW5jdGlvbkNhbGxiYWNrIiwibWFrZU1ldGhvZENhbGxiYWNrIiwibWFrZVN5bmNGdW5jdGlvbkNhbGxiYWNrIiwibWFrZVN5bmNNZXRob2RDYWxsYmFjayIsInByZXBhcmVBdHRlbnVhdG9yIiwicHJlcGFyZUd1YXJkZWRBdHRlbnVhdG9yIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxtYWtlRXJyb3IscSxFLGlzT2JqZWN0LGlzUGFzc2FibGVTeW1ib2wsZ2V0SW50ZXJmYWNlTWV0aG9kS2V5czskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL21hcnNoYWxcIiwgW1tcImlzT2JqZWN0XCIsWyRozY9fYSA9PiAoaXNPYmplY3QgPSAkaM2PX2EpXV0sW1wiaXNQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKGlzUGFzc2FibGVTeW1ib2wgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiZ2V0SW50ZXJmYWNlTWV0aG9kS2V5c1wiLFskaM2PX2EgPT4gKGdldEludGVyZmFjZU1ldGhvZEtleXMgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgeyBmcm9tRW50cmllcyB9ID0gT2JqZWN0O1xuXG5jb25zdCB7IG93bktleXM6IHJhd093bktleXMgfSA9IFJlZmxlY3Q7XG5jb25zdCBvd25LZXlzID1cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgIHJhd093bktleXNcbiAgKTtcblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGlzUHJvcGVydHlLZXkgPSBrZXkgPT4ge1xuICBzd2l0Y2ggKHR5cGVvZiBrZXkpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjYWxsU3luYyA9IChjYWxsYmFjaywgLi4uYXJncykgPT4ge1xuICBjb25zdCB7IHRhcmdldCwgbWV0aG9kTmFtZSwgYm91bmQgfSA9IGNhbGxiYWNrO1xuICBpZiAobWV0aG9kTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRhcmdldCguLi5ib3VuZCwgLi4uYXJncyk7XG4gIH1cbiAgcmV0dXJuIHRhcmdldFttZXRob2ROYW1lXSguLi5ib3VuZCwgLi4uYXJncyk7XG59OyRozY9fb25jZS5jYWxsU3luYyhjYWxsU3luYyk7XG5oYXJkZW4oY2FsbFN5bmMpO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgY2FsbEUgPSAoY2FsbGJhY2ssIC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgeyB0YXJnZXQsIG1ldGhvZE5hbWUsIGJvdW5kIH0gPSBjYWxsYmFjaztcbiAgaWYgKG1ldGhvZE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBFKHRhcmdldCkoLi4uYm91bmQsIC4uLmFyZ3MpO1xuICB9XG4gIHJldHVybiBFKHRhcmdldClbbWV0aG9kTmFtZV0oLi4uYm91bmQsIC4uLmFyZ3MpO1xufTskaM2PX29uY2UuY2FsbEUoY2FsbEUpO1xuaGFyZGVuKGNhbGxFKTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlU3luY0Z1bmN0aW9uQ2FsbGJhY2sgPSAodGFyZ2V0LCAuLi5ib3VuZCkgPT4ge1xuICB0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nIHx8XG4gICAgRmFpbGBzeW5jIGZ1bmN0aW9uIGNhbGxiYWNrIHRhcmdldCBtdXN0IGJlIGEgZnVuY3Rpb246ICR7dGFyZ2V0fWA7XG4gIC8qICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgY2IgPSBoYXJkZW4oeyB0YXJnZXQsIGJvdW5kLCBpc1N5bmM6IHRydWUgfSk7XG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGNiKTtcbn07JGjNj19vbmNlLm1ha2VTeW5jRnVuY3Rpb25DYWxsYmFjayhtYWtlU3luY0Z1bmN0aW9uQ2FsbGJhY2spO1xuaGFyZGVuKG1ha2VTeW5jRnVuY3Rpb25DYWxsYmFjayk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUZ1bmN0aW9uQ2FsbGJhY2sgPSAodGFyZ2V0LCAuLi5ib3VuZCkgPT4ge1xuICBpc09iamVjdCh0YXJnZXQpIHx8XG4gICAgRmFpbGBmdW5jdGlvbiBjYWxsYmFjayB0YXJnZXQgbXVzdCBiZSBhIGZ1bmN0aW9uIHByZXNlbmNlOiAke3RhcmdldH1gO1xuICAvKiAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGNiID0gaGFyZGVuKHsgdGFyZ2V0LCBib3VuZCB9KTtcbiAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICovIChjYik7XG59OyRozY9fb25jZS5tYWtlRnVuY3Rpb25DYWxsYmFjayhtYWtlRnVuY3Rpb25DYWxsYmFjayk7XG5oYXJkZW4obWFrZUZ1bmN0aW9uQ2FsbGJhY2spO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZVN5bmNNZXRob2RDYWxsYmFjayA9ICh0YXJnZXQsIG1ldGhvZE5hbWUsIC4uLmJvdW5kKSA9PiB7XG4gIGlzT2JqZWN0KHRhcmdldCkgfHxcbiAgICBGYWlsYHN5bmMgbWV0aG9kIGNhbGxiYWNrIHRhcmdldCBtdXN0IGJlIGFuIG9iamVjdDogJHt0YXJnZXR9YDtcbiAgdHlwZW9mIG1ldGhvZE5hbWUgPT09ICdzdHJpbmcnIHx8XG4gICAgaXNQYXNzYWJsZVN5bWJvbChtZXRob2ROYW1lKSB8fFxuICAgIEZhaWxgbWV0aG9kIG5hbWUgbXVzdCBiZSBhIHN0cmluZyBvciBwYXNzYWJsZSBzeW1ib2w6ICR7bWV0aG9kTmFtZX1gO1xuICAvKiAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGNiID0gaGFyZGVuKHsgdGFyZ2V0LCBtZXRob2ROYW1lLCBib3VuZCwgaXNTeW5jOiB0cnVlIH0pO1xuICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAgICAgICovIChjYik7XG59OyRozY9fb25jZS5tYWtlU3luY01ldGhvZENhbGxiYWNrKG1ha2VTeW5jTWV0aG9kQ2FsbGJhY2spO1xuaGFyZGVuKG1ha2VTeW5jTWV0aG9kQ2FsbGJhY2spO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZU1ldGhvZENhbGxiYWNrID0gKHRhcmdldCwgbWV0aG9kTmFtZSwgLi4uYm91bmQpID0+IHtcbiAgaXNPYmplY3QodGFyZ2V0KSB8fCBGYWlsYG1ldGhvZCBjYWxsYmFjayB0YXJnZXQgbXVzdCBiZSBhbiBvYmplY3Q6ICR7dGFyZ2V0fWA7XG4gIHR5cGVvZiBtZXRob2ROYW1lID09PSAnc3RyaW5nJyB8fFxuICAgIGlzUGFzc2FibGVTeW1ib2wobWV0aG9kTmFtZSkgfHxcbiAgICBGYWlsYG1ldGhvZCBuYW1lIG11c3QgYmUgYSBzdHJpbmcgb3IgcGFzc2FibGUgc3ltYm9sOiAke21ldGhvZE5hbWV9YDtcbiAgLyogICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBjYiA9IGhhcmRlbih7IHRhcmdldCwgbWV0aG9kTmFtZSwgYm91bmQgfSk7XG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAqLyAoY2IpO1xufTskaM2PX29uY2UubWFrZU1ldGhvZENhbGxiYWNrKG1ha2VNZXRob2RDYWxsYmFjayk7XG5oYXJkZW4obWFrZU1ldGhvZENhbGxiYWNrKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBpc0NhbGxiYWNrID0gY2FsbGJhY2sgPT4ge1xuICBpZiAoIWlzT2JqZWN0KGNhbGxiYWNrKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB7IHRhcmdldCwgbWV0aG9kTmFtZSwgYm91bmQgfSA9IGNhbGxiYWNrO1xuICByZXR1cm4gKFxuICAgIGlzT2JqZWN0KHRhcmdldCkgJiZcbiAgICAobWV0aG9kTmFtZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0eXBlb2YgbWV0aG9kTmFtZSA9PT0gJ3N0cmluZycgfHxcbiAgICAgIGlzUGFzc2FibGVTeW1ib2wobWV0aG9kTmFtZSkpICYmXG4gICAgQXJyYXkuaXNBcnJheShib3VuZClcbiAgKTtcbn07JGjNj19vbmNlLmlzQ2FsbGJhY2soaXNDYWxsYmFjayk7XG5oYXJkZW4oaXNDYWxsYmFjayk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlQXR0ZW51YXRvciA9IChcbiAgem9uZSxcbiAgbWV0aG9kTmFtZXMsXG4gIHsgaW50ZXJmYWNlR3VhcmQsIHRhZyA9ICdBdHRlbnVhdG9yJyB9ID0ge30sXG4pID0+IHtcbiAgLypcblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtZXRob2RzID0gLyogICAgICAgICAgICAgICAgICAqLyAoXG4gICAgZnJvbUVudHJpZXMoXG4gICAgICBtZXRob2ROYW1lcy5tYXAoa2V5ID0+IHtcbiAgICAgICAgLy9cbiAgICAgICAgaWYgKCFpc1Byb3BlcnR5S2V5KGtleSkpIHtcbiAgICAgICAgICB0aHJvdyBGYWlsYGtleSAke3Eoa2V5KX0gaXMgbm90IGEgUHJvcGVydHlLZXlgO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbSA9IC8qICAgICAgICAgICAgICAgICAgKi8gKHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLyogICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgW2tleV0oLi4uYXJncykge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGNvbnN0IGNiID0gdGhpcy5zdGF0ZS5jYnNba2V5XTtcbiAgICAgICAgICAgIGlmICghY2IpIHtcbiAgICAgICAgICAgICAgY29uc3QgZXJyID0gbWFrZUVycm9yKGB1bmltcGxlbWVudGVkICR7cSh0YWcpfSBtZXRob2QgJHtxKGtleSl9YCk7XG4gICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmlzU3luYykge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYi5pc1N5bmMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhbGxTeW5jKGNiLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYWxsRShjYiwgLi4uYXJncyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSlba2V5XTtcbiAgICAgICAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICovIChba2V5LCBtXSk7XG4gICAgICB9KSxcbiAgICApXG4gICk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlQXR0ZW51YXRvciA9IHpvbmUuZXhvQ2xhc3MoXG4gICAgdGFnLFxuICAgIGludGVyZmFjZUd1YXJkLFxuICAgIC8qXG5cblxuXG5cbiAgICAgKi9cbiAgICAoe1xuICAgICAgdGFyZ2V0ID0gbnVsbCxcbiAgICAgIGlzU3luYyA9IGZhbHNlLFxuICAgICAgb3ZlcnJpZGVzID0gLyogICAgICAgICAgICAgICAgICAgICovICh7fSksXG4gICAgfSkgPT4ge1xuICAgICAgY29uc3QgY2JzID0gLyogICAgICAgICAgICAgICAgICAgICovICh7fSk7XG5cbiAgICAgIGNvbnN0IHJlbWFpbmluZyA9IG5ldyBTZXQobWV0aG9kTmFtZXMpO1xuICAgICAgZm9yIChjb25zdCBrZXkgb2Ygb3duS2V5cyhvdmVycmlkZXMpKSB7XG4gICAgICAgIHJlbWFpbmluZy5oYXMoa2V5KSB8fFxuICAgICAgICAgIEZhaWxgJHtxKHRhZyl9IG92ZXJyaWRlc1ske3Eoa2V5KX1dIG5vdCBhbGxvd2VkIGJ5IG1ldGhvZE5hbWVzYDtcblxuICAgICAgICByZW1haW5pbmcuZGVsZXRlKGtleSk7XG4gICAgICAgIGNvbnN0IGNiID0gb3ZlcnJpZGVzW2tleV07XG4gICAgICAgIGNiID09IG51bGwgfHxcbiAgICAgICAgICBpc0NhbGxiYWNrKGNiKSB8fFxuICAgICAgICAgIEZhaWxgJHtxKHRhZyl9IG92ZXJyaWRlc1ske3Eoa2V5KX1dIGlzIG5vdCBhIGNhbGxiYWNrOyBnb3QgJHtjYn1gO1xuICAgICAgICBjYnNba2V5XSA9IGNiO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBrZXkgb2YgcmVtYWluaW5nKSB7XG4gICAgICAgIGlmIChpc1N5bmMpIHtcbiAgICAgICAgICBjYnNba2V5XSA9IG1ha2VTeW5jTWV0aG9kQ2FsbGJhY2sodGFyZ2V0LCBrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNic1trZXldID0gbWFrZU1ldGhvZENhbGxiYWNrKHRhcmdldCwga2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGhhcmRlbih7IGNicywgaXNTeW5jIH0pO1xuICAgIH0sXG4gICAgLyogICAgICAgICAgICAgICAgICAqLyAobWV0aG9kcyksXG4gICk7XG4gIHJldHVybiBtYWtlQXR0ZW51YXRvcjtcbn07JGjNj19vbmNlLnByZXBhcmVBdHRlbnVhdG9yKHByZXBhcmVBdHRlbnVhdG9yKTtcbmhhcmRlbihwcmVwYXJlQXR0ZW51YXRvcik7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVHdWFyZGVkQXR0ZW51YXRvciA9ICh6b25lLCBpbnRlcmZhY2VHdWFyZCwgb3B0cyA9IHt9KSA9PiB7XG4gIGNvbnN0IG1ldGhvZE5hbWVzID0gZ2V0SW50ZXJmYWNlTWV0aG9kS2V5cyhpbnRlcmZhY2VHdWFyZCk7XG4gIGNvbnN0IG1ha2VBdHRlbnVhdG9yID0gcHJlcGFyZUF0dGVudWF0b3Ioem9uZSwgbWV0aG9kTmFtZXMsIHtcbiAgICAuLi5vcHRzLFxuICAgIGludGVyZmFjZUd1YXJkLFxuICB9KTtcbiAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKG1ha2VBdHRlbnVhdG9yKTtcbn07JGjNj19vbmNlLnByZXBhcmVHdWFyZGVkQXR0ZW51YXRvcihwcmVwYXJlR3VhcmRlZEF0dGVudWF0b3IpO1xuaGFyZGVuKHByZXBhcmVHdWFyZGVkQXR0ZW51YXRvcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJjYWxsU3luYyI6WyJjYWxsU3luYyJdLCJjYWxsRSI6WyJjYWxsRSJdLCJtYWtlU3luY0Z1bmN0aW9uQ2FsbGJhY2siOlsibWFrZVN5bmNGdW5jdGlvbkNhbGxiYWNrIl0sIm1ha2VGdW5jdGlvbkNhbGxiYWNrIjpbIm1ha2VGdW5jdGlvbkNhbGxiYWNrIl0sIm1ha2VTeW5jTWV0aG9kQ2FsbGJhY2siOlsibWFrZVN5bmNNZXRob2RDYWxsYmFjayJdLCJtYWtlTWV0aG9kQ2FsbGJhY2siOlsibWFrZU1ldGhvZENhbGxiYWNrIl0sImlzQ2FsbGJhY2siOlsiaXNDYWxsYmFjayJdLCJwcmVwYXJlQXR0ZW51YXRvciI6WyJwcmVwYXJlQXR0ZW51YXRvciJdLCJwcmVwYXJlR3VhcmRlZEF0dGVudWF0b3IiOlsicHJlcGFyZUd1YXJkZWRBdHRlbnVhdG9yIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAM+yWuN2BgAAdgYAACUAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvY29uZmlnLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJCcmlkZ2VJZCIsIkNvc21vc0luaXRLZXlUb0JyaWRnZUlkIiwiVkJhbmtBY2NvdW50IiwiV2FsbGV0TmFtZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvL1xuLy9cblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgQnJpZGdlSWQgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICBCQU5LOiAnYmFuaycsXG4gIENPUkU6ICdjb3JlJyxcbiAgRElCQzogJ2RpYmMnLFxuICBTVE9SQUdFOiAnc3RvcmFnZScsXG4gIFBST1ZJU0lPTjogJ3Byb3Zpc2lvbicsXG4gIFBST1ZJU0lPTl9TTUFSVF9XQUxMRVQ6ICdwcm92aXNpb25XYWxsZXQnLFxuICBWTE9DQUxDSEFJTjogJ3Zsb2NhbGNoYWluJyxcbiAgVlRSQU5TRkVSOiAndnRyYW5zZmVyJyxcbiAgV0FMTEVUOiAnd2FsbGV0Jyxcbn0pOyRozY9fb25jZS5CcmlkZ2VJZChCcmlkZ2VJZCk7XG5oYXJkZW4oQnJpZGdlSWQpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IENvc21vc0luaXRLZXlUb0JyaWRnZUlkID0ge1xuICB2YmFua1BvcnQ6ICdiYW5rJyxcbiAgdmliY1BvcnQ6ICdkaWJjJyxcbn07JGjNj19vbmNlLkNvc21vc0luaXRLZXlUb0JyaWRnZUlkKENvc21vc0luaXRLZXlUb0JyaWRnZUlkKTtcbmhhcmRlbihDb3Ntb3NJbml0S2V5VG9CcmlkZ2VJZCk7XG5cbiAgICAgICBjb25zdCBXYWxsZXROYW1lID0gLyogICAgICAgICAgICAgICAgKi8gKHtcbiAgZGVwb3NpdEZhY2V0OiAnZGVwb3NpdEZhY2V0Jyxcbn0pOyRozY9fb25jZS5XYWxsZXROYW1lKFdhbGxldE5hbWUpO1xuaGFyZGVuKFdhbGxldE5hbWUpO1xuXG4vL1xuICAgICAgIGNvbnN0IFZCYW5rQWNjb3VudCA9IC8qICAgICAgICAgICAgICAgICovICh7XG4gIHJlc2VydmU6IHtcbiAgICBtb2R1bGU6ICd2YmFuay9yZXNlcnZlJyxcbiAgICBhZGRyZXNzOiAnYWdvcmljMWFlMGxtdHpsZ3JjbmxhOXhqa3BhYXJxNWQ1ZGZlejYzaDNudWNsJyxcbiAgfSxcbiAgcHJvdmlzaW9uOiB7XG4gICAgbW9kdWxlOiAndmJhbmsvcHJvdmlzaW9uJyxcbiAgICBhZGRyZXNzOiAnYWdvcmljMW1lZ3p5dGc2NWN5cmd6czZmdnp4Z3JjcXZ3d2w3dWdwdDYyMzQ2JyxcbiAgfSxcbn0pOyRozY9fb25jZS5WQmFua0FjY291bnQoVkJhbmtBY2NvdW50KTtcbmhhcmRlbihWQmFua0FjY291bnQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiQnJpZGdlSWQiOlsiQnJpZGdlSWQiXSwiQ29zbW9zSW5pdEtleVRvQnJpZGdlSWQiOlsiQ29zbW9zSW5pdEtleVRvQnJpZGdlSWQiXSwiV2FsbGV0TmFtZSI6WyJXYWxsZXROYW1lIl0sIlZCYW5rQWNjb3VudCI6WyJWQmFua0FjY291bnQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAvAWIpDsFAAA7BQAAJAAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9kZWJ1Zy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsibWFrZVRyYWNlciJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvL1xuXG5sZXQgZGVidWdJbnN0YW5jZSA9IDE7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZVRyYWNlciA9IChuYW1lLCBlbmFibGUgPSB0cnVlKSA9PiB7XG4gIGRlYnVnSW5zdGFuY2UgKz0gMTtcbiAgbGV0IGRlYnVnQ291bnQgPSAxO1xuICBjb25zdCBrZXkgPSBgLS0tLS0gJHtuYW1lfS4ke2RlYnVnSW5zdGFuY2V9IGA7XG4gIC8vXG4gIHN3aXRjaCAoZW5hYmxlKSB7XG4gICAgY2FzZSBmYWxzZToge1xuICAgICAgY29uc3QgbG9nRGlzYWJsZWQgPSAoLi4uX2FyZ3MpID0+IHt9O1xuICAgICAgcmV0dXJuIGxvZ0Rpc2FibGVkO1xuICAgIH1cbiAgICBjYXNlICd2ZXJib3NlJzoge1xuICAgICAgY29uc3QgaW5mb1RpY2sgPSAob3B0TG9nLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmIChvcHRMb2cubG9nKSB7XG4gICAgICAgICAgY29uc29sZS5pbmZvKGtleSwgKGRlYnVnQ291bnQgKz0gMSksIC4uLmFyZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuaW5mbyhrZXksIChkZWJ1Z0NvdW50ICs9IDEpLCBvcHRMb2csIC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGluZm9UaWNrO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICBjb25zdCBkZWJ1Z1RpY2sgPSAob3B0TG9nLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmIChvcHRMb2cubG9nKSB7XG4gICAgICAgICAgb3B0TG9nLmxvZyhrZXksIChkZWJ1Z0NvdW50ICs9IDEpLCAuLi5hcmdzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmluZm8oa2V5LCAoZGVidWdDb3VudCArPSAxKSwgb3B0TG9nLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiBkZWJ1Z1RpY2s7XG4gICAgfVxuICB9XG59OyRozY9fb25jZS5tYWtlVHJhY2VyKG1ha2VUcmFjZXIpO1xuaGFyZGVuKG1ha2VUcmFjZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVRyYWNlciI6WyJtYWtlVHJhY2VyIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAPrbBDWxAgAAsQIAACUAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvZXJyb3JzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyJdLCJleHBvcnRzIjpbIk5vbk51bGxpc2giXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBxOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dXSk7XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IE5vbk51bGxpc2ggPSAodmFsLCBvcHREZXRhaWxzID0gYHVuZXhwZWN0ZWQgJHtxKHZhbCl9YCkgPT4ge1xuICBpZiAodmFsICE9IG51bGwpIHtcbiAgICAvL1xuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgYXNzZXJ0LmZhaWwob3B0RGV0YWlscyk7XG59OyRozY9fb25jZS5Ob25OdWxsaXNoKE5vbk51bGxpc2gpO1xuaGFyZGVuKE5vbk51bGxpc2gpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiTm9uTnVsbGlzaCI6WyJOb25OdWxsaXNoIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAI/VuH1qBAAAagQAACQAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvaW5kZXguanN7ImltcG9ydHMiOlsiLi9jb25maWcuanMiLCIuL2RlYnVnLmpzIiwiLi9lcnJvcnMuanMiLCIuL2pzLXV0aWxzLmpzIiwiLi9tYXJzaGFsLmpzIiwiLi9tZXRob2QtdG9vbHMuanMiLCIuL21ldHJpY3MuanMiLCIuL25hdHVyYWwtc29ydC5qcyIsIi4vc2VzLXV0aWxzLmpzIiwiLi90bXBEaXIuanMiLCIuL3R5cGVDaGVjay5qcyIsIi4vdHlwZUd1YXJkcy5qcyIsIi4vdHlwZXMtaW5kZXguanMiXSwiZXhwb3J0cyI6W251bGxdLCJyZWV4cG9ydHMiOlsiLi9jb25maWcuanMiLCIuL2RlYnVnLmpzIiwiLi9lcnJvcnMuanMiLCIuL2pzLXV0aWxzLmpzIiwiLi9tZXRob2QtdG9vbHMuanMiLCIuL21ldHJpY3MuanMiLCIuL25hdHVyYWwtc29ydC5qcyIsIi4vc2VzLXV0aWxzLmpzIiwiLi90bXBEaXIuanMiLCIuL3R5cGVDaGVjay5qcyIsIi4vdHlwZUd1YXJkcy5qcyIsIi4vdHlwZXMtaW5kZXguanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9jb25maWcuanNcIiwgW11dLFtcIi4vZGVidWcuanNcIiwgW11dLFtcIi4vZXJyb3JzLmpzXCIsIFtdXSxbXCIuL2pzLXV0aWxzLmpzXCIsIFtdXSxbXCIuL21hcnNoYWwuanNcIiwgW11dLFtcIi4vbWV0aG9kLXRvb2xzLmpzXCIsIFtdXSxbXCIuL21ldHJpY3MuanNcIiwgW11dLFtcIi4vbmF0dXJhbC1zb3J0LmpzXCIsIFtdXSxbXCIuL3Nlcy11dGlscy5qc1wiLCBbXV0sW1wiLi90bXBEaXIuanNcIiwgW11dLFtcIi4vdHlwZUNoZWNrLmpzXCIsIFtdXSxbXCIuL3R5cGVHdWFyZHMuanNcIiwgW11dLFtcIi4vdHlwZXMtaW5kZXguanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL21hcnNoYWwuanMiOltbInB1cmVEYXRhTWFyc2hhbGxlciIsInB1cmVEYXRhTWFyc2hhbGxlciJdXX0sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAtIZysCMTAAAjEwAAJwAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9qcy11dGlscy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiVFJVRSIsImRlZXBDb3B5SnNvbmFibGUiLCJkZWVwTWFwT2JqZWN0IiwiZGVmaW5lTmFtZSIsImZyb21UeXBlZEVudHJpZXMiLCJsb2dMZXZlbHMiLCJtYWtlTWVhc3VyZVNlY29uZHMiLCJvYmplY3RNYXBNdXRhYmxlIiwicHJvdmlkZUxhenlNYXAiLCJ0eXBlZEVudHJpZXMiLCJ0eXBlZE1hcCIsInVucHJlZml4ZWRQcm9wZXJ0aWVzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8vXG4vL1xuLypcblxuXG4gKi9cblxuY29uc3QgeyBkZWZpbmVQcm9wZXJ0eSB9ID0gT2JqZWN0O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgVFJVRSA9IC8qICAgICAgICAgICAgICAgICovICh0cnVlKTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5UUlVFKFRSVUUpO1xuICAgICAgIGNvbnN0IHR5cGVkRW50cmllcyA9IC8qICAgICAgICAgICAgICAgICAgICAgICAqLyAoT2JqZWN0LmVudHJpZXMpO1xuXG4vKlxuXG5cblxuXG5cbiAqLyRozY9fb25jZS50eXBlZEVudHJpZXModHlwZWRFbnRyaWVzKTtcbiAgICAgICBjb25zdCBmcm9tVHlwZWRFbnRyaWVzID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gIE9iamVjdC5mcm9tRW50cmllc1xuKTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLmZyb21UeXBlZEVudHJpZXMoZnJvbVR5cGVkRW50cmllcyk7XG4gICAgICAgY29uc3QgdHlwZWRNYXAgPSAvKiAgICAgICAgICAgICAgICAgICAqLyAoXG4gIEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLm1hcClcbik7JGjNj19vbmNlLnR5cGVkTWFwKHR5cGVkTWFwKTtcblxuICAgICAgIGNvbnN0IGxvZ0xldmVscyA9IC8qICAgICAgICAgICAgICAgICovIChbXG4gICdkZWJ1ZycsXG4gICdsb2cnLFxuICAnaW5mbycsXG4gICd3YXJuJyxcbiAgJ2Vycm9yJyxcbl0pOyRozY9fb25jZS5sb2dMZXZlbHMobG9nTGV2ZWxzKTtcbk9iamVjdC5mcmVlemUobG9nTGV2ZWxzKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZGVlcENvcHlKc29uYWJsZSA9IHZhbHVlID0+IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuZGVlcENvcHlKc29uYWJsZShkZWVwQ29weUpzb25hYmxlKTtcbmNvbnN0IGRlZXBNYXBPYmplY3RJbnRlcm5hbCA9ICh2YWx1ZSwgbmFtZSwgY29udGFpbmVyLCBtYXBwZXIpID0+IHtcbiAgaWYgKGNvbnRhaW5lciAmJiB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBtYXBwZWQgPSBtYXBwZXIodmFsdWUsIG5hbWUsIGNvbnRhaW5lcik7XG4gICAgaWYgKG1hcHBlZCAhPT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgIXZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgbGV0IHdhc01hcHBlZCA9IGZhbHNlO1xuICBjb25zdCB2YWx1ZU9iaiA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovICh2YWx1ZSk7XG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBtYXBFbnRyeSA9IChbaW5uZXJOYW1lLCBpbm5lclZhbHVlXSkgPT4ge1xuICAgIGNvbnN0IG1hcHBlZElubmVyVmFsdWUgPSBkZWVwTWFwT2JqZWN0SW50ZXJuYWwoXG4gICAgICBpbm5lclZhbHVlLFxuICAgICAgaW5uZXJOYW1lLFxuICAgICAgdmFsdWVPYmosXG4gICAgICBtYXBwZXIsXG4gICAgKTtcbiAgICB3YXNNYXBwZWQgfHw9IG1hcHBlZElubmVyVmFsdWUgIT09IGlubmVyVmFsdWU7XG4gICAgcmV0dXJuIFtpbm5lck5hbWUsIC8qICAgICAgICAgICAgICAqLyAobWFwcGVkSW5uZXJWYWx1ZSldO1xuICB9O1xuICBjb25zdCBtYXBwZWRFbnRyaWVzID0gdHlwZWRFbnRyaWVzKHZhbHVlT2JqKS5tYXAobWFwRW50cnkpO1xuXG4gIGlmICghd2FzTWFwcGVkKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgY29uc3QgbWFwcGVkT2JqID0gZnJvbVR5cGVkRW50cmllcyhtYXBwZWRFbnRyaWVzKTtcbiAgcmV0dXJuIC8qICAgICAgICAgICAgICAqLyAobWFwcGVkT2JqKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZGVlcE1hcE9iamVjdCA9IChvYmosIG1hcHBlcikgPT5cbiAgLyogICAgICAgICAgICAgICovIChkZWVwTWFwT2JqZWN0SW50ZXJuYWwob2JqLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWFwcGVyKSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuZGVlcE1hcE9iamVjdChkZWVwTWFwT2JqZWN0KTtcbiAgICAgICBjb25zdCBkZWZpbmVOYW1lID0gKG5hbWUsIGZuKSA9PlxuICBkZWZpbmVQcm9wZXJ0eShmbiwgJ25hbWUnLCB7IHZhbHVlOiBuYW1lIH0pO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5kZWZpbmVOYW1lKGRlZmluZU5hbWUpO1xuICAgICAgIGNvbnN0IG9iamVjdE1hcE11dGFibGUgPSAob2JqLCBtYXBwZXIpID0+IHtcbiAgY29uc3Qgb2xkRW50cmllcyA9IHR5cGVkRW50cmllcyhvYmopO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtYXBFbnRyeSA9IChbaywgdl0pID0+IFtrLCBtYXBwZXIodiwgayldO1xuICBjb25zdCBuZXdFbnRyaWVzID0gdHlwZWRNYXAob2xkRW50cmllcywgbWFwRW50cnkpO1xuICBjb25zdCBuZXdPYmogPSBmcm9tVHlwZWRFbnRyaWVzKG5ld0VudHJpZXMpO1xuICByZXR1cm4gLyogICAgICAgICAgICAgICovIChuZXdPYmopO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLm9iamVjdE1hcE11dGFibGUob2JqZWN0TWFwTXV0YWJsZSk7XG4gICAgICAgY29uc3QgcHJvdmlkZUxhenlNYXAgPSAobWFwLCBrZXksIG1ha2VWYWx1ZSkgPT4ge1xuICBjb25zdCBmb3VuZCA9IG1hcC5nZXQoa2V5KTtcbiAgaWYgKGZvdW5kICE9PSB1bmRlZmluZWQgfHwgbWFwLmhhcyhrZXkpKSB7XG4gICAgcmV0dXJuIC8qICAgICAgICAgICAgKi8gKGZvdW5kKTtcbiAgfVxuICBjb25zdCB2YWx1ZSA9IG1ha2VWYWx1ZShrZXkpO1xuICBtYXAuc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKlxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5wcm92aWRlTGF6eU1hcChwcm92aWRlTGF6eU1hcCk7XG4gICAgICAgY29uc3QgbWFrZU1lYXN1cmVTZWNvbmRzID0gY3VycmVudFRpbWVNaWxsaXNlYyA9PiB7XG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBtZWFzdXJlU2Vjb25kcyA9IGFzeW5jIGZuID0+IHtcbiAgICBjb25zdCB0MCA9IGN1cnJlbnRUaW1lTWlsbGlzZWMoKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmbigpO1xuICAgIGNvbnN0IGR1cmF0aW9uTWlsbGlzZWMgPSBjdXJyZW50VGltZU1pbGxpc2VjKCkgLSB0MDtcbiAgICByZXR1cm4geyByZXN1bHQsIGR1cmF0aW9uOiBkdXJhdGlvbk1pbGxpc2VjIC8gMTAwMCB9O1xuICB9O1xuICByZXR1cm4gbWVhc3VyZVNlY29uZHM7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLm1ha2VNZWFzdXJlU2Vjb25kcyhtYWtlTWVhc3VyZVNlY29uZHMpO1xuICAgICAgIGNvbnN0IHVucHJlZml4ZWRQcm9wZXJ0aWVzID0gKG9iaiwgcHJlZml4KSA9PlxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgIGZyb21UeXBlZEVudHJpZXMoXG4gICAgICB0eXBlZEVudHJpZXMob2JqKVxuICAgICAgICAuZmlsdGVyKChba2V5XSkgPT4ga2V5LnN0YXJ0c1dpdGgocHJlZml4KSlcbiAgICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBba2V5LnNsaWNlKHByZWZpeC5sZW5ndGgpLCB2YWx1ZV0pLFxuICAgIClcbiAgKTskaM2PX29uY2UudW5wcmVmaXhlZFByb3BlcnRpZXModW5wcmVmaXhlZFByb3BlcnRpZXMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiVFJVRSI6WyJUUlVFIl0sInR5cGVkRW50cmllcyI6WyJ0eXBlZEVudHJpZXMiXSwiZnJvbVR5cGVkRW50cmllcyI6WyJmcm9tVHlwZWRFbnRyaWVzIl0sInR5cGVkTWFwIjpbInR5cGVkTWFwIl0sImxvZ0xldmVscyI6WyJsb2dMZXZlbHMiXSwiZGVlcENvcHlKc29uYWJsZSI6WyJkZWVwQ29weUpzb25hYmxlIl0sImRlZXBNYXBPYmplY3QiOlsiZGVlcE1hcE9iamVjdCJdLCJkZWZpbmVOYW1lIjpbImRlZmluZU5hbWUiXSwib2JqZWN0TWFwTXV0YWJsZSI6WyJvYmplY3RNYXBNdXRhYmxlIl0sInByb3ZpZGVMYXp5TWFwIjpbInByb3ZpZGVMYXp5TWFwIl0sIm1ha2VNZWFzdXJlU2Vjb25kcyI6WyJtYWtlTWVhc3VyZVNlY29uZHMiXSwidW5wcmVmaXhlZFByb3BlcnRpZXMiOlsidW5wcmVmaXhlZFByb3BlcnRpZXMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAQoVtoukXAADpFwAALwAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9saWItY2hhaW5TdG9yYWdlLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2ZhciIsIkBlbmRvL3BhdHRlcm5zIiwiQGFnb3JpYy9iYXNlLXpvbmUvaGVhcC5qcyIsIi4vY2FsbGJhY2suanMiXSwiZXhwb3J0cyI6WyJTdHJlYW1DZWxsU2hhcGUiLCJhc3NlcnRQYXRoU2VnbWVudCIsImlzU3RyZWFtQ2VsbCIsIm1ha2VDaGFpblN0b3JhZ2VSb290IiwibWFrZVNlcmlhbGl6ZVRvU3RvcmFnZSIsIm1ha2VTdG9yYWdlTm9kZUNoaWxkIiwicHJlcGFyZUNoYWluU3RvcmFnZU5vZGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLEUsRmFyLE0sbWFrZUhlYXBab25lLGNiOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV0sW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9iYXNlLXpvbmUvaGVhcC5qc1wiLCBbW1wibWFrZUhlYXBab25lXCIsWyRozY9fYSA9PiAobWFrZUhlYXBab25lID0gJGjNj19hKV1dXV0sW1wiLi9jYWxsYmFjay5qc1wiLCBbW1wiKlwiLFskaM2PX2EgPT4gKGNiID0gJGjNj19hKV1dXV1dKTtPYmplY3QuZGVmaW5lUHJvcGVydHkobWFrZUNoYWluU3RvcmFnZVJvb3QsJ25hbWUnLHt2YWx1ZTpcIm1ha2VDaGFpblN0b3JhZ2VSb290XCJ9KTskaM2PX29uY2UubWFrZUNoYWluU3RvcmFnZVJvb3QobWFrZUNoYWluU3RvcmFnZVJvb3QpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShtYWtlU3RvcmFnZU5vZGVDaGlsZCwnbmFtZScse3ZhbHVlOlwibWFrZVN0b3JhZ2VOb2RlQ2hpbGRcIn0pOyRozY9fb25jZS5tYWtlU3RvcmFnZU5vZGVDaGlsZChtYWtlU3RvcmFnZU5vZGVDaGlsZCk7XG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG4gKi9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG4gKi9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgU3RyZWFtQ2VsbFNoYXBlID0gaGFyZGVuKHtcbiAgYmxvY2tIZWlnaHQ6IE0uc3RyaW5nKCksXG4gIHZhbHVlczogTS5hcnJheSgpLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuU3RyZWFtQ2VsbFNoYXBlKFN0cmVhbUNlbGxTaGFwZSk7XG5cbmNvbnN0IENoYWluU3RvcmFnZU5vZGVJID0gTS5pbnRlcmZhY2UoJ1N0b3JhZ2VOb2RlJywge1xuICBzZXRWYWx1ZTogTS5jYWxsV2hlbihNLnN0cmluZygpKS5yZXR1cm5zKCksXG4gIGdldFBhdGg6IE0uY2FsbCgpLnJldHVybnMoTS5zdHJpbmcoKSksXG4gIGdldFN0b3JlS2V5OiBNLmNhbGxXaGVuKCkucmV0dXJucyhNLnJlY29yZCgpKSxcbiAgbWFrZUNoaWxkTm9kZTogTS5jYWxsKE0uc3RyaW5nKCkpXG4gICAgLm9wdGlvbmFsKE0uc3BsaXRSZWNvcmQoe30sIHsgc2VxdWVuY2U6IE0uYm9vbGVhbigpIH0sIHt9KSlcbiAgICAucmV0dXJucyhNLnJlbW90YWJsZSgnU3RvcmFnZU5vZGUnKSksXG59KTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGlzU3RyZWFtQ2VsbCA9IGNlbGwgPT5cbiAgY2VsbCAmJlxuICB0eXBlb2YgY2VsbCA9PT0gJ29iamVjdCcgJiZcbiAgQXJyYXkuaXNBcnJheShjZWxsLnZhbHVlcykgJiZcbiAgdHlwZW9mIGNlbGwuYmxvY2tIZWlnaHQgPT09ICdzdHJpbmcnICYmXG4gIC9eMCR8XlsxLTldWzAtOV0qJC8udGVzdChjZWxsLmJsb2NrSGVpZ2h0KTskaM2PX29uY2UuaXNTdHJlYW1DZWxsKGlzU3RyZWFtQ2VsbCk7XG5oYXJkZW4oaXNTdHJlYW1DZWxsKTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbmNvbnN0IHBhdGhTZWdtZW50UGF0dGVybiA9IC9eW2EtekEtWjAtOV8tXXsxLDEwMH0kLztcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IGFzc2VydFBhdGhTZWdtZW50ID0gbmFtZSA9PiB7XG4gIHBhdGhTZWdtZW50UGF0dGVybi50ZXN0KG5hbWUpIHx8XG4gICAgRmFpbGBQYXRoIHNlZ21lbnQgbmFtZXMgbXVzdCBjb25zaXN0IG9mIDEgdG8gMTAwIGNoYXJhY3RlcnMgbGltaXRlZCB0byBBU0NJSSBhbHBoYW51bWVyaWNzLCB1bmRlcnNjb3JlcywgYW5kL29yIGRhc2hlczogJHtuYW1lfWA7XG59OyRozY9fb25jZS5hc3NlcnRQYXRoU2VnbWVudChhc3NlcnRQYXRoU2VnbWVudCk7XG5oYXJkZW4oYXNzZXJ0UGF0aFNlZ21lbnQpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlQ2hhaW5TdG9yYWdlTm9kZSA9IHpvbmUgPT4ge1xuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IG1ha2VDaGFpblN0b3JhZ2VOb2RlID0gem9uZS5leG9DbGFzcyhcbiAgICAnQ2hhaW5TdG9yYWdlTm9kZScsXG4gICAgQ2hhaW5TdG9yYWdlTm9kZUksXG4gICAgLypcblxuXG5cblxuXG5cbiAgICAgKi9cbiAgICAobWVzc2VuZ2VyLCBwYXRoLCB7IHNlcXVlbmNlID0gZmFsc2UgfSA9IHt9KSA9PiB7XG4gICAgICBhc3NlcnQudHlwZW9mKHBhdGgsICdzdHJpbmcnKTtcbiAgICAgIGFzc2VydC50eXBlb2Yoc2VxdWVuY2UsICdib29sZWFuJyk7XG4gICAgICByZXR1cm4gaGFyZGVuKHsgcGF0aCwgbWVzc2VuZ2VyLCBzZXF1ZW5jZSB9KTtcbiAgICB9LFxuICAgIHtcbiAgICAgIGdldFBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnBhdGg7XG4gICAgICB9LFxuICAgICAgLypcblxuXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIGdldFN0b3JlS2V5KCkge1xuICAgICAgICBjb25zdCB7IHBhdGgsIG1lc3NlbmdlciB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgcmV0dXJuIGNiLmNhbGxFKG1lc3Nlbmdlciwge1xuICAgICAgICAgIG1ldGhvZDogJ2dldFN0b3JlS2V5JyxcbiAgICAgICAgICBhcmdzOiBbcGF0aF0sXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIC8qXG5cblxuXG5cbiAgICAgICAqL1xuICAgICAgbWFrZUNoaWxkTm9kZShuYW1lLCBjaGlsZE5vZGVPcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBzZXF1ZW5jZSwgcGF0aCwgbWVzc2VuZ2VyIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBhc3NlcnRQYXRoU2VnbWVudChuYW1lKTtcbiAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHsgc2VxdWVuY2UsIC4uLmNoaWxkTm9kZU9wdGlvbnMgfTtcbiAgICAgICAgcmV0dXJuIG1ha2VDaGFpblN0b3JhZ2VOb2RlKFxuICAgICAgICAgIG1lc3NlbmdlcixcbiAgICAgICAgICBgJHtwYXRofS4ke25hbWV9YCxcbiAgICAgICAgICBtZXJnZWRPcHRpb25zLFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBhc3luYyBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCB7IHNlcXVlbmNlLCBwYXRoLCBtZXNzZW5nZXIgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGFzc2VydC50eXBlb2YodmFsdWUsICdzdHJpbmcnKTtcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGxldCBlbnRyeTtcbiAgICAgICAgaWYgKCFzZXF1ZW5jZSAmJiAhdmFsdWUpIHtcbiAgICAgICAgICBlbnRyeSA9IFtwYXRoXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnRyeSA9IFtwYXRoLCB2YWx1ZV07XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgY2IuY2FsbEUobWVzc2VuZ2VyLCB7XG4gICAgICAgICAgbWV0aG9kOiBzZXF1ZW5jZSA/ICdhcHBlbmQnIDogJ3NldCcsXG4gICAgICAgICAgYXJnczogW2VudHJ5XSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgIH0sXG4gICk7XG4gIHJldHVybiBtYWtlQ2hhaW5TdG9yYWdlTm9kZTtcbn07JGjNj19vbmNlLnByZXBhcmVDaGFpblN0b3JhZ2VOb2RlKHByZXBhcmVDaGFpblN0b3JhZ2VOb2RlKTtcblxuY29uc3QgbWFrZUhlYXBDaGFpblN0b3JhZ2VOb2RlID0gcHJlcGFyZUNoYWluU3RvcmFnZU5vZGUobWFrZUhlYXBab25lKCkpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIG1ha2VDaGFpblN0b3JhZ2VSb290KFxuICBoYW5kbGVTdG9yYWdlTWVzc2FnZSxcbiAgcm9vdFBhdGgsXG4gIHJvb3RPcHRpb25zID0ge30sXG4pIHtcbiAgY29uc3QgbWVzc2VuZ2VyID0gY2IubWFrZUZ1bmN0aW9uQ2FsbGJhY2soaGFuZGxlU3RvcmFnZU1lc3NhZ2UpO1xuXG4gIC8vXG4gIGNvbnN0IHJvb3ROb2RlID0gbWFrZUhlYXBDaGFpblN0b3JhZ2VOb2RlKG1lc3Nlbmdlciwgcm9vdFBhdGgsIHJvb3RPcHRpb25zKTtcbiAgcmV0dXJuIHJvb3ROb2RlO1xufVxuXG4vKlxuXG5cbiAqL1xuY29uc3QgbWFrZU51bGxTdG9yYWdlTm9kZSA9ICgpID0+IHtcbiAgLy9cbiAgcmV0dXJuIG1ha2VDaGFpblN0b3JhZ2VSb290KFxuICAgIEZhcignTnVsbE1lc3NlbmdlcicsICgpID0+IG51bGwpLFxuICAgICdudWxsJyxcbiAgKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGFzeW5jIGZ1bmN0aW9uIG1ha2VTdG9yYWdlTm9kZUNoaWxkKHN0b3JhZ2VOb2RlUmVmLCBjaGlsZE5hbWUpIHtcbiAgY29uc3QgZXhpc3RpbmdTdG9yYWdlTm9kZSA9IGF3YWl0IHN0b3JhZ2VOb2RlUmVmO1xuICBjb25zdCBzdG9yYWdlTm9kZSA9IGV4aXN0aW5nU3RvcmFnZU5vZGUgfHwgbWFrZU51bGxTdG9yYWdlTm9kZSgpO1xuICByZXR1cm4gRShzdG9yYWdlTm9kZSkubWFrZUNoaWxkTm9kZShjaGlsZE5hbWUpO1xufVxuaGFyZGVuKG1ha2VTdG9yYWdlTm9kZUNoaWxkKTtcblxuLy9cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlU2VyaWFsaXplVG9TdG9yYWdlID0gKHN0b3JhZ2VOb2RlLCBtYXJzaGFsbGVyKSA9PiB7XG4gIHJldHVybiBhc3luYyB2YWx1ZSA9PiB7XG4gICAgY29uc3QgbWFyc2hhbGxlZCA9IGF3YWl0IEUobWFyc2hhbGxlcikudG9DYXBEYXRhKHZhbHVlKTtcbiAgICBjb25zdCBzZXJpYWxpemVkID0gSlNPTi5zdHJpbmdpZnkobWFyc2hhbGxlZCk7XG4gICAgcmV0dXJuIEUoc3RvcmFnZU5vZGUpLnNldFZhbHVlKHNlcmlhbGl6ZWQpO1xuICB9O1xufTskaM2PX29uY2UubWFrZVNlcmlhbGl6ZVRvU3RvcmFnZShtYWtlU2VyaWFsaXplVG9TdG9yYWdlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlN0cmVhbUNlbGxTaGFwZSI6WyJTdHJlYW1DZWxsU2hhcGUiXSwiaXNTdHJlYW1DZWxsIjpbImlzU3RyZWFtQ2VsbCJdLCJhc3NlcnRQYXRoU2VnbWVudCI6WyJhc3NlcnRQYXRoU2VnbWVudCJdLCJwcmVwYXJlQ2hhaW5TdG9yYWdlTm9kZSI6WyJwcmVwYXJlQ2hhaW5TdG9yYWdlTm9kZSJdLCJtYWtlQ2hhaW5TdG9yYWdlUm9vdCI6WyJtYWtlQ2hhaW5TdG9yYWdlUm9vdCJdLCJtYWtlU3RvcmFnZU5vZGVDaGlsZCI6WyJtYWtlU3RvcmFnZU5vZGVDaGlsZCJdLCJtYWtlU2VyaWFsaXplVG9TdG9yYWdlIjpbIm1ha2VTZXJpYWxpemVUb1N0b3JhZ2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAEC8efu8SAADvEgAAJgAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9tYXJzaGFsLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2ZhciIsIkBlbmRvL21hcnNoYWwiLCJAZW5kby9wYXR0ZXJucyIsIi4vbGliLWNoYWluU3RvcmFnZS5qcyJdLCJleHBvcnRzIjpbIkNhcERhdGFTaGFwZSIsImFzc2VydENhcERhdGEiLCJib2FyZFNsb3R0aW5nTWFyc2hhbGxlciIsIm1ha2VCb2FyZFJlbW90ZSIsIm1ha2VIaXN0b3J5UmV2aXZlciIsInB1cmVEYXRhTWFyc2hhbGxlciIsInNsb3RUb0JvYXJkUmVtb3RlIiwidW5tYXJzaGFsRnJvbVZzdG9yYWdlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxGYXIsbWFrZU1hcnNoYWwsTSxpc1N0cmVhbUNlbGw7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZmFyXCIsIFtbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJtYWtlTWFyc2hhbFwiLFskaM2PX2EgPT4gKG1ha2VNYXJzaGFsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi9saWItY2hhaW5TdG9yYWdlLmpzXCIsIFtbXCJpc1N0cmVhbUNlbGxcIixbJGjNj19hID0+IChpc1N0cmVhbUNlbGwgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUJvYXJkUmVtb3RlID0gKHsgYm9hcmRJZCwgaWZhY2UgfSkgPT4ge1xuICBjb25zdCBub25hbGxlZ2VkID0gaWZhY2UgPyBpZmFjZS5yZXBsYWNlKC9eQWxsZWdlZDogLywgJycpIDogJyc7XG4gIHJldHVybiBGYXIoYEJvYXJkUmVtb3RlJHtub25hbGxlZ2VkfWAsIHsgZ2V0Qm9hcmRJZDogKCkgPT4gYm9hcmRJZCB9KTtcbn07XG5cbi8qXG5cblxuICovJGjNj19vbmNlLm1ha2VCb2FyZFJlbW90ZShtYWtlQm9hcmRSZW1vdGUpO1xuICAgICAgIGNvbnN0IHNsb3RUb0JvYXJkUmVtb3RlID0gKGJvYXJkSWQsIGlmYWNlKSA9PlxuICBtYWtlQm9hcmRSZW1vdGUoeyBib2FyZElkLCBpZmFjZSB9KTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5zbG90VG9Cb2FyZFJlbW90ZShzbG90VG9Cb2FyZFJlbW90ZSk7XG5jb25zdCBib2FyZFZhbFRvU2xvdCA9IHZhbCA9PiB7XG4gIGlmICgnZ2V0Qm9hcmRJZCcgaW4gdmFsKSB7XG4gICAgcmV0dXJuIHZhbC5nZXRCb2FyZElkKCk7XG4gIH1cbiAgdGhyb3cgRmFpbGB1bmtub3duIG9iaiBpbiBib2FyZFNsb3R0aW5nTWFyc2hhbGxlci52YWxUb1Nsb3QgJHt2YWx9YDtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBib2FyZFNsb3R0aW5nTWFyc2hhbGxlciA9IChzbG90VG9WYWwgPSB1bmRlZmluZWQpID0+IHtcbiAgcmV0dXJuIG1ha2VNYXJzaGFsKGJvYXJkVmFsVG9TbG90LCBzbG90VG9WYWwsIHtcbiAgICBzZXJpYWxpemVCb2R5Rm9ybWF0OiAnc21hbGxjYXBzJyxcbiAgfSk7XG59O1xuXG4vL1xuLypcblxuICovJGjNj19vbmNlLmJvYXJkU2xvdHRpbmdNYXJzaGFsbGVyKGJvYXJkU2xvdHRpbmdNYXJzaGFsbGVyKTtcbiAgICAgICBjb25zdCBDYXBEYXRhU2hhcGUgPSB7IGJvZHk6IE0uc3RyaW5nKCksIHNsb3RzOiBNLmFycmF5KCkgfTskaM2PX29uY2UuQ2FwRGF0YVNoYXBlKENhcERhdGFTaGFwZSk7XG5oYXJkZW4oQ2FwRGF0YVNoYXBlKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgYXNzZXJ0Q2FwRGF0YSA9IGRhdGEgPT4ge1xuICBhc3NlcnQudHlwZW9mKGRhdGEsICdvYmplY3QnKTtcbiAgYXNzZXJ0KGRhdGEpO1xuICB0eXBlb2YgZGF0YS5ib2R5ID09PSAnc3RyaW5nJyB8fCBGYWlsYGRhdGEgaGFzIG5vbi1zdHJpbmcgLmJvZHkgJHtkYXRhLmJvZHl9YDtcbiAgQXJyYXkuaXNBcnJheShkYXRhLnNsb3RzKSB8fCBGYWlsYGRhdGEgaGFzIG5vbi1BcnJheSBzbG90cyAke2RhdGEuc2xvdHN9YDtcbn07JGjNj19vbmNlLmFzc2VydENhcERhdGEoYXNzZXJ0Q2FwRGF0YSk7XG5oYXJkZW4oYXNzZXJ0Q2FwRGF0YSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHVubWFyc2hhbEZyb21Wc3RvcmFnZSA9IChkYXRhLCBrZXksIGZyb21DYXBEYXRhLCBpbmRleCkgPT4ge1xuICBjb25zdCBzZXJpYWxpemVkID0gZGF0YS5nZXQoa2V5KSB8fCBGYWlsYG5vIGRhdGEgZm9yICR7a2V5fWA7XG4gIGFzc2VydC50eXBlb2Yoc2VyaWFsaXplZCwgJ3N0cmluZycpO1xuICBhc3NlcnQudHlwZW9mKGluZGV4LCAnbnVtYmVyJyk7XG5cbiAgY29uc3Qgc3RyZWFtQ2VsbCA9IEpTT04ucGFyc2Uoc2VyaWFsaXplZCk7XG4gIGlmICghaXNTdHJlYW1DZWxsKHN0cmVhbUNlbGwpKSB7XG4gICAgdGhyb3cgRmFpbGBub3QgYSBTdHJlYW1DZWxsOiAke3N0cmVhbUNlbGx9YDtcbiAgfVxuXG4gIGNvbnN0IHsgdmFsdWVzIH0gPSBzdHJlYW1DZWxsO1xuICB2YWx1ZXMubGVuZ3RoID4gMCB8fCBGYWlsYG5vIFN0cmVhbUNlbGwgdmFsdWVzOiAke3N0cmVhbUNlbGx9YDtcblxuICBjb25zdCBtYXJzaGFsbGVkID0gdmFsdWVzLmF0KGluZGV4KTtcbiAgYXNzZXJ0LnR5cGVvZihtYXJzaGFsbGVkLCAnc3RyaW5nJyk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGNhcERhdGEgPSBoYXJkZW4oSlNPTi5wYXJzZShtYXJzaGFsbGVkKSk7XG4gIGFzc2VydENhcERhdGEoY2FwRGF0YSk7XG5cbiAgY29uc3QgdW5tYXJzaGFsbGVkID0gZnJvbUNhcERhdGEoY2FwRGF0YSk7XG4gIHJldHVybiB1bm1hcnNoYWxsZWQ7XG59OyRozY9fb25jZS51bm1hcnNoYWxGcm9tVnN0b3JhZ2UodW5tYXJzaGFsRnJvbVZzdG9yYWdlKTtcbmhhcmRlbih1bm1hcnNoYWxGcm9tVnN0b3JhZ2UpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlSGlzdG9yeVJldml2ZXIgPSAoZW50cmllcywgc2xvdFRvVmFsID0gdW5kZWZpbmVkKSA9PiB7XG4gIGNvbnN0IGJvYXJkID0gYm9hcmRTbG90dGluZ01hcnNoYWxsZXIoc2xvdFRvVmFsKTtcbiAgY29uc3QgdnNNYXAgPSBuZXcgTWFwKGVudHJpZXMpO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgZnJvbUNhcERhdGEgPSAoLi4uYXJncykgPT5cbiAgICBSZWZsZWN0LmFwcGx5KGJvYXJkLmZyb21DYXBEYXRhLCBib2FyZCwgYXJncyk7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgZ2V0SXRlbSA9IGtleSA9PiB1bm1hcnNoYWxGcm9tVnN0b3JhZ2UodnNNYXAsIGtleSwgZnJvbUNhcERhdGEsIC0xKTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBjaGlsZHJlbiA9IHByZWZpeCA9PiB7XG4gICAgcHJlZml4LmVuZHNXaXRoKCcuJykgfHwgRmFpbGBwcmVmaXggbXVzdCBlbmQgd2l0aCAnLidgO1xuICAgIHJldHVybiBoYXJkZW4oW1xuICAgICAgLi4ubmV3IFNldChcbiAgICAgICAgZW50cmllc1xuICAgICAgICAgIC5tYXAoKFtrLCBfXSkgPT4gaylcbiAgICAgICAgICAuZmlsdGVyKGsgPT4gay5zdGFydHNXaXRoKHByZWZpeCkpXG4gICAgICAgICAgLm1hcChrID0+IGsuc2xpY2UocHJlZml4Lmxlbmd0aCkuc3BsaXQoJy4nKVswXSksXG4gICAgICApLFxuICAgIF0pO1xuICB9O1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBoYXMgPSBrID0+IHZzTWFwLmdldChrKSAhPT0gdW5kZWZpbmVkO1xuXG4gIHJldHVybiBoYXJkZW4oeyBnZXRJdGVtLCBjaGlsZHJlbiwgaGFzIH0pO1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLm1ha2VIaXN0b3J5UmV2aXZlcihtYWtlSGlzdG9yeVJldml2ZXIpO1xuY29uc3QgcmVqZWN0T0NhcCA9IGNhcCA9PiBGYWlsYCR7Y2FwfSBpcyBub3QgcHVyZSBkYXRhYDtcbiAgICAgICBjb25zdCBwdXJlRGF0YU1hcnNoYWxsZXIgPSBtYWtlTWFyc2hhbChyZWplY3RPQ2FwLCByZWplY3RPQ2FwLCB7XG4gIHNlcmlhbGl6ZUJvZHlGb3JtYXQ6ICdzbWFsbGNhcHMnLFxufSk7JGjNj19vbmNlLnB1cmVEYXRhTWFyc2hhbGxlcihwdXJlRGF0YU1hcnNoYWxsZXIpO1xuaGFyZGVuKHB1cmVEYXRhTWFyc2hhbGxlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlQm9hcmRSZW1vdGUiOlsibWFrZUJvYXJkUmVtb3RlIl0sInNsb3RUb0JvYXJkUmVtb3RlIjpbInNsb3RUb0JvYXJkUmVtb3RlIl0sImJvYXJkU2xvdHRpbmdNYXJzaGFsbGVyIjpbImJvYXJkU2xvdHRpbmdNYXJzaGFsbGVyIl0sIkNhcERhdGFTaGFwZSI6WyJDYXBEYXRhU2hhcGUiXSwiYXNzZXJ0Q2FwRGF0YSI6WyJhc3NlcnRDYXBEYXRhIl0sInVubWFyc2hhbEZyb21Wc3RvcmFnZSI6WyJ1bm1hcnNoYWxGcm9tVnN0b3JhZ2UiXSwibWFrZUhpc3RvcnlSZXZpdmVyIjpbIm1ha2VIaXN0b3J5UmV2aXZlciJdLCJwdXJlRGF0YU1hcnNoYWxsZXIiOlsicHVyZURhdGFNYXJzaGFsbGVyIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAG54O4xtBgAAbQYAACsAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvbWV0aG9kLXRvb2xzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2V2ZW50dWFsLXNlbmQvdXRpbHMuanMiXSwiZXhwb3J0cyI6WyJiaW5kQWxsTWV0aG9kcyIsImdldE1ldGhvZE5hbWVzIiwiZ2V0U3RyaW5nTWV0aG9kTmFtZXMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCByZWFsR2V0TWV0aG9kTmFtZXM7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9ldmVudHVhbC1zZW5kL3V0aWxzLmpzXCIsIFtbXCJnZXRNZXRob2ROYW1lc1wiLFskaM2PX2EgPT4gKHJlYWxHZXRNZXRob2ROYW1lcyA9ICRozY9fYSldXV1dXSk7XG5cblxuLypcblxuXG4gKi9cblxuY29uc3QgeyBjcmVhdGUsIGZyb21FbnRyaWVzIH0gPSBPYmplY3Q7XG5jb25zdCB7IGFwcGx5IH0gPSBSZWZsZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0TWV0aG9kTmFtZXMgPSB2YWwgPT5cbiAgLyogICAgICAgICAgICAgICovIChyZWFsR2V0TWV0aG9kTmFtZXModmFsKSk7JGjNj19vbmNlLmdldE1ldGhvZE5hbWVzKGdldE1ldGhvZE5hbWVzKTtcbmhhcmRlbihnZXRNZXRob2ROYW1lcyk7XG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0U3RyaW5nTWV0aG9kTmFtZXMgPSB2YWwgPT5cbiAgLyogICAgICAgICAgICAgICAgICAgKi8gKFxuICAgIHJlYWxHZXRNZXRob2ROYW1lcyh2YWwpLmZpbHRlcihuYW1lID0+IHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJylcbiAgKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5nZXRTdHJpbmdNZXRob2ROYW1lcyhnZXRTdHJpbmdNZXRob2ROYW1lcyk7XG4gICAgICAgY29uc3QgYmluZEFsbE1ldGhvZHMgPSBvYmogPT5cbiAgaGFyZGVuKFxuICAgIGNyZWF0ZShcbiAgICAgIG9iaixcbiAgICAgIGZyb21FbnRyaWVzKFxuICAgICAgICByZWFsR2V0TWV0aG9kTmFtZXMob2JqKS5tYXAobmFtZSA9PiBbXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZTogKC8qICAgICAgICAgICAgICAgICAgICAqLyAuLi5hcmdzKSA9PlxuICAgICAgICAgICAgICBhcHBseShvYmpbbmFtZV0sIG9iaiwgYXJncyksXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0pLFxuICAgICAgKSxcbiAgICApLFxuICApOyRozY9fb25jZS5iaW5kQWxsTWV0aG9kcyhiaW5kQWxsTWV0aG9kcyk7XG5oYXJkZW4oYmluZEFsbE1ldGhvZHMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZ2V0TWV0aG9kTmFtZXMiOlsiZ2V0TWV0aG9kTmFtZXMiXSwiZ2V0U3RyaW5nTWV0aG9kTmFtZXMiOlsiZ2V0U3RyaW5nTWV0aG9kTmFtZXMiXSwiYmluZEFsbE1ldGhvZHMiOlsiYmluZEFsbE1ldGhvZHMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAsn2q0Mk2AADJNgAAJgAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9tZXRyaWNzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL25hdCJdLCJleHBvcnRzIjpbIkJMT0NLX0hJU1RPR1JBTV9NRVRSSUNTIiwiSElTVE9HUkFNX01FVFJJQ1MiLCJLRVJORUxfU1RBVFNfTUVUUklDUyIsIktFUk5FTF9TVEFUU19TVU1fTUVUUklDUyIsIktFUk5FTF9TVEFUU19VUERPV05fTUVUUklDUyIsIlF1ZXVlTWV0cmljQXNwZWN0IiwibWFrZVF1ZXVlTWV0cmljcyIsIm1ha2VRdWV1ZU1ldHJpY3NNZXRhIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgcSxpc05hdDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9uYXRcIiwgW1tcImlzTmF0XCIsWyRozY9fYSA9PiAoaXNOYXQgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuICovXG5cbmNvbnN0IEhJU1RPR1JBTV9NU19MQVRFTkNZX0JPVU5EQVJJRVMgPSBbXG4gIDUsXG4gIDEwLFxuICAyNSxcbiAgNTAsXG4gIDEwMCxcbiAgMjUwLFxuICA1MDAsXG4gIDEwMDAsXG4gIDI1MDAsXG4gIDUwMDAsXG4gIDEwMDAwLFxuICBJbmZpbml0eSxcbl07XG5jb25zdCBISVNUT0dSQU1fU0VDT05EU19MQVRFTkNZX0JPVU5EQVJJRVMgPVxuICBISVNUT0dSQU1fTVNfTEFURU5DWV9CT1VOREFSSUVTLm1hcChtcyA9PiBtcyAvIDEwMDApO1xuXG4vL1xuLy9cbiAgICAgICBjb25zdCBISVNUT0dSQU1fTUVUUklDUyA9IC8qICAgICAgICAgICAgICAgICovICh7XG4gIHN3aW5nc2V0X2NyYW5rX3Byb2Nlc3NpbmdfdGltZToge1xuICAgIGRlc2NyaXB0aW9uOiAnUHJvY2Vzc2luZyB0aW1lIHBlciBjcmFuayAobXMpJyxcbiAgICB1bml0OiAnbXMnLFxuICAgIGJvdW5kYXJpZXM6IEFycmF5Lm9mKDEsIDExLCAyMSwgMzEsIDQxLCA1MSwgNjEsIDcxLCA4MSwgOTEsIEluZmluaXR5KSxcbiAgfSxcbiAgc3dpbmdzZXRfYmxvY2tfcHJvY2Vzc2luZ19zZWNvbmRzOiB7XG4gICAgZGVzY3JpcHRpb246ICdQcm9jZXNzaW5nIHRpbWUgcGVyIGJsb2NrJyxcbiAgICB1bml0OiAncycsXG4gICAgYm91bmRhcmllczogSElTVE9HUkFNX1NFQ09ORFNfTEFURU5DWV9CT1VOREFSSUVTLFxuICB9LFxuICBzd2luZ3NldF92YXRfc3RhcnR1cDoge1xuICAgIGRlc2NyaXB0aW9uOiAnVmF0IHN0YXJ0dXAgdGltZSAobXMpJyxcbiAgICB1bml0OiAnbXMnLFxuICAgIGJvdW5kYXJpZXM6IEhJU1RPR1JBTV9NU19MQVRFTkNZX0JPVU5EQVJJRVMsXG4gIH0sXG4gIHN3aW5nc2V0X3ZhdF9kZWxpdmVyeToge1xuICAgIGRlc2NyaXB0aW9uOiAnVmF0IGRlbGl2ZXJ5IHRpbWUgKG1zKScsXG4gICAgdW5pdDogJ21zJyxcbiAgICBib3VuZGFyaWVzOiBISVNUT0dSQU1fTVNfTEFURU5DWV9CT1VOREFSSUVTLFxuICB9LFxuICBzd2luZ3NldF9tZXRlcl91c2FnZToge1xuICAgIGRlc2NyaXB0aW9uOiAnVmF0IG1ldGVyIHVzYWdlJyxcbiAgICB1bml0OiAnbXMnLFxuICAgIGJvdW5kYXJpZXM6IEhJU1RPR1JBTV9NU19MQVRFTkNZX0JPVU5EQVJJRVMsXG4gIH0sXG59KTskaM2PX29uY2UuSElTVE9HUkFNX01FVFJJQ1MoSElTVE9HUkFNX01FVFJJQ1MpO1xuXG5jb25zdCBibG9ja0hpc3RvZ3JhbU1ldHJpY0Rlc2MgPSB7XG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIHVuaXQ6ICdzJyxcbiAgYWR2aWNlOiB7XG4gICAgZXhwbGljaXRCdWNrZXRCb3VuZGFyaWVzOiBbXG4gICAgICAwLjEsIDAuMiwgMC4zLCAwLjQsIDAuNSwgMSwgMiwgMywgNCwgNSwgNiwgNywgMTAsIDE1LCAzMCxcbiAgICBdLFxuICB9LFxufTtcbiAgICAgICBjb25zdCBCTE9DS19ISVNUT0dSQU1fTUVUUklDUyA9IC8qICAgICAgICAgICAgICAgICovICh7XG4gIHN3aW5nc2V0UnVuU2Vjb25kczoge1xuICAgIGRlc2NyaXB0aW9uOiAnUGVyLWJsb2NrIHRpbWUgc3BlbnQgZXhlY3V0aW5nIFN3aW5nU2V0JyxcbiAgICAuLi5ibG9ja0hpc3RvZ3JhbU1ldHJpY0Rlc2MsXG4gIH0sXG4gIHN3aW5nc2V0Q2hhaW5TYXZlU2Vjb25kczoge1xuICAgIGRlc2NyaXB0aW9uOiAnUGVyLWJsb2NrIHRpbWUgc3BlbnQgcHJvcGFnYXRpbmcgU3dpbmdTZXQgc3RhdGUgaW50byBjb3Ntb3MnLFxuICAgIC4uLmJsb2NrSGlzdG9ncmFtTWV0cmljRGVzYyxcbiAgfSxcbiAgc3dpbmdzZXRDb21taXRTZWNvbmRzOiB7XG4gICAgZGVzY3JpcHRpb246XG4gICAgICAnUGVyLWJsb2NrIHRpbWUgc3BlbnQgY29tbWl0dGluZyBTd2luZ1NldCBzdGF0ZSB0byBob3N0IHN0b3JhZ2UnLFxuICAgIC4uLmJsb2NrSGlzdG9ncmFtTWV0cmljRGVzYyxcbiAgfSxcbiAgY29zbW9zQ29tbWl0U2Vjb25kczoge1xuICAgIGRlc2NyaXB0aW9uOiAnUGVyLWJsb2NrIHRpbWUgc3BlbnQgY29tbWl0dGluZyBjb3Ntb3Mgc3RhdGUnLFxuICAgIC4uLmJsb2NrSGlzdG9ncmFtTWV0cmljRGVzYyxcbiAgfSxcbiAgZnVsbENvbW1pdFNlY29uZHM6IHtcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgICdQZXItYmxvY2sgdGltZSBzcGVudCBjb21taXR0aW5nIHN0YXRlLCBpbmNsdXNpdmUgb2YgQ09NTUlUX0JMT0NLIHByb2Nlc3NpbmcgcGx1cyB0aW1lIHNwZW50IFtvdXRzaWRlIG9mIGNvc21pYy1zd2luZ3NldF0gYmVmb3JlIGFuZCBhZnRlciBpdCcsXG4gICAgLi4uYmxvY2tIaXN0b2dyYW1NZXRyaWNEZXNjLFxuICB9LFxuICBpbnRlckJsb2NrU2Vjb25kczoge1xuICAgIGRlc2NyaXB0aW9uOiAnVGltZSBzcGVudCBpZGxlIGJldHdlZW4gYmxvY2tzJyxcbiAgICAuLi5ibG9ja0hpc3RvZ3JhbU1ldHJpY0Rlc2MsXG4gIH0sXG4gIGFmdGVyQ29tbWl0SGFuZ292ZXJTZWNvbmRzOiB7XG4gICAgZGVzY3JpcHRpb246XG4gICAgICAnUGVyLWJsb2NrIHRpbWUgc3BlbnQgd2FpdGluZyBmb3IgcHJldmlvdXMtYmxvY2sgYWZ0ZXJDb21taXQgd29yaycsXG4gICAgLi4uYmxvY2tIaXN0b2dyYW1NZXRyaWNEZXNjLFxuICB9LFxuICBibG9ja0xhZ1NlY29uZHM6IHtcbiAgICBkZXNjcmlwdGlvbjogJ1RoZSBkZWxheSBvZiBlYWNoIGJsb2NrIGZyb20gaXRzIGV4cGVjdGVkIGJlZ2luIHRpbWUnLFxuICAgIC4uLmJsb2NrSGlzdG9ncmFtTWV0cmljRGVzYyxcbiAgICAvL1xuICAgIGFkdmljZToge1xuICAgICAgLi4uYmxvY2tIaXN0b2dyYW1NZXRyaWNEZXNjLmFkdmljZSxcbiAgICAgIGV4cGxpY2l0QnVja2V0Qm91bmRhcmllczogLyogICAgICAgICAgICAgICAgICAgKi8gKFtcbiAgICAgICAgLi4uYmxvY2tIaXN0b2dyYW1NZXRyaWNEZXNjLmFkdmljZS5leHBsaWNpdEJ1Y2tldEJvdW5kYXJpZXMsXG4gICAgICAgIC4uLls2MCwgMTIwLCAxODAsIDI0MCwgMzAwLCA2MDAsIDM2MDBdLFxuICAgICAgXSksXG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLkJMT0NLX0hJU1RPR1JBTV9NRVRSSUNTKEJMT0NLX0hJU1RPR1JBTV9NRVRSSUNTKTtcbiAgICAgICBjb25zdCBRdWV1ZU1ldHJpY0FzcGVjdCA9IC8qICAgICAgICAgICAgICAgICovICh7XG4gIExlbmd0aDogJ2xlbmd0aCcsXG4gIEluY3JlbWVudENvdW50OiAnaW5jcmVtZW50cycsXG4gIERlY3JlbWVudENvdW50OiAnZGVjcmVtZW50cycsXG59KTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuUXVldWVNZXRyaWNBc3BlY3QoUXVldWVNZXRyaWNBc3BlY3QpO1xuICAgICAgIGNvbnN0IG1ha2VRdWV1ZU1ldHJpY3NNZXRhID0gKG5hbWVQcmVmaXgsIGRlc2NQcmVmaXgpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtZXRyaWNzTWV0YSA9IFtcbiAgICBbUXVldWVNZXRyaWNBc3BlY3QuTGVuZ3RoLCAnbGVuZ3RoJywgJ2xlbmd0aCddLFxuICAgIFtRdWV1ZU1ldHJpY0FzcGVjdC5JbmNyZW1lbnRDb3VudCwgJ2FkZCcsICdpbmNyZW1lbnRzJ10sXG4gICAgW1F1ZXVlTWV0cmljQXNwZWN0LkRlY3JlbWVudENvdW50LCAncmVtb3ZlJywgJ2RlY3JlbWVudHMnXSxcbiAgXTtcbiAgY29uc3QgZW50cmllcyA9IG1ldHJpY3NNZXRhLm1hcCgoW2FzcGVjdCwgbmFtZVN1ZmZpeCwgZGVzY1N1ZmZpeF0pID0+IHtcbiAgICBjb25zdCBuYW1lID0gYCR7bmFtZVByZWZpeH1fJHtuYW1lU3VmZml4fWA7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBgJHtkZXNjUHJlZml4fSAke2Rlc2NTdWZmaXh9YDtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgcmV0dXJuIFthc3BlY3QsIHsgbmFtZSwgb3B0aW9uczogeyBkZXNjcmlwdGlvbiB9IH1dO1xuICB9KTtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhlbnRyaWVzKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLm1ha2VRdWV1ZU1ldHJpY3NNZXRhKG1ha2VRdWV1ZU1ldHJpY3NNZXRhKTtcbiAgICAgICBjb25zdCBtYWtlUXVldWVNZXRyaWNzID0gKHtcbiAgb3RlbE1ldGVyLFxuICBuYW1lUHJlZml4LFxuICBkZXNjUHJlZml4LFxuICBjb25zb2xlLFxufSkgPT4ge1xuICBjb25zdCB7XG4gICAgW1F1ZXVlTWV0cmljQXNwZWN0Lkxlbmd0aF06IGxlbmd0aE1ldGEsXG4gICAgW1F1ZXVlTWV0cmljQXNwZWN0LkluY3JlbWVudENvdW50XTogdXBNZXRhLFxuICAgIFtRdWV1ZU1ldHJpY0FzcGVjdC5EZWNyZW1lbnRDb3VudF06IGRvd25NZXRhLFxuICB9ID0gbWFrZVF1ZXVlTWV0cmljc01ldGEobmFtZVByZWZpeCwgZGVzY1ByZWZpeCk7XG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIGNvbnN0IGxlbmd0aENvdW50ZXIgPSBvdGVsTWV0ZXIuY3JlYXRlVXBEb3duQ291bnRlcihcbiAgICBsZW5ndGhNZXRhLm5hbWUsXG4gICAgbGVuZ3RoTWV0YS5vcHRpb25zLFxuICApO1xuICAvL1xuICAvL1xuICBjb25zdCB1cENvdW50ZXIgPSBvdGVsTWV0ZXIuY3JlYXRlT2JzZXJ2YWJsZUNvdW50ZXIoXG4gICAgdXBNZXRhLm5hbWUsXG4gICAgdXBNZXRhLm9wdGlvbnMsXG4gICk7XG4gIGNvbnN0IGRvd25Db3VudGVyID0gb3RlbE1ldGVyLmNyZWF0ZU9ic2VydmFibGVDb3VudGVyKFxuICAgIGRvd25NZXRhLm5hbWUsXG4gICAgZG93bk1ldGEub3B0aW9ucyxcbiAgKTtcbiAgY29uc3QgaW5jcmVtZW50cyA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAobmV3IE1hcCgpKTtcbiAgY29uc3QgZGVjcmVtZW50cyA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAobmV3IE1hcCgpKTtcbiAgdXBDb3VudGVyLmFkZENhbGxiYWNrKG9ic2VydmVyID0+IHtcbiAgICBmb3IgKGNvbnN0IFtxdWV1ZU5hbWUsIHZhbHVlXSBvZiBpbmNyZW1lbnRzLmVudHJpZXMoKSkge1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh2YWx1ZSwgeyBxdWV1ZTogcXVldWVOYW1lIH0pO1xuICAgIH1cbiAgfSk7XG4gIGRvd25Db3VudGVyLmFkZENhbGxiYWNrKG9ic2VydmVyID0+IHtcbiAgICBmb3IgKGNvbnN0IFtxdWV1ZU5hbWUsIHZhbHVlXSBvZiBkZWNyZW1lbnRzLmVudHJpZXMoKSkge1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh2YWx1ZSwgeyBxdWV1ZTogcXVldWVOYW1lIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgbGV0IHJlYWR5ID0gZmFsc2U7XG4gIGNvbnN0IGxlbmd0aHMgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKG5ldyBNYXAoKSk7XG4gIGNvbnN0IG51ZGdlID0gKHF1ZXVlTmFtZSwgZGVsdGEsIGluaXQgPSBmYWxzZSkgPT4ge1xuICAgIGlmICghbGVuZ3Rocy5oYXMocXVldWVOYW1lKSkge1xuICAgICAgaWYgKCFpbml0KSBjb25zb2xlPy53YXJuKCdVbmtub3duIHF1ZXVlJywgcXVldWVOYW1lKTtcbiAgICAgIGxlbmd0aHMuc2V0KHF1ZXVlTmFtZSwgMCk7XG4gICAgICBpbmNyZW1lbnRzLnNldChxdWV1ZU5hbWUsIDApO1xuICAgICAgZGVjcmVtZW50cy5zZXQocXVldWVOYW1lLCAwKTtcbiAgICB9XG4gICAgY29uc3Qgb2xkTGVuZ3RoID0gbGVuZ3Rocy5nZXQocXVldWVOYW1lKTtcbiAgICBsZW5ndGhzLnNldChxdWV1ZU5hbWUsIG9sZExlbmd0aCArIGRlbHRhKTtcbiAgICBjb25zdCBkaW1lbnNpb25zID0geyBxdWV1ZTogcXVldWVOYW1lIH07XG4gICAgbGVuZ3RoQ291bnRlci5hZGQoZGVsdGEsIGRpbWVuc2lvbnMpO1xuICAgIGlmIChpbml0KSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChkZWx0YSA+IDApIHtcbiAgICAgIC8vXG4gICAgICBpbmNyZW1lbnRzLnNldChxdWV1ZU5hbWUsIChpbmNyZW1lbnRzLmdldChxdWV1ZU5hbWUpIHx8IDApICsgZGVsdGEpO1xuICAgIH0gZWxzZSBpZiAoZGVsdGEgPCAwKSB7XG4gICAgICAvL1xuICAgICAgZGVjcmVtZW50cy5zZXQocXVldWVOYW1lLCAoZGVjcmVtZW50cy5nZXQocXVldWVOYW1lKSB8fCAwKSAtIGRlbHRhKTtcbiAgICB9XG4gICAgcmVhZHkgPSB0cnVlO1xuICB9O1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIGluaXRMZW5ndGhzOiBpbml0aWFsTGVuZ3RocyA9PiB7XG4gICAgICAhcmVhZHkgfHxcbiAgICAgICAgY29uc29sZT8ud2FybihcbiAgICAgICAgICBgVW5leHBlY3RlZCByZXBlYXQgcXVldWUgbGVuZ3RoIGluaXRpYWxpemF0aW9uIGZyb20gJHtxKGxlbmd0aHMpfSB0byAke3EoaW5pdGlhbExlbmd0aHMpfWBcbiAgICAgICAgKTtcbiAgICAgIGZvciAoY29uc3QgW3F1ZXVlTmFtZSwgbmV3TGVuZ3RoXSBvZiBPYmplY3QuZW50cmllcyhpbml0aWFsTGVuZ3RocykpIHtcbiAgICAgICAgaWYgKCFpc05hdChuZXdMZW5ndGgpKSB7XG4gICAgICAgICAgY29uc29sZT8ud2FybihgSW52YWxpZCBsZW5ndGggZm9yIHF1ZXVlICR7cShxdWV1ZU5hbWUpfTpgLCBuZXdMZW5ndGgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIG51ZGdlKHF1ZXVlTmFtZSwgbmV3TGVuZ3RoLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZUxlbmd0aHM6IG5ld0xlbmd0aHMgPT4ge1xuICAgICAgcmVhZHkgfHwgY29uc29sZT8ud2FybignTWlzc2luZyBpbml0aWFsIHF1ZXVlIGxlbmd0aHMnKTtcbiAgICAgIGZvciAoY29uc3QgW3F1ZXVlTmFtZSwgbmV3TGVuZ3RoXSBvZiBPYmplY3QuZW50cmllcyhuZXdMZW5ndGhzKSkge1xuICAgICAgICBpZiAoIWlzTmF0KG5ld0xlbmd0aCkpIHtcbiAgICAgICAgICBjb25zb2xlPy53YXJuKGBJbnZhbGlkIGxlbmd0aCBmb3IgcXVldWUgJHtxKHF1ZXVlTmFtZSl9OmAsIG5ld0xlbmd0aCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbnVkZ2UocXVldWVOYW1lLCBuZXdMZW5ndGggLSAobGVuZ3Rocy5nZXQocXVldWVOYW1lKSB8fCAwKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpbmNMZW5ndGg6IChxdWV1ZU5hbWUsIGRlbHRhID0gMSkgPT4ge1xuICAgICAgaWYgKCFpc05hdChkZWx0YSkpIHtcbiAgICAgICAgY29uc29sZT8ud2FybihgSW52YWxpZCBpbmNyZW1lbnQgZm9yIHF1ZXVlICR7cShxdWV1ZU5hbWUpfTpgLCBkZWx0YSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG51ZGdlKHF1ZXVlTmFtZSwgZGVsdGEpO1xuICAgIH0sXG4gICAgZGVjTGVuZ3RoOiAocXVldWVOYW1lLCBkZWx0YSA9IDEpID0+IHtcbiAgICAgIGlmICghaXNOYXQoZGVsdGEpKSB7XG4gICAgICAgIGNvbnNvbGU/Lndhcm4oYEludmFsaWQgZGVjcmVtZW50IGZvciBxdWV1ZSAke3EocXVldWVOYW1lKX06YCwgZGVsdGEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBudWRnZShxdWV1ZU5hbWUsIC1kZWx0YSk7XG4gICAgfSxcbiAgfSk7XG59O1xuXG4vL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5tYWtlUXVldWVNZXRyaWNzKG1ha2VRdWV1ZU1ldHJpY3MpO1xuY29uc3QgTWV0cmljVHlwZSA9IC8qICAgICAgICAgICAgICAgICovICh7XG4gIENvdW50ZXI6ICdjb3VudGVyJyxcbiAgR2F1Z2U6ICdnYXVnZScsXG59KTtcbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBLRVJORUxfU1RBVFNfU1VNX01FVFJJQ1MgPSBbXG4gIHtcbiAgICBrZXk6ICdzeXNjYWxscycsXG4gICAgbmFtZTogJ3N3aW5nc2V0X2FsbF9zeXNjYWxsX3RvdGFsJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIG51bWJlciBvZiBTd2luZ1NldCBrZXJuZWwgY2FsbHMnLFxuICB9LFxuICB7XG4gICAga2V5OiAnc3lzY2FsbFNlbmQnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9zeXNjYWxsX3RvdGFsJyxcbiAgICBzdWI6IHsgZGltZW5zaW9uOiAnc3lzY2FsbCcsIHZhbHVlOiAnc2VuZCcgfSxcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIG51bWJlciBvZiBTd2luZ1NldCBtZXNzYWdlIHNlbmQga2VybmVsIGNhbGxzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ3N5c2NhbGxDYWxsTm93JyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfc3lzY2FsbF90b3RhbCcsXG4gICAgc3ViOiB7IGRpbWVuc2lvbjogJ3N5c2NhbGwnLCB2YWx1ZTogJ2NhbGxOb3cnIH0sXG4gICAgZGVzY3JpcHRpb246ICdUb3RhbCBudW1iZXIgb2YgU3dpbmdTZXQgc3luY2hyb25vdXMgZGV2aWNlIGtlcm5lbCBjYWxscycsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdzeXNjYWxsU3Vic2NyaWJlJyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfc3lzY2FsbF90b3RhbCcsXG4gICAgc3ViOiB7IGRpbWVuc2lvbjogJ3N5c2NhbGwnLCB2YWx1ZTogJ3N1YnNjcmliZScgfSxcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIG51bWJlciBvZiBTd2luZ1NldCBwcm9taXNlIHN1YnNjcmlwdGlvbiBrZXJuZWwgY2FsbHMnLFxuICB9LFxuICB7XG4gICAga2V5OiAnc3lzY2FsbFJlc29sdmUnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9zeXNjYWxsX3RvdGFsJyxcbiAgICBzdWI6IHsgZGltZW5zaW9uOiAnc3lzY2FsbCcsIHZhbHVlOiAncmVzb2x2ZScgfSxcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIG51bWJlciBvZiBTd2luZ1NldCBwcm9taXNlIHJlc29sdXRpb24ga2VybmVsIGNhbGxzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ3N5c2NhbGxFeGl0JyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfc3lzY2FsbF90b3RhbCcsXG4gICAgc3ViOiB7IGRpbWVuc2lvbjogJ3N5c2NhbGwnLCB2YWx1ZTogJ2V4aXQnIH0sXG4gICAgZGVzY3JpcHRpb246ICdUb3RhbCBudW1iZXIgb2YgU3dpbmdTZXQgdmF0IGV4aXQga2VybmVsIGNhbGxzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ3N5c2NhbGxWYXRzdG9yZUdldCcsXG4gICAgbmFtZTogJ3N3aW5nc2V0X3N5c2NhbGxfdG90YWwnLFxuICAgIHN1YjogeyBkaW1lbnNpb246ICdzeXNjYWxsJywgdmFsdWU6ICd2YXRzdG9yZUdldCcgfSxcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIG51bWJlciBvZiBTd2luZ1NldCB2YXRzdG9yZSBnZXQga2VybmVsIGNhbGxzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ3N5c2NhbGxWYXRzdG9yZVNldCcsXG4gICAgbmFtZTogJ3N3aW5nc2V0X3N5c2NhbGxfdG90YWwnLFxuICAgIHN1YjogeyBkaW1lbnNpb246ICdzeXNjYWxsJywgdmFsdWU6ICd2YXRzdG9yZVNldCcgfSxcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIG51bWJlciBvZiBTd2luZ1NldCB2YXRzdG9yZSBzZXQga2VybmVsIGNhbGxzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ3N5c2NhbGxWYXRzdG9yZUdldE5leHRLZXknLFxuICAgIG5hbWU6ICdzd2luZ3NldF9zeXNjYWxsX3RvdGFsJyxcbiAgICBzdWI6IHsgZGltZW5zaW9uOiAnc3lzY2FsbCcsIHZhbHVlOiAndmF0c3RvcmVHZXROZXh0JyB9LFxuICAgIGRlc2NyaXB0aW9uOiAnVG90YWwgbnVtYmVyIG9mIFN3aW5nU2V0IHZhdHN0b3JlIGdldE5leHRLZXkga2VybmVsIGNhbGxzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ3N5c2NhbGxWYXRzdG9yZURlbGV0ZScsXG4gICAgbmFtZTogJ3N3aW5nc2V0X3N5c2NhbGxfdG90YWwnLFxuICAgIHN1YjogeyBkaW1lbnNpb246ICdzeXNjYWxsJywgdmFsdWU6ICd2YXRzdG9yZURlbGV0ZScgfSxcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIG51bWJlciBvZiBTd2luZ1NldCB2YXRzdG9yZSBkZWxldGUga2VybmVsIGNhbGxzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ3N5c2NhbGxEcm9wSW1wb3J0cycsXG4gICAgbmFtZTogJ3N3aW5nc2V0X3N5c2NhbGxfdG90YWwnLFxuICAgIHN1YjogeyBkaW1lbnNpb246ICdzeXNjYWxsJywgdmFsdWU6ICdkcm9wSW1wb3J0cycgfSxcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIG51bWJlciBvZiBTd2luZ1NldCBkcm9wIGltcG9ydHMga2VybmVsIGNhbGxzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ2Rpc3BhdGNoZXMnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9kaXNwYXRjaF90b3RhbCcsXG4gICAgZGVzY3JpcHRpb246ICdUb3RhbCBudW1iZXIgb2YgU3dpbmdTZXQgdmF0IGNhbGxzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ2Rpc3BhdGNoRGVsaXZlcicsXG4gICAgbmFtZTogJ3N3aW5nc2V0X2Rpc3BhdGNoX2RlbGl2ZXJfdG90YWwnLFxuICAgIGRlc2NyaXB0aW9uOiAnVG90YWwgbnVtYmVyIG9mIFN3aW5nU2V0IHZhdCBtZXNzYWdlIGRlbGl2ZXJpZXMnLFxuICB9LFxuICB7XG4gICAga2V5OiAnZGlzcGF0Y2hOb3RpZnknLFxuICAgIG5hbWU6ICdzd2luZ3NldF9kaXNwYXRjaF9ub3RpZnlfdG90YWwnLFxuICAgIGRlc2NyaXB0aW9uOiAnVG90YWwgbnVtYmVyIG9mIFN3aW5nU2V0IHZhdCBwcm9taXNlIG5vdGlmaWNhdGlvbnMnLFxuICB9LFxuXTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UuS0VSTkVMX1NUQVRTX1NVTV9NRVRSSUNTKEtFUk5FTF9TVEFUU19TVU1fTUVUUklDUyk7XG4gICAgICAgY29uc3QgS0VSTkVMX1NUQVRTX1VQRE9XTl9NRVRSSUNTID0gW1xuICB7XG4gICAga2V5OiAna2VybmVsT2JqZWN0cycsXG4gICAgbmFtZTogJ3N3aW5nc2V0X2tlcm5lbF9vYmplY3RzJyxcbiAgICBkZXNjcmlwdGlvbjogJ0FjdGl2ZSBrZXJuZWwgb2JqZWN0cycsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdrZXJuZWxEZXZpY2VzJyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfa2VybmVsX2RldmljZXMnLFxuICAgIGRlc2NyaXB0aW9uOiAnQWN0aXZlIGtlcm5lbCBkZXZpY2VzJyxcbiAgfSxcbiAge1xuICAgIGtleTogJ2tlcm5lbFByb21pc2VzJyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfa2VybmVsX3Byb21pc2VzJyxcbiAgICBkZXNjcmlwdGlvbjogJ0FjdGl2ZSBrZXJuZWwgcHJvbWlzZXMnLFxuICB9LFxuICB7XG4gICAga2V5OiAna3BVbnJlc29sdmVkJyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfdW5yZXNvbHZlZF9rZXJuZWxfcHJvbWlzZXMnLFxuICAgIGRlc2NyaXB0aW9uOiAnVW5yZXNvbHZlZCBrZXJuZWwgcHJvbWlzZXMnLFxuICB9LFxuICB7XG4gICAga2V5OiAna3BGdWxmaWxsZWQnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9mdWxmaWxsZWRfa2VybmVsX3Byb21pc2VzJyxcbiAgICBkZXNjcmlwdGlvbjogJ0Z1bGZpbGxlZCBrZXJuZWwgcHJvbWlzZXMnLFxuICB9LFxuICB7XG4gICAga2V5OiAna3BSZWplY3RlZCcsXG4gICAgbmFtZTogJ3N3aW5nc2V0X3JlamVjdGVkX2tlcm5lbF9wcm9taXNlcycsXG4gICAgZGVzY3JpcHRpb246ICdSZWplY3RlZCBrZXJuZWwgcHJvbWlzZXMnLFxuICB9LFxuICB7XG4gICAga2V5OiAncnVuUXVldWVMZW5ndGgnLFxuICAgIG5hbWU6ICdzd2luZ3NldF9ydW5fcXVldWVfbGVuZ3RoJyxcbiAgICBjb25zZW5zdXM6IHRydWUsXG4gICAgZGVzY3JpcHRpb246ICdMZW5ndGggb2YgdGhlIGtlcm5lbCBydW4gcXVldWUnLFxuICB9LFxuICB7XG4gICAga2V5OiAnYWNjZXB0YW5jZVF1ZXVlTGVuZ3RoJyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfYWNjZXB0YW5jZV9xdWV1ZV9sZW5ndGgnLFxuICAgIGNvbnNlbnN1czogdHJ1ZSxcbiAgICBkZXNjcmlwdGlvbjogJ0xlbmd0aCBvZiB0aGUga2VybmVsIGFjY2VwdGFuY2UgcXVldWUnLFxuICB9LFxuICB7XG4gICAga2V5OiAncHJvbWlzZVF1ZXVlc0xlbmd0aCcsXG4gICAgbmFtZTogJ3N3aW5nc2V0X3Byb21pc2VfcXVldWVzX2xlbmd0aCcsXG4gICAgY29uc2Vuc3VzOiB0cnVlLFxuICAgIGRlc2NyaXB0aW9uOiAnQ29tYmluZWQgbGVuZ3RoIG9mIGFsbCBrZXJuZWwgcHJvbWlzZSBxdWV1ZXMnLFxuICB9LFxuICB7XG4gICAga2V5OiAnY2xpc3RFbnRyaWVzJyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfY2xpc3RfZW50cmllcycsXG4gICAgZGVzY3JpcHRpb246ICdOdW1iZXIgb2YgZW50cmllcyBpbiB0aGUga2VybmVsIGMtbGlzdCcsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICd2YXRzJyxcbiAgICBuYW1lOiAnc3dpbmdzZXRfdmF0cycsXG4gICAgZGVzY3JpcHRpb246ICdOdW1iZXIgb2YgYWN0aXZlIHZhdHMnLFxuICB9LFxuXTskaM2PX29uY2UuS0VSTkVMX1NUQVRTX1VQRE9XTl9NRVRSSUNTKEtFUk5FTF9TVEFUU19VUERPV05fTUVUUklDUyk7XG5cbmNvbnN0IHsgQ291bnRlciwgR2F1Z2UgfSA9IE1ldHJpY1R5cGU7XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBLRVJORUxfU1RBVFNfTUVUUklDUyA9IGhhcmRlbihbXG4gIC4uLktFUk5FTF9TVEFUU19TVU1fTUVUUklDUy5tYXAobSA9PiAoeyAuLi5tLCBtZXRyaWNUeXBlOiBDb3VudGVyIH0pKSxcbiAgLi4uS0VSTkVMX1NUQVRTX1VQRE9XTl9NRVRSSUNTLm1hcChtID0+ICh7IC4uLm0sIG1ldHJpY1R5cGU6IEdhdWdlIH0pKSxcbl0pO1xuXG4vL1xuJGjNj19vbmNlLktFUk5FTF9TVEFUU19NRVRSSUNTKEtFUk5FTF9TVEFUU19NRVRSSUNTKTtjb25zdCBrZXJuZWxTdGF0c0tleXM9bmV3IE1hcCgpO1xuZm9yIChjb25zdCB7IGtleSB9IG9mIEtFUk5FTF9TVEFUU19NRVRSSUNTKSB7XG4gIGtlcm5lbFN0YXRzS2V5cy5zZXQoa2V5LCAoa2VybmVsU3RhdHNLZXlzLmdldChrZXkpIHx8IDApICsgMSk7XG59XG5jb25zdCBkdXBsaWNhdGVLZXJuZWxTdGF0c0tleXMgPSBbLi4ua2VybmVsU3RhdHNLZXlzLmVudHJpZXMoKV0uZmxhdE1hcChcbiAgKFtrZXksIHZhbHVlXSkgPT4gKHZhbHVlID4gMSA/IFtrZXldIDogW10pLFxuKTtcbmlmIChkdXBsaWNhdGVLZXJuZWxTdGF0c0tleXMubGVuZ3RoID4gMCkge1xuICBjb25zdCBtc2cgPSBgRHVwbGljYXRlIGtlcm5lbCBzdGF0cyBrZXlzICR7SlNPTi5zdHJpbmdpZnkoZHVwbGljYXRlS2VybmVsU3RhdHNLZXlzKX1gO1xuICB0aHJvdyBFcnJvcihtc2cpO1xufVxufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiSElTVE9HUkFNX01FVFJJQ1MiOlsiSElTVE9HUkFNX01FVFJJQ1MiXSwiQkxPQ0tfSElTVE9HUkFNX01FVFJJQ1MiOlsiQkxPQ0tfSElTVE9HUkFNX01FVFJJQ1MiXSwiUXVldWVNZXRyaWNBc3BlY3QiOlsiUXVldWVNZXRyaWNBc3BlY3QiXSwibWFrZVF1ZXVlTWV0cmljc01ldGEiOlsibWFrZVF1ZXVlTWV0cmljc01ldGEiXSwibWFrZVF1ZXVlTWV0cmljcyI6WyJtYWtlUXVldWVNZXRyaWNzIl0sIktFUk5FTF9TVEFUU19TVU1fTUVUUklDUyI6WyJLRVJORUxfU1RBVFNfU1VNX01FVFJJQ1MiXSwiS0VSTkVMX1NUQVRTX1VQRE9XTl9NRVRSSUNTIjpbIktFUk5FTF9TVEFUU19VUERPV05fTUVUUklDUyJdLCJLRVJORUxfU1RBVFNfTUVUUklDUyI6WyJLRVJORUxfU1RBVFNfTUVUUklDUyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADmR6wfBAUAAAQFAAArAAAAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL25hdHVyYWwtc29ydC5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsibmF0dXJhbENvbXBhcmUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7LypcblxuXG5cbiAqL1xuY29uc3QgY29tcGFyZU5hdHMgPSAoYSwgYikgPT4ge1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICBjb25zdCBkaWZmID0gK2EgLSArYjtcbiAgY29uc3QgZmluaXRlRGlmZiA9XG4gICAgKE51bWJlci5pc0Zpbml0ZShkaWZmKSAmJiBkaWZmKSB8fFxuICAgIChhID09PSBiID8gMCA6IE51bWJlcihCaWdJbnQoYSkgLSBCaWdJbnQoYikpIHx8IGEubGVuZ3RoIC0gYi5sZW5ndGgpO1xuXG4gIC8vXG4gIHJldHVybiBNYXRoLnNpZ24oZmluaXRlRGlmZik7XG59O1xuXG4vL1xuLy9cbi8vXG5jb25zdCBjb21wYXJlU3RyaW5ncyA9IChhLCBiKSA9PiAoYSA+IGIgPyAxIDogYSA8IGIgPyAtMSA6IDApO1xuXG5jb25zdCByUHJlZml4ZWREaWdpdHMgPSAvXihcXEQqKShcXGQrKShcXEQuKnwpL3M7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBuYXR1cmFsQ29tcGFyZSA9IChhLCBiKSA9PiB7XG4gIGNvbnN0IFtfYSwgYVByZWZpeCwgYURpZ2l0cywgYVN1ZmZpeF0gPSByUHJlZml4ZWREaWdpdHMuZXhlYyhhKSB8fCBbXTtcbiAgaWYgKGFQcmVmaXggIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IFtfYiwgYlByZWZpeCwgYkRpZ2l0cywgYlN1ZmZpeF0gPSByUHJlZml4ZWREaWdpdHMuZXhlYyhiKSB8fCBbXTtcbiAgICBpZiAoYlByZWZpeCA9PT0gYVByZWZpeCkge1xuICAgICAgcmV0dXJuIGNvbXBhcmVOYXRzKGFEaWdpdHMsIGJEaWdpdHMpIHx8IGNvbXBhcmVTdHJpbmdzKGFTdWZmaXgsIGJTdWZmaXgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29tcGFyZVN0cmluZ3MoYSwgYik7XG59OyRozY9fb25jZS5uYXR1cmFsQ29tcGFyZShuYXR1cmFsQ29tcGFyZSk7XG5oYXJkZW4obmF0dXJhbENvbXBhcmUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibmF0dXJhbENvbXBhcmUiOlsibmF0dXJhbENvbXBhcmUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAmkLCXs0sAADNLAAAKAAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9zZXMtdXRpbHMuanN7ImltcG9ydHMiOlsiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiLCJAZW5kby9jb21tb24vb2JqZWN0LW1ldGEtbWFwLmpzIiwiQGVuZG8vY29tbW9uL2Zyb20tdW5pcXVlLWVudHJpZXMuanMiLCJAZW5kby9lcnJvcnMiLCJAZW5kby9tYXJzaGFsIiwiQGVuZG8vcHJvbWlzZS1raXQiLCJAZW5kby9zdHJlYW0iLCJqZXNzaWUuanMiLCIuL2pzLXV0aWxzLmpzIl0sImV4cG9ydHMiOlsiUHJvbWlzZUFsbE9yRXJyb3JzIiwiYWdncmVnYXRlVHJ5RmluYWxseSIsImFsbFZhbHVlcyIsImFzc2VydEFsbERlZmluZWQiLCJhdHRlbnVhdGUiLCJkZWVwbHlGdWxmaWxsZWRPYmplY3QiLCJmb3JldmVyIiwiZnJvbVVuaXF1ZUVudHJpZXMiLCJtYWtlTGltaXRlZENvbnNvbGUiLCJvYmplY3RNYXAiLCJvYmplY3RNZXRhTWFwIiwic3luY2hyb25pemVkVGVlIiwidW50aWxUcnVlIiwid2hpbGVUcnVlIiwid2l0aERlZmVycmVkQ2xlYW51cCIsInppcCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG9iamVjdE1hcCxvYmplY3RNZXRhTWFwLGZyb21VbmlxdWVFbnRyaWVzLHEsRmFpbCxtYWtlRXJyb3IsYW5ub3RhdGVFcnJvcixYLGRlZXBseUZ1bGZpbGxlZCxpc09iamVjdCxtYWtlUHJvbWlzZUtpdCxtYWtlUXVldWUsYXN5bmNHZW5lcmF0ZSxsb2dMZXZlbHM7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9jb21tb24vb2JqZWN0LW1hcC5qc1wiLCBbW1wib2JqZWN0TWFwXCIsWyRozY9fYSA9PiAob2JqZWN0TWFwID0gJGjNj19hKSwkaM2PX2xpdmVbXCJvYmplY3RNYXBcIl1dXV1dLFtcIkBlbmRvL2NvbW1vbi9vYmplY3QtbWV0YS1tYXAuanNcIiwgW1tcIm9iamVjdE1ldGFNYXBcIixbJGjNj19hID0+IChvYmplY3RNZXRhTWFwID0gJGjNj19hKSwkaM2PX2xpdmVbXCJvYmplY3RNZXRhTWFwXCJdXV1dXSxbXCJAZW5kby9jb21tb24vZnJvbS11bmlxdWUtZW50cmllcy5qc1wiLCBbW1wiZnJvbVVuaXF1ZUVudHJpZXNcIixbJGjNj19hID0+IChmcm9tVW5pcXVlRW50cmllcyA9ICRozY9fYSksJGjNj19saXZlW1wiZnJvbVVuaXF1ZUVudHJpZXNcIl1dXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dLFtcImFubm90YXRlRXJyb3JcIixbJGjNj19hID0+IChhbm5vdGF0ZUVycm9yID0gJGjNj19hKV1dLFtcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vbWFyc2hhbFwiLCBbW1wiZGVlcGx5RnVsZmlsbGVkXCIsWyRozY9fYSA9PiAoZGVlcGx5RnVsZmlsbGVkID0gJGjNj19hKV1dLFtcImlzT2JqZWN0XCIsWyRozY9fYSA9PiAoaXNPYmplY3QgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wcm9taXNlLWtpdFwiLCBbW1wibWFrZVByb21pc2VLaXRcIixbJGjNj19hID0+IChtYWtlUHJvbWlzZUtpdCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3N0cmVhbVwiLCBbW1wibWFrZVF1ZXVlXCIsWyRozY9fYSA9PiAobWFrZVF1ZXVlID0gJGjNj19hKV1dXV0sW1wiamVzc2llLmpzXCIsIFtbXCJhc3luY0dlbmVyYXRlXCIsWyRozY9fYSA9PiAoYXN5bmNHZW5lcmF0ZSA9ICRozY9fYSldXV1dLFtcIi4vanMtdXRpbHMuanNcIiwgW1tcImxvZ0xldmVsc1wiLFskaM2PX2EgPT4gKGxvZ0xldmVscyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuY29uc3QgeyBmcm9tRW50cmllcywga2V5cywgdmFsdWVzIH0gPSBPYmplY3Q7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgbWFrZUxpbWl0ZWRDb25zb2xlID0gbWFrZUxvZ2dlciA9PiB7XG4gIGNvbnN0IGxpbWl0ZWRDb25zb2xlID0gLyogICAgICAgICAgICAgICovIChcbiAgICBmcm9tRW50cmllcyhsb2dMZXZlbHMubWFwKGxldmVsID0+IFtsZXZlbCwgbWFrZUxvZ2dlcihsZXZlbCldKSlcbiAgKTtcbiAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICAgICovIChoYXJkZW4obGltaXRlZENvbnNvbGUpKTtcbn07JGjNj19vbmNlLm1ha2VMaW1pdGVkQ29uc29sZShtYWtlTGltaXRlZENvbnNvbGUpO1xuaGFyZGVuKG1ha2VMaW1pdGVkQ29uc29sZSk7XG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBkZWVwbHlGdWxmaWxsZWRPYmplY3QgPSBhc3luYyBvYmogPT4ge1xuICBpc09iamVjdChvYmopIHx8IEZhaWxgcGFyYW0gbXVzdCBiZSBhbiBvYmplY3RgO1xuICByZXR1cm4gZGVlcGx5RnVsZmlsbGVkKG9iaik7XG59O1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLmRlZXBseUZ1bGZpbGxlZE9iamVjdChkZWVwbHlGdWxmaWxsZWRPYmplY3QpO1xuY29uc3QgbWFrZUFnZ3JlZ2F0ZUVycm9yID1cbiAgdHlwZW9mIEFnZ3JlZ2F0ZUVycm9yID09PSAnZnVuY3Rpb24nXG4gICAgPyAoZXJyb3JzLCBtZXNzYWdlLCBvcHRpb25zKSA9PiBBZ2dyZWdhdGVFcnJvcihlcnJvcnMsIG1lc3NhZ2UsIG9wdGlvbnMpXG4gICAgOiAoZXJyb3JzLCBtZXNzYWdlLCBvcHRpb25zKSA9PiB7XG4gICAgICAgIHJldHVybiBtYWtlRXJyb3IobWVzc2FnZSA/PyAnbXVsdGlwbGUgZXJyb3JzJywgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICBlcnJvcnMsXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IFByb21pc2VBbGxPckVycm9ycyA9IGFzeW5jIGl0ZW1zID0+IHtcbiAgcmV0dXJuIFByb21pc2UuYWxsU2V0dGxlZChpdGVtcykudGhlbihyZXN1bHRzID0+IHtcbiAgICBjb25zdCBlcnJvcnMgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICByZXN1bHRzLmZpbHRlcigoeyBzdGF0dXMgfSkgPT4gc3RhdHVzID09PSAncmVqZWN0ZWQnKVxuICAgICkubWFwKHJlc3VsdCA9PiByZXN1bHQucmVhc29uKTtcbiAgICBpZiAoIWVycm9ycy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHJlc3VsdHMpLm1hcChcbiAgICAgICAgcmVzdWx0ID0+IHJlc3VsdC52YWx1ZSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChlcnJvcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICB0aHJvdyBlcnJvcnNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG1ha2VBZ2dyZWdhdGVFcnJvcihlcnJvcnMpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UuUHJvbWlzZUFsbE9yRXJyb3JzKFByb21pc2VBbGxPckVycm9ycyk7XG4gICAgICAgY29uc3QgYWdncmVnYXRlVHJ5RmluYWxseSA9IGFzeW5jICh0cmllciwgZmluYWxpemVyKSA9PlxuICB0cmllcigpLnRoZW4oXG4gICAgYXN5bmMgcmVzdWx0ID0+IGZpbmFsaXplcigpLnRoZW4oKCkgPT4gcmVzdWx0KSxcbiAgICBhc3luYyB0cnlFcnJvciA9PlxuICAgICAgZmluYWxpemVyKHRyeUVycm9yKVxuICAgICAgICAudGhlbihcbiAgICAgICAgICAoKSA9PiB0cnlFcnJvcixcbiAgICAgICAgICBmaW5hbGl6ZUVycm9yID0+IG1ha2VBZ2dyZWdhdGVFcnJvcihbdHJ5RXJyb3IsIGZpbmFsaXplRXJyb3JdKSxcbiAgICAgICAgKVxuICAgICAgICAudGhlbihlcnJvciA9PiBQcm9taXNlLnJlamVjdChlcnJvcikpLFxuICApO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuYWdncmVnYXRlVHJ5RmluYWxseShhZ2dyZWdhdGVUcnlGaW5hbGx5KTtcbiAgICAgICBjb25zdCB3aXRoRGVmZXJyZWRDbGVhbnVwID0gYXN5bmMgZm4gPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgY2xlYW51cHNMSUZPID0gW107XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBhZGRDbGVhbnVwID0gY2xlYW51cCA9PiB7XG4gICAgY2xlYW51cHNMSUZPLnVuc2hpZnQoY2xlYW51cCk7XG4gIH07XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGZpbmFsaXplciA9IGFzeW5jIGVyciA9PiB7XG4gICAgLy9cbiAgICBjb25zdCBjbGVhbnVwUmVzdWx0cyA9IGNsZWFudXBzTElGTy5tYXAoYXN5bmMgY2xlYW51cCA9PiB7XG4gICAgICBhd2FpdCBudWxsO1xuICAgICAgcmV0dXJuIGNsZWFudXAoZXJyKTtcbiAgICB9KTtcbiAgICBhd2FpdCBQcm9taXNlQWxsT3JFcnJvcnMoY2xlYW51cFJlc3VsdHMpO1xuICB9O1xuICByZXR1cm4gYWdncmVnYXRlVHJ5RmluYWxseSgoKSA9PiBmbihhZGRDbGVhbnVwKSwgZmluYWxpemVyKTtcbn07XG5cbi8qXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS53aXRoRGVmZXJyZWRDbGVhbnVwKHdpdGhEZWZlcnJlZENsZWFudXApO1xuICAgICAgIGNvbnN0IGFzc2VydEFsbERlZmluZWQgPSBvYmogPT4ge1xuICBjb25zdCBtaXNzaW5nID0gW107XG4gIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhvYmopKSB7XG4gICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBtaXNzaW5nLnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkge1xuICAgIEZhaWxgbWlzc2luZyAke3EobWlzc2luZyl9YDtcbiAgfVxufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5hc3NlcnRBbGxEZWZpbmVkKGFzc2VydEFsbERlZmluZWQpO1xuICAgICAgIGNvbnN0IGF0dGVudWF0ZSA9IChzcGVjaW1lbiwgcGVybWl0LCB0cmFuc2Zvcm0gPSB4ID0+IHgpID0+IHtcbiAgLy9cbiAgaWYgKHBlcm1pdCA9PT0gdHJ1ZSB8fCB0eXBlb2YgcGVybWl0ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChzcGVjaW1lbik7XG4gIH1cblxuICAvKiAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBwYXRoID0gW107XG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBleHRyYWN0ID0gKHN1YlNwZWNpbWVuLCBzdWJQZXJtaXQpID0+IHtcbiAgICBpZiAoc3ViUGVybWl0ID09PSBudWxsIHx8IHR5cGVvZiBzdWJQZXJtaXQgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBwYXRoLmxlbmd0aCA9PT0gMFxuICAgICAgICA/IEZhaWxgaW52YWxpZCBwZXJtaXQ6ICR7cShwZXJtaXQpfWBcbiAgICAgICAgOiBGYWlsYGludmFsaWQgcGVybWl0IGF0IHBhdGggJHtxKHBhdGgpfTogJHtxKHN1YlBlcm1pdCl9YDtcbiAgICB9IGVsc2UgaWYgKHN1YlNwZWNpbWVuID09PSBudWxsIHx8IHR5cGVvZiBzdWJTcGVjaW1lbiAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IHBhdGgubGVuZ3RoID09PSAwXG4gICAgICAgID8gRmFpbGBzcGVjaW1lbiBtdXN0IGJlIGFuIG9iamVjdCBmb3IgcGVybWl0ICR7cShwZXJtaXQpfWBcbiAgICAgICAgOiBGYWlsYHNwZWNpbWVuIGF0IHBhdGggJHtxKHBhdGgpfSBtdXN0IGJlIGFuIG9iamVjdCBmb3IgcGVybWl0ICR7cShzdWJQZXJtaXQpfWA7XG4gICAgfVxuICAgIGNvbnN0IHBpY2tzID0gT2JqZWN0LmVudHJpZXMoc3ViUGVybWl0KS5tYXAoKFtzdWJLZXksIGRlZXBQZXJtaXRdKSA9PiB7XG4gICAgICBpZiAoIU9iamVjdC5oYXNPd24oc3ViU3BlY2ltZW4sIHN1YktleSkpIHtcbiAgICAgICAgdGhyb3cgRmFpbGBzcGVjaW1lbiBpcyBtaXNzaW5nIHBhdGggJHtxKHBhdGguY29uY2F0KHN1YktleSkpfWA7XG4gICAgICB9XG4gICAgICBjb25zdCBkZWVwU3BlY2ltZW4gPSBSZWZsZWN0LmdldChzdWJTcGVjaW1lbiwgc3ViS2V5KTtcbiAgICAgIGlmIChkZWVwUGVybWl0ID09PSB0cnVlIHx8IHR5cGVvZiBkZWVwUGVybWl0ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gW3N1YktleSwgZGVlcFNwZWNpbWVuXTtcbiAgICAgIH1cbiAgICAgIHBhdGgucHVzaChzdWJLZXkpO1xuICAgICAgY29uc3QgZXh0cmFjdGVkID0gZXh0cmFjdCgvKiAgICAgICAgICAgICAgKi8gKGRlZXBTcGVjaW1lbiksIGRlZXBQZXJtaXQpO1xuICAgICAgY29uc3QgZW50cnkgPSBbc3ViS2V5LCBleHRyYWN0ZWRdO1xuICAgICAgcGF0aC5wb3AoKTtcbiAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJhbnNmb3JtKE9iamVjdC5mcm9tRW50cmllcyhwaWNrcyksIHN1YlBlcm1pdCk7XG4gIH07XG5cbiAgLy9cbiAgcmV0dXJuIGV4dHJhY3Qoc3BlY2ltZW4sIHBlcm1pdCk7XG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5hdHRlbnVhdGUoYXR0ZW51YXRlKTtcbmNvbnN0IG5vdERvbmUgPSBoYXJkZW4oeyBkb25lOiBmYWxzZSwgdmFsdWU6IHVuZGVmaW5lZCB9KTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBhbHdheXNEb25lID0gaGFyZGVuKHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9KTtcblxuICAgICAgIGNvbnN0IGZvcmV2ZXIgPSBhc3luY0dlbmVyYXRlKCgpID0+IG5vdERvbmUpO1xuXG4vKlxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5mb3JldmVyKGZvcmV2ZXIpO1xuICAgICAgIGNvbnN0IHdoaWxlVHJ1ZSA9IHByb2R1Y2UgPT5cbiAgYXN5bmNHZW5lcmF0ZShhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwcm9kdWNlKCk7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIGFsd2F5c0RvbmU7XG4gICAgfVxuICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgZG9uZTogZmFsc2UsXG4gICAgICB2YWx1ZSxcbiAgICB9KTtcbiAgfSk7XG5cbi8qXG5cblxuXG5cblxuICovJGjNj19vbmNlLndoaWxlVHJ1ZSh3aGlsZVRydWUpO1xuICAgICAgIGNvbnN0IHVudGlsVHJ1ZSA9IHByb2R1Y2UgPT5cbiAgYXN5bmNHZW5lcmF0ZShhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwcm9kdWNlKCk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgZG9uZTogdHJ1ZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICBkb25lOiBmYWxzZSxcbiAgICAgIHZhbHVlLFxuICAgIH0pO1xuICB9KTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLnVudGlsVHJ1ZSh1bnRpbFRydWUpO1xuICAgICAgIGNvbnN0IHppcCA9ICh4cywgeXMpID0+IGhhcmRlbih4cy5tYXAoKHgsIGkpID0+IFt4LCB5c1sraV1dKSk7XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UuemlwKHppcCk7XG4gICAgICAgY29uc3QgYWxsVmFsdWVzID0gYXN5bmMgb2JqID0+IHtcbiAgY29uc3QgcmVzb2x2ZWQgPSBhd2FpdCBQcm9taXNlLmFsbCh2YWx1ZXMob2JqKSk7XG4gIC8vXG4gIHJldHVybiBoYXJkZW4oZnJvbUVudHJpZXMoemlwKGtleXMob2JqKSwgcmVzb2x2ZWQpKSk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuYWxsVmFsdWVzKGFsbFZhbHVlcyk7XG4gICAgICAgY29uc3Qgc3luY2hyb25pemVkVGVlID0gKHNvdXJjZVN0cmVhbSwgcmVhZGVyQ291bnQpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgbGV0IGRvbmVSZXN1bHQ7XG5cbiAgLypcblxuXG5cbiAgICovXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgcXVldWVzID0gW107XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBwdWxsTmV4dCA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXF1ZXN0cyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChxdWV1ZXMubWFwKHF1ZXVlID0+IHF1ZXVlLmdldCgpKSk7XG4gICAgY29uc3QgcmVqZWN0aW9ucyA9IFtdO1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IHJlc29sdmVycyA9IFtdO1xuICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBzZXR0bGVkUmVzdWx0IG9mIHJlcXVlc3RzKSB7XG4gICAgICBpZiAoc2V0dGxlZFJlc3VsdC5zdGF0dXMgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgcmVqZWN0aW9ucy5wdXNoKHNldHRsZWRSZXN1bHQucmVhc29uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUgfHw9ICEhc2V0dGxlZFJlc3VsdC52YWx1ZS5kb25lO1xuICAgICAgICByZXNvbHZlcnMucHVzaChzZXR0bGVkUmVzdWx0LnZhbHVlLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmIChkb25lUmVzdWx0KSB7XG4gICAgICByZXN1bHQgPSBQcm9taXNlLnJlc29sdmUoZG9uZVJlc3VsdCk7XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb25zLmxlbmd0aCkge1xuICAgICAgY29uc3QgZXJyb3IgPSBtYWtlRXJyb3IoWGBUZWVkIHN0cmVhbSB0aHJld2ApO1xuICAgICAgYW5ub3RhdGVFcnJvcihlcnJvciwgWGBUZWVkIHJlamVjdGlvbnM6ICR7cmVqZWN0aW9uc31gKTtcbiAgICAgIHJlc3VsdCA9XG4gICAgICAgIHNvdXJjZVN0cmVhbS50aHJvdz8uKGVycm9yKSB8fFxuICAgICAgICBQcm9taXNlLnJlc29sdmUoc291cmNlU3RyZWFtLnJldHVybj8uKCkpLnRoZW4oKCkgPT5cbiAgICAgICAgICBQcm9taXNlLnJlamVjdChlcnJvciksXG4gICAgICAgICk7XG4gICAgfSBlbHNlIGlmIChkb25lKSB7XG4gICAgICByZXN1bHQgPVxuICAgICAgICBzb3VyY2VTdHJlYW0ucmV0dXJuPy4oKSB8fFxuICAgICAgICBQcm9taXNlLnJlc29sdmUoeyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBzb3VyY2VTdHJlYW0ubmV4dCgpO1xuICAgIH1cbiAgICByZXN1bHQudGhlbihcbiAgICAgIHIgPT4ge1xuICAgICAgICBpZiAoci5kb25lKSB7XG4gICAgICAgICAgZG9uZVJlc3VsdCA9IHI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGRvbmVSZXN1bHQgPSB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICAgIH0sXG4gICAgKTtcbiAgICBmb3IgKGNvbnN0IHJlc29sdmUgb2YgcmVzb2x2ZXJzKSB7XG4gICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiBwdWxsTmV4dCgpO1xuICB9O1xuXG4gIGNvbnN0IHJlYWRlcnMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByZWFkZXJDb3VudCB9KS5tYXAoKCkgPT4ge1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgY29uc3QgcXVldWUgPSBtYWtlUXVldWUoKTtcbiAgICBxdWV1ZXMucHVzaChxdWV1ZSk7XG5cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IHJlYWRlciA9IGhhcmRlbih7XG4gICAgICBhc3luYyBuZXh0KCkge1xuICAgICAgICAvKlxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgeyBwcm9taXNlLCByZXNvbHZlIH0gPSBtYWtlUHJvbWlzZUtpdCgpO1xuICAgICAgICBxdWV1ZS5wdXQoeyB2YWx1ZTogcmVzb2x2ZSwgZG9uZTogZmFsc2UgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIHJldHVybigpIHtcbiAgICAgICAgLypcblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHsgcHJvbWlzZSwgcmVzb2x2ZSB9ID0gbWFrZVByb21pc2VLaXQoKTtcbiAgICAgICAgcXVldWUucHV0KHsgdmFsdWU6IHJlc29sdmUsIGRvbmU6IHRydWUgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIHRocm93KHJlYXNvbikge1xuICAgICAgICBjb25zdCByZWplY3Rpb24gPSBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICAgICAgICBxdWV1ZS5wdXQocmVqZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlamVjdGlvbjtcbiAgICAgIH0sXG4gICAgICAvL1xuICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlcjtcbiAgICAgIH0sXG4gICAgICAvL1xuICAgICAgYXN5bmMgW1N5bWJvbC5hc3luY0Rpc3Bvc2VdKCkge1xuICAgICAgICBhd2FpdCByZWFkZXIucmV0dXJuKCk7XG4gICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiByZWFkZXI7XG4gIH0pO1xuXG4gIHZvaWQgcHVsbE5leHQoKTtcbiAgcmV0dXJuIHJlYWRlcnM7XG59OyRozY9fb25jZS5zeW5jaHJvbml6ZWRUZWUoc3luY2hyb25pemVkVGVlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7Im9iamVjdE1hcCI6WyJvYmplY3RNYXAiLGZhbHNlXSwib2JqZWN0TWV0YU1hcCI6WyJvYmplY3RNZXRhTWFwIixmYWxzZV0sImZyb21VbmlxdWVFbnRyaWVzIjpbImZyb21VbmlxdWVFbnRyaWVzIixmYWxzZV19LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZUxpbWl0ZWRDb25zb2xlIjpbIm1ha2VMaW1pdGVkQ29uc29sZSJdLCJkZWVwbHlGdWxmaWxsZWRPYmplY3QiOlsiZGVlcGx5RnVsZmlsbGVkT2JqZWN0Il0sIlByb21pc2VBbGxPckVycm9ycyI6WyJQcm9taXNlQWxsT3JFcnJvcnMiXSwiYWdncmVnYXRlVHJ5RmluYWxseSI6WyJhZ2dyZWdhdGVUcnlGaW5hbGx5Il0sIndpdGhEZWZlcnJlZENsZWFudXAiOlsid2l0aERlZmVycmVkQ2xlYW51cCJdLCJhc3NlcnRBbGxEZWZpbmVkIjpbImFzc2VydEFsbERlZmluZWQiXSwiYXR0ZW51YXRlIjpbImF0dGVudWF0ZSJdLCJmb3JldmVyIjpbImZvcmV2ZXIiXSwid2hpbGVUcnVlIjpbIndoaWxlVHJ1ZSJdLCJ1bnRpbFRydWUiOlsidW50aWxUcnVlIl0sInppcCI6WyJ6aXAiXSwiYWxsVmFsdWVzIjpbImFsbFZhbHVlcyJdLCJzeW5jaHJvbml6ZWRUZWUiOlsic3luY2hyb25pemVkVGVlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAKMaFLHCBgAAwgYAACwAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvdGVzdGluZy11dGlscy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiZXZlbnRMb29wSXRlcmF0aW9uIiwiaW5zcGVjdE1hcFN0b3JlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8vXG4vKlxuXG5cbiAqL1xuLyogICAgICAgICAgICAgICAgICAgICAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBldmVudExvb3BJdGVyYXRpb24gPSBhc3luYyAoKSA9PlxuICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldEltbWVkaWF0ZShyZXNvbHZlKSk7JGjNj19vbmNlLmV2ZW50TG9vcEl0ZXJhdGlvbihldmVudExvb3BJdGVyYXRpb24pO1xuaGFyZGVuKGV2ZW50TG9vcEl0ZXJhdGlvbik7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IHN0cmluZ09yVGFnID0gdmFsdWUgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIFN5bWJvbC50b1N0cmluZ1RhZyBpbiB2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddO1xuICB9XG4gIHJldHVybiBTdHJpbmcodmFsdWUpO1xufTtcbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgaW5zcGVjdE1hcFN0b3JlID0gc3RvcmUgPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBvYmogPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgb2Ygc3RvcmUua2V5cygpKSB7XG4gICAgY29uc3QgdmFsdWUgPSBzdG9yZS5nZXQoa2V5KTtcbiAgICBjb25zdCBoYXNLZXlzID0gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAna2V5cycgaW4gdmFsdWU7XG4gICAgY29uc3QgaW5kZXggPSBzdHJpbmdPclRhZyhrZXkpO1xuICAgIGlmIChoYXNLZXlzICYmICdnZXQnIGluIHZhbHVlKSB7XG4gICAgICBvYmpbaW5kZXhdID0gaW5zcGVjdE1hcFN0b3JlKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGhhc0tleXMpIHtcbiAgICAgIG9ialtpbmRleF0gPSBBcnJheS5mcm9tKHZhbHVlLmtleXMoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtpbmRleF0gPVxuICAgICAgICB2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCAmJiBTeW1ib2wudG9TdHJpbmdUYWcgaW4gdmFsdWVcbiAgICAgICAgICA/IHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ11cbiAgICAgICAgICA6IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufTskaM2PX29uY2UuaW5zcGVjdE1hcFN0b3JlKGluc3BlY3RNYXBTdG9yZSk7XG5oYXJkZW4oaW5zcGVjdE1hcFN0b3JlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImV2ZW50TG9vcEl0ZXJhdGlvbiI6WyJldmVudExvb3BJdGVyYXRpb24iXSwiaW5zcGVjdE1hcFN0b3JlIjpbImluc3BlY3RNYXBTdG9yZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAgI8qkFwMAABcDAAAlAAAAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL3RtcERpci5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsibWFrZVRlbXBEaXJGYWN0b3J5Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VUZW1wRGlyRmFjdG9yeSA9IHRtcCA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHRtcERpciA9IHByZWZpeCA9PiB7XG4gICAgY29uc3QgeyBuYW1lLCByZW1vdmVDYWxsYmFjayB9ID0gdG1wLmRpclN5bmMoe1xuICAgICAgcHJlZml4LFxuICAgICAgdW5zYWZlQ2xlYW51cDogdHJ1ZSxcbiAgICB9KTtcbiAgICByZXR1cm4gW25hbWUsIHJlbW92ZUNhbGxiYWNrXTtcbiAgfTtcbiAgcmV0dXJuIHRtcERpcjtcbn07JGjNj19vbmNlLm1ha2VUZW1wRGlyRmFjdG9yeShtYWtlVGVtcERpckZhY3RvcnkpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVRlbXBEaXJGYWN0b3J5IjpbIm1ha2VUZW1wRGlyRmFjdG9yeSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACysov1GwMAABsDAAAoAAAAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL3R5cGVDaGVjay5qc3siaW1wb3J0cyI6WyJAZW5kby9wYXR0ZXJucyJdLCJleHBvcnRzIjpbImNhc3QiLCJtdXN0TWF0Y2giXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCB0eXBlbGVzc011c3RNYXRjaDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJtdXN0TWF0Y2hcIixbJGjNj19hID0+ICh0eXBlbGVzc011c3RNYXRjaCA9ICRozY9fYSldXV1dXSk7XG5cblxuLypcblxuICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IG11c3RNYXRjaCA9IHR5cGVsZXNzTXVzdE1hdGNoO1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UubXVzdE1hdGNoKG11c3RNYXRjaCk7XG4gICAgICAgY29uc3QgY2FzdCA9IChzcGVjaW1lbiwgcGF0dCkgPT4ge1xuICAvL1xuICAvL1xuICAvL1xuICBtdXN0TWF0Y2goc3BlY2ltZW4sIHBhdHQpO1xuICByZXR1cm4gc3BlY2ltZW47XG59OyRozY9fb25jZS5jYXN0KGNhc3QpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibXVzdE1hdGNoIjpbIm11c3RNYXRjaCJdLCJjYXN0IjpbImNhc3QiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAD8zCxDoEAAA6BAAAKQAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy90eXBlR3VhcmRzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL3BhdHRlcm5zIl0sImV4cG9ydHMiOlsiQnJpZGdlQmlnSW50U2hhcGUiLCJTdG9yYWdlTm9kZVNoYXBlIiwiVW5ndWFyZGVkSGVscGVySSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE07JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG4gICAgICAgY29uc3QgU3RvcmFnZU5vZGVTaGFwZSA9IE0ucmVtb3RhYmxlKCdTdG9yYWdlTm9kZScpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UuU3RvcmFnZU5vZGVTaGFwZShTdG9yYWdlTm9kZVNoYXBlKTtcbiAgICAgICBjb25zdCBVbmd1YXJkZWRIZWxwZXJJID0gTS5pbnRlcmZhY2UoXG4gICdoZWxwZXInLFxuICB7fSxcbiAgLy9cbiAgeyBzbG9wcHk6IHRydWUgfSxcbik7XG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuICovJGjNj19vbmNlLlVuZ3VhcmRlZEhlbHBlckkoVW5ndWFyZGVkSGVscGVySSk7XG4gICAgICAgY29uc3QgQnJpZGdlQmlnSW50U2hhcGUgPSBNLm9yKE0ubnVtYmVyKCksIE0uc3RyaW5nKCkpOyRozY9fb25jZS5CcmlkZ2VCaWdJbnRTaGFwZShCcmlkZ2VCaWdJbnRTaGFwZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJTdG9yYWdlTm9kZVNoYXBlIjpbIlN0b3JhZ2VOb2RlU2hhcGUiXSwiVW5ndWFyZGVkSGVscGVySSI6WyJVbmd1YXJkZWRIZWxwZXJJIl0sIkJyaWRnZUJpZ0ludFNoYXBlIjpbIkJyaWRnZUJpZ0ludFNoYXBlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEXM//FYAQAAWAEAACoAAABAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvdHlwZXMtaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAkna9+2kHAABpBwAAKgAAAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy91cGdyYWRlLWFwaS5qc3siaW1wb3J0cyI6WyJAZW5kby9wYXR0ZXJucyJdLCJleHBvcnRzIjpbIlVwZ3JhZGVEaXNjb25uZWN0aW9uU2hhcGUiLCJpc0FiYW5kb25lZEVycm9yIiwiaXNVcGdyYWRlRGlzY29ubmVjdGlvbiIsIm1ha2VVcGdyYWRlRGlzY29ubmVjdGlvbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE0sbWF0Y2hlczskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXSxbXCJtYXRjaGVzXCIsWyRozY9fYSA9PiAobWF0Y2hlcyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cbmNvbnN0IHsgaXNGcm96ZW4gfSA9IE9iamVjdDtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cblxuICAgICAgIGNvbnN0IFVwZ3JhZGVEaXNjb25uZWN0aW9uU2hhcGUgPSBoYXJkZW4oe1xuICBuYW1lOiAndmF0VXBncmFkZWQnLFxuICB1cGdyYWRlTWVzc2FnZTogTS5zdHJpbmcoKSxcbiAgaW5jYXJuYXRpb25OdW1iZXI6IE0ubnVtYmVyKCksXG59KTtcblxuLypcblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5VcGdyYWRlRGlzY29ubmVjdGlvblNoYXBlKFVwZ3JhZGVEaXNjb25uZWN0aW9uU2hhcGUpO1xuICAgICAgIGNvbnN0IG1ha2VVcGdyYWRlRGlzY29ubmVjdGlvbiA9ICh1cGdyYWRlTWVzc2FnZSwgdG9JbmNhcm5hdGlvbk51bWJlcikgPT5cbiAgaGFyZGVuKHtcbiAgICBuYW1lOiAndmF0VXBncmFkZWQnLFxuICAgIHVwZ3JhZGVNZXNzYWdlLFxuICAgIGluY2FybmF0aW9uTnVtYmVyOiB0b0luY2FybmF0aW9uTnVtYmVyLFxuICB9KTskaM2PX29uY2UubWFrZVVwZ3JhZGVEaXNjb25uZWN0aW9uKG1ha2VVcGdyYWRlRGlzY29ubmVjdGlvbik7XG5oYXJkZW4obWFrZVVwZ3JhZGVEaXNjb25uZWN0aW9uKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNVcGdyYWRlRGlzY29ubmVjdGlvbiA9IHJlYXNvbiA9PlxuICByZWFzb24gIT0gbnVsbCAmJiAvL1xuICBpc0Zyb3plbihyZWFzb24pICYmXG4gIG1hdGNoZXMocmVhc29uLCBVcGdyYWRlRGlzY29ubmVjdGlvblNoYXBlKTskaM2PX29uY2UuaXNVcGdyYWRlRGlzY29ubmVjdGlvbihpc1VwZ3JhZGVEaXNjb25uZWN0aW9uKTtcbmhhcmRlbihpc1VwZ3JhZGVEaXNjb25uZWN0aW9uKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBpc0FiYW5kb25lZEVycm9yID0gcmVhc29uID0+XG4gIHJlYXNvbiAhPSBudWxsICYmIC8vXG4gIGlzRnJvemVuKHJlYXNvbikgJiZcbiAgbWF0Y2hlcyhyZWFzb24sIE0uZXJyb3IoKSkgJiZcbiAgLy9cbiAgLy9cbiAgcmVhc29uLm1lc3NhZ2UgPT09ICd2YXQgdGVybWluYXRlZCc7JGjNj19vbmNlLmlzQWJhbmRvbmVkRXJyb3IoaXNBYmFuZG9uZWRFcnJvcik7XG5oYXJkZW4oaXNBYmFuZG9uZWRFcnJvcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJVcGdyYWRlRGlzY29ubmVjdGlvblNoYXBlIjpbIlVwZ3JhZGVEaXNjb25uZWN0aW9uU2hhcGUiXSwibWFrZVVwZ3JhZGVEaXNjb25uZWN0aW9uIjpbIm1ha2VVcGdyYWRlRGlzY29ubmVjdGlvbiJdLCJpc1VwZ3JhZGVEaXNjb25uZWN0aW9uIjpbImlzVXBncmFkZURpc2Nvbm5lY3Rpb24iXSwiaXNBYmFuZG9uZWRFcnJvciI6WyJpc0FiYW5kb25lZEVycm9yIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAKk8zaQmDAAAJgwAACMAAABAYWdvcmljL25ldHdvcmstdjAuMS4wL3NyYy9ieXRlcy5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9iYXNlNjQiLCJAZW5kby9wYXNzLXN0eWxlIl0sImV4cG9ydHMiOlsiYmFzZTY0VG9CeXRlcyIsImJ5dGVTb3VyY2VUb0Jhc2U2NCIsImJ5dGVzVG9TdHJpbmciLCJjb2VyY2VUb0J5dGVTb3VyY2UiLCJ0b0J5dGVzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgWCxGYWlsLGVuY29kZUJhc2U2NCxkZWNvZGVCYXNlNjQsaXNPYmplY3Q7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vYmFzZTY0XCIsIFtbXCJlbmNvZGVCYXNlNjRcIixbJGjNj19hID0+IChlbmNvZGVCYXNlNjQgPSAkaM2PX2EpXV0sW1wiZGVjb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAoZGVjb2RlQmFzZTY0ID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiaXNPYmplY3RcIixbJGjNj19hID0+IChpc09iamVjdCA9ICRozY9fYSldXV1dXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGNvZXJjZVRvQnl0ZVNvdXJjZSwnbmFtZScse3ZhbHVlOlwiY29lcmNlVG9CeXRlU291cmNlXCJ9KTskaM2PX29uY2UuY29lcmNlVG9CeXRlU291cmNlKGNvZXJjZVRvQnl0ZVNvdXJjZSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRvQnl0ZXMsJ25hbWUnLHt2YWx1ZTpcInRvQnl0ZXNcIn0pOyRozY9fb25jZS50b0J5dGVzKHRvQnl0ZXMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShieXRlc1RvU3RyaW5nLCduYW1lJyx7dmFsdWU6XCJieXRlc1RvU3RyaW5nXCJ9KTskaM2PX29uY2UuYnl0ZXNUb1N0cmluZyhieXRlc1RvU3RyaW5nKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYnl0ZVNvdXJjZVRvQmFzZTY0LCduYW1lJyx7dmFsdWU6XCJieXRlU291cmNlVG9CYXNlNjRcIn0pOyRozY9fb25jZS5ieXRlU291cmNlVG9CYXNlNjQoYnl0ZVNvdXJjZVRvQmFzZTY0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYmFzZTY0VG9CeXRlcywnbmFtZScse3ZhbHVlOlwiYmFzZTY0VG9CeXRlc1wifSk7JGjNj19vbmNlLmJhc2U2NFRvQnl0ZXMoYmFzZTY0VG9CeXRlcyk7XG5cblxuXG5cbi8qXG5cbiAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIGNvZXJjZVRvQnl0ZVNvdXJjZShzcGVjaW1lbikge1xuICBpZiAodHlwZW9mIHNwZWNpbWVuID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzcGVjaW1lbjtcbiAgfVxuXG4gIGlzT2JqZWN0KHNwZWNpbWVuKSB8fFxuICAgIGFzc2VydC5mYWlsKFhgbm9uLW9iamVjdCAke3NwZWNpbWVufSBpcyBub3QgYSBCeXRlU291cmNlYCwgVHlwZUVycm9yKTtcblxuICBjb25zdCBvYmogPSAvKiAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pO1xuICB0eXBlb2Ygb2JqW1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicgfHxcbiAgICBhc3NlcnQuZmFpbChYYG5vbi1pdGVyYWJsZSAke3NwZWNpbWVufSBpcyBub3QgYSBCeXRlU291cmNlYCwgVHlwZUVycm9yKTtcblxuICAvL1xuICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pO1xufVxuXG4vKlxuXG4gKi9cbmNvbnN0IGNvZXJjZVRvQnl0ZUFycmF5ID0gY29udGVudHMgPT4ge1xuICBpZiAodHlwZW9mIGNvbnRlbnRzID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBVaW50OEFycmF5LmZyb20oY29udGVudHMsIGMgPT4ge1xuICAgICAgY29uc3QgYiA9IGMuY2hhckNvZGVBdCgwKTtcbiAgICAgIGIgPD0gMHhmZiB8fCBGYWlsYGNoYXJhY3RlciBjYW5ub3QgYmUgY29lcmNlZCB0byBhbiBvY3RldDogJHtjfWA7XG4gICAgICByZXR1cm4gYjtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChjb250ZW50cyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAvL1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShcbiAgICAgIGNvbnRlbnRzLmJ1ZmZlcixcbiAgICAgIGNvbnRlbnRzLmJ5dGVPZmZzZXQsXG4gICAgICBjb250ZW50cy5ieXRlTGVuZ3RoLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGNvbnRlbnRzKTtcbn07XG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgZnVuY3Rpb24gdG9CeXRlcyhieXRlU291cmNlKSB7XG4gIC8vXG4gIC8vXG4gIGNvbnN0IGJ1ZiA9IGNvZXJjZVRvQnl0ZUFycmF5KGJ5dGVTb3VyY2UpO1xuICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSguLi5idWYpO1xufVxuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBmdW5jdGlvbiBieXRlc1RvU3RyaW5nKGJ5dGVzKSB7XG4gIHJldHVybiBieXRlcztcbn1cblxuLypcblxuXG5cblxuICovXG4gICAgICAgZnVuY3Rpb24gYnl0ZVNvdXJjZVRvQmFzZTY0KGJ5dGVTb3VyY2UpIHtcbiAgY29uc3QgYnl0ZXMgPSBjb2VyY2VUb0J5dGVBcnJheShieXRlU291cmNlKTtcbiAgcmV0dXJuIGVuY29kZUJhc2U2NChieXRlcyk7XG59XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSB7XG4gIHJldHVybiB0b0J5dGVzKGRlY29kZUJhc2U2NChzdHJpbmcpKTtcbn1cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImNvZXJjZVRvQnl0ZVNvdXJjZSI6WyJjb2VyY2VUb0J5dGVTb3VyY2UiXSwidG9CeXRlcyI6WyJ0b0J5dGVzIl0sImJ5dGVzVG9TdHJpbmciOlsiYnl0ZXNUb1N0cmluZyJdLCJieXRlU291cmNlVG9CYXNlNjQiOlsiYnl0ZVNvdXJjZVRvQmFzZTY0Il0sImJhc2U2NFRvQnl0ZXMiOlsiYmFzZTY0VG9CeXRlcyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAD6v7q1CwMAAAsDAAAjAAAAQGFnb3JpYy9uZXR3b3JrLXYwLjEuMC9zcmMvaW5kZXguanN7ImltcG9ydHMiOlsiLi9uZXR3b3JrLmpzIiwiLi9zaGFwZXMuanMiLCIuL3JvdXRlci5qcyIsIi4vbXVsdGlhZGRyLmpzIiwiLi9ieXRlcy5qcyIsIi4vdHlwZXMuanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlUm91dGVyUHJvdG9jb2wiLCJwcmVwYXJlUm91dGVyUHJvdG9jb2wiXSwicmVleHBvcnRzIjpbIi4vYnl0ZXMuanMiLCIuL211bHRpYWRkci5qcyIsIi4vbmV0d29yay5qcyIsIi4vc2hhcGVzLmpzIiwiLi90eXBlcy5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL25ldHdvcmsuanNcIiwgW11dLFtcIi4vc2hhcGVzLmpzXCIsIFtdXSxbXCIuL3JvdXRlci5qc1wiLCBbXV0sW1wiLi9tdWx0aWFkZHIuanNcIiwgW11dLFtcIi4vYnl0ZXMuanNcIiwgW11dLFtcIi4vdHlwZXMuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL3JvdXRlci5qcyI6W1sicHJlcGFyZVJvdXRlciIsInByZXBhcmVSb3V0ZXIiXSxbInByZXBhcmVSb3V0ZXJQcm90b2NvbCIsInByZXBhcmVSb3V0ZXJQcm90b2NvbCJdXX0sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAy4UPVkgFAABIBQAAJwAAAEBhZ29yaWMvbmV0d29yay12MC4xLjAvc3JjL211bHRpYWRkci5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsicGFyc2UiLCJ1bnBhcnNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShwYXJzZSwnbmFtZScse3ZhbHVlOlwicGFyc2VcIn0pOyRozY9fb25jZS5wYXJzZShwYXJzZSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHVucGFyc2UsJ25hbWUnLHt2YWx1ZTpcInVucGFyc2VcIn0pOyRozY9fb25jZS51bnBhcnNlKHVucGFyc2UpOy8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG4gICAgICAgZnVuY3Rpb24gcGFyc2UobWEpIHtcbiAgaWYgKHR5cGVvZiBtYSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbWE7XG4gIH1cbiAgbGV0IHMgPSBtYTtcbiAgbGV0IG07XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBhY2MgPSBbXTtcbiAgLy9cbiAgd2hpbGUgKChtID0gcy5tYXRjaCgvXlxcLyhbXi9dKikoXFwvKFteL10qKSk/LykpKSB7XG4gICAgcyA9IHMuc2xpY2UobVswXS5sZW5ndGgpO1xuICAgIGlmIChtWzJdKSB7XG4gICAgICBhY2MucHVzaChbbVsxXSwgbVszXV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL1xuICAgICAgYWNjLnB1c2goW21bMV1dKTtcbiAgICB9XG4gIH1cbiAgaWYgKHMgIT09ICcnIHx8IHMgPT09IG1hKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKFxuICAgICAgYEVycm9yIHBhcnNpbmcgTXVsdGlhZGRyICR7SlNPTi5zdHJpbmdpZnkobWEpfSBhdCAke0pTT04uc3RyaW5naWZ5KHMpfWAsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gYWNjO1xufVxuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBmdW5jdGlvbiB1bnBhcnNlKG1hKSB7XG4gIGlmICh0eXBlb2YgbWEgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG1hO1xuICB9XG4gIGNvbnN0IGpvaW5lZCA9IG1hLm1hcChrdiA9PiBrdi5qb2luKCcvJykpLmpvaW4oJy8nKTtcbiAgcmV0dXJuIGAvJHtqb2luZWR9YDtcbn1cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InBhcnNlIjpbInBhcnNlIl0sInVucGFyc2UiOlsidW5wYXJzZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAsdhM86qoAAOqqAAAlAAAAQGFnb3JpYy9uZXR3b3JrLXYwLjEuMC9zcmMvbmV0d29yay5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9mYXIiLCJAZW5kby9wYXR0ZXJucyIsIi4vYnl0ZXMuanMiLCIuL3NoYXBlcy5qcyJdLCJleHBvcnRzIjpbIkNMT1NFX1JFQVNPTl9GSU5BTElaRVIiLCJFTkRQT0lOVF9TRVBBUkFUT1IiLCJjcm9zc292ZXJDb25uZWN0aW9uIiwiZ2V0UHJlZml4ZXMiLCJwcmVwYXJlRWNob0Nvbm5lY3Rpb25LaXQiLCJwcmVwYXJlTG9vcGJhY2tQcm90b2NvbEhhbmRsZXIiLCJwcmVwYXJlTmV0d29ya1Bvd2VycyIsInByZXBhcmVOZXR3b3JrUHJvdG9jb2wiLCJwcmVwYXJlUG9ydEFsbG9jYXRvciIsInJldGhyb3dVbmxlc3NNaXNzaW5nIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxFLE0sdG9CeXRlcyxTaGFwZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi9ieXRlcy5qc1wiLCBbW1widG9CeXRlc1wiLFskaM2PX2EgPT4gKHRvQnl0ZXMgPSAkaM2PX2EpXV1dXSxbXCIuL3NoYXBlcy5qc1wiLCBbW1wiU2hhcGVcIixbJGjNj19hID0+IChTaGFwZSA9ICRozY9fYSldXV1dXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGdldFByZWZpeGVzLCduYW1lJyx7dmFsdWU6XCJnZXRQcmVmaXhlc1wifSk7JGjNj19vbmNlLmdldFByZWZpeGVzKGdldFByZWZpeGVzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocHJlcGFyZUxvb3BiYWNrUHJvdG9jb2xIYW5kbGVyLCduYW1lJyx7dmFsdWU6XCJwcmVwYXJlTG9vcGJhY2tQcm90b2NvbEhhbmRsZXJcIn0pOyRozY9fb25jZS5wcmVwYXJlTG9vcGJhY2tQcm90b2NvbEhhbmRsZXIocHJlcGFyZUxvb3BiYWNrUHJvdG9jb2xIYW5kbGVyKTtcblxuXG5cblxuXG5cblxuXG5cbi8vXG4vKlxuXG5cbiAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3Qgc2luayA9ICgpID0+IHt9O1xuaGFyZGVuKHNpbmspO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IEVORFBPSU5UX1NFUEFSQVRPUiA9ICcvJztcblxuLy9cbiRozY9fb25jZS5FTkRQT0lOVF9TRVBBUkFUT1IoRU5EUE9JTlRfU0VQQVJBVE9SKTtjb25zdCBDTE9TRV9SRUFTT05fRklOQUxJWkVSPSdjbG9zZWQtYnktZmluYWxpemVyJztcblxuLyogICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLkNMT1NFX1JFQVNPTl9GSU5BTElaRVIoQ0xPU0VfUkVBU09OX0ZJTkFMSVpFUik7XG4gICAgICAgY29uc3QgcmV0aHJvd1VubGVzc01pc3NpbmcgPSBlcnIgPT4ge1xuICAvL1xuICAvL1xuICBpZiAoXG4gICAgIShlcnIgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHx8XG4gICAgIVN0cmluZyhlcnIubWVzc2FnZSkubWF0Y2goL3RhcmdldCBoYXMgbm8gbWV0aG9kfGlzIG5vdCBhIGZ1bmN0aW9uJC8pXG4gICkge1xuICAgIHRocm93IGVycjtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5yZXRocm93VW5sZXNzTWlzc2luZyhyZXRocm93VW5sZXNzTWlzc2luZyk7XG4gICAgICAgZnVuY3Rpb24gZ2V0UHJlZml4ZXMoYWRkcikge1xuICBjb25zdCBwYXJ0cyA9IGFkZHIuc3BsaXQoRU5EUE9JTlRfU0VQQVJBVE9SKTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCByZXQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IHBhcnRzLmxlbmd0aDsgaSA+IDA7IGkgLT0gMSkge1xuICAgIC8vXG4gICAgY29uc3QgcHJlZml4ID0gcGFydHMuc2xpY2UoMCwgaSkuam9pbihFTkRQT0lOVF9TRVBBUkFUT1IpO1xuICAgIHJldC5wdXNoKHByZWZpeCk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuLypcblxuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZJbnZhbGlkUG9ydE5hbWUoc3BlY2lmaWVkTmFtZSkge1xuICAvL1xuICAvL1xuICAvL1xuICBjb25zdCBwb3J0TmFtZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnXlthLXpBLVowLTkuLF8rXFxcXC0jPD5cXFxcW1xcXFxdXXsyLDEyOH0kJyk7XG4gIGlmICghcG9ydE5hbWVSZWdleC50ZXN0KHNwZWNpZmllZE5hbWUpKSB7XG4gICAgdGhyb3cgRXJyb3IoYEludmFsaWQgSUJDIHBvcnQgbmFtZTogJHtzcGVjaWZpZWROYW1lfWApO1xuICB9XG59XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgcHJlcGFyZUhhbGZDb25uZWN0aW9uID0gKHpvbmUsIHsgd2F0Y2gsIGFsbFZvd3MsIGZpbmFsaXplciB9KSA9PiB7XG4gIGNvbnN0IG1ha2VIYWxmQ29ubmVjdGlvbktpdCA9IHpvbmUuZXhvQ2xhc3NLaXQoXG4gICAgJ0Nvbm5lY3Rpb24nLFxuICAgIFNoYXBlLkNvbm5lY3Rpb25JLFxuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgKHsgYWRkcnMsIGhhbmRsZXJzLCBjb25ucywgY3VycmVudCwgbCwgciB9KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhZGRycyxcbiAgICAgICAgaGFuZGxlcnMsXG4gICAgICAgIGNvbm5zLFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICBsLFxuICAgICAgICByLFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgY2xvc2VkOiB1bmRlZmluZWQsXG4gICAgICB9O1xuICAgIH0sXG4gICAge1xuICAgICAgY29ubmVjdGlvbjoge1xuICAgICAgICBnZXRMb2NhbEFkZHJlc3MoKSB7XG4gICAgICAgICAgY29uc3QgeyBhZGRycywgbCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICByZXR1cm4gYWRkcnNbbF07XG4gICAgICAgIH0sXG4gICAgICAgIGdldFJlbW90ZUFkZHJlc3MoKSB7XG4gICAgICAgICAgY29uc3QgeyBhZGRycywgciB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICByZXR1cm4gYWRkcnNbcl07XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBhc3luYyBzZW5kKHBhY2tldEJ5dGVzKSB7XG4gICAgICAgICAgY29uc3QgeyBjbG9zZWQsIGhhbmRsZXJzLCByLCBjb25ucyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBpZiAoY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihjbG9zZWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlubmVyVm93ID0gd2F0Y2goXG4gICAgICAgICAgICBFKGhhbmRsZXJzW3JdKS5vblJlY2VpdmUoXG4gICAgICAgICAgICAgIGNvbm5zLmdldChyKSxcbiAgICAgICAgICAgICAgdG9CeXRlcyhwYWNrZXRCeXRlcyksXG4gICAgICAgICAgICAgIGhhbmRsZXJzW3JdLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLm9wZW5Db25uZWN0aW9uQWNrV2F0Y2hlcixcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB3YXRjaChpbm5lclZvdywgdGhpcy5mYWNldHMucmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgY2xvc2UoKSB7XG4gICAgICAgICAgY29uc3QgeyBjbG9zZWQsIGN1cnJlbnQsIGNvbm5zLCBsLCByIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIGlmIChjbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGNsb3NlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc3RhdGUuY2xvc2VkID0gJ0Nvbm5lY3Rpb24gY2xvc2VkJztcblxuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3QgbGNvbm4gPSBjb25ucy5nZXQobCk7XG4gICAgICAgICAgY29uc3QgcmNvbm4gPSBjb25ucy5nZXQocik7XG4gICAgICAgICAgY3VycmVudC5kZWxldGUobGNvbm4pO1xuICAgICAgICAgIGN1cnJlbnQuZGVsZXRlKHJjb25uKTtcblxuICAgICAgICAgIGNvbnN0IGlubmVyVm93ID0gd2F0Y2goXG4gICAgICAgICAgICBhbGxWb3dzKFtmaW5hbGl6ZXIuZmluYWxpemUobGNvbm4pLCBmaW5hbGl6ZXIuZmluYWxpemUocmNvbm4pXSksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5zaW5rV2F0Y2hlcixcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcmV0dXJuIHdhdGNoKGlubmVyVm93LCB0aGlzLmZhY2V0cy5yZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXIpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG9wZW5Db25uZWN0aW9uQWNrV2F0Y2hlcjoge1xuICAgICAgICBvbkZ1bGZpbGxlZChhY2spIHtcbiAgICAgICAgICByZXR1cm4gdG9CeXRlcyhhY2sgfHwgJycpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcjoge1xuICAgICAgICBvblJlamVjdGVkKGUpIHtcbiAgICAgICAgICByZXRocm93VW5sZXNzTWlzc2luZyhlKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBzaW5rV2F0Y2hlcjoge1xuICAgICAgICBvbkZ1bGZpbGxlZChfdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IG1ha2VIYWxmQ29ubmVjdGlvbiA9ICh7IGFkZHJzLCBoYW5kbGVycywgY29ubnMsIGN1cnJlbnQsIGwsIHIgfSkgPT4ge1xuICAgIGNvbnN0IHsgY29ubmVjdGlvbiB9ID0gbWFrZUhhbGZDb25uZWN0aW9uS2l0KHtcbiAgICAgIGFkZHJzLFxuICAgICAgaGFuZGxlcnMsXG4gICAgICBjb25ucyxcbiAgICAgIGN1cnJlbnQsXG4gICAgICBsLFxuICAgICAgcixcbiAgICB9KTtcbiAgICByZXR1cm4gaGFyZGVuKGNvbm5lY3Rpb24pO1xuICB9O1xuXG4gIHJldHVybiBtYWtlSGFsZkNvbm5lY3Rpb247XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGNyb3Nzb3ZlckNvbm5lY3Rpb24gPSAoXG4gIHpvbmUsXG4gIGhhbmRsZXIwLFxuICBhZGRyMCxcbiAgaGFuZGxlcjEsXG4gIGFkZHIxLFxuICBtYWtlQ29ubmVjdGlvbixcbiAgZmluYWxpemVyLFxuICBjdXJyZW50ID0gem9uZS5kZXRhY2hlZCgpLndlYWtTZXRTdG9yZSgnY3Jvc3NvdmVyQ3VycmVudENvbm5lY3Rpb25zJyksXG4pID0+IHtcbiAgY29uc3QgZGV0YWNoZWQgPSB6b25lLmRldGFjaGVkKCk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBjb25ucyA9IGRldGFjaGVkLm1hcFN0b3JlKCdhZGRyVG9Db25uZWN0aW9ucycpO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgaGFuZGxlcnMgPSBoYXJkZW4oW2hhbmRsZXIwLCBoYW5kbGVyMV0pO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGFkZHJzID0gaGFyZGVuKFthZGRyMCwgYWRkcjFdKTtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IG1ha2VIYWxmQ29ubmVjdGlvbiA9IChsLCByKSA9PiB7XG4gICAgY29ubnMuaW5pdChsLCBtYWtlQ29ubmVjdGlvbih7IGFkZHJzLCBoYW5kbGVycywgY29ubnMsIGN1cnJlbnQsIGwsIHIgfSkpO1xuICB9O1xuXG4gIC8qXG5cblxuICAgKi9cbiAgY29uc3Qgb3BlbkhhbGZDb25uZWN0aW9uID0gKGwsIHIpID0+IHtcbiAgICBjb25zdCBsY29ubiA9IGNvbm5zLmdldChsKTtcbiAgICBjdXJyZW50LmFkZChsY29ubik7XG4gICAgaWYgKCFmaW5hbGl6ZXIuaGFzKGxjb25uKSkge1xuICAgICAgZmluYWxpemVyLmluaXRDb25uZWN0aW9uKGxjb25uLCBoYW5kbGVyc1tsXSk7XG4gICAgfVxuICAgIEUoaGFuZGxlcnNbbF0pXG4gICAgICAub25PcGVuKGxjb25uLCBhZGRyc1tsXSwgYWRkcnNbcl0sIGhhbmRsZXJzW2xdKVxuICAgICAgLmNhdGNoKHJldGhyb3dVbmxlc3NNaXNzaW5nKTtcbiAgfTtcblxuICBtYWtlSGFsZkNvbm5lY3Rpb24oMCwgMSk7XG4gIG1ha2VIYWxmQ29ubmVjdGlvbigxLCAwKTtcblxuICBvcGVuSGFsZkNvbm5lY3Rpb24oMCwgMSk7XG4gIG9wZW5IYWxmQ29ubmVjdGlvbigxLCAwKTtcblxuICByZXR1cm4gW2Nvbm5zLmdldCgwKSwgY29ubnMuZ2V0KDEpXTtcbn07XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UuY3Jvc3NvdmVyQ29ubmVjdGlvbihjcm9zc292ZXJDb25uZWN0aW9uKTtcbmNvbnN0IHByZXBhcmVJbmJvdW5kQXR0ZW1wdCA9ICh6b25lLCBtYWtlQ29ubmVjdGlvbiwgeyB3YXRjaCwgZmluYWxpemVyIH0pID0+IHtcbiAgY29uc3QgbWFrZUluYm91bmRBdHRlbXB0S2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAnSW5ib3VuZEF0dGVtcHQnLFxuICAgIFNoYXBlLkluYm91bmRBdHRlbXB0SSxcbiAgICAvKlxuXG5cblxuXG5cblxuICAgICAqL1xuICAgICh7XG4gICAgICBsb2NhbEFkZHIsXG4gICAgICByZW1vdGVBZGRyLFxuICAgICAgY3VycmVudENvbm5lY3Rpb25zLFxuICAgICAgbGlzdGVuUHJlZml4LFxuICAgICAgbGlzdGVuaW5nLFxuICAgIH0pID0+IHtcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgbGV0IGNvbnN1bW1hdGVkO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbEFkZHIsXG4gICAgICAgIHJlbW90ZUFkZHIsXG4gICAgICAgIGNvbnN1bW1hdGVkLFxuICAgICAgICBjdXJyZW50Q29ubmVjdGlvbnMsXG4gICAgICAgIGxpc3RlblByZWZpeCxcbiAgICAgICAgbGlzdGVuaW5nLFxuICAgICAgfTtcbiAgICB9LFxuICAgIHtcbiAgICAgIGluYm91bmRBdHRlbXB0OiB7XG4gICAgICAgIGdldExvY2FsQWRkcmVzcygpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmxvY2FsQWRkcjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UmVtb3RlQWRkcmVzcygpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5yZW1vdGVBZGRyO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBjbG9zZSgpIHtcbiAgICAgICAgICBjb25zdCB7IGNvbnN1bW1hdGVkLCBsb2NhbEFkZHIsIHJlbW90ZUFkZHIgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgY29uc3QgeyBsaXN0ZW5pbmcsIGxpc3RlblByZWZpeCwgY3VycmVudENvbm5lY3Rpb25zIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgaWYgKGNvbnN1bW1hdGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihjb25zdW1tYXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc3RhdGUuY29uc3VtbWF0ZWQgPSAnQWxyZWFkeSBjbG9zZWQnO1xuXG4gICAgICAgICAgY29uc3QgW3BvcnQsIGxpc3RlbmVyXSA9IGxpc3RlbmluZy5nZXQobGlzdGVuUHJlZml4KTtcblxuICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjdXJyZW50Q29ubmVjdGlvbnMuZ2V0KHBvcnQpO1xuICAgICAgICAgIGN1cnJlbnQuZGVsZXRlKHRoaXMuZmFjZXRzLmluYm91bmRBdHRlbXB0KTtcbiAgICAgICAgICBmaW5hbGl6ZXIudW5waW4odGhpcy5mYWNldHMuaW5ib3VuZEF0dGVtcHQpO1xuXG4gICAgICAgICAgY29uc3QgaW5uZXJWb3cgPSB3YXRjaChcbiAgICAgICAgICAgIEUobGlzdGVuZXIpLm9uUmVqZWN0KHBvcnQsIGxvY2FsQWRkciwgcmVtb3RlQWRkciwgbGlzdGVuZXIpLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMuc2lua1dhdGNoZXIsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHJldHVybiB3YXRjaChpbm5lclZvdywgdGhpcy5mYWNldHMucmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgYWNjZXB0KHsgbG9jYWxBZGRyZXNzLCByZW1vdGVBZGRyZXNzLCBoYW5kbGVyOiByY2hhbmRsZXIgfSkge1xuICAgICAgICAgIGNvbnN0IHsgY29uc3VtbWF0ZWQsIGxvY2FsQWRkciwgcmVtb3RlQWRkciB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBjb25zdCB7IGxpc3RlbmluZywgbGlzdGVuUHJlZml4LCBjdXJyZW50Q29ubmVjdGlvbnMgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgaWYgKGNvbnN1bW1hdGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihjb25zdW1tYXRlZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGxvY2FsQWRkcmVzcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2NhbEFkZHJlc3MgPSBsb2NhbEFkZHI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc3RhdGUuY29uc3VtbWF0ZWQgPSBgJHtsb2NhbEFkZHJlc3N9IEFscmVhZHkgYWNjZXB0ZWRgO1xuXG4gICAgICAgICAgaWYgKHJlbW90ZUFkZHJlc3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVtb3RlQWRkcmVzcyA9IHJlbW90ZUFkZHI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgW3BvcnQsIGxpc3RlbmVyXSA9IGxpc3RlbmluZy5nZXQobGlzdGVuUHJlZml4KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gY3VycmVudENvbm5lY3Rpb25zLmdldChwb3J0KTtcblxuICAgICAgICAgIGN1cnJlbnQuZGVsZXRlKHRoaXMuZmFjZXRzLmluYm91bmRBdHRlbXB0KTtcblxuICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgIEUobGlzdGVuZXIpLm9uQWNjZXB0KHBvcnQsIGxvY2FsQWRkcmVzcywgcmVtb3RlQWRkcmVzcywgbGlzdGVuZXIpLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMuaW5ib3VuZEF0dGVtcHRBY2NlcHRXYXRjaGVyLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICAgIHJjaGFuZGxlcixcbiAgICAgICAgICAgICAgcmVtb3RlQWRkcmVzcyxcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBpbmJvdW5kQXR0ZW1wdEFjY2VwdFdhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQobGNoYW5kbGVyLCB3YXRjaENvbnRleHQpIHtcbiAgICAgICAgICBjb25zdCB7IGxvY2FsQWRkcmVzcywgcmNoYW5kbGVyLCByZW1vdGVBZGRyZXNzLCBjdXJyZW50IH0gPVxuICAgICAgICAgICAgd2F0Y2hDb250ZXh0O1xuXG4gICAgICAgICAgcmV0dXJuIGNyb3Nzb3ZlckNvbm5lY3Rpb24oXG4gICAgICAgICAgICB6b25lLFxuICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGxjaGFuZGxlciksXG4gICAgICAgICAgICBsb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAocmNoYW5kbGVyKSxcbiAgICAgICAgICAgIHJlbW90ZUFkZHJlc3MsXG4gICAgICAgICAgICBtYWtlQ29ubmVjdGlvbixcbiAgICAgICAgICAgIGZpbmFsaXplcixcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgKVsxXTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICByZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXI6IHtcbiAgICAgICAgb25SZWplY3RlZChlKSB7XG4gICAgICAgICAgcmV0aHJvd1VubGVzc01pc3NpbmcoZSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgc2lua1dhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQoX3ZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICBjb25zdCBtYWtlSW5ib3VuZEF0dGVtcHQgPSAoe1xuICAgIGxvY2FsQWRkcixcbiAgICByZW1vdGVBZGRyLFxuICAgIGN1cnJlbnRDb25uZWN0aW9ucyxcbiAgICBsaXN0ZW5QcmVmaXgsXG4gICAgbGlzdGVuaW5nLFxuICB9KSA9PiB7XG4gICAgY29uc3QgeyBpbmJvdW5kQXR0ZW1wdCB9ID0gbWFrZUluYm91bmRBdHRlbXB0S2l0KHtcbiAgICAgIGxvY2FsQWRkcixcbiAgICAgIHJlbW90ZUFkZHIsXG4gICAgICBjdXJyZW50Q29ubmVjdGlvbnMsXG4gICAgICBsaXN0ZW5QcmVmaXgsXG4gICAgICBsaXN0ZW5pbmcsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gaGFyZGVuKGluYm91bmRBdHRlbXB0KTtcbiAgfTtcblxuICByZXR1cm4gbWFrZUluYm91bmRBdHRlbXB0O1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IFJldm9rZVN0YXRlID0gLyogICAgICAgICAgICAgICAgKi8gKHtcbiAgTk9UX1JFVk9LRUQ6IDAsXG4gIFJFVk9LSU5HOiAxLFxuICBSRVZPS0VEOiAyLFxufSk7XG5oYXJkZW4oUmV2b2tlU3RhdGUpO1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgcHJlcGFyZVBvcnQgPSAoem9uZSwgcG93ZXJzKSA9PiB7XG4gIGNvbnN0IG1ha2VJbmNhcGFibGUgPSB6b25lLmV4b0NsYXNzKCdJbmNhcGFibGUnLCB1bmRlZmluZWQsICgpID0+ICh7fSksIHt9KTtcblxuICBjb25zdCB7IGZpbmFsaXplciwgd2F0Y2gsIGFsbFZvd3MgfSA9IHBvd2VycztcblxuICAvKlxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGluaXRQb3J0ID0gKHtcbiAgICBsb2NhbEFkZHIsXG4gICAgbGlzdGVuaW5nLFxuICAgIG9wZW5Db25uZWN0aW9ucyxcbiAgICBjdXJyZW50Q29ubmVjdGlvbnMsXG4gICAgYm91bmRQb3J0cyxcbiAgICBwcm90b2NvbEhhbmRsZXIsXG4gICAgcHJvdG9jb2xJbXBsLFxuICB9KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpc3RlbmluZyxcbiAgICAgIG9wZW5Db25uZWN0aW9ucyxcbiAgICAgIGN1cnJlbnRDb25uZWN0aW9ucyxcbiAgICAgIGJvdW5kUG9ydHMsXG4gICAgICBsb2NhbEFkZHIsXG4gICAgICBwcm90b2NvbEhhbmRsZXIsXG4gICAgICBwcm90b2NvbEltcGwsXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgcmV2b2tlZDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH07XG5cbiAgY29uc3QgbWFrZVBvcnRLaXQgPSB6b25lLmV4b0NsYXNzS2l0KCdQb3J0JywgU2hhcGUuUG9ydEksIGluaXRQb3J0LCB7XG4gICAgcG9ydDoge1xuICAgICAgZ2V0TG9jYWxBZGRyZXNzKCkge1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5sb2NhbEFkZHI7XG4gICAgICB9LFxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBhc3luYyBhZGRMaXN0ZW5lcihsaXN0ZW5IYW5kbGVyKSB7XG4gICAgICAgIGNvbnN0IHsgcmV2b2tlZCwgbGlzdGVuaW5nLCBsb2NhbEFkZHIsIHByb3RvY29sSGFuZGxlciB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAhcmV2b2tlZCB8fCBGYWlsYFBvcnQgJHt0aGlzLnN0YXRlLmxvY2FsQWRkcn0gaXMgcmV2b2tlZGA7XG4gICAgICAgIGxpc3RlbkhhbmRsZXIgfHwgRmFpbGBsaXN0ZW5IYW5kbGVyIGlzIG5vdCBkZWZpbmVkYDtcblxuICAgICAgICBpZiAobGlzdGVuaW5nLmhhcyhsb2NhbEFkZHIpKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCBbbHBvcnQsIGxoYW5kbGVyXSA9IGxpc3RlbmluZy5nZXQobG9jYWxBZGRyKTtcbiAgICAgICAgICBpZiAobGhhbmRsZXIgPT09IGxpc3RlbkhhbmRsZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGlzdGVuaW5nLnNldChsb2NhbEFkZHIsIFtcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLnBvcnQsXG4gICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChsaXN0ZW5IYW5kbGVyKSxcbiAgICAgICAgICBdKTtcbiAgICAgICAgICBFKGxoYW5kbGVyKS5vblJlbW92ZShscG9ydCwgbGhhbmRsZXIpLmNhdGNoKHJldGhyb3dVbmxlc3NNaXNzaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaXN0ZW5pbmcuaW5pdChcbiAgICAgICAgICAgIGxvY2FsQWRkcixcbiAgICAgICAgICAgIGhhcmRlbihbXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnBvcnQsXG4gICAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGxpc3RlbkhhbmRsZXIpLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vXG5cbiAgICAgICAgY29uc3QgaW5uZXJWb3cgPSB3YXRjaChcbiAgICAgICAgICBFKHByb3RvY29sSGFuZGxlcikub25MaXN0ZW4oXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5wb3J0LFxuICAgICAgICAgICAgbG9jYWxBZGRyLFxuICAgICAgICAgICAgbGlzdGVuSGFuZGxlcixcbiAgICAgICAgICAgIHByb3RvY29sSGFuZGxlcixcbiAgICAgICAgICApLFxuICAgICAgICAgIHRoaXMuZmFjZXRzLnBvcnRBZGRMaXN0ZW5lcldhdGNoZXIsXG4gICAgICAgICAgeyBsaXN0ZW5IYW5kbGVyIH0sXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB3YXRjaChpbm5lclZvdywgdGhpcy5mYWNldHMucmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyKTtcbiAgICAgIH0sXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGFzeW5jIHJlbW92ZUxpc3RlbmVyKGxpc3RlbkhhbmRsZXIpIHtcbiAgICAgICAgY29uc3QgeyBsaXN0ZW5pbmcsIGxvY2FsQWRkciwgcHJvdG9jb2xIYW5kbGVyIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBsaXN0ZW5pbmcuaGFzKGxvY2FsQWRkcikgfHwgRmFpbGBQb3J0ICR7bG9jYWxBZGRyfSBpcyBub3QgbGlzdGVuaW5nYDtcbiAgICAgICAgbGlzdGVuaW5nLmdldChsb2NhbEFkZHIpWzFdID09PSBsaXN0ZW5IYW5kbGVyIHx8XG4gICAgICAgICAgRmFpbGBQb3J0ICR7bG9jYWxBZGRyfSBoYW5kbGVyIHRvIHJlbW92ZSBpcyBub3QgbGlzdGVuaW5nYDtcbiAgICAgICAgbGlzdGVuaW5nLmRlbGV0ZShsb2NhbEFkZHIpO1xuXG4gICAgICAgIGNvbnN0IGlubmVyVm93ID0gd2F0Y2goXG4gICAgICAgICAgRShwcm90b2NvbEhhbmRsZXIpLm9uTGlzdGVuUmVtb3ZlKFxuICAgICAgICAgICAgdGhpcy5mYWNldHMucG9ydCxcbiAgICAgICAgICAgIGxvY2FsQWRkcixcbiAgICAgICAgICAgIGxpc3RlbkhhbmRsZXIsXG4gICAgICAgICAgICBwcm90b2NvbEhhbmRsZXIsXG4gICAgICAgICAgKSxcbiAgICAgICAgICB0aGlzLmZhY2V0cy5wb3J0UmVtb3ZlTGlzdGVuZXJXYXRjaGVyLFxuICAgICAgICAgIHsgbGlzdGVuSGFuZGxlciB9LFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gd2F0Y2goaW5uZXJWb3csIHRoaXMuZmFjZXRzLnJldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcik7XG4gICAgICB9LFxuICAgICAgLypcblxuXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIGNvbm5lY3QoXG4gICAgICAgIHJlbW90ZVBvcnQsXG4gICAgICAgIGNvbm5lY3Rpb25IYW5kbGVyID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgICAgbWFrZUluY2FwYWJsZSgpXG4gICAgICAgICksXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgeyByZXZva2VkLCBsb2NhbEFkZHIsIHByb3RvY29sSW1wbCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAhcmV2b2tlZCB8fCBGYWlsYFBvcnQgJHtsb2NhbEFkZHJ9IGlzIHJldm9rZWRgO1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBjb25zdCBkc3QgPSBoYXJkZW4ocmVtb3RlUG9ydCk7XG4gICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICBFKHByb3RvY29sSW1wbCkub3V0Ym91bmQodGhpcy5mYWNldHMucG9ydCwgZHN0LCBjb25uZWN0aW9uSGFuZGxlciksXG4gICAgICAgICAgdGhpcy5mYWNldHMucG9ydENvbm5lY3RXYXRjaGVyLFxuICAgICAgICAgIHsgY2hhbmRsZXI6IGNvbm5lY3Rpb25IYW5kbGVyIH0sXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgcmV2b2tlKCkge1xuICAgICAgICBjb25zdCB7IHJldm9rZWQsIGxvY2FsQWRkciB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgY29uc3QgeyBwcm90b2NvbEhhbmRsZXIgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgcmV2b2tlZCAhPT0gUmV2b2tlU3RhdGUuUkVWT0tFRCB8fFxuICAgICAgICAgIEZhaWxgUG9ydCAke2xvY2FsQWRkcn0gaXMgYWxyZWFkeSByZXZva2VkYDtcblxuICAgICAgICB0aGlzLnN0YXRlLnJldm9rZWQgPSBSZXZva2VTdGF0ZS5SRVZPS0lORztcbiAgICAgICAgY29uc3QgcmV2b2tlVm93ID0gd2F0Y2goXG4gICAgICAgICAgRShwcm90b2NvbEhhbmRsZXIpLm9uUmV2b2tlKFxuICAgICAgICAgICAgdGhpcy5mYWNldHMucG9ydCxcbiAgICAgICAgICAgIGxvY2FsQWRkcixcbiAgICAgICAgICAgIHByb3RvY29sSGFuZGxlcixcbiAgICAgICAgICApLFxuICAgICAgICAgIHRoaXMuZmFjZXRzLnBvcnRSZXZva2VXYXRjaGVyLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB3YXRjaChyZXZva2VWb3csIHRoaXMuZmFjZXRzLnBvcnRSZXZva2VDbGVhbnVwV2F0Y2hlcik7XG4gICAgICB9LFxuICAgIH0sXG4gICAgcG9ydEFkZExpc3RlbmVyV2F0Y2hlcjoge1xuICAgICAgb25GdWxmaWxsZWQoX3ZhbHVlLCB3YXRjaGVyQ29udGV4dCkge1xuICAgICAgICBjb25zdCB7IGxpc3RlbkhhbmRsZXIgfSA9IHdhdGNoZXJDb250ZXh0O1xuICAgICAgICByZXR1cm4gRShsaXN0ZW5IYW5kbGVyKS5vbkxpc3Rlbih0aGlzLmZhY2V0cy5wb3J0LCBsaXN0ZW5IYW5kbGVyKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBwb3J0UmVtb3ZlTGlzdGVuZXJXYXRjaGVyOiB7XG4gICAgICBvbkZ1bGZpbGxlZChfdmFsdWUsIHdhdGNoZXJDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgbGlzdGVuSGFuZGxlciB9ID0gd2F0Y2hlckNvbnRleHQ7XG4gICAgICAgIHJldHVybiBFKGxpc3RlbkhhbmRsZXIpLm9uUmVtb3ZlKHRoaXMuZmFjZXRzLnBvcnQsIGxpc3RlbkhhbmRsZXIpO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHBvcnRDb25uZWN0V2F0Y2hlcjoge1xuICAgICAgb25GdWxmaWxsZWQoY29ubiwgeyBjaGFuZGxlciB9KSB7XG4gICAgICAgIGNvbnN0IHsgb3BlbkNvbm5lY3Rpb25zLCByZXZva2VkIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgIGlmICghZmluYWxpemVyLmhhcyhjb25uKSkge1xuICAgICAgICAgIGZpbmFsaXplci5pbml0Q29ubmVjdGlvbihjb25uLCBjaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJldm9rZWQpIHtcbiAgICAgICAgICByZXR1cm4gZmluYWxpemVyLmZpbmFsaXplKGNvbm4pO1xuICAgICAgICB9XG4gICAgICAgIG9wZW5Db25uZWN0aW9ucy5hZGQoY29ubik7XG4gICAgICAgIHJldHVybiBjb25uO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHBvcnRSZXZva2VXYXRjaGVyOiB7XG4gICAgICBvbkZ1bGZpbGxlZChfdmFsdWUpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50Q29ubmVjdGlvbnMsIGxpc3RlbmluZywgbG9jYWxBZGRyIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBjb25zdCBwb3J0ID0gdGhpcy5mYWNldHMucG9ydDtcblxuICAgICAgICAvL1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbLi4uY3VycmVudENvbm5lY3Rpb25zLmdldChwb3J0KS52YWx1ZXMoKV07XG5cbiAgICAgICAgY29uc3QgcHMgPSBbXTtcbiAgICAgICAgcHMucHVzaChcbiAgICAgICAgICAuLi52YWx1ZXMubWFwKG9iaiA9PlxuICAgICAgICAgICAgd2F0Y2goZmluYWxpemVyLmZpbmFsaXplKG9iaiksIHRoaXMuZmFjZXRzLnNpbmtXYXRjaGVyKSxcbiAgICAgICAgICApLFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChsaXN0ZW5pbmcuaGFzKGxvY2FsQWRkcikpIHtcbiAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGxpc3RlbmluZy5nZXQobG9jYWxBZGRyKVsxXTtcbiAgICAgICAgICBwcy5wdXNoKHBvcnQucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3YXRjaChhbGxWb3dzKHBzKSwgdGhpcy5mYWNldHMucmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBzaW5rV2F0Y2hlcjoge1xuICAgICAgb25GdWxmaWxsZWQoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9LFxuICAgICAgb25SZWplY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBwb3J0UmV2b2tlQ2xlYW51cFdhdGNoZXI6IHtcbiAgICAgIG9uRnVsZmlsbGVkKF92YWx1ZSkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRDb25uZWN0aW9ucywgYm91bmRQb3J0cywgbG9jYWxBZGRyIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgIHRoaXMuc3RhdGUucmV2b2tlZCA9IFJldm9rZVN0YXRlLlJFVk9LRUQ7XG5cbiAgICAgICAgY3VycmVudENvbm5lY3Rpb25zLmRlbGV0ZSh0aGlzLmZhY2V0cy5wb3J0KTtcbiAgICAgICAgYm91bmRQb3J0cy5kZWxldGUobG9jYWxBZGRyKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICByZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXI6IHtcbiAgICAgIG9uUmVqZWN0ZWQoZSkge1xuICAgICAgICByZXRocm93VW5sZXNzTWlzc2luZyhlKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgbWFrZVBvcnQgPSAoe1xuICAgIGxvY2FsQWRkcixcbiAgICBsaXN0ZW5pbmcsXG4gICAgb3BlbkNvbm5lY3Rpb25zLFxuICAgIGN1cnJlbnRDb25uZWN0aW9ucyxcbiAgICBib3VuZFBvcnRzLFxuICAgIHByb3RvY29sSGFuZGxlcixcbiAgICBwcm90b2NvbEltcGwsXG4gIH0pID0+IHtcbiAgICBjb25zdCB7IHBvcnQgfSA9IG1ha2VQb3J0S2l0KHtcbiAgICAgIGxvY2FsQWRkcixcbiAgICAgIGxpc3RlbmluZyxcbiAgICAgIG9wZW5Db25uZWN0aW9ucyxcbiAgICAgIGN1cnJlbnRDb25uZWN0aW9ucyxcbiAgICAgIGJvdW5kUG9ydHMsXG4gICAgICBwcm90b2NvbEhhbmRsZXIsXG4gICAgICBwcm90b2NvbEltcGwsXG4gICAgfSk7XG4gICAgcmV0dXJuIGhhcmRlbihwb3J0KTtcbiAgfTtcblxuICByZXR1cm4gbWFrZVBvcnQ7XG59O1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgcHJlcGFyZUJpbmRlciA9ICh6b25lLCBwb3dlcnMpID0+IHtcbiAgY29uc3QgbWFrZUNvbm5lY3Rpb24gPSBwcmVwYXJlSGFsZkNvbm5lY3Rpb24oem9uZSwgcG93ZXJzKTtcblxuICBjb25zdCB7IHdhdGNoLCBmaW5hbGl6ZXIgfSA9IHBvd2VycztcblxuICBjb25zdCBtYWtlSW5ib3VuZEF0dGVtcHQgPSBwcmVwYXJlSW5ib3VuZEF0dGVtcHQoXG4gICAgem9uZSxcbiAgICBtYWtlQ29ubmVjdGlvbixcbiAgICBwb3dlcnMsXG4gICk7XG5cbiAgY29uc3QgbWFrZVBvcnQgPSBwcmVwYXJlUG9ydCh6b25lLCBwb3dlcnMpO1xuXG4gIGNvbnN0IGRldGFjaGVkID0gem9uZS5kZXRhY2hlZCgpO1xuXG4gIGNvbnN0IG1ha2VGdWxsQmluZGVyS2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAnYmluZGVyJyxcbiAgICB7XG4gICAgICBwcm90b2NvbEltcGw6IFNoYXBlLlByb3RvY29sSW1wbEksXG4gICAgICBiaW5kZXI6IE0uaW50ZXJmYWNlKCdCaW5kZXInLCB7XG4gICAgICAgIGJpbmRQb3J0OiBNLmNhbGxXaGVuKFNoYXBlLkVuZHBvaW50KS5yZXR1cm5zKFNoYXBlLlZvdyQoU2hhcGUuUG9ydCkpLFxuICAgICAgfSksXG4gICAgICBiaW5kZXJJbmJvdW5kSW5zdGFudGlhdGVXYXRjaGVyOiBNLmludGVyZmFjZShcbiAgICAgICAgJ0JpbmRlckluYm91bmRJbnN0YW50aWF0ZVdhdGNoZXInLFxuICAgICAgICB7XG4gICAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgYmluZGVySW5ib3VuZEluc3RhbnRpYXRlQ2F0Y2hXYXRjaGVyOiBNLmludGVyZmFjZShcbiAgICAgICAgJ0JpbmRlckluYm91bmRJbnN0YW50aWF0ZUNhdGNoV2F0Y2hlcicsXG4gICAgICAgIHtcbiAgICAgICAgICBvblJlamVjdGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICAgIGJpbmRlck91dGJvdW5kSW5zdGFudGlhdGVXYXRjaGVyOiBNLmludGVyZmFjZShcbiAgICAgICAgJ0JpbmRlck91dGJvdW5kSW5zdGFudGlhdGVXYXRjaGVyJyxcbiAgICAgICAge1xuICAgICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICAgIGJpbmRlck91dGJvdW5kQ29ubmVjdFdhdGNoZXI6IE0uaW50ZXJmYWNlKFxuICAgICAgICAnQmluZGVyT3V0Ym91bmRDb25uZWN0V2F0Y2hlcicsXG4gICAgICAgIHtcbiAgICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICBiaW5kZXJPdXRib3VuZENhdGNoV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ0JpbmRlck91dGJvdW5kQ2F0Y2hXYXRjaGVyJywge1xuICAgICAgICBvblJlamVjdGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgfSksXG4gICAgICBiaW5kZXJPdXRib3VuZEluYm91bmRXYXRjaGVyOiBNLmludGVyZmFjZShcbiAgICAgICAgJ0JpbmRlck91dGJvdW5kSW5ib3VuZFdhdGNoZXInLFxuICAgICAgICB7XG4gICAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgYmluZGVyT3V0Ym91bmRBY2NlcHRXYXRjaGVyOiBNLmludGVyZmFjZSgnQmluZGVyT3V0Ym91bmRBY2NlcHRXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgIH0pLFxuICAgICAgYmluZGVyQmluZEdlbmVyYXRlUG9ydFdhdGNoZXI6IE0uaW50ZXJmYWNlKFxuICAgICAgICAnQmluZGVyQmluZEdlbmVyYXRlUG9ydFdhdGNoZXInLFxuICAgICAgICB7XG4gICAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgYmluZGVyUG9ydFdhdGNoZXI6IE0uaW50ZXJmYWNlKCdCaW5kZXJQb3J0V2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9KSxcbiAgICAgIGJpbmRlckJpbmRXYXRjaGVyOiBNLmludGVyZmFjZSgnQmluZGVyQmluZFdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgfSksXG4gICAgICByZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXI6IE0uaW50ZXJmYWNlKCdSZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXInLCB7XG4gICAgICAgIG9uUmVqZWN0ZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9KSxcbiAgICB9LFxuICAgIC8qXG5cblxuXG5cblxuICAgICAqL1xuICAgICh7IGN1cnJlbnRDb25uZWN0aW9ucywgYm91bmRQb3J0cywgbGlzdGVuaW5nLCBwcm90b2NvbEhhbmRsZXIgfSkgPT4ge1xuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGNvbnN0IG9wZW5Db25uZWN0aW9ucyA9IGRldGFjaGVkLnNldFN0b3JlKCdvcGVuQ29ubmVjdGlvbnMnKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY3VycmVudENvbm5lY3Rpb25zLFxuICAgICAgICBib3VuZFBvcnRzLFxuICAgICAgICBsaXN0ZW5pbmcsXG4gICAgICAgIHJldm9rZWQ6IFJldm9rZVN0YXRlLk5PVF9SRVZPS0VELFxuICAgICAgICBvcGVuQ29ubmVjdGlvbnMsXG4gICAgICAgIHByb3RvY29sSGFuZGxlcixcbiAgICAgIH07XG4gICAgfSxcbiAgICB7XG4gICAgICBwcm90b2NvbEltcGw6IHtcbiAgICAgICAgLypcblxuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBpbmJvdW5kKGxpc3RlbkFkZHIsIHJlbW90ZUFkZHIpIHtcbiAgICAgICAgICBjb25zdCB7IGxpc3RlbmluZywgcHJvdG9jb2xIYW5kbGVyIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgY29uc3QgcHJlZml4ZXMgPSBnZXRQcmVmaXhlcyhsaXN0ZW5BZGRyKTtcbiAgICAgICAgICBsZXQgbGlzdGVuUHJlZml4SW5kZXggPSAwO1xuICAgICAgICAgIGxldCBsaXN0ZW5QcmVmaXg7XG5cbiAgICAgICAgICB3aGlsZSAobGlzdGVuUHJlZml4SW5kZXggPCBwcmVmaXhlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxpc3RlblByZWZpeCA9IHByZWZpeGVzW2xpc3RlblByZWZpeEluZGV4XTtcbiAgICAgICAgICAgIGlmICghbGlzdGVuaW5nLmhhcyhsaXN0ZW5QcmVmaXgpKSB7XG4gICAgICAgICAgICAgIGxpc3RlblByZWZpeEluZGV4ICs9IDE7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobGlzdGVuUHJlZml4SW5kZXggPj0gcHJlZml4ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgTm8gbGlzdGVuZXJzIGZvciAke2xpc3RlbkFkZHJ9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgW3BvcnRdID0gbGlzdGVuaW5nLmdldCgvKiAgICAgICAgICAgICAgICAgICovIChsaXN0ZW5QcmVmaXgpKTtcblxuICAgICAgICAgIGNvbnN0IGlubmVyVm93ID0gd2F0Y2goXG4gICAgICAgICAgICBFKFxuICAgICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgICAgICAgICAgICAgIHByb3RvY29sSGFuZGxlclxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKS5vbkluc3RhbnRpYXRlKFxuICAgICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAqLyAocG9ydCksXG4gICAgICAgICAgICAgIHByZWZpeGVzW2xpc3RlblByZWZpeEluZGV4XSxcbiAgICAgICAgICAgICAgcmVtb3RlQWRkcixcbiAgICAgICAgICAgICAgcHJvdG9jb2xIYW5kbGVyLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLmJpbmRlckluYm91bmRJbnN0YW50aWF0ZVdhdGNoZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGxpc3RlbkFkZHIsXG4gICAgICAgICAgICAgIHJlbW90ZUFkZHIsXG4gICAgICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgICAgIGxpc3RlblByZWZpeEluZGV4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgaW5uZXJWb3csXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5iaW5kZXJJbmJvdW5kSW5zdGFudGlhdGVDYXRjaFdhdGNoZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGxpc3RlblByZWZpeEluZGV4LFxuICAgICAgICAgICAgICBsaXN0ZW5BZGRyLFxuICAgICAgICAgICAgICByZW1vdGVBZGRyLFxuICAgICAgICAgICAgICBsYXN0RmFpbHVyZTogRXJyb3IoYE5vIGxpc3RlbmVycyBmb3IgJHtsaXN0ZW5BZGRyfWApLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgb3V0Ym91bmQocG9ydCwgcmVtb3RlQWRkciwgbGNoYW5kbGVyKSB7XG4gICAgICAgICAgY29uc3QgeyBwcm90b2NvbEhhbmRsZXIgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICBjb25zdCBsb2NhbEFkZHIgPSBhd2FpdCBFKHBvcnQpLmdldExvY2FsQWRkcmVzcygpO1xuXG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCBpbnN0YW50aWF0ZUlubmVyVm93ID0gd2F0Y2goXG4gICAgICAgICAgICBFKFxuICAgICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgICAgICAgICAgICAgIHByb3RvY29sSGFuZGxlclxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKS5vbkluc3RhbnRpYXRlKHBvcnQsIGxvY2FsQWRkciwgcmVtb3RlQWRkciwgcHJvdG9jb2xIYW5kbGVyKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLmJpbmRlck91dGJvdW5kSW5zdGFudGlhdGVXYXRjaGVyLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBwb3J0LFxuICAgICAgICAgICAgICBsb2NhbEFkZHIsXG4gICAgICAgICAgICAgIHJlbW90ZUFkZHIsXG4gICAgICAgICAgICAgIHByb3RvY29sSGFuZGxlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IGluc3RhbnRpYXRlVm93ID0gd2F0Y2goXG4gICAgICAgICAgICBpbnN0YW50aWF0ZUlubmVyVm93LFxuICAgICAgICAgICAgdGhpcy5mYWNldHMucmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCBhdHRlbXB0Vm93ID0gd2F0Y2goXG4gICAgICAgICAgICBpbnN0YW50aWF0ZVZvdyxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLmJpbmRlck91dGJvdW5kSW5ib3VuZFdhdGNoZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGxvY2FsQWRkcixcbiAgICAgICAgICAgICAgcmVtb3RlQWRkcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBhY2NlcHRlZFZvdyA9IHdhdGNoKFxuICAgICAgICAgICAgYXR0ZW1wdFZvdyxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLmJpbmRlck91dGJvdW5kQWNjZXB0V2F0Y2hlcixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaGFuZGxlcjogbGNoYW5kbGVyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcmV0dXJuIHdhdGNoKGFjY2VwdGVkVm93LCB0aGlzLmZhY2V0cy5iaW5kZXJPdXRib3VuZENhdGNoV2F0Y2hlciwge1xuICAgICAgICAgICAgcG9ydCxcbiAgICAgICAgICAgIHJlbW90ZUFkZHIsXG4gICAgICAgICAgICBsY2hhbmRsZXIsXG4gICAgICAgICAgICBsb2NhbEFkZHIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGJpbmRQb3J0KGxvY2FsQWRkcikge1xuICAgICAgICAgIHJldHVybiB0aGlzLmZhY2V0cy5iaW5kZXIuYmluZFBvcnQobG9jYWxBZGRyKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBiaW5kZXI6IHtcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgYmluZFBvcnQobG9jYWxBZGRyKSB7XG4gICAgICAgICAgY29uc3QgeyBwcm90b2NvbEhhbmRsZXIgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IHVuZGVyc3BlY2lmaWVkID0gbG9jYWxBZGRyLmVuZHNXaXRoKEVORFBPSU5UX1NFUEFSQVRPUik7XG5cbiAgICAgICAgICBjb25zdCBsb2NhbEFkZHJWb3cgPSB3YXRjaChcbiAgICAgICAgICAgIEUocHJvdG9jb2xIYW5kbGVyKS5nZW5lcmF0ZVBvcnRJRChsb2NhbEFkZHIsIHByb3RvY29sSGFuZGxlciksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5iaW5kZXJCaW5kR2VuZXJhdGVQb3J0V2F0Y2hlcixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdW5kZXJzcGVjaWZpZWQsXG4gICAgICAgICAgICAgIGxvY2FsQWRkcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHJldHVybiB3YXRjaChsb2NhbEFkZHJWb3csIHRoaXMuZmFjZXRzLmJpbmRlckJpbmRXYXRjaGVyKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBiaW5kZXJJbmJvdW5kSW5zdGFudGlhdGVXYXRjaGVyOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKGxvY2FsSW5zdGFuY2UsIHdhdGNoQ29udGV4dCkge1xuICAgICAgICAgIGNvbnN0IHsgbGlzdGVuQWRkciwgcmVtb3RlQWRkciwgcG9ydCwgbGlzdGVuUHJlZml4SW5kZXggfSA9XG4gICAgICAgICAgICB3YXRjaENvbnRleHQ7XG4gICAgICAgICAgY29uc3QgeyBsaXN0ZW5pbmcsIGN1cnJlbnRDb25uZWN0aW9ucyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBjb25zdCBwcmVmaXhlcyA9IGdldFByZWZpeGVzKGxpc3RlbkFkZHIpO1xuXG4gICAgICAgICAgY29uc3QgbG9jYWxBZGRyID0gbG9jYWxJbnN0YW5jZVxuICAgICAgICAgICAgPyBgJHtsaXN0ZW5BZGRyfS8ke2xvY2FsSW5zdGFuY2V9YFxuICAgICAgICAgICAgOiBsaXN0ZW5BZGRyO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjdXJyZW50Q29ubmVjdGlvbnMuZ2V0KHBvcnQpO1xuICAgICAgICAgIGNvbnN0IGluYm91bmRBdHRlbXB0ID0gbWFrZUluYm91bmRBdHRlbXB0KHtcbiAgICAgICAgICAgIGxvY2FsQWRkcixcbiAgICAgICAgICAgIHJlbW90ZUFkZHIsXG4gICAgICAgICAgICBjdXJyZW50Q29ubmVjdGlvbnMsXG4gICAgICAgICAgICBsaXN0ZW5QcmVmaXg6IHByZWZpeGVzW2xpc3RlblByZWZpeEluZGV4XSxcbiAgICAgICAgICAgIGxpc3RlbmluZyxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGN1cnJlbnQuYWRkKGluYm91bmRBdHRlbXB0KTtcbiAgICAgICAgICBmaW5hbGl6ZXIuaW5pdENsb3NlcihpbmJvdW5kQXR0ZW1wdCk7XG4gICAgICAgICAgcmV0dXJuIGluYm91bmRBdHRlbXB0O1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGJpbmRlckluYm91bmRJbnN0YW50aWF0ZUNhdGNoV2F0Y2hlcjoge1xuICAgICAgICBvblJlamVjdGVkKGUsIHdhdGNoQ29udGV4dCkge1xuICAgICAgICAgIGxldCB7IGxhc3RGYWlsdXJlLCBsaXN0ZW5QcmVmaXhJbmRleCB9ID0gd2F0Y2hDb250ZXh0O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nKGUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGlubmVyRSkge1xuICAgICAgICAgICAgbGFzdEZhaWx1cmUgPSBpbm5lckU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgeyBsaXN0ZW5BZGRyLCByZW1vdGVBZGRyIH0gPSB3YXRjaENvbnRleHQ7XG5cbiAgICAgICAgICBjb25zdCB7IGxpc3RlbmluZywgcHJvdG9jb2xIYW5kbGVyIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgY29uc3QgcHJlZml4ZXMgPSBnZXRQcmVmaXhlcyhsaXN0ZW5BZGRyKTtcblxuICAgICAgICAgIGxldCBsaXN0ZW5QcmVmaXg7XG5cbiAgICAgICAgICBsaXN0ZW5QcmVmaXhJbmRleCArPSAxO1xuXG4gICAgICAgICAgd2hpbGUgKGxpc3RlblByZWZpeEluZGV4IDwgcHJlZml4ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsaXN0ZW5QcmVmaXggPSBwcmVmaXhlc1tsaXN0ZW5QcmVmaXhJbmRleF07XG4gICAgICAgICAgICBpZiAoIWxpc3RlbmluZy5oYXMobGlzdGVuUHJlZml4KSkge1xuICAgICAgICAgICAgICBsaXN0ZW5QcmVmaXhJbmRleCArPSAxO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGxpc3RlblByZWZpeEluZGV4ID49IHByZWZpeGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbGFzdEZhaWx1cmU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgW3BvcnRdID0gbGlzdGVuaW5nLmdldCgvKiAgICAgICAgICAgICAgICAgKi8gKGxpc3RlblByZWZpeCkpO1xuXG4gICAgICAgICAgY29uc3QgaW5uZXJWb3cgPSB3YXRjaChcbiAgICAgICAgICAgIEUoXG4gICAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgICAgICAgICAgcHJvdG9jb2xIYW5kbGVyXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApLm9uSW5zdGFudGlhdGUoXG4gICAgICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgICAgIHByZWZpeGVzW2xpc3RlblByZWZpeEluZGV4XSxcbiAgICAgICAgICAgICAgcmVtb3RlQWRkcixcbiAgICAgICAgICAgICAgcHJvdG9jb2xIYW5kbGVyLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLmJpbmRlckluYm91bmRJbnN0YW50aWF0ZVdhdGNoZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGxpc3RlbkFkZHIsXG4gICAgICAgICAgICAgIHJlbW90ZUFkZHIsXG4gICAgICAgICAgICAgIHBvcnQsXG4gICAgICAgICAgICAgIGxpc3RlblByZWZpeEluZGV4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgaW5uZXJWb3csXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5iaW5kZXJJbmJvdW5kSW5zdGFudGlhdGVDYXRjaFdhdGNoZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC4uLndhdGNoQ29udGV4dCxcbiAgICAgICAgICAgICAgbGFzdEZhaWx1cmUsXG4gICAgICAgICAgICAgIGxpc3RlblByZWZpeEluZGV4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGJpbmRlck91dGJvdW5kSW5zdGFudGlhdGVXYXRjaGVyOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKGxvY2FsSW5zdGFuY2UsIHdhdGNoQ29udGV4dCkge1xuICAgICAgICAgIGNvbnN0IHsgbG9jYWxBZGRyIH0gPSB3YXRjaENvbnRleHQ7XG5cbiAgICAgICAgICByZXR1cm4gbG9jYWxJbnN0YW5jZSA/IGAke2xvY2FsQWRkcn0vJHtsb2NhbEluc3RhbmNlfWAgOiBsb2NhbEFkZHI7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgYmluZGVyT3V0Ym91bmRDb25uZWN0V2F0Y2hlcjoge1xuICAgICAgICBvbkZ1bGZpbGxlZChcbiAgICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyOiByY2hhbmRsZXIsXG4gICAgICAgICAgICByZW1vdGVBZGRyZXNzOiBuZWdvdGlhdGVkUmVtb3RlQWRkcmVzcyxcbiAgICAgICAgICAgIGxvY2FsQWRkcmVzczogbmVnb3RpYXRlZExvY2FsQWRkcmVzcyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHdhdGNoQ29udGV4dCxcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgbGFzdEZhaWx1cmUsXG4gICAgICAgICAgICBsY2hhbmRsZXIsXG4gICAgICAgICAgICBsb2NhbEFkZHI6IHJlcXVlc3RlZExvY2FsQWRkcmVzcyxcbiAgICAgICAgICAgIHJlbW90ZUFkZHI6IHJlcXVlc3RlZFJlbW90ZUFkZHJlc3MsXG4gICAgICAgICAgICBwb3J0LFxuICAgICAgICAgIH0gPSB3YXRjaENvbnRleHQ7XG5cbiAgICAgICAgICBjb25zdCB7IGN1cnJlbnRDb25uZWN0aW9ucyB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgIGlmICghcmNoYW5kbGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBsYXN0RmFpbHVyZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gY3VycmVudENvbm5lY3Rpb25zLmdldChwb3J0KTtcblxuICAgICAgICAgIHJldHVybiBjcm9zc292ZXJDb25uZWN0aW9uKFxuICAgICAgICAgICAgem9uZSxcbiAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChsY2hhbmRsZXIpLFxuICAgICAgICAgICAgbmVnb3RpYXRlZExvY2FsQWRkcmVzcyB8fCByZXF1ZXN0ZWRMb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAocmNoYW5kbGVyKSxcbiAgICAgICAgICAgIG5lZ290aWF0ZWRSZW1vdGVBZGRyZXNzIHx8IHJlcXVlc3RlZFJlbW90ZUFkZHJlc3MsXG4gICAgICAgICAgICBtYWtlQ29ubmVjdGlvbixcbiAgICAgICAgICAgIGZpbmFsaXplcixcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgKVswXTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBiaW5kZXJPdXRib3VuZENhdGNoV2F0Y2hlcjoge1xuICAgICAgICBvblJlamVjdGVkKGUsIHdhdGNoQ29udGV4dCkge1xuICAgICAgICAgIGxldCBsYXN0RmFpbHVyZTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXRocm93VW5sZXNzTWlzc2luZyhlKTtcbiAgICAgICAgICB9IGNhdGNoIChpbm5lckUpIHtcbiAgICAgICAgICAgIGxhc3RGYWlsdXJlID0gaW5uZXJFO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHsgcG9ydCwgcmVtb3RlQWRkciwgbGNoYW5kbGVyLCBsb2NhbEFkZHIgfSA9IHdhdGNoQ29udGV4dDtcblxuICAgICAgICAgIGNvbnN0IHsgcHJvdG9jb2xIYW5kbGVyIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgY29uc3QgY29ubmVjdFZvdyA9IHdhdGNoKFxuICAgICAgICAgICAgRShwcm90b2NvbEhhbmRsZXIpLm9uQ29ubmVjdChcbiAgICAgICAgICAgICAgcG9ydCxcbiAgICAgICAgICAgICAgbG9jYWxBZGRyLFxuICAgICAgICAgICAgICByZW1vdGVBZGRyLFxuICAgICAgICAgICAgICBsY2hhbmRsZXIsXG4gICAgICAgICAgICAgIHByb3RvY29sSGFuZGxlcixcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHJldHVybiB3YXRjaChjb25uZWN0Vm93LCB0aGlzLmZhY2V0cy5iaW5kZXJPdXRib3VuZENvbm5lY3RXYXRjaGVyLCB7XG4gICAgICAgICAgICBsYXN0RmFpbHVyZSxcbiAgICAgICAgICAgIHJlbW90ZUFkZHIsXG4gICAgICAgICAgICBsb2NhbEFkZHIsXG4gICAgICAgICAgICBsY2hhbmRsZXIsXG4gICAgICAgICAgICBwb3J0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGJpbmRlck91dGJvdW5kSW5ib3VuZFdhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQoaW5pdGlhbExvY2FsQWRkcmVzcywgd2F0Y2hDb250ZXh0KSB7XG4gICAgICAgICAgY29uc3QgeyByZW1vdGVBZGRyLCBsb2NhbEFkZHIgfSA9IHdhdGNoQ29udGV4dDtcblxuICAgICAgICAgIGlmIChpbml0aWFsTG9jYWxBZGRyZXNzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGluaXRpYWxMb2NhbEFkZHJlc3MgPSBsb2NhbEFkZHI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9cbiAgICAgICAgICByZXR1cm4gdGhpcy5mYWNldHMucHJvdG9jb2xJbXBsLmluYm91bmQoXG4gICAgICAgICAgICByZW1vdGVBZGRyLFxuICAgICAgICAgICAgaW5pdGlhbExvY2FsQWRkcmVzcyxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGJpbmRlck91dGJvdW5kQWNjZXB0V2F0Y2hlcjoge1xuICAgICAgICBvbkZ1bGZpbGxlZChhdHRlbXB0LCB3YXRjaENvbnRleHQpIHtcbiAgICAgICAgICBjb25zdCB7IGhhbmRsZXIgfSA9IHdhdGNoQ29udGV4dDtcbiAgICAgICAgICByZXR1cm4gRShhdHRlbXB0KS5hY2NlcHQoeyBoYW5kbGVyIH0pO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGJpbmRlckJpbmRHZW5lcmF0ZVBvcnRXYXRjaGVyOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKHBvcnRJRCwgd2F0Y2hDb250ZXh0KSB7XG4gICAgICAgICAgY29uc3QgeyBsb2NhbEFkZHIsIHVuZGVyc3BlY2lmaWVkIH0gPSB3YXRjaENvbnRleHQ7XG4gICAgICAgICAgY29uc3QgeyBwcm90b2NvbEhhbmRsZXIsIGJvdW5kUG9ydHMgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICBpZiAoIXVuZGVyc3BlY2lmaWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxBZGRyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IG5ld0FkZHIgPSBgJHtsb2NhbEFkZHJ9JHtwb3J0SUR9YDtcbiAgICAgICAgICBpZiAoIWJvdW5kUG9ydHMuaGFzKG5ld0FkZHIpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3QWRkcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgRShwcm90b2NvbEhhbmRsZXIpLmdlbmVyYXRlUG9ydElEKGxvY2FsQWRkciwgcHJvdG9jb2xIYW5kbGVyKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLmJpbmRlckJpbmRHZW5lcmF0ZVBvcnRXYXRjaGVyLFxuICAgICAgICAgICAgd2F0Y2hDb250ZXh0LFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgYmluZGVyUG9ydFdhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQoX3ZhbHVlLCB3YXRjaENvbnRleHQpIHtcbiAgICAgICAgICBjb25zdCB7IHBvcnQsIGxvY2FsQWRkciB9ID0gd2F0Y2hDb250ZXh0O1xuICAgICAgICAgIGNvbnN0IHsgYm91bmRQb3J0cywgY3VycmVudENvbm5lY3Rpb25zIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgYm91bmRQb3J0cy5pbml0KGxvY2FsQWRkciwgcG9ydCk7XG4gICAgICAgICAgY3VycmVudENvbm5lY3Rpb25zLmluaXQoXG4gICAgICAgICAgICBwb3J0LFxuICAgICAgICAgICAgem9uZS5kZXRhY2hlZCgpLnNldFN0b3JlKCdjb25uZWN0aW9ucycpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHBvcnQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgYmluZGVyQmluZFdhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQobG9jYWxBZGRyKSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgYm91bmRQb3J0cyxcbiAgICAgICAgICAgIGxpc3RlbmluZyxcbiAgICAgICAgICAgIG9wZW5Db25uZWN0aW9ucyxcbiAgICAgICAgICAgIGN1cnJlbnRDb25uZWN0aW9ucyxcbiAgICAgICAgICAgIHByb3RvY29sSGFuZGxlcixcbiAgICAgICAgICB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgIGlmIChib3VuZFBvcnRzLmhhcyhsb2NhbEFkZHIpKSB7XG4gICAgICAgICAgICByZXR1cm4gYm91bmRQb3J0cy5nZXQobG9jYWxBZGRyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBwb3J0ID0gbWFrZVBvcnQoe1xuICAgICAgICAgICAgbG9jYWxBZGRyLFxuICAgICAgICAgICAgbGlzdGVuaW5nLFxuICAgICAgICAgICAgb3BlbkNvbm5lY3Rpb25zLFxuICAgICAgICAgICAgY3VycmVudENvbm5lY3Rpb25zLFxuICAgICAgICAgICAgYm91bmRQb3J0cyxcbiAgICAgICAgICAgIHByb3RvY29sSGFuZGxlcixcbiAgICAgICAgICAgIHByb3RvY29sSW1wbDogdGhpcy5mYWNldHMucHJvdG9jb2xJbXBsLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgRShwcm90b2NvbEhhbmRsZXIpLm9uQmluZChwb3J0LCBsb2NhbEFkZHIsIHByb3RvY29sSGFuZGxlciksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5iaW5kZXJQb3J0V2F0Y2hlcixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcG9ydCxcbiAgICAgICAgICAgICAgbG9jYWxBZGRyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcjoge1xuICAgICAgICBvblJlamVjdGVkKGUpIHtcbiAgICAgICAgICByZXRocm93VW5sZXNzTWlzc2luZyhlKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICBjb25zdCBtYWtlQmluZGVyS2l0ID0gKHtcbiAgICBjdXJyZW50Q29ubmVjdGlvbnMsXG4gICAgYm91bmRQb3J0cyxcbiAgICBsaXN0ZW5pbmcsXG4gICAgcHJvdG9jb2xIYW5kbGVyLFxuICB9KSA9PiB7XG4gICAgY29uc3QgeyBwcm90b2NvbEltcGwsIGJpbmRlciB9ID0gbWFrZUZ1bGxCaW5kZXJLaXQoe1xuICAgICAgY3VycmVudENvbm5lY3Rpb25zLFxuICAgICAgYm91bmRQb3J0cyxcbiAgICAgIGxpc3RlbmluZyxcbiAgICAgIHByb3RvY29sSGFuZGxlcixcbiAgICB9KTtcbiAgICByZXR1cm4gaGFyZGVuKHsgcHJvdG9jb2xJbXBsLCBiaW5kZXIgfSk7XG4gIH07XG4gIHJldHVybiBtYWtlQmluZGVyS2l0O1xufTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlTmV0d29ya1Byb3RvY29sID0gKHpvbmUsIHBvd2VycykgPT4ge1xuICBjb25zdCBtYWtlQmluZGVyS2l0ID0gcHJlcGFyZUJpbmRlcih6b25lLCBwb3dlcnMpO1xuXG4gIC8qXG5cblxuICAgKi9cbiAgY29uc3QgbWFrZU5ldHdvcmtQcm90b2NvbCA9IHByb3RvY29sSGFuZGxlciA9PiB7XG4gICAgY29uc3QgZGV0YWNoZWQgPSB6b25lLmRldGFjaGVkKCk7XG5cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgY29uc3QgY3VycmVudENvbm5lY3Rpb25zID0gZGV0YWNoZWQubWFwU3RvcmUoJ3BvcnRUb0N1cnJlbnRDb25uZWN0aW9ucycpO1xuXG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGJvdW5kUG9ydHMgPSBkZXRhY2hlZC5tYXBTdG9yZSgnYWRkclRvUG9ydCcpO1xuXG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBjb25zdCBsaXN0ZW5pbmcgPSBkZXRhY2hlZC5tYXBTdG9yZSgnbGlzdGVuaW5nJyk7XG5cbiAgICBjb25zdCB7IGJpbmRlciwgcHJvdG9jb2xJbXBsIH0gPSBtYWtlQmluZGVyS2l0KHtcbiAgICAgIGN1cnJlbnRDb25uZWN0aW9ucyxcbiAgICAgIGJvdW5kUG9ydHMsXG4gICAgICBsaXN0ZW5pbmcsXG4gICAgICBwcm90b2NvbEhhbmRsZXIsXG4gICAgfSk7XG5cbiAgICAvL1xuICAgIHZvaWQgRShwcm90b2NvbEhhbmRsZXIpLm9uQ3JlYXRlKHByb3RvY29sSW1wbCwgcHJvdG9jb2xIYW5kbGVyKTtcbiAgICByZXR1cm4gYmluZGVyO1xuICB9O1xuXG4gIHJldHVybiBtYWtlTmV0d29ya1Byb3RvY29sO1xufTtcblxuLypcblxuXG5cbiAqLyRozY9fb25jZS5wcmVwYXJlTmV0d29ya1Byb3RvY29sKHByZXBhcmVOZXR3b3JrUHJvdG9jb2wpO1xuICAgICAgIGNvbnN0IHByZXBhcmVFY2hvQ29ubmVjdGlvbktpdCA9IHpvbmUgPT4ge1xuICBjb25zdCBtYWtlRWNob0Nvbm5lY3Rpb25LaXQgPSB6b25lLmV4b0NsYXNzS2l0KFxuICAgICdFY2hvQ29ubmVjdGlvbktpdCcsXG4gICAge1xuICAgICAgaGFuZGxlcjogTS5pbnRlcmZhY2UoJ0Nvbm5lY3Rpb25IYW5kbGVyJywge1xuICAgICAgICBvblJlY2VpdmU6IE0uY2FsbFdoZW4oXG4gICAgICAgICAgU2hhcGUuQ29ubmVjdGlvbixcbiAgICAgICAgICBTaGFwZS5CeXRlcyxcbiAgICAgICAgICBTaGFwZS5Db25uZWN0aW9uSGFuZGxlcixcbiAgICAgICAgKVxuICAgICAgICAgIC5vcHRpb25hbChTaGFwZS5PcHRzKVxuICAgICAgICAgIC5yZXR1cm5zKFNoYXBlLkRhdGEpLFxuICAgICAgICBvbkNsb3NlOiBNLmNhbGxXaGVuKFNoYXBlLkNvbm5lY3Rpb24pXG4gICAgICAgICAgLm9wdGlvbmFsKE0uYW55KCksIFNoYXBlLkNvbm5lY3Rpb25IYW5kbGVyKVxuICAgICAgICAgIC5yZXR1cm5zKE0udW5kZWZpbmVkKCkpLFxuICAgICAgfSksXG4gICAgICBsaXN0ZW5lcjogTS5pbnRlcmZhY2UoJ0xpc3RlbmVyJywge1xuICAgICAgICBvbkxpc3RlbjogTS5jYWxsV2hlbihTaGFwZS5Qb3J0LCBTaGFwZS5MaXN0ZW5IYW5kbGVyKS5yZXR1cm5zKFxuICAgICAgICAgIFNoYXBlLlZvdyQoTS51bmRlZmluZWQoKSksXG4gICAgICAgICksXG4gICAgICAgIG9uQWNjZXB0OiBNLmNhbGxXaGVuKFxuICAgICAgICAgIFNoYXBlLlBvcnQsXG4gICAgICAgICAgU2hhcGUuRW5kcG9pbnQsXG4gICAgICAgICAgU2hhcGUuRW5kcG9pbnQsXG4gICAgICAgICAgU2hhcGUuTGlzdGVuSGFuZGxlcixcbiAgICAgICAgKS5yZXR1cm5zKFNoYXBlLlZvdyQoU2hhcGUuQ29ubmVjdGlvbkhhbmRsZXIpKSxcbiAgICAgIH0pLFxuICAgIH0sXG4gICAgKCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGNsb3NlZDogdW5kZWZpbmVkLFxuICAgICAgfTtcbiAgICB9LFxuICAgIHtcbiAgICAgIGhhbmRsZXI6IHtcbiAgICAgICAgLypcblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIG9uUmVjZWl2ZShfY29ubmVjdGlvbiwgYnl0ZXMsIF9jb25uZWN0aW9uSGFuZGxlcikge1xuICAgICAgICAgIGNvbnN0IHsgY2xvc2VkIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgaWYgKGNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoY2xvc2VkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgb25DbG9zZShfY29ubmVjdGlvbiwgcmVhc29uLCBfY29ubmVjdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICBjb25zdCB7IGNsb3NlZCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgIGlmIChjbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGNsb3NlZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5zdGF0ZS5jbG9zZWQgPSByZWFzb24gfHwgJ0Nvbm5lY3Rpb24gY2xvc2VkJztcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBsaXN0ZW5lcjoge1xuICAgICAgICBhc3luYyBvbkFjY2VwdChfcG9ydCwgX2xvY2FsQWRkciwgX3JlbW90ZUFkZHIsIF9saXN0ZW5IYW5kbGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmFjZXRzLmhhbmRsZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIG9uTGlzdGVuKHBvcnQsIF9saXN0ZW5IYW5kbGVyKSB7XG4gICAgICAgICAgY29uc29sZS5kZWJ1ZyhgbGlzdGVuaW5nIG9uIGVjaG8gcG9ydDogJHtwb3J0fWApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIHJldHVybiBtYWtlRWNob0Nvbm5lY3Rpb25LaXQ7XG59O1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLnByZXBhcmVFY2hvQ29ubmVjdGlvbktpdChwcmVwYXJlRWNob0Nvbm5lY3Rpb25LaXQpO1xuICAgICAgIGZ1bmN0aW9uIHByZXBhcmVMb29wYmFja1Byb3RvY29sSGFuZGxlcih6b25lLCB7IHdhdGNoLCBhbGxWb3dzIH0pIHtcbiAgY29uc3QgZGV0YWNoZWQgPSB6b25lLmRldGFjaGVkKCk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGluaXRIYW5kbGVyID0gKGluc3RhbmNlUHJlZml4ID0gJ25vbmNlLycpID0+IHtcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IGRldGFjaGVkLm1hcFN0b3JlKCdsb2NhbEFkZHInKTtcblxuICAgIHJldHVybiB7XG4gICAgICBsaXN0ZW5lcnMsXG4gICAgICBwb3J0Tm9uY2U6IDBuLFxuICAgICAgaW5zdGFuY2VQcmVmaXgsXG4gICAgICBpbnN0YW5jZU5vbmNlOiAwbixcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IG1ha2VMb29wYmFja1Byb3RvY29sSGFuZGxlcktpdCA9IHpvbmUuZXhvQ2xhc3NLaXQoXG4gICAgJ1Byb3RvY29sSGFuZGxlcicsXG4gICAgU2hhcGUuUHJvdG9jb2xIYW5kbGVySSxcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBpbml0SGFuZGxlcixcbiAgICB7XG4gICAgICBwcm90b2NvbEhhbmRsZXI6IHtcbiAgICAgICAgYXN5bmMgb25DcmVhdGUoX2ltcGwsIF9wcm90b2NvbEhhbmRsZXIpIHtcbiAgICAgICAgICAvL1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZW5lcmF0ZVBvcnRJRChfbG9jYWxBZGRyLCBfcHJvdG9jb2xIYW5kbGVyKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5wb3J0Tm9uY2UgKz0gMW47XG4gICAgICAgICAgcmV0dXJuIGBwb3J0JHt0aGlzLnN0YXRlLnBvcnROb25jZX1gO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBvbkJpbmQoX3BvcnQsIF9sb2NhbEFkZHIsIF9wcm90b2NvbEhhbmRsZXIpIHtcbiAgICAgICAgICAvL1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBvbkNvbm5lY3QoX3BvcnQsIGxvY2FsQWRkciwgcmVtb3RlQWRkcikge1xuICAgICAgICAgIGNvbnN0IHsgbGlzdGVuZXJzIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIGNvbnN0IFtscG9ydCwgbGhhbmRsZXJdID0gbGlzdGVuZXJzLmdldChyZW1vdGVBZGRyKTtcblxuICAgICAgICAgIGNvbnN0IGFjY2VwdFZvdyA9IHdhdGNoKFxuICAgICAgICAgICAgRShsaGFuZGxlcikub25BY2NlcHQobHBvcnQsIHJlbW90ZUFkZHIsIGxvY2FsQWRkciwgbGhhbmRsZXIpLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMucHJvdG9jb2xIYW5kbGVyQWNjZXB0V2F0Y2hlcixcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgaW5zdGFudGlhdGVJbm5lclZvdyA9IHdhdGNoKFxuICAgICAgICAgICAgRSh0aGlzLmZhY2V0cy5wcm90b2NvbEhhbmRsZXIpLm9uSW5zdGFudGlhdGUoXG4gICAgICAgICAgICAgIGxwb3J0LFxuICAgICAgICAgICAgICByZW1vdGVBZGRyLFxuICAgICAgICAgICAgICBsb2NhbEFkZHIsXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnByb3RvY29sSGFuZGxlcixcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5wcm90b2NvbEhhbmRsZXJJbnN0YW50aWF0ZVdhdGNoZXIsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IGluc3RhbnRpYXRlVm93ID0gd2F0Y2goXG4gICAgICAgICAgICBpbnN0YW50aWF0ZUlubmVyVm93LFxuICAgICAgICAgICAgdGhpcy5mYWNldHMucmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgYWxsVm93cyhbYWNjZXB0Vm93LCBpbnN0YW50aWF0ZVZvd10pLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMucHJvdG9jb2xIYW5kbGVyQ29ubmVjdFdhdGNoZXIsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgb25JbnN0YW50aWF0ZShfcG9ydCwgX2xvY2FsQWRkciwgX3JlbW90ZSwgX3Byb3RvY29sKSB7XG4gICAgICAgICAgY29uc3QgeyBpbnN0YW5jZVByZWZpeCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICB0aGlzLnN0YXRlLmluc3RhbmNlTm9uY2UgKz0gMW47XG4gICAgICAgICAgcmV0dXJuIGAke2luc3RhbmNlUHJlZml4fSR7dGhpcy5zdGF0ZS5pbnN0YW5jZU5vbmNlfWA7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIG9uTGlzdGVuKHBvcnQsIGxvY2FsQWRkciwgbGlzdGVuSGFuZGxlciwgX3Byb3RvY29sSGFuZGxlcikge1xuICAgICAgICAgIGNvbnN0IHsgbGlzdGVuZXJzIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIGlmIChsaXN0ZW5lcnMuaGFzKGxvY2FsQWRkcikpIHtcbiAgICAgICAgICAgIGNvbnN0IGxoYW5kbGVyID0gbGlzdGVuZXJzLmdldChsb2NhbEFkZHIpWzFdO1xuICAgICAgICAgICAgaWYgKGxoYW5kbGVyICE9PSBsaXN0ZW5IYW5kbGVyKSB7XG4gICAgICAgICAgICAgIGxpc3RlbmVycy5zZXQoXG4gICAgICAgICAgICAgICAgbG9jYWxBZGRyLFxuICAgICAgICAgICAgICAgIGhhcmRlbihbXG4gICAgICAgICAgICAgICAgICBwb3J0LFxuICAgICAgICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbkhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5pbml0KFxuICAgICAgICAgICAgICBsb2NhbEFkZHIsXG4gICAgICAgICAgICAgIGhhcmRlbihbXG4gICAgICAgICAgICAgICAgcG9ydCxcbiAgICAgICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChsaXN0ZW5IYW5kbGVyKSxcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgb25MaXN0ZW5SZW1vdmUocG9ydCwgbG9jYWxBZGRyLCBsaXN0ZW5IYW5kbGVyLCBfcHJvdG9jb2xIYW5kbGVyKSB7XG4gICAgICAgICAgY29uc3QgeyBsaXN0ZW5lcnMgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgY29uc3QgW2xwb3J0LCBsaGFuZGxlcl0gPSBsaXN0ZW5lcnMuZ2V0KGxvY2FsQWRkcik7XG4gICAgICAgICAgbHBvcnQgPT09IHBvcnQgfHwgRmFpbGBQb3J0IGRvZXMgbm90IG1hdGNoIGxpc3RlbmVyIG9uICR7bG9jYWxBZGRyfWA7XG4gICAgICAgICAgbGhhbmRsZXIgPT09IGxpc3RlbkhhbmRsZXIgfHxcbiAgICAgICAgICAgIEZhaWxgTGlzdGVuIGhhbmRsZXIgZG9lcyBub3QgbWF0Y2ggbGlzdGVuZXIgb24gJHtsb2NhbEFkZHJ9YDtcbiAgICAgICAgICBsaXN0ZW5lcnMuZGVsZXRlKGxvY2FsQWRkcik7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIG9uUmV2b2tlKF9wb3J0LCBfbG9jYWxBZGRyLCBfcHJvdG9jb2xIYW5kbGVyKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwcm90b2NvbEhhbmRsZXJBY2NlcHRXYXRjaGVyOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKHJjaGFuZGxlcikge1xuICAgICAgICAgIHJldHVybiByY2hhbmRsZXI7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcHJvdG9jb2xIYW5kbGVyQ29ubmVjdFdhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQocmVzdWx0cykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW1vdGVJbnN0YW5jZTogcmVzdWx0c1swXSxcbiAgICAgICAgICAgIGhhbmRsZXI6IHJlc3VsdHNbMV0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwcm90b2NvbEhhbmRsZXJJbnN0YW50aWF0ZVdhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQocmVtb3RlSW5zdGFuY2UpIHtcbiAgICAgICAgICByZXR1cm4gcmVtb3RlSW5zdGFuY2U7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyOiB7XG4gICAgICAgIG9uUmVqZWN0ZWQoZSkge1xuICAgICAgICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nKGUpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtYWtlTG9vcGJhY2tQcm90b2NvbEhhbmRsZXIgPSBpbnN0YW5jZVByZWZpeCA9PiB7XG4gICAgY29uc3QgeyBwcm90b2NvbEhhbmRsZXIgfSA9IG1ha2VMb29wYmFja1Byb3RvY29sSGFuZGxlcktpdChpbnN0YW5jZVByZWZpeCk7XG4gICAgcmV0dXJuIGhhcmRlbihwcm90b2NvbEhhbmRsZXIpO1xuICB9O1xuXG4gIHJldHVybiBtYWtlTG9vcGJhY2tQcm90b2NvbEhhbmRsZXI7XG59XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlUG9ydEFsbG9jYXRvciA9ICh6b25lLCB7IHdhdGNoIH0pID0+XG4gIHpvbmUuZXhvQ2xhc3MoXG4gICAgJ1BvcnRBbGxvY2F0b3InLFxuICAgIE0uaW50ZXJmYWNlKCdQb3J0QWxsb2NhdG9yJywge1xuICAgICAgYWxsb2NhdGVDdXN0b21JQkNQb3J0OiBNLmNhbGxXaGVuKClcbiAgICAgICAgLm9wdGlvbmFsKE0uc3RyaW5nKCkpXG4gICAgICAgIC5yZXR1cm5zKFNoYXBlLlZvdyQoU2hhcGUuUG9ydCkpLFxuICAgICAgYWxsb2NhdGVJQ0FDb250cm9sbGVyUG9ydDogTS5jYWxsV2hlbigpLnJldHVybnMoU2hhcGUuVm93JChTaGFwZS5Qb3J0KSksXG4gICAgICBhbGxvY2F0ZUlDUUNvbnRyb2xsZXJQb3J0OiBNLmNhbGxXaGVuKCkucmV0dXJucyhTaGFwZS5Wb3ckKFNoYXBlLlBvcnQpKSxcbiAgICAgIGFsbG9jYXRlQ3VzdG9tTG9jYWxQb3J0OiBNLmNhbGxXaGVuKClcbiAgICAgICAgLm9wdGlvbmFsKE0uc3RyaW5nKCkpXG4gICAgICAgIC5yZXR1cm5zKFNoYXBlLlZvdyQoU2hhcGUuUG9ydCkpLFxuICAgIH0pLFxuICAgIC8qXG5cblxuXG4gICAgICovXG4gICAgKHsgcHJvdG9jb2wgfSkgPT4gKHsgcHJvdG9jb2wsIGxhc3RJQ0FQb3J0TnVtOiAwbiwgbGFzdElDUVBvcnROdW06IDBuIH0pLFxuICAgIHtcbiAgICAgIGFzeW5jIGFsbG9jYXRlQ3VzdG9tSUJDUG9ydChzcGVjaWZpZWROYW1lID0gJycpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gdGhpcztcbiAgICAgICAgbGV0IGxvY2FsQWRkciA9IGAvaWJjLXBvcnQvYDtcblxuICAgICAgICBpZiAoc3BlY2lmaWVkTmFtZSkge1xuICAgICAgICAgIHRocm93SWZJbnZhbGlkUG9ydE5hbWUoc3BlY2lmaWVkTmFtZSk7XG5cbiAgICAgICAgICBsb2NhbEFkZHIgPSBgL2liYy1wb3J0L2N1c3RvbS0ke3NwZWNpZmllZE5hbWV9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiB3YXRjaChFKHN0YXRlLnByb3RvY29sKS5iaW5kUG9ydChsb2NhbEFkZHIpKTtcbiAgICAgIH0sXG4gICAgICBhc3luYyBhbGxvY2F0ZUlDQUNvbnRyb2xsZXJQb3J0KCkge1xuICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICBzdGF0ZS5sYXN0SUNBUG9ydE51bSArPSAxbjtcbiAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgIEUoc3RhdGUucHJvdG9jb2wpLmJpbmRQb3J0KFxuICAgICAgICAgICAgYC9pYmMtcG9ydC9pY2Fjb250cm9sbGVyLSR7c3RhdGUubGFzdElDQVBvcnROdW19YCxcbiAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIGFsbG9jYXRlSUNRQ29udHJvbGxlclBvcnQoKSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG4gICAgICAgIHN0YXRlLmxhc3RJQ1FQb3J0TnVtICs9IDFuO1xuICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgRShzdGF0ZS5wcm90b2NvbCkuYmluZFBvcnQoXG4gICAgICAgICAgICBgL2liYy1wb3J0L2ljcWNvbnRyb2xsZXItJHtzdGF0ZS5sYXN0SUNRUG9ydE51bX1gLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgYWxsb2NhdGVDdXN0b21Mb2NhbFBvcnQoc3BlY2lmaWVkTmFtZSA9ICcnKSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHRoaXM7XG5cbiAgICAgICAgbGV0IGxvY2FsQWRkciA9IGAvbG9jYWwvYDtcblxuICAgICAgICBpZiAoc3BlY2lmaWVkTmFtZSkge1xuICAgICAgICAgIHRocm93SWZJbnZhbGlkUG9ydE5hbWUoc3BlY2lmaWVkTmFtZSk7XG5cbiAgICAgICAgICBsb2NhbEFkZHIgPSBgL2xvY2FsL2N1c3RvbS0ke3NwZWNpZmllZE5hbWV9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiB3YXRjaChFKHN0YXRlLnByb3RvY29sKS5iaW5kUG9ydChsb2NhbEFkZHIpKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UucHJlcGFyZVBvcnRBbGxvY2F0b3IocHJlcGFyZVBvcnRBbGxvY2F0b3IpO1xuY29uc3QgcHJlcGFyZUZpbmFsaXplciA9ICh6b25lLCB7IHdhdGNoIH0pID0+IHtcbiAgLypcblxuXG5cblxuICAgKi9cbiAgY29uc3Qgb2JqVG9GaW5hbGl6ZXJJbmZvID0gem9uZS5tYXBTdG9yZSgnb2JqVG9GaW5hbGl6ZXJJbmZvJyk7XG4gIHJldHVybiB6b25lLmV4bygnTmV0d29ya0ZpbmFsaXplcicsIHVuZGVmaW5lZCwge1xuICAgIGhhcyhvYmopIHtcbiAgICAgIHJldHVybiBvYmpUb0ZpbmFsaXplckluZm8uaGFzKG9iaik7XG4gICAgfSxcbiAgICAvKlxuXG5cblxuXG4gICAgICovXG4gICAgaW5pdENvbm5lY3Rpb24oY29ubiwgaGFuZGxlcikge1xuICAgICAgb2JqVG9GaW5hbGl6ZXJJbmZvLmluaXQoY29ubiwgaGFyZGVuKHsgY29ubiwgaGFuZGxlciB9KSk7XG4gICAgfSxcbiAgICAvKlxuXG5cblxuICAgICAqL1xuICAgIGluaXRDbG9zZXIoY2xvc2VyKSB7XG4gICAgICBvYmpUb0ZpbmFsaXplckluZm8uaW5pdChjbG9zZXIsIGhhcmRlbih7IGNsb3NlciB9KSk7XG4gICAgfSxcbiAgICBmaW5hbGl6ZShvYmopIHtcbiAgICAgIGlmICghb2JqVG9GaW5hbGl6ZXJJbmZvLmhhcyhvYmopKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpc3Bvc2VJbmZvID0gb2JqVG9GaW5hbGl6ZXJJbmZvLmdldChvYmopO1xuICAgICAgaWYgKCdjb25uJyBpbiBkaXNwb3NlSW5mbykge1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCB7IGNvbm4sIGhhbmRsZXIgfSA9IGRpc3Bvc2VJbmZvO1xuICAgICAgICBvYmpUb0ZpbmFsaXplckluZm8uZGVsZXRlKG9iaik7XG4gICAgICAgIHJldHVybiB3YXRjaChFKGhhbmRsZXIpLm9uQ2xvc2UoY29ubiwgQ0xPU0VfUkVBU09OX0ZJTkFMSVpFUiwgaGFuZGxlcikpO1xuICAgICAgfSBlbHNlIGlmICgnY2xvc2VyJyBpbiBkaXNwb3NlSW5mbykge1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCB7IGNsb3NlciB9ID0gZGlzcG9zZUluZm87XG4gICAgICAgIG9ialRvRmluYWxpemVySW5mby5kZWxldGUob2JqKTtcbiAgICAgICAgcmV0dXJuIHdhdGNoKEUoY2xvc2VyKS5jbG9zZSgpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVucGluKG9iaikge1xuICAgICAgb2JqVG9GaW5hbGl6ZXJJbmZvLmRlbGV0ZShvYmopO1xuICAgIH0sXG4gIH0pO1xufTtcbmhhcmRlbihwcmVwYXJlRmluYWxpemVyKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVOZXR3b3JrUG93ZXJzID0gKHpvbmUsIHZvd1Rvb2xzKSA9PiB7XG4gIGNvbnN0IGZpbmFsaXplciA9IHByZXBhcmVGaW5hbGl6ZXIoem9uZSwgdm93VG9vbHMpO1xuICByZXR1cm4gaGFyZGVuKHsgLi4udm93VG9vbHMsIGZpbmFsaXplciB9KTtcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5wcmVwYXJlTmV0d29ya1Bvd2VycyhwcmVwYXJlTmV0d29ya1Bvd2Vycyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJFTkRQT0lOVF9TRVBBUkFUT1IiOlsiRU5EUE9JTlRfU0VQQVJBVE9SIl0sIkNMT1NFX1JFQVNPTl9GSU5BTElaRVIiOlsiQ0xPU0VfUkVBU09OX0ZJTkFMSVpFUiJdLCJyZXRocm93VW5sZXNzTWlzc2luZyI6WyJyZXRocm93VW5sZXNzTWlzc2luZyJdLCJnZXRQcmVmaXhlcyI6WyJnZXRQcmVmaXhlcyJdLCJjcm9zc292ZXJDb25uZWN0aW9uIjpbImNyb3Nzb3ZlckNvbm5lY3Rpb24iXSwicHJlcGFyZU5ldHdvcmtQcm90b2NvbCI6WyJwcmVwYXJlTmV0d29ya1Byb3RvY29sIl0sInByZXBhcmVFY2hvQ29ubmVjdGlvbktpdCI6WyJwcmVwYXJlRWNob0Nvbm5lY3Rpb25LaXQiXSwicHJlcGFyZUxvb3BiYWNrUHJvdG9jb2xIYW5kbGVyIjpbInByZXBhcmVMb29wYmFja1Byb3RvY29sSGFuZGxlciJdLCJwcmVwYXJlUG9ydEFsbG9jYXRvciI6WyJwcmVwYXJlUG9ydEFsbG9jYXRvciJdLCJwcmVwYXJlTmV0d29ya1Bvd2VycyI6WyJwcmVwYXJlTmV0d29ya1Bvd2VycyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADa25Sj/BQAAPwUAAAkAAAAQGFnb3JpYy9uZXR3b3JrLXYwLjEuMC9zcmMvcm91dGVyLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2ZhciIsIkBlbmRvL3BhdHRlcm5zIiwiLi9uZXR3b3JrLmpzIiwiLi9zaGFwZXMuanMiXSwiZXhwb3J0cyI6WyJSb3V0ZXJJIiwicHJlcGFyZVJvdXRlciIsInByZXBhcmVSb3V0ZXJQcm90b2NvbCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsZGVmYXVsdEUsTSxFTkRQT0lOVF9TRVBBUkFUT1IscHJlcGFyZU5ldHdvcmtQcm90b2NvbCxTaGFwZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChkZWZhdWx0RSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIi4vbmV0d29yay5qc1wiLCBbW1wiRU5EUE9JTlRfU0VQQVJBVE9SXCIsWyRozY9fYSA9PiAoRU5EUE9JTlRfU0VQQVJBVE9SID0gJGjNj19hKV1dLFtcInByZXBhcmVOZXR3b3JrUHJvdG9jb2xcIixbJGjNj19hID0+IChwcmVwYXJlTmV0d29ya1Byb3RvY29sID0gJGjNj19hKV1dXV0sW1wiLi9zaGFwZXMuanNcIiwgW1tcIlNoYXBlXCIsWyRozY9fYSA9PiAoU2hhcGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4gICAgICAgY29uc3QgUm91dGVySSA9IE0uaW50ZXJmYWNlKCdSb3V0ZXInLCB7XG4gIGdldFJvdXRlczogTS5jYWxsKFNoYXBlLkVuZHBvaW50KS5yZXR1cm5zKE0uYXJyYXlPZihbTS5zdHJpbmcoKSwgTS5hbnkoKV0pKSxcbiAgcmVnaXN0ZXI6IE0uY2FsbChNLnN0cmluZygpLCBNLmFueSgpKS5yZXR1cm5zKE0udW5kZWZpbmVkKCkpLFxuICB1bnJlZ2lzdGVyOiBNLmNhbGwoTS5zdHJpbmcoKSwgTS5hbnkoKSkucmV0dXJucyhNLnVuZGVmaW5lZCgpKSxcbn0pO1xuXG4vKlxuXG5cbiAqLyRozY9fb25jZS5Sb3V0ZXJJKFJvdXRlckkpO1xuICAgICAgIGNvbnN0IHByZXBhcmVSb3V0ZXIgPSB6b25lID0+IHtcbiAgY29uc3QgZGV0YWNoZWQgPSB6b25lLmRldGFjaGVkKCk7XG5cbiAgY29uc3QgbWFrZVJvdXRlciA9IHpvbmUuZXhvQ2xhc3MoXG4gICAgJ1JvdXRlcicsXG4gICAgUm91dGVySSxcbiAgICAoKSA9PiB7XG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCBwcmVmaXhUb1JvdXRlID0gZGV0YWNoZWQubWFwU3RvcmUoJ3ByZWZpeCcpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcmVmaXhUb1JvdXRlLFxuICAgICAgfTtcbiAgICB9LFxuICAgIHtcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBnZXRSb3V0ZXMoYWRkcikge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGFkZHIuc3BsaXQoRU5EUE9JTlRfU0VQQVJBVE9SKTtcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBjb25zdCByZXQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHBhcnRzLmxlbmd0aDsgaSA+IDA7IGkgLT0gMSkge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3QgcHJlZml4ID0gcGFydHMuc2xpY2UoMCwgaSkuam9pbihFTkRQT0lOVF9TRVBBUkFUT1IpO1xuICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnByZWZpeFRvUm91dGUuaGFzKHByZWZpeCkpIHtcbiAgICAgICAgICAgIHJldC5wdXNoKFtwcmVmaXgsIHRoaXMuc3RhdGUucHJlZml4VG9Sb3V0ZS5nZXQocHJlZml4KV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRQcmVmaXggPSBwcmVmaXguc2xpY2UoXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgcHJlZml4Lmxhc3RJbmRleE9mKEVORFBPSU5UX1NFUEFSQVRPUikgKyAxLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUucHJlZml4VG9Sb3V0ZS5oYXMoZGVmYXVsdFByZWZpeCkpIHtcbiAgICAgICAgICAgIHJldC5wdXNoKFtcbiAgICAgICAgICAgICAgZGVmYXVsdFByZWZpeCxcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wcmVmaXhUb1JvdXRlLmdldChkZWZhdWx0UHJlZml4KSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFyZGVuKHJldCk7XG4gICAgICB9LFxuICAgICAgLypcblxuXG4gICAgICAgKi9cbiAgICAgIHJlZ2lzdGVyKHByZWZpeCwgcm91dGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5wcmVmaXhUb1JvdXRlLmluaXQocHJlZml4LCByb3V0ZSk7XG4gICAgICB9LFxuICAgICAgLypcblxuXG4gICAgICAgKi9cbiAgICAgIHVucmVnaXN0ZXIocHJlZml4LCByb3V0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlLnByZWZpeFRvUm91dGUuZ2V0KHByZWZpeCkgPT09IHJvdXRlIHx8XG4gICAgICAgICAgRmFpbGBSb3V0ZXIgaXMgbm90IHJlZ2lzdGVyZWQgYXQgcHJlZml4ICR7cHJlZml4fWA7XG4gICAgICAgIHRoaXMuc3RhdGUucHJlZml4VG9Sb3V0ZS5kZWxldGUocHJlZml4KTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICByZXR1cm4gbWFrZVJvdXRlcjtcbn07XG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5wcmVwYXJlUm91dGVyKHByZXBhcmVSb3V0ZXIpO1xuICAgICAgIGNvbnN0IHByZXBhcmVSb3V0ZXJQcm90b2NvbCA9ICh6b25lLCBwb3dlcnMsIEUgPSBkZWZhdWx0RSkgPT4ge1xuICBjb25zdCBkZXRhY2hlZCA9IHpvbmUuZGV0YWNoZWQoKTtcblxuICBjb25zdCBtYWtlUm91dGVyID0gcHJlcGFyZVJvdXRlcih6b25lKTtcbiAgY29uc3QgbWFrZU5ldHdvcmtQcm90b2NvbCA9IHByZXBhcmVOZXR3b3JrUHJvdG9jb2woem9uZSwgcG93ZXJzKTtcblxuICBjb25zdCBtYWtlUm91dGVyUHJvdG9jb2wgPSB6b25lLmV4b0NsYXNzKFxuICAgICdSb3V0ZXJQcm90b2NvbCcsXG4gICAgTS5pbnRlcmZhY2UoJ1JvdXRlclByb3RvY29sJywge1xuICAgICAgcmVnaXN0ZXJQcm90b2NvbEhhbmRsZXI6IE0uY2FsbChcbiAgICAgICAgTS5hcnJheU9mKE0uc3RyaW5nKCkpLFxuICAgICAgICBNLnJlbW90YWJsZSgpLFxuICAgICAgKS5yZXR1cm5zKCksXG4gICAgICB1bnJlZ2lzdGVyUHJvdG9jb2xIYW5kbGVyOiBNLmNhbGwoTS5zdHJpbmcoKSwgTS5yZW1vdGFibGUoKSkucmV0dXJucygpLFxuICAgICAgYmluZFBvcnQ6IE0uY2FsbFdoZW4oU2hhcGUuRW5kcG9pbnQpLnJldHVybnMoU2hhcGUuVm93JChTaGFwZS5Qb3J0KSksXG4gICAgfSksXG4gICAgKCkgPT4ge1xuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY29uc3Qgcm91dGVyID0gbWFrZVJvdXRlcigpO1xuXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY29uc3QgcHJvdG9jb2xzID0gZGV0YWNoZWQubWFwU3RvcmUoJ3ByZWZpeCcpO1xuXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY29uc3QgcHJvdG9jb2xIYW5kbGVycyA9IGRldGFjaGVkLm1hcFN0b3JlKCdwcmVmaXgnKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm91dGVyLFxuICAgICAgICBwcm90b2NvbEhhbmRsZXJzLFxuICAgICAgICBwcm90b2NvbHMsXG4gICAgICB9O1xuICAgIH0sXG4gICAge1xuICAgICAgLypcblxuXG4gICAgICAgKi9cbiAgICAgIHJlZ2lzdGVyUHJvdG9jb2xIYW5kbGVyKHBhdGhzLCBwcm90b2NvbEhhbmRsZXIpIHtcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBtYWtlTmV0d29ya1Byb3RvY29sKHByb3RvY29sSGFuZGxlcik7XG4gICAgICAgIGZvciAoY29uc3QgcHJlZml4IG9mIHBhdGhzKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5yb3V0ZXIucmVnaXN0ZXIocHJlZml4LCBwcm90b2NvbCk7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5wcm90b2NvbHMuaW5pdChwcmVmaXgsIHByb3RvY29sKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnByb3RvY29sSGFuZGxlcnMuaW5pdChwcmVmaXgsIHByb3RvY29sSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8qXG5cblxuICAgICAgICovXG4gICAgICB1bnJlZ2lzdGVyUHJvdG9jb2xIYW5kbGVyKHByZWZpeCwgcHJvdG9jb2xIYW5kbGVyKSB7XG4gICAgICAgIGNvbnN0IHBoID0gdGhpcy5zdGF0ZS5wcm90b2NvbEhhbmRsZXJzLmdldChwcmVmaXgpO1xuICAgICAgICBwaCA9PT0gcHJvdG9jb2xIYW5kbGVyIHx8XG4gICAgICAgICAgRmFpbGBQcm90b2NvbCBoYW5kbGVyIGlzIG5vdCByZWdpc3RlcmVkIGF0IHByZWZpeCAke3ByZWZpeH1gO1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICB0aGlzLnN0YXRlLnJvdXRlci51bnJlZ2lzdGVyKHByZWZpeCwgcGgpO1xuICAgICAgICB0aGlzLnN0YXRlLnByb3RvY29scy5kZWxldGUocHJlZml4KTtcbiAgICAgICAgdGhpcy5zdGF0ZS5wcm90b2NvbEhhbmRsZXJzLmRlbGV0ZShwcmVmaXgpO1xuICAgICAgfSxcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGFzeW5jIGJpbmRQb3J0KGxvY2FsQWRkcikge1xuICAgICAgICBjb25zdCBbcm91dGVdID0gdGhpcy5zdGF0ZS5yb3V0ZXIuZ2V0Um91dGVzKGxvY2FsQWRkcik7XG4gICAgICAgIHJvdXRlICE9PSB1bmRlZmluZWQgfHwgRmFpbGBObyByZWdpc3RlcmVkIHJvdXRlciBmb3IgJHtsb2NhbEFkZHJ9YDtcbiAgICAgICAgcmV0dXJuIEUocm91dGVbMV0pLmJpbmRQb3J0KGxvY2FsQWRkcik7XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgcmV0dXJuIG1ha2VSb3V0ZXJQcm90b2NvbDtcbn07JGjNj19vbmNlLnByZXBhcmVSb3V0ZXJQcm90b2NvbChwcmVwYXJlUm91dGVyUHJvdG9jb2wpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUm91dGVySSI6WyJSb3V0ZXJJIl0sInByZXBhcmVSb3V0ZXIiOlsicHJlcGFyZVJvdXRlciJdLCJwcmVwYXJlUm91dGVyUHJvdG9jb2wiOlsicHJlcGFyZVJvdXRlclByb3RvY29sIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAHXl8nsoHAAAKBwAACQAAABAYWdvcmljL25ldHdvcmstdjAuMS4wL3NyYy9zaGFwZXMuanN7ImltcG9ydHMiOlsiQGVuZG8vcGF0dGVybnMiXSwiZXhwb3J0cyI6WyJTaGFwZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE07JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXV0pO1xuXG5cbmNvbnN0IFNoYXBlMSA9IC8qICAgICAgICAgICAgICAgICovICh7XG4gIC8qXG5cblxuICAgKi9cbiAgRGF0YTogTS5zdHJpbmcoKSxcbiAgQnl0ZXM6IE0uc3RyaW5nKCksXG4gIEVuZHBvaW50OiBNLnN0cmluZygpLFxuICBWb3c6IE0udGFnZ2VkKFxuICAgICdWb3cnLFxuICAgIGhhcmRlbih7XG4gICAgICB2b3dWMDogTS5yZW1vdGFibGUoJ1Zvd1YwJyksXG4gICAgfSksXG4gICksXG4gIENvbm5lY3Rpb25IYW5kbGVyOiBNLnJlbW90YWJsZSgnQ29ubmVjdGlvbkhhbmRsZXInKSxcbiAgQ29ubmVjdGlvbjogTS5yZW1vdGFibGUoJ0Nvbm5lY3Rpb24nKSxcbiAgSW5ib3VuZEF0dGVtcHQ6IE0ucmVtb3RhYmxlKCdJbmJvdW5kQXR0ZW1wdCcpLFxuICBMaXN0ZW5lcjogTS5yZW1vdGFibGUoJ0xpc3RlbmVyJyksXG4gIExpc3RlbkhhbmRsZXI6IE0ucmVtb3RhYmxlKCdMaXN0ZW5IYW5kbGVyJyksXG4gIFBvcnQ6IE0ucmVtb3RhYmxlKCdQb3J0JyksXG4gIFByb3RvY29sSGFuZGxlcjogTS5yZW1vdGFibGUoJ1Byb3RvY29sSGFuZGxlcicpLFxuICBQcm90b2NvbEltcGw6IE0ucmVtb3RhYmxlKCdQcm90b2NvbEltcGwnKSxcbn0pO1xuXG5jb25zdCBTaGFwZTIgPSAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICAuLi5TaGFwZTEsXG4gIFZvdyQ6IHNoYXBlID0+IE0ub3Ioc2hhcGUsIFNoYXBlMS5Wb3cpLFxuICBBdHRlbXB0RGVzY3JpcHRpb246IE0uc3BsaXRSZWNvcmQoXG4gICAgeyBoYW5kbGVyOiBTaGFwZTEuQ29ubmVjdGlvbkhhbmRsZXIgfSxcbiAgICB7IHJlbW90ZUFkZHJlc3M6IFNoYXBlMS5FbmRwb2ludCwgbG9jYWxBZGRyZXNzOiBTaGFwZTEuRW5kcG9pbnQgfSxcbiAgKSxcbiAgT3B0czogTS5yZWNvcmRPZihNLnN0cmluZygpLCBNLmFueSgpKSxcbn0pO1xuXG4gICAgICAgY29uc3QgU2hhcGUgPSAvKiAgICAgICAgICAgICAgICAqLyBoYXJkZW4oe1xuICAuLi5TaGFwZTIsXG4gIENvbm5lY3Rpb25JOiB7XG4gICAgY29ubmVjdGlvbjogTS5pbnRlcmZhY2UoJ0Nvbm5lY3Rpb24nLCB7XG4gICAgICBzZW5kOiBNLmNhbGxXaGVuKFNoYXBlMi5EYXRhKVxuICAgICAgICAub3B0aW9uYWwoU2hhcGUyLk9wdHMpXG4gICAgICAgIC5yZXR1cm5zKFNoYXBlMi5Wb3ckKFNoYXBlMi5CeXRlcykpLFxuICAgICAgY2xvc2U6IE0uY2FsbFdoZW4oKS5yZXR1cm5zKFNoYXBlMi5Wb3ckKE0udW5kZWZpbmVkKCkpKSxcbiAgICAgIGdldExvY2FsQWRkcmVzczogTS5jYWxsKCkucmV0dXJucyhTaGFwZTIuRW5kcG9pbnQpLFxuICAgICAgZ2V0UmVtb3RlQWRkcmVzczogTS5jYWxsKCkucmV0dXJucyhTaGFwZTIuRW5kcG9pbnQpLFxuICAgIH0pLFxuICAgIG9wZW5Db25uZWN0aW9uQWNrV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ09wZW5Db25uZWN0aW9uQWNrV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ1JldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcicsIHtcbiAgICAgIG9uUmVqZWN0ZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgfSksXG4gICAgc2lua1dhdGNoZXI6IE0uaW50ZXJmYWNlKCdTaW5rV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKCksXG4gICAgfSksXG4gIH0sXG4gIEluYm91bmRBdHRlbXB0SToge1xuICAgIGluYm91bmRBdHRlbXB0OiBNLmludGVyZmFjZSgnSW5ib3VuZEF0dGVtcHQnLCB7XG4gICAgICBhY2NlcHQ6IE0uY2FsbFdoZW4oU2hhcGUyLkF0dGVtcHREZXNjcmlwdGlvbikucmV0dXJucyhcbiAgICAgICAgU2hhcGUyLlZvdyQoU2hhcGUyLkNvbm5lY3Rpb24pLFxuICAgICAgKSxcbiAgICAgIGdldExvY2FsQWRkcmVzczogTS5jYWxsKCkucmV0dXJucyhTaGFwZTIuRW5kcG9pbnQpLFxuICAgICAgZ2V0UmVtb3RlQWRkcmVzczogTS5jYWxsKCkucmV0dXJucyhTaGFwZTIuRW5kcG9pbnQpLFxuICAgICAgY2xvc2U6IE0uY2FsbFdoZW4oKS5yZXR1cm5zKFNoYXBlMi5Wb3ckKE0udW5kZWZpbmVkKCkpKSxcbiAgICB9KSxcbiAgICBpbmJvdW5kQXR0ZW1wdEFjY2VwdFdhdGNoZXI6IE0uaW50ZXJmYWNlKCdJbmJvdW5kQXR0ZW1wdEFjY2VwdFdhdGNoZXInLCB7XG4gICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICB9KSxcbiAgICByZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXI6IE0uaW50ZXJmYWNlKCdSZXRocm93VW5sZXNzTWlzc2luZ1dhdGNoZXInLCB7XG4gICAgICBvblJlamVjdGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICAgIHNpbmtXYXRjaGVyOiBNLmludGVyZmFjZSgnU2lua1dhdGNoZXInLCB7XG4gICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucygpLFxuICAgIH0pLFxuICB9LFxuICBQb3J0SToge1xuICAgIHBvcnQ6IE0uaW50ZXJmYWNlKCdQb3J0Jywge1xuICAgICAgZ2V0TG9jYWxBZGRyZXNzOiBNLmNhbGwoKS5yZXR1cm5zKFNoYXBlMi5FbmRwb2ludCksXG4gICAgICBhZGRMaXN0ZW5lcjogTS5jYWxsV2hlbihTaGFwZTIuTGlzdGVuZXIpLnJldHVybnMoXG4gICAgICAgIFNoYXBlMi5Wb3ckKE0udW5kZWZpbmVkKCkpLFxuICAgICAgKSxcbiAgICAgIGNvbm5lY3Q6IE0uY2FsbFdoZW4oU2hhcGUyLkVuZHBvaW50KVxuICAgICAgICAub3B0aW9uYWwoU2hhcGUyLkNvbm5lY3Rpb25IYW5kbGVyKVxuICAgICAgICAucmV0dXJucyhTaGFwZTIuVm93JChTaGFwZTIuQ29ubmVjdGlvbikpLFxuICAgICAgcmVtb3ZlTGlzdGVuZXI6IE0uY2FsbFdoZW4oU2hhcGUyLkxpc3RlbmVyKS5yZXR1cm5zKFxuICAgICAgICBTaGFwZTIuVm93JChNLnVuZGVmaW5lZCgpKSxcbiAgICAgICksXG4gICAgICByZXZva2U6IE0uY2FsbFdoZW4oKS5yZXR1cm5zKFNoYXBlMi5Wb3ckKE0udW5kZWZpbmVkKCkpKSxcbiAgICB9KSxcbiAgICBwb3J0QWRkTGlzdGVuZXJXYXRjaGVyOiBNLmludGVyZmFjZSgnUG9ydEFkZExpc3RlbmVyV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICAgIHBvcnRSZW1vdmVMaXN0ZW5lcldhdGNoZXI6IE0uaW50ZXJmYWNlKCdQb3J0UmVtb3ZlTGlzdGVuZXJXYXRjaGVyJywge1xuICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgfSksXG4gICAgcG9ydENvbm5lY3RXYXRjaGVyOiBNLmludGVyZmFjZSgnUG9ydENvbm5lY3RXYXRjaGVyJywge1xuICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgfSksXG4gICAgcG9ydFJldm9rZVdhdGNoZXI6IE0uaW50ZXJmYWNlKCdQb3J0UmV2b2tlV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICAgIHBvcnRSZXZva2VDbGVhbnVwV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ1BvcnRSZXZva2VDbGVhbnVwV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICAgIHJldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ1JldGhyb3dVbmxlc3NNaXNzaW5nV2F0Y2hlcicsIHtcbiAgICAgIG9uUmVqZWN0ZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgfSksXG4gICAgc2lua1dhdGNoZXI6IE0uaW50ZXJmYWNlKCdTaW5rV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKCksXG4gICAgICBvblJlamVjdGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICB9LFxuICBQcm90b2NvbEhhbmRsZXJJOiB7XG4gICAgcHJvdG9jb2xIYW5kbGVyOiBNLmludGVyZmFjZSgnUHJvdG9jb2xIYW5kbGVyJywge1xuICAgICAgb25DcmVhdGU6IE0uY2FsbFdoZW4oTS5yZW1vdGFibGUoKSwgU2hhcGUyLlByb3RvY29sSGFuZGxlcikucmV0dXJucyhcbiAgICAgICAgU2hhcGUyLlZvdyQoTS51bmRlZmluZWQoKSksXG4gICAgICApLFxuICAgICAgZ2VuZXJhdGVQb3J0SUQ6IE0uY2FsbFdoZW4oXG4gICAgICAgIFNoYXBlMi5FbmRwb2ludCxcbiAgICAgICAgU2hhcGUyLlByb3RvY29sSGFuZGxlcixcbiAgICAgICkucmV0dXJucyhTaGFwZTIuVm93JChNLnN0cmluZygpKSksXG4gICAgICBvbkJpbmQ6IE0uY2FsbFdoZW4oXG4gICAgICAgIFNoYXBlMi5Qb3J0LFxuICAgICAgICBTaGFwZTIuRW5kcG9pbnQsXG4gICAgICAgIFNoYXBlMi5Qcm90b2NvbEhhbmRsZXIsXG4gICAgICApLnJldHVybnMoU2hhcGUyLlZvdyQoTS51bmRlZmluZWQoKSkpLFxuICAgICAgb25MaXN0ZW46IE0uY2FsbFdoZW4oXG4gICAgICAgIFNoYXBlMi5Qb3J0LFxuICAgICAgICBTaGFwZTIuRW5kcG9pbnQsXG4gICAgICAgIFNoYXBlMi5MaXN0ZW5IYW5kbGVyLFxuICAgICAgICBTaGFwZTIuUHJvdG9jb2xIYW5kbGVyLFxuICAgICAgKS5yZXR1cm5zKFNoYXBlMi5Wb3ckKE0udW5kZWZpbmVkKCkpKSxcbiAgICAgIG9uTGlzdGVuUmVtb3ZlOiBNLmNhbGxXaGVuKFxuICAgICAgICBTaGFwZTIuUG9ydCxcbiAgICAgICAgU2hhcGUyLkVuZHBvaW50LFxuICAgICAgICBTaGFwZTIuTGlzdGVuSGFuZGxlcixcbiAgICAgICAgU2hhcGUyLlByb3RvY29sSGFuZGxlcixcbiAgICAgICkucmV0dXJucyhTaGFwZTIuVm93JChNLnVuZGVmaW5lZCgpKSksXG4gICAgICBvbkluc3RhbnRpYXRlOiBNLmNhbGxXaGVuKFxuICAgICAgICBTaGFwZTIuUG9ydCxcbiAgICAgICAgU2hhcGUyLkVuZHBvaW50LFxuICAgICAgICBTaGFwZTIuRW5kcG9pbnQsXG4gICAgICAgIFNoYXBlMi5Qcm90b2NvbEhhbmRsZXIsXG4gICAgICApLnJldHVybnMoU2hhcGUyLlZvdyQoU2hhcGUyLkVuZHBvaW50KSksXG4gICAgICBvbkNvbm5lY3Q6IE0uY2FsbFdoZW4oXG4gICAgICAgIFNoYXBlMi5Qb3J0LFxuICAgICAgICBTaGFwZTIuRW5kcG9pbnQsXG4gICAgICAgIFNoYXBlMi5FbmRwb2ludCxcbiAgICAgICAgU2hhcGUyLkNvbm5lY3Rpb25IYW5kbGVyLFxuICAgICAgICBTaGFwZTIuUHJvdG9jb2xIYW5kbGVyLFxuICAgICAgKS5yZXR1cm5zKFNoYXBlMi5Wb3ckKFNoYXBlMi5BdHRlbXB0RGVzY3JpcHRpb24pKSxcbiAgICAgIG9uUmV2b2tlOiBNLmNhbGxXaGVuKFxuICAgICAgICBTaGFwZTIuUG9ydCxcbiAgICAgICAgU2hhcGUyLkVuZHBvaW50LFxuICAgICAgICBTaGFwZTIuUHJvdG9jb2xIYW5kbGVyLFxuICAgICAgKS5yZXR1cm5zKFNoYXBlMi5Wb3ckKE0udW5kZWZpbmVkKCkpKSxcbiAgICB9KSxcbiAgICBwcm90b2NvbEhhbmRsZXJBY2NlcHRXYXRjaGVyOiBNLmludGVyZmFjZSgnUHJvdG9jb2xIYW5kbGVyQWNjZXB0V2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hbnkoKSkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgIH0pLFxuICAgIHByb3RvY29sSGFuZGxlckluc3RhbnRpYXRlV2F0Y2hlcjogTS5pbnRlcmZhY2UoXG4gICAgICAnUHJvdG9jb2xIYW5kbGVySW5zdGFudGlhdGVXYXRjaGVyJyxcbiAgICAgIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9LFxuICAgICksXG4gICAgcHJvdG9jb2xIYW5kbGVyQ29ubmVjdFdhdGNoZXI6IE0uaW50ZXJmYWNlKFxuICAgICAgJ1Byb3RvY29sSGFuZGxlckNvbm5lY3RXYXRjaGVyJyxcbiAgICAgIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpKS5yZXN0KE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9LFxuICAgICksXG4gICAgcmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyOiBNLmludGVyZmFjZSgnUmV0aHJvd1VubGVzc01pc3NpbmdXYXRjaGVyJywge1xuICAgICAgb25SZWplY3RlZDogTS5jYWxsKE0uYW55KCkpLnJlc3QoTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICB9KSxcbiAgfSxcblxuICBQcm90b2NvbEltcGxJOiBNLmludGVyZmFjZSgnUHJvdG9jb2xJbXBsJywge1xuICAgIGJpbmRQb3J0OiBNLmNhbGxXaGVuKFNoYXBlMi5FbmRwb2ludCkucmV0dXJucyhTaGFwZTIuVm93JChTaGFwZTIuUG9ydCkpLFxuICAgIGluYm91bmQ6IE0uY2FsbFdoZW4oU2hhcGUyLkVuZHBvaW50LCBTaGFwZTIuRW5kcG9pbnQpLnJldHVybnMoXG4gICAgICBTaGFwZTIuVm93JChTaGFwZTIuSW5ib3VuZEF0dGVtcHQpLFxuICAgICksXG4gICAgb3V0Ym91bmQ6IE0uY2FsbFdoZW4oXG4gICAgICBTaGFwZTIuUG9ydCxcbiAgICAgIFNoYXBlMi5FbmRwb2ludCxcbiAgICAgIFNoYXBlMi5Db25uZWN0aW9uSGFuZGxlcixcbiAgICApLnJldHVybnMoU2hhcGUyLlZvdyQoU2hhcGUyLkNvbm5lY3Rpb24pKSxcbiAgfSksXG59KTskaM2PX29uY2UuU2hhcGUoU2hhcGUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiU2hhcGUiOlsiU2hhcGUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAARcz/8VgBAABYAQAAIwAAAEBhZ29yaWMvbmV0d29yay12MC4xLjAvc3JjL3R5cGVzLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAANCWSi3vCAAA7wgAADMAAABAYWdvcmljL25vdGlmaWVyLXYwLjYuMi9zcmMvYXN5bmNJdGVyYWJsZUFkYXB0b3IuanN7ImltcG9ydHMiOlsiQGVuZG8vZmFyIiwiLi9zdWJzY3JpYmUuanMiXSwiZXhwb3J0cyI6WyJtYWtlQXN5bmNJdGVyYWJsZUZyb21Ob3RpZmllciIsIm9ic2VydmVJdGVyYXRpb24iLCJvYnNlcnZlSXRlcmF0b3IiLCJvYnNlcnZlTm90aWZpZXIiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBFLHN1YnNjcmliZUxhdGVzdDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCIuL3N1YnNjcmliZS5qc1wiLCBbW1wic3Vic2NyaWJlTGF0ZXN0XCIsWyRozY9fYSA9PiAoc3Vic2NyaWJlTGF0ZXN0ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlQXN5bmNJdGVyYWJsZUZyb21Ob3RpZmllciA9IHN1YnNjcmliZUxhdGVzdDtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlQXN5bmNJdGVyYWJsZUZyb21Ob3RpZmllcihtYWtlQXN5bmNJdGVyYWJsZUZyb21Ob3RpZmllcik7XG4gICAgICAgY29uc3Qgb2JzZXJ2ZUl0ZXJhdG9yID0gKGFzeW5jSXRlcmF0b3JQLCBpdGVyYXRpb25PYnNlcnZlcikgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKGFjaywgb2JzZXJ2ZXJFcnJvcikgPT4ge1xuICAgIGNvbnN0IHJlY3VyID0gKCkgPT4ge1xuICAgICAgRS53aGVuKFxuICAgICAgICBFKGFzeW5jSXRlcmF0b3JQKS5uZXh0KCksXG4gICAgICAgICh7IHZhbHVlLCBkb25lIH0pID0+IHtcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgaXRlcmF0aW9uT2JzZXJ2ZXIuZmluaXNoICYmIGl0ZXJhdGlvbk9ic2VydmVyLmZpbmlzaCh2YWx1ZSk7XG4gICAgICAgICAgICBhY2sodW5kZWZpbmVkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlcmF0aW9uT2JzZXJ2ZXIudXBkYXRlU3RhdGUgJiZcbiAgICAgICAgICAgICAgaXRlcmF0aW9uT2JzZXJ2ZXIudXBkYXRlU3RhdGUodmFsdWUpO1xuICAgICAgICAgICAgcmVjdXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlYXNvbiA9PiB7XG4gICAgICAgICAgaXRlcmF0aW9uT2JzZXJ2ZXIuZmFpbCAmJiBpdGVyYXRpb25PYnNlcnZlci5mYWlsKHJlYXNvbik7XG4gICAgICAgICAgYWNrKHVuZGVmaW5lZCk7XG4gICAgICAgIH0sXG4gICAgICApLmNhdGNoKG9ic2VydmVyRXJyb3IpO1xuICAgIH07XG4gICAgcmVjdXIoKTtcbiAgfSk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLm9ic2VydmVJdGVyYXRvcihvYnNlcnZlSXRlcmF0b3IpO1xuICAgICAgIGNvbnN0IG9ic2VydmVJdGVyYXRpb24gPSAoYXN5bmNJdGVyYWJsZVAsIGl0ZXJhdGlvbk9ic2VydmVyKSA9PiB7XG4gIGNvbnN0IGl0ZXJhdG9yUCA9IEUoYXN5bmNJdGVyYWJsZVApW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICByZXR1cm4gb2JzZXJ2ZUl0ZXJhdG9yKGl0ZXJhdG9yUCwgaXRlcmF0aW9uT2JzZXJ2ZXIpO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5vYnNlcnZlSXRlcmF0aW9uKG9ic2VydmVJdGVyYXRpb24pO1xuICAgICAgIGNvbnN0IG9ic2VydmVOb3RpZmllciA9IChub3RpZmllclAsIGl0ZXJhdGlvbk9ic2VydmVyKSA9PlxuICBvYnNlcnZlSXRlcmF0aW9uKHN1YnNjcmliZUxhdGVzdChub3RpZmllclApLCBpdGVyYXRpb25PYnNlcnZlcik7JGjNj19vbmNlLm9ic2VydmVOb3RpZmllcihvYnNlcnZlTm90aWZpZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZUFzeW5jSXRlcmFibGVGcm9tTm90aWZpZXIiOlsibWFrZUFzeW5jSXRlcmFibGVGcm9tTm90aWZpZXIiXSwib2JzZXJ2ZUl0ZXJhdG9yIjpbIm9ic2VydmVJdGVyYXRvciJdLCJvYnNlcnZlSXRlcmF0aW9uIjpbIm9ic2VydmVJdGVyYXRpb24iXSwib2JzZXJ2ZU5vdGlmaWVyIjpbIm9ic2VydmVOb3RpZmllciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADCPu246wcAAOsHAAAkAAAAQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL2luZGV4LmpzeyJpbXBvcnRzIjpbIi4vcHVibGlzaC1raXQuanMiLCIuL3N1YnNjcmliZS5qcyIsIi4vbm90aWZpZXIuanMiLCIuL3N1YnNjcmliZXIuanMiLCIuL3RvcGljLmpzIiwiLi9hc3luY0l0ZXJhYmxlQWRhcHRvci5qcyIsIi4vc3RvcmVzdWIuanMiLCIuL3N0b3JlZC1ub3RpZmllci5qcyIsIi4vdHlwZXMtaW5kZXguanMiXSwiZXhwb3J0cyI6WyJtYWtlTm90aWZpZXJLaXQiLCJtYWtlTm90aWZpZXJLaXQiLCJtYWtlU3Vic2NyaXB0aW9uS2l0IiwibWFrZVN1YnNjcmlwdGlvbktpdCIsIm9ic2VydmVJdGVyYXRvciIsIm9ic2VydmVJdGVyYXRvciIsInByZXBhcmVEdXJhYmxlUHVibGlzaEtpdCIsInByZXBhcmVEdXJhYmxlUHVibGlzaEtpdCIsInN1YnNjcmliZUxhdGVzdCIsInN1YnNjcmliZUxhdGVzdCIsbnVsbF0sInJlZXhwb3J0cyI6WyIuL3N0b3JlZC1ub3RpZmllci5qcyIsIi4vc3RvcmVzdWIuanMiLCIuL3R5cGVzLWluZGV4LmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vcHVibGlzaC1raXQuanNcIiwgW11dLFtcIi4vc3Vic2NyaWJlLmpzXCIsIFtdXSxbXCIuL25vdGlmaWVyLmpzXCIsIFtdXSxbXCIuL3N1YnNjcmliZXIuanNcIiwgW11dLFtcIi4vdG9waWMuanNcIiwgW11dLFtcIi4vYXN5bmNJdGVyYWJsZUFkYXB0b3IuanNcIiwgW11dLFtcIi4vc3RvcmVzdWIuanNcIiwgW11dLFtcIi4vc3RvcmVkLW5vdGlmaWVyLmpzXCIsIFtdXSxbXCIuL3R5cGVzLWluZGV4LmpzXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnsiLi9wdWJsaXNoLWtpdC5qcyI6W1sibWFrZVB1Ymxpc2hLaXQiLCJtYWtlUHVibGlzaEtpdCJdLFsicHJlcGFyZUR1cmFibGVQdWJsaXNoS2l0IiwicHJlcGFyZUR1cmFibGVQdWJsaXNoS2l0Il0sWyJGb3JrYWJsZUFzeW5jSXRlcmFibGVJdGVyYXRvclNoYXBlIiwiRm9ya2FibGVBc3luY0l0ZXJhYmxlSXRlcmF0b3JTaGFwZSJdLFsiSXRlcmFibGVFYWNoVG9waWNJIiwiSXRlcmFibGVFYWNoVG9waWNJIl0sWyJJdGVyYWJsZUxhdGVzdFRvcGljSSIsIkl0ZXJhYmxlTGF0ZXN0VG9waWNJIl0sWyJTdWJzY3JpYmVyU2hhcGUiLCJTdWJzY3JpYmVyU2hhcGUiXV0sIi4vc3Vic2NyaWJlLmpzIjpbWyJzdWJzY3JpYmVFYWNoIiwic3Vic2NyaWJlRWFjaCJdLFsic3Vic2NyaWJlTGF0ZXN0Iiwic3Vic2NyaWJlTGF0ZXN0Il1dLCIuL25vdGlmaWVyLmpzIjpbWyJtYWtlTm90aWZpZXIiLCJtYWtlTm90aWZpZXIiXSxbIm1ha2VOb3RpZmllcktpdCIsIm1ha2VOb3RpZmllcktpdCJdLFsibWFrZU5vdGlmaWVyRnJvbUFzeW5jSXRlcmFibGUiLCJtYWtlTm90aWZpZXJGcm9tQXN5bmNJdGVyYWJsZSJdLFsibWFrZU5vdGlmaWVyRnJvbVN1YnNjcmliZXIiLCJtYWtlTm90aWZpZXJGcm9tU3Vic2NyaWJlciJdXSwiLi9zdWJzY3JpYmVyLmpzIjpbWyJtYWtlU3Vic2NyaXB0aW9uIiwibWFrZVN1YnNjcmlwdGlvbiJdLFsibWFrZVN1YnNjcmlwdGlvbktpdCIsIm1ha2VTdWJzY3JpcHRpb25LaXQiXV0sIi4vdG9waWMuanMiOltbIm1ha2VQaW5uZWRIaXN0b3J5VG9waWMiLCJtYWtlUGlubmVkSGlzdG9yeVRvcGljIl1dLCIuL2FzeW5jSXRlcmFibGVBZGFwdG9yLmpzIjpbWyJvYnNlcnZlTm90aWZpZXIiLCJvYnNlcnZlTm90aWZpZXIiXSxbIm9ic2VydmVJdGVyYXRvciIsIm9ic2VydmVJdGVyYXRvciJdLFsib2JzZXJ2ZUl0ZXJhdGlvbiIsIm9ic2VydmVJdGVyYXRpb24iXSxbIm1ha2VBc3luY0l0ZXJhYmxlRnJvbU5vdGlmaWVyIiwibWFrZUFzeW5jSXRlcmFibGVGcm9tTm90aWZpZXIiXV19LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAACG+ywQmEwAAJhMAACcAAABAYWdvcmljL25vdGlmaWVyLXYwLjYuMi9zcmMvbm90aWZpZXIuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZmFyIiwiLi9wdWJsaXNoLWtpdC5qcyIsIi4vc3Vic2NyaWJlLmpzIl0sImV4cG9ydHMiOlsibWFrZU5vdGlmaWVyIiwibWFrZU5vdGlmaWVyRnJvbUFzeW5jSXRlcmFibGUiLCJtYWtlTm90aWZpZXJGcm9tU3Vic2NyaWJlciIsIm1ha2VOb3RpZmllcktpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGFzc2VydCxFLEZhcixtYWtlUHVibGlzaEtpdCxzdWJzY3JpYmVMYXRlc3Q7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcImFzc2VydFwiLFskaM2PX2EgPT4gKGFzc2VydCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV0sW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dXV0sW1wiLi9wdWJsaXNoLWtpdC5qc1wiLCBbW1wibWFrZVB1Ymxpc2hLaXRcIixbJGjNj19hID0+IChtYWtlUHVibGlzaEtpdCA9ICRozY9fYSldXV1dLFtcIi4vc3Vic2NyaWJlLmpzXCIsIFtbXCJzdWJzY3JpYmVMYXRlc3RcIixbJGjNj19hID0+IChzdWJzY3JpYmVMYXRlc3QgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZU5vdGlmaWVyID0gc2hhcmFibGVJbnRlcm5hbHNQID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgbm90aWZpZXIgPSBGYXIoJ25vdGlmaWVyJywge1xuICAgIC4uLnN1YnNjcmliZUxhdGVzdChzaGFyYWJsZUludGVybmFsc1ApLFxuICAgIGdldFVwZGF0ZVNpbmNlOiBhc3luYyB1cGRhdGVDb3VudCA9PlxuICAgICAgRShzaGFyYWJsZUludGVybmFsc1ApLmdldFVwZGF0ZVNpbmNlKHVwZGF0ZUNvdW50KSxcblxuICAgIC8qXG5cblxuXG5cbiAgICAgKi9cbiAgICBnZXRTaGFyYWJsZU5vdGlmaWVySW50ZXJuYWxzOiBhc3luYyAoKSA9PiBzaGFyYWJsZUludGVybmFsc1AsXG4gICAgLypcblxuXG5cbiAgICAgKi9cbiAgICBnZXRTdG9yZUtleTogKCkgPT4gaGFyZGVuKHsgbm90aWZpZXIgfSksXG4gIH0pO1xuICByZXR1cm4gbm90aWZpZXI7XG59O1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLm1ha2VOb3RpZmllcihtYWtlTm90aWZpZXIpO1xuICAgICAgIGNvbnN0IG1ha2VOb3RpZmllckZyb21TdWJzY3JpYmVyID0gc3Vic2NyaWJlciA9PiB7XG4gIC8qXG5cbiAgICovXG4gIGNvbnN0IGJhc2VOb3RpZmllciA9IGhhcmRlbih7XG4gICAgZ2V0VXBkYXRlU2luY2U6ICh1cGRhdGVDb3VudCA9IHVuZGVmaW5lZCkgPT5cbiAgICAgIEUoc3Vic2NyaWJlcikuZ2V0VXBkYXRlU2luY2UodXBkYXRlQ291bnQpLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBub3RpZmllciA9IEZhcignbm90aWZpZXInLCB7XG4gICAgLi4ubWFrZU5vdGlmaWVyKGJhc2VOb3RpZmllciksXG4gICAgLi4uYmFzZU5vdGlmaWVyLFxuICB9KTtcbiAgcmV0dXJuIG5vdGlmaWVyO1xufTskaM2PX29uY2UubWFrZU5vdGlmaWVyRnJvbVN1YnNjcmliZXIobWFrZU5vdGlmaWVyRnJvbVN1YnNjcmliZXIpO1xuaGFyZGVuKG1ha2VOb3RpZmllckZyb21TdWJzY3JpYmVyKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VOb3RpZmllcktpdCA9ICguLi5pbml0aWFsU3RhdGVBcnIpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB7IHB1Ymxpc2hlciwgc3Vic2NyaWJlciB9ID0gbWFrZVB1Ymxpc2hLaXQoKTtcblxuICBjb25zdCBub3RpZmllciA9IG1ha2VOb3RpZmllckZyb21TdWJzY3JpYmVyKHN1YnNjcmliZXIpO1xuXG4gIGNvbnN0IHVwZGF0ZXIgPSBGYXIoJ3VwZGF0ZXInLCB7XG4gICAgdXBkYXRlU3RhdGU6IHN0YXRlID0+IHB1Ymxpc2hlci5wdWJsaXNoKHN0YXRlKSxcbiAgICBmaW5pc2g6IGNvbXBsZXRpb24gPT4gcHVibGlzaGVyLmZpbmlzaChjb21wbGV0aW9uKSxcbiAgICBmYWlsOiByZWFzb24gPT4gcHVibGlzaGVyLmZhaWwocmVhc29uKSxcbiAgfSk7XG5cbiAgYXNzZXJ0KGluaXRpYWxTdGF0ZUFyci5sZW5ndGggPD0gMSwgJ3RvbyBtYW55IGFyZ3VtZW50cycpO1xuICBpZiAoaW5pdGlhbFN0YXRlQXJyLmxlbmd0aCA9PT0gMSkge1xuICAgIHVwZGF0ZXIudXBkYXRlU3RhdGUoaW5pdGlhbFN0YXRlQXJyWzBdKTtcbiAgfVxuXG4gIC8vXG4gIC8vXG4gIHJldHVybiBoYXJkZW4oeyBub3RpZmllciwgdXBkYXRlciB9KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlTm90aWZpZXJLaXQobWFrZU5vdGlmaWVyS2l0KTtcbiAgICAgICBjb25zdCBtYWtlTm90aWZpZXJGcm9tQXN5bmNJdGVyYWJsZSA9IGFzeW5jSXRlcmFibGVQID0+IHtcbiAgY29uc3QgaXRlcmF0b3JQID0gRShhc3luY0l0ZXJhYmxlUClbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBsZXQgb3B0TmV4dFByb21pc2U7XG4gIGxldCBjdXJyZW50VXBkYXRlQ291bnQgPSAwbjtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBsZXQgY3VycmVudFJlc3BvbnNlO1xuICBsZXQgZmluYWwgPSBmYWxzZTtcblxuICAvKlxuXG4gICAqL1xuICBjb25zdCBiYXNlTm90aWZpZXIgPSBGYXIoJ2Jhc2VOb3RpZmllcicsIHtcbiAgICBnZXRVcGRhdGVTaW5jZSh1cGRhdGVDb3VudCA9IC0xbikge1xuICAgICAgaWYgKHVwZGF0ZUNvdW50IDwgY3VycmVudFVwZGF0ZUNvdW50KSB7XG4gICAgICAgIGlmIChjdXJyZW50UmVzcG9uc2UpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGN1cnJlbnRSZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodXBkYXRlQ291bnQgIT09IGN1cnJlbnRVcGRhdGVDb3VudCkge1xuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAnZ2V0VXBkYXRlU2luY2UgYXJndW1lbnQgbXVzdCBiZSBhIHByZXZpb3VzbHktaXNzdWVkIHVwZGF0ZUNvdW50LicsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vXG4gICAgICBpZiAoZmluYWwpIHtcbiAgICAgICAgYXNzZXJ0KGN1cnJlbnRSZXNwb25zZSAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjdXJyZW50UmVzcG9uc2UpO1xuICAgICAgfVxuICAgICAgaWYgKCFvcHROZXh0UHJvbWlzZSkge1xuICAgICAgICBjb25zdCBuZXh0SXRlclJlc3VsdFAgPSBFKGl0ZXJhdG9yUCkubmV4dCgpO1xuICAgICAgICBvcHROZXh0UHJvbWlzZSA9IEUud2hlbihcbiAgICAgICAgICBuZXh0SXRlclJlc3VsdFAsXG4gICAgICAgICAgKHsgZG9uZSwgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgYXNzZXJ0KCFmaW5hbCk7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICBmaW5hbCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50VXBkYXRlQ291bnQgKz0gMW47XG4gICAgICAgICAgICBjdXJyZW50UmVzcG9uc2UgPSBoYXJkZW4oe1xuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgdXBkYXRlQ291bnQ6IGRvbmUgPyB1bmRlZmluZWQgOiBjdXJyZW50VXBkYXRlQ291bnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9wdE5leHRQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRSZXNwb25zZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9yZWFzb24gPT4ge1xuICAgICAgICAgICAgZmluYWwgPSB0cnVlO1xuICAgICAgICAgICAgY3VycmVudFJlc3BvbnNlID1cbiAgICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIChuZXh0SXRlclJlc3VsdFApO1xuICAgICAgICAgICAgb3B0TmV4dFByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFJlc3BvbnNlO1xuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3B0TmV4dFByb21pc2U7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgbm90aWZpZXIgPSBGYXIoJ25vdGlmaWVyJywge1xuICAgIC8vXG4gICAgLy9cbiAgICAuLi5tYWtlTm90aWZpZXIoYmFzZU5vdGlmaWVyKSxcbiAgICAuLi5iYXNlTm90aWZpZXIsXG4gIH0pO1xuICByZXR1cm4gbm90aWZpZXI7XG59OyRozY9fb25jZS5tYWtlTm90aWZpZXJGcm9tQXN5bmNJdGVyYWJsZShtYWtlTm90aWZpZXJGcm9tQXN5bmNJdGVyYWJsZSk7XG5oYXJkZW4obWFrZU5vdGlmaWVyRnJvbUFzeW5jSXRlcmFibGUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZU5vdGlmaWVyIjpbIm1ha2VOb3RpZmllciJdLCJtYWtlTm90aWZpZXJGcm9tU3Vic2NyaWJlciI6WyJtYWtlTm90aWZpZXJGcm9tU3Vic2NyaWJlciJdLCJtYWtlTm90aWZpZXJLaXQiOlsibWFrZU5vdGlmaWVyS2l0Il0sIm1ha2VOb3RpZmllckZyb21Bc3luY0l0ZXJhYmxlIjpbIm1ha2VOb3RpZmllckZyb21Bc3luY0l0ZXJhYmxlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAAes8nreMgAA3jIAACoAAABAYWdvcmljL25vdGlmaWVyLXYwLjYuMi9zcmMvcHVibGlzaC1raXQuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZmFyIiwiQGVuZG8vcHJvbWlzZS1raXQiLCJAZW5kby9wYXR0ZXJucyIsIkBhZ29yaWMvdmF0LWRhdGEiXSwiZXhwb3J0cyI6WyJGb3JrYWJsZUFzeW5jSXRlcmFibGVJdGVyYXRvclNoYXBlIiwiSXRlcmFibGVFYWNoVG9waWNJIiwiSXRlcmFibGVMYXRlc3RUb3BpY0kiLCJQdWJsaXNoZXJJIiwiU3Vic2NyaWJlckkiLCJTdWJzY3JpYmVyU2hhcGUiLCJVcGRhdGVDb3VudFNoYXBlIiwibWFrZVB1Ymxpc2hLaXQiLCJwcmVwYXJlRHVyYWJsZVB1Ymxpc2hLaXQiLCJwdWJsaXNoS2l0SUtpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwscSxFLEZhcixtYWtlUHJvbWlzZUtpdCxNLGdldEludGVyZmFjZUd1YXJkUGF5bG9hZCxjYW5CZUR1cmFibGUscHJlcGFyZUV4b0NsYXNzS2l0OyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV0sW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcHJvbWlzZS1raXRcIiwgW1tcIm1ha2VQcm9taXNlS2l0XCIsWyRozY9fYSA9PiAobWFrZVByb21pc2VLaXQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV0sW1wiZ2V0SW50ZXJmYWNlR3VhcmRQYXlsb2FkXCIsWyRozY9fYSA9PiAoZ2V0SW50ZXJmYWNlR3VhcmRQYXlsb2FkID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wiY2FuQmVEdXJhYmxlXCIsWyRozY9fYSA9PiAoY2FuQmVEdXJhYmxlID0gJGjNj19hKV1dLFtcInByZXBhcmVFeG9DbGFzc0tpdFwiLFskaM2PX2EgPT4gKHByZXBhcmVFeG9DbGFzc0tpdCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cbi8qXG5cblxuICovXG5cbmNvbnN0IHNpbmsgPSAoKSA9PiB7fTtcbmNvbnN0IG1ha2VRdWlldFJlamVjdGlvbiA9IHJlYXNvbiA9PiB7XG4gIGNvbnN0IHJlamVjdGlvbiA9IGhhcmRlbihQcm9taXNlLnJlamVjdChyZWFzb24pKTtcbiAgdm9pZCBFLndoZW4ocmVqZWN0aW9uLCBzaW5rLCBzaW5rKTtcbiAgcmV0dXJuIHJlamVjdGlvbjtcbn07XG5jb25zdCB0b29GYXJSZWplY3Rpb24gPSBtYWtlUXVpZXRSZWplY3Rpb24oXG4gIGhhcmRlbihFcnJvcignQ2Fubm90IHJlYWQgcGFzdCBlbmQgb2YgaXRlcmF0aW9uLicpKSxcbik7XG5cbiAgICAgICBjb25zdCBQdWJsaXNoZXJJID0gTS5pbnRlcmZhY2UoJ1B1Ymxpc2hlcicsIHtcbiAgcHVibGlzaDogTS5jYWxsKE0uYW55KCkpLnJldHVybnMoKSxcbiAgZmluaXNoOiBNLmNhbGwoTS5hbnkoKSkucmV0dXJucygpLFxuICBmYWlsOiBNLmNhbGwoTS5hbnkoKSkucmV0dXJucygpLFxufSk7XG5cbi8vXG4kaM2PX29uY2UuUHVibGlzaGVySShQdWJsaXNoZXJJKTtjb25zdCBVcGRhdGVDb3VudFNoYXBlPU0ub3IoTS5iaWdpbnQoKSxNLm51bWJlcigpKTskaM2PX29uY2UuVXBkYXRlQ291bnRTaGFwZShVcGRhdGVDb3VudFNoYXBlKTtcbiAgICAgICBjb25zdCBTdWJzY3JpYmVySSA9IE0uaW50ZXJmYWNlKCdTdWJzY3JpYmVyJywge1xuICBzdWJzY3JpYmVBZnRlcjogTS5jYWxsKCkub3B0aW9uYWwoTS5iaWdpbnQoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIGdldFVwZGF0ZVNpbmNlOiBNLmNhbGwoKS5vcHRpb25hbChVcGRhdGVDb3VudFNoYXBlKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbn0pOyRozY9fb25jZS5TdWJzY3JpYmVySShTdWJzY3JpYmVySSk7XG4gICAgICAgY29uc3QgcHVibGlzaEtpdElLaXQgPSBoYXJkZW4oe1xuICBwdWJsaXNoZXI6IFB1Ymxpc2hlckksXG4gIHN1YnNjcmliZXI6IFN1YnNjcmliZXJJLFxufSk7JGjNj19vbmNlLnB1Ymxpc2hLaXRJS2l0KHB1Ymxpc2hLaXRJS2l0KTtcblxuICAgICAgIGNvbnN0IEZvcmthYmxlQXN5bmNJdGVyYWJsZUl0ZXJhdG9yU2hhcGUgPSBNLmludGVyZmFjZShcbiAgJ0ZvcmthYmxlQXN5bmNJdGVyYWJsZUl0ZXJhdG9yJyxcbiAge1xuICAgIGZvcms6IE0uY2FsbCgpLnJldHVybnMoTS5hbnkoKSksXG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogTS5jYWxsKCkucmV0dXJucyhNLmFueSgpKSwgLy9cbiAgICBuZXh0OiBNLmNhbGxXaGVuKCkucmV0dXJucyhNLmFueSgpKSxcbiAgfSxcbik7JGjNj19vbmNlLkZvcmthYmxlQXN5bmNJdGVyYWJsZUl0ZXJhdG9yU2hhcGUoRm9ya2FibGVBc3luY0l0ZXJhYmxlSXRlcmF0b3JTaGFwZSk7XG5cbiAgICAgICBjb25zdCBJdGVyYWJsZUVhY2hUb3BpY0kgPSBNLmludGVyZmFjZSgnSXRlcmFibGVFYWNoVG9waWMnLCB7XG4gIHN1YnNjcmliZUFmdGVyOlxuICAgIGdldEludGVyZmFjZUd1YXJkUGF5bG9hZChTdWJzY3JpYmVySSkubWV0aG9kR3VhcmRzLnN1YnNjcmliZUFmdGVyLFxuICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdOiBNLmNhbGwoKS5yZXR1cm5zKFxuICAgIE0ucmVtb3RhYmxlKCdGb3JrYWJsZUFzeW5jSXRlcmFibGVJdGVyYXRvcicpLFxuICApLFxufSk7JGjNj19vbmNlLkl0ZXJhYmxlRWFjaFRvcGljSShJdGVyYWJsZUVhY2hUb3BpY0kpO1xuXG4gICAgICAgY29uc3QgSXRlcmFibGVMYXRlc3RUb3BpY0kgPSBNLmludGVyZmFjZSgnSXRlcmFibGVMYXRlc3RUb3BpYycsIHtcbiAgZ2V0VXBkYXRlU2luY2U6XG4gICAgZ2V0SW50ZXJmYWNlR3VhcmRQYXlsb2FkKFN1YnNjcmliZXJJKS5tZXRob2RHdWFyZHMuZ2V0VXBkYXRlU2luY2UsXG4gIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl06IE0uY2FsbCgpLnJldHVybnMoXG4gICAgTS5yZW1vdGFibGUoJ0ZvcmthYmxlQXN5bmNJdGVyYWJsZUl0ZXJhdG9yJyksXG4gICksXG59KTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLkl0ZXJhYmxlTGF0ZXN0VG9waWNJKEl0ZXJhYmxlTGF0ZXN0VG9waWNJKTtcbmNvbnN0IHdlYWtNZW1vaXplVW5hcnkgPSBmbiA9PiB7XG4gIGNvbnN0IGNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbiAgcmV0dXJuIGFyZyA9PiB7XG4gICAgLyogICAgICAgICAgICAgICAgICovXG4gICAgY29uc3Qgb2FyZyA9IGFyZztcbiAgICBpZiAoY2FjaGUuaGFzKG9hcmcpKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KG9hcmcpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBmbihhcmcpO1xuICAgIGNhY2hlLnNldChvYXJnLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59O1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBtYWtlVXBkYXRlUmVjb3JkRnJvbVB1YmxpY2F0aW9uUmVjb3JkID0gcmVjb3JkID0+IHtcbiAgY29uc3Qge1xuICAgIGhlYWQ6IHsgdmFsdWUsIGRvbmUgfSxcbiAgICBwdWJsaXNoQ291bnQsXG4gIH0gPSByZWNvcmQ7XG4gIGlmIChkb25lKSB7XG4gICAgLy9cbiAgICByZXR1cm4gaGFyZGVuKHsgdmFsdWUsIHVwZGF0ZUNvdW50OiB1bmRlZmluZWQgfSk7XG4gIH1cbiAgcmV0dXJuIGhhcmRlbih7IHZhbHVlLCB1cGRhdGVDb3VudDogcHVibGlzaENvdW50IH0pO1xufTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VQdWJsaXNoS2l0ID0gKCkgPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBsZXQgdGFpbFA7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBsZXQgdGFpbFI7XG4gICh7IHByb21pc2U6IHRhaWxQLCByZXNvbHZlOiB0YWlsUiB9ID0gbWFrZVByb21pc2VLaXQoKSk7XG5cbiAgbGV0IGN1cnJlbnRQdWJsaXNoQ291bnQgPSAwbjtcbiAgbGV0IGN1cnJlbnRQID0gdGFpbFA7XG4gIGNvbnN0IGFkdmFuY2VDdXJyZW50ID0gKGRvbmUsIHZhbHVlLCByZWplY3Rpb24pID0+IHtcbiAgICBpZiAodGFpbFIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCB1cGRhdGUgc3RhdGUgYWZ0ZXIgdGVybWluYXRpb24uJyk7XG4gICAgfVxuXG4gICAgY3VycmVudFB1Ymxpc2hDb3VudCArPSAxbjtcbiAgICBjdXJyZW50UCA9IHRhaWxQO1xuICAgIGNvbnN0IHJlc29sdmVDdXJyZW50ID0gdGFpbFI7XG5cbiAgICBpZiAoZG9uZSkge1xuICAgICAgdGFpbFAgPSB0b29GYXJSZWplY3Rpb247XG4gICAgICB0YWlsUiA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgKHsgcHJvbWlzZTogdGFpbFAsIHJlc29sdmU6IHRhaWxSIH0gPSBtYWtlUHJvbWlzZUtpdCgpKTtcbiAgICB9XG5cbiAgICBpZiAocmVqZWN0aW9uKSB7XG4gICAgICByZXNvbHZlQ3VycmVudChyZWplY3Rpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlQ3VycmVudChcbiAgICAgICAgaGFyZGVuKHtcbiAgICAgICAgICBoZWFkOiB7IHZhbHVlLCBkb25lIH0sXG4gICAgICAgICAgcHVibGlzaENvdW50OiBjdXJyZW50UHVibGlzaENvdW50LFxuICAgICAgICAgIHRhaWw6IHRhaWxQLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG1ha2VNZW1vaXplZFVwZGF0ZVJlY29yZCA9IHdlYWtNZW1vaXplVW5hcnkoXG4gICAgbWFrZVVwZGF0ZVJlY29yZEZyb21QdWJsaWNhdGlvblJlY29yZCxcbiAgKTtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IHN1YnNjcmliZXIgPSBGYXIoJ1N1YnNjcmliZXInLCB7XG4gICAgc3Vic2NyaWJlQWZ0ZXI6IChwdWJsaXNoQ291bnQgPSAtMW4pID0+IHtcbiAgICAgIGFzc2VydC50eXBlb2YocHVibGlzaENvdW50LCAnYmlnaW50Jyk7XG4gICAgICBpZiAocHVibGlzaENvdW50ID09PSBjdXJyZW50UHVibGlzaENvdW50KSB7XG4gICAgICAgIHJldHVybiB0YWlsUDtcbiAgICAgIH0gZWxzZSBpZiAocHVibGlzaENvdW50IDwgY3VycmVudFB1Ymxpc2hDb3VudCkge1xuICAgICAgICByZXR1cm4gY3VycmVudFA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAnc3Vic2NyaWJlQWZ0ZXIgYXJndW1lbnQgbXVzdCBiZSBhIHByZXZpb3VzbHktaXNzdWVkIHB1Ymxpc2hDb3VudC4nLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0VXBkYXRlU2luY2U6IHVwZGF0ZUNvdW50ID0+IHtcbiAgICAgIGlmICh1cGRhdGVDb3VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyLnN1YnNjcmliZUFmdGVyKCkudGhlbihtYWtlTWVtb2l6ZWRVcGRhdGVSZWNvcmQpO1xuICAgICAgfVxuICAgICAgdXBkYXRlQ291bnQgPSBCaWdJbnQodXBkYXRlQ291bnQpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgc3Vic2NyaWJlclxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC5zdWJzY3JpYmVBZnRlcih1cGRhdGVDb3VudClcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLnRoZW4oKCkgPT4gc3Vic2NyaWJlci5nZXRVcGRhdGVTaW5jZSgpKVxuICAgICAgKTtcbiAgICB9LFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgcHVibGlzaGVyID0gRmFyKCdQdWJsaXNoZXInLCB7XG4gICAgcHVibGlzaDogdmFsdWUgPT4ge1xuICAgICAgYWR2YW5jZUN1cnJlbnQoZmFsc2UsIHZhbHVlKTtcbiAgICB9LFxuICAgIGZpbmlzaDogZmluYWxWYWx1ZSA9PiB7XG4gICAgICBhZHZhbmNlQ3VycmVudCh0cnVlLCBmaW5hbFZhbHVlKTtcbiAgICB9LFxuICAgIGZhaWw6IHJlYXNvbiA9PiB7XG4gICAgICBhZHZhbmNlQ3VycmVudCh0cnVlLCB1bmRlZmluZWQsIG1ha2VRdWlldFJlamVjdGlvbihyZWFzb24pKTtcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIGhhcmRlbih7IHB1Ymxpc2hlciwgc3Vic2NyaWJlciB9KTtcbn07JGjNj19vbmNlLm1ha2VQdWJsaXNoS2l0KG1ha2VQdWJsaXNoS2l0KTtcbmhhcmRlbihtYWtlUHVibGlzaEtpdCk7XG5cbmNvbnN0IER1cmFibGVQdWJsaXNoS2l0U3RhdGVTaGFwZSA9IGhhcmRlbih7XG4gIHZhbHVlRHVyYWJpbGl0eTogTS5hbnkoKSxcbiAgcHVibGlzaENvdW50OiBNLmFueSgpLFxuICBzdGF0dXM6IE0uYW55KCksXG4gIGhhc1ZhbHVlOiBNLmFueSgpLFxuICB2YWx1ZTogTS5hbnkoKSxcbn0pO1xuXG4vL1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBpbml0RHVyYWJsZVB1Ymxpc2hLaXRTdGF0ZSA9IChvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgeyB2YWx1ZUR1cmFiaWxpdHkgPSAnbWFuZGF0b3J5JyB9ID0gb3B0aW9ucztcbiAgYXNzZXJ0LmVxdWFsKHZhbHVlRHVyYWJpbGl0eSwgJ21hbmRhdG9yeScpO1xuICByZXR1cm4ge1xuICAgIC8vXG4gICAgdmFsdWVEdXJhYmlsaXR5LFxuXG4gICAgLy9cbiAgICBwdWJsaXNoQ291bnQ6IDBuLFxuICAgIHN0YXR1czogJ2xpdmUnLCAvL1xuXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgaGFzVmFsdWU6IGZhbHNlLFxuICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gIH07XG59O1xuXG4vL1xuLy9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLypcblxuXG4gKi9cbmNvbnN0IGdldEVwaGVtZXJhbEtleSA9IGZhY2V0cyA9PiBmYWNldHMucHVibGlzaGVyO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGR1cmFibGVQdWJsaXNoS2l0RXBoZW1lcmFsRGF0YSA9IG5ldyBXZWFrTWFwKCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBwcm92aWRlQ3VycmVudFAgPSAoc3RhdGUsIGZhY2V0cywgdGFpbCkgPT4ge1xuICBjb25zdCBlcGhlbWVyYWxLZXkgPSBnZXRFcGhlbWVyYWxLZXkoZmFjZXRzKTtcbiAgY29uc3QgZm91bmREYXRhID0gZHVyYWJsZVB1Ymxpc2hLaXRFcGhlbWVyYWxEYXRhLmdldChlcGhlbWVyYWxLZXkpO1xuICBjb25zdCBjdXJyZW50UCA9IGZvdW5kRGF0YSAmJiBmb3VuZERhdGEuY3VycmVudFA7XG4gIGlmIChjdXJyZW50UCkge1xuICAgIHJldHVybiBjdXJyZW50UDtcbiAgfVxuXG4gIGNvbnN0IHsgcHVibGlzaENvdW50LCBzdGF0dXMsIGhhc1ZhbHVlLCB2YWx1ZSB9ID0gc3RhdGU7XG4gIGlmICghaGFzVmFsdWUpIHtcbiAgICBhc3NlcnQoc3RhdHVzID09PSAnbGl2ZScpO1xuICAgIHJldHVybiB0YWlsO1xuICB9XG4gIGlmIChzdGF0dXMgPT09ICdsaXZlJyB8fCBzdGF0dXMgPT09ICdmaW5pc2hlZCcpIHtcbiAgICBjb25zdCBjZWxsID0gaGFyZGVuKHtcbiAgICAgIGhlYWQ6IHsgdmFsdWUsIGRvbmU6IHN0YXR1cyAhPT0gJ2xpdmUnIH0sXG4gICAgICBwdWJsaXNoQ291bnQsXG4gICAgICB0YWlsLFxuICAgIH0pO1xuICAgIHJldHVybiBFLnJlc29sdmUoY2VsbCk7XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgIHJldHVybiBtYWtlUXVpZXRSZWplY3Rpb24odmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IEZhaWxgSW52YWxpZCBkdXJhYmxlIHByb21pc2Uga2l0IHN0YXR1czogJHtxKHN0YXR1cyl9YDtcbiAgfVxufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IHByb3ZpZGVEdXJhYmxlUHVibGlzaEtpdEVwaGVtZXJhbERhdGEgPSAoc3RhdGUsIGZhY2V0cykgPT4ge1xuICBjb25zdCBlcGhlbWVyYWxLZXkgPSBnZXRFcGhlbWVyYWxLZXkoZmFjZXRzKTtcbiAgY29uc3QgZm91bmREYXRhID0gZHVyYWJsZVB1Ymxpc2hLaXRFcGhlbWVyYWxEYXRhLmdldChlcGhlbWVyYWxLZXkpO1xuICBpZiAoZm91bmREYXRhKSB7XG4gICAgcmV0dXJuIGZvdW5kRGF0YTtcbiAgfVxuXG4gIGNvbnN0IHsgc3RhdHVzIH0gPSBzdGF0ZTtcbiAgbGV0IHRhaWxQO1xuICBsZXQgdGFpbFI7XG4gIGlmIChzdGF0dXMgPT09ICdsaXZlJykge1xuICAgICh7IHByb21pc2U6IHRhaWxQLCByZXNvbHZlOiB0YWlsUiB9ID0gbWFrZVByb21pc2VLaXQoKSk7XG4gICAgdm9pZCBFLndoZW4odGFpbFAsIHNpbmssIHNpbmspO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2ZpbmlzaGVkJyB8fCBzdGF0dXMgPT09ICdmYWlsZWQnKSB7XG4gICAgdGFpbFAgPSB0b29GYXJSZWplY3Rpb247XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRmFpbGBJbnZhbGlkIGR1cmFibGUgcHJvbWlzZSBraXQgc3RhdHVzOiAke3Eoc3RhdHVzKX1gO1xuICB9XG4gIC8vXG4gIGNvbnN0IG9iaiA9IGhhcmRlbih7IGN1cnJlbnRQOiB1bmRlZmluZWQsIHRhaWxQLCB0YWlsUiB9KTtcbiAgZHVyYWJsZVB1Ymxpc2hLaXRFcGhlbWVyYWxEYXRhLnNldChlcGhlbWVyYWxLZXksIG9iaik7XG4gIHJldHVybiBvYmo7XG59O1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuY29uc3QgYWR2YW5jZUR1cmFibGVQdWJsaXNoS2l0ID0gKGNvbnRleHQsIHZhbHVlLCB0YXJnZXRTdGF0dXMgPSAnbGl2ZScpID0+IHtcbiAgY29uc3QgeyBzdGF0ZSwgZmFjZXRzIH0gPSBjb250ZXh0O1xuICBjb25zdCB7IHZhbHVlRHVyYWJpbGl0eSwgc3RhdHVzIH0gPSBzdGF0ZTtcbiAgaWYgKHN0YXR1cyAhPT0gJ2xpdmUnKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0Nhbm5vdCB1cGRhdGUgc3RhdGUgYWZ0ZXIgdGVybWluYXRpb24uJyk7XG4gIH1cbiAgY29uc3QgZG9uZSA9IHRhcmdldFN0YXR1cyAhPT0gJ2xpdmUnO1xuICBpZiAoZG9uZSB8fCB2YWx1ZUR1cmFiaWxpdHkgPT09ICdtYW5kYXRvcnknKSB7XG4gICAgY2FuQmVEdXJhYmxlKHZhbHVlKSB8fCBGYWlsYENhbm5vdCBhY2NlcHQgbm9uLWR1cmFibGUgdmFsdWU6ICR7dmFsdWV9YDtcbiAgfVxuICBjb25zdCB7IHRhaWxQOiBvbGRUYWlsUCwgdGFpbFI6IHJlc29sdmVPbGRUYWlsIH0gPVxuICAgIHByb3ZpZGVEdXJhYmxlUHVibGlzaEtpdEVwaGVtZXJhbERhdGEoc3RhdGUsIGZhY2V0cyk7XG4gIGFzc2VydC50eXBlb2YocmVzb2x2ZU9sZFRhaWwsICdmdW5jdGlvbicpO1xuXG4gIGNvbnN0IHB1Ymxpc2hDb3VudCA9IHN0YXRlLnB1Ymxpc2hDb3VudCArIDFuO1xuICBzdGF0ZS5wdWJsaXNoQ291bnQgPSBwdWJsaXNoQ291bnQ7XG5cbiAgbGV0IHRhaWxQO1xuICBsZXQgdGFpbFI7XG4gIGlmIChkb25lKSB7XG4gICAgc3RhdGUuc3RhdHVzID0gdGFyZ2V0U3RhdHVzO1xuICAgIHRhaWxQID0gdG9vRmFyUmVqZWN0aW9uO1xuICAgIHRhaWxSID0gdW5kZWZpbmVkO1xuICB9IGVsc2Uge1xuICAgICh7IHByb21pc2U6IHRhaWxQLCByZXNvbHZlOiB0YWlsUiB9ID0gbWFrZVByb21pc2VLaXQoKSk7XG4gICAgdm9pZCBFLndoZW4odGFpbFAsIHNpbmssIHNpbmspO1xuICB9XG5cbiAgbGV0IGN1cnJlbnRQO1xuICBpZiAodGFyZ2V0U3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgIHN0YXRlLmhhc1ZhbHVlID0gdHJ1ZTtcbiAgICBzdGF0ZS52YWx1ZSA9IHZhbHVlO1xuICAgIGNvbnN0IHJlamVjdGlvbiA9IG1ha2VRdWlldFJlamVjdGlvbih2YWx1ZSk7XG4gICAgcmVzb2x2ZU9sZFRhaWwocmVqZWN0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICAvL1xuICAgIC8vXG4gICAgaWYgKGRvbmUgfHwgKHZhbHVlRHVyYWJpbGl0eSAhPT0gJ2lnbm9yZWQnICYmIGNhbkJlRHVyYWJsZSh2YWx1ZSkpKSB7XG4gICAgICBzdGF0ZS5oYXNWYWx1ZSA9IHRydWU7XG4gICAgICBzdGF0ZS52YWx1ZSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgc3RhdGUudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAvL1xuICAgICAgY3VycmVudFAgPSBvbGRUYWlsUDtcbiAgICB9XG5cbiAgICByZXNvbHZlT2xkVGFpbChcbiAgICAgIGhhcmRlbih7XG4gICAgICAgIGhlYWQ6IHsgdmFsdWUsIGRvbmUgfSxcbiAgICAgICAgcHVibGlzaENvdW50LFxuICAgICAgICB0YWlsOiB0YWlsUCxcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBkdXJhYmxlUHVibGlzaEtpdEVwaGVtZXJhbERhdGEuc2V0KFxuICAgIGdldEVwaGVtZXJhbEtleShmYWNldHMpLFxuICAgIGhhcmRlbih7IGN1cnJlbnRQLCB0YWlsUCwgdGFpbFIgfSksXG4gICk7XG59O1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZUR1cmFibGVQdWJsaXNoS2l0ID0gKGJhZ2dhZ2UsIGtpbmROYW1lKSA9PiB7XG4gIC8vXG4gIC8vXG4gIGNvbnN0IG1ha2VNZW1vaXplZFVwZGF0ZVJlY29yZCA9IG1ha2VVcGRhdGVSZWNvcmRGcm9tUHVibGljYXRpb25SZWNvcmQ7XG5cbiAgcmV0dXJuIHByZXBhcmVFeG9DbGFzc0tpdChcbiAgICBiYWdnYWdlLFxuICAgIGtpbmROYW1lLFxuICAgIHB1Ymxpc2hLaXRJS2l0LFxuICAgIGluaXREdXJhYmxlUHVibGlzaEtpdFN0YXRlLFxuICAgIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcHVibGlzaGVyOiB7XG4gICAgICAgIHB1Ymxpc2godmFsdWUpIHtcbiAgICAgICAgICBhZHZhbmNlRHVyYWJsZVB1Ymxpc2hLaXQodGhpcywgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBmaW5pc2goZmluYWxWYWx1ZSkge1xuICAgICAgICAgIGFkdmFuY2VEdXJhYmxlUHVibGlzaEtpdCh0aGlzLCBmaW5hbFZhbHVlLCAnZmluaXNoZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZmFpbChyZWFzb24pIHtcbiAgICAgICAgICBhZHZhbmNlRHVyYWJsZVB1Ymxpc2hLaXQodGhpcywgcmVhc29uLCAnZmFpbGVkJyk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIHN1YnNjcmliZXI6IHtcbiAgICAgICAgc3Vic2NyaWJlQWZ0ZXIocHVibGlzaENvdW50ID0gLTFuKSB7XG4gICAgICAgICAgY29uc3QgeyBzdGF0ZSwgZmFjZXRzIH0gPSB0aGlzO1xuICAgICAgICAgIGNvbnN0IHsgcHVibGlzaENvdW50OiBjdXJyZW50UHVibGlzaENvdW50IH0gPSBzdGF0ZTtcbiAgICAgICAgICBjb25zdCB7IGN1cnJlbnRQLCB0YWlsUCB9ID0gcHJvdmlkZUR1cmFibGVQdWJsaXNoS2l0RXBoZW1lcmFsRGF0YShcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgZmFjZXRzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHB1Ymxpc2hDb3VudCA9PT0gY3VycmVudFB1Ymxpc2hDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRhaWxQO1xuICAgICAgICAgIH0gZWxzZSBpZiAocHVibGlzaENvdW50IDwgY3VycmVudFB1Ymxpc2hDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRQIHx8IHByb3ZpZGVDdXJyZW50UChzdGF0ZSwgZmFjZXRzLCB0YWlsUCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAnc3Vic2NyaWJlQWZ0ZXIgYXJndW1lbnQgbXVzdCBiZSBhIHByZXZpb3VzbHktaXNzdWVkIHB1Ymxpc2hDb3VudC4nLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldFVwZGF0ZVNpbmNlKHVwZGF0ZUNvdW50KSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgZmFjZXRzOiB7IHN1YnNjcmliZXIgfSxcbiAgICAgICAgICB9ID0gdGhpcztcbiAgICAgICAgICBpZiAodXBkYXRlQ291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXIuc3Vic2NyaWJlQWZ0ZXIoKS50aGVuKG1ha2VNZW1vaXplZFVwZGF0ZVJlY29yZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZUNvdW50ID0gQmlnSW50KHVwZGF0ZUNvdW50KTtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgc3Vic2NyaWJlclxuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAuc3Vic2NyaWJlQWZ0ZXIodXBkYXRlQ291bnQpXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHN1YnNjcmliZXIuZ2V0VXBkYXRlU2luY2UoKSlcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0YXRlU2hhcGU6IER1cmFibGVQdWJsaXNoS2l0U3RhdGVTaGFwZSxcbiAgICB9LFxuICApO1xufTskaM2PX29uY2UucHJlcGFyZUR1cmFibGVQdWJsaXNoS2l0KHByZXBhcmVEdXJhYmxlUHVibGlzaEtpdCk7XG5oYXJkZW4ocHJlcGFyZUR1cmFibGVQdWJsaXNoS2l0KTtcblxuICAgICAgIGNvbnN0IFN1YnNjcmliZXJTaGFwZSA9IE0ucmVtb3RhYmxlKCdTdWJzY3JpYmVyJyk7JGjNj19vbmNlLlN1YnNjcmliZXJTaGFwZShTdWJzY3JpYmVyU2hhcGUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUHVibGlzaGVySSI6WyJQdWJsaXNoZXJJIl0sIlVwZGF0ZUNvdW50U2hhcGUiOlsiVXBkYXRlQ291bnRTaGFwZSJdLCJTdWJzY3JpYmVySSI6WyJTdWJzY3JpYmVySSJdLCJwdWJsaXNoS2l0SUtpdCI6WyJwdWJsaXNoS2l0SUtpdCJdLCJGb3JrYWJsZUFzeW5jSXRlcmFibGVJdGVyYXRvclNoYXBlIjpbIkZvcmthYmxlQXN5bmNJdGVyYWJsZUl0ZXJhdG9yU2hhcGUiXSwiSXRlcmFibGVFYWNoVG9waWNJIjpbIkl0ZXJhYmxlRWFjaFRvcGljSSJdLCJJdGVyYWJsZUxhdGVzdFRvcGljSSI6WyJJdGVyYWJsZUxhdGVzdFRvcGljSSJdLCJtYWtlUHVibGlzaEtpdCI6WyJtYWtlUHVibGlzaEtpdCJdLCJwcmVwYXJlRHVyYWJsZVB1Ymxpc2hLaXQiOlsicHJlcGFyZUR1cmFibGVQdWJsaXNoS2l0Il0sIlN1YnNjcmliZXJTaGFwZSI6WyJTdWJzY3JpYmVyU2hhcGUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA1hwl75UIAACVCAAALgAAAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy9zdG9yZWQtbm90aWZpZXIuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9pbnRlcm5hbCIsIkBhZ29yaWMvaW50ZXJuYWwvc3JjL2xpYi1jaGFpblN0b3JhZ2UuanMiLCJAZW5kby9mYXIiLCIuL2FzeW5jSXRlcmFibGVBZGFwdG9yLmpzIl0sImV4cG9ydHMiOlsibWFrZVN0b3JlZE5vdGlmaWVyIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgYXNzZXJ0QWxsRGVmaW5lZCxtYWtlU2VyaWFsaXplVG9TdG9yYWdlLEUsRmFyLG9ic2VydmVOb3RpZmllcjskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvaW50ZXJuYWxcIiwgW1tcImFzc2VydEFsbERlZmluZWRcIixbJGjNj19hID0+IChhc3NlcnRBbGxEZWZpbmVkID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9pbnRlcm5hbC9zcmMvbGliLWNoYWluU3RvcmFnZS5qc1wiLCBbW1wibWFrZVNlcmlhbGl6ZVRvU3RvcmFnZVwiLFskaM2PX2EgPT4gKG1ha2VTZXJpYWxpemVUb1N0b3JhZ2UgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dLFtcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXV1dLFtcIi4vYXN5bmNJdGVyYWJsZUFkYXB0b3IuanNcIiwgW1tcIm9ic2VydmVOb3RpZmllclwiLFskaM2PX2EgPT4gKG9ic2VydmVOb3RpZmllciA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG4gKi9cblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZVN0b3JlZE5vdGlmaWVyID0gKG5vdGlmaWVyLCBzdG9yYWdlTm9kZSwgbWFyc2hhbGxlcikgPT4ge1xuICBhc3NlcnRBbGxEZWZpbmVkKHsgbm90aWZpZXIsIHN0b3JhZ2VOb2RlLCBtYXJzaGFsbGVyIH0pO1xuXG4gIGNvbnN0IG1hcnNoYWxsVG9TdG9yYWdlID0gbWFrZVNlcmlhbGl6ZVRvU3RvcmFnZShzdG9yYWdlTm9kZSwgbWFyc2hhbGxlcik7XG5cbiAgb2JzZXJ2ZU5vdGlmaWVyKG5vdGlmaWVyLCB7XG4gICAgdXBkYXRlU3RhdGUodmFsdWUpIHtcbiAgICAgIG1hcnNoYWxsVG9TdG9yYWdlKHZhbHVlKS5jYXRjaChyZWFzb24gPT5cbiAgICAgICAgY29uc29sZS5lcnJvcignU3RvcmVkTm90aWZpZXIgZmFpbGVkIHRvIHVwZGF0ZVN0YXRlJywgcmVhc29uKSxcbiAgICAgICk7XG4gICAgfSxcbiAgICBmYWlsKHJlYXNvbikge1xuICAgICAgY29uc29sZS5lcnJvcignU3RvcmVkTm90aWZpZXIgZmFpbGVkIHRvIGl0ZXJhdGUnLCByZWFzb24pO1xuICAgIH0sXG4gIH0pLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgY29uc29sZS5lcnJvcignU3RvcmVkTm90aWZpZXIgaGFsdGVkIGl0ZXJhdGlvbicsIHJlYXNvbik7XG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB1bnNlcmlhbGl6ZXIgPSBGYXIoJ3Vuc2VyaWFsaXplcicsIHtcbiAgICBmcm9tQ2FwRGF0YTogZGF0YSA9PiBFKG1hcnNoYWxsZXIpLmZyb21DYXBEYXRhKGRhdGEpLFxuICAgIHVuc2VyaWFsaXplOiBkYXRhID0+IEUobWFyc2hhbGxlcikuZnJvbUNhcERhdGEoZGF0YSksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHN0b3JlZE5vdGlmaWVyID0gRmFyKCdTdG9yZWROb3RpZmllcicsIHtcbiAgICBnZXRVcGRhdGVTaW5jZTogdXBkYXRlQ291bnQgPT4gRShub3RpZmllcikuZ2V0VXBkYXRlU2luY2UodXBkYXRlQ291bnQpLFxuICAgIGdldFBhdGg6ICgpID0+IEUoc3RvcmFnZU5vZGUpLmdldFBhdGgoKSxcbiAgICBnZXRVbnNlcmlhbGl6ZXI6ICgpID0+IHVuc2VyaWFsaXplcixcbiAgfSk7XG4gIHJldHVybiBzdG9yZWROb3RpZmllcjtcbn07JGjNj19vbmNlLm1ha2VTdG9yZWROb3RpZmllcihtYWtlU3RvcmVkTm90aWZpZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVN0b3JlZE5vdGlmaWVyIjpbIm1ha2VTdG9yZWROb3RpZmllciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABIlYDC/hcAAP4XAAAnAAAAQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL3N0b3Jlc3ViLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2ZhciIsIkBlbmRvL21hcnNoYWwiLCJAYWdvcmljL2ludGVybmFsIiwiQGFnb3JpYy9pbnRlcm5hbC9zcmMvbGliLWNoYWluU3RvcmFnZS5qcyIsIi4vYXN5bmNJdGVyYWJsZUFkYXB0b3IuanMiLCIuL3B1Ymxpc2gta2l0LmpzIiwiLi9zdWJzY3JpYmVyLmpzIiwiLi9zdWJzY3JpYmUuanMiXSwiZXhwb3J0cyI6WyJmb3JFYWNoUHVibGljYXRpb25SZWNvcmQiLCJtYWtlU3RvcmVkUHVibGlzaEtpdCIsIm1ha2VTdG9yZWRQdWJsaXNoZXJLaXQiLCJtYWtlU3RvcmVkU3Vic2NyaWJlciIsIm1ha2VTdG9yZWRTdWJzY3JpcHRpb24iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBFLEZhcixtYWtlTWFyc2hhbCxhc3NlcnRBbGxEZWZpbmVkLG1ha2VTZXJpYWxpemVUb1N0b3JhZ2Usb2JzZXJ2ZUl0ZXJhdGlvbixtYWtlUHVibGlzaEtpdCxtYWtlU3Vic2NyaXB0aW9uS2l0LHN1YnNjcmliZUVhY2g7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dLFtcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL21hcnNoYWxcIiwgW1tcIm1ha2VNYXJzaGFsXCIsWyRozY9fYSA9PiAobWFrZU1hcnNoYWwgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJhc3NlcnRBbGxEZWZpbmVkXCIsWyRozY9fYSA9PiAoYXNzZXJ0QWxsRGVmaW5lZCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvaW50ZXJuYWwvc3JjL2xpYi1jaGFpblN0b3JhZ2UuanNcIiwgW1tcIm1ha2VTZXJpYWxpemVUb1N0b3JhZ2VcIixbJGjNj19hID0+IChtYWtlU2VyaWFsaXplVG9TdG9yYWdlID0gJGjNj19hKV1dXV0sW1wiLi9hc3luY0l0ZXJhYmxlQWRhcHRvci5qc1wiLCBbW1wib2JzZXJ2ZUl0ZXJhdGlvblwiLFskaM2PX2EgPT4gKG9ic2VydmVJdGVyYXRpb24gPSAkaM2PX2EpXV1dXSxbXCIuL3B1Ymxpc2gta2l0LmpzXCIsIFtbXCJtYWtlUHVibGlzaEtpdFwiLFskaM2PX2EgPT4gKG1ha2VQdWJsaXNoS2l0ID0gJGjNj19hKV1dXV0sW1wiLi9zdWJzY3JpYmVyLmpzXCIsIFtbXCJtYWtlU3Vic2NyaXB0aW9uS2l0XCIsWyRozY9fYSA9PiAobWFrZVN1YnNjcmlwdGlvbktpdCA9ICRozY9fYSldXV1dLFtcIi4vc3Vic2NyaWJlLmpzXCIsIFtbXCJzdWJzY3JpYmVFYWNoXCIsWyRozY9fYSA9PiAoc3Vic2NyaWJlRWFjaCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZm9yRWFjaFB1YmxpY2F0aW9uUmVjb3JkID0gYXN5bmMgKHN1YnNjcmliZXIsIGNvbnN1bWVWYWx1ZSkgPT4ge1xuICAvL1xuICAvL1xuICBjb25zdCBpdGVyYXRvciA9IHN1YnNjcmliZUVhY2goc3Vic2NyaWJlcilbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG5cbiAgbGV0IGZpbmlzaGVkID0gZmFsc2U7XG4gIGF3YWl0IG51bGw7XG4gIHdoaWxlICghZmluaXNoZWQpIHtcbiAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBpdGVyYXRvci5uZXh0KCk7XG4gICAgYXdhaXQgY29uc3VtZVZhbHVlKHZhbHVlKTtcbiAgICBmaW5pc2hlZCA9ICEhZG9uZTtcbiAgfVxufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmZvckVhY2hQdWJsaWNhdGlvblJlY29yZChmb3JFYWNoUHVibGljYXRpb25SZWNvcmQpO1xuICAgICAgIGNvbnN0IG1ha2VTdG9yZWRTdWJzY3JpYmVyID0gKHN1YnNjcmliZXIsIHN0b3JhZ2VOb2RlLCBtYXJzaGFsbGVyKSA9PiB7XG4gIGFzc2VydEFsbERlZmluZWQoeyBzdWJzY3JpYmVyLCBzdG9yYWdlTm9kZSwgbWFyc2hhbGxlciB9KTtcblxuICBjb25zdCBtYXJzaGFsbFRvU3RvcmFnZSA9IG1ha2VTZXJpYWxpemVUb1N0b3JhZ2Uoc3RvcmFnZU5vZGUsIG1hcnNoYWxsZXIpO1xuXG4gIC8vXG4gIGZvckVhY2hQdWJsaWNhdGlvblJlY29yZChzdWJzY3JpYmVyLCBtYXJzaGFsbFRvU3RvcmFnZSkuY2F0Y2goZXJyID0+IHtcbiAgICAvL1xuICAgIC8vXG4gICAgY29uc29sZS5lcnJvcignU3RvcmVkU3Vic2NyaWJlciBmYWlsZWQgdG8gaXRlcmF0ZScsIGVycik7XG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB1bnNlcmlhbGl6ZXIgPSBGYXIoJ3Vuc2VyaWFsaXplcicsIHtcbiAgICBmcm9tQ2FwRGF0YTogZGF0YSA9PiBFKG1hcnNoYWxsZXIpLmZyb21DYXBEYXRhKGRhdGEpLFxuICAgIHVuc2VyaWFsaXplOiBkYXRhID0+IEUobWFyc2hhbGxlcikuZnJvbUNhcERhdGEoZGF0YSksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgc3RvcmVzdWIgPSBGYXIoJ1N0b3JlZFN1YnNjcmliZXInLCB7XG4gICAgc3Vic2NyaWJlQWZ0ZXI6IHB1Ymxpc2hDb3VudCA9PiBzdWJzY3JpYmVyLnN1YnNjcmliZUFmdGVyKHB1Ymxpc2hDb3VudCksXG4gICAgZ2V0VXBkYXRlU2luY2U6IHVwZGF0ZUNvdW50ID0+IHN1YnNjcmliZXIuZ2V0VXBkYXRlU2luY2UodXBkYXRlQ291bnQpLFxuICAgIGdldFBhdGg6ICgpID0+IEUoc3RvcmFnZU5vZGUpLmdldFBhdGgoKSxcbiAgICBnZXRTdG9yZUtleTogKCkgPT4gRShzdG9yYWdlTm9kZSkuZ2V0U3RvcmVLZXkoKSxcbiAgICBnZXRVbnNlcmlhbGl6ZXI6ICgpID0+IHVuc2VyaWFsaXplcixcbiAgfSk7XG4gIHJldHVybiBzdG9yZXN1Yjtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLm1ha2VTdG9yZWRTdWJzY3JpYmVyKG1ha2VTdG9yZWRTdWJzY3JpYmVyKTtcbiAgICAgICBjb25zdCBtYWtlU3RvcmVkU3Vic2NyaXB0aW9uID0gKFxuICBzdWJzY3JpcHRpb24sXG4gIHN0b3JhZ2VOb2RlLFxuICBtYXJzaGFsbGVyID0gbWFrZU1hcnNoYWwodW5kZWZpbmVkLCB1bmRlZmluZWQsIHtcbiAgICBtYXJzaGFsU2F2ZUVycm9yOiAoKSA9PiB7fSxcbiAgICBzZXJpYWxpemVCb2R5Rm9ybWF0OiAnc21hbGxjYXBzJyxcbiAgfSksXG4pID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHVuc2VyaWFsaXplciA9IEZhcigndW5zZXJpYWxpemVyJywge1xuICAgIGZyb21DYXBEYXRhOiBkYXRhID0+IEUobWFyc2hhbGxlcikuZnJvbUNhcERhdGEoZGF0YSksXG4gICAgdW5zZXJpYWxpemU6IGRhdGEgPT4gRShtYXJzaGFsbGVyKS5mcm9tQ2FwRGF0YShkYXRhKSxcbiAgfSk7XG5cbiAgLy9cbiAgbGV0IHB1Ymxpc2hGYWlsZWQgPSBmYWxzZTtcbiAgbGV0IHB1Ymxpc2hFeGNlcHRpb247XG5cbiAgY29uc3QgZmFpbCA9IGVyciA9PiB7XG4gICAgcHVibGlzaEZhaWxlZCA9IHRydWU7XG4gICAgcHVibGlzaEV4Y2VwdGlvbiA9IGVycjtcbiAgfTtcblxuICAvL1xuICAvL1xuICBjb25zdCBwdWJsaXNoVmFsdWUgPSBvYmogPT4ge1xuICAgIGFzc2VydChzdG9yYWdlTm9kZSk7XG4gICAgaWYgKHB1Ymxpc2hGYWlsZWQpIHtcbiAgICAgIC8vXG4gICAgICB0aHJvdyBwdWJsaXNoRXhjZXB0aW9uO1xuICAgIH1cblxuICAgIC8vXG4gICAgRShtYXJzaGFsbGVyKVxuICAgICAgLnRvQ2FwRGF0YShvYmopXG4gICAgICAudGhlbihzZXJpYWxpemVkID0+IHtcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IEpTT04uc3RyaW5naWZ5KHNlcmlhbGl6ZWQpO1xuICAgICAgICByZXR1cm4gRShzdG9yYWdlTm9kZSkuc2V0VmFsdWUoZW5jb2RlZCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZhaWwpO1xuICB9O1xuXG4gIGlmIChzdG9yYWdlTm9kZSkge1xuICAgIC8vXG4gICAgb2JzZXJ2ZUl0ZXJhdGlvbihzdWJzY3JpcHRpb24sIHtcbiAgICAgIHVwZGF0ZVN0YXRlOiBwdWJsaXNoVmFsdWUsXG4gICAgICBmaW5pc2g6IHB1Ymxpc2hWYWx1ZSxcbiAgICB9KS5jYXRjaChmYWlsKTtcbiAgfVxuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBzdG9yZXN1YiA9IEZhcignU3RvcmVkU3Vic2NyaXB0aW9uJywge1xuICAgIC8vXG4gICAgZ2V0U3RvcmVLZXk6IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghc3RvcmFnZU5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGhhcmRlbih7IHN1YnNjcmlwdGlvbiB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0b3JlS2V5ID0gYXdhaXQgRShzdG9yYWdlTm9kZSkuZ2V0U3RvcmVLZXkoKTtcbiAgICAgIHJldHVybiBoYXJkZW4oeyAuLi5zdG9yZUtleSwgc3Vic2NyaXB0aW9uIH0pO1xuICAgIH0sXG4gICAgZ2V0VW5zZXJpYWxpemVyOiAoKSA9PiB1bnNlcmlhbGl6ZXIsXG4gICAgZ2V0U2hhcmFibGVTdWJzY3JpcHRpb25JbnRlcm5hbHM6ICgpID0+XG4gICAgICBzdWJzY3JpcHRpb24uZ2V0U2hhcmFibGVTdWJzY3JpcHRpb25JbnRlcm5hbHMoKSxcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdOiAoKSA9PiBzdWJzY3JpcHRpb25bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCksXG4gICAgc3Vic2NyaWJlQWZ0ZXI6IHB1Ymxpc2hDb3VudCA9PiBzdWJzY3JpcHRpb24uc3Vic2NyaWJlQWZ0ZXIocHVibGlzaENvdW50KSxcbiAgfSk7XG4gIHJldHVybiBzdG9yZXN1Yjtcbn07JGjNj19vbmNlLm1ha2VTdG9yZWRTdWJzY3JpcHRpb24obWFrZVN0b3JlZFN1YnNjcmlwdGlvbik7XG5oYXJkZW4obWFrZVN0b3JlZFN1YnNjcmlwdGlvbik7XG5cbi8qXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VTdG9yZWRQdWJsaXNoZXJLaXQgPSAoc3RvcmFnZU5vZGUsIG1hcnNoYWxsZXIsIGNoaWxkUGF0aCkgPT4ge1xuICBjb25zdCB7IHB1YmxpY2F0aW9uLCBzdWJzY3JpcHRpb24gfSA9IG1ha2VTdWJzY3JpcHRpb25LaXQoKTtcblxuICBpZiAoc3RvcmFnZU5vZGUgJiYgY2hpbGRQYXRoKSB7XG4gICAgc3RvcmFnZU5vZGUgPSBFKHN0b3JhZ2VOb2RlKS5tYWtlQ2hpbGROb2RlKGNoaWxkUGF0aCk7XG4gIH1cblxuICAvL1xuICBjb25zdCBzdWJzY3JpYmVyID0gbWFrZVN0b3JlZFN1YnNjcmlwdGlvbihcbiAgICBzdWJzY3JpcHRpb24sXG4gICAgc3RvcmFnZU5vZGUsXG4gICAgbWFyc2hhbGxlcixcbiAgKTtcblxuICByZXR1cm4ge1xuICAgIHB1Ymxpc2hlcjogcHVibGljYXRpb24sXG4gICAgc3Vic2NyaWJlcixcbiAgfTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UubWFrZVN0b3JlZFB1Ymxpc2hlcktpdChtYWtlU3RvcmVkUHVibGlzaGVyS2l0KTtcbiAgICAgICBjb25zdCBtYWtlU3RvcmVkUHVibGlzaEtpdCA9IChzdG9yYWdlTm9kZSwgbWFyc2hhbGxlcikgPT4ge1xuICBjb25zdCB7IHB1Ymxpc2hlciwgc3Vic2NyaWJlciB9ID0gbWFrZVB1Ymxpc2hLaXQoKTtcblxuICByZXR1cm4ge1xuICAgIHB1Ymxpc2hlcixcbiAgICAvL1xuICAgIHN1YnNjcmliZXI6IG1ha2VTdG9yZWRTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHN0b3JhZ2VOb2RlLCBtYXJzaGFsbGVyKSxcbiAgfTtcbn07JGjNj19vbmNlLm1ha2VTdG9yZWRQdWJsaXNoS2l0KG1ha2VTdG9yZWRQdWJsaXNoS2l0KTtcbmhhcmRlbihtYWtlU3RvcmVkUHVibGlzaEtpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJmb3JFYWNoUHVibGljYXRpb25SZWNvcmQiOlsiZm9yRWFjaFB1YmxpY2F0aW9uUmVjb3JkIl0sIm1ha2VTdG9yZWRTdWJzY3JpYmVyIjpbIm1ha2VTdG9yZWRTdWJzY3JpYmVyIl0sIm1ha2VTdG9yZWRTdWJzY3JpcHRpb24iOlsibWFrZVN0b3JlZFN1YnNjcmlwdGlvbiJdLCJtYWtlU3RvcmVkUHVibGlzaGVyS2l0IjpbIm1ha2VTdG9yZWRQdWJsaXNoZXJLaXQiXSwibWFrZVN0b3JlZFB1Ymxpc2hLaXQiOlsibWFrZVN0b3JlZFB1Ymxpc2hLaXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAWhtnckUWAABFFgAAKAAAAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy9zdWJzY3JpYmUuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZmFyIiwiQGVuZG8vbWFyc2hhbCIsIkBhZ29yaWMvaW50ZXJuYWwvc3JjL3VwZ3JhZGUtYXBpLmpzIl0sImV4cG9ydHMiOlsic3Vic2NyaWJlIiwic3Vic2NyaWJlRWFjaCIsInN1YnNjcmliZUxhdGVzdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IFgsRmFpbCxhbm5vdGF0ZUVycm9yLEUsRmFyLGlzT2JqZWN0LGlzVXBncmFkZURpc2Nvbm5lY3Rpb247JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcImFubm90YXRlRXJyb3JcIixbJGjNj19hID0+IChhbm5vdGF0ZUVycm9yID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXSxbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJpc09iamVjdFwiLFskaM2PX2EgPT4gKGlzT2JqZWN0ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9pbnRlcm5hbC9zcmMvdXBncmFkZS1hcGkuanNcIiwgW1tcImlzVXBncmFkZURpc2Nvbm5lY3Rpb25cIixbJGjNj19hID0+IChpc1VwZ3JhZGVEaXNjb25uZWN0aW9uID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuLypcblxuXG4gKi9cblxuY29uc3Qgc2luayA9ICgpID0+IHt9O1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IHJlY29ubmVjdEFzTmVlZGVkID0gYXN5bmMgKGdldHRlciwgc2VlZCA9IFtdKSA9PiB7XG4gIGxldCBkaXNjb25uZWN0aW9uO1xuICBsZXQgbGFzdFZlcnNpb24gPSAtSW5maW5pdHk7XG4gIC8vXG4gIGF3YWl0IG51bGw7XG4gIGZvciAobGV0IGkgPSAwOyA7IGkgKz0gMSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHRQID0gaSA8IHNlZWQubGVuZ3RoID8gc2VlZFtpXSA6IGdldHRlcigpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzdWx0UDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoaXNVcGdyYWRlRGlzY29ubmVjdGlvbihlcnIpKSB7XG4gICAgICAgIGlmICghZGlzY29ubmVjdGlvbikge1xuICAgICAgICAgIGRpc2Nvbm5lY3Rpb24gPSBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBpbmNhcm5hdGlvbk51bWJlcjogdmVyc2lvbiB9ID0gZXJyO1xuICAgICAgICBpZiAodmVyc2lvbiA+IGxhc3RWZXJzaW9uKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgbGFzdFZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBpZiAoaXNPYmplY3QoZXJyKSAmJiBkaXNjb25uZWN0aW9uICYmIGRpc2Nvbm5lY3Rpb24gIT09IGVycikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFubm90YXRlRXJyb3IoXG4gICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICBYYEF0dGVtcHRpbmcgdG8gcmVjb3ZlciBmcm9tIGRpc2Nvbm5lY3Rpb246ICR7ZGlzY29ubmVjdGlvbn1gLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKF9lcnIpIHtcbiAgICAgICAgICAvL1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG59O1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBzdWJzY3JpYmUgPSBpdFAgPT5cbiAgRmFyKCdBc3luY0l0ZXJhYmxlJywge1xuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl06ICgpID0+IHtcbiAgICAgIGNvbnN0IGl0ID0gRShpdFApW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgY29uc3Qgc2VsZiA9IEZhcignQXN5bmNJdGVyYWJsZUl0ZXJhdG9yJywge1xuICAgICAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdOiAoKSA9PiBzZWxmLFxuICAgICAgICBuZXh0OiBhc3luYyAoKSA9PiBFKGl0KS5uZXh0KCksXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG4gIH0pO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLnN1YnNjcmliZShzdWJzY3JpYmUpO1xuY29uc3QgbWFrZUVhY2hJdGVyYXRvciA9ICh0b3BpYywgbmV4dENlbGxQKSA9PiB7XG4gIC8vXG4gIC8vXG4gIGNvbnN0IHNlbGYgPSBGYXIoJ0VhY2hJdGVyYXRvcicsIHtcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdOiAoKSA9PiBzZWxmLFxuICAgIG5leHQ6ICgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaGVhZDogcmVzdWx0UCxcbiAgICAgICAgcHVibGlzaENvdW50OiBwdWJsaXNoQ291bnRQLFxuICAgICAgICB0YWlsOiB0YWlsUCxcbiAgICAgIH0gPSBFLmdldChuZXh0Q2VsbFApO1xuXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGNvbnN0IGdldFN1Y2Nlc3NvciA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcHVibGlzaENvdW50ID0gYXdhaXQgcHVibGlzaENvdW50UDtcbiAgICAgICAgYXNzZXJ0LnR5cGVvZihwdWJsaXNoQ291bnQsICdiaWdpbnQnKTtcbiAgICAgICAgY29uc3Qgc3VjY2Vzc29yID0gYXdhaXQgRSh0b3BpYykuc3Vic2NyaWJlQWZ0ZXIocHVibGlzaENvdW50KTtcbiAgICAgICAgY29uc3QgbmV3UHVibGlzaENvdW50ID0gc3VjY2Vzc29yLnB1Ymxpc2hDb3VudDtcbiAgICAgICAgaWYgKG5ld1B1Ymxpc2hDb3VudCAhPT0gcHVibGlzaENvdW50ICsgMW4pIHtcbiAgICAgICAgICBGYWlsYGVhY2hJdGVyYXRvciBicm9rZW4gYnkgZ2FwIGZyb20gcHVibGlzaENvdW50ICR7cHVibGlzaENvdW50fSB0byAke25ld1B1Ymxpc2hDb3VudH1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWNjZXNzb3I7XG4gICAgICB9O1xuXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIG5leHRDZWxsUCA9IHJlY29ubmVjdEFzTmVlZGVkKGdldFN1Y2Nlc3NvciwgW3RhaWxQXSk7XG5cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICB2b2lkIEUud2hlbihwdWJsaXNoQ291bnRQLCBzaW5rLCBzaW5rKTtcbiAgICAgIHZvaWQgRS53aGVuKG5leHRDZWxsUCwgc2luaywgc2luayk7XG4gICAgICByZXR1cm4gcmVzdWx0UDtcbiAgICB9LFxuICAgIGZvcms6ICgpID0+IG1ha2VFYWNoSXRlcmF0b3IodG9waWMsIG5leHRDZWxsUCksXG4gIH0pO1xuICByZXR1cm4gc2VsZjtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3Qgc3Vic2NyaWJlRWFjaCA9IHRvcGljID0+IHtcbiAgY29uc3QgaXRlcmFibGUgPSBGYXIoJ0VhY2hJdGVyYWJsZScsIHtcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdOiAoKSA9PiB7XG4gICAgICBjb25zdCBmaXJzdENlbGxQID0gcmVjb25uZWN0QXNOZWVkZWQoKCkgPT4gRSh0b3BpYykuc3Vic2NyaWJlQWZ0ZXIoKSk7XG4gICAgICByZXR1cm4gbWFrZUVhY2hJdGVyYXRvcih0b3BpYywgZmlyc3RDZWxsUCk7XG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiBpdGVyYWJsZTtcbn07JGjNj19vbmNlLnN1YnNjcmliZUVhY2goc3Vic2NyaWJlRWFjaCk7XG5oYXJkZW4oc3Vic2NyaWJlRWFjaCk7XG5cbi8qXG5cblxuXG5cblxuICovXG5jb25zdCBjbG9uZUxhdGVzdEl0ZXJhdG9yID0gKHRvcGljLCBsb2NhbFVwZGF0ZUNvdW50LCB0ZXJtaW5hbFJlc3VsdCkgPT4ge1xuICBsZXQgbXV0ZXggPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtYXliZVJlcXVlc3ROZXh0UmVzdWx0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICh0ZXJtaW5hbFJlc3VsdCkge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm4gdGVybWluYWxSZXN1bHQ7XG4gICAgfVxuXG4gICAgLy9cbiAgICAvL1xuICAgIGNvbnN0IHsgdmFsdWUsIHVwZGF0ZUNvdW50IH0gPSBhd2FpdCByZWNvbm5lY3RBc05lZWRlZCgoKSA9PlxuICAgICAgRSh0b3BpYykuZ2V0VXBkYXRlU2luY2UobG9jYWxVcGRhdGVDb3VudCksXG4gICAgKTtcbiAgICAvL1xuICAgIGxvY2FsVXBkYXRlQ291bnQgPSB1cGRhdGVDb3VudDtcblxuICAgIC8vXG4gICAgaWYgKHVwZGF0ZUNvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRlcm1pbmFsUmVzdWx0ID0gaGFyZGVuKHsgZG9uZTogdHJ1ZSwgdmFsdWUgfSk7XG4gICAgICByZXR1cm4gdGVybWluYWxSZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBoYXJkZW4oeyBkb25lOiBmYWxzZSwgdmFsdWUgfSk7XG4gIH07XG5cbiAgY29uc3Qgc2VsZiA9IEZhcignTGF0ZXN0SXRlcmF0b3InLCB7XG4gICAgZm9yazogKCkgPT4gY2xvbmVMYXRlc3RJdGVyYXRvcih0b3BpYywgbG9jYWxVcGRhdGVDb3VudCwgdGVybWluYWxSZXN1bHQpLFxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl06ICgpID0+IHNlbGYsXG4gICAgbmV4dDogYXN5bmMgKCkgPT4ge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuXG4gICAgICBpZiAodGVybWluYWxSZXN1bHQpIHtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIHRlcm1pbmFsUmVzdWx0O1xuICAgICAgfVxuXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgY29uc3QgbmV4dFJlc3VsdCA9IG11dGV4LnRoZW4obWF5YmVSZXF1ZXN0TmV4dFJlc3VsdCk7XG4gICAgICBtdXRleCA9IG5leHRSZXN1bHQudGhlbihzaW5rLCBzaW5rKTtcbiAgICAgIC8vXG5cbiAgICAgIHJldHVybiBuZXh0UmVzdWx0O1xuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gc2VsZjtcbn07XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VMYXRlc3RJdGVyYXRvciA9IHRvcGljID0+IGNsb25lTGF0ZXN0SXRlcmF0b3IodG9waWMpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHN1YnNjcmliZUxhdGVzdCA9IHRvcGljID0+IHtcbiAgY29uc3QgaXRlcmFibGUgPSBGYXIoJ0xhdGVzdEl0ZXJhYmxlJywge1xuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl06ICgpID0+IG1ha2VMYXRlc3RJdGVyYXRvcih0b3BpYyksXG4gIH0pO1xuICByZXR1cm4gaXRlcmFibGU7XG59OyRozY9fb25jZS5zdWJzY3JpYmVMYXRlc3Qoc3Vic2NyaWJlTGF0ZXN0KTtcbmhhcmRlbihzdWJzY3JpYmVMYXRlc3QpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsic3Vic2NyaWJlIjpbInN1YnNjcmliZSJdLCJzdWJzY3JpYmVFYWNoIjpbInN1YnNjcmliZUVhY2giXSwic3Vic2NyaWJlTGF0ZXN0IjpbInN1YnNjcmliZUxhdGVzdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAjmX64OQgAADkIAAApAAAAQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL3N1YnNjcmliZXIuanN7ImltcG9ydHMiOlsiQGVuZG8vZmFyIiwiLi9zdWJzY3JpYmUuanMiLCIuL3B1Ymxpc2gta2l0LmpzIiwiLi90b3BpYy5qcyJdLCJleHBvcnRzIjpbIm1ha2VTdWJzY3JpcHRpb24iLCJtYWtlU3Vic2NyaXB0aW9uS2l0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRSxGYXIsc3Vic2NyaWJlRWFjaCxtYWtlUHVibGlzaEtpdCxtYWtlUGlubmVkSGlzdG9yeVRvcGljOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXSxbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV1dXSxbXCIuL3N1YnNjcmliZS5qc1wiLCBbW1wic3Vic2NyaWJlRWFjaFwiLFskaM2PX2EgPT4gKHN1YnNjcmliZUVhY2ggPSAkaM2PX2EpXV1dXSxbXCIuL3B1Ymxpc2gta2l0LmpzXCIsIFtbXCJtYWtlUHVibGlzaEtpdFwiLFskaM2PX2EgPT4gKG1ha2VQdWJsaXNoS2l0ID0gJGjNj19hKV1dXV0sW1wiLi90b3BpYy5qc1wiLCBbW1wibWFrZVBpbm5lZEhpc3RvcnlUb3BpY1wiLFskaM2PX2EgPT4gKG1ha2VQaW5uZWRIaXN0b3J5VG9waWMgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuLypcblxuICovXG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VTdWJzY3JpcHRpb24gPSB0b3BpYyA9PiB7XG4gIGNvbnN0IHN1YnNjcmlwdGlvbiA9IEZhcignU3Vic2NyaXB0aW9uJywge1xuICAgIC4uLnN1YnNjcmliZUVhY2godG9waWMpLFxuICAgIHN1YnNjcmliZUFmdGVyOiBhc3luYyBwdWJsaXNoQ291bnQgPT4gRSh0b3BpYykuc3Vic2NyaWJlQWZ0ZXIocHVibGlzaENvdW50KSxcblxuICAgIC8qXG5cblxuXG5cbiAgICAgKi9cbiAgICBnZXRTaGFyYWJsZVN1YnNjcmlwdGlvbkludGVybmFsczogYXN5bmMgKCkgPT4gdG9waWMsXG5cbiAgICBnZXRTdG9yZUtleTogKCkgPT4gaGFyZGVuKHsgc3Vic2NyaXB0aW9uIH0pLFxuICB9KTtcbiAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbn07JGjNj19vbmNlLm1ha2VTdWJzY3JpcHRpb24obWFrZVN1YnNjcmlwdGlvbik7XG5oYXJkZW4obWFrZVN1YnNjcmlwdGlvbik7XG5cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBtYWtlU3Vic2NyaXB0aW9uS2l0ID0gKCkgPT4ge1xuICBjb25zdCB7IHB1Ymxpc2hlciwgc3Vic2NyaWJlciB9ID0gbWFrZVB1Ymxpc2hLaXQoKTtcblxuICAvL1xuICAvL1xuXG4gIGNvbnN0IHBpbm5lZEhpc3RvcnlUb3BpYyA9IG1ha2VQaW5uZWRIaXN0b3J5VG9waWMoc3Vic2NyaWJlcik7XG4gIGNvbnN0IHN1YnNjcmlwdGlvbiA9IG1ha2VTdWJzY3JpcHRpb24ocGlubmVkSGlzdG9yeVRvcGljKTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBwdWJsaWNhdGlvbiA9IEZhcigncHVibGljYXRpb24nLCB7XG4gICAgdXBkYXRlU3RhdGU6IG5vbkZpbmFsVmFsdWUgPT4gcHVibGlzaGVyLnB1Ymxpc2gobm9uRmluYWxWYWx1ZSksXG4gICAgZmluaXNoOiBjb21wbGV0aW9uID0+IHB1Ymxpc2hlci5maW5pc2goY29tcGxldGlvbiksXG4gICAgZmFpbDogcmVhc29uID0+IHB1Ymxpc2hlci5mYWlsKHJlYXNvbiksXG4gIH0pO1xuXG4gIHJldHVybiBoYXJkZW4oeyBwdWJsaWNhdGlvbiwgc3Vic2NyaXB0aW9uIH0pO1xufTskaM2PX29uY2UubWFrZVN1YnNjcmlwdGlvbktpdChtYWtlU3Vic2NyaXB0aW9uS2l0KTtcbmhhcmRlbihtYWtlU3Vic2NyaXB0aW9uS2l0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VTdWJzY3JpcHRpb24iOlsibWFrZVN1YnNjcmlwdGlvbiJdLCJtYWtlU3Vic2NyaXB0aW9uS2l0IjpbIm1ha2VTdWJzY3JpcHRpb25LaXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAWzsF4kwEAABMBAAAJAAAAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy90b3BpYy5qc3siaW1wb3J0cyI6WyJAZW5kby9mYXIiXSwiZXhwb3J0cyI6WyJtYWtlUGlubmVkSGlzdG9yeVRvcGljIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFyOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZmFyXCIsIFtbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuLypcblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VQaW5uZWRIaXN0b3J5VG9waWMgPSB0b3BpYyA9PiB7XG4gIC8vXG5cbiAgLy9cbiAgY29uc3QgcGlubmVkUHViTGlzdCA9IHRvcGljLnN1YnNjcmliZUFmdGVyKCk7XG5cbiAgcmV0dXJuIEZhcignUGlubmVkSGlzdG9yeVRvcGljJywge1xuICAgIHN1YnNjcmliZUFmdGVyOiBhc3luYyAocHVibGlzaENvdW50ID0gLTFuKSA9PiB7XG4gICAgICBpZiAocHVibGlzaENvdW50ID09PSAtMW4pIHtcbiAgICAgICAgcmV0dXJuIHBpbm5lZFB1Ykxpc3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9waWMuc3Vic2NyaWJlQWZ0ZXIocHVibGlzaENvdW50KTtcbiAgICB9LFxuICAgIGdldFVwZGF0ZVNpbmNlOiBhc3luYyAodXBkYXRlQ291bnQgPSB1bmRlZmluZWQpID0+IHtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gdG9waWMuZ2V0VXBkYXRlU2luY2UodXBkYXRlQ291bnQpO1xuICAgIH0sXG4gIH0pO1xufTskaM2PX29uY2UubWFrZVBpbm5lZEhpc3RvcnlUb3BpYyhtYWtlUGlubmVkSGlzdG9yeVRvcGljKTtcbmhhcmRlbihtYWtlUGlubmVkSGlzdG9yeVRvcGljKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VQaW5uZWRIaXN0b3J5VG9waWMiOlsibWFrZVBpbm5lZEhpc3RvcnlUb3BpYyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAAqAAAAQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL3R5cGVzLWluZGV4LmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAKOSJg0UBwAAFAcAAC0AAABAYWdvcmljL25vdGlmaWVyLXYwLjYuMi90b29scy90ZXN0U3VwcG9ydHMuanN7ImltcG9ydHMiOlsiQGVuZG8vbWFyc2hhbCIsIkBhZ29yaWMvaW50ZXJuYWwvc3JjL3Rlc3RpbmctdXRpbHMuanMiXSwiZXhwb3J0cyI6WyJtYWtlRmFrZU1hcnNoYWxsZXIiLCJtYWtlRmFrZVN0b3JhZ2UiLG51bGxdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhcixtYWtlTWFyc2hhbDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL21hcnNoYWxcIiwgW1tcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXSxbXCJtYWtlTWFyc2hhbFwiLFskaM2PX2EgPT4gKG1ha2VNYXJzaGFsID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9pbnRlcm5hbC9zcmMvdGVzdGluZy11dGlscy5qc1wiLCBbXV1dKTtcblxuXG5cblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VGYWtlU3RvcmFnZSA9IChwYXRoLCBwdWJsaWNhdGlvbikgPT4ge1xuICBsZXQgc2V0VmFsdWVDYWxscyA9IDA7XG4gIGNvbnN0IGZ1bGxQYXRoID0gYHB1Ymxpc2guJHtwYXRofWA7XG4gIGNvbnN0IHN0b3JlS2V5ID0gaGFyZGVuKHtcbiAgICBzdG9yZU5hbWU6ICdzd2luZ3NldCcsXG4gICAgc3RvcmVTdWJrZXk6IGBzd2luZ3NldC9kYXRhOiR7ZnVsbFBhdGh9YCxcbiAgICBkYXRhUHJlZml4Qnl0ZXM6ICcnLFxuICB9KTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBzdG9yYWdlID0gRmFyKCdTdG9yYWdlTm9kZScsIHtcbiAgICBnZXRQYXRoOiAoKSA9PiBwYXRoLFxuICAgIGdldFN0b3JlS2V5OiBhc3luYyAoKSA9PiBzdG9yZUtleSxcbiAgICBzZXRWYWx1ZTogYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgc2V0VmFsdWVDYWxscyArPSAxO1xuICAgICAgYXNzZXJ0LnR5cGVvZih2YWx1ZSwgJ3N0cmluZycpO1xuICAgICAgaWYgKHB1YmxpY2F0aW9uKSB7XG4gICAgICAgIHB1YmxpY2F0aW9uLnVwZGF0ZVN0YXRlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG1ha2VDaGlsZE5vZGU6ICgpID0+IHN0b3JhZ2UsXG4gICAgY291bnRTZXRWYWx1ZUNhbGxzOiAoKSA9PiBzZXRWYWx1ZUNhbGxzLFxuICB9KTtcbiAgcmV0dXJuIHN0b3JhZ2U7XG59OyRozY9fb25jZS5tYWtlRmFrZVN0b3JhZ2UobWFrZUZha2VTdG9yYWdlKTtcbmhhcmRlbihtYWtlRmFrZVN0b3JhZ2UpO1xuXG4gICAgICAgY29uc3QgbWFrZUZha2VNYXJzaGFsbGVyID0gKCkgPT5cbiAgbWFrZU1hcnNoYWwodW5kZWZpbmVkLCB1bmRlZmluZWQsIHtcbiAgICBtYXJzaGFsU2F2ZUVycm9yOiAoKSA9PiB7fSxcbiAgfSk7JGjNj19vbmNlLm1ha2VGYWtlTWFyc2hhbGxlcihtYWtlRmFrZU1hcnNoYWxsZXIpO1xuaGFyZGVuKG1ha2VGYWtlTWFyc2hhbGxlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyJAYWdvcmljL2ludGVybmFsL3NyYy90ZXN0aW5nLXV0aWxzLmpzIjpbWyJldmVudExvb3BJdGVyYXRpb24iLCJldmVudExvb3BJdGVyYXRpb24iXV19LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZUZha2VTdG9yYWdlIjpbIm1ha2VGYWtlU3RvcmFnZSJdLCJtYWtlRmFrZU1hcnNoYWxsZXIiOlsibWFrZUZha2VNYXJzaGFsbGVyIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAHRMUA1PBgAATwYAAEUAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leGFtcGxlcy9lbHlzLWNvbnRyYWN0LXR5cGUtZ2F1cmQuanN7ImltcG9ydHMiOlsiQGVuZG8vcGF0dGVybnMiXSwiZXhwb3J0cyI6WyJGZWVDb25maWdTaGFwZSIsIlJhdGlvU2hhcGUiLCJ2YWxpZGF0ZUZlZUNvbmZpZ1NoYXBlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgTTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbGlkYXRlRmVlQ29uZmlnU2hhcGUsJ25hbWUnLHt2YWx1ZTpcInZhbGlkYXRlRmVlQ29uZmlnU2hhcGVcIn0pOyRozY9fb25jZS52YWxpZGF0ZUZlZUNvbmZpZ1NoYXBlKHZhbGlkYXRlRmVlQ29uZmlnU2hhcGUpO1xuXG4vKlxuXG5cblxuXG4gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IFJhdGlvU2hhcGUgPSB7XG4gIG5vbWluYXRvcjogTS5iaWdpbnQoKSxcbiAgZGVub21pbmF0b3I6IE0uYmlnaW50KCksXG59OyRozY9fb25jZS5SYXRpb1NoYXBlKFJhdGlvU2hhcGUpO1xuaGFyZGVuKFJhdGlvU2hhcGUpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IEZlZUNvbmZpZ1NoYXBlID0ge1xuICBmZWVDb2xsZWN0b3I6IE0uc3RyaW5nKCksXG4gIG9uQm9hcmRSYXRlOiBSYXRpb1NoYXBlLFxuICBvZmZCb2FyZFJhdGU6IFJhdGlvU2hhcGUsXG59OyRozY9fb25jZS5GZWVDb25maWdTaGFwZShGZWVDb25maWdTaGFwZSk7XG5oYXJkZW4oRmVlQ29uZmlnU2hhcGUpO1xuXG4gICAgICAgZnVuY3Rpb24gdmFsaWRhdGVGZWVDb25maWdTaGFwZShmZWVDb25maWdTaGFwZSkge1xuICBjb25zdCB7IG9uQm9hcmRSYXRlLCBvZmZCb2FyZFJhdGUgfSA9IGZlZUNvbmZpZ1NoYXBlO1xuICBjb25zdCBpc1ZhbGlkUmF0aW8gPSAoeyBub21pbmF0b3IsIGRlbm9taW5hdG9yIH0pID0+IHtcbiAgICBpZiAoZGVub21pbmF0b3IgPT09IDBuKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBub21pbmF0b3IgPj0gMG4gJiYgbm9taW5hdG9yIDw9IGRlbm9taW5hdG9yO1xuICB9O1xuXG4gIHJldHVybiBpc1ZhbGlkUmF0aW8ob25Cb2FyZFJhdGUpICYmIGlzVmFsaWRSYXRpbyhvZmZCb2FyZFJhdGUpO1xufVxufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUmF0aW9TaGFwZSI6WyJSYXRpb1NoYXBlIl0sIkZlZUNvbmZpZ1NoYXBlIjpbIkZlZUNvbmZpZ1NoYXBlIl0sInZhbGlkYXRlRmVlQ29uZmlnU2hhcGUiOlsidmFsaWRhdGVGZWVDb25maWdTaGFwZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADXw7ZTwEIAAMBCAABAAAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvZXhhbXBsZXMvZWx5cy1jb250cmFjdC5mbG93cy5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAYWdvcmljL2ludGVybmFsIiwiQGFnb3JpYy9jb3NtaWMtcHJvdG8vYWRkcmVzcy1ob29rcy5qcyIsIkBhZ29yaWMvY29zbWljLXByb3RvL2dvb2dsZS9wcm90b2J1Zi9hbnkuanMiLCJAYWdvcmljL2Nvc21pYy1wcm90by9zdHJpZGUvc3Rha2VpYmMvdHguanMiLCIuLi91dGlscy9jb3Ntb3MuanMiLCIuLi91dGlscy9kZW5vbUhhc2guanMiXSwiZXhwb3J0cyI6WyJtYWtlSUNBSG9va0FjY291bnRzIiwidG9rZW5Nb3ZlbWVudEFuZFN0cmlkZUxTREZsb3ciXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLG1ha2VUcmFjZXIsZGVjb2RlQmVjaDMyLGVuY29kZUJlY2gzMixBbnksTXNnTGlxdWlkU3Rha2UsTXNnTGlxdWlkU3Rha2VSZXNwb25zZSxNc2dSZWRlZW1TdGFrZSx0cnlEZWNvZGVSZXNwb25zZSxkZW5vbUhhc2g7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9pbnRlcm5hbFwiLCBbW1wibWFrZVRyYWNlclwiLFskaM2PX2EgPT4gKG1ha2VUcmFjZXIgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2Nvc21pYy1wcm90by9hZGRyZXNzLWhvb2tzLmpzXCIsIFtbXCJkZWNvZGVCZWNoMzJcIixbJGjNj19hID0+IChkZWNvZGVCZWNoMzIgPSAkaM2PX2EpXV0sW1wiZW5jb2RlQmVjaDMyXCIsWyRozY9fYSA9PiAoZW5jb2RlQmVjaDMyID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG8vZ29vZ2xlL3Byb3RvYnVmL2FueS5qc1wiLCBbW1wiQW55XCIsWyRozY9fYSA9PiAoQW55ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG8vc3RyaWRlL3N0YWtlaWJjL3R4LmpzXCIsIFtbXCJNc2dMaXF1aWRTdGFrZVwiLFskaM2PX2EgPT4gKE1zZ0xpcXVpZFN0YWtlID0gJGjNj19hKV1dLFtcIk1zZ0xpcXVpZFN0YWtlUmVzcG9uc2VcIixbJGjNj19hID0+IChNc2dMaXF1aWRTdGFrZVJlc3BvbnNlID0gJGjNj19hKV1dLFtcIk1zZ1JlZGVlbVN0YWtlXCIsWyRozY9fYSA9PiAoTXNnUmVkZWVtU3Rha2UgPSAkaM2PX2EpXV1dXSxbXCIuLi91dGlscy9jb3Ntb3MuanNcIiwgW1tcInRyeURlY29kZVJlc3BvbnNlXCIsWyRozY9fYSA9PiAodHJ5RGVjb2RlUmVzcG9uc2UgPSAkaM2PX2EpXV1dXSxbXCIuLi91dGlscy9kZW5vbUhhc2guanNcIiwgW1tcImRlbm9tSGFzaFwiLFskaM2PX2EgPT4gKGRlbm9tSGFzaCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IHRyYWNlID0gbWFrZVRyYWNlcignU3RyaWRlU3Rha2luZ0Zsb3cnKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlSUNBSG9va0FjY291bnRzID0gYXN5bmMgKFxuICBvcmNoLFxuICB7IG1ha2VTdHJpZGVTdGFraW5nVGFwLCBjaGFpbkh1YiB9LFxuICB7XG4gICAgY2hhaW5OYW1lcyxcbiAgICBzdXBwb3J0ZWRIb3N0Q2hhaW5zLFxuICAgIHN0RGVub21PbkVseXNUb2hvc3RUb0Fnb3JpY0NoYW5uZWxNYXAsXG4gICAgZmVlQ29uZmlnLFxuICB9LFxuKSA9PiB7XG4gIGNvbnN0IGFsbFJlbW90ZUNoYWlucyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgIGNoYWluTmFtZXMubWFwKG4gPT4gb3JjaC5nZXRDaGFpbihuKSksXG4gICk7XG5cbiAgLy9cbiAgY29uc3QgYWdvcmljID0gYXdhaXQgb3JjaC5nZXRDaGFpbignYWdvcmljJyk7XG4gIGNvbnN0IHsgY2hhaW5JZDogYWdvcmljQ2hhaW5JZCwgYmVjaDMyUHJlZml4OiBhZ29yaWNCZWNoMzJQcmVmaXggfSA9XG4gICAgYXdhaXQgYWdvcmljLmdldENoYWluSW5mbygpO1xuICBjb25zdCBsb2NhbEFjY291bnQgPSBhd2FpdCBhZ29yaWMubWFrZUFjY291bnQoKTtcbiAgY29uc3QgbG9jYWxBY2NvdW50QWRkcmVzcyA9IGxvY2FsQWNjb3VudC5nZXRBZGRyZXNzKCk7XG5cbiAgLy9cbiAgY29uc3Qgc3RyaWRlID0gYXdhaXQgb3JjaC5nZXRDaGFpbignc3RyaWRlJyk7XG4gIGNvbnN0IHsgY2hhaW5JZDogc3RyaWRlQ2hhaW5JZCwgYmVjaDMyUHJlZml4OiBzdHJpZGVCZWNoMzJQcmVmaXggfSA9XG4gICAgYXdhaXQgc3RyaWRlLmdldENoYWluSW5mbygpO1xuICBjb25zdCBzdHJpZGVJQ0FBY2NvdW50ID0gYXdhaXQgc3RyaWRlLm1ha2VBY2NvdW50KCk7XG4gIGNvbnN0IHN0cmlkZUlDQUFkZHJlc3MgPSBzdHJpZGVJQ0FBY2NvdW50LmdldEFkZHJlc3MoKTtcblxuICAvL1xuICBjb25zdCBlbHlzID0gYXdhaXQgb3JjaC5nZXRDaGFpbignZWx5cycpO1xuICBjb25zdCB7IGNoYWluSWQ6IGVseXNDaGFpbklkLCBiZWNoMzJQcmVmaXg6IGVseXNCZWNoMzJQcmVmaXggfSA9XG4gICAgYXdhaXQgZWx5cy5nZXRDaGFpbkluZm8oKTtcbiAgY29uc3QgZWx5c0lDQUFjY291bnQgPSBhd2FpdCBlbHlzLm1ha2VBY2NvdW50KCk7XG4gIGNvbnN0IGVseXNJQ0FBZGRyZXNzID0gZWx5c0lDQUFjY291bnQuZ2V0QWRkcmVzcygpO1xuXG4gIGNvbnN0IHsgdHJhbnNmZXJDaGFubmVsOiB0cmFuc2ZlckNoYW5uZWxBZ29yaWNFbHlzIH0gPVxuICAgIGF3YWl0IGNoYWluSHViLmdldENvbm5lY3Rpb25JbmZvKGFnb3JpY0NoYWluSWQsIGVseXNDaGFpbklkKTtcbiAgY29uc3QgeyB0cmFuc2ZlckNoYW5uZWw6IHRyYW5zZmVyQ2hhbm5lbFN0cmlkZUVseXMgfSA9XG4gICAgYXdhaXQgY2hhaW5IdWIuZ2V0Q29ubmVjdGlvbkluZm8oc3RyaWRlQ2hhaW5JZCwgZWx5c0NoYWluSWQpO1xuXG4gIC8vXG4gIGZvciAoY29uc3QgW19pbmRleCwgcmVtb3RlQ2hhaW5dIG9mIGFsbFJlbW90ZUNoYWlucy5lbnRyaWVzKCkpIHtcbiAgICBjb25zdCBjaGFpbkluZm8gPSBhd2FpdCByZW1vdGVDaGFpbi5nZXRDaGFpbkluZm8oKTtcbiAgICBjb25zdCB7IGNoYWluSWQsIHN0YWtpbmdUb2tlbnMsIGJlY2gzMlByZWZpeCB9ID0gY2hhaW5JbmZvO1xuICAgIHN0YWtpbmdUb2tlbnMgfHwgRmFpbGAke2NoYWluSWR9IGRvZXMgbm90IGhhdmUgc3Rha2luZ1Rva2VucyBpbiBjb25maWdgO1xuXG4gICAgY29uc3QgbmF0aXZlRGVub20gPSBzdGFraW5nVG9rZW5zWzBdLmRlbm9tO1xuICAgIHRyYWNlKCdOYXRpdmVEZW5vbSAnLCBuYXRpdmVEZW5vbSk7XG4gICAgbmF0aXZlRGVub20gfHxcbiAgICAgIEZhaWxgJHtjaGFpbklkIHx8IGNoYWluSWR9IGRvZXMgbm90IGhhdmUgc3Rha2luZ1Rva2VucyBpbiBjb25maWdgO1xuXG4gICAgY29uc3QgSUNBQWNjb3VudCA9IGF3YWl0IHJlbW90ZUNoYWluLm1ha2VBY2NvdW50KCk7XG4gICAgY29uc3QgSUNBQWRkcmVzcyA9IElDQUFjY291bnQuZ2V0QWRkcmVzcygpO1xuXG4gICAgLy9cbiAgICBjb25zdCB7IHRyYW5zZmVyQ2hhbm5lbCB9ID0gYXdhaXQgY2hhaW5IdWIuZ2V0Q29ubmVjdGlvbkluZm8oXG4gICAgICBhZ29yaWNDaGFpbklkLFxuICAgICAgY2hhaW5JZCxcbiAgICApO1xuICAgIGNvbnN0IHsgdHJhbnNmZXJDaGFubmVsOiB0cmFuc2ZlckNoYW5uZWxob3N0U3RyaWRlIH0gPVxuICAgICAgYXdhaXQgY2hhaW5IdWIuZ2V0Q29ubmVjdGlvbkluZm8oY2hhaW5JZCwgc3RyaWRlQ2hhaW5JZCk7XG5cbiAgICBjb25zdCBpYmNEZW5vbU9uQWdvcmljID0gYGliYy8ke2Rlbm9tSGFzaCh7IGRlbm9tOiBuYXRpdmVEZW5vbSwgY2hhbm5lbElkOiB0cmFuc2ZlckNoYW5uZWwuY2hhbm5lbElkIH0pfWA7XG4gICAgY29uc3QgaWJjRGVub21PblN0cmlkZSA9IGBpYmMvJHtkZW5vbUhhc2goeyBkZW5vbTogbmF0aXZlRGVub20sIGNoYW5uZWxJZDogdHJhbnNmZXJDaGFubmVsaG9zdFN0cmlkZS5jaGFubmVsSWQgfSl9YDtcblxuICAgIC8vXG4gICAgY29uc3Qgc3RUb2tlbkRlbm9tT25FbHlzID0gYGliYy8ke2Rlbm9tSGFzaCh7IGRlbm9tOiBgc3Qke25hdGl2ZURlbm9tfWAsIGNoYW5uZWxJZDogdHJhbnNmZXJDaGFubmVsU3RyaWRlRWx5cy5jaGFubmVsSWQgfSl9YDtcbiAgICBzdERlbm9tT25FbHlzVG9ob3N0VG9BZ29yaWNDaGFubmVsTWFwLmluaXQoXG4gICAgICBzdFRva2VuRGVub21PbkVseXMsXG4gICAgICB0cmFuc2ZlckNoYW5uZWwuY291bnRlclBhcnR5Q2hhbm5lbElkLFxuICAgICk7XG5cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGhvc3RDaGFpbkluZm8gPSB7XG4gICAgICBob3N0VG9BZ29yaWNDaGFubmVsOiB0cmFuc2ZlckNoYW5uZWwuY291bnRlclBhcnR5Q2hhbm5lbElkLFxuICAgICAgbmF0aXZlRGVub20sXG4gICAgICBpYmNEZW5vbU9uQWdvcmljLFxuICAgICAgaWJjRGVub21PblN0cmlkZSxcbiAgICAgIGhvc3RJQ0FBY2NvdW50OiBJQ0FBY2NvdW50LFxuICAgICAgaG9zdElDQUFjY291bnRBZGRyZXNzOiBJQ0FBZGRyZXNzLFxuICAgICAgYmVjaDMyUHJlZml4LFxuICAgIH07XG4gICAgc3VwcG9ydGVkSG9zdENoYWlucy5pbml0KFxuICAgICAgdHJhbnNmZXJDaGFubmVsLmNvdW50ZXJQYXJ0eUNoYW5uZWxJZCxcbiAgICAgIGhvc3RDaGFpbkluZm8sXG4gICAgKTtcbiAgfVxuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHMgPSB7XG4gICAgLy9cbiAgICBsb2NhbEFjY291bnQsXG4gICAgbG9jYWxBY2NvdW50QWRkcmVzcyxcbiAgICBzdHJpZGVJQ0FBY2NvdW50LFxuICAgIHN0cmlkZUlDQUFkZHJlc3MsXG4gICAgZWx5c0lDQUFjY291bnQsXG4gICAgZWx5c0lDQUFkZHJlc3MsXG4gICAgc3VwcG9ydGVkSG9zdENoYWlucyxcbiAgICBlbHlzVG9BZ29yaWNDaGFubmVsOiB0cmFuc2ZlckNoYW5uZWxBZ29yaWNFbHlzLmNvdW50ZXJQYXJ0eUNoYW5uZWxJZCxcbiAgICBBZ29yaWNUb0VseXNDaGFubmVsOiB0cmFuc2ZlckNoYW5uZWxBZ29yaWNFbHlzLmNoYW5uZWxJZCxcbiAgICBzdERlbm9tT25FbHlzVG9ob3N0VG9BZ29yaWNDaGFubmVsTWFwLFxuICAgIGFnb3JpY0JlY2gzMlByZWZpeCxcbiAgICBzdHJpZGVCZWNoMzJQcmVmaXgsXG4gICAgZWx5c0JlY2gzMlByZWZpeCxcbiAgICBmZWVDb25maWcsXG4gIH07XG4gIGNvbnN0IHRhcCA9IG1ha2VTdHJpZGVTdGFraW5nVGFwKHMpO1xuXG4gIC8vXG4gIGF3YWl0IGxvY2FsQWNjb3VudC5tb25pdG9yVHJhbnNmZXJzKHRhcCk7XG5cbiAgcmV0dXJuIGxvY2FsQWNjb3VudDtcbn07JGjNj19vbmNlLm1ha2VJQ0FIb29rQWNjb3VudHMobWFrZUlDQUhvb2tBY2NvdW50cyk7XG5oYXJkZW4obWFrZUlDQUhvb2tBY2NvdW50cyk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbi8vXG4gICAgICAgY29uc3QgdG9rZW5Nb3ZlbWVudEFuZFN0cmlkZUxTREZsb3cgPSBhc3luYyAoXG4gIG9yY2gsXG4gIGN0eCxcbiAgaW5jb21pbmdJYmNUcmFuc2ZlckV2ZW50LFxuICBsb2NhbEFjY291bnQsXG4gIGxvY2FsQWNjb3VudEFkZHJlc3MsXG4gIHN0cmlkZUlDQUFjY291bnQsXG4gIHN0cmlkZUlDQUFkZHJlc3MsXG4gIGVseXNJQ0FBY2NvdW50LFxuICBlbHlzSUNBQWRkcmVzcyxcbiAgc3VwcG9ydGVkSG9zdENoYWlucyxcbiAgZWx5c1RvQWdvcmljQ2hhbm5lbCxcbiAgQWdvcmljVG9FbHlzQ2hhbm5lbCxcbiAgc3REZW5vbU9uRWx5c1RvaG9zdFRvQWdvcmljQ2hhbm5lbE1hcCxcbiAgYWdvcmljQmVjaDMyUHJlZml4LFxuICBzdHJpZGVCZWNoMzJQcmVmaXgsXG4gIGVseXNCZWNoMzJQcmVmaXgsXG4gIGZlZUNvbmZpZyxcbikgPT4ge1xuICAvL1xuICAvL1xuICBjb25zdCBzdGFrZVRvU3RyaWRlID0gc3VwcG9ydGVkSG9zdENoYWlucy5oYXMoXG4gICAgaW5jb21pbmdJYmNUcmFuc2ZlckV2ZW50LnBhY2tldC5zb3VyY2VfY2hhbm5lbCxcbiAgKTtcbiAgY29uc3QgcmVkZWVtRnJvbVN0cmlkZSA9XG4gICAgaW5jb21pbmdJYmNUcmFuc2ZlckV2ZW50LnBhY2tldC5zb3VyY2VfY2hhbm5lbCA9PT0gZWx5c1RvQWdvcmljQ2hhbm5lbDtcbiAgaWYgKCFzdGFrZVRvU3RyaWRlICYmICFyZWRlZW1Gcm9tU3RyaWRlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdHggPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgSlNPTi5wYXJzZShhdG9iKGluY29taW5nSWJjVHJhbnNmZXJFdmVudC5wYWNrZXQuZGF0YSkpXG4gICk7XG5cbiAgdHJhY2UoJ1JlY2VpdmVkIEZ1bmdpYmxlIFRva2VuIFBhY2tldCBEYXRhJywgdHgpO1xuXG4gIC8vXG4gIGlmICh0eC5yZWNlaXZlciAhPT0gbG9jYWxBY2NvdW50QWRkcmVzcy52YWx1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHNlbmRlckFnb3JpY0FkZHJlc3MgPSBkZXJpdmVBZGRyZXNzKHR4LnNlbmRlciwgYWdvcmljQmVjaDMyUHJlZml4KTtcbiAgY29uc3Qgc2VuZGVyU3RyaWRlQWRkcmVzcyA9IGRlcml2ZUFkZHJlc3ModHguc2VuZGVyLCBzdHJpZGVCZWNoMzJQcmVmaXgpO1xuICBjb25zdCBzZW5kZXJFbHlzQWRkcmVzcyA9IGRlcml2ZUFkZHJlc3ModHguc2VuZGVyLCBlbHlzQmVjaDMyUHJlZml4KTtcblxuICBjb25zdCBzZW5kZXJBZ29yaWNDaGFpbkFkZHJlc3MgPSB7XG4gICAgY2hhaW5JZDogbG9jYWxBY2NvdW50QWRkcmVzcy5jaGFpbklkLFxuICAgIGVuY29kaW5nOiBsb2NhbEFjY291bnRBZGRyZXNzLmVuY29kaW5nLFxuICAgIHZhbHVlOiBzZW5kZXJBZ29yaWNBZGRyZXNzLFxuICB9O1xuICBjb25zdCBzZW5kZXJTdHJpZGVDaGFpbkFkZHJlc3MgPSB7XG4gICAgY2hhaW5JZDogc3RyaWRlSUNBQWRkcmVzcy5jaGFpbklkLFxuICAgIGVuY29kaW5nOiBzdHJpZGVJQ0FBZGRyZXNzLmVuY29kaW5nLFxuICAgIHZhbHVlOiBzZW5kZXJTdHJpZGVBZGRyZXNzLFxuICB9O1xuICBjb25zdCBzZW5kZXJFbHlzQ2hhaW5BZGRyZXNzID0ge1xuICAgIGNoYWluSWQ6IGVseXNJQ0FBZGRyZXNzLmNoYWluSWQsXG4gICAgZW5jb2Rpbmc6IGVseXNJQ0FBZGRyZXNzLmVuY29kaW5nLFxuICAgIHZhbHVlOiBzZW5kZXJFbHlzQWRkcmVzcyxcbiAgfTtcblxuICAvL1xuICBhd2FpdCBudWxsO1xuXG4gIC8vXG4gIGlmIChzdGFrZVRvU3RyaWRlICYmICFyZWRlZW1Gcm9tU3RyaWRlKSB7XG4gICAgY29uc3QgaG9zdENoYWluSW5mbyA9IHN1cHBvcnRlZEhvc3RDaGFpbnMuZ2V0KFxuICAgICAgaW5jb21pbmdJYmNUcmFuc2ZlckV2ZW50LnBhY2tldC5zb3VyY2VfY2hhbm5lbCxcbiAgICApO1xuXG4gICAgaWYgKHR4LmRlbm9tICE9PSBob3N0Q2hhaW5JbmZvLm5hdGl2ZURlbm9tKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBpbmNvbWluZ1Rva2VuQW1vdW50O1xuICAgIGNvbnN0IGluY29taW5nVG9rZW5JQkNEZW5vbSA9IGhvc3RDaGFpbkluZm8uaWJjRGVub21PbkFnb3JpYztcbiAgICB0cnkge1xuICAgICAgaW5jb21pbmdUb2tlbkFtb3VudCA9IEJpZ0ludCh0eC5hbW91bnQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0cmFjZSgnRXJyb3IgY29udmVydGluZyB0eC5hbW91bnQgdG8gQmlnSW50JywgZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBhbW91bnRBZnRlckZlZURlZHVjdGlvbjtcbiAgICAvL1xuICAgIHRyeSB7XG4gICAgICBhbW91bnRBZnRlckZlZURlZHVjdGlvbiA9IGF3YWl0IGRlZHVjdGVkRmVlQW1vdW50KFxuICAgICAgICBsb2NhbEFjY291bnQsXG4gICAgICAgIGZlZUNvbmZpZyxcbiAgICAgICAgaW5jb21pbmdUb2tlbkFtb3VudCxcbiAgICAgICAgaW5jb21pbmdUb2tlbklCQ0Rlbm9tLFxuICAgICAgICB0cnVlLFxuICAgICAgKTtcbiAgICAgIHRyYWNlKCdhbW91bnQgYWZ0ZXIgZmVlIGRlZHVjdGlvbicsIGFtb3VudEFmdGVyRmVlRGVkdWN0aW9uKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdHJhY2UoJ0Vycm9yIGRlZHVjdGluZyBmZWVzJywgZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG1vdmVUb0hvc3RDaGFpbihcbiAgICAgICAgbG9jYWxBY2NvdW50LFxuICAgICAgICBob3N0Q2hhaW5JbmZvLmhvc3RJQ0FBY2NvdW50QWRkcmVzcyxcbiAgICAgICAgaG9zdENoYWluSW5mby5pYmNEZW5vbU9uQWdvcmljLFxuICAgICAgICBhbW91bnRBZnRlckZlZURlZHVjdGlvbixcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGF3YWl0IGhhbmRsZVRyYW5zZmVyRmFpbHVyZShcbiAgICAgICAgbG9jYWxBY2NvdW50LFxuICAgICAgICBzZW5kZXJBZ29yaWNDaGFpbkFkZHJlc3MsXG4gICAgICAgIGhvc3RDaGFpbkluZm8uaWJjRGVub21PbkFnb3JpYyxcbiAgICAgICAgYW1vdW50QWZ0ZXJGZWVEZWR1Y3Rpb24sXG4gICAgICAgIGBNb3ZpbmcgdG9rZW5zIGZyb20gYWdvcmljIHRvIGhvc3QtY2hhaW4gZmFpbGVkIHdpdGggZXJyb3I6ICR7ZXJyb3J9LCBzZW5kaW5nIGl0IHRvIHVzZXJzIHdhbGxldCBvbiBhZ29yaWMgY2hhaW5gLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy9cbiAgICBjb25zdCBzZW5kZXJIb3N0Q2hhaW5BZGRyZXNzID0ge1xuICAgICAgY2hhaW5JZDogaG9zdENoYWluSW5mby5ob3N0SUNBQWNjb3VudEFkZHJlc3MuY2hhaW5JZCxcbiAgICAgIGVuY29kaW5nOiBob3N0Q2hhaW5JbmZvLmhvc3RJQ0FBY2NvdW50QWRkcmVzcy5lbmNvZGluZyxcbiAgICAgIHZhbHVlOiB0eC5zZW5kZXIsXG4gICAgfTtcbiAgICB0cnkge1xuICAgICAgdHJhY2UoJ01vdmluZyB0b2tlbnMgdG8gc3RyaWRlIGZyb20gaG9zdC1jaGFpbicpO1xuICAgICAgYXdhaXQgaG9zdENoYWluSW5mby5ob3N0SUNBQWNjb3VudC50cmFuc2ZlcihzdHJpZGVJQ0FBZGRyZXNzLCB7XG4gICAgICAgIGRlbm9tOiB0eC5kZW5vbSxcbiAgICAgICAgdmFsdWU6IGFtb3VudEFmdGVyRmVlRGVkdWN0aW9uLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGF3YWl0IGhhbmRsZVRyYW5zZmVyRmFpbHVyZShcbiAgICAgICAgaG9zdENoYWluSW5mby5ob3N0SUNBQWNjb3VudCxcbiAgICAgICAgc2VuZGVySG9zdENoYWluQWRkcmVzcyxcbiAgICAgICAgdHguZGVub20sXG4gICAgICAgIGFtb3VudEFmdGVyRmVlRGVkdWN0aW9uLFxuICAgICAgICBgTW92aW5nIHRva2VucyB0byBzdHJpZGUgZnJvbSBob3N0LWNoYWluIGZhaWxlZCB3aXRoIGVycm9yOiAke2Vycm9yfSwgc2VuZGluZyBpdCB0byB1c2VycyB3YWxsZXQgb24gaG9zdCBjaGFpbmAsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvL1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBsZXQgc3Rha2luZ1Jlc3BvbnNlO1xuICAgIHRyeSB7XG4gICAgICBzdGFraW5nUmVzcG9uc2UgPSBhd2FpdCBsaXF1aWRTdGFrZU9uU3RyaWRlKFxuICAgICAgICBzdHJpZGVJQ0FBY2NvdW50LFxuICAgICAgICBzdHJpZGVJQ0FBZGRyZXNzLFxuICAgICAgICBhbW91bnRBZnRlckZlZURlZHVjdGlvbixcbiAgICAgICAgdHguZGVub20sXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhd2FpdCBoYW5kbGVUcmFuc2ZlckZhaWx1cmUoXG4gICAgICAgIHN0cmlkZUlDQUFjY291bnQsXG4gICAgICAgIHNlbmRlclN0cmlkZUNoYWluQWRkcmVzcyxcbiAgICAgICAgaG9zdENoYWluSW5mby5pYmNEZW5vbU9uU3RyaWRlLFxuICAgICAgICBhbW91bnRBZnRlckZlZURlZHVjdGlvbixcbiAgICAgICAgYExpcXVpZCBzdGFraW5nIGZhaWxlZCB3aXRoIGVycm9yOiAke2Vycm9yfSwgc2VuZGluZyB0b2tlbnMgdG8gdXNlcnMgd2FsbGV0IG9uIHN0cmlkZSBjaGFpbmAsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvL1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBtb3ZlU3RUb2tlbnNUb0VseXMoXG4gICAgICAgIHN0cmlkZUlDQUFjY291bnQsXG4gICAgICAgIHNlbmRlckVseXNDaGFpbkFkZHJlc3MsXG4gICAgICAgIHN0YWtpbmdSZXNwb25zZS5zdFRva2VuLFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYXdhaXQgaGFuZGxlVHJhbnNmZXJGYWlsdXJlKFxuICAgICAgICBzdHJpZGVJQ0FBY2NvdW50LFxuICAgICAgICBzZW5kZXJTdHJpZGVDaGFpbkFkZHJlc3MsXG4gICAgICAgIHN0YWtpbmdSZXNwb25zZS5zdFRva2VuLmRlbm9tLFxuICAgICAgICBCaWdJbnQoc3Rha2luZ1Jlc3BvbnNlLnN0VG9rZW4uYW1vdW50KSxcbiAgICAgICAgYE1vdmluZyBzdFRva2VucyB0byBlbHlzIGZyb20gc3RyaWRlIGNoYWluIGZhaWxlZCB3aXRoIGVycm9yOiAke2Vycm9yfSwgc2VuZGluZyBpdCB0byB1c2VycyB3YWxsZXQgb24gc3RyaWRlIGNoYWluYCxcbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGhvc3RUb0Fnb3JpY0NoYW5uZWwgPSBzdERlbm9tT25FbHlzVG9ob3N0VG9BZ29yaWNDaGFubmVsTWFwLmdldChcbiAgICAgIHR4LmRlbm9tLFxuICAgICk7XG5cbiAgICBjb25zdCBob3N0Q2hhaW4gPSBzdXBwb3J0ZWRIb3N0Q2hhaW5zLmdldChob3N0VG9BZ29yaWNDaGFubmVsKTtcblxuICAgIGxldCBpbmNvbWluZ1N0VG9rZW5BbW91bnQ7XG4gICAgdHJ5IHtcbiAgICAgIGluY29taW5nU3RUb2tlbkFtb3VudCA9IEJpZ0ludCh0eC5hbW91bnQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0cmFjZSgnRXJyb3IgY29udmVydGluZyB0eC5hbW91bnQgdG8gQmlnSW50JywgZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGliY0Rlbm9tT25BZ29yaWNGcm9tRWx5cyA9IGBpYmMvJHtkZW5vbUhhc2goeyBkZW5vbTogYCR7dHguZGVub219YCwgY2hhbm5lbElkOiBBZ29yaWNUb0VseXNDaGFubmVsIH0pfWA7XG4gICAgdHJhY2UoYExpcXVpZFN0YWtlUmVkZWVtOiBSZWNlaXZlZCAke3R4LmRlbm9tfWApO1xuICAgIHRyYWNlKGBMaXF1aWRTdGFrZVJlZGVlbTogTW92aW5nICR7aWJjRGVub21PbkFnb3JpY0Zyb21FbHlzfSB0byBlbHlzIElDQWApO1xuXG4gICAgbGV0IGFtb3VudEFmdGVyRmVlRGVkdWN0aW9uO1xuICAgIC8vXG4gICAgdHJ5IHtcbiAgICAgIGFtb3VudEFmdGVyRmVlRGVkdWN0aW9uID0gYXdhaXQgZGVkdWN0ZWRGZWVBbW91bnQoXG4gICAgICAgIGxvY2FsQWNjb3VudCxcbiAgICAgICAgZmVlQ29uZmlnLFxuICAgICAgICBpbmNvbWluZ1N0VG9rZW5BbW91bnQsXG4gICAgICAgIGliY0Rlbm9tT25BZ29yaWNGcm9tRWx5cyxcbiAgICAgICAgZmFsc2UsXG4gICAgICApO1xuICAgICAgdHJhY2UoJ2Ftb3VudCBhZnRlciBmZWUgZGVkdWN0aW9uJywgYW1vdW50QWZ0ZXJGZWVEZWR1Y3Rpb24pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0cmFjZSgnRXJyb3IgZGVkdWN0aW5nIGZlZXMnLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy9cbiAgICB0cnkge1xuICAgICAgYXdhaXQgbG9jYWxBY2NvdW50LnRyYW5zZmVyKGVseXNJQ0FBZGRyZXNzLCB7XG4gICAgICAgIGRlbm9tOiBpYmNEZW5vbU9uQWdvcmljRnJvbUVseXMsXG4gICAgICAgIHZhbHVlOiBhbW91bnRBZnRlckZlZURlZHVjdGlvbixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhd2FpdCBoYW5kbGVUcmFuc2ZlckZhaWx1cmUoXG4gICAgICAgIGxvY2FsQWNjb3VudCxcbiAgICAgICAgc2VuZGVyQWdvcmljQ2hhaW5BZGRyZXNzLFxuICAgICAgICBpYmNEZW5vbU9uQWdvcmljRnJvbUVseXMsXG4gICAgICAgIGFtb3VudEFmdGVyRmVlRGVkdWN0aW9uLFxuICAgICAgICBgTW92aW5nIHN0VG9rZW5zIHRvIGVseXMgSUNBIGZyb20gYWdvcmljIGNoYWluIGZhaWxlZCB3aXRoIGVycm9yOiAke2Vycm9yfSwgc2VuZGluZyBpdCB0byB1c2VycyB3YWxsZXQgb24gYWdvcmljIGNoYWluYCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGVseXNJQ0FBY2NvdW50LnRyYW5zZmVyKHN0cmlkZUlDQUFkZHJlc3MsIHtcbiAgICAgICAgZGVub206IHR4LmRlbm9tLFxuICAgICAgICB2YWx1ZTogYW1vdW50QWZ0ZXJGZWVEZWR1Y3Rpb24sXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYXdhaXQgaGFuZGxlVHJhbnNmZXJGYWlsdXJlKFxuICAgICAgICBlbHlzSUNBQWNjb3VudCxcbiAgICAgICAgc2VuZGVyRWx5c0NoYWluQWRkcmVzcyxcbiAgICAgICAgdHguZGVub20sXG4gICAgICAgIGFtb3VudEFmdGVyRmVlRGVkdWN0aW9uLFxuICAgICAgICBgTW92aW5nIHN0VG9rZW5zIHRvIHN0cmlkZSBJQ0EgZnJvbSBlbHlzIElDQSBmYWlsZWQgd2l0aCBlcnJvcjogJHtlcnJvcn0sIHNlbmRpbmcgaXQgdG8gdXNlcnMgd2FsbGV0IG9uIGVseXMgY2hhaW5gLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy9cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VuZGVyTmF0aXZlQWRkcmVzcyA9IGRlcml2ZUFkZHJlc3MoXG4gICAgICAgIHR4LnNlbmRlcixcbiAgICAgICAgaG9zdENoYWluLmJlY2gzMlByZWZpeCxcbiAgICAgICk7XG4gICAgICB0cmFjZShcbiAgICAgICAgYERlcml2ZWQgTmF0aXZlIGFkZHJlc3MgZnJvbSBlbHlzIGFkZHJlc3MgJHt0eC5zZW5kZXJ9IGlzICR7c2VuZGVyTmF0aXZlQWRkcmVzc31gLFxuICAgICAgKTtcblxuICAgICAgYXdhaXQgcmVkZWVtT25TdHJpZGUoXG4gICAgICAgIHN0cmlkZUlDQUFjY291bnQsXG4gICAgICAgIHN0cmlkZUlDQUFkZHJlc3MsXG4gICAgICAgIHR4LmFtb3VudCxcbiAgICAgICAgaG9zdENoYWluLmhvc3RJQ0FBY2NvdW50QWRkcmVzcy5jaGFpbklkLFxuICAgICAgICBzZW5kZXJOYXRpdmVBZGRyZXNzLFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYXdhaXQgaGFuZGxlVHJhbnNmZXJGYWlsdXJlKFxuICAgICAgICBzdHJpZGVJQ0FBY2NvdW50LFxuICAgICAgICBzZW5kZXJTdHJpZGVDaGFpbkFkZHJlc3MsXG4gICAgICAgIGBzdCR7aG9zdENoYWluLm5hdGl2ZURlbm9tfWAsXG4gICAgICAgIGFtb3VudEFmdGVyRmVlRGVkdWN0aW9uLFxuICAgICAgICBgVW5zdGFraW5nIG9uIHN0cmlkZSBmYWlsZWQgd2l0aCBlcnJvcjogJHtlcnJvcn0sIHNlbmRpbmcgaXQgdG8gdXNlcnMgd2FsbGV0IG9uIHN0cmlkZSBjaGFpbmAsXG4gICAgICApO1xuICAgIH1cbiAgfVxufTskaM2PX29uY2UudG9rZW5Nb3ZlbWVudEFuZFN0cmlkZUxTREZsb3codG9rZW5Nb3ZlbWVudEFuZFN0cmlkZUxTREZsb3cpO1xuaGFyZGVuKHRva2VuTW92ZW1lbnRBbmRTdHJpZGVMU0RGbG93KTtcblxuY29uc3QgZGVyaXZlQWRkcmVzcyA9IChzZW5kZXIsIGhycCkgPT4ge1xuICBjb25zdCB7IGJ5dGVzIH0gPSBkZWNvZGVCZWNoMzIoc2VuZGVyKTtcbiAgY29uc3QgZGVyaXZlZEFkZHJlc3MgPSBlbmNvZGVCZWNoMzIoaHJwLCBieXRlcyk7XG4gIHJldHVybiBoYXJkZW4oZGVyaXZlZEFkZHJlc3MpO1xufTtcbmhhcmRlbihkZXJpdmVBZGRyZXNzKTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGhhbmRsZVRyYW5zZmVyRmFpbHVyZSA9IGFzeW5jIChcbiAgYWNjb3VudCxcbiAgYWRkcmVzcyxcbiAgZGVub20sXG4gIGFtb3VudCxcbiAgdHJhY2VNZXNzYWdlLFxuKSA9PiB7XG4gIHRyYWNlKHRyYWNlTWVzc2FnZSk7XG5cbiAgLy9cbiAgYXdhaXQgbnVsbDtcblxuICB0cnkge1xuICAgIGF3YWl0IGFjY291bnQuc2VuZChhZGRyZXNzLCB7IGRlbm9tLCB2YWx1ZTogYW1vdW50IH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRyYWNlKFxuICAgICAgYEZhaWxlZCB0byBzZW5kIHRva2VucyB0byAke2FkZHJlc3MudmFsdWV9LCBkZW5vbTogJHtkZW5vbX0sIGFtb3VudDogJHthbW91bnR9YCxcbiAgICAgIGVycm9yLFxuICAgICk7XG4gIH1cbn07XG5oYXJkZW4oaGFuZGxlVHJhbnNmZXJGYWlsdXJlKTtcbi8qXG5cblxuXG5cbiAqL1xuY29uc3QgbW92ZVRvSG9zdENoYWluID0gYXN5bmMgKFxuICBsb2NhbEFjY291bnQsXG4gIGhvc3RJQ0FBY2NvdW50QWRkcmVzcyxcbiAgaWJjRGVub21PbkFnb3JpYyxcbiAgYW1vdW50LFxuKSA9PiB7XG4gIHRyYWNlKCdNb3ZpbmcgZnVuZHMgdG8gaG9zdC1jaGFpbicpO1xuICB0cmFjZSgnaG9zdElDQUFkZHJlc3MgJywgaG9zdElDQUFjY291bnRBZGRyZXNzKTtcbiAgdHJhY2UoJ2liY0Rlbm9tT25BZ29yaWMgJywgaWJjRGVub21PbkFnb3JpYyk7XG4gIHRyYWNlKCdhbW91bnQnLCBhbW91bnQpO1xuXG4gIGF3YWl0IGxvY2FsQWNjb3VudC50cmFuc2Zlcihob3N0SUNBQWNjb3VudEFkZHJlc3MsIHtcbiAgICBkZW5vbTogaWJjRGVub21PbkFnb3JpYyxcbiAgICB2YWx1ZTogYW1vdW50LFxuICB9KTtcbiAgdHJhY2UoJ2Z1bmRzIG1vdmVkIHRvIGhvc3QtY2hhaW4sICcsIGhvc3RJQ0FBY2NvdW50QWRkcmVzcy5jaGFpbklkKTtcbn07XG5oYXJkZW4obW92ZVRvSG9zdENoYWluKTtcbi8qXG5cblxuXG5cblxuICovXG5jb25zdCBsaXF1aWRTdGFrZU9uU3RyaWRlID0gYXN5bmMgKFxuICBzdHJpZGVJQ0FBY2NvdW50LFxuICBzdHJpZGVJQ0FBZGRyZXNzLFxuICBhbW91bnQsXG4gIGRlbm9tLFxuKSA9PiB7XG4gIGNvbnN0IHN0cmlkZUxpcXVpZFN0YWtlTXNnID0gQW55LnRvSlNPTihcbiAgICBNc2dMaXF1aWRTdGFrZS50b1Byb3RvTXNnKHtcbiAgICAgIGNyZWF0b3I6IHN0cmlkZUlDQUFkZHJlc3MudmFsdWUsXG4gICAgICBhbW91bnQ6IGFtb3VudC50b1N0cmluZygpLFxuICAgICAgaG9zdERlbm9tOiBkZW5vbSxcbiAgICB9KSxcbiAgKTtcblxuICB0cmFjZSgnQ2FsbGluZyBsaXF1aWQgc3Rha2UnKTtcbiAgY29uc3Qgc3Rha2luZ1Jlc3BvbnNlID0gYXdhaXQgc3RyaWRlSUNBQWNjb3VudC5leGVjdXRlRW5jb2RlZFR4KFtcbiAgICBzdHJpZGVMaXF1aWRTdGFrZU1zZyxcbiAgXSk7XG4gIHJldHVybiBoYXJkZW4oXG4gICAgdHJ5RGVjb2RlUmVzcG9uc2Uoc3Rha2luZ1Jlc3BvbnNlLCBNc2dMaXF1aWRTdGFrZVJlc3BvbnNlLmZyb21Qcm90b01zZyksXG4gICk7XG59O1xuaGFyZGVuKGxpcXVpZFN0YWtlT25TdHJpZGUpO1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBtb3ZlU3RUb2tlbnNUb0VseXMgPSBhc3luYyAoXG4gIHN0cmlkZUlDQUFjY291bnQsXG4gIHNlbmRlckVseXNDaGFpbkFkZHJlc3MsXG4gIHN0VG9rZW4sXG4pID0+IHtcbiAgdHJhY2UoJ01vdmluZyBzdFRva2VucyB0byBlbHlzIGZyb20gc3RyaWRlJyk7XG4gIGF3YWl0IHN0cmlkZUlDQUFjY291bnQudHJhbnNmZXIoc2VuZGVyRWx5c0NoYWluQWRkcmVzcywge1xuICAgIGRlbm9tOiBzdFRva2VuLmRlbm9tLFxuICAgIHZhbHVlOiBCaWdJbnQoc3RUb2tlbi5hbW91bnQpLFxuICB9KTtcbn07XG5oYXJkZW4obW92ZVN0VG9rZW5zVG9FbHlzKTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuY29uc3QgcmVkZWVtT25TdHJpZGUgPSBhc3luYyAoXG4gIHN0cmlkZUlDQUFjY291bnQsXG4gIHN0cmlkZUlDQUFkZHJlc3MsXG4gIGFtb3VudCxcbiAgaG9zdFpvbmUsXG4gIHJlY2VpdmVyLFxuKSA9PiB7XG4gIGNvbnN0IHN0cmlkZVJlZGVlbVN0YWtlTXNnID0gQW55LnRvSlNPTihcbiAgICBNc2dSZWRlZW1TdGFrZS50b1Byb3RvTXNnKHtcbiAgICAgIGNyZWF0b3I6IHN0cmlkZUlDQUFkZHJlc3MudmFsdWUsXG4gICAgICBhbW91bnQsXG4gICAgICBob3N0Wm9uZSxcbiAgICAgIHJlY2VpdmVyLFxuICAgIH0pLFxuICApO1xuXG4gIC8vXG4gIGF3YWl0IG51bGw7XG5cbiAgYXdhaXQgc3RyaWRlSUNBQWNjb3VudC5leGVjdXRlRW5jb2RlZFR4KFtzdHJpZGVSZWRlZW1TdGFrZU1zZ10pO1xufTtcbmhhcmRlbihyZWRlZW1PblN0cmlkZSk7XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGRlZHVjdGVkRmVlQW1vdW50ID0gYXN5bmMgKFxuICBhY2NvdW50LFxuICBmZWVDb25maWcsXG4gIGFtb3VudCxcbiAgZGVub20sXG4gIG9uQm9hcmQsXG4pID0+IHtcbiAgbGV0IGZlZUFtb3VudDtcbiAgaWYgKG9uQm9hcmQpIHtcbiAgICBmZWVBbW91bnQgPVxuICAgICAgKGFtb3VudCAqIGZlZUNvbmZpZy5vbkJvYXJkUmF0ZS5ub21pbmF0b3IpIC9cbiAgICAgIGZlZUNvbmZpZy5vbkJvYXJkUmF0ZS5kZW5vbWluYXRvcjtcbiAgfSBlbHNlIHtcbiAgICBmZWVBbW91bnQgPVxuICAgICAgKGFtb3VudCAqIGZlZUNvbmZpZy5vZmZCb2FyZFJhdGUubm9taW5hdG9yKSAvXG4gICAgICBmZWVDb25maWcub2ZmQm9hcmRSYXRlLmRlbm9taW5hdG9yO1xuICB9XG5cbiAgY29uc3QgZmluYWxBbW91bnQgPSBhbW91bnQgLSBmZWVBbW91bnQ7XG4gIGlmIChmaW5hbEFtb3VudCA8IDApIHtcbiAgICB0aHJvdyBGYWlsYEZlZSBpcyBtb3JlIHRoYW4gdGhlIGFtb3VudGA7XG4gIH1cblxuICBjb25zdCBmZWVSZWNlaXZlckNoYWluQWRkcmVzcyA9IHtcbiAgICBjaGFpbklkOiBhY2NvdW50LmdldEFkZHJlc3MoKS5jaGFpbklkLFxuICAgIGVuY29kaW5nOiBhY2NvdW50LmdldEFkZHJlc3MoKS5lbmNvZGluZyxcbiAgICB2YWx1ZTogZmVlQ29uZmlnLmZlZUNvbGxlY3RvcixcbiAgfTtcblxuICB0cmFjZShgc2VuZGluZyBmZWUgYW1vdW50ICR7ZmVlQW1vdW50fSB0byAke2ZlZUNvbmZpZy5mZWVDb2xsZWN0b3J9YCk7XG4gIGF3YWl0IGFjY291bnQuc2VuZChmZWVSZWNlaXZlckNoYWluQWRkcmVzcywge1xuICAgIGRlbm9tLFxuICAgIHZhbHVlOiBmZWVBbW91bnQsXG4gIH0pO1xuICB0cmFjZSgnZmVlIHNlbnQgdG8gZmVlIGNvbGxlY3RvcicpO1xuICByZXR1cm4gaGFyZGVuKGZpbmFsQW1vdW50KTtcbn07XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlSUNBSG9va0FjY291bnRzIjpbIm1ha2VJQ0FIb29rQWNjb3VudHMiXSwidG9rZW5Nb3ZlbWVudEFuZFN0cmlkZUxTREZsb3ciOlsidG9rZW5Nb3ZlbWVudEFuZFN0cmlkZUxTREZsb3ciXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAO6JGgmUYAABlGAAAOgAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4YW1wbGVzL2VseXMuY29udHJhY3QuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9pbnRlcm5hbCIsIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2ZhciIsIkBlbmRvL3BhdHRlcm5zIiwiQGFnb3JpYy92b3ciLCIuLi91dGlscy9jaGFpbi1odWItaGVscGVyLmpzIiwiLi4vZXhvcy9jaGFpbi1odWItYWRtaW4uanMiLCIuLi91dGlscy9zdGFydC1oZWxwZXIuanMiLCIuL2VseXMtY29udHJhY3QuZmxvd3MuanMiLCIuL2VseXMtY29udHJhY3QtdHlwZS1nYXVyZC5qcyIsIi4uL3R5cGVHdWFyZHMuanMiXSwiZXhwb3J0cyI6WyJzdGFydCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VUcmFjZXIsRmFpbCxFLE0sbXVzdE1hdGNoLFZvd1NoYXBlLHJlZ2lzdGVyQ2hhaW5zQW5kQXNzZXRzLHByZXBhcmVDaGFpbkh1YkFkbWluLHdpdGhPcmNoZXN0cmF0aW9uLGZsb3dzLEZlZUNvbmZpZ1NoYXBlLHZhbGlkYXRlRmVlQ29uZmlnU2hhcGUsQ2hhaW5BZGRyZXNzU2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJtYWtlVHJhY2VyXCIsWyRozY9fYSA9PiAobWFrZVRyYWNlciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dLFtcIm11c3RNYXRjaFwiLFskaM2PX2EgPT4gKG11c3RNYXRjaCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdm93XCIsIFtbXCJWb3dTaGFwZVwiLFskaM2PX2EgPT4gKFZvd1NoYXBlID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvY2hhaW4taHViLWhlbHBlci5qc1wiLCBbW1wicmVnaXN0ZXJDaGFpbnNBbmRBc3NldHNcIixbJGjNj19hID0+IChyZWdpc3RlckNoYWluc0FuZEFzc2V0cyA9ICRozY9fYSldXV1dLFtcIi4uL2V4b3MvY2hhaW4taHViLWFkbWluLmpzXCIsIFtbXCJwcmVwYXJlQ2hhaW5IdWJBZG1pblwiLFskaM2PX2EgPT4gKHByZXBhcmVDaGFpbkh1YkFkbWluID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvc3RhcnQtaGVscGVyLmpzXCIsIFtbXCJ3aXRoT3JjaGVzdHJhdGlvblwiLFskaM2PX2EgPT4gKHdpdGhPcmNoZXN0cmF0aW9uID0gJGjNj19hKV1dXV0sW1wiLi9lbHlzLWNvbnRyYWN0LmZsb3dzLmpzXCIsIFtbXCIqXCIsWyRozY9fYSA9PiAoZmxvd3MgPSAkaM2PX2EpXV1dXSxbXCIuL2VseXMtY29udHJhY3QtdHlwZS1nYXVyZC5qc1wiLCBbW1wiRmVlQ29uZmlnU2hhcGVcIixbJGjNj19hID0+IChGZWVDb25maWdTaGFwZSA9ICRozY9fYSldXSxbXCJ2YWxpZGF0ZUZlZUNvbmZpZ1NoYXBlXCIsWyRozY9fYSA9PiAodmFsaWRhdGVGZWVDb25maWdTaGFwZSA9ICRozY9fYSldXV1dLFtcIi4uL3R5cGVHdWFyZHMuanNcIiwgW1tcIkNoYWluQWRkcmVzc1NoYXBlXCIsWyRozY9fYSA9PiAoQ2hhaW5BZGRyZXNzU2hhcGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmNvbnN0IHRyYWNlID0gbWFrZVRyYWNlcignQ29udHJhY3RJbnN0YW50aWF0aW9uJyk7XG5cbmNvbnN0IGludGVyZmFjZVRPRE8gPSB1bmRlZmluZWQ7XG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IFN1cHBvcnRlZEhvc3RDaGFpblNoYXBlID0ge1xuICBob3N0VG9BZ29yaWNDaGFubmVsOiBNLnN0cmluZygpLFxuICBuYXRpdmVEZW5vbTogTS5zdHJpbmcoKSxcbiAgaWJjRGVub21PbkFnb3JpYzogTS5zdHJpbmcoKSxcbiAgaWJjRGVub21PblN0cmlkZTogTS5zdHJpbmcoKSxcbiAgaG9zdElDQUFjY291bnQ6IE0uYW55KCksXG4gIGhvc3RJQ0FBY2NvdW50QWRkcmVzczogQ2hhaW5BZGRyZXNzU2hhcGUsXG4gIGJlY2gzMlByZWZpeDogTS5zdHJpbmcoKSxcbn07XG5oYXJkZW4oU3VwcG9ydGVkSG9zdENoYWluU2hhcGUpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBTdGFraW5nVGFwU3RhdGVTaGFwZSA9IHtcbiAgbG9jYWxBY2NvdW50OiBNLmFueSgpLFxuICBsb2NhbEFjY291bnRBZGRyZXNzOiBDaGFpbkFkZHJlc3NTaGFwZSxcbiAgc3RyaWRlSUNBQWNjb3VudDogTS5hbnkoKSxcbiAgc3RyaWRlSUNBQWRkcmVzczogQ2hhaW5BZGRyZXNzU2hhcGUsXG4gIGVseXNJQ0FBY2NvdW50OiBNLmFueSgpLFxuICBlbHlzSUNBQWRkcmVzczogQ2hhaW5BZGRyZXNzU2hhcGUsXG4gIHN1cHBvcnRlZEhvc3RDaGFpbnM6IE0uYW55KCksXG4gIGVseXNUb0Fnb3JpY0NoYW5uZWw6IE0uc3RyaW5nKCksXG4gIEFnb3JpY1RvRWx5c0NoYW5uZWw6IE0uc3RyaW5nKCksXG4gIHN0RGVub21PbkVseXNUb2hvc3RUb0Fnb3JpY0NoYW5uZWxNYXA6IE0uYW55KCksXG4gIGFnb3JpY0JlY2gzMlByZWZpeDogTS5zdHJpbmcoKSxcbiAgc3RyaWRlQmVjaDMyUHJlZml4OiBNLnN0cmluZygpLFxuICBlbHlzQmVjaDMyUHJlZml4OiBNLnN0cmluZygpLFxuICBmZWVDb25maWc6IEZlZUNvbmZpZ1NoYXBlLFxufTtcbmhhcmRlbihTdGFraW5nVGFwU3RhdGVTaGFwZSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgY29udHJhY3QgPSBhc3luYyAoXG4gIHpjZixcbiAgcHJpdmF0ZUFyZ3MsXG4gIHpvbmUsXG4gIHRvb2xzICAvL1xuKSA9PiB7XG4gIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0ZUZlZUNvbmZpZ1NoYXBlKHByaXZhdGVBcmdzLmZlZUNvbmZpZyk7XG4gIGlmICghaXNWYWxpZCkge1xuICAgIHRocm93IEZhaWxgSW52YWxpZCBmZWUgY29uZmlnYDtcbiAgfVxuXG4gIGNvbnN0IHsgY2hhaW5IdWIsIG9yY2hlc3RyYXRlQWxsLCB2b3dUb29scyB9ID0gdG9vbHM7XG5cbiAgLypcblxuICAgKi9cbiAgY29uc3QgbWFrZVN0cmlkZVN0YWtpbmdUYXAgPSB6b25lLmV4b0NsYXNzKFxuICAgICdTdHJpZGVTdGFraW5nVGFwS2l0JyxcbiAgICAvL1xuICAgIE0uaW50ZXJmYWNlKCdTdHJpZGVBdXRvU3Rha2VUYXAnLCB7XG4gICAgICByZWNlaXZlVXBjYWxsOiBNLmNhbGwoTS5yZWNvcmQoKSkucmV0dXJucyhNLm9yKFZvd1NoYXBlLCBNLnVuZGVmaW5lZCgpKSksXG4gICAgfSksXG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGluaXRpYWxTdGF0ZSA9PiB7XG4gICAgICBtdXN0TWF0Y2goaW5pdGlhbFN0YXRlLCBTdGFraW5nVGFwU3RhdGVTaGFwZSk7XG4gICAgICByZXR1cm4gaGFyZGVuKGluaXRpYWxTdGF0ZSk7XG4gICAgfSxcbiAgICB7XG4gICAgICAvKlxuXG4gICAgICAgKi9cbiAgICAgIHJlY2VpdmVVcGNhbGwoZXZlbnQpIHtcbiAgICAgICAgdHJhY2UoJ3JlY2VpdmVVcGNhbGwnLCBldmVudCk7XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICBjb25zdCBsb2NhbEFjY291bnQgPVxuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5sb2NhbEFjY291bnRcbiAgICAgICAgICApO1xuICAgICAgICBjb25zdCBzdHJpZGVJQ0FBY2NvdW50ID1cbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc3RyaWRlSUNBQWNjb3VudFxuICAgICAgICAgICk7XG4gICAgICAgIGNvbnN0IGVseXNJQ0FBY2NvdW50ID1cbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZWx5c0lDQUFjY291bnRcbiAgICAgICAgICApO1xuXG4gICAgICAgIG9yY2hGbnMudG9rZW5Nb3ZlbWVudEFuZFN0cmlkZUxTREZsb3coXG4gICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgbG9jYWxBY2NvdW50LFxuICAgICAgICAgIHN0YXRlLmxvY2FsQWNjb3VudEFkZHJlc3MsXG4gICAgICAgICAgc3RyaWRlSUNBQWNjb3VudCxcbiAgICAgICAgICBzdGF0ZS5zdHJpZGVJQ0FBZGRyZXNzLFxuICAgICAgICAgIGVseXNJQ0FBY2NvdW50LFxuICAgICAgICAgIHN0YXRlLmVseXNJQ0FBZGRyZXNzLFxuICAgICAgICAgIHN0YXRlLnN1cHBvcnRlZEhvc3RDaGFpbnMsXG4gICAgICAgICAgc3RhdGUuZWx5c1RvQWdvcmljQ2hhbm5lbCxcbiAgICAgICAgICBzdGF0ZS5BZ29yaWNUb0VseXNDaGFubmVsLFxuICAgICAgICAgIHN0YXRlLnN0RGVub21PbkVseXNUb2hvc3RUb0Fnb3JpY0NoYW5uZWxNYXAsXG4gICAgICAgICAgc3RhdGUuYWdvcmljQmVjaDMyUHJlZml4LFxuICAgICAgICAgIHN0YXRlLnN0cmlkZUJlY2gzMlByZWZpeCxcbiAgICAgICAgICBzdGF0ZS5lbHlzQmVjaDMyUHJlZml4LFxuICAgICAgICAgIHN0YXRlLmZlZUNvbmZpZyxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICBjb25zdCBvcmNoRm5zID0gb3JjaGVzdHJhdGVBbGwoZmxvd3MsIHtcbiAgICBtYWtlU3RyaWRlU3Rha2luZ1RhcCxcbiAgICBjaGFpbkh1YixcbiAgfSk7XG5cblxuXG4gIHJlZ2lzdGVyQ2hhaW5zQW5kQXNzZXRzKFxuICAgIGNoYWluSHViLFxuICAgIHpjZi5nZXRUZXJtcygpLmJyYW5kcyxcbiAgICBwcml2YXRlQXJncy5jaGFpbkluZm8sXG4gICAgcHJpdmF0ZUFyZ3MuYXNzZXRJbmZvLFxuICApO1xuXG4gIGNvbnN0IHBhc3NhYmxlc3VwcG9ydGVkSG9zdENoYWlucyA9IHpvbmUubWFwU3RvcmUoJ3N1cHBvcnRlZEhvc3RDaGFpbnMnKTtcbiAgY29uc3Qgc3REZW5vbU9uRWx5c1RvaG9zdFRvQWdvcmljQ2hhbm5lbE1hcCA9IHpvbmUubWFwU3RvcmUoXG4gICAgJ3N0RGVub21PbkVseXNUb0hvc3RDaGFubmVsTWFwJyxcbiAgKTtcblxuICBjb25zdCBpY2FBbmRMb2NhbEFjY291bnQgPSB6b25lLm1ha2VPbmNlKCdpY2FBbmRMb2NhbEFjY291bnQnLCBfa2V5ID0+XG4gICAgb3JjaEZucy5tYWtlSUNBSG9va0FjY291bnRzKHtcbiAgICAgIGNoYWluTmFtZXM6IHByaXZhdGVBcmdzLmFsbG93ZWRDaGFpbnMsXG4gICAgICBzdXBwb3J0ZWRIb3N0Q2hhaW5zOiBwYXNzYWJsZXN1cHBvcnRlZEhvc3RDaGFpbnMsXG4gICAgICBzdERlbm9tT25FbHlzVG9ob3N0VG9BZ29yaWNDaGFubmVsTWFwLFxuICAgICAgZmVlQ29uZmlnOiBwcml2YXRlQXJncy5mZWVDb25maWcsXG4gICAgfSksXG4gICk7XG5cbiAgLy9cbiAgY29uc3QgeyB3aGVuIH0gPSB2b3dUb29scztcblxuXG5cbiAgY29uc3QgYWRkcmVzcyA9IGF3YWl0IEUod2hlbihpY2FBbmRMb2NhbEFjY291bnQpKS5nZXRBZGRyZXNzKCk7XG4gIGNvbnN0IGNyZWF0b3JGYWNldCA9IHpvbmUuZXhvKCdFbHlzIENyZWF0b3InLCB1bmRlZmluZWQsIHtcbiAgICBnZXRMb2NhbEFkZHJlc3MgKCkgeyByZXR1cm4gYWRkcmVzc30sXG4gICAgYXN5bmMgcHJlcGFyZUNoYWluSHViQWRtaW4gKCkgeyByZXR1cm4gcHJlcGFyZUNoYWluSHViQWRtaW4oem9uZSwgY2hhaW5IdWIpOyB9LFxuICB9KTtcbiAgLy9cbiAgLy9cblxuICByZXR1cm4ge1xuICAgIHB1YmxpY0ZhY2V0OiB6b25lLmV4bygnUHVibGljJywgaW50ZXJmYWNlVE9ETywge1xuICAgICAgZ2V0TG9jYWxBZGRyZXNzOiAoKSA9PiBhZGRyZXNzLFxuICAgIH0pLFxuICAgIGNyZWF0b3JGYWNldCxcbiAgfTtcbn07XG5cbiAgICAgICBjb25zdCBzdGFydCA9IHdpdGhPcmNoZXN0cmF0aW9uKGNvbnRyYWN0KTskaM2PX29uY2Uuc3RhcnQoc3RhcnQpO1xuaGFyZGVuKHN0YXJ0KTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsic3RhcnQiOlsic3RhcnQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAUIj2faMIAACjCAAAOAAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvY2hhaW4taHViLWFkbWluLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvdm93L3ZhdC5qcyIsIkBlbmRvL3BhdHRlcm5zIiwiLi4vdHlwZUd1YXJkcy5qcyJdLCJleHBvcnRzIjpbInByZXBhcmVDaGFpbkh1YkFkbWluIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgaGVhcFZvd0UsTSxDaGFpbkluZm9TaGFwZSxEZW5vbURldGFpbFNoYXBlOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy92b3cvdmF0LmpzXCIsIFtbXCJoZWFwVm93RVwiLFskaM2PX2EgPT4gKGhlYXBWb3dFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi4vdHlwZUd1YXJkcy5qc1wiLCBbW1wiQ2hhaW5JbmZvU2hhcGVcIixbJGjNj19hID0+IChDaGFpbkluZm9TaGFwZSA9ICRozY9fYSldXSxbXCJEZW5vbURldGFpbFNoYXBlXCIsWyRozY9fYSA9PiAoRGVub21EZXRhaWxTaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuLypcblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVDaGFpbkh1YkFkbWluID0gKHpvbmUsIGNoYWluSHViKSA9PiB7XG4gIGNvbnN0IENvbm5lY3Rpb25JbmZvU2hhcGUgPSBNLnJlY29yZCgpOyAvL1xuICBjb25zdCBtYWtlQ3JlYXRvckZhY2V0ID0gem9uZS5leG8oXG4gICAgJ0NoYWluSHViIEFkbWluJyxcbiAgICBNLmludGVyZmFjZSgnQ2hhaW5IdWIgQWRtaW4nLCB7XG4gICAgICByZWdpc3RlckNoYWluOiBNLmNhbGxXaGVuKE0uc3RyaW5nKCksIENoYWluSW5mb1NoYXBlKVxuICAgICAgICAub3B0aW9uYWwoQ29ubmVjdGlvbkluZm9TaGFwZSlcbiAgICAgICAgLnJldHVybnMoTS51bmRlZmluZWQoKSksXG4gICAgICByZWdpc3RlckFzc2V0OiBNLmNhbGwoTS5zdHJpbmcoKSwgRGVub21EZXRhaWxTaGFwZSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgfSksXG4gICAge1xuICAgICAgLypcblxuXG5cblxuXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIHJlZ2lzdGVyQ2hhaW4oY2hhaW5OYW1lLCBjaGFpbkluZm8sIGliY0Nvbm5lY3Rpb25JbmZvKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IGFnb3JpY0NoYWluSW5mbyA9IGF3YWl0IGhlYXBWb3dFLndoZW4oXG4gICAgICAgICAgY2hhaW5IdWIuZ2V0Q2hhaW5JbmZvKCdhZ29yaWMnKSxcbiAgICAgICAgKTtcbiAgICAgICAgY2hhaW5IdWIucmVnaXN0ZXJDaGFpbihjaGFpbk5hbWUsIGNoYWluSW5mbyk7XG4gICAgICAgIGlmIChpYmNDb25uZWN0aW9uSW5mbykge1xuICAgICAgICAgIGNoYWluSHViLnJlZ2lzdGVyQ29ubmVjdGlvbihcbiAgICAgICAgICAgIGFnb3JpY0NoYWluSW5mby5jaGFpbklkLFxuICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovIChjaGFpbkluZm8pLmNoYWluSWQsXG4gICAgICAgICAgICBpYmNDb25uZWN0aW9uSW5mbyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLypcblxuXG5cblxuXG5cbiAgICAgICAqL1xuICAgICAgYXN5bmMgcmVnaXN0ZXJBc3NldChkZW5vbSwgZGV0YWlsKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGF3YWl0IGhlYXBWb3dFLndoZW4oY2hhaW5IdWIuZ2V0Q2hhaW5JbmZvKCdhZ29yaWMnKSk7XG4gICAgICAgIGNoYWluSHViLnJlZ2lzdGVyQXNzZXQoZGVub20sIGRldGFpbCk7XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG4gIHJldHVybiBtYWtlQ3JlYXRvckZhY2V0O1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5wcmVwYXJlQ2hhaW5IdWJBZG1pbihwcmVwYXJlQ2hhaW5IdWJBZG1pbik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwcmVwYXJlQ2hhaW5IdWJBZG1pbiI6WyJwcmVwYXJlQ2hhaW5IdWJBZG1pbiJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABixNlyrFkAAKxZAAAyAAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvZXhvcy9jaGFpbi1odWIuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9lcnRwL3NyYy90eXBlR3VhcmRzLmpzIiwiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZmFyIiwiQGVuZG8vcGF0dGVybnMiLCJAYWdvcmljL3ZvdyIsIi4uL3R5cGVHdWFyZHMuanMiLCIuLi91dGlscy9hZGRyZXNzLmpzIiwiLi4vdXRpbHMvY2hhaW4taW5mby5qcyJdLCJleHBvcnRzIjpbIkFTU0VUU19LRVkiLCJDSEFJTl9LRVkiLCJDT05ORUNUSU9OU19LRVkiLCJIdWJOYW1lIiwiUEZNX1JFQ0VJVkVSIiwiVHJhbnNmZXJSb3V0ZVNoYXBlIiwiY29ubmVjdGlvbktleSIsImVuY29kZUNoYWluSWQiLCJtYWtlQ2hhaW5IdWIiLCJub3JtYWxpemVDb25uZWN0aW9uSW5mbyIsInJlZ2lzdGVyQXNzZXRzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgQnJhbmRTaGFwZSxGYWlsLG1ha2VFcnJvcixxLEUsTSxWb3dTaGFwZSxBY2NvdW50SWRBcmdTaGFwZSxDaGFpbkluZm9TaGFwZSxDb2luU2hhcGUsQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUsRGVub21BbW91bnRTaGFwZSxEZW5vbURldGFpbFNoYXBlLEZvcndhcmRJbmZvU2hhcGUsRm9yd2FyZE9wdHNTaGFwZSxJQkNDaGFubmVsSURTaGFwZSxJQkNDb25uZWN0aW9uSW5mb1NoYXBlLGdldEJlY2gzMlByZWZpeCxjYWlwSWRGcm9tSW5mbzskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvZXJ0cC9zcmMvdHlwZUd1YXJkcy5qc1wiLCBbW1wiQnJhbmRTaGFwZVwiLFskaM2PX2EgPT4gKEJyYW5kU2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcIm1ha2VFcnJvclwiLFskaM2PX2EgPT4gKG1ha2VFcnJvciA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3Zvd1wiLCBbW1wiVm93U2hhcGVcIixbJGjNj19hID0+IChWb3dTaGFwZSA9ICRozY9fYSldXV1dLFtcIi4uL3R5cGVHdWFyZHMuanNcIiwgW1tcIkFjY291bnRJZEFyZ1NoYXBlXCIsWyRozY9fYSA9PiAoQWNjb3VudElkQXJnU2hhcGUgPSAkaM2PX2EpXV0sW1wiQ2hhaW5JbmZvU2hhcGVcIixbJGjNj19hID0+IChDaGFpbkluZm9TaGFwZSA9ICRozY9fYSldXSxbXCJDb2luU2hhcGVcIixbJGjNj19hID0+IChDb2luU2hhcGUgPSAkaM2PX2EpXV0sW1wiQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGVcIixbJGjNj19hID0+IChDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSA9ICRozY9fYSldXSxbXCJEZW5vbUFtb3VudFNoYXBlXCIsWyRozY9fYSA9PiAoRGVub21BbW91bnRTaGFwZSA9ICRozY9fYSldXSxbXCJEZW5vbURldGFpbFNoYXBlXCIsWyRozY9fYSA9PiAoRGVub21EZXRhaWxTaGFwZSA9ICRozY9fYSldXSxbXCJGb3J3YXJkSW5mb1NoYXBlXCIsWyRozY9fYSA9PiAoRm9yd2FyZEluZm9TaGFwZSA9ICRozY9fYSldXSxbXCJGb3J3YXJkT3B0c1NoYXBlXCIsWyRozY9fYSA9PiAoRm9yd2FyZE9wdHNTaGFwZSA9ICRozY9fYSldXSxbXCJJQkNDaGFubmVsSURTaGFwZVwiLFskaM2PX2EgPT4gKElCQ0NoYW5uZWxJRFNoYXBlID0gJGjNj19hKV1dLFtcIklCQ0Nvbm5lY3Rpb25JbmZvU2hhcGVcIixbJGjNj19hID0+IChJQkNDb25uZWN0aW9uSW5mb1NoYXBlID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvYWRkcmVzcy5qc1wiLCBbW1wiZ2V0QmVjaDMyUHJlZml4XCIsWyRozY9fYSA9PiAoZ2V0QmVjaDMyUHJlZml4ID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvY2hhaW4taW5mby5qc1wiLCBbW1wiY2FpcElkRnJvbUluZm9cIixbJGjNj19hID0+IChjYWlwSWRGcm9tSW5mbyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IFBGTV9SRUNFSVZFUiA9IC8qICAgICAgICAgICAgICAgICovICgncGZtJyk7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cbiAqLyRozY9fb25jZS5QRk1fUkVDRUlWRVIoUEZNX1JFQ0VJVkVSKTtcbiAgICAgICBjb25zdCBIdWJOYW1lID0gLyogICAgICAgICAgICAgICAgKi8gKHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBDaGFpbjogJ2NoYWluJyxcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIENoYWluQXNzZXRzOiAnY2hhaW5Bc3NldHMnLFxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIENoYWluQ29ubmVjdGlvbjogJ2NoYWluQ29ubmVjdGlvbicsXG59KTskaM2PX29uY2UuSHViTmFtZShIdWJOYW1lKTtcbmhhcmRlbihIdWJOYW1lKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgQ0hBSU5fS0VZID0gSHViTmFtZS5DaGFpbjtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UuQ0hBSU5fS0VZKENIQUlOX0tFWSk7XG4gICAgICAgY29uc3QgQ09OTkVDVElPTlNfS0VZID0gSHViTmFtZS5DaGFpbkNvbm5lY3Rpb247XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UuQ09OTkVDVElPTlNfS0VZKENPTk5FQ1RJT05TX0tFWSk7XG4gICAgICAgY29uc3QgQVNTRVRTX0tFWSA9IEh1Yk5hbWUuQ2hhaW5Bc3NldHM7XG5cbi8qXG5cbiAqLyRozY9fb25jZS5BU1NFVFNfS0VZKEFTU0VUU19LRVkpO1xuY29uc3QgQ0hBSU5fSURfU0VQQVJBVE9SID0gJ18nO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGVuY29kZUNoYWluSWQgPSBjaGFpbklkID0+XG4gIGNoYWluSWQucmVwbGFjZUFsbChcbiAgICBDSEFJTl9JRF9TRVBBUkFUT1IsXG4gICAgYCR7Q0hBSU5fSURfU0VQQVJBVE9SfSR7Q0hBSU5fSURfU0VQQVJBVE9SfWAsXG4gICk7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5lbmNvZGVDaGFpbklkKGVuY29kZUNoYWluSWQpO1xuICAgICAgIGNvbnN0IGNvbm5lY3Rpb25LZXkgPSAoY2hhaW5JZDEsIGNoYWluSWQyKSA9PiB7XG4gIGNvbnN0IGNoYWluSWQxU2FuaXRpemVkID0gZW5jb2RlQ2hhaW5JZChjaGFpbklkMSk7XG4gIGNvbnN0IGNoYWluSWQyU2FuaXRpemVkID0gZW5jb2RlQ2hhaW5JZChjaGFpbklkMik7XG5cbiAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgIFtjaGFpbklkMVNhbml0aXplZCwgY2hhaW5JZDJTYW5pdGl6ZWRdLnNvcnQoKS5qb2luKENIQUlOX0lEX1NFUEFSQVRPUilcbiAgKTtcbn07XG5cbi8qXG5cblxuXG5cbiAqLyRozY9fb25jZS5jb25uZWN0aW9uS2V5KGNvbm5lY3Rpb25LZXkpO1xuY29uc3QgcmV2ZXJzZUNvbm5JbmZvID0gY29ubkluZm8gPT4ge1xuICBjb25zdCB7IHRyYW5zZmVyQ2hhbm5lbCB9ID0gY29ubkluZm87XG4gIHJldHVybiBoYXJkZW4oe1xuICAgIGlkOiBjb25uSW5mby5jb3VudGVycGFydHkuY29ubmVjdGlvbl9pZCxcbiAgICBjbGllbnRfaWQ6IGNvbm5JbmZvLmNvdW50ZXJwYXJ0eS5jbGllbnRfaWQsXG4gICAgY291bnRlcnBhcnR5OiB7XG4gICAgICBjbGllbnRfaWQ6IGNvbm5JbmZvLmNsaWVudF9pZCxcbiAgICAgIGNvbm5lY3Rpb25faWQ6IGNvbm5JbmZvLmlkLFxuICAgIH0sXG4gICAgc3RhdGU6IGNvbm5JbmZvLnN0YXRlLFxuICAgIHRyYW5zZmVyQ2hhbm5lbDoge1xuICAgICAgLi4udHJhbnNmZXJDaGFubmVsLFxuICAgICAgY2hhbm5lbElkOiB0cmFuc2ZlckNoYW5uZWwuY291bnRlclBhcnR5Q2hhbm5lbElkLFxuICAgICAgY291bnRlclBhcnR5Q2hhbm5lbElkOiB0cmFuc2ZlckNoYW5uZWwuY2hhbm5lbElkLFxuICAgICAgcG9ydElkOiB0cmFuc2ZlckNoYW5uZWwuY291bnRlclBhcnR5UG9ydElkLFxuICAgICAgY291bnRlclBhcnR5UG9ydElkOiB0cmFuc2ZlckNoYW5uZWwucG9ydElkLFxuICAgIH0sXG4gIH0pO1xufTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG5vcm1hbGl6ZUNvbm5lY3Rpb25JbmZvID0gKFxuICBwcmltYXJ5Q2hhaW5JZCxcbiAgY291bnRlckNoYWluSWQsXG4gIGRpcmVjdGVkLFxuKSA9PiB7XG4gIGNvbnN0IGtleSA9IGNvbm5lY3Rpb25LZXkocHJpbWFyeUNoYWluSWQsIGNvdW50ZXJDaGFpbklkKTtcbiAgaWYgKHByaW1hcnlDaGFpbklkIDwgY291bnRlckNoYWluSWQpIHtcbiAgICByZXR1cm4gW2tleSwgZGlyZWN0ZWRdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBba2V5LCByZXZlcnNlQ29ubkluZm8oZGlyZWN0ZWQpXTtcbiAgfVxufTtcblxuLypcblxuXG5cblxuXG4gKi8kaM2PX29uY2Uubm9ybWFsaXplQ29ubmVjdGlvbkluZm8obm9ybWFsaXplQ29ubmVjdGlvbkluZm8pO1xuY29uc3QgZGVub3JtYWxpemVDb25uZWN0aW9uSW5mbyA9IChcbiAgcHJpbWFyeUNoYWluSWQsXG4gIGNvdW50ZXJDaGFpbklkLFxuICBub3JtYWxpemVkLFxuKSA9PiB7XG4gIGlmIChwcmltYXJ5Q2hhaW5JZCA8IGNvdW50ZXJDaGFpbklkKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJldmVyc2VDb25uSW5mbyhub3JtYWxpemVkKTtcbiAgfVxufTtcblxuY29uc3QgQ2hhaW5JZEFyZ1NoYXBlID0gTS5vcihcbiAgTS5zdHJpbmcoKSxcbiAgTS5zcGxpdFJlY29yZChcbiAgICB7XG4gICAgICBjaGFpbklkOiBNLnN0cmluZygpLFxuICAgIH0sXG4gICAgdW5kZWZpbmVkLFxuICAgIE0uYW55KCksXG4gICksXG4pO1xuXG4vL1xuY29uc3QgRGVmYXVsdFBmbVRpbWVvdXRPcHRzID0gaGFyZGVuKFxuICAvKiAgICAgICAgICAgICAgICAqLyAoe1xuICAgIHJldHJpZXM6IDMsXG4gICAgdGltZW91dDogLyogICAgICAgICAgICAgICAgKi8gKCcxMG0nKSxcbiAgfSksXG4pO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBUcmFuc2ZlclJvdXRlU2hhcGUgPSBNLnNwbGl0UmVjb3JkKFxuICB7XG4gICAgc291cmNlUG9ydDogTS5zdHJpbmcoKSxcbiAgICBzb3VyY2VDaGFubmVsOiBJQkNDaGFubmVsSURTaGFwZSxcbiAgICB0b2tlbjogQ29pblNoYXBlLFxuICAgIHJlY2VpdmVyOiBNLnN0cmluZygpLFxuICB9LFxuICB7IGZvcndhcmRJbmZvOiBGb3J3YXJkSW5mb1NoYXBlIH0sXG4gIHt9LFxuKTskaM2PX29uY2UuVHJhbnNmZXJSb3V0ZVNoYXBlKFRyYW5zZmVyUm91dGVTaGFwZSk7XG5cbmNvbnN0IENoYWluSHViSSA9IE0uaW50ZXJmYWNlKCdDaGFpbkh1YicsIHtcbiAgcmVnaXN0ZXJDaGFpbjogTS5jYWxsKE0uc3RyaW5nKCksIENoYWluSW5mb1NoYXBlKS5yZXR1cm5zKCksXG4gIHVwZGF0ZUNoYWluOiBNLmNhbGwoTS5zdHJpbmcoKSwgQ2hhaW5JbmZvU2hhcGUpLnJldHVybnMoKSxcbiAgZ2V0Q2hhaW5JbmZvOiBNLmNhbGwoTS5zdHJpbmcoKSkucmV0dXJucyhWb3dTaGFwZSksXG4gIGdldENoYWluSW5mb0J5Q2hhaW5JZDogTS5jYWxsKE0uc3RyaW5nKCkpLnJldHVybnMoQ2hhaW5JbmZvU2hhcGUpLFxuICByZWdpc3RlckNvbm5lY3Rpb246IE0uY2FsbChcbiAgICBNLnN0cmluZygpLFxuICAgIE0uc3RyaW5nKCksXG4gICAgSUJDQ29ubmVjdGlvbkluZm9TaGFwZSxcbiAgKS5yZXR1cm5zKCksXG4gIHVwZGF0ZUNvbm5lY3Rpb246IE0uY2FsbChcbiAgICBNLnN0cmluZygpLFxuICAgIE0uc3RyaW5nKCksXG4gICAgSUJDQ29ubmVjdGlvbkluZm9TaGFwZSxcbiAgKS5yZXR1cm5zKCksXG4gIGdldENvbm5lY3Rpb25JbmZvOiBNLmNhbGwoQ2hhaW5JZEFyZ1NoYXBlLCBDaGFpbklkQXJnU2hhcGUpLnJldHVybnMoVm93U2hhcGUpLFxuICBnZXRDaGFpbnNBbmRDb25uZWN0aW9uOiBNLmNhbGwoTS5zdHJpbmcoKSwgTS5zdHJpbmcoKSkucmV0dXJucyhWb3dTaGFwZSksXG4gIHJlZ2lzdGVyQXNzZXQ6IE0uY2FsbChNLnN0cmluZygpLCBEZW5vbURldGFpbFNoYXBlKS5yZXR1cm5zKCksXG4gIHVwZGF0ZUFzc2V0OiBNLmNhbGwoTS5zdHJpbmcoKSwgRGVub21EZXRhaWxTaGFwZSkucmV0dXJucygpLFxuICBnZXRBc3NldDogTS5jYWxsKE0uc3RyaW5nKCksIE0uc3RyaW5nKCkpLnJldHVybnMoXG4gICAgTS5vcihEZW5vbURldGFpbFNoYXBlLCBNLnVuZGVmaW5lZCgpKSxcbiAgKSxcbiAgZ2V0RGVub206IE0uY2FsbChCcmFuZFNoYXBlKS5yZXR1cm5zKE0ub3IoTS5zdHJpbmcoKSwgTS51bmRlZmluZWQoKSkpLFxuICBjb2VyY2VDb3Ntb3NBZGRyZXNzOiBNLmNhbGwoQWNjb3VudElkQXJnU2hhcGUpLnJldHVybnMoXG4gICAgQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUsXG4gICksXG4gIHJlc29sdmVBY2NvdW50SWQ6IE0uY2FsbChNLnN0cmluZygpKS5yZXR1cm5zKE0uc3RyaW5nKCkpLFxuICBtYWtlVHJhbnNmZXJSb3V0ZTogTS5jYWxsKEFjY291bnRJZEFyZ1NoYXBlLCBEZW5vbUFtb3VudFNoYXBlLCBNLnN0cmluZygpKVxuICAgIC5vcHRpb25hbChGb3J3YXJkT3B0c1NoYXBlKVxuICAgIC5yZXR1cm5zKE0ub3IoTS51bmRlZmluZWQoKSwgVHJhbnNmZXJSb3V0ZVNoYXBlKSksXG59KTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlQ2hhaW5IdWIgPSAoXG4gIHpvbmUsXG4gIGFnb3JpY05hbWVzLFxuICB2b3dUb29scyxcbiAgeyBjaGFpbkluZm9WYWx1ZVNoYXBlID0gLyogICAgICAgICAgICAgICAgICAqLyAoQ2hhaW5JbmZvU2hhcGUpIH0gPSB7fSxcbikgPT4ge1xuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBjaGFpbkluZm9zID0gem9uZS5tYXBTdG9yZSgnY2hhaW5JbmZvcycsIHtcbiAgICBrZXlTaGFwZTogTS5zdHJpbmcoKSxcbiAgICB2YWx1ZVNoYXBlOiBjaGFpbkluZm9WYWx1ZVNoYXBlLFxuICB9KTtcbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IGNvbm5lY3Rpb25JbmZvcyA9IHpvbmUubWFwU3RvcmUoJ2Nvbm5lY3Rpb25JbmZvcycsIHtcbiAgICBrZXlTaGFwZTogTS5zdHJpbmcoKSxcbiAgICB2YWx1ZVNoYXBlOiBJQkNDb25uZWN0aW9uSW5mb1NoYXBlLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBkZW5vbURldGFpbHMgPSB6b25lLm1hcFN0b3JlKCdkZW5vbScsIHtcbiAgICBrZXlTaGFwZTogTS5zdHJpbmcoKSxcbiAgICB2YWx1ZVNoYXBlOiBEZW5vbURldGFpbFNoYXBlLFxuICB9KTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgYnJhbmREZW5vbXMgPSB6b25lLm1hcFN0b3JlKCdicmFuZERlbm9tJywge1xuICAgIGtleVNoYXBlOiBCcmFuZFNoYXBlLFxuICAgIHZhbHVlU2hhcGU6IE0uc3RyaW5nKCksXG4gIH0pO1xuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBiZWNoMzJQcmVmaXhUb0NoYWluTmFtZSA9IHpvbmUubWFwU3RvcmUoJ2JlY2gzMlByZWZpeFRvQ2hhaW5OYW1lJywge1xuICAgIGtleVNoYXBlOiBNLnN0cmluZygpLFxuICAgIHZhbHVlU2hhcGU6IE0uc3RyaW5nKCksXG4gIH0pO1xuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBjaGFpbklkVG9DaGFpbk5hbWUgPSB6b25lLm1hcFN0b3JlKCdjaGFpbklkVG9DaGFpbk5hbWUnLCB7XG4gICAga2V5U2hhcGU6IE0uc3RyaW5nKCksXG4gICAgdmFsdWVTaGFwZTogTS5zdHJpbmcoKSxcbiAgfSk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBtYWtlRGVub21LZXkgPSAoZGVub20sIHNyY0NoYWluTmFtZSkgPT4gYCR7c3JjQ2hhaW5OYW1lfToke2Rlbm9tfWA7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCByZXNvbHZlQ29zbW9zQ2hhaW5JZCA9IGFkZHJlc3MgPT4ge1xuICAgIC8vXG4gICAgY29uc3QgcHJlZml4ID0gZ2V0QmVjaDMyUHJlZml4KGFkZHJlc3MpO1xuICAgIGlmICghYmVjaDMyUHJlZml4VG9DaGFpbk5hbWUuaGFzKHByZWZpeCkpIHtcbiAgICAgIHRocm93IG1ha2VFcnJvcihgQ2hhaW4gaW5mbyBub3QgZm91bmQgZm9yIGJlY2gzMlByZWZpeCAke3EocHJlZml4KX1gKTtcbiAgICB9XG4gICAgY29uc3QgY2hhaW5OYW1lID0gYmVjaDMyUHJlZml4VG9DaGFpbk5hbWUuZ2V0KHByZWZpeCk7XG4gICAgY29uc3QgeyBjaGFpbklkIH0gPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgICAgY2hhaW5JbmZvcy5nZXQoY2hhaW5OYW1lKVxuICAgICk7XG4gICAgcmV0dXJuIGNoYWluSWQ7XG4gIH07XG5cbiAgY29uc3QgbG9va3VwQ2hhaW5JbmZvID0gdm93VG9vbHMucmV0cnlhYmxlKFxuICAgIHpvbmUsXG4gICAgJ2xvb2t1cENoYWluSW5mbycsXG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAvL1xuICAgIGFzeW5jIGNoYWluTmFtZSA9PiB7XG4gICAgICBhd2FpdCBudWxsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2hhaW5JbmZvID0gYXdhaXQgRShhZ29yaWNOYW1lcykubG9va3VwKEh1Yk5hbWUuQ2hhaW4sIGNoYWluTmFtZSk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGlmICghY2hhaW5JbmZvcy5oYXMoY2hhaW5OYW1lKSkge1xuICAgICAgICAgIGNoYWluSW5mb3MuaW5pdChjaGFpbk5hbWUsIGNoYWluSW5mbyk7XG4gICAgICAgICAgY2hhaW5JZFRvQ2hhaW5OYW1lLmluaXQoY2FpcElkRnJvbUluZm8oY2hhaW5JbmZvKSwgY2hhaW5OYW1lKTtcbiAgICAgICAgICBpZiAoY2hhaW5JbmZvLmJlY2gzMlByZWZpeCkge1xuICAgICAgICAgICAgYmVjaDMyUHJlZml4VG9DaGFpbk5hbWUuaW5pdChjaGFpbkluZm8uYmVjaDMyUHJlZml4LCBjaGFpbk5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhaW5JbmZvO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdsb29rdXBDaGFpbkluZm8nLCBjaGFpbk5hbWUsICdlcnJvcicsIGUpO1xuICAgICAgICB0aHJvdyBtYWtlRXJyb3IoYGNoYWluIG5vdCBmb3VuZDoke2NoYWluTmFtZX1gKTtcbiAgICAgIH1cbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IGxvb2t1cENvbm5lY3Rpb25JbmZvID0gdm93VG9vbHMucmV0cnlhYmxlKFxuICAgIHpvbmUsXG4gICAgJ2xvb2t1cENvbm5lY3Rpb25JbmZvJyxcbiAgICAvKlxuXG5cbiAgICAgKi9cbiAgICAvL1xuICAgIGFzeW5jIChjaGFpbklkMSwgY2hhaW5JZDIpID0+IHtcbiAgICAgIGF3YWl0IG51bGw7XG4gICAgICBjb25zdCBrZXkgPSBjb25uZWN0aW9uS2V5KGNoYWluSWQxLCBjaGFpbklkMik7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uSW5mbyA9IGF3YWl0IEUoYWdvcmljTmFtZXMpLmxvb2t1cChcbiAgICAgICAgICBIdWJOYW1lLkNoYWluQ29ubmVjdGlvbixcbiAgICAgICAgICBrZXksXG4gICAgICAgICk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGlmICghY29ubmVjdGlvbkluZm9zLmhhcyhrZXkpKSB7XG4gICAgICAgICAgY29ubmVjdGlvbkluZm9zLmluaXQoa2V5LCBjb25uZWN0aW9uSW5mbyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVub3JtYWxpemVDb25uZWN0aW9uSW5mbyhjaGFpbklkMSwgY2hhaW5JZDIsIGNvbm5lY3Rpb25JbmZvKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignbG9va3VwQ29ubmVjdGlvbkluZm8nLCBjaGFpbklkMSwgY2hhaW5JZDIsICdlcnJvcicsIGUpO1xuICAgICAgICB0aHJvdyBtYWtlRXJyb3IoYGNvbm5lY3Rpb24gbm90IGZvdW5kOiAke2NoYWluSWQxfTwtPiR7Y2hhaW5JZDJ9YCk7XG4gICAgICB9XG4gICAgfSxcbiAgKTtcblxuICBjb25zdCBsb29rdXBDaGFpbnNBbmRDb25uZWN0aW9uID0gdm93VG9vbHMucmV0cnlhYmxlKFxuICAgIHpvbmUsXG4gICAgJ2xvb2t1cENoYWluc0FuZENvbm5lY3Rpb24nLFxuICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgICAqL1xuICAgIC8vXG4gICAgYXN5bmMgKHByaW1hcnlOYW1lLCBjb3VudGVyTmFtZSkgPT4ge1xuICAgICAgY29uc3QgW3ByaW1hcnksIGNvdW50ZXJdID0gYXdhaXQgdm93VG9vbHMuYXNQcm9taXNlKFxuICAgICAgICB2b3dUb29scy5hbGxWb3dzKFtcbiAgICAgICAgICBjaGFpbkh1Yi5nZXRDaGFpbkluZm8ocHJpbWFyeU5hbWUpLFxuICAgICAgICAgIGNoYWluSHViLmdldENoYWluSW5mbyhjb3VudGVyTmFtZSksXG4gICAgICAgIF0pLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgY29ubmVjdGlvbkluZm8gPVxuICAgICAgICBwcmltYXJ5Lm5hbWVzcGFjZSA9PT0gJ2Nvc21vcycgJiYgY291bnRlci5uYW1lc3BhY2UgPT09ICdjb3Ntb3MnXG4gICAgICAgICAgPyBhd2FpdCB2b3dUb29scy5hc1Byb21pc2UoXG4gICAgICAgICAgICAgIGNoYWluSHViLmdldENvbm5lY3Rpb25JbmZvKHByaW1hcnksIGNvdW50ZXIpLFxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLypcblxuXG5cblxuXG4gICAgICAgICAqLyAoW3ByaW1hcnksIGNvdW50ZXIsIGNvbm5lY3Rpb25JbmZvXSlcbiAgICAgICk7XG4gICAgfSxcbiAgKTtcblxuICBjb25zdCBjaGFpbkh1YiA9IHpvbmUuZXhvKCdDaGFpbkh1YicsIENoYWluSHViSSwge1xuICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgKi9cbiAgICByZWdpc3RlckNoYWluKG5hbWUsIGNoYWluSW5mbykge1xuICAgICAgY2hhaW5JbmZvcy5pbml0KG5hbWUsIGNoYWluSW5mbyk7XG4gICAgICBjaGFpbklkVG9DaGFpbk5hbWUuaW5pdChjYWlwSWRGcm9tSW5mbyhjaGFpbkluZm8pLCBuYW1lKTtcbiAgICAgIGlmIChjaGFpbkluZm8ubmFtZXNwYWNlID09PSAnY29zbW9zJyAmJiBjaGFpbkluZm8uYmVjaDMyUHJlZml4KSB7XG4gICAgICAgIGJlY2gzMlByZWZpeFRvQ2hhaW5OYW1lLmluaXQoY2hhaW5JbmZvLmJlY2gzMlByZWZpeCwgbmFtZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKlxuXG5cblxuXG5cbiAgICAgKi9cbiAgICB1cGRhdGVDaGFpbihjaGFpbk5hbWUsIGNoYWluSW5mbykge1xuICAgICAgaWYgKCFjaGFpbkluZm9zLmhhcyhjaGFpbk5hbWUpKSB7XG4gICAgICAgIHRocm93IG1ha2VFcnJvcihgQ2hhaW4gJHtxKGNoYWluTmFtZSl9IG5vdCByZWdpc3RlcmVkYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBvbGRJbmZvID0gY2hhaW5JbmZvcy5nZXQoY2hhaW5OYW1lKTtcbiAgICAgIC8vXG4gICAgICBpZiAoY2hhaW5JZFRvQ2hhaW5OYW1lLmhhcyhjYWlwSWRGcm9tSW5mbyhvbGRJbmZvKSkpIHtcbiAgICAgICAgY2hhaW5JZFRvQ2hhaW5OYW1lLmRlbGV0ZShjYWlwSWRGcm9tSW5mbyhvbGRJbmZvKSk7XG4gICAgICB9XG4gICAgICBpZiAoLyogICAgICAgICAgICAgICAgICAgICAgICAgICovIChvbGRJbmZvKS5iZWNoMzJQcmVmaXgpIHtcbiAgICAgICAgYmVjaDMyUHJlZml4VG9DaGFpbk5hbWUuZGVsZXRlKFxuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAob2xkSW5mbykuYmVjaDMyUHJlZml4LFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2hhaW5JbmZvcy5zZXQoY2hhaW5OYW1lLCBjaGFpbkluZm8pO1xuICAgICAgY2hhaW5JZFRvQ2hhaW5OYW1lLmluaXQoY2FpcElkRnJvbUluZm8oY2hhaW5JbmZvKSwgY2hhaW5OYW1lKTtcbiAgICAgIGlmICgvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGNoYWluSW5mbykuYmVjaDMyUHJlZml4KSB7XG4gICAgICAgIGJlY2gzMlByZWZpeFRvQ2hhaW5OYW1lLmluaXQoXG4gICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovIChjaGFpbkluZm8pLmJlY2gzMlByZWZpeCxcbiAgICAgICAgICBjaGFpbk5hbWUsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKlxuXG5cblxuICAgICAqL1xuICAgIGdldENoYWluSW5mbyhjaGFpbk5hbWUpIHtcbiAgICAgIGNoYWluTmFtZS5pbmNsdWRlcygnOicpICYmXG4gICAgICAgIEZhaWxgJHtjaGFpbk5hbWV9IG11c3QgYmUgYSBiYXJlIGNoYWluIG5hbWUuIE1heWJlIHRyeSBnZXRDaGFpbkluZm9CeUNoYWluSWQoKWA7XG4gICAgICAvL1xuICAgICAgaWYgKGNoYWluSW5mb3MuaGFzKGNoYWluTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgICAgICB2b3dUb29scy5hc1ZvdygoKSA9PlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGNoYWluSW5mb3MuZ2V0KGNoYWluTmFtZSksXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbG9va3VwQ2hhaW5JbmZvKGNoYWluTmFtZSk7XG4gICAgfSxcbiAgICAvKlxuXG5cbiAgICAgKi9cbiAgICBnZXRDaGFpbkluZm9CeUNoYWluSWQoY2hhaW5JZCkge1xuICAgICAgLy9cbiAgICAgIGNoYWluSWRUb0NoYWluTmFtZS5oYXMoY2hhaW5JZCkgfHxcbiAgICAgICAgRmFpbGBDaGFpbiBuYW1lIG5vdCBmb3VuZCBmb3IgJHtxKGNoYWluSWQpfWA7XG4gICAgICBjb25zdCBjaGFpbk5hbWUgPSBjaGFpbklkVG9DaGFpbk5hbWUuZ2V0KGNoYWluSWQpO1xuICAgICAgY2hhaW5JbmZvcy5oYXMoY2hhaW5OYW1lKSB8fCBGYWlsYENoYWluIEluZm8gbm90IGZvdW5kIGZvciAke3EoY2hhaW5JZCl9YDtcbiAgICAgIHJldHVybiBjaGFpbkluZm9zLmdldChjaGFpbk5hbWUpO1xuICAgIH0sXG4gICAgLypcblxuXG5cblxuXG4gICAgICovXG4gICAgcmVnaXN0ZXJDb25uZWN0aW9uKHByaW1hcnlDaGFpbklkLCBjb3VudGVycGFydHlDaGFpbklkLCBjb25uZWN0aW9uSW5mbykge1xuICAgICAgY29uc3QgW2tleSwgbm9ybWFsaXplZF0gPSBub3JtYWxpemVDb25uZWN0aW9uSW5mbyhcbiAgICAgICAgcHJpbWFyeUNoYWluSWQsXG4gICAgICAgIGNvdW50ZXJwYXJ0eUNoYWluSWQsXG4gICAgICAgIGNvbm5lY3Rpb25JbmZvLFxuICAgICAgKTtcbiAgICAgIGNvbm5lY3Rpb25JbmZvcy5pbml0KGtleSwgbm9ybWFsaXplZCk7XG4gICAgfSxcbiAgICAvKlxuXG5cblxuXG5cblxuXG4gICAgICovXG4gICAgdXBkYXRlQ29ubmVjdGlvbihwcmltYXJ5Q2hhaW5JZCwgY291bnRlcnBhcnR5Q2hhaW5JZCwgY29ubmVjdGlvbkluZm8pIHtcbiAgICAgIGNvbnN0IGtleSA9IGNvbm5lY3Rpb25LZXkocHJpbWFyeUNoYWluSWQsIGNvdW50ZXJwYXJ0eUNoYWluSWQpO1xuICAgICAgaWYgKCFjb25uZWN0aW9uSW5mb3MuaGFzKGtleSkpIHtcbiAgICAgICAgdGhyb3cgbWFrZUVycm9yKFxuICAgICAgICAgIGBDb25uZWN0aW9uICR7cShwcmltYXJ5Q2hhaW5JZCl9PC0+JHtxKGNvdW50ZXJwYXJ0eUNoYWluSWQpfSBub3QgcmVnaXN0ZXJlZGAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBbXywgbm9ybWFsaXplZEluZm9dID0gbm9ybWFsaXplQ29ubmVjdGlvbkluZm8oXG4gICAgICAgIHByaW1hcnlDaGFpbklkLFxuICAgICAgICBjb3VudGVycGFydHlDaGFpbklkLFxuICAgICAgICBjb25uZWN0aW9uSW5mbyxcbiAgICAgICk7XG4gICAgICBjb25uZWN0aW9uSW5mb3Muc2V0KGtleSwgbm9ybWFsaXplZEluZm8pO1xuICAgIH0sXG4gICAgLypcblxuXG5cbiAgICAgKi9cbiAgICBnZXRDb25uZWN0aW9uSW5mbyhwcmltYXJ5LCBjb3VudGVyKSB7XG4gICAgICBjb25zdCBwcmltYXJ5SWQgPSB0eXBlb2YgcHJpbWFyeSA9PT0gJ3N0cmluZycgPyBwcmltYXJ5IDogcHJpbWFyeS5jaGFpbklkO1xuICAgICAgY29uc3QgY291bnRlcklkID0gdHlwZW9mIGNvdW50ZXIgPT09ICdzdHJpbmcnID8gY291bnRlciA6IGNvdW50ZXIuY2hhaW5JZDtcbiAgICAgIGNvbnN0IGtleSA9IGNvbm5lY3Rpb25LZXkocHJpbWFyeUlkLCBjb3VudGVySWQpO1xuICAgICAgaWYgKGNvbm5lY3Rpb25JbmZvcy5oYXMoa2V5KSkge1xuICAgICAgICByZXR1cm4gdm93VG9vbHMuYXNWb3coKCkgPT5cbiAgICAgICAgICBkZW5vcm1hbGl6ZUNvbm5lY3Rpb25JbmZvKFxuICAgICAgICAgICAgcHJpbWFyeUlkLFxuICAgICAgICAgICAgY291bnRlcklkLFxuICAgICAgICAgICAgY29ubmVjdGlvbkluZm9zLmdldChrZXkpLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsb29rdXBDb25uZWN0aW9uSW5mbyhwcmltYXJ5SWQsIGNvdW50ZXJJZCk7XG4gICAgfSxcblxuICAgIC8qXG5cblxuXG5cblxuXG5cbiAgICAgKi9cbiAgICBnZXRDaGFpbnNBbmRDb25uZWN0aW9uKHByaW1hcnlOYW1lLCBjb3VudGVyTmFtZSkge1xuICAgICAgLy9cbiAgICAgIHJldHVybiBsb29rdXBDaGFpbnNBbmRDb25uZWN0aW9uKHByaW1hcnlOYW1lLCBjb3VudGVyTmFtZSk7XG4gICAgfSxcblxuICAgIC8qXG5cblxuXG5cblxuXG4gICAgICovXG4gICAgcmVnaXN0ZXJBc3NldChkZW5vbSwgZGV0YWlsKSB7XG4gICAgICBjb25zdCB7IGNoYWluTmFtZSwgYmFzZU5hbWUgfSA9IGRldGFpbDtcbiAgICAgIGNoYWluSW5mb3MuaGFzKGNoYWluTmFtZSkgfHxcbiAgICAgICAgRmFpbGBtdXN0IHJlZ2lzdGVyIGNoYWluICR7cShjaGFpbk5hbWUpfSBmaXJzdGA7XG4gICAgICBjaGFpbkluZm9zLmhhcyhiYXNlTmFtZSkgfHxcbiAgICAgICAgRmFpbGBtdXN0IHJlZ2lzdGVyIGNoYWluICR7cShiYXNlTmFtZSl9IGZpcnN0YDtcblxuICAgICAgY29uc3QgZGVub21LZXkgPSBtYWtlRGVub21LZXkoZGVub20sIGRldGFpbC5jaGFpbk5hbWUpO1xuICAgICAgZGVub21EZXRhaWxzLmhhcyhkZW5vbUtleSkgJiZcbiAgICAgICAgRmFpbGBhbHJlYWR5IHJlZ2lzdGVyZWQgJHtxKGRlbm9tKX0gb24gJHtxKGNoYWluTmFtZSl9YDtcbiAgICAgIGRlbm9tRGV0YWlscy5pbml0KGRlbm9tS2V5LCBkZXRhaWwpO1xuICAgICAgaWYgKGRldGFpbC5icmFuZCkge1xuICAgICAgICBjaGFpbk5hbWUgPT09ICdhZ29yaWMnIHx8XG4gICAgICAgICAgRmFpbGBicmFuZHMgb25seSByZWdpc3RlcmFibGUgZm9yIGFnb3JpYy1oZWxkIGFzc2V0c2A7XG4gICAgICAgIGJyYW5kRGVub21zLmluaXQoZGV0YWlsLmJyYW5kLCBkZW5vbSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKlxuXG5cblxuXG5cblxuICAgICAqL1xuICAgIHVwZGF0ZUFzc2V0KGRlbm9tLCBkZXRhaWwpIHtcbiAgICAgIGNvbnN0IHsgYmFzZU5hbWUsIGJyYW5kLCBjaGFpbk5hbWUgfSA9IGRldGFpbDtcbiAgICAgIGNvbnN0IGRlbm9tS2V5ID0gbWFrZURlbm9tS2V5KGRlbm9tLCBjaGFpbk5hbWUpO1xuICAgICAgaWYgKCFkZW5vbURldGFpbHMuaGFzKGRlbm9tS2V5KSkge1xuICAgICAgICB0aHJvdyBtYWtlRXJyb3IoYEFzc2V0ICR7cShkZW5vbSl9IG9uICR7cShjaGFpbk5hbWUpfSBub3QgcmVnaXN0ZXJlZGApO1xuICAgICAgfVxuICAgICAgaWYgKCFjaGFpbkluZm9zLmhhcyhjaGFpbk5hbWUpKSB7XG4gICAgICAgIHRocm93IG1ha2VFcnJvcihgQ2hhaW4gJHtxKGNoYWluTmFtZSl9IG5vdCByZWdpc3RlcmVkYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWNoYWluSW5mb3MuaGFzKGJhc2VOYW1lKSkge1xuICAgICAgICB0aHJvdyBtYWtlRXJyb3IoYENoYWluICR7cShiYXNlTmFtZSl9IG5vdCByZWdpc3RlcmVkYCk7XG4gICAgICB9XG4gICAgICBpZiAoYnJhbmQpIHtcbiAgICAgICAgaWYgKGNoYWluTmFtZSAhPT0gJ2Fnb3JpYycpIHtcbiAgICAgICAgICB0aHJvdyBtYWtlRXJyb3IoJ0JyYW5kcyBvbmx5IHJlZ2lzdGVyYWJsZSBmb3IgYWdvcmljLWhlbGQgYXNzZXRzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2xkRGV0YWlsID0gZGVub21EZXRhaWxzLmdldChkZW5vbUtleSk7XG4gICAgICBpZiAob2xkRGV0YWlsLmJyYW5kKSB7XG4gICAgICAgIGJyYW5kRGVub21zLmRlbGV0ZShvbGREZXRhaWwuYnJhbmQpO1xuICAgICAgfVxuXG4gICAgICBkZW5vbURldGFpbHMuc2V0KGRlbm9tS2V5LCBkZXRhaWwpO1xuICAgICAgaWYgKGJyYW5kKSB7XG4gICAgICAgIGJyYW5kRGVub21zLmluaXQoYnJhbmQsIGRlbm9tKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qXG5cblxuXG5cblxuICAgICAqL1xuICAgIGdldEFzc2V0KGRlbm9tLCBzcmNDaGFpbk5hbWUpIHtcbiAgICAgIGNvbnN0IGRlbm9tS2V5ID0gbWFrZURlbm9tS2V5KGRlbm9tLCBzcmNDaGFpbk5hbWUpO1xuICAgICAgaWYgKGRlbm9tRGV0YWlscy5oYXMoZGVub21LZXkpKSB7XG4gICAgICAgIHJldHVybiBkZW5vbURldGFpbHMuZ2V0KGRlbm9tS2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICAvKlxuXG5cblxuXG4gICAgICovXG4gICAgZ2V0RGVub20oYnJhbmQpIHtcbiAgICAgIGlmIChicmFuZERlbm9tcy5oYXMoYnJhbmQpKSB7XG4gICAgICAgIHJldHVybiBicmFuZERlbm9tcy5nZXQoYnJhbmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuXG4gICAgLypcblxuXG5cblxuICAgICAqL1xuICAgIHJlc29sdmVBY2NvdW50SWQocGFydGlhbElkKSB7XG4gICAgICBpZiAocGFydGlhbElkLnNwbGl0KCc6JykubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgKi8gKHBhcnRpYWxJZCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvc21vc0NoYWluSWQgPSByZXNvbHZlQ29zbW9zQ2hhaW5JZChcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAqLyAocGFydGlhbElkKSxcbiAgICAgICk7XG4gICAgICByZXR1cm4gYGNvc21vczoke2Nvc21vc0NoYWluSWR9OiR7cGFydGlhbElkfWA7XG4gICAgfSxcblxuICAgIC8qXG5cblxuXG5cblxuXG4gICAgICovXG4gICAgY29lcmNlQ29zbW9zQWRkcmVzcyhwYXJ0aWFsSWQpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFydGlhbElkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gcGFydGlhbElkO1xuICAgICAgfVxuICAgICAgY29uc3QgcGFydHMgPSBwYXJ0aWFsSWQuc3BsaXQoJzonKTtcbiAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHBhcnRzWzBdLCAnY29zbW9zJyk7XG4gICAgICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgICAgIGNoYWluSWQ6IHBhcnRzWzFdLFxuICAgICAgICAgIGVuY29kaW5nOiAnYmVjaDMyJyxcbiAgICAgICAgICB2YWx1ZTogLyogICAgICAgICAgICAgICAgICAgICAgICAqLyAocGFydHNbMl0pLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgYXNzZXJ0LmVxdWFsKHBhcnRzLmxlbmd0aCwgMSk7IC8vXG4gICAgICBjb25zdCB2YWx1ZSA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHBhcnRpYWxJZCk7XG4gICAgICBjb25zdCBjb3Ntb3NDaGFpbklkID0gcmVzb2x2ZUNvc21vc0NoYWluSWQodmFsdWUpO1xuICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgIGNoYWluSWQ6IGNvc21vc0NoYWluSWQsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBlbmNvZGluZzogLyogICAgICAgICAgICAgICAgKi8gKCdiZWNoMzInKSxcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgKi9cbiAgICBtYWtlVHJhbnNmZXJSb3V0ZShkZXN0aW5hdGlvbiwgZGVub21BbW91bnQsIHNyY0NoYWluTmFtZSwgZm9yd2FyZE9wdHMpIHtcbiAgICAgIGNoYWluSW5mb3MuaGFzKHNyY0NoYWluTmFtZSkgfHxcbiAgICAgICAgRmFpbGBjaGFpbiBpbmZvIG5vdCBmb3VuZCBmb3IgaG9sZGluZyBjaGFpbjogJHtxKHNyY0NoYWluTmFtZSl9YDtcblxuICAgICAgY29uc3QgZGVub21EZXRhaWwgPSBjaGFpbkh1Yi5nZXRBc3NldChkZW5vbUFtb3VudC5kZW5vbSwgc3JjQ2hhaW5OYW1lKTtcbiAgICAgIGRlbm9tRGV0YWlsIHx8XG4gICAgICAgIEZhaWxgbm8gZGVub20gZGV0YWlsIGZvcjogJHtxKGRlbm9tQW1vdW50LmRlbm9tKX0gb24gJHtxKHNyY0NoYWluTmFtZSl9LiBlbnN1cmUgaXQgaXMgcmVnaXN0ZXJlZCBpbiBjaGFpbkh1Yi5gO1xuXG4gICAgICBjb25zdCB7IGJhc2VOYW1lLCBjaGFpbk5hbWUgfSA9IC8qICAgICAgICAgICAgICAgICAgICAgICovIChkZW5vbURldGFpbCk7XG5cbiAgICAgIC8vXG4gICAgICBjaGFpbk5hbWUgPT09IHNyY0NoYWluTmFtZSB8fFxuICAgICAgICBGYWlsYGNhbm5vdCB0cmFuc2ZlciBhc3NldCAke3EoZGVub21BbW91bnQuZGVub20pfS4gaGVsZCBvbiAke3EoY2hhaW5OYW1lKX0gbm90ICR7cShzcmNDaGFpbk5hbWUpfS5gO1xuXG4gICAgICAvL1xuICAgICAgY2hhaW5JbmZvcy5oYXMoYmFzZU5hbWUpIHx8XG4gICAgICAgIEZhaWxgY2hhaW4gaW5mbyBub3QgZm91bmQgZm9yIGlzc3VpbmcgY2hhaW46ICR7cShiYXNlTmFtZSl9YDtcblxuICAgICAgY29uc3QgYmFzZUNoYWluSW5mbyA9IGNoYWluSW5mb3MuZ2V0KGJhc2VOYW1lKTtcbiAgICAgIGlmIChiYXNlQ2hhaW5JbmZvLm5hbWVzcGFjZSAhPT0gJ2Nvc21vcycpXG4gICAgICAgIHRocm93IEZhaWxgT25seSBjb3Ntb3Mgc3VwcG9ydGVkOyBnb3QgJHtxKGJhc2VDaGFpbkluZm8ubmFtZXNwYWNlKX1gO1xuICAgICAgY29uc3QgeyBjaGFpbklkOiBiYXNlQ2hhaW5JZCwgcGZtRW5hYmxlZCB9ID0gYmFzZUNoYWluSW5mbztcblxuICAgICAgY29uc3QgaG9sZGluZ0NoYWluSW5mbyA9IGNoYWluSW5mb3MuZ2V0KHNyY0NoYWluTmFtZSk7XG4gICAgICBpZiAoaG9sZGluZ0NoYWluSW5mby5uYW1lc3BhY2UgIT09ICdjb3Ntb3MnKSB7XG4gICAgICAgIHRocm93IEZhaWxgT25seSBjb3Ntb3Mgc3VwcG9ydGVkOyBnb3QgJHtxKGhvbGRpbmdDaGFpbkluZm8ubmFtZXNwYWNlKX1gO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBjaGFpbklkOiBob2xkaW5nQ2hhaW5JZCB9ID0gaG9sZGluZ0NoYWluSW5mbztcblxuICAgICAgY29uc3QgY29zbW9zRGVzdCA9IGNoYWluSHViLmNvZXJjZUNvc21vc0FkZHJlc3MoZGVzdGluYXRpb24pO1xuXG4gICAgICAvL1xuICAgICAgaWYgKGJhc2VDaGFpbklkID09PSBjb3Ntb3NEZXN0LmNoYWluSWQgfHwgYmFzZU5hbWUgPT09IHNyY0NoYWluTmFtZSkge1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBjb25uS2V5ID0gY29ubmVjdGlvbktleShob2xkaW5nQ2hhaW5JZCwgY29zbW9zRGVzdC5jaGFpbklkKTtcbiAgICAgICAgY29ubmVjdGlvbkluZm9zLmhhcyhjb25uS2V5KSB8fFxuICAgICAgICAgIEZhaWxgbm8gY29ubmVjdGlvbiBpbmZvIGZvdW5kIGZvciAke2hvbGRpbmdDaGFpbklkfTwtPiR7Y29zbW9zRGVzdC5jaGFpbklkfWA7XG5cbiAgICAgICAgY29uc3QgeyB0cmFuc2ZlckNoYW5uZWwgfSA9IGRlbm9ybWFsaXplQ29ubmVjdGlvbkluZm8oXG4gICAgICAgICAgaG9sZGluZ0NoYWluSWQsIC8vXG4gICAgICAgICAgY29zbW9zRGVzdC5jaGFpbklkLCAvL1xuICAgICAgICAgIGNvbm5lY3Rpb25JbmZvcy5nZXQoY29ubktleSksXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgICAgIHNvdXJjZVBvcnQ6IHRyYW5zZmVyQ2hhbm5lbC5wb3J0SWQsXG4gICAgICAgICAgc291cmNlQ2hhbm5lbDogdHJhbnNmZXJDaGFubmVsLmNoYW5uZWxJZCxcbiAgICAgICAgICB0b2tlbjoge1xuICAgICAgICAgICAgYW1vdW50OiBTdHJpbmcoZGVub21BbW91bnQudmFsdWUpLFxuICAgICAgICAgICAgZGVub206IGRlbm9tQW1vdW50LmRlbm9tLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVjZWl2ZXI6IGNvc21vc0Rlc3QudmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvL1xuICAgICAgcGZtRW5hYmxlZCB8fCBGYWlsYHBmbSBub3QgZW5hYmxlZCBvbiBpc3N1aW5nIGNoYWluOiAke3EoYmFzZU5hbWUpfWA7XG5cbiAgICAgIC8vXG4gICAgICBjb25zdCBjdXJyVG9Jc3N1ZXJLZXkgPSBjb25uZWN0aW9uS2V5KGhvbGRpbmdDaGFpbklkLCBiYXNlQ2hhaW5JZCk7XG4gICAgICBjb25uZWN0aW9uSW5mb3MuaGFzKGN1cnJUb0lzc3VlcktleSkgfHxcbiAgICAgICAgRmFpbGBubyBjb25uZWN0aW9uIGluZm8gZm91bmQgZm9yICR7aG9sZGluZ0NoYWluSWR9PC0+JHtiYXNlQ2hhaW5JZH1gO1xuXG4gICAgICBjb25zdCBpc3N1ZXJUb0Rlc3RLZXkgPSBjb25uZWN0aW9uS2V5KGJhc2VDaGFpbklkLCBjb3Ntb3NEZXN0LmNoYWluSWQpO1xuICAgICAgY29ubmVjdGlvbkluZm9zLmhhcyhpc3N1ZXJUb0Rlc3RLZXkpIHx8XG4gICAgICAgIEZhaWxgbm8gY29ubmVjdGlvbiBpbmZvIGZvdW5kIGZvciAke2Jhc2VDaGFpbklkfTwtPiR7Y29zbW9zRGVzdC5jaGFpbklkfWA7XG5cbiAgICAgIGNvbnN0IGN1cnJUb0lzc3VlciA9IGRlbm9ybWFsaXplQ29ubmVjdGlvbkluZm8oXG4gICAgICAgIGhvbGRpbmdDaGFpbklkLFxuICAgICAgICBiYXNlQ2hhaW5JZCxcbiAgICAgICAgY29ubmVjdGlvbkluZm9zLmdldChjdXJyVG9Jc3N1ZXJLZXkpLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGlzc3VlclRvRGVzdCA9IGRlbm9ybWFsaXplQ29ubmVjdGlvbkluZm8oXG4gICAgICAgIGJhc2VDaGFpbklkLFxuICAgICAgICBjb3Ntb3NEZXN0LmNoYWluSWQsXG4gICAgICAgIGNvbm5lY3Rpb25JbmZvcy5nZXQoaXNzdWVyVG9EZXN0S2V5KSxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHsgaW50ZXJtZWRpYXRlUmVjaXBpZW50LCAuLi5yZXN0IH0gPSBmb3J3YXJkT3B0cyA/PyB7fTtcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCBmb3J3YXJkSW5mbyA9IGhhcmRlbih7XG4gICAgICAgIGZvcndhcmQ6IHtcbiAgICAgICAgICByZWNlaXZlcjogY29zbW9zRGVzdC52YWx1ZSxcbiAgICAgICAgICBwb3J0OiBpc3N1ZXJUb0Rlc3QudHJhbnNmZXJDaGFubmVsLnBvcnRJZCxcbiAgICAgICAgICBjaGFubmVsOiBpc3N1ZXJUb0Rlc3QudHJhbnNmZXJDaGFubmVsLmNoYW5uZWxJZCxcbiAgICAgICAgICAuLi5EZWZhdWx0UGZtVGltZW91dE9wdHMsXG4gICAgICAgICAgLi4uLyogICAgICAgICAgICAgICAgICAgICAgKi8gKHJlc3QpICAvL1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgc291cmNlUG9ydDogY3VyclRvSXNzdWVyLnRyYW5zZmVyQ2hhbm5lbC5wb3J0SWQsXG4gICAgICAgIHNvdXJjZUNoYW5uZWw6IGN1cnJUb0lzc3Vlci50cmFuc2ZlckNoYW5uZWwuY2hhbm5lbElkLFxuICAgICAgICB0b2tlbjoge1xuICAgICAgICAgIGFtb3VudDogU3RyaW5nKGRlbm9tQW1vdW50LnZhbHVlKSxcbiAgICAgICAgICBkZW5vbTogZGVub21BbW91bnQuZGVub20sXG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgcmVjZWl2ZXI6IGludGVybWVkaWF0ZVJlY2lwaWVudD8udmFsdWUgfHwgUEZNX1JFQ0VJVkVSLFxuICAgICAgICBmb3J3YXJkSW5mbyxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBjaGFpbkh1Yjtcbn07XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuICovJGjNj19vbmNlLm1ha2VDaGFpbkh1YihtYWtlQ2hhaW5IdWIpO1xuICAgICAgIGNvbnN0IHJlZ2lzdGVyQXNzZXRzID0gKGNoYWluSHViLCBuYW1lLCBhc3NldHMpID0+IHtcbiAgZm9yIChjb25zdCB7IGJhc2UsIHRyYWNlcyB9IG9mIGFzc2V0cykge1xuICAgIGNvbnN0IG5hdGl2ZSA9ICF0cmFjZXM7XG4gICAgbmF0aXZlIHx8IHRyYWNlcy5sZW5ndGggPT09IDEgfHwgRmFpbGB1bmV4cGVjdGVkICR7dHJhY2VzLmxlbmd0aH0gdHJhY2VzYDtcbiAgICBjb25zdCBbY2hhaW5OYW1lLCBiYXNlTmFtZSwgYmFzZURlbm9tXSA9IG5hdGl2ZVxuICAgICAgPyBbbmFtZSwgbmFtZSwgYmFzZV1cbiAgICAgIDogW1xuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgdHJhY2VzWzBdLmNvdW50ZXJwYXJ0eS5jaGFpbl9uYW1lLFxuICAgICAgICAgIHRyYWNlc1swXS5jb3VudGVycGFydHkuYmFzZV9kZW5vbSxcbiAgICAgICAgXTtcbiAgICBjaGFpbkh1Yi5yZWdpc3RlckFzc2V0KGJhc2UsIHsgY2hhaW5OYW1lLCBiYXNlTmFtZSwgYmFzZURlbm9tIH0pO1xuICB9XG59OyRozY9fb25jZS5yZWdpc3RlckFzc2V0cyhyZWdpc3RlckFzc2V0cyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJQRk1fUkVDRUlWRVIiOlsiUEZNX1JFQ0VJVkVSIl0sIkh1Yk5hbWUiOlsiSHViTmFtZSJdLCJDSEFJTl9LRVkiOlsiQ0hBSU5fS0VZIl0sIkNPTk5FQ1RJT05TX0tFWSI6WyJDT05ORUNUSU9OU19LRVkiXSwiQVNTRVRTX0tFWSI6WyJBU1NFVFNfS0VZIl0sImVuY29kZUNoYWluSWQiOlsiZW5jb2RlQ2hhaW5JZCJdLCJjb25uZWN0aW9uS2V5IjpbImNvbm5lY3Rpb25LZXkiXSwibm9ybWFsaXplQ29ubmVjdGlvbkluZm8iOlsibm9ybWFsaXplQ29ubmVjdGlvbkluZm8iXSwiVHJhbnNmZXJSb3V0ZVNoYXBlIjpbIlRyYW5zZmVyUm91dGVTaGFwZSJdLCJtYWtlQ2hhaW5IdWIiOlsibWFrZUNoYWluSHViIl0sInJlZ2lzdGVyQXNzZXRzIjpbInJlZ2lzdGVyQXNzZXRzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAMz5WGC5rwAAua8AAEUAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL2Nvc21vcy1vcmNoZXN0cmF0aW9uLWFjY291bnQuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9jb3NtaWMtcHJvdG8iLCJAYWdvcmljL2Nvc21pYy1wcm90by9jaXJjbGUvY2N0cC92MS90eC5qcyIsIkBhZ29yaWMvY29zbWljLXByb3RvL2Nvc21vcy9iYW5rL3YxYmV0YTEvcXVlcnkuanMiLCJAYWdvcmljL2Nvc21pYy1wcm90by9jb3Ntb3MvYmFuay92MWJldGExL3R4LmpzIiwiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3F1ZXJ5LmpzIiwiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL3R4LmpzIiwiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9xdWVyeS5qcyIsIkBhZ29yaWMvY29zbWljLXByb3RvL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvdHguanMiLCJAYWdvcmljL2Nvc21pYy1wcm90by9nb29nbGUvcHJvdG9idWYvYW55LmpzIiwiQGFnb3JpYy9jb3NtaWMtcHJvdG8vaWJjL2FwcGxpY2F0aW9ucy90cmFuc2Zlci92MS90eC5qcyIsIkBhZ29yaWMvaW50ZXJuYWwiLCJAYWdvcmljL25ldHdvcmsiLCJAYWdvcmljL3ZhdC1kYXRhIiwiQGFnb3JpYy92b3ciLCJAZW5kby9iYXNlNjQiLCJAZW5kby9lcnJvcnMiLCJAZW5kby9mYXIiLCIuLi90eXBlR3VhcmRzLmpzIiwiLi4vdXRpbHMvYW1vdW50cy5qcyIsIi4uL3V0aWxzL2Nvc21vcy5qcyIsIi4uL3V0aWxzL29yY2hlc3RyYXRpb25BY2NvdW50LmpzIiwiLi4vdXRpbHMvdGltZS5qcyIsIi4uL3V0aWxzL2FkZHJlc3MuanMiXSwiZXhwb3J0cyI6WyJDb3Ntb3NPcmNoZXN0cmF0aW9uSW52aXRhdGlvbk1ha2Vyc0kiLCJJY2FBY2NvdW50SG9sZGVySSIsInByZXBhcmVDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudCIsInByZXBhcmVDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHRvUmVxdWVzdFF1ZXJ5SnNvbixNc2dEZXBvc2l0Rm9yQnVybixNc2dEZXBvc2l0Rm9yQnVybldpdGhDYWxsZXIsUXVlcnlBbGxCYWxhbmNlc1JlcXVlc3QsUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlLFF1ZXJ5QmFsYW5jZVJlcXVlc3QsUXVlcnlCYWxhbmNlUmVzcG9uc2UsTXNnU2VuZCxRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdCxRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVzcG9uc2UsUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVxdWVzdCxRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZSxNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZCxNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFJlc3BvbnNlLFF1ZXJ5RGVsZWdhdGlvblJlcXVlc3QsUXVlcnlEZWxlZ2F0aW9uUmVzcG9uc2UsUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1JlcXVlc3QsUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlLFF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXF1ZXN0LFF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNSZXNwb25zZSxRdWVyeVJlZGVsZWdhdGlvbnNSZXF1ZXN0LFF1ZXJ5UmVkZWxlZ2F0aW9uc1Jlc3BvbnNlLFF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlcXVlc3QsUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVzcG9uc2UsTXNnQmVnaW5SZWRlbGVnYXRlLE1zZ0RlbGVnYXRlLE1zZ1VuZGVsZWdhdGUsTXNnVW5kZWxlZ2F0ZVJlc3BvbnNlLEFueSxNc2dUcmFuc2ZlcixtYWtlVHJhY2VyLE5ldHdvcmtTaGFwZSxNLFZvd1NoYXBlLGRlY29kZUJhc2U2NCxGYWlsLG1ha2VFcnJvcixxLEUsQW1vdW50QXJnU2hhcGUsQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUsRGVsZWdhdGlvblNoYXBlLERlbm9tQW1vdW50U2hhcGUsSUJDVHJhbnNmZXJPcHRpb25zU2hhcGUsUHJvdG8zU2hhcGUsVHhCb2R5T3B0c1NoYXBlLGNvZXJjZUNvaW4sY29lcmNlRGVub20sbWF4Q2xvY2tTa2V3LHRvQ29zbW9zRGVsZWdhdGlvblJlc3BvbnNlLHRvQ29zbW9zVmFsaWRhdG9yQWRkcmVzcyx0b0Rlbm9tQW1vdW50LHRvVHJ1bmNhdGVkRGVub21BbW91bnQsdHJ5RGVjb2RlUmVzcG9uc2Usb3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzLG1ha2VUaW1lc3RhbXBIZWxwZXIsYWNjb3VudElkVG8zMkJ5dGVzLHBhcnNlQWNjb3VudElkOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG9cIiwgW1tcInRvUmVxdWVzdFF1ZXJ5SnNvblwiLFskaM2PX2EgPT4gKHRvUmVxdWVzdFF1ZXJ5SnNvbiA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvY29zbWljLXByb3RvL2NpcmNsZS9jY3RwL3YxL3R4LmpzXCIsIFtbXCJNc2dEZXBvc2l0Rm9yQnVyblwiLFskaM2PX2EgPT4gKE1zZ0RlcG9zaXRGb3JCdXJuID0gJGjNj19hKV1dLFtcIk1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlclwiLFskaM2PX2EgPT4gKE1zZ0RlcG9zaXRGb3JCdXJuV2l0aENhbGxlciA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvY29zbWljLXByb3RvL2Nvc21vcy9iYW5rL3YxYmV0YTEvcXVlcnkuanNcIiwgW1tcIlF1ZXJ5QWxsQmFsYW5jZXNSZXF1ZXN0XCIsWyRozY9fYSA9PiAoUXVlcnlBbGxCYWxhbmNlc1JlcXVlc3QgPSAkaM2PX2EpXV0sW1wiUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlXCIsWyRozY9fYSA9PiAoUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlID0gJGjNj19hKV1dLFtcIlF1ZXJ5QmFsYW5jZVJlcXVlc3RcIixbJGjNj19hID0+IChRdWVyeUJhbGFuY2VSZXF1ZXN0ID0gJGjNj19hKV1dLFtcIlF1ZXJ5QmFsYW5jZVJlc3BvbnNlXCIsWyRozY9fYSA9PiAoUXVlcnlCYWxhbmNlUmVzcG9uc2UgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2Nvc21pYy1wcm90by9jb3Ntb3MvYmFuay92MWJldGExL3R4LmpzXCIsIFtbXCJNc2dTZW5kXCIsWyRozY9fYSA9PiAoTXNnU2VuZCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvY29zbWljLXByb3RvL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS9xdWVyeS5qc1wiLCBbW1wiUXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1JlcXVlc3RcIixbJGjNj19hID0+IChRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdCA9ICRozY9fYSldXSxbXCJRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVzcG9uc2VcIixbJGjNj19hID0+IChRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVzcG9uc2UgPSAkaM2PX2EpXV0sW1wiUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVxdWVzdFwiLFskaM2PX2EgPT4gKFF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1JlcXVlc3QgPSAkaM2PX2EpXV0sW1wiUXVlcnlEZWxlZ2F0aW9uVG90YWxSZXdhcmRzUmVzcG9uc2VcIixbJGjNj19hID0+IChRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvY29zbWljLXByb3RvL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS90eC5qc1wiLCBbW1wiTXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmRcIixbJGjNj19hID0+IChNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZCA9ICRozY9fYSldXSxbXCJNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFJlc3BvbnNlXCIsWyRozY9fYSA9PiAoTXNnV2l0aGRyYXdEZWxlZ2F0b3JSZXdhcmRSZXNwb25zZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvY29zbWljLXByb3RvL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvcXVlcnkuanNcIiwgW1tcIlF1ZXJ5RGVsZWdhdGlvblJlcXVlc3RcIixbJGjNj19hID0+IChRdWVyeURlbGVnYXRpb25SZXF1ZXN0ID0gJGjNj19hKV1dLFtcIlF1ZXJ5RGVsZWdhdGlvblJlc3BvbnNlXCIsWyRozY9fYSA9PiAoUXVlcnlEZWxlZ2F0aW9uUmVzcG9uc2UgPSAkaM2PX2EpXV0sW1wiUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1JlcXVlc3RcIixbJGjNj19hID0+IChRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVxdWVzdCA9ICRozY9fYSldXSxbXCJRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVzcG9uc2VcIixbJGjNj19hID0+IChRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zUmVzcG9uc2UgPSAkaM2PX2EpXV0sW1wiUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1JlcXVlc3RcIixbJGjNj19hID0+IChRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdCA9ICRozY9fYSldXSxbXCJRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2VcIixbJGjNj19hID0+IChRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UgPSAkaM2PX2EpXV0sW1wiUXVlcnlSZWRlbGVnYXRpb25zUmVxdWVzdFwiLFskaM2PX2EgPT4gKFF1ZXJ5UmVkZWxlZ2F0aW9uc1JlcXVlc3QgPSAkaM2PX2EpXV0sW1wiUXVlcnlSZWRlbGVnYXRpb25zUmVzcG9uc2VcIixbJGjNj19hID0+IChRdWVyeVJlZGVsZWdhdGlvbnNSZXNwb25zZSA9ICRozY9fYSldXSxbXCJRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXF1ZXN0XCIsWyRozY9fYSA9PiAoUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uUmVxdWVzdCA9ICRozY9fYSldXSxbXCJRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXNwb25zZVwiLFskaM2PX2EgPT4gKFF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG8vY29zbW9zL3N0YWtpbmcvdjFiZXRhMS90eC5qc1wiLCBbW1wiTXNnQmVnaW5SZWRlbGVnYXRlXCIsWyRozY9fYSA9PiAoTXNnQmVnaW5SZWRlbGVnYXRlID0gJGjNj19hKV1dLFtcIk1zZ0RlbGVnYXRlXCIsWyRozY9fYSA9PiAoTXNnRGVsZWdhdGUgPSAkaM2PX2EpXV0sW1wiTXNnVW5kZWxlZ2F0ZVwiLFskaM2PX2EgPT4gKE1zZ1VuZGVsZWdhdGUgPSAkaM2PX2EpXV0sW1wiTXNnVW5kZWxlZ2F0ZVJlc3BvbnNlXCIsWyRozY9fYSA9PiAoTXNnVW5kZWxlZ2F0ZVJlc3BvbnNlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG8vZ29vZ2xlL3Byb3RvYnVmL2FueS5qc1wiLCBbW1wiQW55XCIsWyRozY9fYSA9PiAoQW55ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9jb3NtaWMtcHJvdG8vaWJjL2FwcGxpY2F0aW9ucy90cmFuc2Zlci92MS90eC5qc1wiLCBbW1wiTXNnVHJhbnNmZXJcIixbJGjNj19hID0+IChNc2dUcmFuc2ZlciA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvaW50ZXJuYWxcIiwgW1tcIm1ha2VUcmFjZXJcIixbJGjNj19hID0+IChtYWtlVHJhY2VyID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9uZXR3b3JrXCIsIFtbXCJTaGFwZVwiLFskaM2PX2EgPT4gKE5ldHdvcmtTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdmF0LWRhdGFcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3dcIiwgW1tcIlZvd1NoYXBlXCIsWyRozY9fYSA9PiAoVm93U2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9iYXNlNjRcIiwgW1tcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGRlY29kZUJhc2U2NCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIi4uL3R5cGVHdWFyZHMuanNcIiwgW1tcIkFtb3VudEFyZ1NoYXBlXCIsWyRozY9fYSA9PiAoQW1vdW50QXJnU2hhcGUgPSAkaM2PX2EpXV0sW1wiQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGVcIixbJGjNj19hID0+IChDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSA9ICRozY9fYSldXSxbXCJEZWxlZ2F0aW9uU2hhcGVcIixbJGjNj19hID0+IChEZWxlZ2F0aW9uU2hhcGUgPSAkaM2PX2EpXV0sW1wiRGVub21BbW91bnRTaGFwZVwiLFskaM2PX2EgPT4gKERlbm9tQW1vdW50U2hhcGUgPSAkaM2PX2EpXV0sW1wiSUJDVHJhbnNmZXJPcHRpb25zU2hhcGVcIixbJGjNj19hID0+IChJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSA9ICRozY9fYSldXSxbXCJQcm90bzNTaGFwZVwiLFskaM2PX2EgPT4gKFByb3RvM1NoYXBlID0gJGjNj19hKV1dLFtcIlR4Qm9keU9wdHNTaGFwZVwiLFskaM2PX2EgPT4gKFR4Qm9keU9wdHNTaGFwZSA9ICRozY9fYSldXV1dLFtcIi4uL3V0aWxzL2Ftb3VudHMuanNcIiwgW1tcImNvZXJjZUNvaW5cIixbJGjNj19hID0+IChjb2VyY2VDb2luID0gJGjNj19hKV1dLFtcImNvZXJjZURlbm9tXCIsWyRozY9fYSA9PiAoY29lcmNlRGVub20gPSAkaM2PX2EpXV1dXSxbXCIuLi91dGlscy9jb3Ntb3MuanNcIiwgW1tcIm1heENsb2NrU2tld1wiLFskaM2PX2EgPT4gKG1heENsb2NrU2tldyA9ICRozY9fYSldXSxbXCJ0b0Nvc21vc0RlbGVnYXRpb25SZXNwb25zZVwiLFskaM2PX2EgPT4gKHRvQ29zbW9zRGVsZWdhdGlvblJlc3BvbnNlID0gJGjNj19hKV1dLFtcInRvQ29zbW9zVmFsaWRhdG9yQWRkcmVzc1wiLFskaM2PX2EgPT4gKHRvQ29zbW9zVmFsaWRhdG9yQWRkcmVzcyA9ICRozY9fYSldXSxbXCJ0b0Rlbm9tQW1vdW50XCIsWyRozY9fYSA9PiAodG9EZW5vbUFtb3VudCA9ICRozY9fYSldXSxbXCJ0b1RydW5jYXRlZERlbm9tQW1vdW50XCIsWyRozY9fYSA9PiAodG9UcnVuY2F0ZWREZW5vbUFtb3VudCA9ICRozY9fYSldXSxbXCJ0cnlEZWNvZGVSZXNwb25zZVwiLFskaM2PX2EgPT4gKHRyeURlY29kZVJlc3BvbnNlID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvb3JjaGVzdHJhdGlvbkFjY291bnQuanNcIiwgW1tcIm9yY2hlc3RyYXRpb25BY2NvdW50TWV0aG9kc1wiLFskaM2PX2EgPT4gKG9yY2hlc3RyYXRpb25BY2NvdW50TWV0aG9kcyA9ICRozY9fYSldXV1dLFtcIi4uL3V0aWxzL3RpbWUuanNcIiwgW1tcIm1ha2VUaW1lc3RhbXBIZWxwZXJcIixbJGjNj19hID0+IChtYWtlVGltZXN0YW1wSGVscGVyID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvYWRkcmVzcy5qc1wiLCBbW1wiYWNjb3VudElkVG8zMkJ5dGVzXCIsWyRozY9fYSA9PiAoYWNjb3VudElkVG8zMkJ5dGVzID0gJGjNj19hKV1dLFtcInBhcnNlQWNjb3VudElkXCIsWyRozY9fYSA9PiAocGFyc2VBY2NvdW50SWQgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuY29uc3QgdHJhY2UgPSBtYWtlVHJhY2VyKCdDb3Ntb3NPcmNoQWNjb3VudCcpO1xuXG5jb25zdCB7IFZvdyQgfSA9IE5ldHdvcmtTaGFwZTsgLy9cblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBzdGFraW5nQWNjb3VudEFjdGlvbnNNZXRob2RzID0ge1xuICBkZWxlZ2F0ZTogTS5jYWxsKENvc21vc0NoYWluQWRkcmVzc1NoYXBlLCBBbW91bnRBcmdTaGFwZSkucmV0dXJucyhWb3dTaGFwZSksXG4gIHJlZGVsZWdhdGU6IE0uY2FsbChcbiAgICBDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxcbiAgICBDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxcbiAgICBBbW91bnRBcmdTaGFwZSxcbiAgKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgdW5kZWxlZ2F0ZTogTS5jYWxsKE0uYXJyYXlPZihEZWxlZ2F0aW9uU2hhcGUpKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgd2l0aGRyYXdSZXdhcmQ6IE0uY2FsbChDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSkucmV0dXJucyhcbiAgICBWb3ckKE0uYXJyYXlPZihEZW5vbUFtb3VudFNoYXBlKSksXG4gICksXG4gIHdpdGhkcmF3UmV3YXJkczogTS5jYWxsKCkucmV0dXJucyhWb3ckKE0uYXJyYXlPZihEZW5vbUFtb3VudFNoYXBlKSkpLFxufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IHN0YWtpbmdBY2NvdW50UXVlcmllc01ldGhvZHMgPSB7XG4gIGdldERlbGVnYXRpb246IE0uY2FsbChDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSkucmV0dXJucyhWb3dTaGFwZSksXG4gIGdldERlbGVnYXRpb25zOiBNLmNhbGwoKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgZ2V0VW5ib25kaW5nRGVsZWdhdGlvbjogTS5jYWxsKENvc21vc0NoYWluQWRkcmVzc1NoYXBlKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgZ2V0VW5ib25kaW5nRGVsZWdhdGlvbnM6IE0uY2FsbCgpLnJldHVybnMoVm93U2hhcGUpLFxuICBnZXRSZWRlbGVnYXRpb25zOiBNLmNhbGwoKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgZ2V0UmV3YXJkOiBNLmNhbGwoQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUpLnJldHVybnMoVm93U2hhcGUpLFxuICBnZXRSZXdhcmRzOiBNLmNhbGwoKS5yZXR1cm5zKFZvd1NoYXBlKSxcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBub2JsZU1ldGhvZHMgPSB7XG4gIGRlcG9zaXRGb3JCdXJuOiBNLmNhbGwoTS5zdHJpbmcoKSwgQW1vdW50QXJnU2hhcGUpXG4gICAgLm9wdGlvbmFsKE0uc3RyaW5nKCkpXG4gICAgLnJldHVybnMoVm93U2hhcGUpLFxufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IEljYUFjY291bnRIb2xkZXJJID0gTS5pbnRlcmZhY2UoJ0ljYUFjY291bnRIb2xkZXInLCB7XG4gIC4uLm5vYmxlTWV0aG9kcyxcbiAgLi4ub3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzLFxuICAuLi5zdGFraW5nQWNjb3VudEFjdGlvbnNNZXRob2RzLFxuICAuLi5zdGFraW5nQWNjb3VudFF1ZXJpZXNNZXRob2RzLFxuICBkZWFjdGl2YXRlOiBNLmNhbGwoKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgcmVhY3RpdmF0ZTogTS5jYWxsKCkucmV0dXJucyhWb3dTaGFwZSksXG4gIGV4ZWN1dGVFbmNvZGVkVHg6IE0uY2FsbChNLmFycmF5T2YoUHJvdG8zU2hhcGUpKVxuICAgIC5vcHRpb25hbChUeEJvZHlPcHRzU2hhcGUpXG4gICAgLnJldHVybnMoVm93U2hhcGUpLFxufSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLkljYUFjY291bnRIb2xkZXJJKEljYUFjY291bnRIb2xkZXJJKTtcbmNvbnN0IFBVQkxJQ19UT1BJQ1MgPSB7XG4gIGFjY291bnQ6IFsnU3Rha2luZyBBY2NvdW50IGhvbGRlciBzdGF0dXMnLCBNLmFueSgpXSxcbn07XG5cbiAgICAgICBjb25zdCBDb3Ntb3NPcmNoZXN0cmF0aW9uSW52aXRhdGlvbk1ha2Vyc0kgPSBNLmludGVyZmFjZShcbiAgJ2ludml0YXRpb25NYWtlcnMnLFxuICB7XG4gICAgRGVsZWdhdGU6IE0uY2FsbChDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSwgQW1vdW50QXJnU2hhcGUpLnJldHVybnMoXG4gICAgICBNLnByb21pc2UoKSxcbiAgICApLFxuICAgIFJlZGVsZWdhdGU6IE0uY2FsbChcbiAgICAgIENvc21vc0NoYWluQWRkcmVzc1NoYXBlLFxuICAgICAgQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUsXG4gICAgICBBbW91bnRBcmdTaGFwZSxcbiAgICApLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgIFdpdGhkcmF3UmV3YXJkOiBNLmNhbGwoQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgIFVuZGVsZWdhdGU6IE0uY2FsbChNLmFycmF5T2YoRGVsZWdhdGlvblNoYXBlKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgRGVhY3RpdmF0ZUFjY291bnQ6IE0uY2FsbCgpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgIFJlYWN0aXZhdGVBY2NvdW50OiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICBUcmFuc2ZlckFjY291bnQ6IE0uY2FsbCgpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgIFNlbmQ6IE0uY2FsbCgpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgIFNlbmRBbGw6IE0uY2FsbCgpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgIFRyYW5zZmVyOiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgfSxcbik7JGjNj19vbmNlLkNvc21vc09yY2hlc3RyYXRpb25JbnZpdGF0aW9uTWFrZXJzSShDb3Ntb3NPcmNoZXN0cmF0aW9uSW52aXRhdGlvbk1ha2Vyc0kpO1xuaGFyZGVuKENvc21vc09yY2hlc3RyYXRpb25JbnZpdGF0aW9uTWFrZXJzSSk7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCA9IChcbiAgem9uZSxcbiAge1xuICAgIGNoYWluSHViLFxuICAgIG1ha2VSZWNvcmRlcktpdCxcbiAgICB0aW1lclNlcnZpY2UsXG4gICAgdm93VG9vbHM6IHsgd2F0Y2gsIGFzVm93LCB3aGVuLCBhbGxWb3dzIH0sXG4gICAgemNmLFxuICB9LFxuKSA9PiB7XG4gIGNvbnN0IHRpbWVzdGFtcEhlbHBlciA9IG1ha2VUaW1lc3RhbXBIZWxwZXIodGltZXJTZXJ2aWNlKTtcbiAgY29uc3QgbWFrZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50S2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAnQ29zbW9zIE9yY2hlc3RyYXRpb24gQWNjb3VudCBIb2xkZXInLFxuICAgIHtcbiAgICAgIGhlbHBlcjogTS5pbnRlcmZhY2UoJ2hlbHBlcicsIHtcbiAgICAgICAgb3duZWQ6IE0uY2FsbCgpLnJldHVybnMoTS5yZW1vdGFibGUoKSksXG4gICAgICAgIGdldFVwZGF0ZXI6IE0uY2FsbCgpLnJldHVybnMoTS5yZW1vdGFibGUoKSksXG4gICAgICAgIGFtb3VudFRvQ29pbjogTS5jYWxsKEFtb3VudEFyZ1NoYXBlKS5yZXR1cm5zKE0ucmVjb3JkKCkpLFxuICAgICAgfSksXG4gICAgICByZXR1cm5Wb2lkV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3JldHVyblZvaWRXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpXG4gICAgICAgICAgLm9wdGlvbmFsKE0uYXJyYXlPZihNLnVuZGVmaW5lZCgpKSlcbiAgICAgICAgICAucmV0dXJucyhNLnVuZGVmaW5lZCgpKSxcbiAgICAgIH0pLFxuICAgICAgYmFsYW5jZVF1ZXJ5V2F0Y2hlcjogTS5pbnRlcmZhY2UoJ2JhbGFuY2VRdWVyeVdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hcnJheU9mKE0ucmVjb3JkKCkpKVxuICAgICAgICAgIC5vcHRpb25hbChNLmFycmF5T2YoTS51bmRlZmluZWQoKSkpIC8vXG4gICAgICAgICAgLnJldHVybnMoTS5vcihNLnJlY29yZCgpLCBNLnVuZGVmaW5lZCgpKSksXG4gICAgICB9KSxcbiAgICAgIGFsbEJhbGFuY2VzUXVlcnlXYXRjaGVyOiBNLmludGVyZmFjZSgnYWxsQmFsYW5jZXNRdWVyeVdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hcnJheU9mKE0ucmVjb3JkKCkpKS5yZXR1cm5zKFxuICAgICAgICAgIE0uYXJyYXlPZihNLnJlY29yZCgpKSxcbiAgICAgICAgKSxcbiAgICAgIH0pLFxuICAgICAgdW5kZWxlZ2F0ZVdhdGNoZXI6IE0uaW50ZXJmYWNlKCd1bmRlbGVnYXRlV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLnN0cmluZygpKVxuICAgICAgICAgIC5vcHRpb25hbChNLmFycmF5T2YoTS51bmRlZmluZWQoKSkpIC8vXG4gICAgICAgICAgLnJldHVybnMoVm93JChNLnByb21pc2UoKSkpLFxuICAgICAgfSksXG4gICAgICB3aXRoZHJhd1Jld2FyZFdhdGNoZXI6IE0uaW50ZXJmYWNlKCd3aXRoZHJhd1Jld2FyZFdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5zdHJpbmcoKSlcbiAgICAgICAgICAub3B0aW9uYWwoTS5hcnJheU9mKE0udW5kZWZpbmVkKCkpKSAvL1xuICAgICAgICAgIC5yZXR1cm5zKE0uYXJyYXlPZihEZW5vbUFtb3VudFNoYXBlKSksXG4gICAgICB9KSxcbiAgICAgIHRyYW5zZmVyV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3RyYW5zZmVyV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChbTS5yZWNvcmQoKSwgTS5uYXQoKV0pXG4gICAgICAgICAgLm9wdGlvbmFsKHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxcbiAgICAgICAgICAgIG9wdHM6IE0ub3IoTS51bmRlZmluZWQoKSwgSUJDVHJhbnNmZXJPcHRpb25zU2hhcGUpLFxuICAgICAgICAgICAgdG9rZW46IHtcbiAgICAgICAgICAgICAgZGVub206IE0uc3RyaW5nKCksXG4gICAgICAgICAgICAgIGFtb3VudDogTS5zdHJpbmcoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgICAucmV0dXJucyhWb3ckKE0ucmVjb3JkKCkpKSxcbiAgICAgIH0pLFxuICAgICAgZGVsZWdhdGlvblF1ZXJ5V2F0Y2hlcjogTS5pbnRlcmZhY2UoJ2RlbGVnYXRpb25RdWVyeVdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hcnJheU9mKE0ucmVjb3JkKCkpKS5yZXR1cm5zKE0ucmVjb3JkKCkpLFxuICAgICAgfSksXG4gICAgICBkZWxlZ2F0aW9uc1F1ZXJ5V2F0Y2hlcjogTS5pbnRlcmZhY2UoJ2RlbGVnYXRpb25zUXVlcnlXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSkucmV0dXJucyhcbiAgICAgICAgICBNLmFycmF5T2YoTS5yZWNvcmQoKSksXG4gICAgICAgICksXG4gICAgICB9KSxcbiAgICAgIHVuYm9uZGluZ0RlbGVnYXRpb25RdWVyeVdhdGNoZXI6IE0uaW50ZXJmYWNlKFxuICAgICAgICAndW5ib25kaW5nRGVsZWdhdGlvblF1ZXJ5V2F0Y2hlcicsXG4gICAgICAgIHtcbiAgICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSkucmV0dXJucyhNLnJlY29yZCgpKSxcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgICB1bmJvbmRpbmdEZWxlZ2F0aW9uc1F1ZXJ5V2F0Y2hlcjogTS5pbnRlcmZhY2UoXG4gICAgICAgICd1bmJvbmRpbmdEZWxlZ2F0aW9uc1F1ZXJ5V2F0Y2hlcicsXG4gICAgICAgIHtcbiAgICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSkucmV0dXJucyhcbiAgICAgICAgICAgIE0uYXJyYXlPZihNLnJlY29yZCgpKSxcbiAgICAgICAgICApLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICAgIHJlZGVsZWdhdGlvblF1ZXJ5V2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3JlZGVsZWdhdGlvblF1ZXJ5V2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFycmF5T2YoTS5yZWNvcmQoKSkpLnJldHVybnMoXG4gICAgICAgICAgTS5hcnJheU9mKE0ucmVjb3JkKCkpLFxuICAgICAgICApLFxuICAgICAgfSksXG4gICAgICByZWRlbGVnYXRpb25zUXVlcnlXYXRjaGVyOiBNLmludGVyZmFjZSgncmVkZWxlZ2F0aW9uc1F1ZXJ5V2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFycmF5T2YoTS5yZWNvcmQoKSkpLnJldHVybnMoXG4gICAgICAgICAgTS5hcnJheU9mKE0ucmVjb3JkKCkpLFxuICAgICAgICApLFxuICAgICAgfSksXG4gICAgICByZXdhcmRRdWVyeVdhdGNoZXI6IE0uaW50ZXJmYWNlKCdyZXdhcmRRdWVyeVdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hcnJheU9mKE0ucmVjb3JkKCkpKS5yZXR1cm5zKFxuICAgICAgICAgIE0uYXJyYXlPZihNLnJlY29yZCgpKSxcbiAgICAgICAgKSxcbiAgICAgIH0pLFxuICAgICAgcmV3YXJkc1F1ZXJ5V2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3Jld2FyZHNRdWVyeVdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5hcnJheU9mKE0ucmVjb3JkKCkpKS5yZXR1cm5zKE0ucmVjb3JkKCkpLFxuICAgICAgfSksXG4gICAgICBob2xkZXI6IEljYUFjY291bnRIb2xkZXJJLFxuICAgICAgaW52aXRhdGlvbk1ha2VyczogQ29zbW9zT3JjaGVzdHJhdGlvbkludml0YXRpb25NYWtlcnNJLFxuICAgIH0sXG4gICAgLypcblxuXG5cblxuXG5cblxuXG5cblxuICAgICAqL1xuICAgICh7IGNoYWluQWRkcmVzcywgbG9jYWxBZGRyZXNzLCByZW1vdGVBZGRyZXNzIH0sIGlvKSA9PiB7XG4gICAgICB0cmFjZSgnY29zbW9zIG9yY2ggYWNjdCBpbml0Jywge1xuICAgICAgICBjaGFpbkFkZHJlc3MsXG4gICAgICAgIGxvY2FsQWRkcmVzcyxcbiAgICAgICAgcmVtb3RlQWRkcmVzcyxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgeyBzdG9yYWdlTm9kZSB9ID0gaW87XG4gICAgICAvL1xuICAgICAgY29uc3QgdG9waWNLaXQgPSBzdG9yYWdlTm9kZVxuICAgICAgICA/IG1ha2VSZWNvcmRlcktpdChzdG9yYWdlTm9kZSwgUFVCTElDX1RPUElDUy5hY2NvdW50WzFdKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBpZiAodG9waWNLaXQpIHtcbiAgICAgICAgdm9pZCBFKHRvcGljS2l0LnJlY29yZGVyKS53cml0ZShcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoe1xuICAgICAgICAgICAgbG9jYWxBZGRyZXNzLFxuICAgICAgICAgICAgcmVtb3RlQWRkcmVzcyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgYWNjb3VudCwgaWNxQ29ubmVjdGlvbiwgdGltZXIgfSA9IGlvO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWNjb3VudCxcbiAgICAgICAgY2hhaW5BZGRyZXNzLFxuICAgICAgICBpY3FDb25uZWN0aW9uLFxuICAgICAgICBsb2NhbEFkZHJlc3MsXG4gICAgICAgIHJlbW90ZUFkZHJlc3MsXG4gICAgICAgIHRpbWVyLFxuICAgICAgICB0b3BpY0tpdCxcbiAgICAgIH07XG4gICAgfSxcbiAgICB7XG4gICAgICBoZWxwZXI6IHtcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgb3duZWQoKSB7XG4gICAgICAgICAgY29uc3QgeyBhY2NvdW50IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIGlmICghYWNjb3VudCkge1xuICAgICAgICAgICAgdGhyb3cgRmFpbGBVc2luZyBhY2NvdW50IGhvbGRlciBhZnRlciB0cmFuc2ZlcmA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhY2NvdW50O1xuICAgICAgICB9LFxuICAgICAgICBnZXRVcGRhdGVyKCkge1xuICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS50b3BpY0tpdCkgdGhyb3cgRmFpbGBubyB0b3BpY0tpdGA7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUudG9waWNLaXQucmVjb3JkZXI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgYW1vdW50VG9Db2luKGFtb3VudCkge1xuICAgICAgICAgICEoJ2JyYW5kJyBpbiBhbW91bnQpIHx8XG4gICAgICAgICAgICBGYWlsYCdhbW91bnRUb0NvaW4nIG5vdCB3b3JraW5nIGZvciAke3EoYW1vdW50LmJyYW5kKX0gdW50aWwgIzEwNDQ5OyB1c2UgJ0Rlbm9tQW1vdW50JyBmb3Igbm93YDtcbiAgICAgICAgICByZXR1cm4gY29lcmNlQ29pbihjaGFpbkh1YiwgYW1vdW50KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBiYWxhbmNlUXVlcnlXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFtyZXN1bHRdKSB7XG4gICAgICAgICAgaWYgKCFyZXN1bHQ/LmtleSkgdGhyb3cgRmFpbGBFcnJvciBwYXJzaW5nIHJlc3VsdCAke3Jlc3VsdH1gO1xuICAgICAgICAgIGNvbnN0IHsgYmFsYW5jZSB9ID0gUXVlcnlCYWxhbmNlUmVzcG9uc2UuZGVjb2RlKFxuICAgICAgICAgICAgZGVjb2RlQmFzZTY0KHJlc3VsdC5rZXkpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFiYWxhbmNlKSB0aHJvdyBGYWlsYFJlc3VsdCBsYWNrZWQgYmFsYW5jZSBrZXk6ICR7cmVzdWx0fWA7XG4gICAgICAgICAgcmV0dXJuIGhhcmRlbih0b0Rlbm9tQW1vdW50KGJhbGFuY2UpKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBkZWxlZ2F0aW9uUXVlcnlXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQoW3Jlc3VsdF0pIHtcbiAgICAgICAgICBpZiAoIXJlc3VsdD8ua2V5KSB0aHJvdyBGYWlsYEVycm9yIHBhcnNpbmcgcmVzdWx0ICR7cmVzdWx0fWA7XG4gICAgICAgICAgY29uc3QgeyBkZWxlZ2F0aW9uUmVzcG9uc2UgfSA9IFF1ZXJ5RGVsZWdhdGlvblJlc3BvbnNlLmRlY29kZShcbiAgICAgICAgICAgIGRlY29kZUJhc2U2NChyZXN1bHQua2V5KSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghZGVsZWdhdGlvblJlc3BvbnNlKVxuICAgICAgICAgICAgdGhyb3cgRmFpbGBSZXN1bHQgbGFja2VkIGRlbGVnYXRpb25SZXNwb25zZSBrZXk6ICR7cmVzdWx0fWA7XG4gICAgICAgICAgY29uc3QgeyBjaGFpbkFkZHJlc3MgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgcmV0dXJuIGhhcmRlbihcbiAgICAgICAgICAgIHRvQ29zbW9zRGVsZWdhdGlvblJlc3BvbnNlKGNoYWluQWRkcmVzcywgZGVsZWdhdGlvblJlc3BvbnNlKSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGRlbGVnYXRpb25zUXVlcnlXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQoW3Jlc3VsdF0pIHtcbiAgICAgICAgICBpZiAoIXJlc3VsdD8ua2V5KSB0aHJvdyBGYWlsYEVycm9yIHBhcnNpbmcgcmVzdWx0ICR7cmVzdWx0fWA7XG4gICAgICAgICAgY29uc3QgeyBkZWxlZ2F0aW9uUmVzcG9uc2VzIH0gPVxuICAgICAgICAgICAgUXVlcnlEZWxlZ2F0b3JEZWxlZ2F0aW9uc1Jlc3BvbnNlLmRlY29kZShkZWNvZGVCYXNlNjQocmVzdWx0LmtleSkpO1xuICAgICAgICAgIGlmICghZGVsZWdhdGlvblJlc3BvbnNlcylcbiAgICAgICAgICAgIHRocm93IEZhaWxgUmVzdWx0IGxhY2tlZCBkZWxlZ2F0aW9uUmVzcG9uc2VzIGtleTogJHtyZXN1bHR9YDtcbiAgICAgICAgICBjb25zdCB7IGNoYWluQWRkcmVzcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKFxuICAgICAgICAgICAgZGVsZWdhdGlvblJlc3BvbnNlcy5tYXAociA9PlxuICAgICAgICAgICAgICB0b0Nvc21vc0RlbGVnYXRpb25SZXNwb25zZShjaGFpbkFkZHJlc3MsIHIpLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHVuYm9uZGluZ0RlbGVnYXRpb25RdWVyeVdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQoW3Jlc3VsdF0pIHtcbiAgICAgICAgICBpZiAoIXJlc3VsdD8ua2V5KSB0aHJvdyBGYWlsYEVycm9yIHBhcnNpbmcgcmVzdWx0ICR7cmVzdWx0fWA7XG4gICAgICAgICAgY29uc3QgeyB1bmJvbmQgfSA9IFF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvblJlc3BvbnNlLmRlY29kZShcbiAgICAgICAgICAgIGRlY29kZUJhc2U2NChyZXN1bHQua2V5KSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghdW5ib25kKSB0aHJvdyBGYWlsYFJlc3VsdCBsYWNrZWQgdW5ib25kIGtleTogJHtyZXN1bHR9YDtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHVuYm9uZCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdW5ib25kaW5nRGVsZWdhdGlvbnNRdWVyeVdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQoW3Jlc3VsdF0pIHtcbiAgICAgICAgICBpZiAoIXJlc3VsdD8ua2V5KSB0aHJvdyBGYWlsYEVycm9yIHBhcnNpbmcgcmVzdWx0ICR7cmVzdWx0fWA7XG4gICAgICAgICAgY29uc3QgeyB1bmJvbmRpbmdSZXNwb25zZXMgfSA9XG4gICAgICAgICAgICBRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVzcG9uc2UuZGVjb2RlKFxuICAgICAgICAgICAgICBkZWNvZGVCYXNlNjQocmVzdWx0LmtleSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmICghdW5ib25kaW5nUmVzcG9uc2VzKVxuICAgICAgICAgICAgdGhyb3cgRmFpbGBSZXN1bHQgbGFja2VkIHVuYm9uZGluZ1Jlc3BvbnNlcyBrZXk6ICR7cmVzdWx0fWA7XG4gICAgICAgICAgcmV0dXJuIGhhcmRlbih1bmJvbmRpbmdSZXNwb25zZXMpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJlZGVsZWdhdGlvblF1ZXJ5V2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbcmVzdWx0XSkge1xuICAgICAgICAgIGlmICghcmVzdWx0Py5rZXkpIHRocm93IEZhaWxgRXJyb3IgcGFyc2luZyByZXN1bHQgJHtyZXN1bHR9YDtcbiAgICAgICAgICBjb25zdCB7IHJlZGVsZWdhdGlvblJlc3BvbnNlcyB9ID0gUXVlcnlSZWRlbGVnYXRpb25zUmVzcG9uc2UuZGVjb2RlKFxuICAgICAgICAgICAgZGVjb2RlQmFzZTY0KHJlc3VsdC5rZXkpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFyZWRlbGVnYXRpb25SZXNwb25zZXMpXG4gICAgICAgICAgICB0aHJvdyBGYWlsYFJlc3VsdCBsYWNrZWQgcmVkZWxlZ2F0aW9uUmVzcG9uc2VzIGtleTogJHtyZXN1bHR9YDtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHJlZGVsZWdhdGlvblJlc3BvbnNlcyk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmVkZWxlZ2F0aW9uc1F1ZXJ5V2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbcmVzdWx0XSkge1xuICAgICAgICAgIGlmICghcmVzdWx0Py5rZXkpIHRocm93IEZhaWxgRXJyb3IgcGFyc2luZyByZXN1bHQgJHtyZXN1bHR9YDtcbiAgICAgICAgICBjb25zdCB7IHJlZGVsZWdhdGlvblJlc3BvbnNlcyB9ID0gUXVlcnlSZWRlbGVnYXRpb25zUmVzcG9uc2UuZGVjb2RlKFxuICAgICAgICAgICAgZGVjb2RlQmFzZTY0KHJlc3VsdC5rZXkpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFyZWRlbGVnYXRpb25SZXNwb25zZXMpXG4gICAgICAgICAgICB0aHJvdyBGYWlsYFJlc3VsdCBsYWNrZWQgcmVkZWxlZ2F0aW9uUmVzcG9uc2VzIGtleTogJHtyZXN1bHR9YDtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHJlZGVsZWdhdGlvblJlc3BvbnNlcyk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmV3YXJkUXVlcnlXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFtyZXN1bHRdKSB7XG4gICAgICAgICAgaWYgKCFyZXN1bHQ/LmtleSkgdGhyb3cgRmFpbGBFcnJvciBwYXJzaW5nIHJlc3VsdCAke3Jlc3VsdH1gO1xuICAgICAgICAgIGNvbnN0IHsgcmV3YXJkcyB9ID0gUXVlcnlEZWxlZ2F0aW9uUmV3YXJkc1Jlc3BvbnNlLmRlY29kZShcbiAgICAgICAgICAgIGRlY29kZUJhc2U2NChyZXN1bHQua2V5KSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghcmV3YXJkcykgdGhyb3cgRmFpbGBSZXN1bHQgbGFja2VkIHJld2FyZHMga2V5OiAke3Jlc3VsdH1gO1xuICAgICAgICAgIHJldHVybiBoYXJkZW4ocmV3YXJkcy5tYXAodG9UcnVuY2F0ZWREZW5vbUFtb3VudCkpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJld2FyZHNRdWVyeVdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbcmVzdWx0XSkge1xuICAgICAgICAgIGlmICghcmVzdWx0Py5rZXkpIHRocm93IEZhaWxgRXJyb3IgcGFyc2luZyByZXN1bHQgJHtyZXN1bHR9YDtcbiAgICAgICAgICBjb25zdCB7IHJld2FyZHMsIHRvdGFsIH0gPSBRdWVyeURlbGVnYXRpb25Ub3RhbFJld2FyZHNSZXNwb25zZS5kZWNvZGUoXG4gICAgICAgICAgICBkZWNvZGVCYXNlNjQocmVzdWx0LmtleSksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIXJld2FyZHMgfHwgIXRvdGFsKVxuICAgICAgICAgICAgdGhyb3cgRmFpbGBSZXN1bHQgbGFja2VkIHJld2FyZHMgb3IgdG90YWwga2V5OiAke3Jlc3VsdH1gO1xuICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgICAgICAgcmV3YXJkczogcmV3YXJkcy5tYXAocmV3YXJkID0+ICh7XG4gICAgICAgICAgICAgIHZhbGlkYXRvcjogdG9Db3Ntb3NWYWxpZGF0b3JBZGRyZXNzKHJld2FyZCwgY2hhaW5BZGRyZXNzLmNoYWluSWQpLFxuICAgICAgICAgICAgICByZXdhcmQ6IHJld2FyZC5yZXdhcmQubWFwKHRvVHJ1bmNhdGVkRGVub21BbW91bnQpLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgdG90YWw6IHRvdGFsLm1hcCh0b1RydW5jYXRlZERlbm9tQW1vdW50KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBhbGxCYWxhbmNlc1F1ZXJ5V2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChbcmVzdWx0XSkge1xuICAgICAgICAgIGxldCByZXNwb25zZTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBRdWVyeUFsbEJhbGFuY2VzUmVzcG9uc2UuZGVjb2RlKFxuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBkZWNvZGVCYXNlNjQocmVzdWx0LmtleSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgICAgICB0aHJvdyBtYWtlRXJyb3IoXG4gICAgICAgICAgICAgIGBFcnJvciBwYXJzaW5nIFF1ZXJ5QWxsQmFsYW5jZXMgcmVzdWx0ICR7cShyZXN1bHQpfWAsXG4gICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgeyBjYXVzZSB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgeyBiYWxhbmNlcyB9ID0gcmVzcG9uc2U7XG4gICAgICAgICAgaWYgKCFiYWxhbmNlcykgdGhyb3cgRmFpbGBSZXN1bHQgbGFja2VkIGJhbGFuY2VzIGtleTogJHtxKHJlc3VsdCl9YDtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKGJhbGFuY2VzLm1hcChjb2luID0+IHRvRGVub21BbW91bnQoY29pbikpKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB1bmRlbGVnYXRlV2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChyZXN1bHQpIHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHRyeURlY29kZVJlc3BvbnNlKFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgTXNnVW5kZWxlZ2F0ZVJlc3BvbnNlLmZyb21Qcm90b01zZyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHRyYWNlKCd1bmRlbGVnYXRlIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuICAgICAgICAgIGNvbnN0IHsgY29tcGxldGlvblRpbWUgfSA9IHJlc3BvbnNlO1xuICAgICAgICAgIGNvbXBsZXRpb25UaW1lIHx8IEZhaWxgTm8gY29tcGxldGlvbiB0aW1lIHJlc3VsdCAke3Jlc3VsdH1gO1xuICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBFKHRoaXMuc3RhdGUudGltZXIpLndha2VBdChjb21wbGV0aW9uVGltZS5zZWNvbmRzICsgbWF4Q2xvY2tTa2V3KSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIC8qXG5cblxuICAgICAgICovXG4gICAgICByZXR1cm5Wb2lkV2F0Y2hlcjoge1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKHJlc3VsdCkge1xuICAgICAgICAgIHRyYWNlKCdSZXN1bHQnLCByZXN1bHQpO1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgd2l0aGRyYXdSZXdhcmRXYXRjaGVyOiB7XG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKHJlc3VsdCkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gdHJ5RGVjb2RlUmVzcG9uc2UoXG4gICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICBNc2dXaXRoZHJhd0RlbGVnYXRvclJld2FyZFJlc3BvbnNlLmZyb21Qcm90b01zZyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHRyYWNlKCd3aXRoZHJhd1Jld2FyZCByZXNwb25zZScsIHJlc3BvbnNlKTtcbiAgICAgICAgICBjb25zdCB7IGFtb3VudDogY29pbnMgfSA9IHJlc3BvbnNlO1xuICAgICAgICAgIHJldHVybiBoYXJkZW4oY29pbnMubWFwKHRvRGVub21BbW91bnQpKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB0cmFuc2ZlcldhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFxuICAgICAgICAgIFt7IHRyYW5zZmVyQ2hhbm5lbCB9LCB0aW1lb3V0VGltZXN0YW1wXSxcbiAgICAgICAgICB7IG9wdHMsIHRva2VuLCBkZXN0aW5hdGlvbiB9LFxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCByZXN1bHRzID0gRSh0aGlzLmZhY2V0cy5oZWxwZXIub3duZWQoKSkuZXhlY3V0ZUVuY29kZWRUeChbXG4gICAgICAgICAgICBBbnkudG9KU09OKFxuICAgICAgICAgICAgICBNc2dUcmFuc2Zlci50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgICBzb3VyY2VQb3J0OiB0cmFuc2ZlckNoYW5uZWwucG9ydElkLFxuICAgICAgICAgICAgICAgIHNvdXJjZUNoYW5uZWw6IHRyYW5zZmVyQ2hhbm5lbC5jaGFubmVsSWQsXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLnN0YXRlLmNoYWluQWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlcjogZGVzdGluYXRpb24udmFsdWUsXG4gICAgICAgICAgICAgICAgdGltZW91dEhlaWdodDogb3B0cz8udGltZW91dEhlaWdodCA/PyB7XG4gICAgICAgICAgICAgICAgICByZXZpc2lvbkhlaWdodDogMG4sXG4gICAgICAgICAgICAgICAgICByZXZpc2lvbk51bWJlcjogMG4sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0aW1lb3V0VGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIG1lbW86IG9wdHM/Lm1lbW8gPz8gJycsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBdKTtcbiAgICAgICAgICByZXR1cm4gd2F0Y2gocmVzdWx0cywgdGhpcy5mYWNldHMucmV0dXJuVm9pZFdhdGNoZXIpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGludml0YXRpb25NYWtlcnM6IHtcbiAgICAgICAgLypcblxuXG4gICAgICAgICAqL1xuICAgICAgICBEZWxlZ2F0ZSh2YWxpZGF0b3IsIGFtb3VudCkge1xuICAgICAgICAgIHRyYWNlKCdEZWxlZ2F0ZScsIHZhbGlkYXRvciwgYW1vdW50KTtcblxuICAgICAgICAgIHJldHVybiB6Y2YubWFrZUludml0YXRpb24oc2VhdCA9PiB7XG4gICAgICAgICAgICBzZWF0LmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaCh0aGlzLmZhY2V0cy5ob2xkZXIuZGVsZWdhdGUodmFsaWRhdG9yLCBhbW91bnQpKTtcbiAgICAgICAgICB9LCAnRGVsZWdhdGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIFJlZGVsZWdhdGUoc3JjVmFsaWRhdG9yLCBkc3RWYWxpZGF0b3IsIGFtb3VudCkge1xuICAgICAgICAgIHRyYWNlKCdSZWRlbGVnYXRlJywgc3JjVmFsaWRhdG9yLCBkc3RWYWxpZGF0b3IsIGFtb3VudCk7XG5cbiAgICAgICAgICByZXR1cm4gemNmLm1ha2VJbnZpdGF0aW9uKHNlYXQgPT4ge1xuICAgICAgICAgICAgc2VhdC5leGl0KCk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLmhvbGRlci5yZWRlbGVnYXRlKHNyY1ZhbGlkYXRvciwgZHN0VmFsaWRhdG9yLCBhbW91bnQpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LCAnUmVkZWxlZ2F0ZScpO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgV2l0aGRyYXdSZXdhcmQodmFsaWRhdG9yKSB7XG4gICAgICAgICAgdHJhY2UoJ1dpdGhkcmF3UmV3YXJkJywgdmFsaWRhdG9yKTtcbiAgICAgICAgICByZXR1cm4gemNmLm1ha2VJbnZpdGF0aW9uKHNlYXQgPT4ge1xuICAgICAgICAgICAgc2VhdC5leGl0KCk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2godGhpcy5mYWNldHMuaG9sZGVyLndpdGhkcmF3UmV3YXJkKHZhbGlkYXRvcikpO1xuICAgICAgICAgIH0sICdXaXRoZHJhd1Jld2FyZCcpO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBVbmRlbGVnYXRlKGRlbGVnYXRpb25zKSB7XG4gICAgICAgICAgdHJhY2UoJ1VuZGVsZWdhdGUnLCBkZWxlZ2F0aW9ucyk7XG4gICAgICAgICAgcmV0dXJuIHpjZi5tYWtlSW52aXRhdGlvbihzZWF0ID0+IHtcbiAgICAgICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHRoaXMuZmFjZXRzLmhvbGRlci51bmRlbGVnYXRlKGRlbGVnYXRpb25zKSk7XG4gICAgICAgICAgfSwgJ1VuZGVsZWdhdGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgRGVhY3RpdmF0ZUFjY291bnQoKSB7XG4gICAgICAgICAgcmV0dXJuIHpjZi5tYWtlSW52aXRhdGlvbihzZWF0ID0+IHtcbiAgICAgICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHRoaXMuZmFjZXRzLmhvbGRlci5kZWFjdGl2YXRlKCkpO1xuICAgICAgICAgIH0sICdEZWFjdGl2YXRlQWNjb3VudCcpO1xuICAgICAgICB9LFxuICAgICAgICBSZWFjdGl2YXRlQWNjb3VudCgpIHtcbiAgICAgICAgICByZXR1cm4gemNmLm1ha2VJbnZpdGF0aW9uKHNlYXQgPT4ge1xuICAgICAgICAgICAgc2VhdC5leGl0KCk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2godGhpcy5mYWNldHMuaG9sZGVyLnJlYWN0aXZhdGUoKSk7XG4gICAgICAgICAgfSwgJ1JlYWN0aXZhdGVBY2NvdW50Jyk7XG4gICAgICAgIH0sXG4gICAgICAgIFNlbmQoKSB7XG4gICAgICAgICAgLypcblxuXG5cblxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IG9mZmVySGFuZGxlciA9IChzZWF0LCB7IHRvQWNjb3VudCwgYW1vdW50IH0pID0+IHtcbiAgICAgICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHRoaXMuZmFjZXRzLmhvbGRlci5zZW5kKHRvQWNjb3VudCwgYW1vdW50KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gemNmLm1ha2VJbnZpdGF0aW9uKG9mZmVySGFuZGxlciwgJ1NlbmQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgU2VuZEFsbCgpIHtcbiAgICAgICAgICAvKlxuXG5cblxuXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29uc3Qgb2ZmZXJIYW5kbGVyID0gKHNlYXQsIHsgdG9BY2NvdW50LCBhbW91bnRzIH0pID0+IHtcbiAgICAgICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHRoaXMuZmFjZXRzLmhvbGRlci5zZW5kQWxsKHRvQWNjb3VudCwgYW1vdW50cykpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHpjZi5tYWtlSW52aXRhdGlvbihvZmZlckhhbmRsZXIsICdTZW5kQWxsJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBUcmFuc2ZlckFjY291bnQoKSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ25vdCB5ZXQgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgVHJhbnNmZXIoKSB7XG4gICAgICAgICAgLypcblxuXG5cblxuXG5cblxuXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29uc3Qgb2ZmZXJIYW5kbGVyID0gKHNlYXQsIHsgYW1vdW50LCBkZXN0aW5hdGlvbiwgb3B0cyB9KSA9PiB7XG4gICAgICAgICAgICBzZWF0LmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMuaG9sZGVyLnRyYW5zZmVyKGRlc3RpbmF0aW9uLCBhbW91bnQsIG9wdHMpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiB6Y2YubWFrZUludml0YXRpb24ob2ZmZXJIYW5kbGVyLCAnVHJhbnNmZXInKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBob2xkZXI6IHtcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBhc0NvbnRpbnVpbmdPZmZlcigpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICByZXR1cm4gYXNWb3coYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHsgaG9sZGVyLCBpbnZpdGF0aW9uTWFrZXJzOiBpbSB9ID0gdGhpcy5mYWNldHM7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3QgaW52aXRhdGlvbk1ha2VycyA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICovIChpbSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBwdWJsaWNTdWJzY3JpYmVyczogYXdhaXQgd2hlbihob2xkZXIuZ2V0UHVibGljVG9waWNzKCkpLFxuICAgICAgICAgICAgICBpbnZpdGF0aW9uTWFrZXJzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldFB1YmxpY1RvcGljcygpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIGFzVm93KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IG51bGw7XG4gICAgICAgICAgICBjb25zdCB7IHRvcGljS2l0IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCF0b3BpY0tpdCkgdGhyb3cgRmFpbGBObyB0b3BpY0tpdDsgc3RvcmFnZU5vZGUgbm90IHByb3ZpZGVkYDtcbiAgICAgICAgICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgICAgICAgICBhY2NvdW50OiB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFBVQkxJQ19UT1BJQ1MuYWNjb3VudFswXSxcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyOiB0b3BpY0tpdC5zdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2VQYXRoOiBhd2FpdCB0b3BpY0tpdC5yZWNvcmRlci5nZXRTdG9yYWdlUGF0aCgpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldEFkZHJlc3MoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuY2hhaW5BZGRyZXNzO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBkZWxlZ2F0ZSh2YWxpZGF0b3IsIGFtb3VudCkge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgnZGVsZWdhdGUnLCB2YWxpZGF0b3IsIGFtb3VudCk7XG4gICAgICAgICAgICBjb25zdCB7IGhlbHBlciB9ID0gdGhpcy5mYWNldHM7XG4gICAgICAgICAgICBjb25zdCB7IGNoYWluQWRkcmVzcyB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgICAgY29uc3QgYW1vdW50QXNDb2luID0gaGVscGVyLmFtb3VudFRvQ29pbihhbW91bnQpO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gRShoZWxwZXIub3duZWQoKSkuZXhlY3V0ZUVuY29kZWRUeChbXG4gICAgICAgICAgICAgIEFueS50b0pTT04oXG4gICAgICAgICAgICAgICAgTXNnRGVsZWdhdGUudG9Qcm90b01zZyh7XG4gICAgICAgICAgICAgICAgICBkZWxlZ2F0b3JBZGRyZXNzOiBjaGFpbkFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgICB2YWxpZGF0b3JBZGRyZXNzOiB2YWxpZGF0b3IudmFsdWUsXG4gICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudEFzQ29pbixcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHJlc3VsdHMsIHRoaXMuZmFjZXRzLnJldHVyblZvaWRXYXRjaGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIHJlZGVsZWdhdGUoc3JjVmFsaWRhdG9yLCBkc3RWYWxpZGF0b3IsIGFtb3VudCkge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgncmVkZWxlZ2F0ZScsIHNyY1ZhbGlkYXRvciwgZHN0VmFsaWRhdG9yLCBhbW91bnQpO1xuICAgICAgICAgICAgY29uc3QgeyBoZWxwZXIgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgICAgY29uc3QgeyBjaGFpbkFkZHJlc3MgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBFKGhlbHBlci5vd25lZCgpKS5leGVjdXRlRW5jb2RlZFR4KFtcbiAgICAgICAgICAgICAgQW55LnRvSlNPTihcbiAgICAgICAgICAgICAgICBNc2dCZWdpblJlZGVsZWdhdGUudG9Qcm90b01zZyh7XG4gICAgICAgICAgICAgICAgICBkZWxlZ2F0b3JBZGRyZXNzOiBjaGFpbkFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgICB2YWxpZGF0b3JTcmNBZGRyZXNzOiBzcmNWYWxpZGF0b3IudmFsdWUsXG4gICAgICAgICAgICAgICAgICB2YWxpZGF0b3JEc3RBZGRyZXNzOiBkc3RWYWxpZGF0b3IudmFsdWUsXG4gICAgICAgICAgICAgICAgICBhbW91bnQ6IGhlbHBlci5hbW91bnRUb0NvaW4oYW1vdW50KSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgIHJlc3VsdHMsXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnJldHVyblZvaWRXYXRjaGVyLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgd2l0aGRyYXdSZXdhcmQodmFsaWRhdG9yKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIHRyYWNlKCd3aXRoZHJhd1Jld2FyZCcsIHZhbGlkYXRvcik7XG4gICAgICAgICAgICBjb25zdCB7IGhlbHBlciB9ID0gdGhpcy5mYWNldHM7XG4gICAgICAgICAgICBjb25zdCB7IGNoYWluQWRkcmVzcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IE1zZ1dpdGhkcmF3RGVsZWdhdG9yUmV3YXJkLnRvUHJvdG9Nc2coe1xuICAgICAgICAgICAgICBkZWxlZ2F0b3JBZGRyZXNzOiBjaGFpbkFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgIHZhbGlkYXRvckFkZHJlc3M6IHZhbGlkYXRvci52YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IGhlbHBlci5vd25lZCgpO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gRShhY2NvdW50KS5leGVjdXRlRW5jb2RlZFR4KFtBbnkudG9KU09OKG1zZyldKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaChyZXN1bHRzLCB0aGlzLmZhY2V0cy53aXRoZHJhd1Jld2FyZFdhdGNoZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZ2V0QmFsYW5jZShkZW5vbSkge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGNoYWluQWRkcmVzcywgaWNxQ29ubmVjdGlvbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGlmICghaWNxQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICB0aHJvdyBGYWlsYFF1ZXJpZXMgbm90IGF2YWlsYWJsZSBmb3IgY2hhaW4gJHtxKGNoYWluQWRkcmVzcy5jaGFpbklkKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IEUoaWNxQ29ubmVjdGlvbikucXVlcnkoW1xuICAgICAgICAgICAgICB0b1JlcXVlc3RRdWVyeUpzb24oXG4gICAgICAgICAgICAgICAgUXVlcnlCYWxhbmNlUmVxdWVzdC50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGNoYWluQWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIGRlbm9tOiBjb2VyY2VEZW5vbShjaGFpbkh1YiwgZGVub20pLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2gocmVzdWx0cywgdGhpcy5mYWNldHMuYmFsYW5jZVF1ZXJ5V2F0Y2hlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBnZXRCYWxhbmNlcygpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjaGFpbkFkZHJlc3MsIGljcUNvbm5lY3Rpb24gfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgICBpZiAoIWljcUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgdGhyb3cgRmFpbGBRdWVyaWVzIG5vdCBhdmFpbGFibGUgZm9yIGNoYWluICR7cShjaGFpbkFkZHJlc3MuY2hhaW5JZCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBFKGljcUNvbm5lY3Rpb24pLnF1ZXJ5KFtcbiAgICAgICAgICAgICAgdG9SZXF1ZXN0UXVlcnlKc29uKFxuICAgICAgICAgICAgICAgIFF1ZXJ5QWxsQmFsYW5jZXNSZXF1ZXN0LnRvUHJvdG9Nc2coe1xuICAgICAgICAgICAgICAgICAgYWRkcmVzczogY2hhaW5BZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2gocmVzdWx0cywgdGhpcy5mYWNldHMuYWxsQmFsYW5jZXNRdWVyeVdhdGNoZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBzZW5kKHRvQWNjb3VudCwgYW1vdW50KSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIHRyYWNlKCdzZW5kJywgdG9BY2NvdW50LCBhbW91bnQpO1xuICAgICAgICAgICAgY29uc3QgY29zbW9zRGVzdCA9IGNoYWluSHViLmNvZXJjZUNvc21vc0FkZHJlc3ModG9BY2NvdW50KTtcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgY29zbW9zRGVzdC5jaGFpbklkID09PSBjaGFpbkFkZHJlc3MuY2hhaW5JZCB8fFxuICAgICAgICAgICAgICBGYWlsYGJhbmsvc2VuZCBjYW5ub3Qgc2VuZCB0byBhIGRpZmZlcmVudCBjaGFpbiAke3EoY29zbW9zRGVzdC5jaGFpbklkKX1gO1xuICAgICAgICAgICAgY29uc3QgeyBoZWxwZXIgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgICBFKGhlbHBlci5vd25lZCgpKS5leGVjdXRlRW5jb2RlZFR4KFtcbiAgICAgICAgICAgICAgICBBbnkudG9KU09OKFxuICAgICAgICAgICAgICAgICAgTXNnU2VuZC50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUFkZHJlc3M6IGNoYWluQWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdG9BZGRyZXNzOiBjb3Ntb3NEZXN0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IFtoZWxwZXIuYW1vdW50VG9Db2luKGFtb3VudCldLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnJldHVyblZvaWRXYXRjaGVyLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgc2VuZEFsbCh0b0FjY291bnQsIGFtb3VudHMpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgdHJhY2UoJ3NlbmRBbGwnLCB0b0FjY291bnQsIGFtb3VudHMpO1xuICAgICAgICAgICAgY29uc3QgeyBoZWxwZXIgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgICAgY29uc3QgeyBjaGFpbkFkZHJlc3MgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgIEUoaGVscGVyLm93bmVkKCkpLmV4ZWN1dGVFbmNvZGVkVHgoW1xuICAgICAgICAgICAgICAgIEFueS50b0pTT04oXG4gICAgICAgICAgICAgICAgICBNc2dTZW5kLnRvUHJvdG9Nc2coe1xuICAgICAgICAgICAgICAgICAgICBmcm9tQWRkcmVzczogY2hhaW5BZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0b0FkZHJlc3M6IHRvQWNjb3VudC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnRzLm1hcCh4ID0+IGhlbHBlci5hbW91bnRUb0NvaW4oeCkpLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnJldHVyblZvaWRXYXRjaGVyLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIHRyYW5zZmVyKGRlc3RpbmF0aW9uLCBhbW91bnQsIG9wdHMpIHtcbiAgICAgICAgICB0cmFjZSgndHJhbnNmZXInLCBkZXN0aW5hdGlvbiwgYW1vdW50LCBvcHRzKTtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuXG4gICAgICAgICAgICBjb25zdCBjb3Ntb3NEZXN0ID0gY2hhaW5IdWIuY29lcmNlQ29zbW9zQWRkcmVzcyhkZXN0aW5hdGlvbik7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgaGVscGVyIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gaGVscGVyLmFtb3VudFRvQ29pbihhbW91bnQpO1xuXG4gICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uSW5mb1YgPSB3YXRjaChcbiAgICAgICAgICAgICAgY2hhaW5IdWIuZ2V0Q29ubmVjdGlvbkluZm8oXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jaGFpbkFkZHJlc3MuY2hhaW5JZCxcbiAgICAgICAgICAgICAgICBjb3Ntb3NEZXN0LmNoYWluSWQsXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgICBhbGxWb3dzKFtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uSW5mb1YsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wSGVscGVyLnZvd09yVmFsdWVGcm9tT3B0cyhvcHRzKSxcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnRyYW5zZmVyV2F0Y2hlcixcbiAgICAgICAgICAgICAgeyBvcHRzLCB0b2tlbiwgZGVzdGluYXRpb246IGNvc21vc0Rlc3QgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIHRyYW5zZmVyU3RlcHMoYW1vdW50LCBtc2cpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygndHJhbnNmZXJTdGVwcyBnb3QnLCBhbW91bnQsIG1zZyk7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IEZhaWxgbm90IHlldCBpbXBsZW1lbnRlZGApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICB3aXRoZHJhd1Jld2FyZHMoKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IEZhaWxgTm90IEltcGxlbWVudGVkLiBUcnkgdXNpbmcgd2l0aGRyYXdSZXdhcmQuYCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICB1bmRlbGVnYXRlKGRlbGVnYXRpb25zKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIHRyYWNlKCd1bmRlbGVnYXRlJywgZGVsZWdhdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgeyBoZWxwZXIgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgICAgY29uc3QgeyBjaGFpbkFkZHJlc3MgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICAgIGRlbGVnYXRpb25zLmV2ZXJ5KGQgPT5cbiAgICAgICAgICAgICAgZC5kZWxlZ2F0b3IgPyBkLmRlbGVnYXRvci52YWx1ZSA9PT0gY2hhaW5BZGRyZXNzLnZhbHVlIDogdHJ1ZSxcbiAgICAgICAgICAgICkgfHwgRmFpbGBTb21lIGRlbGVnYXRpb24gcmVjb3JkIGlzIGZvciBhbm90aGVyIGRlbGVnYXRvcmA7XG5cbiAgICAgICAgICAgIGNvbnN0IHVuZGVsZWdhdGVWID0gd2F0Y2goXG4gICAgICAgICAgICAgIEUoaGVscGVyLm93bmVkKCkpLmV4ZWN1dGVFbmNvZGVkVHgoXG4gICAgICAgICAgICAgICAgZGVsZWdhdGlvbnMubWFwKCh7IHZhbGlkYXRvciwgYW1vdW50IH0pID0+XG4gICAgICAgICAgICAgICAgICBBbnkudG9KU09OKFxuICAgICAgICAgICAgICAgICAgICBNc2dVbmRlbGVnYXRlLnRvUHJvdG9Nc2coe1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGVnYXRvckFkZHJlc3M6IGNoYWluQWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3JBZGRyZXNzOiB2YWxpZGF0b3IudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBjb2VyY2VDb2luKGNoYWluSHViLCBhbW91bnQpLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMudW5kZWxlZ2F0ZVdhdGNoZXIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHVuZGVsZWdhdGVWLCB0aGlzLmZhY2V0cy5yZXR1cm5Wb2lkV2F0Y2hlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGRlYWN0aXZhdGUoKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHdhdGNoKEUodGhpcy5mYWNldHMuaGVscGVyLm93bmVkKCkpLmRlYWN0aXZhdGUoKSkpO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICByZWFjdGl2YXRlKCkge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB3YXRjaChFKHRoaXMuZmFjZXRzLmhlbHBlci5vd25lZCgpKS5yZWFjdGl2YXRlKCkpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBnZXREZWxlZ2F0aW9uKHZhbGlkYXRvcikge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIHRyYWNlKCdnZXREZWxlZ2F0aW9uJywgdmFsaWRhdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzLCBpY3FDb25uZWN0aW9uIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFpY3FDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgUXVlcmllcyBub3QgYXZhaWxhYmxlIGZvciBjaGFpbiAke3EoY2hhaW5BZGRyZXNzLmNoYWluSWQpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gRShpY3FDb25uZWN0aW9uKS5xdWVyeShbXG4gICAgICAgICAgICAgIHRvUmVxdWVzdFF1ZXJ5SnNvbihcbiAgICAgICAgICAgICAgICBRdWVyeURlbGVnYXRpb25SZXF1ZXN0LnRvUHJvdG9Nc2coe1xuICAgICAgICAgICAgICAgICAgZGVsZWdhdG9yQWRkcjogY2hhaW5BZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yQWRkcjogdmFsaWRhdG9yLnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2gocmVzdWx0cywgdGhpcy5mYWNldHMuZGVsZWdhdGlvblF1ZXJ5V2F0Y2hlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldERlbGVnYXRpb25zKCkge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIHRyYWNlKCdnZXREZWxlZ2F0aW9ucycpO1xuICAgICAgICAgICAgY29uc3QgeyBjaGFpbkFkZHJlc3MsIGljcUNvbm5lY3Rpb24gfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgICBpZiAoIWljcUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgdGhyb3cgRmFpbGBRdWVyaWVzIG5vdCBhdmFpbGFibGUgZm9yIGNoYWluICR7cShjaGFpbkFkZHJlc3MuY2hhaW5JZCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBFKGljcUNvbm5lY3Rpb24pLnF1ZXJ5KFtcbiAgICAgICAgICAgICAgdG9SZXF1ZXN0UXVlcnlKc29uKFxuICAgICAgICAgICAgICAgIFF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnNSZXF1ZXN0LnRvUHJvdG9Nc2coe1xuICAgICAgICAgICAgICAgICAgZGVsZWdhdG9yQWRkcjogY2hhaW5BZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2gocmVzdWx0cywgdGhpcy5mYWNldHMuZGVsZWdhdGlvbnNRdWVyeVdhdGNoZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldFVuYm9uZGluZ0RlbGVnYXRpb24odmFsaWRhdG9yKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIHRyYWNlKCdnZXRVbmJvbmRpbmdEZWxlZ2F0aW9uJywgdmFsaWRhdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzLCBpY3FDb25uZWN0aW9uIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFpY3FDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgUXVlcmllcyBub3QgYXZhaWxhYmxlIGZvciBjaGFpbiAke3EoY2hhaW5BZGRyZXNzLmNoYWluSWQpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gRShpY3FDb25uZWN0aW9uKS5xdWVyeShbXG4gICAgICAgICAgICAgIHRvUmVxdWVzdFF1ZXJ5SnNvbihcbiAgICAgICAgICAgICAgICBRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb25SZXF1ZXN0LnRvUHJvdG9Nc2coe1xuICAgICAgICAgICAgICAgICAgZGVsZWdhdG9yQWRkcjogY2hhaW5BZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yQWRkcjogdmFsaWRhdG9yLnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2gocmVzdWx0cywgdGhpcy5mYWNldHMudW5ib25kaW5nRGVsZWdhdGlvblF1ZXJ5V2F0Y2hlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldFVuYm9uZGluZ0RlbGVnYXRpb25zKCkge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgnZ2V0VW5ib25kaW5nRGVsZWdhdGlvbnMnKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzLCBpY3FDb25uZWN0aW9uIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFpY3FDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgUXVlcmllcyBub3QgYXZhaWxhYmxlIGZvciBjaGFpbiAke3EoY2hhaW5BZGRyZXNzLmNoYWluSWQpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gRShpY3FDb25uZWN0aW9uKS5xdWVyeShbXG4gICAgICAgICAgICAgIHRvUmVxdWVzdFF1ZXJ5SnNvbihcbiAgICAgICAgICAgICAgICBRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zUmVxdWVzdC50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgICAgIGRlbGVnYXRvckFkZHI6IGNoYWluQWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHJlc3VsdHMsIHRoaXMuZmFjZXRzLnVuYm9uZGluZ0RlbGVnYXRpb25zUXVlcnlXYXRjaGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBnZXRSZWRlbGVnYXRpb25zKCkge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgnZ2V0UmVkZWxlZ2F0aW9ucycpO1xuICAgICAgICAgICAgY29uc3QgeyBjaGFpbkFkZHJlc3MsIGljcUNvbm5lY3Rpb24gfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgICBpZiAoIWljcUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgdGhyb3cgRmFpbGBRdWVyaWVzIG5vdCBhdmFpbGFibGUgZm9yIGNoYWluICR7cShjaGFpbkFkZHJlc3MuY2hhaW5JZCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBFKGljcUNvbm5lY3Rpb24pLnF1ZXJ5KFtcbiAgICAgICAgICAgICAgdG9SZXF1ZXN0UXVlcnlKc29uKFxuICAgICAgICAgICAgICAgIFF1ZXJ5UmVkZWxlZ2F0aW9uc1JlcXVlc3QudG9Qcm90b01zZyh7XG4gICAgICAgICAgICAgICAgICBkZWxlZ2F0b3JBZGRyOiBjaGFpbkFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgZHN0VmFsaWRhdG9yQWRkcjogJycsXG4gICAgICAgICAgICAgICAgICBzcmNWYWxpZGF0b3JBZGRyOiAnJyxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHJlc3VsdHMsIHRoaXMuZmFjZXRzLnJlZGVsZWdhdGlvbnNRdWVyeVdhdGNoZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmV3YXJkKHZhbGlkYXRvcikge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgnZ2V0UmV3YXJkJywgdmFsaWRhdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhaW5BZGRyZXNzLCBpY3FDb25uZWN0aW9uIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFpY3FDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgUXVlcmllcyBub3QgYXZhaWxhYmxlIGZvciBjaGFpbiAke3EoY2hhaW5BZGRyZXNzLmNoYWluSWQpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gRShpY3FDb25uZWN0aW9uKS5xdWVyeShbXG4gICAgICAgICAgICAgIHRvUmVxdWVzdFF1ZXJ5SnNvbihcbiAgICAgICAgICAgICAgICBRdWVyeURlbGVnYXRpb25SZXdhcmRzUmVxdWVzdC50b1Byb3RvTXNnKHtcbiAgICAgICAgICAgICAgICAgIGRlbGVnYXRvckFkZHJlc3M6IGNoYWluQWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIHZhbGlkYXRvckFkZHJlc3M6IHZhbGlkYXRvci52YWx1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHJlc3VsdHMsIHRoaXMuZmFjZXRzLnJld2FyZFF1ZXJ5V2F0Y2hlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmV3YXJkcygpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICB0cmFjZSgnZ2V0UmV3YXJkcycpO1xuICAgICAgICAgICAgY29uc3QgeyBjaGFpbkFkZHJlc3MsIGljcUNvbm5lY3Rpb24gfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgICBpZiAoIWljcUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgdGhyb3cgRmFpbGBRdWVyaWVzIG5vdCBhdmFpbGFibGUgZm9yIGNoYWluICR7cShjaGFpbkFkZHJlc3MuY2hhaW5JZCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBFKGljcUNvbm5lY3Rpb24pLnF1ZXJ5KFtcbiAgICAgICAgICAgICAgdG9SZXF1ZXN0UXVlcnlKc29uKFxuICAgICAgICAgICAgICAgIFF1ZXJ5RGVsZWdhdGlvblRvdGFsUmV3YXJkc1JlcXVlc3QudG9Qcm90b01zZyh7XG4gICAgICAgICAgICAgICAgICBkZWxlZ2F0b3JBZGRyZXNzOiBjaGFpbkFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaChyZXN1bHRzLCB0aGlzLmZhY2V0cy5yZXdhcmRzUXVlcnlXYXRjaGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZXhlY3V0ZUVuY29kZWRUeChtc2dzLCBvcHRzKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+XG4gICAgICAgICAgICB3YXRjaChFKHRoaXMuZmFjZXRzLmhlbHBlci5vd25lZCgpKS5leGVjdXRlRW5jb2RlZFR4KG1zZ3MsIG9wdHMpKSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBkZXBvc2l0Rm9yQnVybihkZXN0aW5hdGlvbiwgYW1vdW50LCBjYWxsZXIpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgdHJhY2UoJ2RlcG9zaXRGb3JCdXJuJywgeyBkZXN0aW5hdGlvbiwgYW1vdW50IH0pO1xuICAgICAgICAgICAgY29uc3QgeyBoZWxwZXIgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgICAgY29uc3QgeyBjaGFpbkFkZHJlc3MgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgICAgIGNvbnN0IGRlc3RQYXJ0cyA9IHBhcnNlQWNjb3VudElkKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBjaGFpbklkID0gYCR7ZGVzdFBhcnRzLm5hbWVzcGFjZX06JHtkZXN0UGFydHMucmVmZXJlbmNlfWA7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgY2N0cERlc3RpbmF0aW9uRG9tYWluIH0gPVxuICAgICAgICAgICAgICBjaGFpbkh1Yi5nZXRDaGFpbkluZm9CeUNoYWluSWQoY2hhaW5JZCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNjdHBEZXN0aW5hdGlvbkRvbWFpbiAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgdGhyb3cgRmFpbGAke3EoY2hhaW5JZCl9IGRvZXMgbm90IGhhdmUgXCJjY3RwRGVzdGluYXRpb25Eb21haW5cIiBzZXQgaW4gQ2hhaW5JbmZvYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgZGVwb3NpdEZvckJ1cm4gPSB7XG4gICAgICAgICAgICAgIGFtb3VudDogaGVscGVyLmFtb3VudFRvQ29pbihhbW91bnQpPy5hbW91bnQsXG4gICAgICAgICAgICAgIGZyb206IGNoYWluQWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgZGVzdGluYXRpb25Eb21haW46IGNjdHBEZXN0aW5hdGlvbkRvbWFpbixcbiAgICAgICAgICAgICAgbWludFJlY2lwaWVudDogYWNjb3VudElkVG8zMkJ5dGVzKGRlc3RpbmF0aW9uKSxcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgYnVyblRva2VuOiAndXVzZGMnLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgZGVzdGluYXRpb25DYWxsZXIgPSAoKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWNhbGxlcikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgY29uc3QgY2FsbGVyUGFydHMgPSBwYXJzZUFjY291bnRJZChjYWxsZXIpO1xuICAgICAgICAgICAgICBjYWxsZXJQYXJ0cy5uYW1lc3BhY2UgPT09IGRlc3RQYXJ0cy5uYW1lc3BhY2UgfHxcbiAgICAgICAgICAgICAgICBGYWlsYGNhbGxlciAke3EoY2FsbGVyKX0gbXVzdCBiZSBpbiBzYW1lIG5hbWVzcGFjZSBhcyBkZXN0aW5hdGlvbiAke3EoZGVzdGluYXRpb24pfWA7XG4gICAgICAgICAgICAgIHJldHVybiBhY2NvdW50SWRUbzMyQnl0ZXMoY2FsbGVyKTtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgRShoZWxwZXIub3duZWQoKSkuZXhlY3V0ZUVuY29kZWRUeChbXG4gICAgICAgICAgICAgICAgQW55LnRvSlNPTihcbiAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uQ2FsbGVyXG4gICAgICAgICAgICAgICAgICAgID8gTXNnRGVwb3NpdEZvckJ1cm5XaXRoQ2FsbGVyLnRvUHJvdG9Nc2coe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGVwb3NpdEZvckJ1cm4sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkNhbGxlcixcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICA6IE1zZ0RlcG9zaXRGb3JCdXJuLnRvUHJvdG9Nc2coZGVwb3NpdEZvckJ1cm4pLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5yZXR1cm5Wb2lkV2F0Y2hlcixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgcmV0dXJuIG1ha2VDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudEtpdDtcbn07XG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5wcmVwYXJlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnRLaXQocHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50S2l0KTtcbiAgICAgICBjb25zdCBwcmVwYXJlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnQgPSAoXG4gIHpvbmUsXG4gIHsgY2hhaW5IdWIsIG1ha2VSZWNvcmRlcktpdCwgdGltZXJTZXJ2aWNlLCB2b3dUb29scywgemNmIH0sXG4pID0+IHtcbiAgY29uc3QgbWFrZUtpdCA9IHByZXBhcmVDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCh6b25lLCB7XG4gICAgY2hhaW5IdWIsXG4gICAgbWFrZVJlY29yZGVyS2l0LFxuICAgIHRpbWVyU2VydmljZSxcbiAgICB2b3dUb29scyxcbiAgICB6Y2YsXG4gIH0pO1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IG1ha2VLaXQoLi4uYXJncykuaG9sZGVyO1xufTtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5wcmVwYXJlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnQocHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkljYUFjY291bnRIb2xkZXJJIjpbIkljYUFjY291bnRIb2xkZXJJIl0sIkNvc21vc09yY2hlc3RyYXRpb25JbnZpdGF0aW9uTWFrZXJzSSI6WyJDb3Ntb3NPcmNoZXN0cmF0aW9uSW52aXRhdGlvbk1ha2Vyc0kiXSwicHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50S2l0IjpbInByZXBhcmVDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCJdLCJwcmVwYXJlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnQiOlsicHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAKZkdUn+GwAA/hsAADMAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL2liYy1wYWNrZXQuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9pbnRlcm5hbCIsIkBhZ29yaWMvbmV0d29yayIsIkBlbmRvL3BhdHRlcm5zIiwiQGVuZG8vZmFyIl0sImV4cG9ydHMiOlsiSUNTMjBfVFJBTlNGRVJfU1VDQ0VTU19SRVNVTFQiLCJjcmVhdGVTZXF1ZW5jZVBhdHRlcm4iLCJwcmVwYXJlSUJDUmVwbHlLaXQiLCJwcmVwYXJlSUJDVG9vbHMiLCJwcmVwYXJlSUJDVHJhbnNmZXJTZW5kZXIiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBtYWtlVHJhY2VyLGJhc2U2NFRvQnl0ZXMsTmV0d29ya1NoYXBlLE0sRTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvaW50ZXJuYWxcIiwgW1tcIm1ha2VUcmFjZXJcIixbJGjNj19hID0+IChtYWtlVHJhY2VyID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9uZXR3b3JrXCIsIFtbXCJiYXNlNjRUb0J5dGVzXCIsWyRozY9fYSA9PiAoYmFzZTY0VG9CeXRlcyA9ICRozY9fYSldXSxbXCJTaGFwZVwiLFskaM2PX2EgPT4gKE5ldHdvcmtTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG4vL1xuICAgICAgIGNvbnN0IElDUzIwX1RSQU5TRkVSX1NVQ0NFU1NfUkVTVUxUID0gJ0FRPT0nOyRozY9fb25jZS5JQ1MyMF9UUkFOU0ZFUl9TVUNDRVNTX1JFU1VMVChJQ1MyMF9UUkFOU0ZFUl9TVUNDRVNTX1JFU1VMVCk7XG5cbmNvbnN0IHRyYWNlID0gbWFrZVRyYWNlcignSUJDUCcpO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IHsgRmFpbCwgYmFyZSB9ID0gYXNzZXJ0O1xuY29uc3QgeyBWb3ckIH0gPSBOZXR3b3JrU2hhcGU7IC8vXG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGNyZWF0ZVNlcXVlbmNlUGF0dGVybiA9IHNlcXVlbmNlID0+IHtcbiAgY29uc3Qgc2VxdWVuY2VQYXR0ZXJucyA9IFtdO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgYmludFNlcXVlbmNlID0gQmlnSW50KHNlcXVlbmNlKTtcbiAgICBiaW50U2VxdWVuY2UgPiAwbiAmJiBzZXF1ZW5jZVBhdHRlcm5zLnB1c2goYmludFNlcXVlbmNlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vXG4gIH1cblxuICBjb25zdCBudW1TZXF1ZW5jZSA9IE51bWJlcihzZXF1ZW5jZSk7XG4gIG51bVNlcXVlbmNlID4gMCAmJlxuICAgIE51bWJlci5pc1NhZmVJbnRlZ2VyKG51bVNlcXVlbmNlKSAmJlxuICAgIHNlcXVlbmNlUGF0dGVybnMucHVzaChudW1TZXF1ZW5jZSk7XG5cbiAgY29uc3Qgc3RyU2VxdWVuY2UgPSBTdHJpbmcoc2VxdWVuY2UpO1xuICBzdHJTZXF1ZW5jZSAmJiBzZXF1ZW5jZVBhdHRlcm5zLnB1c2goc3RyU2VxdWVuY2UpO1xuXG4gIGlmICghc2VxdWVuY2VQYXR0ZXJucy5maW5kKHNlcSA9PiBzZXEgPT09IHNlcXVlbmNlKSkge1xuICAgIHNlcXVlbmNlUGF0dGVybnMucHVzaChzZXF1ZW5jZSk7XG4gIH1cblxuICBzd2l0Y2ggKHNlcXVlbmNlUGF0dGVybnMubGVuZ3RoKSB7XG4gICAgY2FzZSAwOlxuICAgICAgdGhyb3cgRmFpbGBzZXF1ZW5jZSAke3NlcXVlbmNlfSBpcyBub3QgdmFsaWRgO1xuICAgIGNhc2UgMTpcbiAgICAgIHJldHVybiBzZXF1ZW5jZVBhdHRlcm5zWzBdO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gTS5vciguLi5zZXF1ZW5jZVBhdHRlcm5zKTtcbiAgfVxufTskaM2PX29uY2UuY3JlYXRlU2VxdWVuY2VQYXR0ZXJuKGNyZWF0ZVNlcXVlbmNlUGF0dGVybik7XG5oYXJkZW4oY3JlYXRlU2VxdWVuY2VQYXR0ZXJuKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlSUJDVHJhbnNmZXJTZW5kZXIgPSAoem9uZSwgeyB3YXRjaCwgbWFrZUlCQ1JlcGx5S2l0IH0pID0+IHtcbiAgY29uc3QgbWFrZUlCQ1RyYW5zZmVyU2VuZGVyS2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAnSUJDVHJhbnNmZXJTZW5kZXJLaXQnLFxuICAgIHtcbiAgICAgIHB1YmxpYzogTS5pbnRlcmZhY2UoJ0lCQ1RyYW5zZmVyU2VuZGVyJywge1xuICAgICAgICBzZW5kUGFja2V0OiBNLmNhbGwoVm93JChNLmFueSgpKSwgTS5hbnkoKSkucmV0dXJucyhWb3ckKE0ucmVjb3JkKCkpKSxcbiAgICAgIH0pLFxuICAgICAgcmVzcG9uc2VXYXRjaGVyOiBNLmludGVyZmFjZSgncmVzcG9uc2VXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKFtNLnJlY29yZCgpXSwgTS5yZWNvcmQoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgIH0pLFxuICAgICAgdmVyaWZ5VHJhbnNmZXJTdWNjZXNzOiBNLmludGVyZmFjZSgndmVyaWZ5VHJhbnNmZXJTdWNjZXNzJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLnJldHVybnMoKSxcbiAgICAgIH0pLFxuICAgIH0sXG4gICAgLypcblxuXG5cblxuICAgICAqL1xuICAgICh0eEV4ZWN1dG9yLCB0cmFuc2Zlck1zZykgPT4gKHtcbiAgICAgIHR4RXhlY3V0b3IsXG4gICAgICB0cmFuc2Zlck1zZzogaGFyZGVuKHRyYW5zZmVyTXNnKSxcbiAgICB9KSxcbiAgICB7XG4gICAgICBwdWJsaWM6IHtcbiAgICAgICAgLypcblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgc2VuZFBhY2tldChtYXRjaCwgb3B0cykge1xuICAgICAgICAgIGNvbnN0IHsgdHhFeGVjdXRvciwgdHJhbnNmZXJNc2cgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgRSh0eEV4ZWN1dG9yKS5leGVjdXRlVHgoW3RyYW5zZmVyTXNnXSksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5yZXNwb25zZVdhdGNoZXIsXG4gICAgICAgICAgICB7IG9wdHMsIG1hdGNoIH0sXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICByZXNwb25zZVdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFt7IHNlcXVlbmNlIH1dLCBjdHgpIHtcbiAgICAgICAgICBjb25zdCB7IG1hdGNoLCBvcHRzIH0gPSBjdHg7XG4gICAgICAgICAgY29uc3QgeyB0cmFuc2Zlck1zZyB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICB0cmFjZSgnc2VxdWVuY2UnLCBzZXF1ZW5jZSwgdHJhbnNmZXJNc2cpO1xuXG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCByZXBseVBhY2tldFBhdHRlcm4gPSBNLnNwbGl0UmVjb3JkKHtcbiAgICAgICAgICAgIHNvdXJjZV9wb3J0OiB0cmFuc2Zlck1zZy5zb3VyY2VQb3J0LFxuICAgICAgICAgICAgc291cmNlX2NoYW5uZWw6IHRyYW5zZmVyTXNnLnNvdXJjZUNoYW5uZWwsXG4gICAgICAgICAgICBzZXF1ZW5jZTogY3JlYXRlU2VxdWVuY2VQYXR0ZXJuKHNlcXVlbmNlKSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IHsgcmVzdWx0VjogYWNrRGF0YVYsIC4uLnJlc3QgfSA9IG1ha2VJQkNSZXBseUtpdChcbiAgICAgICAgICAgIHJlcGx5UGFja2V0UGF0dGVybixcbiAgICAgICAgICAgIG1hdGNoLFxuICAgICAgICAgICAgeyBvcE5hbWU6ICd0cmFuc2ZlcicsIC4uLm9wdHMgfSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdFYgPSB3YXRjaChhY2tEYXRhViwgdGhpcy5mYWNldHMudmVyaWZ5VHJhbnNmZXJTdWNjZXNzKTtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgcmVzdWx0ViwgLi4ucmVzdCB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB2ZXJpZnlUcmFuc2ZlclN1Y2Nlc3M6IHtcbiAgICAgICAgb25GdWxmaWxsZWQoYWNrRGF0YSkge1xuICAgICAgICAgIGxldCBvYmo7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoYWNrRGF0YSk7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICBGYWlsYElDUzIwLTEgdHJhbnNmZXIgYWNrIGRhdGEgaXMgbm90IEpTT046ICR7YWNrRGF0YX1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB7IHJlc3VsdCwgZXJyb3IgfSA9IG9iajtcbiAgICAgICAgICBlcnJvciA9PT0gdW5kZWZpbmVkIHx8IEZhaWxgSUNTMjAtMSB0cmFuc2ZlciBlcnJvciAke2Vycm9yfWA7XG4gICAgICAgICAgcmVzdWx0ID8/IEZhaWxgTWlzc2luZyByZXN1bHQgaW4gSUNTMjAtMSB0cmFuc2ZlciBhY2sgJHtvYmp9YDtcbiAgICAgICAgICByZXN1bHQgPT09IElDUzIwX1RSQU5TRkVSX1NVQ0NFU1NfUkVTVUxUIHx8XG4gICAgICAgICAgICBGYWlsYElDUzIwLTEgdHJhbnNmZXIgdW5zdWNjZXNzZnVsIHdpdGggYWNrIHJlc3VsdCAke3Jlc3VsdH1gO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIC8qXG5cbiAgICovXG4gIHJldHVybiAoLi4uYXJncykgPT4gbWFrZUlCQ1RyYW5zZmVyU2VuZGVyS2l0KC4uLmFyZ3MpLnB1YmxpYztcbn07JGjNj19vbmNlLnByZXBhcmVJQkNUcmFuc2ZlclNlbmRlcihwcmVwYXJlSUJDVHJhbnNmZXJTZW5kZXIpO1xuaGFyZGVuKHByZXBhcmVJQkNUcmFuc2ZlclNlbmRlcik7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZUlCQ1JlcGx5S2l0ID0gKHpvbmUsIHZvd1Rvb2xzKSA9PiB7XG4gIGNvbnN0IHsgd2F0Y2ggfSA9IHZvd1Rvb2xzO1xuICBjb25zdCBpYmNXYXRjaGVyID0gem9uZS5leG8oXG4gICAgJ2liY1Jlc3VsdFdhdGNoZXInLFxuICAgIE0uaW50ZXJmYWNlKCdwcm9jZXNzSUJDV2F0Y2hlcicsIHtcbiAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoXG4gICAgICAgIE0uc3BsaXRSZWNvcmQoeyBldmVudDogTS5zdHJpbmcoKSB9LCB7IGFja25vd2xlZGdlbWVudDogTS5zdHJpbmcoKSB9KSxcbiAgICAgICAgTS5zcGxpdFJlY29yZCh7fSwgeyBvcE5hbWU6IE0uc3RyaW5nKCksIHRpbWVvdXQ6IE0ucmVjb3JkKCkgfSksXG4gICAgICApLnJldHVybnMoVm93JChNLnN0cmluZygpKSksXG4gICAgfSksXG4gICAge1xuICAgICAgLypcblxuXG5cbiAgICAgICAqL1xuICAgICAgb25GdWxmaWxsZWQoaWJjRXZlbnQsIHsgb3BOYW1lID0gJ3Vua25vd24nIH0pIHtcbiAgICAgICAgY29uc3QgeyBldmVudCB9ID0gaWJjRXZlbnQ7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgICBjYXNlICdhY2tub3dsZWRnZW1lbnRQYWNrZXQnOiB7XG4gICAgICAgICAgICBjb25zdCB7IGFja25vd2xlZGdlbWVudCB9ID0gaWJjRXZlbnQ7XG4gICAgICAgICAgICBhY2tub3dsZWRnZW1lbnQgfHxcbiAgICAgICAgICAgICAgRmFpbGBhY2tub3dsZWRnZW1lbnRQYWNrZXQgbWlzc2luZyAnYWNrbm93bGVkZ2VtZW50J2A7XG4gICAgICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhhY2tub3dsZWRnZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICd0aW1lb3V0UGFja2V0JzpcbiAgICAgICAgICAgIHRocm93IEZhaWxgJHtiYXJlKG9wTmFtZSl9IG9wZXJhdGlvbiByZWNlaXZlZCB0aW1lb3V0IHBhY2tldGA7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEZhaWxgVW5leHBlY3RlZCBldmVudDogJHtldmVudH1gO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgLypcblxuXG5cblxuICAgKi9cbiAgY29uc3QgbWFrZUlCQ1JlcGx5S2l0ID0gKHJlcGx5UGFja2V0UGF0dGVybiwgbWF0Y2hWLCBvcHRzKSA9PiB7XG4gICAgY29uc3QgZXZlbnRQYXR0ZXJuID0gTS5vcihcbiAgICAgIE0uc3BsaXRSZWNvcmQoe1xuICAgICAgICBldmVudDogJ2Fja25vd2xlZGdlbWVudFBhY2tldCcsXG4gICAgICAgIHBhY2tldDogcmVwbHlQYWNrZXRQYXR0ZXJuLFxuICAgICAgICBhY2tub3dsZWRnZW1lbnQ6IE0uc3RyaW5nKCksXG4gICAgICB9KSxcbiAgICAgIE0uc3BsaXRSZWNvcmQoe1xuICAgICAgICBldmVudDogJ3RpbWVvdXRQYWNrZXQnLFxuICAgICAgICBwYWNrZXQ6IHJlcGx5UGFja2V0UGF0dGVybixcbiAgICAgIH0pLFxuICAgICk7XG4gICAgY29uc3QgcmVzdWx0ViA9IHdhdGNoKG1hdGNoViwgaWJjV2F0Y2hlciwgb3B0cyk7XG4gICAgcmV0dXJuIGhhcmRlbih7IGV2ZW50UGF0dGVybiwgcmVzdWx0ViB9KTtcbiAgfTtcblxuICByZXR1cm4gbWFrZUlCQ1JlcGx5S2l0O1xufTskaM2PX29uY2UucHJlcGFyZUlCQ1JlcGx5S2l0KHByZXBhcmVJQkNSZXBseUtpdCk7XG5oYXJkZW4ocHJlcGFyZUlCQ1JlcGx5S2l0KTtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZUlCQ1Rvb2xzID0gKHpvbmUsIHZvd1Rvb2xzKSA9PiB7XG4gIGNvbnN0IG1ha2VJQkNSZXBseUtpdCA9IHByZXBhcmVJQkNSZXBseUtpdCh6b25lLCB2b3dUb29scyk7XG4gIGNvbnN0IG1ha2VJQkNUcmFuc2ZlclNlbmRlciA9IHByZXBhcmVJQkNUcmFuc2ZlclNlbmRlcih6b25lLCB7XG4gICAgbWFrZUlCQ1JlcGx5S2l0LFxuICAgIC4uLnZvd1Rvb2xzLFxuICB9KTtcbiAgcmV0dXJuIGhhcmRlbih7IG1ha2VJQkNUcmFuc2ZlclNlbmRlciwgbWFrZUlCQ1JlcGx5S2l0IH0pO1xufTskaM2PX29uY2UucHJlcGFyZUlCQ1Rvb2xzKHByZXBhcmVJQkNUb29scyk7XG5oYXJkZW4ocHJlcGFyZUlCQ1Rvb2xzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IklDUzIwX1RSQU5TRkVSX1NVQ0NFU1NfUkVTVUxUIjpbIklDUzIwX1RSQU5TRkVSX1NVQ0NFU1NfUkVTVUxUIl0sImNyZWF0ZVNlcXVlbmNlUGF0dGVybiI6WyJjcmVhdGVTZXF1ZW5jZVBhdHRlcm4iXSwicHJlcGFyZUlCQ1RyYW5zZmVyU2VuZGVyIjpbInByZXBhcmVJQkNUcmFuc2ZlclNlbmRlciJdLCJwcmVwYXJlSUJDUmVwbHlLaXQiOlsicHJlcGFyZUlCQ1JlcGx5S2l0Il0sInByZXBhcmVJQkNUb29scyI6WyJwcmVwYXJlSUJDVG9vbHMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAR+9XZIYVAACGFQAAOwAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvbG9jYWwtY2hhaW4tZmFjYWRlLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2ZhciIsIkBhZ29yaWMvdm93L3ZhdC5qcyIsIkBlbmRvL3BhdHRlcm5zIiwiQGFnb3JpYy92YXQtZGF0YSIsIkBhZ29yaWMvdm93IiwiLi4vdHlwZUd1YXJkcy5qcyJdLCJleHBvcnRzIjpbInByZXBhcmVMb2NhbENoYWluRmFjYWRlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRSxoZWFwVm93RSxNLHBpY2tGYWNldCxWb3dTaGFwZSxjaGFpbkZhY2FkZU1ldGhvZHMsVHlwZWRKc29uU2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3cvdmF0LmpzXCIsIFtbXCJoZWFwVm93RVwiLFskaM2PX2EgPT4gKGhlYXBWb3dFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wicGlja0ZhY2V0XCIsWyRozY9fYSA9PiAocGlja0ZhY2V0ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3dcIiwgW1tcIlZvd1NoYXBlXCIsWyRozY9fYSA9PiAoVm93U2hhcGUgPSAkaM2PX2EpXV1dXSxbXCIuLi90eXBlR3VhcmRzLmpzXCIsIFtbXCJjaGFpbkZhY2FkZU1ldGhvZHNcIixbJGjNj19hID0+IChjaGFpbkZhY2FkZU1ldGhvZHMgPSAkaM2PX2EpXV0sW1wiVHlwZWRKc29uU2hhcGVcIixbJGjNj19hID0+IChUeXBlZEpzb25TaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgcHJlcGFyZUxvY2FsQ2hhaW5GYWNhZGVLaXQgPSAoXG4gIHpvbmUsXG4gIHtcbiAgICBtYWtlTG9jYWxPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCxcbiAgICBhZ29yaWNOYW1lcyxcbiAgICBsb2NhbGNoYWluLFxuICAgIC8vXG4gICAgLy9cbiAgICBzdG9yYWdlTm9kZSxcbiAgICB2b3dUb29sczogeyBhbGxWb3dzLCB3YXRjaCwgYXNWb3cgfSxcbiAgfSxcbikgPT5cbiAgem9uZS5leG9DbGFzc0tpdChcbiAgICAnTG9jYWxDaGFpbkZhY2FkZScsXG4gICAge1xuICAgICAgcHVibGljOiBNLmludGVyZmFjZSgnTG9jYWxDaGFpbkZhY2FkZScsIHtcbiAgICAgICAgLi4uY2hhaW5GYWNhZGVNZXRob2RzLFxuICAgICAgICBxdWVyeTogTS5jYWxsKE0uYXJyYXlPZihUeXBlZEpzb25TaGFwZSkpLnJldHVybnMoVm93U2hhcGUpLFxuICAgICAgICBnZXRWQmFua0Fzc2V0SW5mbzogTS5jYWxsKCkub3B0aW9uYWwoTS5ib29sZWFuKCkpLnJldHVybnMoVm93U2hhcGUpLFxuICAgICAgfSksXG4gICAgICB2YmFua0Fzc2V0VmFsdWVzV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3ZiYW5rQXNzZXRWYWx1ZXNXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSlcbiAgICAgICAgICAub3B0aW9uYWwoTS5hcnJheU9mKE0udW5kZWZpbmVkKCkpKSAvL1xuICAgICAgICAgIC5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgICAgIH0pLFxuICAgICAgbWFrZUFjY291bnRXYXRjaGVyOiBNLmludGVyZmFjZSgnbWFrZUFjY291bnRXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKFtNLnJlbW90YWJsZSgnTENBIEFjY291bnQnKSwgTS5zdHJpbmcoKV0pXG4gICAgICAgICAgLm9wdGlvbmFsKE0uYXJyYXlPZihNLnVuZGVmaW5lZCgpKSkgLy9cbiAgICAgICAgICAucmV0dXJucyhWb3dTaGFwZSksXG4gICAgICB9KSxcbiAgICAgIG1ha2VDaGlsZE5vZGVXYXRjaGVyOiBNLmludGVyZmFjZSgnbWFrZUNoaWxkTm9kZVdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5vcihNLnJlbW90YWJsZSgpLCBNLnVuZGVmaW5lZCgpKSlcbiAgICAgICAgICAub3B0aW9uYWwoeyBhY2NvdW50OiBNLnJlbW90YWJsZSgpLCBhZGRyZXNzOiBNLnN0cmluZygpIH0pIC8vXG4gICAgICAgICAgLnJldHVybnMoTS5yZW1vdGFibGUoKSksXG4gICAgICB9KSxcbiAgICB9LFxuICAgIC8qXG5cbiAgICAgKi9cbiAgICBsb2NhbENoYWluSW5mbyA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbENoYWluSW5mbyxcbiAgICAgICAgdmJhbmtBc3NldHM6IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovICh1bmRlZmluZWQpLFxuICAgICAgfTtcbiAgICB9LFxuICAgIHtcbiAgICAgIHB1YmxpYzoge1xuICAgICAgICBnZXRDaGFpbkluZm8oKSB7XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKHRoaXMuc3RhdGUubG9jYWxDaGFpbkluZm8pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgbWFrZUFjY291bnQoKSB7XG4gICAgICAgICAgY29uc3QgbGNhUCA9IEUobG9jYWxjaGFpbikubWFrZUFjY291bnQoKTtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBhbGxWb3dzKFtsY2FQLCBoZWFwVm93RShsY2FQKS5nZXRBZGRyZXNzKCldKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLm1ha2VBY2NvdW50V2F0Y2hlcixcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBxdWVyeShyZXF1ZXN0cykge1xuICAgICAgICAgIHJldHVybiB3YXRjaChFKGxvY2FsY2hhaW4pLnF1ZXJ5TWFueShyZXF1ZXN0cykpO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBnZXRWQmFua0Fzc2V0SW5mbygpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB2YmFua0Fzc2V0cyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICAgIGlmICh2YmFua0Fzc2V0cykge1xuICAgICAgICAgICAgICByZXR1cm4gdmJhbmtBc3NldHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YmFua0Fzc2V0TmFtZUh1YlAgPSBFKGFnb3JpY05hbWVzKS5sb29rdXAoJ3ZiYW5rQXNzZXQnKTtcbiAgICAgICAgICAgIGNvbnN0IHZiYW5rQXNzZXRWYWx1ZXNQID0gRSh2YmFua0Fzc2V0TmFtZUh1YlApLnZhbHVlcygpO1xuICAgICAgICAgICAgY29uc3QgeyB2YmFua0Fzc2V0VmFsdWVzV2F0Y2hlciB9ID0gdGhpcy5mYWNldHM7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2godmJhbmtBc3NldFZhbHVlc1AsIHZiYW5rQXNzZXRWYWx1ZXNXYXRjaGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB2YmFua0Fzc2V0VmFsdWVzV2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChhc3NldHMpIHtcbiAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS52YmFua0Fzc2V0cyA9IGFzc2V0cztcbiAgICAgICAgICAgIHJldHVybiBhc3NldHM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbWFrZUFjY291bnRXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFthY2NvdW50LCBhZGRyZXNzXSkge1xuICAgICAgICAgIGNvbnN0IG9wdGlvbmFsU3RvcmFnZU5vZGUgPSBzdG9yYWdlTm9kZVxuICAgICAgICAgICAgPyBFKHN0b3JhZ2VOb2RlKS5tYWtlQ2hpbGROb2RlKGFkZHJlc3MpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICByZXR1cm4gd2F0Y2gob3B0aW9uYWxTdG9yYWdlTm9kZSwgdGhpcy5mYWNldHMubWFrZUNoaWxkTm9kZVdhdGNoZXIsIHtcbiAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG1ha2VDaGlsZE5vZGVXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQoY2hpbGROb2RlLCB7IGFjY291bnQsIGFkZHJlc3MgfSkge1xuICAgICAgICAgIGNvbnN0IHsgbG9jYWxDaGFpbkluZm8gfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgY29uc3QgeyBob2xkZXIgfSA9IG1ha2VMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0KHtcbiAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICBhZGRyZXNzOiBoYXJkZW4oe1xuICAgICAgICAgICAgICB2YWx1ZTogYWRkcmVzcyxcbiAgICAgICAgICAgICAgZW5jb2Rpbmc6ICdiZWNoMzInLFxuICAgICAgICAgICAgICBjaGFpbklkOiBsb2NhbENoYWluSW5mby5jaGFpbklkLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgc3RvcmFnZU5vZGU6IGNoaWxkTm9kZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gaG9sZGVyO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuaGFyZGVuKHByZXBhcmVMb2NhbENoYWluRmFjYWRlS2l0KTtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlTG9jYWxDaGFpbkZhY2FkZSA9ICh6b25lLCBwb3dlcnMpID0+IHtcbiAgY29uc3QgbWFrZUxvY2FsQ2hhaW5GYWNhZGVLaXQgPSBwcmVwYXJlTG9jYWxDaGFpbkZhY2FkZUtpdCh6b25lLCBwb3dlcnMpO1xuICByZXR1cm4gcGlja0ZhY2V0KG1ha2VMb2NhbENoYWluRmFjYWRlS2l0LCAncHVibGljJyk7XG59OyRozY9fb25jZS5wcmVwYXJlTG9jYWxDaGFpbkZhY2FkZShwcmVwYXJlTG9jYWxDaGFpbkZhY2FkZSk7XG5oYXJkZW4ocHJlcGFyZUxvY2FsQ2hhaW5GYWNhZGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVMb2NhbENoYWluRmFjYWRlIjpbInByZXBhcmVMb2NhbENoYWluRmFjYWRlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAC2IbrvfVgAA31YAAEQAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL2xvY2FsLW9yY2hlc3RyYXRpb24tYWNjb3VudC5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2Nvc21pYy1wcm90byIsIkBhZ29yaWMvZXJ0cCIsIkBhZ29yaWMvaW50ZXJuYWwiLCJAYWdvcmljL25ldHdvcmsiLCJAYWdvcmljL3ZhdC1kYXRhIiwiQGFnb3JpYy92b3ciLCJAZW5kby9mYXIiLCJAZW5kby9lcnJvcnMiLCIuLi90eXBlR3VhcmRzLmpzIiwiLi4vdXRpbHMvY29zbW9zLmpzIiwiLi4vdXRpbHMvb3JjaGVzdHJhdGlvbkFjY291bnQuanMiLCIuLi91dGlscy90aW1lLmpzIiwiLi9wYWNrZXQtdG9vbHMuanMiLCIuL2liYy1wYWNrZXQuanMiLCIuLi91dGlscy9hbW91bnRzLmpzIiwiLi9jaGFpbi1odWIuanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlTG9jYWxPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHR5cGVkSnNvbixBbW91bnRTaGFwZSxQYXltZW50U2hhcGUsbWFrZVRyYWNlcixOZXR3b3JrU2hhcGUsTSxWb3dTaGFwZSxFLEZhaWwscSxBbW91bnRBcmdTaGFwZSxBbnlOYXRBbW91bnRzUmVjb3JkLERlbm9tQW1vdW50U2hhcGUsRGVub21TaGFwZSxJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSxUaW1lc3RhbXBQcm90b1NoYXBlLFR5cGVkSnNvblNoYXBlLG1heENsb2NrU2tldyx0b0Rlbm9tQW1vdW50LG9yY2hlc3RyYXRpb25BY2NvdW50TWV0aG9kcyxtYWtlVGltZXN0YW1wSGVscGVyLHByZXBhcmVQYWNrZXRUb29scyxwcmVwYXJlSUJDVG9vbHMsY29lcmNlQ29pbixjb2VyY2VEZW5vbUFtb3VudCxUcmFuc2ZlclJvdXRlU2hhcGU7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL2Nvc21pYy1wcm90b1wiLCBbW1widHlwZWRKc29uXCIsWyRozY9fYSA9PiAodHlwZWRKc29uID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9lcnRwXCIsIFtbXCJBbW91bnRTaGFwZVwiLFskaM2PX2EgPT4gKEFtb3VudFNoYXBlID0gJGjNj19hKV1dLFtcIlBheW1lbnRTaGFwZVwiLFskaM2PX2EgPT4gKFBheW1lbnRTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvaW50ZXJuYWxcIiwgW1tcIm1ha2VUcmFjZXJcIixbJGjNj19hID0+IChtYWtlVHJhY2VyID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9uZXR3b3JrXCIsIFtbXCJTaGFwZVwiLFskaM2PX2EgPT4gKE5ldHdvcmtTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdmF0LWRhdGFcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92b3dcIiwgW1tcIlZvd1NoYXBlXCIsWyRozY9fYSA9PiAoVm93U2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dLFtcIi4uL3R5cGVHdWFyZHMuanNcIiwgW1tcIkFtb3VudEFyZ1NoYXBlXCIsWyRozY9fYSA9PiAoQW1vdW50QXJnU2hhcGUgPSAkaM2PX2EpXV0sW1wiQW55TmF0QW1vdW50c1JlY29yZFwiLFskaM2PX2EgPT4gKEFueU5hdEFtb3VudHNSZWNvcmQgPSAkaM2PX2EpXV0sW1wiRGVub21BbW91bnRTaGFwZVwiLFskaM2PX2EgPT4gKERlbm9tQW1vdW50U2hhcGUgPSAkaM2PX2EpXV0sW1wiRGVub21TaGFwZVwiLFskaM2PX2EgPT4gKERlbm9tU2hhcGUgPSAkaM2PX2EpXV0sW1wiSUJDVHJhbnNmZXJPcHRpb25zU2hhcGVcIixbJGjNj19hID0+IChJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSA9ICRozY9fYSldXSxbXCJUaW1lc3RhbXBQcm90b1NoYXBlXCIsWyRozY9fYSA9PiAoVGltZXN0YW1wUHJvdG9TaGFwZSA9ICRozY9fYSldXSxbXCJUeXBlZEpzb25TaGFwZVwiLFskaM2PX2EgPT4gKFR5cGVkSnNvblNoYXBlID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvY29zbW9zLmpzXCIsIFtbXCJtYXhDbG9ja1NrZXdcIixbJGjNj19hID0+IChtYXhDbG9ja1NrZXcgPSAkaM2PX2EpXV0sW1widG9EZW5vbUFtb3VudFwiLFskaM2PX2EgPT4gKHRvRGVub21BbW91bnQgPSAkaM2PX2EpXV1dXSxbXCIuLi91dGlscy9vcmNoZXN0cmF0aW9uQWNjb3VudC5qc1wiLCBbW1wib3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzXCIsWyRozY9fYSA9PiAob3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzID0gJGjNj19hKV1dXV0sW1wiLi4vdXRpbHMvdGltZS5qc1wiLCBbW1wibWFrZVRpbWVzdGFtcEhlbHBlclwiLFskaM2PX2EgPT4gKG1ha2VUaW1lc3RhbXBIZWxwZXIgPSAkaM2PX2EpXV1dXSxbXCIuL3BhY2tldC10b29scy5qc1wiLCBbW1wicHJlcGFyZVBhY2tldFRvb2xzXCIsWyRozY9fYSA9PiAocHJlcGFyZVBhY2tldFRvb2xzID0gJGjNj19hKV1dXV0sW1wiLi9pYmMtcGFja2V0LmpzXCIsIFtbXCJwcmVwYXJlSUJDVG9vbHNcIixbJGjNj19hID0+IChwcmVwYXJlSUJDVG9vbHMgPSAkaM2PX2EpXV1dXSxbXCIuLi91dGlscy9hbW91bnRzLmpzXCIsIFtbXCJjb2VyY2VDb2luXCIsWyRozY9fYSA9PiAoY29lcmNlQ29pbiA9ICRozY9fYSldXSxbXCJjb2VyY2VEZW5vbUFtb3VudFwiLFskaM2PX2EgPT4gKGNvZXJjZURlbm9tQW1vdW50ID0gJGjNj19hKV1dXV0sW1wiLi9jaGFpbi1odWIuanNcIiwgW1tcIlRyYW5zZmVyUm91dGVTaGFwZVwiLFskaM2PX2EgPT4gKFRyYW5zZmVyUm91dGVTaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IHRyYWNlID0gbWFrZVRyYWNlcignTG9jYWxPcmNoQWNjb3VudCcpO1xuXG5jb25zdCB7IFZvdyQgfSA9IE5ldHdvcmtTaGFwZTsgLy9cblxuY29uc3QgRVZvdyQgPSBzaGFwZSA9PiBNLm9yKFZvdyQoc2hhcGUpLCBNLnByb21pc2UoLyogICAgICAgKi8pKTtcblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cblxuY29uc3QgSG9sZGVySSA9IE0uaW50ZXJmYWNlKCdob2xkZXInLCB7XG4gIC4uLm9yY2hlc3RyYXRpb25BY2NvdW50TWV0aG9kcyxcbiAgZGVsZWdhdGU6IE0uY2FsbChNLnN0cmluZygpLCBBbW91bnRTaGFwZSkucmV0dXJucyhWb3dTaGFwZSksXG4gIHVuZGVsZWdhdGU6IE0uY2FsbChNLnN0cmluZygpLCBBbW91bnRTaGFwZSkucmV0dXJucyhWb3dTaGFwZSksXG4gIGRlcG9zaXQ6IE0uY2FsbChQYXltZW50U2hhcGUpLnJldHVybnMoVm93U2hhcGUpLFxuICB3aXRoZHJhdzogTS5jYWxsKEFtb3VudFNoYXBlKS5yZXR1cm5zKFZvdyQoUGF5bWVudFNoYXBlKSksXG4gIGV4ZWN1dGVUeDogTS5jYWxsKE0uYXJyYXlPZihNLnJlY29yZCgpKSkucmV0dXJucyhWb3ckKE0ucmVjb3JkKCkpKSxcbiAgc2VuZFRoZW5XYWl0Rm9yQWNrOiBNLmNhbGwoRVZvdyQoTS5yZW1vdGFibGUoJ1BhY2tldFNlbmRlcicpKSlcbiAgICAub3B0aW9uYWwoTS5hbnkoKSlcbiAgICAucmV0dXJucyhFVm93JChNLnN0cmluZygpKSksXG4gIG1hdGNoRmlyc3RQYWNrZXQ6IE0uY2FsbChNLmFueSgpKS5yZXR1cm5zKEVWb3ckKE0uYW55KCkpKSxcbiAgbW9uaXRvclRyYW5zZmVyczogTS5jYWxsKE0ucmVtb3RhYmxlKCdUYXJnZXRBcHAnKSkucmV0dXJucyhFVm93JChNLmFueSgpKSksXG59KTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IFBVQkxJQ19UT1BJQ1MgPSB7XG4gIGFjY291bnQ6IFsnQWNjb3VudCBob2xkZXIgc3RhdHVzJywgTS5hbnkoKV0sXG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZUxvY2FsT3JjaGVzdHJhdGlvbkFjY291bnRLaXQgPSAoXG4gIHpvbmUsXG4gIHtcbiAgICBtYWtlUmVjb3JkZXJLaXQsXG4gICAgemNmLFxuICAgIHRpbWVyU2VydmljZSxcbiAgICB2b3dUb29scyxcbiAgICBjaGFpbkh1YixcbiAgICBsb2NhbGNoYWluLFxuICAgIHpvZVRvb2xzLFxuICB9LFxuKSA9PiB7XG4gIGNvbnN0IHsgd2F0Y2gsIGFzVm93LCB3aGVuIH0gPSB2b3dUb29scztcbiAgY29uc3QgeyBtYWtlSUJDVHJhbnNmZXJTZW5kZXIgfSA9IHByZXBhcmVJQkNUb29scyhcbiAgICB6b25lLnN1YlpvbmUoJ2liY1Rvb2xzJyksXG4gICAgdm93VG9vbHMsXG4gICk7XG4gIGNvbnN0IG1ha2VQYWNrZXRUb29scyA9IHByZXBhcmVQYWNrZXRUb29scyhcbiAgICB6b25lLnN1YlpvbmUoJ3BhY2tldFRvb2xzJyksXG4gICAgdm93VG9vbHMsXG4gICk7XG4gIGNvbnN0IHRpbWVzdGFtcEhlbHBlciA9IG1ha2VUaW1lc3RhbXBIZWxwZXIodGltZXJTZXJ2aWNlKTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1ha2VMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAnTG9jYWwgT3JjaGVzdHJhdGlvbiBBY2NvdW50IEtpdCcsXG4gICAge1xuICAgICAgaGVscGVyOiBNLmludGVyZmFjZSgnaGVscGVyJywge1xuICAgICAgICBhbW91bnRUb0NvaW46IE0uY2FsbChBbW91bnRBcmdTaGFwZSkucmV0dXJucyhNLnJlY29yZCgpKSxcbiAgICAgIH0pLFxuICAgICAgaG9sZGVyOiBIb2xkZXJJLFxuICAgICAgdW5kZWxlZ2F0ZVdhdGNoZXI6IE0uaW50ZXJmYWNlKCd1bmRlbGVnYXRlV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChbXG4gICAgICAgICAgTS5zcGxpdFJlY29yZCh7IGNvbXBsZXRpb25UaW1lOiBUaW1lc3RhbXBQcm90b1NoYXBlIH0pLFxuICAgICAgICBdKVxuICAgICAgICAgIC5vcHRpb25hbChNLmFycmF5T2YoTS51bmRlZmluZWQoKSkpIC8vXG4gICAgICAgICAgLnJldHVybnMoVm93U2hhcGUpLFxuICAgICAgfSksXG4gICAgICB0cmFuc2ZlcldhdGNoZXI6IE0uaW50ZXJmYWNlKCd0cmFuc2ZlcldhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5uYXQoKSlcbiAgICAgICAgICAub3B0aW9uYWwoe1xuICAgICAgICAgICAgb3B0czogTS5vcihNLnVuZGVmaW5lZCgpLCBJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSksXG4gICAgICAgICAgICByb3V0ZTogVHJhbnNmZXJSb3V0ZVNoYXBlLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnJldHVybnMoVm93JChNLnJlY29yZCgpKSksXG4gICAgICB9KSxcbiAgICAgIGV4dHJhY3RGaXJzdFJlc3VsdFdhdGNoZXI6IE0uaW50ZXJmYWNlKCdleHRyYWN0Rmlyc3RSZXN1bHRXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKFtNLnJlY29yZCgpXSlcbiAgICAgICAgICAub3B0aW9uYWwoTS5hcnJheU9mKE0udW5kZWZpbmVkKCkpKVxuICAgICAgICAgIC5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgfSksXG4gICAgICByZXR1cm5Wb2lkV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3JldHVyblZvaWRXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLm9wdGlvbmFsKE0uYW55KCkpLnJldHVybnMoTS51bmRlZmluZWQoKSksXG4gICAgICB9KSxcbiAgICAgIHNlYXRFeGl0ZXJIYW5kbGVyOiBNLmludGVyZmFjZSgnc2VhdEV4aXRlckhhbmRsZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS51bmRlZmluZWQoKSwgTS5yZW1vdGFibGUoKSkucmV0dXJucyhcbiAgICAgICAgICBNLnVuZGVmaW5lZCgpLFxuICAgICAgICApLFxuICAgICAgICBvblJlamVjdGVkOiBNLmNhbGwoTS5lcnJvcigpLCBNLnJlbW90YWJsZSgpKS5yZXR1cm5zKE0udW5kZWZpbmVkKCkpLFxuICAgICAgfSksXG4gICAgICBnZXRCYWxhbmNlV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ2dldEJhbGFuY2VXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKEFtb3VudFNoYXBlLCBEZW5vbVNoYXBlKS5yZXR1cm5zKERlbm9tQW1vdW50U2hhcGUpLFxuICAgICAgfSksXG4gICAgICBxdWVyeUJhbGFuY2VXYXRjaGVyOiBNLmludGVyZmFjZSgncXVlcnlCYWxhbmNlV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChUeXBlZEpzb25TaGFwZSkucmV0dXJucyhEZW5vbUFtb3VudFNoYXBlKSxcbiAgICAgIH0pLFxuICAgICAgcXVlcnlCYWxhbmNlc1dhdGNoZXI6IE0uaW50ZXJmYWNlKCdxdWVyeUJhbGFuY2VzV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChUeXBlZEpzb25TaGFwZSkucmV0dXJucyhcbiAgICAgICAgICBNLmFycmF5T2YoRGVub21BbW91bnRTaGFwZSksXG4gICAgICAgICksXG4gICAgICB9KSxcbiAgICAgIGludml0YXRpb25NYWtlcnM6IE0uaW50ZXJmYWNlKCdpbnZpdGF0aW9uTWFrZXJzJywge1xuICAgICAgICBDbG9zZUFjY291bnQ6IE0uY2FsbCgpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgICAgICBEZWxlZ2F0ZTogTS5jYWxsKE0uc3RyaW5nKCksIEFtb3VudFNoYXBlKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICAgICAgRGVwb3NpdDogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICAgIFNlbmQ6IE0uY2FsbCgpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgICAgICBTZW5kQWxsOiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICAgICAgVHJhbnNmZXI6IE0uY2FsbCgpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgICAgICBVbmRlbGVnYXRlOiBNLmNhbGwoTS5zdHJpbmcoKSwgQW1vdW50U2hhcGUpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgICAgICBXaXRoZHJhdzogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICB9KSxcbiAgICB9LFxuICAgIC8qXG5cblxuXG5cblxuICAgICAqL1xuICAgICh7IGFjY291bnQsIGFkZHJlc3MsIHN0b3JhZ2VOb2RlIH0pID0+IHtcbiAgICAgIC8vXG4gICAgICBjb25zdCB0b3BpY0tpdCA9IHN0b3JhZ2VOb2RlXG4gICAgICAgID8gbWFrZVJlY29yZGVyS2l0KHN0b3JhZ2VOb2RlLCBQVUJMSUNfVE9QSUNTLmFjY291bnRbMV0pXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgLy9cbiAgICAgIGlmICh0b3BpY0tpdCkge1xuICAgICAgICB2b2lkIEUodG9waWNLaXQucmVjb3JkZXIpLndyaXRlKCcnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGFja2V0VG9vbHMgPSBtYWtlUGFja2V0VG9vbHMoYWNjb3VudCk7XG5cbiAgICAgIHJldHVybiB7IGFjY291bnQsIGFkZHJlc3MsIHBhY2tldFRvb2xzLCB0b3BpY0tpdCB9O1xuICAgIH0sXG4gICAge1xuICAgICAgaGVscGVyOiB7XG4gICAgICAgIC8qXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgYW1vdW50VG9Db2luKGFtb3VudCkge1xuICAgICAgICAgIHJldHVybiBjb2VyY2VDb2luKGNoYWluSHViLCBhbW91bnQpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGludml0YXRpb25NYWtlcnM6IHtcbiAgICAgICAgLypcblxuXG4gICAgICAgICAqL1xuICAgICAgICBEZWxlZ2F0ZSh2YWxpZGF0b3JBZGRyZXNzLCBlcnRwQW1vdW50KSB7XG4gICAgICAgICAgdHJhY2UoJ0RlbGVnYXRlJywgdmFsaWRhdG9yQWRkcmVzcywgZXJ0cEFtb3VudCk7XG5cbiAgICAgICAgICByZXR1cm4gemNmLm1ha2VJbnZpdGF0aW9uKHNlYXQgPT4ge1xuICAgICAgICAgICAgc2VhdC5leGl0KCk7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLmhvbGRlci5kZWxlZ2F0ZSh2YWxpZGF0b3JBZGRyZXNzLCBlcnRwQW1vdW50KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSwgJ0RlbGVnYXRlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIERlcG9zaXQoKSB7XG4gICAgICAgICAgdHJhY2UoJ0RlcG9zaXQnKTtcbiAgICAgICAgICByZXR1cm4gemNmLm1ha2VJbnZpdGF0aW9uKFxuICAgICAgICAgICAgc2VhdCA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgZ2l2ZSB9ID0gc2VhdC5nZXRQcm9wb3NhbCgpO1xuICAgICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgICAgem9lVG9vbHMubG9jYWxUcmFuc2ZlcihcbiAgICAgICAgICAgICAgICAgIHNlYXQsXG4gICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY2NvdW50LFxuICAgICAgICAgICAgICAgICAgZ2l2ZSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnNlYXRFeGl0ZXJIYW5kbGVyLFxuICAgICAgICAgICAgICAgIHNlYXQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ0RlcG9zaXQnLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgTS5zcGxpdFJlY29yZCh7IGdpdmU6IEFueU5hdEFtb3VudHNSZWNvcmQsIHdhbnQ6IHt9IH0pLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgVW5kZWxlZ2F0ZSh2YWxpZGF0b3JBZGRyZXNzLCBlcnRwQW1vdW50KSB7XG4gICAgICAgICAgdHJhY2UoJ1VuZGVsZWdhdGUnLCB2YWxpZGF0b3JBZGRyZXNzLCBlcnRwQW1vdW50KTtcblxuICAgICAgICAgIHJldHVybiB6Y2YubWFrZUludml0YXRpb24oc2VhdCA9PiB7XG4gICAgICAgICAgICBzZWF0LmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMuaG9sZGVyLnVuZGVsZWdhdGUodmFsaWRhdG9yQWRkcmVzcywgZXJ0cEFtb3VudCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sICdVbmRlbGVnYXRlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIENsb3NlQWNjb3VudCgpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcignbm90IHlldCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBTZW5kKCkge1xuICAgICAgICAgIC8qXG5cblxuXG5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdCBvZmZlckhhbmRsZXIgPSAoc2VhdCwgeyB0b0FjY291bnQsIGFtb3VudCB9KSA9PiB7XG4gICAgICAgICAgICBzZWF0LmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaCh0aGlzLmZhY2V0cy5ob2xkZXIuc2VuZCh0b0FjY291bnQsIGFtb3VudCkpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHpjZi5tYWtlSW52aXRhdGlvbihvZmZlckhhbmRsZXIsICdTZW5kJyk7XG4gICAgICAgIH0sXG4gICAgICAgIFNlbmRBbGwoKSB7XG4gICAgICAgICAgLypcblxuXG5cblxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IG9mZmVySGFuZGxlciA9IChzZWF0LCB7IHRvQWNjb3VudCwgYW1vdW50cyB9KSA9PiB7XG4gICAgICAgICAgICBzZWF0LmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybiB3YXRjaCh0aGlzLmZhY2V0cy5ob2xkZXIuc2VuZEFsbCh0b0FjY291bnQsIGFtb3VudHMpKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiB6Y2YubWFrZUludml0YXRpb24ob2ZmZXJIYW5kbGVyLCAnU2VuZEFsbCcpO1xuICAgICAgICB9LFxuICAgICAgICBUcmFuc2ZlcigpIHtcbiAgICAgICAgICAvKlxuXG5cblxuXG5cblxuXG5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdCBvZmZlckhhbmRsZXIgPSAoc2VhdCwgeyBhbW91bnQsIGRlc3RpbmF0aW9uLCBvcHRzIH0pID0+IHtcbiAgICAgICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5ob2xkZXIudHJhbnNmZXIoZGVzdGluYXRpb24sIGFtb3VudCwgb3B0cyksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHpjZi5tYWtlSW52aXRhdGlvbihvZmZlckhhbmRsZXIsICdUcmFuc2ZlcicpO1xuICAgICAgICB9LFxuICAgICAgICBXaXRoZHJhdygpIHtcbiAgICAgICAgICB0cmFjZSgnV2l0aGRyYXcnKTtcbiAgICAgICAgICByZXR1cm4gemNmLm1ha2VJbnZpdGF0aW9uKFxuICAgICAgICAgICAgc2VhdCA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgd2FudCB9ID0gc2VhdC5nZXRQcm9wb3NhbCgpO1xuICAgICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgICAgem9lVG9vbHMud2l0aGRyYXdUb1NlYXQoXG4gICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY2NvdW50LFxuICAgICAgICAgICAgICAgICAgc2VhdCxcbiAgICAgICAgICAgICAgICAgIHdhbnQsXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5zZWF0RXhpdGVySGFuZGxlcixcbiAgICAgICAgICAgICAgICBzZWF0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdXaXRoZHJhdycsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBNLnNwbGl0UmVjb3JkKHsgZ2l2ZToge30sIHdhbnQ6IEFueU5hdEFtb3VudHNSZWNvcmQgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB1bmRlbGVnYXRlV2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKHJlc3BvbnNlKSB7XG4gICAgICAgICAgY29uc3QgeyBjb21wbGV0aW9uVGltZSB9ID0gcmVzcG9uc2VbMF07XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgRSh0aW1lclNlcnZpY2UpLndha2VBdChcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgQmlnSW50KGNvbXBsZXRpb25UaW1lLnNlY29uZHMpICsgbWF4Q2xvY2tTa2V3LFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLnJldHVyblZvaWRXYXRjaGVyLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdHJhbnNmZXJXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQodGltZW91dFRpbWVzdGFtcCwgeyBvcHRzLCByb3V0ZSB9KSB7XG4gICAgICAgICAgY29uc3QgeyBmb3J3YXJkSW5mbywgLi4udHJhbnNmZXJEZXRhaWxzIH0gPSByb3V0ZTtcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICBsZXQgbWVtbztcbiAgICAgICAgICBpZiAob3B0cyAmJiAnbWVtbycgaW4gb3B0cykge1xuICAgICAgICAgICAgbWVtbyA9IG9wdHMubWVtbztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZvcndhcmRJbmZvKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgbWVtbyA9IEpTT04uc3RyaW5naWZ5KGZvcndhcmRJbmZvKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgdHJhbnNmZXJNc2cgPSB0eXBlZEpzb24oXG4gICAgICAgICAgICAnL2liYy5hcHBsaWNhdGlvbnMudHJhbnNmZXIudjEuTXNnVHJhbnNmZXInLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAuLi50cmFuc2ZlckRldGFpbHMsXG4gICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5zdGF0ZS5hZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICB0aW1lb3V0SGVpZ2h0OiBvcHRzPy50aW1lb3V0SGVpZ2h0ID8/IHtcbiAgICAgICAgICAgICAgICByZXZpc2lvbkhlaWdodDogMG4sXG4gICAgICAgICAgICAgICAgcmV2aXNpb25OdW1iZXI6IDBuLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB0aW1lb3V0VGltZXN0YW1wLFxuICAgICAgICAgICAgICBtZW1vOiBtZW1vID8/ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgeyBob2xkZXIgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgIGNvbnN0IHNlbmRlciA9IG1ha2VJQkNUcmFuc2ZlclNlbmRlcihcbiAgICAgICAgICAgIC8qICAgICAgICAgICAgICAqLyAoaG9sZGVyKSxcbiAgICAgICAgICAgIHRyYW5zZmVyTXNnLFxuICAgICAgICAgICk7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIGhvbGRlci5zZW5kVGhlbldhaXRGb3JBY2soc2VuZGVyKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICAvKlxuXG5cbiAgICAgICAqL1xuICAgICAgZXh0cmFjdEZpcnN0UmVzdWx0V2F0Y2hlcjoge1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChyZXN1bHRzKSB7XG4gICAgICAgICAgcmVzdWx0cy5sZW5ndGggPT09IDEgfHxcbiAgICAgICAgICAgIEZhaWxgZXhwZWN0ZWQgZXhhY3RseSBvbmUgcmVzdWx0OyBnb3QgJHtyZXN1bHRzfWA7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdHNbMF07XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmV0dXJuVm9pZFdhdGNoZXI6IHtcbiAgICAgICAgb25GdWxmaWxsZWQoKSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICAvKlxuXG5cbiAgICAgICAqL1xuICAgICAgZ2V0QmFsYW5jZVdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKG5hdEFtb3VudCwgZGVub20pIHtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgZGVub20sIHZhbHVlOiBuYXRBbW91bnQudmFsdWUgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIHNlYXRFeGl0ZXJIYW5kbGVyOiB7XG4gICAgICAgIC8qXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQoXywgc2VhdCkge1xuICAgICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uUmVqZWN0ZWQocmVhc29uLCBzZWF0KSB7XG4gICAgICAgICAgc2VhdC5leGl0KHJlYXNvbik7XG4gICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIC8qXG5cblxuICAgICAgICovXG4gICAgICBxdWVyeUJhbGFuY2VXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKHJlc3VsdCkge1xuICAgICAgICAgIGNvbnN0IHsgYmFsYW5jZSB9ID0gcmVzdWx0O1xuICAgICAgICAgIGlmICghYmFsYW5jZSB8fCAhYmFsYW5jZT8uZGVub20pIHtcbiAgICAgICAgICAgIHRocm93IEZhaWxgRXhwZWN0ZWQgYmFsYW5jZSAke3EocmVzdWx0KX07YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGhhcmRlbih0b0Rlbm9tQW1vdW50KGJhbGFuY2UpKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICAvKlxuXG5cbiAgICAgICAqL1xuICAgICAgcXVlcnlCYWxhbmNlc1dhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKHJlc3VsdCkge1xuICAgICAgICAgIGNvbnN0IHsgYmFsYW5jZXMgfSA9IHJlc3VsdDtcbiAgICAgICAgICBpZiAoIWJhbGFuY2VzIHx8ICFBcnJheS5pc0FycmF5KGJhbGFuY2VzKSkge1xuICAgICAgICAgICAgdGhyb3cgRmFpbGBFeHBlY3RlZCBiYWxhbmNlcyAke3EocmVzdWx0KX07YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGhhcmRlbihiYWxhbmNlcy5tYXAodG9EZW5vbUFtb3VudCkpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGhvbGRlcjoge1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGFzQ29udGludWluZ09mZmVyKCkge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBhc1Zvdyhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBudWxsO1xuICAgICAgICAgICAgY29uc3QgeyBob2xkZXIsIGludml0YXRpb25NYWtlcnM6IGltIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBjb25zdCBpbnZpdGF0aW9uTWFrZXJzID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgKi8gKGltKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIHB1YmxpY1N1YnNjcmliZXJzOiBhd2FpdCB3aGVuKGhvbGRlci5nZXRQdWJsaWNUb3BpY3MoKSksXG4gICAgICAgICAgICAgIGludml0YXRpb25NYWtlcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldEJhbGFuY2UoZGVub21BcmcpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW2JyYW5kLCBkZW5vbV0gPVxuICAgICAgICAgICAgICB0eXBlb2YgZGVub21BcmcgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBbY2hhaW5IdWIuZ2V0QXNzZXQoZGVub21BcmcsICdhZ29yaWMnKT8uYnJhbmQsIGRlbm9tQXJnXVxuICAgICAgICAgICAgICAgIDogW2Rlbm9tQXJnLCBjaGFpbkh1Yi5nZXREZW5vbShkZW5vbUFyZyldO1xuXG4gICAgICAgICAgICBpZiAoIWRlbm9tKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgTm8gZGVub20gZm9yIGJyYW5kOiAke2Rlbm9tQXJnfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChicmFuZCkge1xuICAgICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgICAgRSh0aGlzLnN0YXRlLmFjY291bnQpLmdldEJhbGFuY2UoYnJhbmQpLFxuICAgICAgICAgICAgICAgIHRoaXMuZmFjZXRzLmdldEJhbGFuY2VXYXRjaGVyLFxuICAgICAgICAgICAgICAgIGRlbm9tLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICAgIEUobG9jYWxjaGFpbikucXVlcnkoXG4gICAgICAgICAgICAgICAgdHlwZWRKc29uKCcvY29zbW9zLmJhbmsudjFiZXRhMS5RdWVyeUJhbGFuY2VSZXF1ZXN0Jywge1xuICAgICAgICAgICAgICAgICAgYWRkcmVzczogdGhpcy5zdGF0ZS5hZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgZGVub20sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnF1ZXJ5QmFsYW5jZVdhdGNoZXIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldEJhbGFuY2VzKCkge1xuICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgIEUobG9jYWxjaGFpbikucXVlcnkoXG4gICAgICAgICAgICAgIHR5cGVkSnNvbignL2Nvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlBbGxCYWxhbmNlc1JlcXVlc3QnLCB7XG4gICAgICAgICAgICAgICAgYWRkcmVzczogdGhpcy5zdGF0ZS5hZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5xdWVyeUJhbGFuY2VzV2F0Y2hlcixcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldFB1YmxpY1RvcGljcygpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIGFzVm93KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IG51bGw7XG4gICAgICAgICAgICBjb25zdCB7IHRvcGljS2l0IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCF0b3BpY0tpdCkgdGhyb3cgRmFpbGBObyB0b3BpY0tpdDsgc3RvcmFnZU5vZGUgbm90IHByb3ZpZGVkYDtcbiAgICAgICAgICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgICAgICAgICBhY2NvdW50OiB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFBVQkxJQ19UT1BJQ1MuYWNjb3VudFswXSxcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyOiB0b3BpY0tpdC5zdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2VQYXRoOiBhd2FpdCB0b3BpY0tpdC5yZWNvcmRlci5nZXRTdG9yYWdlUGF0aCgpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8vXG4gICAgICAgIC8qXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZWdhdGUodmFsaWRhdG9yQWRkcmVzcywgZXJ0cEFtb3VudCkge1xuICAgICAgICAgIGNvbnN0IHsgYWNjb3VudDogbGNhIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgY29uc3QgYW1vdW50ID0gY29lcmNlQ29pbihjaGFpbkh1YiwgZXJ0cEFtb3VudCk7XG5cbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICBFKGxjYSkuZXhlY3V0ZVR4KFtcbiAgICAgICAgICAgICAgdHlwZWRKc29uKCcvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dEZWxlZ2F0ZScsIHtcbiAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICAgICAgdmFsaWRhdG9yQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBkZWxlZ2F0b3JBZGRyZXNzOiB0aGlzLnN0YXRlLmFkZHJlc3MudmFsdWUsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5leHRyYWN0Rmlyc3RSZXN1bHRXYXRjaGVyLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIC8vXG4gICAgICAgIC8qXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICB1bmRlbGVnYXRlKHZhbGlkYXRvckFkZHJlc3MsIGVydHBBbW91bnQpIHtcbiAgICAgICAgICBjb25zdCBhbW91bnQgPSBjb2VyY2VDb2luKGNoYWluSHViLCBlcnRwQW1vdW50KTtcbiAgICAgICAgICBjb25zdCB7IGFjY291bnQ6IGxjYSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICBFKGxjYSkuZXhlY3V0ZVR4KFtcbiAgICAgICAgICAgICAgdHlwZWRKc29uKCcvY29zbW9zLnN0YWtpbmcudjFiZXRhMS5Nc2dVbmRlbGVnYXRlJywge1xuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3JBZGRyZXNzLFxuICAgICAgICAgICAgICAgIGRlbGVnYXRvckFkZHJlc3M6IHRoaXMuc3RhdGUuYWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLnVuZGVsZWdhdGVXYXRjaGVyLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBkZXBvc2l0KHBheW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICBFKHRoaXMuc3RhdGUuYWNjb3VudCkuZGVwb3NpdChwYXltZW50KSxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLnJldHVyblZvaWRXYXRjaGVyLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICB3aXRoZHJhdyhhbW91bnQpIHtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goRSh0aGlzLnN0YXRlLmFjY291bnQpLndpdGhkcmF3KGFtb3VudCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBleGVjdXRlVHgobWVzc2FnZXMpIHtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goRSh0aGlzLnN0YXRlLmFjY291bnQpLmV4ZWN1dGVUeChtZXNzYWdlcykpO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldEFkZHJlc3MoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYWRkcmVzcztcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHNlbmQodG9BY2NvdW50LCBhbW91bnQpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgdHJhY2UoJ3NlbmQnLCB0b0FjY291bnQsIGFtb3VudCk7XG4gICAgICAgICAgICBjb25zdCBjb3Ntb3NEZXN0ID0gY2hhaW5IdWIuY29lcmNlQ29zbW9zQWRkcmVzcyh0b0FjY291bnQpO1xuICAgICAgICAgICAgY29zbW9zRGVzdC5jaGFpbklkID09PSB0aGlzLnN0YXRlLmFkZHJlc3MuY2hhaW5JZCB8fFxuICAgICAgICAgICAgICBGYWlsYGJhbmsvc2VuZCBjYW5ub3Qgc2VuZCB0byBhIGRpZmZlcmVudCBjaGFpbiAke3EoY29zbW9zRGVzdC5jaGFpbklkKX1gO1xuICAgICAgICAgICAgY29uc3QgeyBoZWxwZXIgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgICBFKHRoaXMuc3RhdGUuYWNjb3VudCkuZXhlY3V0ZVR4KFtcbiAgICAgICAgICAgICAgICB0eXBlZEpzb24oJy9jb3Ntb3MuYmFuay52MWJldGExLk1zZ1NlbmQnLCB7XG4gICAgICAgICAgICAgICAgICBhbW91bnQ6IFtoZWxwZXIuYW1vdW50VG9Db2luKGFtb3VudCldLFxuICAgICAgICAgICAgICAgICAgdG9BZGRyZXNzOiBjb3Ntb3NEZXN0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgZnJvbUFkZHJlc3M6IHRoaXMuc3RhdGUuYWRkcmVzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLnJldHVyblZvaWRXYXRjaGVyLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHNlbmRBbGwodG9BY2NvdW50LCBhbW91bnRzKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIHRyYWNlKCdzZW5kQWxsJywgdG9BY2NvdW50LCBhbW91bnRzKTtcbiAgICAgICAgICAgIGNvbnN0IHsgaGVscGVyIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgRSh0aGlzLnN0YXRlLmFjY291bnQpLmV4ZWN1dGVUeChbXG4gICAgICAgICAgICAgICAgdHlwZWRKc29uKCcvY29zbW9zLmJhbmsudjFiZXRhMS5Nc2dTZW5kJywge1xuICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnRzLm1hcChhID0+IGhlbHBlci5hbW91bnRUb0NvaW4oYSkpLFxuICAgICAgICAgICAgICAgICAgdG9BZGRyZXNzOiB0b0FjY291bnQudmFsdWUsXG4gICAgICAgICAgICAgICAgICBmcm9tQWRkcmVzczogdGhpcy5zdGF0ZS5hZGRyZXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMucmV0dXJuVm9pZFdhdGNoZXIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICB0cmFuc2ZlcihkZXN0aW5hdGlvbiwgYW1vdW50LCBvcHRzKSB7XG4gICAgICAgICAgcmV0dXJuIGFzVm93KCgpID0+IHtcbiAgICAgICAgICAgIHRyYWNlKCdUcmFuc2ZlcnJpbmcgZnVuZHMgb3ZlciBJQkMnKTtcblxuICAgICAgICAgICAgY29uc3QgZGVub21BbW91bnQgPSBjb2VyY2VEZW5vbUFtb3VudChjaGFpbkh1YiwgYW1vdW50KTtcblxuICAgICAgICAgICAgY29uc3QgeyBmb3J3YXJkT3B0cywgLi4ucmVzdCB9ID0gb3B0cyA/PyB7fTtcblxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gY2hhaW5IdWIubWFrZVRyYW5zZmVyUm91dGUoXG4gICAgICAgICAgICAgIGRlc3RpbmF0aW9uLFxuICAgICAgICAgICAgICBkZW5vbUFtb3VudCxcbiAgICAgICAgICAgICAgJ2Fnb3JpYycsXG4gICAgICAgICAgICAgIGZvcndhcmRPcHRzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRyYWNlKCdnb3QgdHJhbnNmZXIgcm91dGUnLCByb3V0ZSk7XG5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ViA9IHdhdGNoKFxuICAgICAgICAgICAgICB0aW1lc3RhbXBIZWxwZXIudm93T3JWYWx1ZUZyb21PcHRzKG9wdHMpLFxuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy50cmFuc2ZlcldhdGNoZXIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcHRzOiByZXN0LFxuICAgICAgICAgICAgICAgIHJvdXRlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRWO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgdHJhbnNmZXJTdGVwcyhhbW91bnQsIG1zZykge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndHJhbnNmZXJTdGVwcyBnb3QnLCBhbW91bnQsIG1zZyk7XG4gICAgICAgICAgICB0aHJvdyBGYWlsYG5vdCB5ZXQgaW1wbGVtZW50ZWRgO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBzZW5kVGhlbldhaXRGb3JBY2soc2VuZGVyLCBvcHRzKSB7XG4gICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgRSh0aGlzLnN0YXRlLnBhY2tldFRvb2xzKS5zZW5kVGhlbldhaXRGb3JBY2soc2VuZGVyLCBvcHRzKSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgbWF0Y2hGaXJzdFBhY2tldChwYXR0ZXJuVikge1xuICAgICAgICAgIHJldHVybiB3YXRjaChFKHRoaXMuc3RhdGUucGFja2V0VG9vbHMpLm1hdGNoRmlyc3RQYWNrZXQocGF0dGVyblYpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgbW9uaXRvclRyYW5zZmVycyh0YXApIHtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goRSh0aGlzLnN0YXRlLnBhY2tldFRvb2xzKS5tb25pdG9yVHJhbnNmZXJzKHRhcCkpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuICByZXR1cm4gbWFrZUxvY2FsT3JjaGVzdHJhdGlvbkFjY291bnRLaXQ7XG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UucHJlcGFyZUxvY2FsT3JjaGVzdHJhdGlvbkFjY291bnRLaXQocHJlcGFyZUxvY2FsT3JjaGVzdHJhdGlvbkFjY291bnRLaXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZUxvY2FsT3JjaGVzdHJhdGlvbkFjY291bnRLaXQiOlsicHJlcGFyZUxvY2FsT3JjaGVzdHJhdGlvbkFjY291bnRLaXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAApllvKV4YAABeGAAANQAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3Mvb3JjaGVzdHJhdG9yLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvZXJ0cCIsIkBhZ29yaWMvdmF0LWRhdGEiLCJAYWdvcmljL2ludGVybmFsIiwiQGFnb3JpYy9uZXR3b3JrIiwiQGVuZG8vZXJyb3JzIiwiQGVuZG8vcGF0dGVybnMiLCIuLi90eXBlR3VhcmRzLmpzIl0sImV4cG9ydHMiOlsiT3JjaGVzdHJhdG9ySSIsInByZXBhcmVPcmNoZXN0cmF0b3IiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBBbW91bnRTaGFwZSxtYWtlU2NhbGFyTWFwU3RvcmUscGlja0ZhY2V0LG1ha2VUcmFjZXIsTmV0d29ya1NoYXBlLEZhaWwscSxNLERlbm9tSW5mb1NoYXBlLERlbm9tQW1vdW50U2hhcGUsRGVub21TaGFwZTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvZXJ0cFwiLCBbW1wiQW1vdW50U2hhcGVcIixbJGjNj19hID0+IChBbW91bnRTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdmF0LWRhdGFcIiwgW1tcIm1ha2VTY2FsYXJNYXBTdG9yZVwiLFskaM2PX2EgPT4gKG1ha2VTY2FsYXJNYXBTdG9yZSA9ICRozY9fYSldXSxbXCJwaWNrRmFjZXRcIixbJGjNj19hID0+IChwaWNrRmFjZXQgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJtYWtlVHJhY2VyXCIsWyRozY9fYSA9PiAobWFrZVRyYWNlciA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvbmV0d29ya1wiLCBbW1wiU2hhcGVcIixbJGjNj19hID0+IChOZXR3b3JrU2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi4vdHlwZUd1YXJkcy5qc1wiLCBbW1wiRGVub21JbmZvU2hhcGVcIixbJGjNj19hID0+IChEZW5vbUluZm9TaGFwZSA9ICRozY9fYSldXSxbXCJEZW5vbUFtb3VudFNoYXBlXCIsWyRozY9fYSA9PiAoRGVub21BbW91bnRTaGFwZSA9ICRozY9fYSldXSxbXCJEZW5vbVNoYXBlXCIsWyRozY9fYSA9PiAoRGVub21TaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IHsgVm93JCB9ID0gTmV0d29ya1NoYXBlOyAvL1xuY29uc3QgdHJhY2UgPSBtYWtlVHJhY2VyKCdPcmNoZXN0cmF0b3InKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBPcmNoZXN0cmF0b3JJID0gTS5pbnRlcmZhY2UoJ09yY2hlc3RyYXRvcicsIHtcbiAgZ2V0Q2hhaW46IE0uY2FsbChNLnN0cmluZygpKS5yZXR1cm5zKFZvdyQoTS5yZW1vdGFibGUoJ0NoYWluRmFjYWRlJykpKSxcbiAgZ2V0RGVub21JbmZvOiBNLmNhbGwoRGVub21TaGFwZSwgTS5zdHJpbmcoKSkucmV0dXJucyhEZW5vbUluZm9TaGFwZSksXG4gIGFzQW1vdW50OiBNLmNhbGwoRGVub21BbW91bnRTaGFwZSkucmV0dXJucyhBbW91bnRTaGFwZSksXG59KTtcblxuLypcblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLk9yY2hlc3RyYXRvckkoT3JjaGVzdHJhdG9ySSk7XG5jb25zdCBwcmVwYXJlT3JjaGVzdHJhdG9yS2l0ID0gKFxuICB6b25lLFxuICB7XG4gICAgY2hhaW5IdWIsXG4gICAgbWFrZUxvY2FsQ2hhaW5GYWNhZGUsXG4gICAgbWFrZVJlbW90ZUNoYWluRmFjYWRlLFxuICAgIHZvd1Rvb2xzOiB7IHdhdGNoLCBhc1ZvdyB9LFxuICB9LFxuKSA9PiB7XG4gIC8qXG5cblxuICAgKi9cblxuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgY2hhaW5CeU5hbWUgPSBtYWtlU2NhbGFyTWFwU3RvcmUoJ2NoYWluTmFtZScpO1xuXG4gIHJldHVybiB6b25lLmV4b0NsYXNzS2l0KFxuICAgICdPcmNoZXN0cmF0b3InLFxuICAgIHtcbiAgICAgIG9yY2hlc3RyYXRvcjogT3JjaGVzdHJhdG9ySSxcbiAgICAgIG1ha2VMb2NhbENoYWluRmFjYWRlV2F0Y2hlcjogTS5pbnRlcmZhY2UoJ21ha2VMb2NhbENoYWluRmFjYWRlV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLnJlY29yZCgpKS5yZXR1cm5zKE0ucmVtb3RhYmxlKCkpLFxuICAgICAgfSksXG4gICAgICBtYWtlUmVtb3RlQ2hhaW5GYWNhZGVXYXRjaGVyOiBNLmludGVyZmFjZShcbiAgICAgICAgJ21ha2VSZW1vdGVDaGFpbkZhY2FkZVdhdGNoZXInLFxuICAgICAgICB7XG4gICAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpLCBNLnN0cmluZygpKVxuICAgICAgICAgICAgLm9wdGlvbmFsKE0uYXJyYXlPZihNLnVuZGVmaW5lZCgpKSkgLy9cbiAgICAgICAgICAgIC5yZXR1cm5zKE0ucmVtb3RhYmxlKCkpLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICB9LFxuICAgICgpID0+IHtcbiAgICAgIHRyYWNlKCdtYWtpbmcgYW4gT3JjaGVzdHJhdG9yJyk7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICB7XG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgbWFrZUxvY2FsQ2hhaW5GYWNhZGVXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKGFnb3JpY0NoYWluSW5mbykge1xuICAgICAgICAgIGNvbnN0IGl0ID0gbWFrZUxvY2FsQ2hhaW5GYWNhZGUoYWdvcmljQ2hhaW5JbmZvKTtcbiAgICAgICAgICBjaGFpbkJ5TmFtZS5zZXQoJ2Fnb3JpYycsIGhhcmRlbih7IHZhbHVlOiBpdCwgcGVuZGluZzogZmFsc2UgfSkpO1xuICAgICAgICAgIHJldHVybiBpdDtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICAvKlxuXG5cbiAgICAgICAqL1xuICAgICAgbWFrZVJlbW90ZUNoYWluRmFjYWRlV2F0Y2hlcjoge1xuICAgICAgICAvKlxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFtfYWdvcmljQ2hhaW5JbmZvLCByZW1vdGVDaGFpbkluZm8sIGNvbm5lY3Rpb25JbmZvXSwgbmFtZSkge1xuICAgICAgICAgIGNvbnN0IGl0ID0gbWFrZVJlbW90ZUNoYWluRmFjYWRlKHJlbW90ZUNoYWluSW5mbywgY29ubmVjdGlvbkluZm8pO1xuICAgICAgICAgIGNoYWluQnlOYW1lLnNldChuYW1lLCBoYXJkZW4oeyB2YWx1ZTogaXQsIHBlbmRpbmc6IGZhbHNlIH0pKTtcbiAgICAgICAgICByZXR1cm4gaXQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgb3JjaGVzdHJhdG9yOiB7XG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldENoYWluKG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoYWluQnlOYW1lLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICBjb25zdCBtYXliZUNoYWluID0gY2hhaW5CeU5hbWUuZ2V0KG5hbWUpO1xuICAgICAgICAgICAgICByZXR1cm4gbWF5YmVDaGFpbi5wZW5kaW5nID8gbWF5YmVDaGFpbi52b3cgOiBtYXliZUNoYWluLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgdm93ID1cbiAgICAgICAgICAgICAgbmFtZSA9PT0gJ2Fnb3JpYydcbiAgICAgICAgICAgICAgICA/IHdhdGNoKFxuICAgICAgICAgICAgICAgICAgICBjaGFpbkh1Yi5nZXRDaGFpbkluZm8oJ2Fnb3JpYycpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5tYWtlTG9jYWxDaGFpbkZhY2FkZVdhdGNoZXIsXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiB3YXRjaChcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5IdWIuZ2V0Q2hhaW5zQW5kQ29ubmVjdGlvbignYWdvcmljJywgbmFtZSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjZXRzLm1ha2VSZW1vdGVDaGFpbkZhY2FkZVdhdGNoZXIsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY2hhaW5CeU5hbWUuaW5pdChuYW1lLCBoYXJkZW4oeyB2b3csIHBlbmRpbmc6IHRydWUgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHZvdztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGdldERlbm9tSW5mbyhkZW5vbSwgaG9sZGluZ0NoYWluTmFtZSkge1xuICAgICAgICAgIGNvbnN0IGRlbm9tRGV0YWlsID0gY2hhaW5IdWIuZ2V0QXNzZXQoZGVub20sIGhvbGRpbmdDaGFpbk5hbWUpO1xuICAgICAgICAgIGlmICghZGVub21EZXRhaWwpIHRocm93IEZhaWxgTm8gZGVub20gZGV0YWlsIGZvciAke3EoZGVub20pfWA7XG4gICAgICAgICAgY29uc3QgeyBjaGFpbk5hbWUsIGJhc2VOYW1lLCBiYXNlRGVub20sIGJyYW5kIH0gPSBkZW5vbURldGFpbDtcbiAgICAgICAgICBjaGFpbkJ5TmFtZS5oYXMoY2hhaW5OYW1lKSB8fFxuICAgICAgICAgICAgRmFpbGB1c2UgZ2V0Q2hhaW4oJHtxKGNoYWluTmFtZSl9KSBiZWZvcmUgZ2V0RGVub21JbmZvKCR7cShkZW5vbSl9KWA7XG4gICAgICAgICAgY29uc3QgbWF5YmVDaGFpbiA9IGNoYWluQnlOYW1lLmdldChjaGFpbk5hbWUpO1xuICAgICAgICAgIGlmIChtYXliZUNoYWluLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHRocm93IEZhaWxgd2FpdCB1bnRpbCBnZXRDaGFpbigke3EoY2hhaW5OYW1lKX0pIGNvbXBsZXRlcyBiZWZvcmUgZ2V0RGVub21JbmZvKCR7cShkZW5vbSl9KWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGNoYWluID1cbiAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgICAgICAgICAgICBtYXliZUNoYWluLnZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNoYWluQnlOYW1lLmhhcyhiYXNlTmFtZSkgfHxcbiAgICAgICAgICAgIEZhaWxgdXNlIGdldENoYWluKCR7cShiYXNlTmFtZSl9KSBiZWZvcmUgZ2V0RGVub21JbmZvKCR7cShkZW5vbSl9KWA7XG4gICAgICAgICAgY29uc3QgbWF5YmVCYXNlID0gY2hhaW5CeU5hbWUuZ2V0KGJhc2VOYW1lKTtcbiAgICAgICAgICBpZiAobWF5YmVCYXNlLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHRocm93IEZhaWxgd2FpdCB1bnRpbCBnZXRDaGFpbigke3EoYmFzZU5hbWUpfSkgY29tcGxldGVzIGJlZm9yZSBnZXREZW5vbUluZm8oJHtxKGRlbm9tKX0pYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgYmFzZSA9XG4gICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgICAgICAgICAgbWF5YmVCYXNlLnZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBoYXJkZW4oeyBjaGFpbiwgYmFzZSwgYnJhbmQsIGJhc2VEZW5vbSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgYXNBbW91bnQ6ICgpID0+IEZhaWxgbm90IHlldCBpbXBsZW1lbnRlZGAsXG4gICAgICB9LFxuICAgIH0sXG4gICk7XG59O1xuaGFyZGVuKHByZXBhcmVPcmNoZXN0cmF0b3JLaXQpO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlT3JjaGVzdHJhdG9yID0gKHpvbmUsIHBvd2VycykgPT4ge1xuICBjb25zdCBtYWtlT3JjaGVzdHJhdG9yS2l0ID0gcHJlcGFyZU9yY2hlc3RyYXRvcktpdCh6b25lLCBwb3dlcnMpO1xuICByZXR1cm4gcGlja0ZhY2V0KG1ha2VPcmNoZXN0cmF0b3JLaXQsICdvcmNoZXN0cmF0b3InKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UucHJlcGFyZU9yY2hlc3RyYXRvcihwcmVwYXJlT3JjaGVzdHJhdG9yKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Ik9yY2hlc3RyYXRvckkiOlsiT3JjaGVzdHJhdG9ySSJdLCJwcmVwYXJlT3JjaGVzdHJhdG9yIjpbInByZXBhcmVPcmNoZXN0cmF0b3IiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAUdJPIhMsAAATLAAANQAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvcGFja2V0LXRvb2xzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL21hcnNoYWwiLCJAYWdvcmljL25ldHdvcmsiLCJAZW5kby9wYXR0ZXJucyIsIkBlbmRvL2ZhciIsIkBhZ29yaWMvdmF0LWRhdGEiLCJAYWdvcmljL2ludGVybmFsIl0sImV4cG9ydHMiOlsicHJlcGFyZVBhY2tldFRvb2xzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbWFrZU1hcnNoYWwsZGVjb2RlVG9KdXN0aW4sTmV0d29ya1NoYXBlLE0sbWF0Y2hlcyxFLHBpY2tGYWNldCxtYWtlVHJhY2VyOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vbWFyc2hhbFwiLCBbW1wibWFrZU1hcnNoYWxcIixbJGjNj19hID0+IChtYWtlTWFyc2hhbCA9ICRozY9fYSldXSxbXCJkZWNvZGVUb0p1c3RpblwiLFskaM2PX2EgPT4gKGRlY29kZVRvSnVzdGluID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9uZXR3b3JrXCIsIFtbXCJTaGFwZVwiLFskaM2PX2EgPT4gKE5ldHdvcmtTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXSxbXCJtYXRjaGVzXCIsWyRozY9fYSA9PiAobWF0Y2hlcyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3ZhdC1kYXRhXCIsIFtbXCJwaWNrRmFjZXRcIixbJGjNj19hID0+IChwaWNrRmFjZXQgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJtYWtlVHJhY2VyXCIsWyRozY9fYSA9PiAobWFrZVRyYWNlciA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5jb25zdCB0cmFjZSA9IG1ha2VUcmFjZXIoJ1BhY2tldFRvb2xzJyk7XG5cbmNvbnN0IHsgdG9DYXBEYXRhIH0gPSBtYWtlTWFyc2hhbCh1bmRlZmluZWQsIHVuZGVmaW5lZCwge1xuICBtYXJzaGFsTmFtZTogJ0p1c3RFbmNvZGVyJyxcbiAgc2VyaWFsaXplQm9keUZvcm1hdDogJ2NhcGRhdGEnLFxufSk7XG5jb25zdCBqdXN0ID0gb2JqID0+IHtcbiAgY29uc3QgeyBib2R5IH0gPSB0b0NhcERhdGEob2JqKTtcbiAgcmV0dXJuIGRlY29kZVRvSnVzdGluKEpTT04ucGFyc2UoYm9keSksIGZhbHNlKTtcbn07XG5cbi8qXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG4gKi9cblxuY29uc3QgeyBWb3ckIH0gPSBOZXR3b3JrU2hhcGU7IC8vXG5cbmNvbnN0IEVWb3ckID0gc2hhcGUgPT4gTS5vcihWb3ckKHNoYXBlKSwgTS5wcm9taXNlKC8qICAgICAgICovKSk7XG5cbmNvbnN0IHNpbmsgPSAoKSA9PiB7fTtcbmhhcmRlbihzaW5rKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlUGFja2V0VG9vbHMgPSAoem9uZSwgdm93VG9vbHMpID0+IHtcbiAgY29uc3QgeyBhbGxWb3dzLCBtYWtlVm93S2l0LCB3YXRjaCwgd2hlbiB9ID0gdm93VG9vbHM7XG5cbiAgY29uc3QgbWFrZVBhY2tldFRvb2xzS2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAnUGFja2V0VG9vbHNLaXQnLFxuICAgIHtcbiAgICAgIHB1YmxpYzogTS5pbnRlcmZhY2UoJ1BhY2tldFRvb2xzJywge1xuICAgICAgICBzZW5kVGhlbldhaXRGb3JBY2s6IE0uY2FsbChFVm93JChNLnJlbW90YWJsZSgnUGFja2V0U2VuZGVyJykpKVxuICAgICAgICAgIC5vcHRpb25hbChNLmFueSgpKVxuICAgICAgICAgIC5yZXR1cm5zKEVWb3ckKE0uYW55KCkpKSxcbiAgICAgICAgbWF0Y2hGaXJzdFBhY2tldDogTS5jYWxsKE0uYW55KCkpLnJldHVybnMoRVZvdyQoTS5hbnkoKSkpLFxuICAgICAgICBtb25pdG9yVHJhbnNmZXJzOiBNLmNhbGwoTS5yZW1vdGFibGUoJ1RhcmdldEFwcCcpKS5yZXR1cm5zKFxuICAgICAgICAgIEVWb3ckKE0uYW55KCkpLFxuICAgICAgICApLFxuICAgICAgfSksXG4gICAgICB0YXA6IE0uaW50ZXJmYWNlKCd0YXAnLCB7XG4gICAgICAgIC8vXG4gICAgICAgIHJlY2VpdmVVcGNhbGw6IE0uY2FsbFdoZW4oTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgIH0pLFxuICAgICAgbW9uaXRvclJlZ2lzdHJhdGlvbjogTS5pbnRlcmZhY2UoJ21vbml0b3JSZWdpc3RyYXRpb24nLCB7XG4gICAgICAgIC8vXG4gICAgICAgIHVwZGF0ZVRhcmdldEFwcDogTS5jYWxsV2hlbihcbiAgICAgICAgICBNLmF3YWl0KE0ucmVtb3RhYmxlKCdUYXJnZXRBcHAnKSksXG4gICAgICAgICkucmV0dXJucygpLFxuICAgICAgICAvL1xuICAgICAgICByZXZva2U6IE0uY2FsbFdoZW4oKS5yZXR1cm5zKCksXG4gICAgICB9KSxcbiAgICAgIHdhdGNoUGFja2V0TWF0Y2g6IE0uaW50ZXJmYWNlKCd3YXRjaFBhY2tldE1hdGNoJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCksIE0ucmVjb3JkKCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9KSxcbiAgICAgIHdhdGNoUGFja2V0UGF0dGVybjogTS5pbnRlcmZhY2UoJ3dhdGNoUGFja2V0UGF0dGVybicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChNLmFueSgpLCBNLnJlY29yZCgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgICBvblJlamVjdGVkOiBNLmNhbGwoTS5hbnkoKSwgTS5yZWNvcmQoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgIH0pLFxuICAgICAgd2F0Y2hEZWNyUGVuZGluZ1BhdHRlcm5zOiBNLmludGVyZmFjZSgnd2F0Y2hEZWNyUGVuZGluZ1BhdHRlcm5zJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0uYW55KCkpLnJldHVybnMoTS5hbnkoKSksXG4gICAgICAgIG9uUmVqZWN0ZWQ6IE0uY2FsbChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxuICAgICAgfSksXG4gICAgICBzZW5kUGFja2V0V2F0Y2hlcjogTS5pbnRlcmZhY2UoJ3NlbmRQYWNrZXRXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKFxuICAgICAgICAgIFtNLnJlY29yZCgpLCBNLnJlbW90YWJsZSgnUGFja2V0U2VuZGVyJyldLFxuICAgICAgICAgIE0ucmVjb3JkKCksXG4gICAgICAgICkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgIH0pLFxuICAgICAgcGFja2V0V2FzU2VudFdhdGNoZXI6IE0uaW50ZXJmYWNlKCdwYWNrZXRXYXNTZW50V2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChcbiAgICAgICAgICB7IGV2ZW50UGF0dGVybjogTS5wYXR0ZXJuKCksIHJlc3VsdFY6IFZvdyQoTS5hbnkoKSkgfSxcbiAgICAgICAgICBNLnJlY29yZCgpLFxuICAgICAgICApLnJldHVybnMoTS5hbnkoKSksXG4gICAgICB9KSxcbiAgICAgIHV0aWxzOiBNLmludGVyZmFjZSgndXRpbHMnLCB7XG4gICAgICAgIHN1YnNjcmliZVRvVHJhbnNmZXJzOiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICAgICAgdW5zdWJzY3JpYmVGcm9tVHJhbnNmZXJzOiBNLmNhbGwoKS5yZXR1cm5zKE0udW5kZWZpbmVkKCkpLFxuICAgICAgICBpbmNyUGVuZGluZ1BhdHRlcm5zOiBNLmNhbGwoKS5yZXR1cm5zKFZvdyQoTS51bmRlZmluZWQoKSkpLFxuICAgICAgICBkZWNyUGVuZGluZ1BhdHRlcm5zOiBNLmNhbGwoKS5yZXR1cm5zKFZvdyQoTS51bmRlZmluZWQoKSkpLFxuICAgICAgfSksXG4gICAgICByZWplY3RSZXNvbHZlckFuZFJldGhyb3dXYXRjaGVyOiBNLmludGVyZmFjZSgncmVqZWN0UmVzb2x2ZXJXYXRjaGVyJywge1xuICAgICAgICBvblJlamVjdGVkOiBNLmNhbGwoTS5hbnkoKSwge1xuICAgICAgICAgIHJlc29sdmVyOiBNLnJlbW90YWJsZSgncmVzb2x2ZXInKSxcbiAgICAgICAgfSkucmV0dXJucyhNLmFueSgpKSxcbiAgICAgIH0pLFxuICAgIH0sXG4gICAgLypcblxuICAgICAqL1xuICAgIGxjYSA9PiB7XG4gICAgICBjb25zdCByZXNvbHZlclRvUGF0dGVybiA9IHpvbmUuZGV0YWNoZWQoKS5tYXBTdG9yZSgncmVzb2x2ZXJUb1BhdHRlcm4nKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxjYSxcbiAgICAgICAgcmVnOiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKG51bGwpLFxuICAgICAgICByZXNvbHZlclRvUGF0dGVybixcbiAgICAgICAgdXBjYWxsUXVldWU6IC8qICAgICAgICAgICAgICAgICAgICAgICAqLyAobnVsbCksXG4gICAgICAgIHBlbmRpbmc6IDAsXG4gICAgICAgIGV4dHJhOiBudWxsLFxuICAgICAgICBtb25pdG9yOiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKG51bGwpLFxuICAgICAgfTtcbiAgICB9LFxuICAgIHtcbiAgICAgIHB1YmxpYzoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICAvL1xuICAgICAgICBhc3luYyBtb25pdG9yVHJhbnNmZXJzKG1vbml0b3IpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3QgbXJlZyA9IHRoaXMuZmFjZXRzLm1vbml0b3JSZWdpc3RyYXRpb247XG4gICAgICAgICAgYXdhaXQgbXJlZy51cGRhdGVUYXJnZXRBcHAobW9uaXRvcik7XG4gICAgICAgICAgcmV0dXJuIG1yZWc7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cbiAgICAgICAgICovXG4gICAgICAgIG1hdGNoRmlyc3RQYWNrZXQocGF0dGVyblApIHtcbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy51dGlscy5pbmNyUGVuZGluZ1BhdHRlcm5zKCksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy53YXRjaFBhY2tldE1hdGNoLFxuICAgICAgICAgICAgeyBwYXR0ZXJuUCB9LFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBzZW5kVGhlbldhaXRGb3JBY2socGFja2V0U2VuZGVyLCBvcHRzID0ge30pIHtcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgY29uc3QgcGF0dGVybiA9IG1ha2VWb3dLaXQoKTtcblxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCBtYXRjaFYgPSB3YXRjaChcbiAgICAgICAgICAgIGFsbFZvd3MoW1xuICAgICAgICAgICAgICB0aGlzLmZhY2V0cy5wdWJsaWMubWF0Y2hGaXJzdFBhY2tldChwYXR0ZXJuLnZvdyksXG4gICAgICAgICAgICAgIHBhY2tldFNlbmRlcixcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMuc2VuZFBhY2tldFdhdGNoZXIsXG4gICAgICAgICAgICB7IG9wdHMgfSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCByZXN1bHRWID0gd2F0Y2gobWF0Y2hWLCB0aGlzLmZhY2V0cy5wYWNrZXRXYXNTZW50V2F0Y2hlciwge1xuICAgICAgICAgICAgb3B0cyxcbiAgICAgICAgICAgIHBhdHRlcm5SZXNvbHZlcjogcGF0dGVybi5yZXNvbHZlcixcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIHdhdGNoKHJlc3VsdFYsIHRoaXMuZmFjZXRzLnJlamVjdFJlc29sdmVyQW5kUmV0aHJvd1dhdGNoZXIsIHtcbiAgICAgICAgICAgIHJlc29sdmVyOiBwYXR0ZXJuLnJlc29sdmVyLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG1vbml0b3JSZWdpc3RyYXRpb246IHtcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAvL1xuICAgICAgICBhc3luYyB1cGRhdGVUYXJnZXRBcHAodGFwKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5tb25pdG9yID0gYXdhaXQgdGFwO1xuICAgICAgICAgIGF3YWl0IHRoaXMuZmFjZXRzLnV0aWxzLnN1YnNjcmliZVRvVHJhbnNmZXJzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgLy9cbiAgICAgICAgYXN5bmMgcmV2b2tlKCkge1xuICAgICAgICAgIHRoaXMuc3RhdGUubW9uaXRvciA9IG51bGw7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdGFwOiB7XG4gICAgICAgIC8qXG5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIHJlY2VpdmVVcGNhbGwob2JqKSB7XG4gICAgICAgICAgY29uc3QgeyBtb25pdG9yLCByZXNvbHZlclRvUGF0dGVybiwgdXBjYWxsUXVldWUsIHBlbmRpbmcgfSA9XG4gICAgICAgICAgICB0aGlzLnN0YXRlO1xuICAgICAgICAgIHRyYWNlKFxuICAgICAgICAgICAgYFRyeWluZyAke3Jlc29sdmVyVG9QYXR0ZXJuLmdldFNpemUoKX0gY3VycmVudCBwYXR0ZXJucyBhbmQgJHtwZW5kaW5nfSBwZW5kaW5nIHBhdHRlcm5zIGFnYWluc3RgLFxuICAgICAgICAgICAganVzdChvYmopLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAobW9uaXRvcikge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHZvaWQgRShtb25pdG9yKS5yZWNlaXZlVXBjYWxsKG9iaik7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vXG4gICAgICAgICAgZm9yIChjb25zdCBbcmVzb2x2ZXIsIHBhdHRlcm5dIG9mIHJlc29sdmVyVG9QYXR0ZXJuLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMob2JqLCBwYXR0ZXJuKSkge1xuICAgICAgICAgICAgICB0cmFjZSgnTWF0Y2hlZCBwYXR0ZXJuOicsIGp1c3QocGF0dGVybikpO1xuICAgICAgICAgICAgICByZXNvbHZlci5yZXNvbHZlKG9iaik7XG4gICAgICAgICAgICAgIHJlc29sdmVyVG9QYXR0ZXJuLmRlbGV0ZShyZXNvbHZlcik7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHVwY2FsbFF1ZXVlKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHRyYWNlKCdTdGFzaGluZyBvYmplY3QgaW4gdXBjYWxsUXVldWUnKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUudXBjYWxsUXVldWUgPSBoYXJkZW4odXBjYWxsUXVldWUuY29uY2F0KG9iaikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0cmFjZSgnTm8gbWF0Y2ggeWV0LicpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHNlbmRQYWNrZXRXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFt7IG1hdGNoIH0sIHNlbmRlcl0sIGN0eCkge1xuICAgICAgICAgIHJldHVybiB3YXRjaChFKHNlbmRlcikuc2VuZFBhY2tldChtYXRjaCwgY3R4Lm9wdHMpKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYWNrZXRXYXNTZW50V2F0Y2hlcjoge1xuICAgICAgICBvbkZ1bGZpbGxlZCh7IGV2ZW50UGF0dGVybiwgcmVzdWx0ViB9LCBjdHgpIHtcbiAgICAgICAgICBjb25zdCB7IHBhdHRlcm5SZXNvbHZlciB9ID0gY3R4O1xuICAgICAgICAgIHBhdHRlcm5SZXNvbHZlci5yZXNvbHZlKGV2ZW50UGF0dGVybik7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdFY7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmVqZWN0UmVzb2x2ZXJBbmRSZXRocm93V2F0Y2hlcjoge1xuICAgICAgICBvblJlamVjdGVkKHJlaiwgeyByZXNvbHZlciB9KSB7XG4gICAgICAgICAgcmVzb2x2ZXIucmVqZWN0KHJlaik7XG4gICAgICAgICAgdGhyb3cgcmVqO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHdhdGNoUGFja2V0TWF0Y2g6IHtcbiAgICAgICAgb25GdWxmaWxsZWQoXywgeyBwYXR0ZXJuUCB9KSB7XG4gICAgICAgICAgY29uc3QgeyB2b3csIHJlc29sdmVyIH0gPSBtYWtlVm93S2l0KCk7XG4gICAgICAgICAgY29uc3QgcGF0dGVyblYgPSB3YXRjaChcbiAgICAgICAgICAgIHBhdHRlcm5QLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMud2F0Y2hQYWNrZXRQYXR0ZXJuLFxuICAgICAgICAgICAgaGFyZGVuKHsgcmVzb2x2ZXIgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvKiAgICAgICovIHdhdGNoKHBhdHRlcm5WLCB0aGlzLmZhY2V0cy53YXRjaERlY3JQZW5kaW5nUGF0dGVybnMpO1xuICAgICAgICAgIHJldHVybiBoYXJkZW4oeyBtYXRjaDogdm93LCByZXNvbHZlciB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB3YXRjaERlY3JQZW5kaW5nUGF0dGVybnM6IHtcbiAgICAgICAgb25GdWxmaWxsZWQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmFjZXRzLnV0aWxzLmRlY3JQZW5kaW5nUGF0dGVybnMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25SZWplY3RlZCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mYWNldHMudXRpbHMuZGVjclBlbmRpbmdQYXR0ZXJucygpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHdhdGNoUGFja2V0UGF0dGVybjoge1xuICAgICAgICBvbkZ1bGZpbGxlZChwYXR0ZXJuLCB7IHJlc29sdmVyIH0pIHtcbiAgICAgICAgICBjb25zdCB7IHJlc29sdmVyVG9QYXR0ZXJuLCB1cGNhbGxRdWV1ZSB9ID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICAgIHRyYWNlKCd3YXRjaFBhY2tldFBhdHRlcm4gb25GdWxmaWxsZWQnLCBqdXN0KHBhdHRlcm4pKTtcbiAgICAgICAgICBpZiAoIXVwY2FsbFF1ZXVlKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdHJhY2UoJ05vIHVwY2FsbCBxdWV1ZSB5ZXQuICBTYXZlIHRoZSBwYXR0ZXJuIGZvciBsYXRlci4nKTtcbiAgICAgICAgICAgIHJlc29sdmVyVG9QYXR0ZXJuLmluaXQocmVzb2x2ZXIsIHBhdHRlcm4pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3QgaSA9IHVwY2FsbFF1ZXVlLmZpbmRJbmRleChvYmogPT4gbWF0Y2hlcyhvYmosIHBhdHRlcm4pKTtcbiAgICAgICAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRyYWNlKCdObyBtYXRjaCB5ZXQuIFNhdmUgdGhlIHBhdHRlcm4gZm9yIGxhdGVyLicpO1xuICAgICAgICAgICAgcmVzb2x2ZXJUb1BhdHRlcm4uaW5pdChyZXNvbHZlciwgcGF0dGVybik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9cbiAgICAgICAgICB0cmFjZShcbiAgICAgICAgICAgICdTdWNjZXNzISBSZW1vdmUgdGhlIG1hdGNoZWQgb2JqZWN0IGZyb20gdGhlIHF1ZXVlLicsXG4gICAgICAgICAgICBqdXN0KHVwY2FsbFF1ZXVlW2ldKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc29sdmVyLnJlc29sdmUodXBjYWxsUXVldWVbaV0pO1xuICAgICAgICAgIHRoaXMuc3RhdGUudXBjYWxsUXVldWUgPSBoYXJkZW4oXG4gICAgICAgICAgICB1cGNhbGxRdWV1ZS5zbGljZSgwLCBpKS5jb25jYXQodXBjYWxsUXVldWUuc2xpY2UoaSArIDEpKSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBvblJlamVjdGVkKHJlYXNvbiwgeyByZXNvbHZlciB9KSB7XG4gICAgICAgICAgcmVzb2x2ZXIucmVqZWN0KHJlYXNvbik7XG4gICAgICAgIH0sXG4gICAgICB9LFxuXG4gICAgICB1dGlsczoge1xuICAgICAgICBpbmNyUGVuZGluZ1BhdHRlcm5zKCkge1xuICAgICAgICAgIGNvbnN0IHsgcGVuZGluZywgcmVnLCB1cGNhbGxRdWV1ZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnBlbmRpbmcgKz0gMTtcbiAgICAgICAgICBpZiAoIXVwY2FsbFF1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnVwY2FsbFF1ZXVlID0gaGFyZGVuKFtdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlZyB8fCBwZW5kaW5nID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB3YXRjaCh0aGlzLmZhY2V0cy51dGlscy5zdWJzY3JpYmVUb1RyYW5zZmVycygpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVjclBlbmRpbmdQYXR0ZXJucygpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnBlbmRpbmcgLT0gMTtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5wZW5kaW5nID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnN0YXRlLnBlbmRpbmcgPSAwO1xuICAgICAgICAgIHRoaXMuc3RhdGUudXBjYWxsUXVldWUgPSBudWxsO1xuICAgICAgICAgIHJldHVybiB3YXRjaCh0aGlzLmZhY2V0cy51dGlscy51bnN1YnNjcmliZUZyb21UcmFuc2ZlcnMoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN1YnNjcmliZVRvVHJhbnNmZXJzKCkge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3QgeyBsY2EsIHJlZzogY2FjaGVkUmVnIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIGlmIChjYWNoZWRSZWcpIHtcbiAgICAgICAgICAgIHJldHVybiB3aGVuKGNhY2hlZFJlZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3QgeyB0YXAgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgIGNvbnN0IHJlZyA9IHdhdGNoKEUobGNhKS5tb25pdG9yVHJhbnNmZXJzKHRhcCkpO1xuICAgICAgICAgIHRoaXMuc3RhdGUucmVnID0gcmVnO1xuICAgICAgICAgIHJldHVybiB3aGVuKHJlZyk7XG4gICAgICAgIH0sXG4gICAgICAgIHVuc3Vic2NyaWJlRnJvbVRyYW5zZmVycygpIHtcbiAgICAgICAgICBjb25zdCB7IHJlZywgbW9uaXRvciB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBpZiAoIXJlZyB8fCBtb25pdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgZmluaXNoKGNvbnRleHQpIHtcbiAgICAgICAgdm9pZCBjb250ZXh0LmZhY2V0cy51dGlscy5zdWJzY3JpYmVUb1RyYW5zZmVycygpO1xuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IG1ha2VQYWNrZXRUb29scyA9IHBpY2tGYWNldChtYWtlUGFja2V0VG9vbHNLaXQsICdwdWJsaWMnKTtcbiAgcmV0dXJuIG1ha2VQYWNrZXRUb29scztcbn07JGjNj19vbmNlLnByZXBhcmVQYWNrZXRUb29scyhwcmVwYXJlUGFja2V0VG9vbHMpO1xuaGFyZGVuKHByZXBhcmVQYWNrZXRUb29scyk7XG5cbi8qXG5cbiAqL1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZVBhY2tldFRvb2xzIjpbInByZXBhcmVQYWNrZXRUb29scyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAA16uySYh8AAGIfAAA8AAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvZXhvcy9yZW1vdGUtY2hhaW4tZmFjYWRlLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvaW50ZXJuYWwiLCJAZW5kby9mYXIiLCJAZW5kby9lcnJvcnMiLCJAZW5kby9wYXR0ZXJucyIsIkBhZ29yaWMvdmF0LWRhdGEiLCJAYWdvcmljL3ZvdyIsIi4uL3R5cGVHdWFyZHMuanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlUmVtb3RlQ2hhaW5GYWNhZGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBtYWtlVHJhY2VyLEUsRmFpbCxxLE0scGlja0ZhY2V0LFZvd1NoYXBlLENvc21vc0NoYWluQWRkcmVzc1NoYXBlLGNoYWluRmFjYWRlTWV0aG9kcyxJQ1FNc2dTaGFwZTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvaW50ZXJuYWxcIiwgW1tcIm1ha2VUcmFjZXJcIixbJGjNj19hID0+IChtYWtlVHJhY2VyID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZmFyXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3ZhdC1kYXRhXCIsIFtbXCJwaWNrRmFjZXRcIixbJGjNj19hID0+IChwaWNrRmFjZXQgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3Zvd1wiLCBbW1wiVm93U2hhcGVcIixbJGjNj19hID0+IChWb3dTaGFwZSA9ICRozY9fYSldXV1dLFtcIi4uL3R5cGVHdWFyZHMuanNcIiwgW1tcIkNvc21vc0NoYWluQWRkcmVzc1NoYXBlXCIsWyRozY9fYSA9PiAoQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUgPSAkaM2PX2EpXV0sW1wiY2hhaW5GYWNhZGVNZXRob2RzXCIsWyRozY9fYSA9PiAoY2hhaW5GYWNhZGVNZXRob2RzID0gJGjNj19hKV1dLFtcIklDUU1zZ1NoYXBlXCIsWyRozY9fYSA9PiAoSUNRTXNnU2hhcGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuY29uc3QgdHJhY2UgPSBtYWtlVHJhY2VyKCdSZW1vdGVDaGFpbkZhY2FkZScpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuICovXG5jb25zdCBwcmVwYXJlUmVtb3RlQ2hhaW5GYWNhZGVLaXQgPSAoXG4gIHpvbmUsXG4gIHtcbiAgICBtYWtlQ29zbW9zT3JjaGVzdHJhdGlvbkFjY291bnQsXG4gICAgb3JjaGVzdHJhdGlvbixcbiAgICAvL1xuICAgIC8vXG4gICAgc3RvcmFnZU5vZGUsXG4gICAgdGltZXIsXG4gICAgdm93VG9vbHM6IHsgYWxsVm93cywgYXNWb3csIHdhdGNoIH0sXG4gIH0sXG4pID0+XG4gIHpvbmUuZXhvQ2xhc3NLaXQoXG4gICAgJ1JlbW90ZUNoYWluRmFjYWRlJyxcbiAgICB7XG4gICAgICBwdWJsaWM6IE0uaW50ZXJmYWNlKCdSZW1vdGVDaGFpbkZhY2FkZScsIHtcbiAgICAgICAgLi4uY2hhaW5GYWNhZGVNZXRob2RzLFxuICAgICAgICBxdWVyeTogTS5jYWxsKE0uYXJyYXlPZihJQ1FNc2dTaGFwZSkpLnJldHVybnMoVm93U2hhcGUpLFxuICAgICAgfSksXG4gICAgICBtYWtlSUNRQ29ubmVjdGlvblF1ZXJ5V2F0Y2hlcjogTS5pbnRlcmZhY2UoXG4gICAgICAgICdtYWtlSUNRQ29ubmVjdGlvblF1ZXJ5V2F0Y2hlcicsXG4gICAgICAgIHtcbiAgICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0ucmVtb3RhYmxlKCksIE0uYXJyYXlPZihJQ1FNc2dTaGFwZSkpLnJldHVybnMoXG4gICAgICAgICAgICBWb3dTaGFwZSxcbiAgICAgICAgICApLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICAgIG1ha2VBY2NvdW50QW5kUHJvdmlkZVF1ZXJ5Q29ubldhdGNoZXI6IE0uaW50ZXJmYWNlKFxuICAgICAgICAnbWFrZUFjY291bnRBbmRQcm92aWRlUXVlcnlDb25uV2F0Y2hlcicsXG4gICAgICAgIHtcbiAgICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKFtcbiAgICAgICAgICAgIE0ucmVtb3RhYmxlKCksXG4gICAgICAgICAgICBNLm9yKE0ucmVtb3RhYmxlKCksIE0udW5kZWZpbmVkKCkpLFxuICAgICAgICAgIF0pLnJldHVybnMoVm93U2hhcGUpLFxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICAgIGdldEFkZHJlc3Nlc1dhdGNoZXI6IE0uaW50ZXJmYWNlKCdnZXRBZGRyZXNzV2F0Y2hlcicsIHtcbiAgICAgICAgb25GdWxmaWxsZWQ6IE0uY2FsbChcbiAgICAgICAgICBbQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUsIE0uc3RyaW5nKCksIE0uc3RyaW5nKCldLFxuICAgICAgICAgIE0ucmVtb3RhYmxlKCksXG4gICAgICAgICkucmV0dXJucyhWb3dTaGFwZSksXG4gICAgICB9KSxcbiAgICAgIG1ha2VDaGlsZE5vZGVXYXRjaGVyOiBNLmludGVyZmFjZSgnbWFrZUNoaWxkTm9kZVdhdGNoZXInLCB7XG4gICAgICAgIG9uRnVsZmlsbGVkOiBNLmNhbGwoTS5vcihNLnJlbW90YWJsZSgpLCBNLnVuZGVmaW5lZCgpKSwge1xuICAgICAgICAgIGFjY291bnQ6IE0ucmVtb3RhYmxlKCksXG4gICAgICAgICAgY2hhaW5BZGRyZXNzOiBDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxcbiAgICAgICAgICBsb2NhbEFkZHJlc3M6IE0uc3RyaW5nKCksXG4gICAgICAgICAgcmVtb3RlQWRkcmVzczogTS5zdHJpbmcoKSxcbiAgICAgICAgfSkucmV0dXJucyhNLnJlbW90YWJsZSgpKSxcbiAgICAgIH0pLFxuICAgIH0sXG4gICAgLypcblxuXG4gICAgICovXG4gICAgKHJlbW90ZUNoYWluSW5mbywgY29ubmVjdGlvbkluZm8pID0+IHtcbiAgICAgIHRyYWNlKCdtYWtpbmcgYSBSZW1vdGVDaGFpbkZhY2FkZScpO1xuICAgICAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHtcbiAgICAgICAgcmVtb3RlQ2hhaW5JbmZvLFxuICAgICAgICBjb25uZWN0aW9uSW5mbyxcbiAgICAgICAgaWNxQ29ubmVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICB7XG4gICAgICBwdWJsaWM6IHtcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2hhaW5JbmZvKCkge1xuICAgICAgICAgIHJldHVybiB3YXRjaCh0aGlzLnN0YXRlLnJlbW90ZUNoYWluSW5mbyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBtYWtlQWNjb3VudCgpIHtcbiAgICAgICAgICByZXR1cm4gYXNWb3coKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyByZW1vdGVDaGFpbkluZm8sIGNvbm5lY3Rpb25JbmZvIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgICBpZiAocmVtb3RlQ2hhaW5JbmZvLm5hbWVzcGFjZSAhPT0gJ2Nvc21vcycpIHtcbiAgICAgICAgICAgICAgdGhyb3cgRmFpbGBvbmx5IHN1cHBvcnRlZCBvbiAnY29zbW9zJyBjaGFpbnMsIG5vdCAke3JlbW90ZUNoYWluSW5mby5uYW1lc3BhY2V9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29ubmVjdGlvbkluZm8pIHRocm93IEZhaWxgSUJDIGNvbm5lY3Rpb24gaW5mbyBub3QgZm91bmRgO1xuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGNvbnN0IGljcUNvbm5PclVuZGVmaW5lZFYgPVxuICAgICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHJlbW90ZUNoYWluSW5mbyk/LmljcUVuYWJsZWQgJiZcbiAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaWNxQ29ubmVjdGlvblxuICAgICAgICAgICAgICAgID8gRShvcmNoZXN0cmF0aW9uKS5wcm92aWRlSUNRQ29ubmVjdGlvbihjb25uZWN0aW9uSW5mby5pZClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgY29uc3QgbWFrZUFjY291bnRWID0gRShvcmNoZXN0cmF0aW9uKS5tYWtlQWNjb3VudChcbiAgICAgICAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovIChyZW1vdGVDaGFpbkluZm8pLmNoYWluSWQsXG4gICAgICAgICAgICAgIGNvbm5lY3Rpb25JbmZvLmNvdW50ZXJwYXJ0eS5jb25uZWN0aW9uX2lkLFxuICAgICAgICAgICAgICBjb25uZWN0aW9uSW5mby5pZCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiB3YXRjaChcbiAgICAgICAgICAgICAgYWxsVm93cyhbbWFrZUFjY291bnRWLCBpY3FDb25uT3JVbmRlZmluZWRWXSksXG4gICAgICAgICAgICAgIHRoaXMuZmFjZXRzLm1ha2VBY2NvdW50QW5kUHJvdmlkZVF1ZXJ5Q29ubldhdGNoZXIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgcXVlcnkobXNncykge1xuICAgICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICByZW1vdGVDaGFpbkluZm86IHsgaWNxRW5hYmxlZCwgY2hhaW5JZCB9LFxuICAgICAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICBjb25uZWN0aW9uSW5mbyxcbiAgICAgICAgICAgIH0gPSAvKiAgICAgICAgICAgICAgKi8gKHRoaXMuc3RhdGUpO1xuXG4gICAgICAgICAgICBpZiAoIWljcUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgdGhyb3cgRmFpbGBRdWVyaWVzIG5vdCBhdmFpbGFibGUgZm9yIGNoYWluICR7cShjaGFpbklkKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjb25uZWN0aW9uSW5mbykgdGhyb3cgRmFpbGBJQkMgY29ubmVjdGlvbiBpbmZvIG5vdCBmb3VuZGA7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmljcUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHdhdGNoKFxuICAgICAgICAgICAgICAgIEUob3JjaGVzdHJhdGlvbikucHJvdmlkZUlDUUNvbm5lY3Rpb24oY29ubmVjdGlvbkluZm8uaWQpLFxuICAgICAgICAgICAgICAgIHRoaXMuZmFjZXRzLm1ha2VJQ1FDb25uZWN0aW9uUXVlcnlXYXRjaGVyLFxuICAgICAgICAgICAgICAgIG1zZ3MsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2goRSh0aGlzLnN0YXRlLmljcUNvbm5lY3Rpb24pLnF1ZXJ5KG1zZ3MpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBtYWtlQWNjb3VudEFuZFByb3ZpZGVRdWVyeUNvbm5XYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKFthY2NvdW50LCBpY3FDb25uZWN0aW9uXSkge1xuICAgICAgICAgIGlmIChpY3FDb25uZWN0aW9uICYmICF0aGlzLnN0YXRlLmljcUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaWNxQ29ubmVjdGlvbiA9IGljcUNvbm5lY3Rpb247XG4gICAgICAgICAgICAvL1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gd2F0Y2goXG4gICAgICAgICAgICBhbGxWb3dzKFtcbiAgICAgICAgICAgICAgRShhY2NvdW50KS5nZXRBZGRyZXNzKCksXG4gICAgICAgICAgICAgIEUoYWNjb3VudCkuZ2V0TG9jYWxBZGRyZXNzKCksXG4gICAgICAgICAgICAgIEUoYWNjb3VudCkuZ2V0UmVtb3RlQWRkcmVzcygpLFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5nZXRBZGRyZXNzZXNXYXRjaGVyLFxuICAgICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG1ha2VJQ1FDb25uZWN0aW9uUXVlcnlXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBvbkZ1bGZpbGxlZChpY3FDb25uZWN0aW9uLCBtc2dzKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmljcUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaWNxQ29ubmVjdGlvbiA9IGljcUNvbm5lY3Rpb247XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB3YXRjaChFKGljcUNvbm5lY3Rpb24pLnF1ZXJ5KG1zZ3MpKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBnZXRBZGRyZXNzZXNXYXRjaGVyOiB7XG4gICAgICAgIC8qXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQoW2NoYWluQWRkcmVzcywgbG9jYWxBZGRyZXNzLCByZW1vdGVBZGRyZXNzXSwgYWNjb3VudCkge1xuICAgICAgICAgIGNvbnN0IG9wdGlvbmFsU3RvcmFnZU5vZGUgPSBzdG9yYWdlTm9kZVxuICAgICAgICAgICAgPyBFKHN0b3JhZ2VOb2RlKS5tYWtlQ2hpbGROb2RlKGNoYWluQWRkcmVzcy52YWx1ZSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgIHJldHVybiB3YXRjaChvcHRpb25hbFN0b3JhZ2VOb2RlLCB0aGlzLmZhY2V0cy5tYWtlQ2hpbGROb2RlV2F0Y2hlciwge1xuICAgICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICAgIGNoYWluQWRkcmVzcyxcbiAgICAgICAgICAgIGxvY2FsQWRkcmVzcyxcbiAgICAgICAgICAgIHJlbW90ZUFkZHJlc3MsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbWFrZUNoaWxkTm9kZVdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG5cblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgb25GdWxmaWxsZWQoXG4gICAgICAgICAgY2hpbGROb2RlLFxuICAgICAgICAgIHsgYWNjb3VudCwgY2hhaW5BZGRyZXNzLCBsb2NhbEFkZHJlc3MsIHJlbW90ZUFkZHJlc3MgfSxcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgeyBpY3FDb25uZWN0aW9uIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgICAgcmV0dXJuIG1ha2VDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2hhaW5BZGRyZXNzLFxuICAgICAgICAgICAgICBsb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICAgIHJlbW90ZUFkZHJlc3MsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBhY2NvdW50LFxuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBzdG9yYWdlTm9kZTogY2hpbGROb2RlLFxuICAgICAgICAgICAgICBpY3FDb25uZWN0aW9uLFxuICAgICAgICAgICAgICB0aW1lcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcbmhhcmRlbihwcmVwYXJlUmVtb3RlQ2hhaW5GYWNhZGVLaXQpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVSZW1vdGVDaGFpbkZhY2FkZSA9ICh6b25lLCBwb3dlcnMpID0+IHtcbiAgY29uc3QgbWFrZUxvY2FsQ2hhaW5GYWNhZGVLaXQgPSBwcmVwYXJlUmVtb3RlQ2hhaW5GYWNhZGVLaXQoem9uZSwgcG93ZXJzKTtcbiAgcmV0dXJuIHBpY2tGYWNldChtYWtlTG9jYWxDaGFpbkZhY2FkZUtpdCwgJ3B1YmxpYycpO1xufTskaM2PX29uY2UucHJlcGFyZVJlbW90ZUNoYWluRmFjYWRlKHByZXBhcmVSZW1vdGVDaGFpbkZhY2FkZSk7XG5oYXJkZW4ocHJlcGFyZVJlbW90ZUNoYWluRmFjYWRlKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZVJlbW90ZUNoYWluRmFjYWRlIjpbInByZXBhcmVSZW1vdGVDaGFpbkZhY2FkZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABKh5n8xQoAAMUKAAAqAAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvZmFjYWRlLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvaW50ZXJuYWwiXSwiZXhwb3J0cyI6WyJtYWtlT3JjaGVzdHJhdGlvbkZhY2FkZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGFzc2VydEFsbERlZmluZWQsZGVlcE1hcE9iamVjdDskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvaW50ZXJuYWxcIiwgW1tcImFzc2VydEFsbERlZmluZWRcIixbJGjNj19hID0+IChhc3NlcnRBbGxEZWZpbmVkID0gJGjNj19hKV1dLFtcImRlZXBNYXBPYmplY3RcIixbJGjNj19hID0+IChkZWVwTWFwT2JqZWN0ID0gJGjNj19hKV1dXV1dKTtcblxuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VPcmNoZXN0cmF0aW9uRmFjYWRlID0gKHtcbiAgem9uZSxcbiAgdGltZXJTZXJ2aWNlLFxuICB6Y2YsXG4gIG9yY2hlc3RyYXRpb25TZXJ2aWNlLFxuICBtYWtlT3JjaGVzdHJhdG9yLFxuICB2b3dUb29scyxcbiAgYXN5bmNGbG93VG9vbHMsXG59KSA9PiB7XG4gIGFzc2VydEFsbERlZmluZWQoe1xuICAgIHpvbmUsXG4gICAgdGltZXJTZXJ2aWNlLFxuICAgIHpjZixcbiAgICBvcmNoZXN0cmF0aW9uU2VydmljZSxcbiAgICBtYWtlT3JjaGVzdHJhdG9yLFxuICAgIHZvd1Rvb2xzLFxuICAgIGFzeW5jRmxvd1Rvb2xzLFxuICB9KTtcblxuICBjb25zdCB7IHByZXBhcmVFbmRvd21lbnQsIGFzeW5jRmxvdyB9ID0gYXN5bmNGbG93VG9vbHM7XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3Qgb3JjaGVzdHJhdGUgPSAoZHVyYWJsZU5hbWUsIGhvc3RDdHgsIGd1ZXN0Rm4pID0+IHtcbiAgICBjb25zdCBzdWJab25lID0gem9uZS5zdWJab25lKGR1cmFibGVOYW1lKTtcbiAgICBjb25zdCBbd3JhcHBlZEN0eF0gPSBwcmVwYXJlRW5kb3dtZW50KHN1YlpvbmUsICdlbmRvd21lbnRzJywgW2hvc3RDdHhdKTtcbiAgICBjb25zdCBob3N0Rm4gPSBhc3luY0Zsb3coc3ViWm9uZSwgJ2FzeW5jRmxvdycsIGd1ZXN0Rm4pO1xuXG4gICAgZGVlcE1hcE9iamVjdChcbiAgICAgIHdyYXBwZWRDdHgsXG4gICAgICB2YWwgPT5cbiAgICAgICAgdmFsID09PSB6Y2YgJiZcbiAgICAgICAgYXNzZXJ0LmZhaWwoJ2RvIG5vdCB1c2UgemNmIGluIG9yY2hlc3RyYXRpb24gY29udGV4dDsgdHJ5IHpjZlRvb2xzJyksXG4gICAgKTtcblxuICAgIC8vXG4gICAgY29uc3Qgb3JjRm4gPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgICguLi5hcmdzKSA9PiB7XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IGhvc3RPcmMgPSBtYWtlT3JjaGVzdHJhdG9yKCk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBob3N0Rm4oaG9zdE9yYywgd3JhcHBlZEN0eCwgLi4uYXJncyk7XG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gaGFyZGVuKG9yY0ZuKTtcbiAgfTtcblxuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3Qgb3JjaGVzdHJhdGVBbGwgPSAoZ3Vlc3RGbnMsIGhvc3RDdHgpID0+IHtcbiAgICBjb25zdCBtYXBwZWRGbG93cyA9IG5ldyBNYXAoXG4gICAgICBPYmplY3QuZW50cmllcyhndWVzdEZucykubWFwKChbbmFtZSwgZ3Vlc3RGbl0pID0+IFtcbiAgICAgICAgZ3Vlc3RGbixcbiAgICAgICAgKC4uLmFyZ3MpID0+IG9yY0Zuc1tuYW1lXSguLi5hcmdzKSxcbiAgICAgIF0pLFxuICAgICk7XG5cbiAgICBjb25zdCBtYXBwZWRDb250ZXh0ID0gZGVlcE1hcE9iamVjdChcbiAgICAgIGhvc3RDdHgsXG4gICAgICB2YWwgPT4gbWFwcGVkRmxvd3MuZ2V0KC8qICAgICAgICAgICAgICAqLyAodmFsKSkgfHwgdmFsLFxuICAgICk7XG5cbiAgICBjb25zdCBvcmNGbnMgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICBPYmplY3QuZW50cmllcyhndWVzdEZucykubWFwKChbbmFtZSwgZ3Vlc3RGbl0pID0+IFtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIG9yY2hlc3RyYXRlKG5hbWUsIG1hcHBlZENvbnRleHQsIGd1ZXN0Rm4pLFxuICAgICAgICBdKSxcbiAgICAgIClcbiAgICApO1xuXG4gICAgcmV0dXJuIHsgLi4ub3JjRm5zIH07XG4gIH07XG5cbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgb3JjaGVzdHJhdGUsXG4gICAgb3JjaGVzdHJhdGVBbGwsXG4gIH0pO1xufTskaM2PX29uY2UubWFrZU9yY2hlc3RyYXRpb25GYWNhZGUobWFrZU9yY2hlc3RyYXRpb25GYWNhZGUpO1xuaGFyZGVuKG1ha2VPcmNoZXN0cmF0aW9uRmFjYWRlKTtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlT3JjaGVzdHJhdGlvbkZhY2FkZSI6WyJtYWtlT3JjaGVzdHJhdGlvbkZhY2FkZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABWLbDnfikAAH4pAAAuAAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdHlwZUd1YXJkcy5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2VydHAvc3JjL3R5cGVHdWFyZHMuanMiLCJAYWdvcmljL3ZvdyIsIkBlbmRvL3BhdHRlcm5zIl0sImV4cG9ydHMiOlsiQWNjb3VudElkQXJnU2hhcGUiLCJBbW91bnRBcmdTaGFwZSIsIkFueU5hdEFtb3VudFNoYXBlIiwiQW55TmF0QW1vdW50c1JlY29yZCIsIkJhc2VDaGFpbkluZm9TaGFwZSIsIkNhaXAxMFJlY29yZFNoYXBlIiwiQ2hhaW5BZGRyZXNzU2hhcGUiLCJDaGFpbkluZm9TaGFwZSIsIkNvaW5TaGFwZSIsIkNvc21vc0Fzc2V0SW5mb1NoYXBlIiwiQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUiLCJDb3Ntb3NDaGFpbkluZm9TaGFwZSIsIkRlbGVnYXRpb25TaGFwZSIsIkRlbm9tQW1vdW50U2hhcGUiLCJEZW5vbURldGFpbFNoYXBlIiwiRGVub21JbmZvU2hhcGUiLCJEZW5vbVNoYXBlIiwiRm9yd2FyZEluZm9TaGFwZSIsIkZvcndhcmRPcHRzU2hhcGUiLCJJQkNDaGFubmVsSURTaGFwZSIsIklCQ0NoYW5uZWxJbmZvU2hhcGUiLCJJQkNDb25uZWN0aW9uSURTaGFwZSIsIklCQ0Nvbm5lY3Rpb25JbmZvU2hhcGUiLCJJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSIsIklDUU1zZ1NoYXBlIiwiT3JjaGVzdHJhdGlvblBvd2Vyc1NoYXBlIiwiT3V0Ym91bmRDb25uZWN0aW9uSGFuZGxlckkiLCJQcm90bzNTaGFwZSIsIlRpbWVzdGFtcFByb3RvU2hhcGUiLCJUeEJvZHlPcHRzU2hhcGUiLCJUeXBlZEpzb25TaGFwZSIsImNoYWluRmFjYWRlTWV0aG9kcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEJyYW5kU2hhcGUsVm93U2hhcGUsTTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvZXJ0cC9zcmMvdHlwZUd1YXJkcy5qc1wiLCBbW1wiQnJhbmRTaGFwZVwiLFskaM2PX2EgPT4gKEJyYW5kU2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3Zvd1wiLCBbW1wiVm93U2hhcGVcIixbJGjNj19hID0+IChWb3dTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IE91dGJvdW5kQ29ubmVjdGlvbkhhbmRsZXJJID0gTS5pbnRlcmZhY2UoXG4gICdPdXRib3VuZENvbm5lY3Rpb25IYW5kbGVyJyxcbiAge1xuICAgIG9uT3BlbjogTS5jYWxsV2hlbihNLmFueSgpLCBNLnN0cmluZygpLCBNLnN0cmluZygpLCBNLmFueSgpKS5yZXR1cm5zKFxuICAgICAgTS5hbnkoKSxcbiAgICApLFxuICAgIG9uQ2xvc2U6IE0uY2FsbFdoZW4oTS5hbnkoKSwgTS5hbnkoKSwgTS5hbnkoKSkucmV0dXJucyhNLmFueSgpKSxcbiAgfSxcbik7XG5cbi8vXG4vL1xuJGjNj19vbmNlLk91dGJvdW5kQ29ubmVjdGlvbkhhbmRsZXJJKE91dGJvdW5kQ29ubmVjdGlvbkhhbmRsZXJJKTtjb25zdCBDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZT17XG4gIGNoYWluSWQ6IE0uc3RyaW5nKCksXG4gIC8vXG4gIGVuY29kaW5nOiBNLnN0cmluZygpLFxuICB2YWx1ZTogTS5zdHJpbmcoKSxcbn07JGjNj19vbmNlLkNvc21vc0NoYWluQWRkcmVzc1NoYXBlKENvc21vc0NoYWluQWRkcmVzc1NoYXBlKTtcbmhhcmRlbihDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgQ2FpcDEwUmVjb3JkU2hhcGUgPSB7XG4gIG5hbWVzcGFjZTogTS5zdHJpbmcoKSxcbiAgcmVmZXJlbmNlOiBNLnN0cmluZygpLFxuICBhY2NvdW50QWRkcmVzczogTS5zdHJpbmcoKSxcbn07JGjNj19vbmNlLkNhaXAxMFJlY29yZFNoYXBlKENhaXAxMFJlY29yZFNoYXBlKTtcbmhhcmRlbihDYWlwMTBSZWNvcmRTaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBDaGFpbkFkZHJlc3NTaGFwZSA9IENvc21vc0NoYWluQWRkcmVzc1NoYXBlO1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLkNoYWluQWRkcmVzc1NoYXBlKENoYWluQWRkcmVzc1NoYXBlKTtcbiAgICAgICBjb25zdCBBY2NvdW50SWRBcmdTaGFwZSA9IE0ub3IoTS5zdHJpbmcoKSwgQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5BY2NvdW50SWRBcmdTaGFwZShBY2NvdW50SWRBcmdTaGFwZSk7XG4gICAgICAgY29uc3QgUHJvdG8zU2hhcGUgPSB7IHR5cGVVcmw6IE0uc3RyaW5nKCksIHZhbHVlOiBNLnN0cmluZygpIH07JGjNj19vbmNlLlByb3RvM1NoYXBlKFByb3RvM1NoYXBlKTtcbmhhcmRlbihQcm90bzNTaGFwZSk7XG5cbi8qICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBJQkNDaGFubmVsSURTaGFwZSA9IE0uc3RyaW5nKCk7XG5cbi8qICAgICAgICAgICAgKi8kaM2PX29uY2UuSUJDQ2hhbm5lbElEU2hhcGUoSUJDQ2hhbm5lbElEU2hhcGUpO1xuICAgICAgIGNvbnN0IElCQ0NoYW5uZWxJbmZvU2hhcGUgPSBNLnNwbGl0UmVjb3JkKHtcbiAgcG9ydElkOiBNLnN0cmluZygpLFxuICBjaGFubmVsSWQ6IElCQ0NoYW5uZWxJRFNoYXBlLFxuICBjb3VudGVyUGFydHlQb3J0SWQ6IE0uc3RyaW5nKCksXG4gIGNvdW50ZXJQYXJ0eUNoYW5uZWxJZDogSUJDQ2hhbm5lbElEU2hhcGUsXG4gIG9yZGVyaW5nOiBNLnNjYWxhcigpLCAvL1xuICBzdGF0ZTogTS5zY2FsYXIoKSwgLy9cbiAgdmVyc2lvbjogTS5zdHJpbmcoKSxcbn0pO1xuXG4vKiAgICAgICAgICAgICovJGjNj19vbmNlLklCQ0NoYW5uZWxJbmZvU2hhcGUoSUJDQ2hhbm5lbEluZm9TaGFwZSk7XG4gICAgICAgY29uc3QgSUJDQ29ubmVjdGlvbklEU2hhcGUgPSBNLnN0cmluZygpO1xuXG4vKiAgICAgICAgICAgICovJGjNj19vbmNlLklCQ0Nvbm5lY3Rpb25JRFNoYXBlKElCQ0Nvbm5lY3Rpb25JRFNoYXBlKTtcbiAgICAgICBjb25zdCBJQkNDb25uZWN0aW9uSW5mb1NoYXBlID0gTS5zcGxpdFJlY29yZCh7XG4gIGlkOiBJQkNDb25uZWN0aW9uSURTaGFwZSxcbiAgY2xpZW50X2lkOiBNLnN0cmluZygpLFxuICBzdGF0ZTogTS5zY2FsYXIoKSwgLy9cbiAgY291bnRlcnBhcnR5OiB7XG4gICAgY2xpZW50X2lkOiBNLnN0cmluZygpLFxuICAgIGNvbm5lY3Rpb25faWQ6IElCQ0Nvbm5lY3Rpb25JRFNoYXBlLFxuICB9LFxuICB0cmFuc2ZlckNoYW5uZWw6IElCQ0NoYW5uZWxJbmZvU2hhcGUsXG59KTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UuSUJDQ29ubmVjdGlvbkluZm9TaGFwZShJQkNDb25uZWN0aW9uSW5mb1NoYXBlKTtcbiAgICAgICBjb25zdCBDb3Ntb3NBc3NldEluZm9TaGFwZSA9IE0uc3BsaXRSZWNvcmQoe1xuICBiYXNlOiBNLnN0cmluZygpLFxuICBuYW1lOiBNLnN0cmluZygpLFxuICBkaXNwbGF5OiBNLnN0cmluZygpLFxuICBzeW1ib2w6IE0uc3RyaW5nKCksXG4gIGRlbm9tX3VuaXRzOiBNLmFycmF5T2YoXG4gICAgTS5zcGxpdFJlY29yZCh7IGRlbm9tOiBNLnN0cmluZygpLCBleHBvbmVudDogTS5udW1iZXIoKSB9KSxcbiAgKSxcbn0pOyRozY9fb25jZS5Db3Ntb3NBc3NldEluZm9TaGFwZShDb3Ntb3NBc3NldEluZm9TaGFwZSk7XG5cbmNvbnN0IENoYWluSW5mb1JlcXVpcmVkU2hhcGUgPSB7XG4gIG5hbWVzcGFjZTogTS5zdHJpbmcoKSxcbiAgcmVmZXJlbmNlOiBNLnN0cmluZygpLFxufTtcblxuY29uc3QgQ2hhaW5JbmZvT3B0aW9uYWxTaGFwZSA9IHtcbiAgY2N0cERlc3RpbmF0aW9uRG9tYWluOiBNLm51bWJlcigpLFxufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgQmFzZUNoYWluSW5mb1NoYXBlID0gTS5zcGxpdFJlY29yZChcbiAgQ2hhaW5JbmZvUmVxdWlyZWRTaGFwZSxcbiAgQ2hhaW5JbmZvT3B0aW9uYWxTaGFwZSxcbik7JGjNj19vbmNlLkJhc2VDaGFpbkluZm9TaGFwZShCYXNlQ2hhaW5JbmZvU2hhcGUpO1xuaGFyZGVuKEJhc2VDaGFpbkluZm9TaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgQ29zbW9zQ2hhaW5JbmZvU2hhcGUgPSBNLnNwbGl0UmVjb3JkKFxuICB7XG4gICAgY2hhaW5JZDogTS5zdHJpbmcoKSxcbiAgICBiZWNoMzJQcmVmaXg6IE0uc3RyaW5nKCksXG4gICAgLi4uQ2hhaW5JbmZvUmVxdWlyZWRTaGFwZSxcbiAgfSxcbiAge1xuICAgIGNvbm5lY3Rpb25zOiBNLnJlY29yZCgpLFxuICAgIC8vXG4gICAgaWNxRW5hYmxlZDogTS5ib29sZWFuKCksXG4gICAgcGZtRW5hYmxlZDogTS5ib29sZWFuKCksXG4gICAgc3Rha2luZ1Rva2VuczogTS5hcnJheU9mKHsgZGVub206IE0uc3RyaW5nKCkgfSksXG4gICAgLi4uQ2hhaW5JbmZvT3B0aW9uYWxTaGFwZSxcbiAgfSxcbik7JGjNj19vbmNlLkNvc21vc0NoYWluSW5mb1NoYXBlKENvc21vc0NoYWluSW5mb1NoYXBlKTtcbmhhcmRlbihDb3Ntb3NDaGFpbkluZm9TaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgQ2hhaW5JbmZvU2hhcGUgPSBNLm9yKENvc21vc0NoYWluSW5mb1NoYXBlLCBCYXNlQ2hhaW5JbmZvU2hhcGUpOyRozY9fb25jZS5DaGFpbkluZm9TaGFwZShDaGFpbkluZm9TaGFwZSk7XG5oYXJkZW4oQ2hhaW5JbmZvU2hhcGUpO1xuXG4gICAgICAgY29uc3QgRGVub21TaGFwZSA9IE0uc3RyaW5nKCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5EZW5vbVNoYXBlKERlbm9tU2hhcGUpO1xuICAgICAgIGNvbnN0IENvaW5TaGFwZSA9IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgYW1vdW50OiBNLnN0cmluZygpLFxuICBkZW5vbTogRGVub21TaGFwZSxcbn07JGjNj19vbmNlLkNvaW5TaGFwZShDb2luU2hhcGUpO1xuaGFyZGVuKENvaW5TaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IERlbm9tSW5mb1NoYXBlID0ge1xuICBjaGFpbjogTS5yZW1vdGFibGUoJ0NoYWluJyksXG4gIGJhc2U6IE0ucmVtb3RhYmxlKCdDaGFpbicpLFxuICBicmFuZDogTS5vcihNLnJlbW90YWJsZSgnQnJhbmQnKSwgTS51bmRlZmluZWQoKSksXG4gIGJhc2VEZW5vbTogTS5zdHJpbmcoKSxcbn07JGjNj19vbmNlLkRlbm9tSW5mb1NoYXBlKERlbm9tSW5mb1NoYXBlKTtcbmhhcmRlbihEZW5vbUluZm9TaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBEZW5vbURldGFpbFNoYXBlID0gTS5zcGxpdFJlY29yZChcbiAgeyBjaGFpbk5hbWU6IE0uc3RyaW5nKCksIGJhc2VOYW1lOiBNLnN0cmluZygpLCBiYXNlRGVub206IE0uc3RyaW5nKCkgfSxcbiAgeyBicmFuZDogQnJhbmRTaGFwZSB9LFxuKTskaM2PX29uY2UuRGVub21EZXRhaWxTaGFwZShEZW5vbURldGFpbFNoYXBlKTtcbmhhcmRlbihEZW5vbURldGFpbFNoYXBlKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IERlbm9tQW1vdW50U2hhcGUgPSB7IGRlbm9tOiBEZW5vbVNoYXBlLCB2YWx1ZTogTS5uYXQoKSB9OyRozY9fb25jZS5EZW5vbUFtb3VudFNoYXBlKERlbm9tQW1vdW50U2hhcGUpO1xuaGFyZGVuKERlbm9tQW1vdW50U2hhcGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBBbnlOYXRBbW91bnRTaGFwZSA9IHtcbiAgYnJhbmQ6IE0ucmVtb3RhYmxlKCdCcmFuZCcpLFxuICB2YWx1ZTogTS5uYXQoKSxcbn07JGjNj19vbmNlLkFueU5hdEFtb3VudFNoYXBlKEFueU5hdEFtb3VudFNoYXBlKTtcbmhhcmRlbihBbnlOYXRBbW91bnRTaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgQW1vdW50QXJnU2hhcGUgPSBNLm9yKEFueU5hdEFtb3VudFNoYXBlLCBEZW5vbUFtb3VudFNoYXBlKTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLkFtb3VudEFyZ1NoYXBlKEFtb3VudEFyZ1NoYXBlKTtcbiAgICAgICBjb25zdCBEZWxlZ2F0aW9uU2hhcGUgPSBNLnNwbGl0UmVjb3JkKFxuICB7XG4gICAgdmFsaWRhdG9yOiBDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxcbiAgICBhbW91bnQ6IEFtb3VudEFyZ1NoYXBlLFxuICB9LFxuICB7IGRlbGVnYXRvcjogQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUgfSxcbik7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLkRlbGVnYXRpb25TaGFwZShEZWxlZ2F0aW9uU2hhcGUpO1xuICAgICAgIGNvbnN0IElDUU1zZ1NoYXBlID0gTS5zcGxpdFJlY29yZChcbiAgeyBwYXRoOiBNLnN0cmluZygpLCBkYXRhOiBNLnN0cmluZygpIH0sXG4gIHsgaGVpZ2h0OiBNLnN0cmluZygpLCBwcm92ZTogTS5ib29sZWFuKCkgfSxcbik7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLklDUU1zZ1NoYXBlKElDUU1zZ1NoYXBlKTtcbiAgICAgICBjb25zdCBUeXBlZEpzb25TaGFwZSA9IE0uc3BsaXRSZWNvcmQoeyAnQHR5cGUnOiBNLnN0cmluZygpIH0pO1xuXG4vKiAgICAgICAgICAgICAgICovJGjNj19vbmNlLlR5cGVkSnNvblNoYXBlKFR5cGVkSnNvblNoYXBlKTtcbiAgICAgICBjb25zdCBjaGFpbkZhY2FkZU1ldGhvZHMgPSB7XG4gIGdldENoYWluSW5mbzogTS5jYWxsKCkucmV0dXJucyhWb3dTaGFwZSksXG4gIG1ha2VBY2NvdW50OiBNLmNhbGwoKS5yZXR1cm5zKFZvd1NoYXBlKSxcbn07JGjNj19vbmNlLmNoYWluRmFjYWRlTWV0aG9kcyhjaGFpbkZhY2FkZU1ldGhvZHMpO1xuaGFyZGVuKGNoYWluRmFjYWRlTWV0aG9kcyk7XG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgVGltZXN0YW1wUHJvdG9TaGFwZSA9IHsgc2Vjb25kczogTS5zdHJpbmcoKSwgbmFub3M6IE0ubnVtYmVyKCkgfTskaM2PX29uY2UuVGltZXN0YW1wUHJvdG9TaGFwZShUaW1lc3RhbXBQcm90b1NoYXBlKTtcbmhhcmRlbihUaW1lc3RhbXBQcm90b1NoYXBlKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IFR4Qm9keU9wdHNTaGFwZSA9IE0uc3BsaXRSZWNvcmQoXG4gIHt9LFxuICB7XG4gICAgbWVtbzogTS5zdHJpbmcoKSxcbiAgICB0aW1lb3V0SGVpZ2h0OiBNLmJpZ2ludCgpLFxuICAgIGV4dGVuc2lvbk9wdGlvbnM6IE0uYXJyYXlPZihNLmFueSgpKSxcbiAgICBub25Dcml0aWNhbEV4dGVuc2lvbk9wdGlvbnM6IE0uYXJyYXlPZihNLmFueSgpKSxcbiAgfSxcbik7XG5cbi8qXG5cblxuICovJGjNj19vbmNlLlR4Qm9keU9wdHNTaGFwZShUeEJvZHlPcHRzU2hhcGUpO1xuICAgICAgIGNvbnN0IEFueU5hdEFtb3VudHNSZWNvcmQgPSBNLmFuZChcbiAgTS5yZWNvcmRPZihNLnN0cmluZygpLCBBbnlOYXRBbW91bnRTaGFwZSksXG4gIE0ubm90KHt9KSxcbik7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5BbnlOYXRBbW91bnRzUmVjb3JkKEFueU5hdEFtb3VudHNSZWNvcmQpO1xuICAgICAgIGNvbnN0IE9yY2hlc3RyYXRpb25Qb3dlcnNTaGFwZSA9IHtcbiAgYWdvcmljTmFtZXM6IE0ucmVtb3RhYmxlKCksXG4gIGxvY2FsY2hhaW46IE0ucmVtb3RhYmxlKCksXG4gIG9yY2hlc3RyYXRpb25TZXJ2aWNlOiBNLnJlbW90YWJsZSgpLFxuICBzdG9yYWdlTm9kZTogTS5yZW1vdGFibGUoKSxcbiAgdGltZXJTZXJ2aWNlOiBNLnJlbW90YWJsZSgpLFxufTskaM2PX29uY2UuT3JjaGVzdHJhdGlvblBvd2Vyc1NoYXBlKE9yY2hlc3RyYXRpb25Qb3dlcnNTaGFwZSk7XG5oYXJkZW4oT3JjaGVzdHJhdGlvblBvd2Vyc1NoYXBlKTtcblxuY29uc3QgRm9yd2FyZEFyZ3NTaGFwZSA9IHtcbiAgcmVjZWl2ZXI6IE0uc3RyaW5nKCksXG4gIHBvcnQ6ICd0cmFuc2ZlcicsXG4gIGNoYW5uZWw6IE0uc3RyaW5nKCksXG4gIHRpbWVvdXQ6IE0uc3RyaW5nKCksXG4gIHJldHJpZXM6IE0ubnVtYmVyKCksXG59O1xuaGFyZGVuKEZvcndhcmRBcmdzU2hhcGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgRm9yd2FyZEluZm9TaGFwZSA9IHtcbiAgZm9yd2FyZDogTS5zcGxpdFJlY29yZChGb3J3YXJkQXJnc1NoYXBlLCB7XG4gICAgLypcblxuXG4gICAgICovXG4gICAgbmV4dDoge1xuICAgICAgZm9yd2FyZDogRm9yd2FyZEFyZ3NTaGFwZSxcbiAgICB9LFxuICB9KSxcbn07JGjNj19vbmNlLkZvcndhcmRJbmZvU2hhcGUoRm9yd2FyZEluZm9TaGFwZSk7XG5oYXJkZW4oRm9yd2FyZEluZm9TaGFwZSk7XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBGb3J3YXJkT3B0c1NoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge30sXG4gIHtcbiAgICB0aW1lb3V0OiBNLnN0cmluZygpLFxuICAgIHJldHJpZXM6IE0ubnVtYmVyKCksXG4gICAgaW50ZXJtZWRpYXRlUmVjaXBpZW50OiBDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxcbiAgfSxcbiAge30sXG4pO1xuXG4vKlxuXG5cbiAqLyRozY9fb25jZS5Gb3J3YXJkT3B0c1NoYXBlKEZvcndhcmRPcHRzU2hhcGUpO1xuICAgICAgIGNvbnN0IElCQ1RyYW5zZmVyT3B0aW9uc1NoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge30sXG4gIHtcbiAgICB0aW1lb3V0VGltZXN0YW1wOiBNLmJpZ2ludCgpLFxuICAgIHRpbWVvdXRIZWlnaHQ6IHtcbiAgICAgIHJldmlzaW9uSGVpZ2h0OiBNLmJpZ2ludCgpLFxuICAgICAgcmV2aXNpb25OdW1iZXI6IE0uYmlnaW50KCksXG4gICAgfSxcbiAgICB0aW1lb3V0UmVsYXRpdmVTZWNvbmRzOiBNLmJpZ2ludCgpLFxuICAgIG1lbW86IE0uc3RyaW5nKCksXG4gICAgZm9yd2FyZE9wdHM6IEZvcndhcmRPcHRzU2hhcGUsXG4gIH0sXG4pOyRozY9fb25jZS5JQkNUcmFuc2Zlck9wdGlvbnNTaGFwZShJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJPdXRib3VuZENvbm5lY3Rpb25IYW5kbGVySSI6WyJPdXRib3VuZENvbm5lY3Rpb25IYW5kbGVySSJdLCJDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSI6WyJDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSJdLCJDYWlwMTBSZWNvcmRTaGFwZSI6WyJDYWlwMTBSZWNvcmRTaGFwZSJdLCJDaGFpbkFkZHJlc3NTaGFwZSI6WyJDaGFpbkFkZHJlc3NTaGFwZSJdLCJBY2NvdW50SWRBcmdTaGFwZSI6WyJBY2NvdW50SWRBcmdTaGFwZSJdLCJQcm90bzNTaGFwZSI6WyJQcm90bzNTaGFwZSJdLCJJQkNDaGFubmVsSURTaGFwZSI6WyJJQkNDaGFubmVsSURTaGFwZSJdLCJJQkNDaGFubmVsSW5mb1NoYXBlIjpbIklCQ0NoYW5uZWxJbmZvU2hhcGUiXSwiSUJDQ29ubmVjdGlvbklEU2hhcGUiOlsiSUJDQ29ubmVjdGlvbklEU2hhcGUiXSwiSUJDQ29ubmVjdGlvbkluZm9TaGFwZSI6WyJJQkNDb25uZWN0aW9uSW5mb1NoYXBlIl0sIkNvc21vc0Fzc2V0SW5mb1NoYXBlIjpbIkNvc21vc0Fzc2V0SW5mb1NoYXBlIl0sIkJhc2VDaGFpbkluZm9TaGFwZSI6WyJCYXNlQ2hhaW5JbmZvU2hhcGUiXSwiQ29zbW9zQ2hhaW5JbmZvU2hhcGUiOlsiQ29zbW9zQ2hhaW5JbmZvU2hhcGUiXSwiQ2hhaW5JbmZvU2hhcGUiOlsiQ2hhaW5JbmZvU2hhcGUiXSwiRGVub21TaGFwZSI6WyJEZW5vbVNoYXBlIl0sIkNvaW5TaGFwZSI6WyJDb2luU2hhcGUiXSwiRGVub21JbmZvU2hhcGUiOlsiRGVub21JbmZvU2hhcGUiXSwiRGVub21EZXRhaWxTaGFwZSI6WyJEZW5vbURldGFpbFNoYXBlIl0sIkRlbm9tQW1vdW50U2hhcGUiOlsiRGVub21BbW91bnRTaGFwZSJdLCJBbnlOYXRBbW91bnRTaGFwZSI6WyJBbnlOYXRBbW91bnRTaGFwZSJdLCJBbW91bnRBcmdTaGFwZSI6WyJBbW91bnRBcmdTaGFwZSJdLCJEZWxlZ2F0aW9uU2hhcGUiOlsiRGVsZWdhdGlvblNoYXBlIl0sIklDUU1zZ1NoYXBlIjpbIklDUU1zZ1NoYXBlIl0sIlR5cGVkSnNvblNoYXBlIjpbIlR5cGVkSnNvblNoYXBlIl0sImNoYWluRmFjYWRlTWV0aG9kcyI6WyJjaGFpbkZhY2FkZU1ldGhvZHMiXSwiVGltZXN0YW1wUHJvdG9TaGFwZSI6WyJUaW1lc3RhbXBQcm90b1NoYXBlIl0sIlR4Qm9keU9wdHNTaGFwZSI6WyJUeEJvZHlPcHRzU2hhcGUiXSwiQW55TmF0QW1vdW50c1JlY29yZCI6WyJBbnlOYXRBbW91bnRzUmVjb3JkIl0sIk9yY2hlc3RyYXRpb25Qb3dlcnNTaGFwZSI6WyJPcmNoZXN0cmF0aW9uUG93ZXJzU2hhcGUiXSwiRm9yd2FyZEluZm9TaGFwZSI6WyJGb3J3YXJkSW5mb1NoYXBlIl0sIkZvcndhcmRPcHRzU2hhcGUiOlsiRm9yd2FyZE9wdHNTaGFwZSJdLCJJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSI6WyJJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAyCMD3ZBQAAGQUAAAxAAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvYWRkcmVzcy5qc3siaW1wb3J0cyI6WyJAY29zbWpzL2VuY29kaW5nIiwiQGVuZG8vZXJyb3JzIiwiYnM1OCJdLCJleHBvcnRzIjpbIkRFRkFVTFRfSUNRX1ZFUlNJT04iLCJhY2NvdW50SWRUbzMyQnl0ZXMiLCJjaGFpbk9mQWNjb3VudCIsImZpbmRBZGRyZXNzRmllbGQiLCJnZXRCZWNoMzJQcmVmaXgiLCJsZWZ0UGFkRXRoQWRkcmVzc1RvMzJCeXRlcyIsIm1ha2VJQ0FDaGFubmVsQWRkcmVzcyIsIm1ha2VJQ1FDaGFubmVsQWRkcmVzcyIsInBhcnNlQWNjb3VudElkIiwicGFyc2VBY2NvdW50SWRBcmciXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBmcm9tSGV4LEZhaWwscSxiczU4OyRozY9faW1wb3J0cyhbW1wiQGNvc21qcy9lbmNvZGluZ1wiLCBbW1wiZnJvbUhleFwiLFskaM2PX2EgPT4gKGZyb21IZXggPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiYnM1OFwiLCBbW1wiZGVmYXVsdFwiLFskaM2PX2EgPT4gKGJzNTggPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlSUNBQ2hhbm5lbEFkZHJlc3MgPSAoXG4gIGhvc3RDb25uZWN0aW9uSWQsXG4gIGNvbnRyb2xsZXJDb25uZWN0aW9uSWQsXG4gIHtcbiAgICB2ZXJzaW9uID0gJ2ljczI3LTEnLFxuICAgIGVuY29kaW5nID0gJ3Byb3RvMycsXG4gICAgb3JkZXJpbmcgPSAnb3JkZXJlZCcsXG4gICAgdHhUeXBlID0gJ3Nka19tdWx0aV9tc2cnLFxuICB9ID0ge30sXG4pID0+IHtcbiAgaG9zdENvbm5lY3Rpb25JZCB8fCBGYWlsYGhvc3RDb25uZWN0aW9uSWQgaXMgcmVxdWlyZWRgO1xuICBjb250cm9sbGVyQ29ubmVjdGlvbklkIHx8IEZhaWxgY29udHJvbGxlckNvbm5lY3Rpb25JZCBpcyByZXF1aXJlZGA7XG4gIGNvbnN0IGNvbm5TdHJpbmcgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgdmVyc2lvbixcbiAgICBjb250cm9sbGVyQ29ubmVjdGlvbklkLFxuICAgIGhvc3RDb25uZWN0aW9uSWQsXG4gICAgYWRkcmVzczogJycsIC8vXG4gICAgZW5jb2RpbmcsXG4gICAgdHhUeXBlLFxuICB9KTtcbiAgcmV0dXJuIGAvaWJjLWhvcC8ke2NvbnRyb2xsZXJDb25uZWN0aW9uSWR9L2liYy1wb3J0L2ljYWhvc3QvJHtvcmRlcmluZ30vJHtjb25uU3RyaW5nfWA7XG59OyRozY9fb25jZS5tYWtlSUNBQ2hhbm5lbEFkZHJlc3MobWFrZUlDQUNoYW5uZWxBZGRyZXNzKTtcbmhhcmRlbihtYWtlSUNBQ2hhbm5lbEFkZHJlc3MpO1xuXG4gICAgICAgY29uc3QgREVGQVVMVF9JQ1FfVkVSU0lPTiA9ICdpY3EtMSc7XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UuREVGQVVMVF9JQ1FfVkVSU0lPTihERUZBVUxUX0lDUV9WRVJTSU9OKTtcbiAgICAgICBjb25zdCBtYWtlSUNRQ2hhbm5lbEFkZHJlc3MgPSAoXG4gIGNvbnRyb2xsZXJDb25uZWN0aW9uSWQsXG4gIHZlcnNpb24gPSBERUZBVUxUX0lDUV9WRVJTSU9OLFxuKSA9PiB7XG4gIGNvbnRyb2xsZXJDb25uZWN0aW9uSWQgfHwgRmFpbGBjb250cm9sbGVyQ29ubmVjdGlvbklkIGlzIHJlcXVpcmVkYDtcbiAgcmV0dXJuIGAvaWJjLWhvcC8ke2NvbnRyb2xsZXJDb25uZWN0aW9uSWR9L2liYy1wb3J0L2ljcWhvc3QvdW5vcmRlcmVkLyR7dmVyc2lvbn1gO1xufTskaM2PX29uY2UubWFrZUlDUUNoYW5uZWxBZGRyZXNzKG1ha2VJQ1FDaGFubmVsQWRkcmVzcyk7XG5oYXJkZW4obWFrZUlDUUNoYW5uZWxBZGRyZXNzKTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBmaW5kQWRkcmVzc0ZpZWxkID0gcmVtb3RlQWRkcmVzc1N0cmluZyA9PiB7XG4gIHRyeSB7XG4gICAgLy9cbiAgICBjb25zdCBqc29uU3RyID0gcmVtb3RlQWRkcmVzc1N0cmluZz8ubWF0Y2goL3suKj99Lyk/LlswXTtcbiAgICBjb25zdCBqc29uT2JqID0ganNvblN0ciA/IEpTT04ucGFyc2UoanNvblN0cikgOiB1bmRlZmluZWQ7XG4gICAgaWYgKCFqc29uT2JqPy5hZGRyZXNzPy5sZW5ndGgpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGpzb25PYmouYWRkcmVzcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59OyRozY9fb25jZS5maW5kQWRkcmVzc0ZpZWxkKGZpbmRBZGRyZXNzRmllbGQpO1xuaGFyZGVuKGZpbmRBZGRyZXNzRmllbGQpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldEJlY2gzMlByZWZpeCA9IGFkZHJlc3MgPT4ge1xuICBhc3NlcnQoYWRkcmVzcywgJ2FkZHJlc3MgaXMgcmVxdWlyZWQnKTtcbiAgY29uc3Qgc3BsaXQgPSBhZGRyZXNzLmxhc3RJbmRleE9mKCcxJyk7XG4gIGlmIChzcGxpdCA9PT0gLTEpIHJldHVybiBGYWlsYE5vIHNlcGFyYXRvciBjaGFyYWN0ZXIgZm9yICR7cShhZGRyZXNzKX1gO1xuICBpZiAoc3BsaXQgPT09IDApIHJldHVybiBGYWlsYE1pc3NpbmcgcHJlZml4IGZvciAke3EoYWRkcmVzcyl9YDtcbiAgcmV0dXJuIGFkZHJlc3Muc2xpY2UoMCwgc3BsaXQpO1xufTtcblxuLypcblxuXG5cblxuXG4gKi8kaM2PX29uY2UuZ2V0QmVjaDMyUHJlZml4KGdldEJlY2gzMlByZWZpeCk7XG4gICAgICAgY29uc3QgcGFyc2VBY2NvdW50SWRBcmcgPSBpZEFyZyA9PiB7XG4gIGlmICh0eXBlb2YgaWRBcmcgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBhcnNlQWNjb3VudElkKGlkQXJnKTtcbiAgfVxuXG4gIC8vXG4gIHJldHVybiB7XG4gICAgbmFtZXNwYWNlOiAnY29zbW9zJyxcbiAgICByZWZlcmVuY2U6IGlkQXJnLmNoYWluSWQsXG4gICAgYWNjb3VudEFkZHJlc3M6IGlkQXJnLnZhbHVlLFxuICB9O1xufTskaM2PX29uY2UucGFyc2VBY2NvdW50SWRBcmcocGFyc2VBY2NvdW50SWRBcmcpO1xuaGFyZGVuKHBhcnNlQWNjb3VudElkQXJnKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcGFyc2VBY2NvdW50SWQgPSBhY2NvdW50SWQgPT4ge1xuICBjb25zdCBwYXJ0cyA9IGFjY291bnRJZC5zcGxpdCgnOicpO1xuICBwYXJ0cy5sZW5ndGggPT09IDMgfHwgRmFpbGBtYWxmb3JtZWQgQ0FJUC0xMCBhY2NvdW50SWQ6ICR7cShhY2NvdW50SWQpfWA7XG5cbiAgLy9cbiAgY29uc3QgW25hbWVzcGFjZSwgcmVmZXJlbmNlLCBhY2NvdW50QWRkcmVzc10gPSBwYXJ0cztcbiAgcmV0dXJuIHtcbiAgICBuYW1lc3BhY2UsXG4gICAgcmVmZXJlbmNlLFxuICAgIGFjY291bnRBZGRyZXNzLFxuICB9O1xufTskaM2PX29uY2UucGFyc2VBY2NvdW50SWQocGFyc2VBY2NvdW50SWQpO1xuaGFyZGVuKHBhcnNlQWNjb3VudElkKTtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjaGFpbk9mQWNjb3VudCA9IGFjY291bnRJZEFyZyA9PiB7XG4gIGNvbnN0IHsgbmFtZXNwYWNlLCByZWZlcmVuY2UgfSA9IHBhcnNlQWNjb3VudElkQXJnKGFjY291bnRJZEFyZyk7XG4gIHJldHVybiBgJHtuYW1lc3BhY2V9OiR7cmVmZXJlbmNlfWA7XG59O1xuXG4vKlxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5jaGFpbk9mQWNjb3VudChjaGFpbk9mQWNjb3VudCk7XG4gICAgICAgY29uc3QgbGVmdFBhZEV0aEFkZHJlc3NUbzMyQnl0ZXMgPSByYXdBZGRyZXNzID0+IHtcbiAgY29uc3QgY2xlYW5lZEFkZHJlc3MgPSByYXdBZGRyZXNzLnJlcGxhY2UoL14weC8sICcnKTtcbiAgY29uc3QgemVyb2VzTmVlZGVkID0gNjQgLSBjbGVhbmVkQWRkcmVzcy5sZW5ndGg7XG4gIGNvbnN0IHBhZGRlZEFkZHJlc3MgPSAnMCcucmVwZWF0KHplcm9lc05lZWRlZCkgKyBjbGVhbmVkQWRkcmVzcztcbiAgcmV0dXJuIGZyb21IZXgocGFkZGVkQWRkcmVzcyk7XG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UubGVmdFBhZEV0aEFkZHJlc3NUbzMyQnl0ZXMobGVmdFBhZEV0aEFkZHJlc3NUbzMyQnl0ZXMpO1xuY29uc3Qgc29sYW5hQWRkcmVzc1RvQ2N0cFJlY2lwaWVudCA9IHNvbGFuYUFkZHJlc3MgPT5cbiAgYnM1OC5kZWNvZGUoc29sYW5hQWRkcmVzcyk7XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBhY2NvdW50SWRUbzMyQnl0ZXMgPSBhY2NvdW50SWQgPT4ge1xuICBjb25zdCB7IG5hbWVzcGFjZSwgYWNjb3VudEFkZHJlc3MgfSA9IHBhcnNlQWNjb3VudElkKGFjY291bnRJZCk7XG4gIHN3aXRjaCAobmFtZXNwYWNlKSB7XG4gICAgY2FzZSAnZWlwMTU1JzpcbiAgICAgIHJldHVybiBsZWZ0UGFkRXRoQWRkcmVzc1RvMzJCeXRlcyhhY2NvdW50QWRkcmVzcyk7XG4gICAgY2FzZSAnc29sYW5hJzpcbiAgICAgIHJldHVybiBzb2xhbmFBZGRyZXNzVG9DY3RwUmVjaXBpZW50KGFjY291bnRBZGRyZXNzKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBuYW1lc3BhY2UgJHtuYW1lc3BhY2V9IG5vdCBzdXBwb3J0ZWRgKTtcbiAgfVxufTskaM2PX29uY2UuYWNjb3VudElkVG8zMkJ5dGVzKGFjY291bnRJZFRvMzJCeXRlcyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlSUNBQ2hhbm5lbEFkZHJlc3MiOlsibWFrZUlDQUNoYW5uZWxBZGRyZXNzIl0sIkRFRkFVTFRfSUNRX1ZFUlNJT04iOlsiREVGQVVMVF9JQ1FfVkVSU0lPTiJdLCJtYWtlSUNRQ2hhbm5lbEFkZHJlc3MiOlsibWFrZUlDUUNoYW5uZWxBZGRyZXNzIl0sImZpbmRBZGRyZXNzRmllbGQiOlsiZmluZEFkZHJlc3NGaWVsZCJdLCJnZXRCZWNoMzJQcmVmaXgiOlsiZ2V0QmVjaDMyUHJlZml4Il0sInBhcnNlQWNjb3VudElkQXJnIjpbInBhcnNlQWNjb3VudElkQXJnIl0sInBhcnNlQWNjb3VudElkIjpbInBhcnNlQWNjb3VudElkIl0sImNoYWluT2ZBY2NvdW50IjpbImNoYWluT2ZBY2NvdW50Il0sImxlZnRQYWRFdGhBZGRyZXNzVG8zMkJ5dGVzIjpbImxlZnRQYWRFdGhBZGRyZXNzVG8zMkJ5dGVzIl0sImFjY291bnRJZFRvMzJCeXRlcyI6WyJhY2NvdW50SWRUbzMyQnl0ZXMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAzXF37N4FAADeBQAAMQAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL2Ftb3VudHMuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsiY29lcmNlQ29pbiIsImNvZXJjZURlbm9tIiwiY29lcmNlRGVub21BbW91bnQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBtYWtlRXJyb3I7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIm1ha2VFcnJvclwiLFskaM2PX2EgPT4gKG1ha2VFcnJvciA9ICRozY9fYSldXV1dXSk7XG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjb2VyY2VEZW5vbSA9IChjaGFpbkh1YiwgZGVub21BcmcpID0+IHtcbiAgaWYgKHR5cGVvZiBkZW5vbUFyZyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZGVub21Bcmc7XG4gIH1cbiAgY29uc3QgZGVub20gPSBjaGFpbkh1Yi5nZXREZW5vbShkZW5vbUFyZyk7XG4gIGlmICghZGVub20pIHtcbiAgICB0aHJvdyBtYWtlRXJyb3IoYE5vIGRlbm9tIGZvciBicmFuZCAke2Rlbm9tQXJnfWApO1xuICB9XG4gIHJldHVybiBkZW5vbTtcbn07XG5cbi8qXG5cblxuXG5cblxuICovJGjNj19vbmNlLmNvZXJjZURlbm9tKGNvZXJjZURlbm9tKTtcbiAgICAgICBjb25zdCBjb2VyY2VEZW5vbUFtb3VudCA9IChjaGFpbkh1YiwgYW1vdW50KSA9PiB7XG4gIGlmICgnZGVub20nIGluIGFtb3VudCkge1xuICAgIHJldHVybiBhbW91bnQ7XG4gIH1cbiAgY29uc3QgZGVub20gPSBjb2VyY2VEZW5vbShjaGFpbkh1YiwgYW1vdW50LmJyYW5kKTtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgZGVub20sXG4gICAgdmFsdWU6IGFtb3VudC52YWx1ZSxcbiAgfSk7XG59O1xuXG4vKlxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5jb2VyY2VEZW5vbUFtb3VudChjb2VyY2VEZW5vbUFtb3VudCk7XG4gICAgICAgY29uc3QgY29lcmNlQ29pbiA9IChjaGFpbkh1YiwgYW1vdW50KSA9PiB7XG4gIGNvbnN0IGRlbm9tID1cbiAgICAnZGVub20nIGluIGFtb3VudCA/IGFtb3VudC5kZW5vbSA6IGNvZXJjZURlbm9tKGNoYWluSHViLCBhbW91bnQuYnJhbmQpO1xuICByZXR1cm4gaGFyZGVuKHtcbiAgICBkZW5vbSxcbiAgICBhbW91bnQ6IFN0cmluZyhhbW91bnQudmFsdWUpLFxuICB9KTtcbn07JGjNj19vbmNlLmNvZXJjZUNvaW4oY29lcmNlQ29pbik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJjb2VyY2VEZW5vbSI6WyJjb2VyY2VEZW5vbSJdLCJjb2VyY2VEZW5vbUFtb3VudCI6WyJjb2VyY2VEZW5vbUFtb3VudCJdLCJjb2VyY2VDb2luIjpbImNvZXJjZUNvaW4iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAsacU0NoHAADaBwAAOgAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL2NoYWluLWh1Yi1oZWxwZXIuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbInJlZ2lzdGVyQ2hhaW5zQW5kQXNzZXRzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8qXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcmVnaXN0ZXJDaGFpbnNBbmRBc3NldHMgPSAoXG4gIGNoYWluSHViLFxuICBicmFuZHMsXG4gIGNoYWluSW5mbyxcbiAgYXNzZXRJbmZvLFxuICB7IGxvZyA9ICgpID0+IHt9IH0gPSB7fSxcbikgPT4ge1xuICBsb2coJ2NoYWluSHViOiByZWdpc3RlcmluZyBjaGFpbnMnLCBPYmplY3Qua2V5cyhjaGFpbkluZm8gfHwge30pKTtcbiAgaWYgKCFjaGFpbkluZm8pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjb25ucyA9IHt9O1xuICBmb3IgKGNvbnN0IFtjaGFpbk5hbWUsIGFsbEluZm9dIG9mIE9iamVjdC5lbnRyaWVzKGNoYWluSW5mbykpIHtcbiAgICBpZiAoYWxsSW5mby5uYW1lc3BhY2UgPT09ICdjb3Ntb3MnKSB7XG4gICAgICBjb25zdCB7IGNvbm5lY3Rpb25zLCAuLi5pbmZvIH0gPSBhbGxJbmZvO1xuICAgICAgY2hhaW5IdWIucmVnaXN0ZXJDaGFpbihjaGFpbk5hbWUsIGluZm8pO1xuICAgICAgaWYgKGNvbm5lY3Rpb25zKSBjb25uc1tpbmZvLmNoYWluSWRdID0gY29ubmVjdGlvbnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoYWluSHViLnJlZ2lzdGVyQ2hhaW4oY2hhaW5OYW1lLCBhbGxJbmZvKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgcmVnaXN0ZXJlZFBhaXJzID0gbmV3IFNldCgpO1xuICBmb3IgKGNvbnN0IFtwQ2hhaW5JZCwgY29ubkluZm9zXSBvZiBPYmplY3QuZW50cmllcyhjb25ucykpIHtcbiAgICBmb3IgKGNvbnN0IFtjQ2hhaW5JZCwgY29ubkluZm9dIG9mIE9iamVjdC5lbnRyaWVzKGNvbm5JbmZvcykpIHtcbiAgICAgIGNvbnN0IHBhaXIgPSBbcENoYWluSWQsIGNDaGFpbklkXS5zb3J0KCkuam9pbignPC0+Jyk7XG4gICAgICBpZiAoIXJlZ2lzdGVyZWRQYWlycy5oYXMocGFpcikpIHtcbiAgICAgICAgY2hhaW5IdWIucmVnaXN0ZXJDb25uZWN0aW9uKHBDaGFpbklkLCBjQ2hhaW5JZCwgY29ubkluZm8pO1xuICAgICAgICByZWdpc3RlcmVkUGFpcnMuYWRkKHBhaXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsb2coJ2NoYWluSHViOiByZWdpc3RlcmVkIGNvbm5lY3Rpb25zJywgWy4uLnJlZ2lzdGVyZWRQYWlyc10uc29ydCgpKTtcblxuICBsb2coXG4gICAgJ2NoYWluSHViOiByZWdpc3RlcmluZyBhc3NldHMnLFxuICAgIGFzc2V0SW5mbz8ubWFwKChbZGVub20sIHsgY2hhaW5OYW1lIH1dKSA9PiBgJHtjaGFpbk5hbWV9OiAke2Rlbm9tfWApLFxuICApO1xuICBpZiAoIWFzc2V0SW5mbykge1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGNvbnN0IFtkZW5vbSwgaW5mb10gb2YgYXNzZXRJbmZvKSB7XG4gICAgY29uc3QgeyBicmFuZEtleSwgLi4ucmVzdCB9ID0gaW5mbztcbiAgICBjb25zdCBpbmZvV2l0aEJyYW5kID0gYnJhbmRLZXlcbiAgICAgID8geyAuLi5yZXN0LCBicmFuZDogYnJhbmRzW2JyYW5kS2V5XSB9XG4gICAgICA6IHJlc3Q7XG4gICAgY2hhaW5IdWIucmVnaXN0ZXJBc3NldChkZW5vbSwgaW5mb1dpdGhCcmFuZCk7XG4gIH1cbn07JGjNj19vbmNlLnJlZ2lzdGVyQ2hhaW5zQW5kQXNzZXRzKHJlZ2lzdGVyQ2hhaW5zQW5kQXNzZXRzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InJlZ2lzdGVyQ2hhaW5zQW5kQXNzZXRzIjpbInJlZ2lzdGVyQ2hhaW5zQW5kQXNzZXRzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAGovRUQqAgAAKgIAADQAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy9jaGFpbi1pbmZvLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJjYWlwSWRGcm9tSW5mbyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvKlxuXG4gKi9cblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBjYWlwSWRGcm9tSW5mbyA9IGluZm8gPT4ge1xuICByZXR1cm4gYCR7aW5mby5uYW1lc3BhY2V9OiR7aW5mby5yZWZlcmVuY2V9YDtcbn07JGjNj19vbmNlLmNhaXBJZEZyb21JbmZvKGNhaXBJZEZyb21JbmZvKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImNhaXBJZEZyb21JbmZvIjpbImNhaXBJZEZyb21JbmZvIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAALSVLrdkCgAAZAoAADAAAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy9jb3Ntb3MuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vYmFzZTY0IiwiQGFnb3JpYy9jb3NtaWMtcHJvdG8vZ29vZ2xlL3Byb3RvYnVmL2FueS5qcyJdLCJleHBvcnRzIjpbIm1heENsb2NrU2tldyIsInRvQ29zbW9zRGVsZWdhdGlvblJlc3BvbnNlIiwidG9Db3Ntb3NWYWxpZGF0b3JBZGRyZXNzIiwidG9EZW5vbUFtb3VudCIsInRvVHJ1bmNhdGVkRGVub21BbW91bnQiLCJ0cnlEZWNvZGVSZXNwb25zZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VFcnJvcixkZWNvZGVCYXNlNjQsQW55OyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJtYWtlRXJyb3JcIixbJGjNj19hID0+IChtYWtlRXJyb3IgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9iYXNlNjRcIiwgW1tcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGRlY29kZUJhc2U2NCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvY29zbWljLXByb3RvL2dvb2dsZS9wcm90b2J1Zi9hbnkuanNcIiwgW1tcIkFueVwiLFskaM2PX2EgPT4gKEFueSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG4vKlxuXG5cblxuICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgbWF4Q2xvY2tTa2V3ID0gMTBuICogNjBuO1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLm1heENsb2NrU2tldyhtYXhDbG9ja1NrZXcpO1xuICAgICAgIGNvbnN0IHRyeURlY29kZVJlc3BvbnNlID0gKGFja1N0ciwgZnJvbVByb3RvTXNnKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYW55ID0gQW55LmRlY29kZShkZWNvZGVCYXNlNjQoYWNrU3RyKSk7XG4gICAgY29uc3QgcHJvdG9Nc2cgPSBBbnkuZGVjb2RlKGFueS52YWx1ZSk7XG5cbiAgICBjb25zdCBtc2cgPSBmcm9tUHJvdG9Nc2cocHJvdG9Nc2cpO1xuICAgIHJldHVybiBtc2c7XG4gIH0gY2F0Y2ggKGNhdXNlKSB7XG4gICAgdGhyb3cgbWFrZUVycm9yKGBiYWQgcmVzcG9uc2U6ICR7YWNrU3RyfWAsIHVuZGVmaW5lZCwgeyBjYXVzZSB9KTtcbiAgfVxufTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLnRyeURlY29kZVJlc3BvbnNlKHRyeURlY29kZVJlc3BvbnNlKTtcbiAgICAgICBjb25zdCB0b0Rlbm9tQW1vdW50ID0gYyA9PiAoeyBkZW5vbTogYy5kZW5vbSwgdmFsdWU6IEJpZ0ludChjLmFtb3VudCkgfSk7XG5cbi8qXG5cblxuXG5cbiAqLyRozY9fb25jZS50b0Rlbm9tQW1vdW50KHRvRGVub21BbW91bnQpO1xuICAgICAgIGNvbnN0IHRvVHJ1bmNhdGVkRGVub21BbW91bnQgPSBjID0+ICh7XG4gIGRlbm9tOiBjLmRlbm9tLFxuICB2YWx1ZTogQmlnSW50KGMuYW1vdW50LnNwbGl0KCcuJylbMF0pLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS50b1RydW5jYXRlZERlbm9tQW1vdW50KHRvVHJ1bmNhdGVkRGVub21BbW91bnQpO1xuICAgICAgIGNvbnN0IHRvQ29zbW9zVmFsaWRhdG9yQWRkcmVzcyA9IChyLCBjaGFpbklkKSA9PiAoe1xuICBlbmNvZGluZzogJ2JlY2gzMicsXG4gIHZhbHVlOiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChyLnZhbGlkYXRvckFkZHJlc3MpLFxuICBjaGFpbklkLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS50b0Nvc21vc1ZhbGlkYXRvckFkZHJlc3ModG9Db3Ntb3NWYWxpZGF0b3JBZGRyZXNzKTtcbiAgICAgICBjb25zdCB0b0Nvc21vc0RlbGVnYXRpb25SZXNwb25zZSA9ICh7IGNoYWluSWQgfSwgcikgPT4gKHtcbiAgZGVsZWdhdG9yOiB7XG4gICAgY2hhaW5JZCxcbiAgICBlbmNvZGluZzogJ2JlY2gzMicsXG4gICAgdmFsdWU6IC8qICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHIuZGVsZWdhdGlvbi5kZWxlZ2F0b3JBZGRyZXNzKSxcbiAgfSxcbiAgdmFsaWRhdG9yOiB0b0Nvc21vc1ZhbGlkYXRvckFkZHJlc3Moci5kZWxlZ2F0aW9uLCBjaGFpbklkKSxcbiAgYW1vdW50OiB0b0Rlbm9tQW1vdW50KHIuYmFsYW5jZSksXG59KTskaM2PX29uY2UudG9Db3Ntb3NEZWxlZ2F0aW9uUmVzcG9uc2UodG9Db3Ntb3NEZWxlZ2F0aW9uUmVzcG9uc2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWF4Q2xvY2tTa2V3IjpbIm1heENsb2NrU2tldyJdLCJ0cnlEZWNvZGVSZXNwb25zZSI6WyJ0cnlEZWNvZGVSZXNwb25zZSJdLCJ0b0Rlbm9tQW1vdW50IjpbInRvRGVub21BbW91bnQiXSwidG9UcnVuY2F0ZWREZW5vbUFtb3VudCI6WyJ0b1RydW5jYXRlZERlbm9tQW1vdW50Il0sInRvQ29zbW9zVmFsaWRhdG9yQWRkcmVzcyI6WyJ0b0Nvc21vc1ZhbGlkYXRvckFkZHJlc3MiXSwidG9Db3Ntb3NEZWxlZ2F0aW9uUmVzcG9uc2UiOlsidG9Db3Ntb3NEZWxlZ2F0aW9uUmVzcG9uc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAlyQKiakDAACpAwAAMwAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL2Rlbm9tSGFzaC5qc3siaW1wb3J0cyI6WyJAbm9ibGUvaGFzaGVzL3NoYTI1NiIsIkBub2JsZS9oYXNoZXMvdXRpbHMiXSwiZXhwb3J0cyI6WyJkZW5vbUhhc2giXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBzaGEyNTYsYnl0ZXNUb0hleDskaM2PX2ltcG9ydHMoW1tcIkBub2JsZS9oYXNoZXMvc2hhMjU2XCIsIFtbXCJzaGEyNTZcIixbJGjNj19hID0+IChzaGEyNTYgPSAkaM2PX2EpXV1dXSxbXCJAbm9ibGUvaGFzaGVzL3V0aWxzXCIsIFtbXCJieXRlc1RvSGV4XCIsWyRozY9fYSA9PiAoYnl0ZXNUb0hleCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBkZW5vbUhhc2ggPSAoe1xuICBwb3J0SWQgPSAndHJhbnNmZXInLFxuICBjaGFubmVsSWQgPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHVuZGVmaW5lZCksXG4gIHBhdGggPSBgJHtwb3J0SWR9LyR7Y2hhbm5lbElkfWAsXG4gIGRlbm9tLFxufSkgPT4ge1xuICBjb25zdCBoID0gc2hhMjU2LmNyZWF0ZSgpLnVwZGF0ZShgJHtwYXRofS8ke2Rlbm9tfWApLmRpZ2VzdCgpO1xuICByZXR1cm4gYnl0ZXNUb0hleChoKS50b1VwcGVyQ2FzZSgpO1xufTskaM2PX29uY2UuZGVub21IYXNoKGRlbm9tSGFzaCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJkZW5vbUhhc2giOlsiZGVub21IYXNoIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAG3dXVgdCgAAHQoAAD4AAABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy9vcmNoZXN0cmF0aW9uQWNjb3VudC5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2VydHAiLCJAYWdvcmljL25ldHdvcmsiLCJAYWdvcmljL3ZvdyIsIkBhZ29yaWMvem9lL3NyYy9jb250cmFjdFN1cHBvcnQvdG9waWNzLmpzIiwiQGVuZG8vcGF0dGVybnMiLCIuLi90eXBlR3VhcmRzLmpzIl0sImV4cG9ydHMiOlsib3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgQnJhbmRTaGFwZSxOZXR3b3JrU2hhcGUsVm93U2hhcGUsVG9waWNzUmVjb3JkU2hhcGUsTSxBY2NvdW50SWRBcmdTaGFwZSxBbW91bnRBcmdTaGFwZSxDb3Ntb3NDaGFpbkFkZHJlc3NTaGFwZSxEZW5vbUFtb3VudFNoYXBlLElCQ1RyYW5zZmVyT3B0aW9uc1NoYXBlOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9lcnRwXCIsIFtbXCJCcmFuZFNoYXBlXCIsWyRozY9fYSA9PiAoQnJhbmRTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvbmV0d29ya1wiLCBbW1wiU2hhcGVcIixbJGjNj19hID0+IChOZXR3b3JrU2hhcGUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3Zvd1wiLCBbW1wiVm93U2hhcGVcIixbJGjNj19hID0+IChWb3dTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvem9lL3NyYy9jb250cmFjdFN1cHBvcnQvdG9waWNzLmpzXCIsIFtbXCJUb3BpY3NSZWNvcmRTaGFwZVwiLFskaM2PX2EgPT4gKFRvcGljc1JlY29yZFNoYXBlID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi4vdHlwZUd1YXJkcy5qc1wiLCBbW1wiQWNjb3VudElkQXJnU2hhcGVcIixbJGjNj19hID0+IChBY2NvdW50SWRBcmdTaGFwZSA9ICRozY9fYSldXSxbXCJBbW91bnRBcmdTaGFwZVwiLFskaM2PX2EgPT4gKEFtb3VudEFyZ1NoYXBlID0gJGjNj19hKV1dLFtcIkNvc21vc0NoYWluQWRkcmVzc1NoYXBlXCIsWyRozY9fYSA9PiAoQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUgPSAkaM2PX2EpXV0sW1wiRGVub21BbW91bnRTaGFwZVwiLFskaM2PX2EgPT4gKERlbm9tQW1vdW50U2hhcGUgPSAkaM2PX2EpXV0sW1wiSUJDVHJhbnNmZXJPcHRpb25zU2hhcGVcIixbJGjNj19hID0+IChJQkNUcmFuc2Zlck9wdGlvbnNTaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgeyBWb3ckIH0gPSBOZXR3b3JrU2hhcGU7IC8vXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBvcmNoZXN0cmF0aW9uQWNjb3VudE1ldGhvZHMgPSB7XG4gIGdldEFkZHJlc3M6IE0uY2FsbCgpLnJldHVybnMoQ29zbW9zQ2hhaW5BZGRyZXNzU2hhcGUpLFxuICBnZXRCYWxhbmNlOiBNLmNhbGwoTS5vcihCcmFuZFNoYXBlLCBNLnN0cmluZygpKSkucmV0dXJucyhcbiAgICBWb3ckKERlbm9tQW1vdW50U2hhcGUpLFxuICApLFxuICBnZXRCYWxhbmNlczogTS5jYWxsKCkucmV0dXJucyhWb3ckKE0uYXJyYXlPZihEZW5vbUFtb3VudFNoYXBlKSkpLFxuICBzZW5kOiBNLmNhbGwoQWNjb3VudElkQXJnU2hhcGUsIEFtb3VudEFyZ1NoYXBlKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgc2VuZEFsbDogTS5jYWxsKENvc21vc0NoYWluQWRkcmVzc1NoYXBlLCBNLmFycmF5T2YoQW1vdW50QXJnU2hhcGUpKS5yZXR1cm5zKFxuICAgIFZvd1NoYXBlLFxuICApLFxuICB0cmFuc2ZlcjogTS5jYWxsKEFjY291bnRJZEFyZ1NoYXBlLCBBbW91bnRBcmdTaGFwZSlcbiAgICAub3B0aW9uYWwoSUJDVHJhbnNmZXJPcHRpb25zU2hhcGUpXG4gICAgLnJldHVybnMoVm93U2hhcGUpLFxuICB0cmFuc2ZlclN0ZXBzOiBNLmNhbGwoQW1vdW50QXJnU2hhcGUsIE0uYW55KCkpLnJldHVybnMoVm93U2hhcGUpLFxuICBhc0NvbnRpbnVpbmdPZmZlcjogTS5jYWxsKCkucmV0dXJucyhcbiAgICBWb3ckKHtcbiAgICAgIHB1YmxpY1N1YnNjcmliZXJzOiBUb3BpY3NSZWNvcmRTaGFwZSxcbiAgICAgIGludml0YXRpb25NYWtlcnM6IE0uYW55KCksXG4gICAgICBob2xkZXI6IE0ucmVtb3RhYmxlKCksXG4gICAgfSksXG4gICksXG4gIGdldFB1YmxpY1RvcGljczogTS5jYWxsKCkucmV0dXJucyhWb3ckKFRvcGljc1JlY29yZFNoYXBlKSksXG59OyRozY9fb25jZS5vcmNoZXN0cmF0aW9uQWNjb3VudE1ldGhvZHMob3JjaGVzdHJhdGlvbkFjY291bnRNZXRob2RzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im9yY2hlc3RyYXRpb25BY2NvdW50TWV0aG9kcyI6WyJvcmNoZXN0cmF0aW9uQWNjb3VudE1ldGhvZHMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAANOcAm6YZAACmGQAANgAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL3N0YXJ0LWhlbHBlci5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2FzeW5jLWZsb3ciLCJAYWdvcmljL3ZvdyIsIkBhZ29yaWMvem9lL3NyYy9jb250cmFjdFN1cHBvcnQvcmVjb3JkZXIuanMiLCJAYWdvcmljL3pvbmUvZHVyYWJsZS5qcyIsIi4uL2V4b3MvY2hhaW4taHViLmpzIiwiLi4vZXhvcy9jb3Ntb3Mtb3JjaGVzdHJhdGlvbi1hY2NvdW50LmpzIiwiLi4vZXhvcy9sb2NhbC1jaGFpbi1mYWNhZGUuanMiLCIuLi9leG9zL2xvY2FsLW9yY2hlc3RyYXRpb24tYWNjb3VudC5qcyIsIi4uL2V4b3Mvb3JjaGVzdHJhdG9yLmpzIiwiLi4vZXhvcy9yZW1vdGUtY2hhaW4tZmFjYWRlLmpzIiwiLi4vZmFjYWRlLmpzIiwiLi96b2UtdG9vbHMuanMiLCIuL3pjZi10b29scy5qcyJdLCJleHBvcnRzIjpbInByb3ZpZGVPcmNoZXN0cmF0aW9uIiwid2l0aE9yY2hlc3RyYXRpb24iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBwcmVwYXJlQXN5bmNGbG93VG9vbHMscHJlcGFyZVZvd1Rvb2xzLHByZXBhcmVSZWNvcmRlcktpdE1ha2VycyxtYWtlRHVyYWJsZVpvbmUsbWFrZUNoYWluSHViLHByZXBhcmVDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudCxwcmVwYXJlTG9jYWxDaGFpbkZhY2FkZSxwcmVwYXJlTG9jYWxPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCxwcmVwYXJlT3JjaGVzdHJhdG9yLHByZXBhcmVSZW1vdGVDaGFpbkZhY2FkZSxtYWtlT3JjaGVzdHJhdGlvbkZhY2FkZSxtYWtlWm9lVG9vbHMsbWFrZVpjZlRvb2xzOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9hc3luYy1mbG93XCIsIFtbXCJwcmVwYXJlQXN5bmNGbG93VG9vbHNcIixbJGjNj19hID0+IChwcmVwYXJlQXN5bmNGbG93VG9vbHMgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3Zvd1wiLCBbW1wicHJlcGFyZVZvd1Rvb2xzXCIsWyRozY9fYSA9PiAocHJlcGFyZVZvd1Rvb2xzID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy96b2Uvc3JjL2NvbnRyYWN0U3VwcG9ydC9yZWNvcmRlci5qc1wiLCBbW1wicHJlcGFyZVJlY29yZGVyS2l0TWFrZXJzXCIsWyRozY9fYSA9PiAocHJlcGFyZVJlY29yZGVyS2l0TWFrZXJzID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy96b25lL2R1cmFibGUuanNcIiwgW1tcIm1ha2VEdXJhYmxlWm9uZVwiLFskaM2PX2EgPT4gKG1ha2VEdXJhYmxlWm9uZSA9ICRozY9fYSldXV1dLFtcIi4uL2V4b3MvY2hhaW4taHViLmpzXCIsIFtbXCJtYWtlQ2hhaW5IdWJcIixbJGjNj19hID0+IChtYWtlQ2hhaW5IdWIgPSAkaM2PX2EpXV1dXSxbXCIuLi9leG9zL2Nvc21vcy1vcmNoZXN0cmF0aW9uLWFjY291bnQuanNcIiwgW1tcInByZXBhcmVDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudFwiLFskaM2PX2EgPT4gKHByZXBhcmVDb3Ntb3NPcmNoZXN0cmF0aW9uQWNjb3VudCA9ICRozY9fYSldXV1dLFtcIi4uL2V4b3MvbG9jYWwtY2hhaW4tZmFjYWRlLmpzXCIsIFtbXCJwcmVwYXJlTG9jYWxDaGFpbkZhY2FkZVwiLFskaM2PX2EgPT4gKHByZXBhcmVMb2NhbENoYWluRmFjYWRlID0gJGjNj19hKV1dXV0sW1wiLi4vZXhvcy9sb2NhbC1vcmNoZXN0cmF0aW9uLWFjY291bnQuanNcIiwgW1tcInByZXBhcmVMb2NhbE9yY2hlc3RyYXRpb25BY2NvdW50S2l0XCIsWyRozY9fYSA9PiAocHJlcGFyZUxvY2FsT3JjaGVzdHJhdGlvbkFjY291bnRLaXQgPSAkaM2PX2EpXV1dXSxbXCIuLi9leG9zL29yY2hlc3RyYXRvci5qc1wiLCBbW1wicHJlcGFyZU9yY2hlc3RyYXRvclwiLFskaM2PX2EgPT4gKHByZXBhcmVPcmNoZXN0cmF0b3IgPSAkaM2PX2EpXV1dXSxbXCIuLi9leG9zL3JlbW90ZS1jaGFpbi1mYWNhZGUuanNcIiwgW1tcInByZXBhcmVSZW1vdGVDaGFpbkZhY2FkZVwiLFskaM2PX2EgPT4gKHByZXBhcmVSZW1vdGVDaGFpbkZhY2FkZSA9ICRozY9fYSldXV1dLFtcIi4uL2ZhY2FkZS5qc1wiLCBbW1wibWFrZU9yY2hlc3RyYXRpb25GYWNhZGVcIixbJGjNj19hID0+IChtYWtlT3JjaGVzdHJhdGlvbkZhY2FkZSA9ICRozY9fYSldXV1dLFtcIi4vem9lLXRvb2xzLmpzXCIsIFtbXCJtYWtlWm9lVG9vbHNcIixbJGjNj19hID0+IChtYWtlWm9lVG9vbHMgPSAkaM2PX2EpXV1dXSxbXCIuL3pjZi10b29scy5qc1wiLCBbW1wibWFrZVpjZlRvb2xzXCIsWyRozY9fYSA9PiAobWFrZVpjZlRvb2xzID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJvdmlkZU9yY2hlc3RyYXRpb24gPSAoXG4gIHpjZixcbiAgYmFnZ2FnZSxcbiAgcmVtb3RlUG93ZXJzLFxuICBtYXJzaGFsbGVyLFxuICBvcHRzID0ge30sXG4pID0+IHtcbiAgLy9cbiAgY29uc3Qgem9uZXMgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHpvbmUgPSBtYWtlRHVyYWJsZVpvbmUoYmFnZ2FnZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGFzeW5jRmxvdzogem9uZS5zdWJab25lKCdhc3luY0Zsb3cnKSxcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIG9yY2hlc3RyYXRpb246IHpvbmUuc3ViWm9uZSgnb3JjaGVzdHJhdGlvbicpLFxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGNoYWluSHViOiB6b25lLnN1YlpvbmUoJ2NoYWluSHViJyksXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICB2b3dzOiB6b25lLnN1YlpvbmUoJ3Zvd3MnKSxcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb250cmFjdDogem9uZS5zdWJab25lKCdjb250cmFjdCcpLFxuICAgIH07XG4gIH0pKCk7XG5cbiAgY29uc3QgeyBhZ29yaWNOYW1lcywgdGltZXJTZXJ2aWNlLCBsb2NhbGNoYWluIH0gPSByZW1vdGVQb3dlcnM7XG5cbiAgY29uc3Qgdm93VG9vbHMgPSBwcmVwYXJlVm93VG9vbHMoem9uZXMudm93cyk7XG5cbiAgY29uc3QgY2hhaW5IdWIgPSBtYWtlQ2hhaW5IdWIoem9uZXMuY2hhaW5IdWIsIGFnb3JpY05hbWVzLCB2b3dUb29scywge1xuICAgIGNoYWluSW5mb1ZhbHVlU2hhcGU6IG9wdHMuY2hhaW5JbmZvVmFsdWVTaGFwZSxcbiAgfSk7XG5cbiAgY29uc3Qgem9lVG9vbHMgPSBtYWtlWm9lVG9vbHMoemNmLCB2b3dUb29scyk7XG5cbiAgY29uc3QgemNmVG9vbHMgPSBtYWtlWmNmVG9vbHMoemNmLCB2b3dUb29scyk7XG5cbiAgY29uc3QgeyBtYWtlUmVjb3JkZXJLaXQgfSA9IHByZXBhcmVSZWNvcmRlcktpdE1ha2VycyhiYWdnYWdlLCBtYXJzaGFsbGVyKTtcbiAgY29uc3QgbWFrZUxvY2FsT3JjaGVzdHJhdGlvbkFjY291bnRLaXQgPSBwcmVwYXJlTG9jYWxPcmNoZXN0cmF0aW9uQWNjb3VudEtpdChcbiAgICB6b25lcy5vcmNoZXN0cmF0aW9uLFxuICAgIHtcbiAgICAgIG1ha2VSZWNvcmRlcktpdCxcbiAgICAgIHpjZixcbiAgICAgIHRpbWVyU2VydmljZSxcbiAgICAgIHZvd1Rvb2xzLFxuICAgICAgY2hhaW5IdWIsXG4gICAgICBsb2NhbGNoYWluLFxuICAgICAgem9lVG9vbHMsXG4gICAgfSxcbiAgKTtcblxuICBjb25zdCBhc3luY0Zsb3dUb29scyA9IHByZXBhcmVBc3luY0Zsb3dUb29scyh6b25lcy5hc3luY0Zsb3csIHtcbiAgICB2b3dUb29scyxcbiAgfSk7XG5cbiAgY29uc3QgbWFrZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50ID0gcHJlcGFyZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50KFxuICAgIHpvbmVzLm9yY2hlc3RyYXRpb24sXG4gICAge1xuICAgICAgY2hhaW5IdWIsXG4gICAgICBtYWtlUmVjb3JkZXJLaXQsXG4gICAgICB0aW1lclNlcnZpY2UsXG4gICAgICB2b3dUb29scyxcbiAgICAgIHpjZixcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IG1ha2VSZW1vdGVDaGFpbkZhY2FkZSA9IHByZXBhcmVSZW1vdGVDaGFpbkZhY2FkZSh6b25lcy5vcmNoZXN0cmF0aW9uLCB7XG4gICAgbWFrZUNvc21vc09yY2hlc3RyYXRpb25BY2NvdW50LFxuICAgIG9yY2hlc3RyYXRpb246IHJlbW90ZVBvd2Vycy5vcmNoZXN0cmF0aW9uU2VydmljZSxcbiAgICBzdG9yYWdlTm9kZTogcmVtb3RlUG93ZXJzLnN0b3JhZ2VOb2RlLFxuICAgIHRpbWVyOiByZW1vdGVQb3dlcnMudGltZXJTZXJ2aWNlLFxuICAgIHZvd1Rvb2xzLFxuICB9KTtcblxuICBjb25zdCBtYWtlTG9jYWxDaGFpbkZhY2FkZSA9IHByZXBhcmVMb2NhbENoYWluRmFjYWRlKHpvbmVzLm9yY2hlc3RyYXRpb24sIHtcbiAgICBtYWtlTG9jYWxPcmNoZXN0cmF0aW9uQWNjb3VudEtpdCxcbiAgICBsb2NhbGNoYWluOiByZW1vdGVQb3dlcnMubG9jYWxjaGFpbixcbiAgICAvL1xuICAgIHN0b3JhZ2VOb2RlOiByZW1vdGVQb3dlcnMuc3RvcmFnZU5vZGUsXG4gICAgYWdvcmljTmFtZXMsXG4gICAgb3JjaGVzdHJhdGlvbjogcmVtb3RlUG93ZXJzLm9yY2hlc3RyYXRpb25TZXJ2aWNlLFxuICAgIHRpbWVyOiByZW1vdGVQb3dlcnMudGltZXJTZXJ2aWNlLFxuICAgIHZvd1Rvb2xzLFxuICB9KTtcblxuICBjb25zdCBtYWtlT3JjaGVzdHJhdG9yID0gcHJlcGFyZU9yY2hlc3RyYXRvcih6b25lcy5vcmNoZXN0cmF0aW9uLCB7XG4gICAgY2hhaW5IdWIsXG4gICAgbWFrZUxvY2FsQ2hhaW5GYWNhZGUsXG4gICAgbWFrZVJlbW90ZUNoYWluRmFjYWRlLFxuICAgIHZvd1Rvb2xzLFxuICB9KTtcblxuICAvKlxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgbWFrZU9yY2hlc3RyYXRlS2l0ID0gem9uZSA9PlxuICAgIG1ha2VPcmNoZXN0cmF0aW9uRmFjYWRlKHtcbiAgICAgIHpvbmUsXG4gICAgICB6Y2YsXG4gICAgICBtYWtlT3JjaGVzdHJhdG9yLFxuICAgICAgYXN5bmNGbG93VG9vbHMsXG4gICAgICB2b3dUb29scyxcbiAgICAgIC4uLnJlbW90ZVBvd2VycyxcbiAgICB9KTtcblxuICAvL1xuICBjb25zdCBkZWZhdWx0T3JjaGVzdHJhdGVLaXQgPSBtYWtlT3JjaGVzdHJhdGVLaXQoXG4gICAgem9uZXMuY29udHJhY3Quc3ViWm9uZSgnb3JjaGVzdHJhdGlvbicpLFxuICApO1xuXG4gIHpjZi5zZXRUZXN0SmlnKCgpID0+ICh7XG4gICAgYmFnZ2FnZSxcbiAgICBjaGFpbkh1YixcbiAgfSkpO1xuXG4gIHJldHVybiB7XG4gICAgLi4uZGVmYXVsdE9yY2hlc3RyYXRlS2l0LFxuICAgIG1ha2VPcmNoZXN0cmF0ZUtpdCxcbiAgICBiYWdnYWdlLFxuICAgIGNoYWluSHViLFxuICAgIHZvd1Rvb2xzLFxuICAgIGFzeW5jRmxvd1Rvb2xzLFxuICAgIHpjZlRvb2xzLFxuICAgIHpvZVRvb2xzLFxuICAgIHpvbmU6IHpvbmVzLmNvbnRyYWN0LFxuICB9O1xufTskaM2PX29uY2UucHJvdmlkZU9yY2hlc3RyYXRpb24ocHJvdmlkZU9yY2hlc3RyYXRpb24pO1xuaGFyZGVuKHByb3ZpZGVPcmNoZXN0cmF0aW9uKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCB3aXRoT3JjaGVzdHJhdGlvbiA9XG4gIChjb250cmFjdEZuLCBvcHRzKSA9PiBhc3luYyAoemNmLCBwcml2YXRlQXJncywgYmFnZ2FnZSkgPT4ge1xuICAgIGNvbnN0IHsgbWFyc2hhbGxlciwgLi4uYWxsT3JjaFBvd2VycyB9ID0gcHJpdmF0ZUFyZ3M7XG4gICAgY29uc3QgeyBzdG9yYWdlTm9kZTogXywgLi4ucmVxdWlyZWRPcmNoUG93ZXJzIH0gPSBhbGxPcmNoUG93ZXJzO1xuICAgIGNvbnN0IHsgcHVibGlzaEFjY291bnRJbmZvLCBjaGFpbkluZm9WYWx1ZVNoYXBlIH0gPSBvcHRzID8/IHt9O1xuICAgIGNvbnN0IHsgem9uZSwgLi4udG9vbHMgfSA9IHByb3ZpZGVPcmNoZXN0cmF0aW9uKFxuICAgICAgemNmLFxuICAgICAgYmFnZ2FnZSxcbiAgICAgIHB1Ymxpc2hBY2NvdW50SW5mbyA/IGFsbE9yY2hQb3dlcnMgOiByZXF1aXJlZE9yY2hQb3dlcnMsXG4gICAgICBtYXJzaGFsbGVyLFxuICAgICAgeyBjaGFpbkluZm9WYWx1ZVNoYXBlIH0sXG4gICAgKTtcbiAgICByZXR1cm4gY29udHJhY3RGbih6Y2YsIHByaXZhdGVBcmdzLCB6b25lLCB0b29scyk7XG4gIH07JGjNj19vbmNlLndpdGhPcmNoZXN0cmF0aW9uKHdpdGhPcmNoZXN0cmF0aW9uKTtcbmhhcmRlbih3aXRoT3JjaGVzdHJhdGlvbik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwcm92aWRlT3JjaGVzdHJhdGlvbiI6WyJwcm92aWRlT3JjaGVzdHJhdGlvbiJdLCJ3aXRoT3JjaGVzdHJhdGlvbiI6WyJ3aXRoT3JjaGVzdHJhdGlvbiJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAANI7HMsQkAALEJAAAuAAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvdGltZS5qc3siaW1wb3J0cyI6WyJAZW5kby9mYXIiLCJAYWdvcmljL3RpbWUiXSwiZXhwb3J0cyI6WyJNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORCIsIk5BTk9TRUNPTkRTX1BFUl9NSUxMSVNFQ09ORCIsIk5BTk9TRUNPTkRTX1BFUl9TRUNPTkQiLCJTRUNPTkRTX1BFUl9NSU5VVEUiLCJtYWtlVGltZXN0YW1wSGVscGVyIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRSxUaW1lTWF0aDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2ZhclwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3RpbWVcIiwgW1tcIlRpbWVNYXRoXCIsWyRozY9fYSA9PiAoVGltZU1hdGggPSAkaM2PX2EpXV1dXV0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShtYWtlVGltZXN0YW1wSGVscGVyLCduYW1lJyx7dmFsdWU6XCJtYWtlVGltZXN0YW1wSGVscGVyXCJ9KTskaM2PX29uY2UubWFrZVRpbWVzdGFtcEhlbHBlcihtYWtlVGltZXN0YW1wSGVscGVyKTtcblxuXG4vKlxuXG5cblxuXG5cbiAqL1xuXG4gICAgICAgY29uc3QgU0VDT05EU19QRVJfTUlOVVRFID0gNjBuOyRozY9fb25jZS5TRUNPTkRTX1BFUl9NSU5VVEUoU0VDT05EU19QRVJfTUlOVVRFKTtcbiAgICAgICBjb25zdCBNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORCA9IDEwMDBuOyRozY9fb25jZS5NSUxMSVNFQ09ORFNfUEVSX1NFQ09ORChNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORCk7XG4gICAgICAgY29uc3QgTkFOT1NFQ09ORFNfUEVSX01JTExJU0VDT05EID0gMV8wMDBfMDAwbjskaM2PX29uY2UuTkFOT1NFQ09ORFNfUEVSX01JTExJU0VDT05EKE5BTk9TRUNPTkRTX1BFUl9NSUxMSVNFQ09ORCk7XG4gICAgICAgY29uc3QgTkFOT1NFQ09ORFNfUEVSX1NFQ09ORCA9IDFfMDAwXzAwMF8wMDBuO1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLk5BTk9TRUNPTkRTX1BFUl9TRUNPTkQoTkFOT1NFQ09ORFNfUEVSX1NFQ09ORCk7XG4gICAgICAgZnVuY3Rpb24gbWFrZVRpbWVzdGFtcEhlbHBlcih0aW1lcikge1xuICBjb25zdCBzZWxmID0gaGFyZGVuKHtcbiAgICAvKlxuXG5cblxuXG5cblxuXG5cblxuICAgICAqL1xuICAgIGFzeW5jIGdldFRpbWVvdXRUaW1lc3RhbXBOUyhzZWNvbmRzSW5GdXR1cmUgPSBTRUNPTkRTX1BFUl9NSU5VVEUgKiA1bikge1xuICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBhd2FpdCBFKHRpbWVyKS5nZXRDdXJyZW50VGltZXN0YW1wKCk7XG4gICAgICBjb25zdCB0aW1lb3V0ID0gVGltZU1hdGguY29lcmNlUmVsYXRpdmVUaW1lUmVjb3JkKFxuICAgICAgICBzZWNvbmRzSW5GdXR1cmUsXG4gICAgICAgIGN1cnJlbnRUaW1lLnRpbWVyQnJhbmQsXG4gICAgICApO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgVGltZU1hdGguYWRkQWJzUmVsKGN1cnJlbnRUaW1lLCB0aW1lb3V0KS5hYnNWYWx1ZSAqXG4gICAgICAgIE5BTk9TRUNPTkRTX1BFUl9TRUNPTkRcbiAgICAgICk7XG4gICAgfSxcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIHZvd09yVmFsdWVGcm9tT3B0cyhvcHRzKSB7XG4gICAgICBpZiAob3B0cyAmJiAndGltZW91dFRpbWVzdGFtcCcgaW4gb3B0cykgcmV0dXJuIG9wdHMudGltZW91dFRpbWVzdGFtcDtcbiAgICAgIGlmIChvcHRzICYmICd0aW1lb3V0SGVpZ2h0JyBpbiBvcHRzKSByZXR1cm4gMG47XG4gICAgICByZXR1cm4gc2VsZi5nZXRUaW1lb3V0VGltZXN0YW1wTlMoXG4gICAgICAgIG9wdHMgJiYgJ3RpbWVvdXRSZWxhdGl2ZVNlY29uZHMnIGluIG9wdHNcbiAgICAgICAgICA/IG9wdHMudGltZW91dFJlbGF0aXZlU2Vjb25kc1xuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgKTtcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIHNlbGY7XG59XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiU0VDT05EU19QRVJfTUlOVVRFIjpbIlNFQ09ORFNfUEVSX01JTlVURSJdLCJNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORCI6WyJNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORCJdLCJOQU5PU0VDT05EU19QRVJfTUlMTElTRUNPTkQiOlsiTkFOT1NFQ09ORFNfUEVSX01JTExJU0VDT05EIl0sIk5BTk9TRUNPTkRTX1BFUl9TRUNPTkQiOlsiTkFOT1NFQ09ORFNfUEVSX1NFQ09ORCJdLCJtYWtlVGltZXN0YW1wSGVscGVyIjpbIm1ha2VUaW1lc3RhbXBIZWxwZXIiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAoOZ4LKkEAACpBAAAMwAAAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL3pjZi10b29scy5qc3siaW1wb3J0cyI6WyJAZW5kby9wYXR0ZXJucyJdLCJleHBvcnRzIjpbIm1ha2VaY2ZUb29scyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE0sbXVzdE1hdGNoOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dLFtcIm11c3RNYXRjaFwiLFskaM2PX2EgPT4gKG11c3RNYXRjaCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cbmNvbnN0IEhhbmRsZXJTaGFwZSA9IE0ucmVtb3RhYmxlKCdPZmZlckhhbmRsZXInKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VaY2ZUb29scyA9ICh6Y2YsIHZvd1Rvb2xzKSA9PlxuICBoYXJkZW4oe1xuICAgIG1ha2VJbnZpdGF0aW9uKG9mZmVySGFuZGxlciwgZGVzY3JpcHRpb24sIGN1c3RvbURldGFpbHMsIHByb3Bvc2FsU2hhcGUpIHtcbiAgICAgIG11c3RNYXRjaChvZmZlckhhbmRsZXIsIEhhbmRsZXJTaGFwZSk7XG4gICAgICByZXR1cm4gdm93VG9vbHMud2F0Y2goXG4gICAgICAgIHpjZi5tYWtlSW52aXRhdGlvbihcbiAgICAgICAgICBvZmZlckhhbmRsZXIsXG4gICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgY3VzdG9tRGV0YWlscyxcbiAgICAgICAgICBwcm9wb3NhbFNoYXBlLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9LFxuICAgIGF0b21pY1JlYXJyYW5nZSh0cmFuc2ZlcnMpIHtcbiAgICAgIHpjZi5hdG9taWNSZWFycmFuZ2UodHJhbnNmZXJzKTtcbiAgICB9LFxuICAgIGFzc2VydFVuaXF1ZUtleXdvcmQoa2V5d29yZCkge1xuICAgICAgemNmLmFzc2VydFVuaXF1ZUtleXdvcmQoa2V5d29yZCk7XG4gICAgfSxcbiAgfSk7JGjNj19vbmNlLm1ha2VaY2ZUb29scyhtYWtlWmNmVG9vbHMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVpjZlRvb2xzIjpbIm1ha2VaY2ZUb29scyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAB6HPr4kREAAJERAAAzAAAAQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvem9lLXRvb2xzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBhZ29yaWMvem9lL3NyYy9jb250cmFjdFN1cHBvcnQvaW5kZXguanMiLCJAZW5kby9mYXIiLCJAYWdvcmljL2ludGVybmFsIl0sImV4cG9ydHMiOlsibWFrZVpvZVRvb2xzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbWFrZUVycm9yLHEsRmFpbCxkZXBvc2l0VG9TZWF0LEUsbWFrZVRyYWNlcjskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy96b2Uvc3JjL2NvbnRyYWN0U3VwcG9ydC9pbmRleC5qc1wiLCBbW1wiZGVwb3NpdFRvU2VhdFwiLFskaM2PX2EgPT4gKGRlcG9zaXRUb1NlYXQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9pbnRlcm5hbFwiLCBbW1wibWFrZVRyYWNlclwiLFskaM2PX2EgPT4gKG1ha2VUcmFjZXIgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuY29uc3QgdHJhY2UgPSBtYWtlVHJhY2VyKCdab2VUb29scycpO1xuXG5jb25zdCB7IGFzc2lnbiwga2V5cywgdmFsdWVzIH0gPSBPYmplY3Q7XG5cbi8qXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG4gKi9cblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlWm9lVG9vbHMgPSAoemNmLCB7IHdoZW4sIGFsbFZvd3MsIGFsbFNldHRsZWQsIGFzVm93IH0pID0+IHtcbiAgLypcblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBsb2NhbFRyYW5zZmVyID0gKHNyY1NlYXQsIGxvY2FsQWNjb3VudCwgYW1vdW50cykgPT5cbiAgICBhc1Zvdyhhc3luYyAoKSA9PiB7XG4gICAgICAhc3JjU2VhdC5oYXNFeGl0ZWQoKSB8fCBGYWlsYFRoZSBzZWF0IGNhbm5vdCBoYXZlIGV4aXRlZC5gO1xuICAgICAgY29uc3QgeyB6Y2ZTZWF0OiB0ZW1wU2VhdCwgdXNlclNlYXQ6IHVzZXJTZWF0UCB9ID0gemNmLm1ha2VFbXB0eVNlYXRLaXQoKTtcbiAgICAgIGNvbnN0IHVzZXJTZWF0ID0gYXdhaXQgdXNlclNlYXRQO1xuICAgICAgemNmLmF0b21pY1JlYXJyYW5nZShoYXJkZW4oW1tzcmNTZWF0LCB0ZW1wU2VhdCwgYW1vdW50c11dKSk7XG4gICAgICB0ZW1wU2VhdC5leGl0KCk7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuXG4gICAgICAvL1xuICAgICAgY29uc3QgcGF5bWVudHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAga2V5cyhhbW91bnRzKS5tYXAoa3cgPT4gRSh1c2VyU2VhdCkuZ2V0UGF5b3V0KGt3KSksXG4gICAgICApO1xuICAgICAgY29uc3Qgc2V0dGxlRGVwb3NpdHMgPSBhd2FpdCB3aGVuKFxuICAgICAgICBhbGxTZXR0bGVkKHBheW1lbnRzLm1hcChwbXQgPT4gRShsb2NhbEFjY291bnQpLmRlcG9zaXQocG10KSkpLFxuICAgICAgKTtcbiAgICAgIC8vXG4gICAgICBpZiAoc2V0dGxlRGVwb3NpdHMuZmluZCh4ID0+IHguc3RhdHVzID09PSAncmVqZWN0ZWQnKSkge1xuICAgICAgICBjb25zdCBhbXRzID0gdmFsdWVzKGFtb3VudHMpO1xuICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgcGF5bWVudHNPcldpdGhkcmF3VnMgPSBzZXR0bGVEZXBvc2l0cy5tYXAoKHgsIGkpID0+IHtcbiAgICAgICAgICBpZiAoeC5zdGF0dXMgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHgucmVhc29uKTtcbiAgICAgICAgICAgIHJldHVybiBwYXltZW50c1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIEUobG9jYWxBY2NvdW50KS53aXRoZHJhdyhhbXRzW2ldKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgcGF5bWVudHNUb1JldHVybiA9IGF3YWl0IHdoZW4oYWxsVm93cyhwYXltZW50c09yV2l0aGRyYXdWcykpO1xuICAgICAgICBjb25zdCBwYXltZW50S3dyID0gaGFyZGVuKFxuICAgICAgICAgIGtleXMoYW1vdW50cykucmVkdWNlKFxuICAgICAgICAgICAgKGt3ciwga3csIGkpID0+IGFzc2lnbihrd3IsIHsgW2t3XTogcGF5bWVudHNUb1JldHVybltpXSB9KSxcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGRlcG9zaXRSZXNwb25zZSA9IGF3YWl0IGRlcG9zaXRUb1NlYXQoXG4gICAgICAgICAgemNmLFxuICAgICAgICAgIHNyY1NlYXQsXG4gICAgICAgICAgYW1vdW50cyxcbiAgICAgICAgICBwYXltZW50S3dyLFxuICAgICAgICApO1xuICAgICAgICB0cmFjZSgnbG9jYWxUcmFuc2ZlciBkZXBvc2l0UmVzcG9uc2UnLCBkZXBvc2l0UmVzcG9uc2UpO1xuICAgICAgICB0aHJvdyBtYWtlRXJyb3IoYE9uZSBvciBtb3JlIGRlcG9zaXRzIGZhaWxlZCAke3EoZXJyb3JzKX1gKTtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgfSk7XG5cbiAgLypcblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHdpdGhkcmF3VG9TZWF0ID0gKGxvY2FsQWNjb3VudCwgZGVzdFNlYXQsIGFtb3VudHMpID0+XG4gICAgYXNWb3coYXN5bmMgKCkgPT4ge1xuICAgICAgIWRlc3RTZWF0Lmhhc0V4aXRlZCgpIHx8IEZhaWxgVGhlIHNlYXQgY2Fubm90IGhhdmUgZXhpdGVkLmA7XG5cbiAgICAgIGNvbnN0IHNldHRsZWRXaXRoZHJhd2FscyA9IGF3YWl0IHdoZW4oXG4gICAgICAgIGFsbFNldHRsZWQodmFsdWVzKGFtb3VudHMpLm1hcChhbXQgPT4gRShsb2NhbEFjY291bnQpLndpdGhkcmF3KGFtdCkpKSxcbiAgICAgICk7XG5cbiAgICAgIC8vXG4gICAgICBpZiAoc2V0dGxlZFdpdGhkcmF3YWxzLmZpbmQoeCA9PiB4LnN0YXR1cyA9PT0gJ3JlamVjdGVkJykpIHtcbiAgICAgICAgY29uc3QgcmV0dXJuUGF5bWVudFZzID0gW107XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiBzZXR0bGVkV2l0aGRyYXdhbHMpIHtcbiAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpIHtcbiAgICAgICAgICAgIHJldHVyblBheW1lbnRWcy5wdXNoKEUobG9jYWxBY2NvdW50KS5kZXBvc2l0KHJlc3VsdC52YWx1ZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChyZXN1bHQucmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgd2hlbihhbGxWb3dzKHJldHVyblBheW1lbnRWcykpO1xuICAgICAgICB0aHJvdyBtYWtlRXJyb3IoYE9uZSBvciBtb3JlIHdpdGhkcmF3YWxzIGZhaWxlZCAke3EoZXJyb3JzKX1gKTtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICBjb25zdCBwYXltZW50S3dyID0gaGFyZGVuKFxuICAgICAgICBrZXlzKGFtb3VudHMpLnJlZHVjZShcbiAgICAgICAgICAoYWNjLCBrdywgaSkgPT5cbiAgICAgICAgICAgIGFzc2lnbihhY2MsIHtcbiAgICAgICAgICAgICAgW2t3XTogLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoc2V0dGxlZFdpdGhkcmF3YWxzKVtpXVxuICAgICAgICAgICAgICAgIC52YWx1ZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIHt9LFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGRlcG9zaXRSZXNwb25zZSA9IGF3YWl0IGRlcG9zaXRUb1NlYXQoXG4gICAgICAgIHpjZixcbiAgICAgICAgZGVzdFNlYXQsXG4gICAgICAgIGFtb3VudHMsXG4gICAgICAgIHBheW1lbnRLd3IsXG4gICAgICApO1xuICAgICAgdHJhY2UoJ3dpdGhkcmF3VG9TZWF0IGRlcG9zaXRSZXNwb25zZScsIGRlcG9zaXRSZXNwb25zZSk7XG4gICAgfSk7XG5cbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgbG9jYWxUcmFuc2ZlcixcbiAgICB3aXRoZHJhd1RvU2VhdCxcbiAgfSk7XG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLm1ha2Vab2VUb29scyhtYWtlWm9lVG9vbHMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVpvZVRvb2xzIjpbIm1ha2Vab2VUb29scyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABVDsIAow0AAKMNAAAhAAAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL2luZGV4LmpzeyJpbXBvcnRzIjpbIkBlbmRvL3BhdHRlcm5zIiwiLi9zdG9yZXMvc2NhbGFyV2Vha1NldFN0b3JlLmpzIiwiLi9zdG9yZXMvc2NhbGFyU2V0U3RvcmUuanMiLCIuL3N0b3Jlcy9zY2FsYXJXZWFrTWFwU3RvcmUuanMiLCIuL3N0b3Jlcy9zY2FsYXJNYXBTdG9yZS5qcyIsIi4vc3RvcmVzL3N0b3JlLXV0aWxzLmpzIiwiQGVuZG8vZXhvIiwiLi9sZWdhY3kvbGVnYWN5TWFwLmpzIiwiLi9sZWdhY3kvbGVnYWN5V2Vha01hcC5qcyIsIi4vdHlwZXMuanMiXSwiZXhwb3J0cyI6WyJhc3NlcnRLZXkiLCJhc3NlcnRLZXkiLCJkZWZpbmVFeG9DbGFzcyIsImRlZmluZUV4b0NsYXNzIiwibXVzdE1hdGNoIixudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsXSwicmVleHBvcnRzIjpbIi4vdHlwZXMuanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCB0eXBlbGVzc011c3RNYXRjaDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJtdXN0TWF0Y2hcIixbJGjNj19hID0+ICh0eXBlbGVzc011c3RNYXRjaCA9ICRozY9fYSldXV1dLFtcIi4vc3RvcmVzL3NjYWxhcldlYWtTZXRTdG9yZS5qc1wiLCBbXV0sW1wiLi9zdG9yZXMvc2NhbGFyU2V0U3RvcmUuanNcIiwgW11dLFtcIi4vc3RvcmVzL3NjYWxhcldlYWtNYXBTdG9yZS5qc1wiLCBbXV0sW1wiLi9zdG9yZXMvc2NhbGFyTWFwU3RvcmUuanNcIiwgW11dLFtcIi4vc3RvcmVzL3N0b3JlLXV0aWxzLmpzXCIsIFtdXSxbXCJAZW5kby9leG9cIiwgW11dLFtcIi4vbGVnYWN5L2xlZ2FjeU1hcC5qc1wiLCBbXV0sW1wiLi9sZWdhY3kvbGVnYWN5V2Vha01hcC5qc1wiLCBbXV0sW1wiLi90eXBlcy5qc1wiLCBbXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLy9cbi8vXG4vKiAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBtdXN0TWF0Y2ggPSB0eXBlbGVzc011c3RNYXRjaDskaM2PX29uY2UubXVzdE1hdGNoKG11c3RNYXRjaCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL3N0b3Jlcy9zY2FsYXJXZWFrU2V0U3RvcmUuanMiOltbIm1ha2VTY2FsYXJXZWFrU2V0U3RvcmUiLCJtYWtlU2NhbGFyV2Vha1NldFN0b3JlIl1dLCIuL3N0b3Jlcy9zY2FsYXJTZXRTdG9yZS5qcyI6W1sibWFrZVNjYWxhclNldFN0b3JlIiwibWFrZVNjYWxhclNldFN0b3JlIl1dLCIuL3N0b3Jlcy9zY2FsYXJXZWFrTWFwU3RvcmUuanMiOltbIm1ha2VTY2FsYXJXZWFrTWFwU3RvcmUiLCJtYWtlU2NhbGFyV2Vha01hcFN0b3JlIl1dLCIuL3N0b3Jlcy9zY2FsYXJNYXBTdG9yZS5qcyI6W1sibWFrZVNjYWxhck1hcFN0b3JlIiwibWFrZVNjYWxhck1hcFN0b3JlIl1dLCIuL3N0b3Jlcy9zdG9yZS11dGlscy5qcyI6W1sicHJvdmlkZUxhenkiLCJwcm92aWRlTGF6eSJdXSwiQGVuZG8vcGF0dGVybnMiOltbImlzS2V5IiwiaXNLZXkiXSxbImFzc2VydEtleSIsImFzc2VydEtleSJdLFsiYXNzZXJ0U2NhbGFyS2V5IiwiYXNzZXJ0U2NhbGFyS2V5Il0sWyJtYWtlQ29weVNldCIsIm1ha2VDb3B5U2V0Il0sWyJnZXRDb3B5U2V0S2V5cyIsImdldENvcHlTZXRLZXlzIl0sWyJtYWtlQ29weUJhZyIsIm1ha2VDb3B5QmFnIl0sWyJtYWtlQ29weUJhZ0Zyb21FbGVtZW50cyIsIm1ha2VDb3B5QmFnRnJvbUVsZW1lbnRzIl0sWyJnZXRDb3B5QmFnRW50cmllcyIsImdldENvcHlCYWdFbnRyaWVzIl0sWyJtYWtlQ29weU1hcCIsIm1ha2VDb3B5TWFwIl0sWyJnZXRDb3B5TWFwRW50cmllcyIsImdldENvcHlNYXBFbnRyaWVzIl0sWyJjb2VyY2VUb0VsZW1lbnRzIiwiY29lcmNlVG9FbGVtZW50cyJdLFsiY29lcmNlVG9CYWdFbnRyaWVzIiwiY29lcmNlVG9CYWdFbnRyaWVzIl0sWyJjb21wYXJlS2V5cyIsImNvbXBhcmVLZXlzIl0sWyJrZXlMVCIsImtleUxUIl0sWyJrZXlMVEUiLCJrZXlMVEUiXSxbImtleUVRIiwia2V5RVEiXSxbImtleUdURSIsImtleUdURSJdLFsia2V5R1QiLCJrZXlHVCJdLFsiZWxlbWVudHNJc1N1cGVyc2V0IiwiZWxlbWVudHNJc1N1cGVyc2V0Il0sWyJlbGVtZW50c0lzRGlzam9pbnQiLCJlbGVtZW50c0lzRGlzam9pbnQiXSxbImVsZW1lbnRzQ29tcGFyZSIsImVsZW1lbnRzQ29tcGFyZSJdLFsiZWxlbWVudHNVbmlvbiIsImVsZW1lbnRzVW5pb24iXSxbImVsZW1lbnRzRGlzam9pbnRVbmlvbiIsImVsZW1lbnRzRGlzam9pbnRVbmlvbiJdLFsiZWxlbWVudHNJbnRlcnNlY3Rpb24iLCJlbGVtZW50c0ludGVyc2VjdGlvbiJdLFsiZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0IiwiZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0Il0sWyJzZXRJc1N1cGVyc2V0Iiwic2V0SXNTdXBlcnNldCJdLFsic2V0SXNEaXNqb2ludCIsInNldElzRGlzam9pbnQiXSxbInNldENvbXBhcmUiLCJzZXRDb21wYXJlIl0sWyJzZXRVbmlvbiIsInNldFVuaW9uIl0sWyJzZXREaXNqb2ludFVuaW9uIiwic2V0RGlzam9pbnRVbmlvbiJdLFsic2V0SW50ZXJzZWN0aW9uIiwic2V0SW50ZXJzZWN0aW9uIl0sWyJzZXREaXNqb2ludFN1YnRyYWN0Iiwic2V0RGlzam9pbnRTdWJ0cmFjdCJdLFsiYmFnSXNTdXBlcmJhZyIsImJhZ0lzU3VwZXJiYWciXSxbImJhZ0NvbXBhcmUiLCJiYWdDb21wYXJlIl0sWyJiYWdVbmlvbiIsImJhZ1VuaW9uIl0sWyJiYWdJbnRlcnNlY3Rpb24iLCJiYWdJbnRlcnNlY3Rpb24iXSxbImJhZ0Rpc2pvaW50U3VidHJhY3QiLCJiYWdEaXNqb2ludFN1YnRyYWN0Il0sWyJNIiwiTSJdLFsiZ2V0UmFua0NvdmVyIiwiZ2V0UmFua0NvdmVyIl0sWyJpc1BhdHRlcm4iLCJpc1BhdHRlcm4iXSxbImFzc2VydFBhdHRlcm4iLCJhc3NlcnRQYXR0ZXJuIl0sWyJtYXRjaGVzIiwibWF0Y2hlcyJdLFsiaXNDb3B5U2V0IiwiaXNDb3B5U2V0Il0sWyJpc0NvcHlNYXAiLCJpc0NvcHlNYXAiXV0sIkBlbmRvL2V4byI6W1siaW5pdEVtcHR5IiwiaW5pdEVtcHR5Il0sWyJkZWZpbmVFeG9DbGFzcyIsImRlZmluZUV4b0NsYXNzIl0sWyJkZWZpbmVFeG9DbGFzc0tpdCIsImRlZmluZUV4b0NsYXNzS2l0Il0sWyJtYWtlRXhvIiwibWFrZUV4byJdXSwiLi9sZWdhY3kvbGVnYWN5TWFwLmpzIjpbWyJtYWtlTGVnYWN5TWFwIiwibWFrZUxlZ2FjeU1hcCJdXSwiLi9sZWdhY3kvbGVnYWN5V2Vha01hcC5qcyI6W1sibWFrZUxlZ2FjeVdlYWtNYXAiLCJtYWtlTGVnYWN5V2Vha01hcCJdXX0sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtdXN0TWF0Y2giOlsibXVzdE1hdGNoIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAMMzhvT6BQAA+gUAACwAAABAYWdvcmljL3N0b3JlLXYwLjkuMi9zcmMvbGVnYWN5L2xlZ2FjeU1hcC5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiXSwiZXhwb3J0cyI6WyJtYWtlTGVnYWN5TWFwIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxxOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VMZWdhY3lNYXAgPSAodGFnID0gJ2tleScpID0+IHtcbiAgY29uc3QgbSA9IG5ldyBNYXAoKTtcbiAgY29uc3QgYXNzZXJ0S2V5RG9lc05vdEV4aXN0ID0ga2V5ID0+XG4gICAgIW0uaGFzKGtleSkgfHwgRmFpbGAke3EodGFnKX0gYWxyZWFkeSByZWdpc3RlcmVkOiAke2tleX1gO1xuICBjb25zdCBhc3NlcnRLZXlFeGlzdHMgPSBrZXkgPT5cbiAgICBtLmhhcyhrZXkpIHx8IEZhaWxgJHtxKHRhZyl9IG5vdCBmb3VuZDogJHtrZXl9YDtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgaGFzOiBrZXkgPT4ge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIG0uaGFzKGtleSk7XG4gICAgfSxcbiAgICBpbml0OiAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgYXNzZXJ0S2V5RG9lc05vdEV4aXN0KGtleSk7XG4gICAgICBtLnNldChrZXksIHZhbHVlKTtcbiAgICB9LFxuICAgIGdldDoga2V5ID0+IHtcbiAgICAgIGFzc2VydEtleUV4aXN0cyhrZXkpO1xuICAgICAgcmV0dXJuIG0uZ2V0KGtleSk7XG4gICAgfSxcbiAgICBzZXQ6IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICBhc3NlcnRLZXlFeGlzdHMoa2V5KTtcbiAgICAgIG0uc2V0KGtleSwgdmFsdWUpO1xuICAgIH0sXG4gICAgZGVsZXRlOiBrZXkgPT4ge1xuICAgICAgYXNzZXJ0S2V5RXhpc3RzKGtleSk7XG4gICAgICBtLmRlbGV0ZShrZXkpO1xuICAgIH0sXG4gICAga2V5czogKCkgPT4gbS5rZXlzKCksXG4gICAgdmFsdWVzOiAoKSA9PiBtLnZhbHVlcygpLFxuICAgIGVudHJpZXM6ICgpID0+IG0uZW50cmllcygpLFxuICAgIGdldFNpemU6ICgpID0+IG0uc2l6ZSxcbiAgICBjbGVhcjogKCkgPT4gbS5jbGVhcigpLFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VMZWdhY3lNYXAobWFrZUxlZ2FjeU1hcCk7XG5oYXJkZW4obWFrZUxlZ2FjeU1hcCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlTGVnYWN5TWFwIjpbIm1ha2VMZWdhY3lNYXAiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAAxezG6IFAACiBQAAMAAAAEBhZ29yaWMvc3RvcmUtdjAuOS4yL3NyYy9sZWdhY3kvbGVnYWN5V2Vha01hcC5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiXSwiZXhwb3J0cyI6WyJtYWtlTGVnYWN5V2Vha01hcCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwscTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUxlZ2FjeVdlYWtNYXAgPSAodGFnID0gJ2tleScpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB3bSA9IG5ldyBXZWFrTWFwKCk7XG4gIGNvbnN0IGFzc2VydEtleURvZXNOb3RFeGlzdCA9IGtleSA9PlxuICAgICF3bS5oYXMoa2V5KSB8fCBGYWlsYCR7cSh0YWcpfSBhbHJlYWR5IHJlZ2lzdGVyZWQ6ICR7a2V5fWA7XG4gIGNvbnN0IGFzc2VydEtleUV4aXN0cyA9IGtleSA9PlxuICAgIHdtLmhhcyhrZXkpIHx8IEZhaWxgJHtxKHRhZyl9IG5vdCBmb3VuZDogJHtrZXl9YDtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgaGFzOiBrZXkgPT4ge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIHdtLmhhcyhrZXkpO1xuICAgIH0sXG4gICAgaW5pdDogKGtleSwgdmFsdWUpID0+IHtcbiAgICAgIGFzc2VydEtleURvZXNOb3RFeGlzdChrZXkpO1xuICAgICAgd20uc2V0KGtleSwgdmFsdWUpO1xuICAgIH0sXG4gICAgZ2V0OiBrZXkgPT4ge1xuICAgICAgYXNzZXJ0S2V5RXhpc3RzKGtleSk7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIC8qICAgICAgICAgICAgKi8gKHdtLmdldChrZXkpKTtcbiAgICB9LFxuICAgIHNldDogKGtleSwgdmFsdWUpID0+IHtcbiAgICAgIGFzc2VydEtleUV4aXN0cyhrZXkpO1xuICAgICAgd20uc2V0KGtleSwgdmFsdWUpO1xuICAgIH0sXG4gICAgZGVsZXRlOiBrZXkgPT4ge1xuICAgICAgYXNzZXJ0S2V5RXhpc3RzKGtleSk7XG4gICAgICB3bS5kZWxldGUoa2V5KTtcbiAgICB9LFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VMZWdhY3lXZWFrTWFwKG1ha2VMZWdhY3lXZWFrTWFwKTtcbmhhcmRlbihtYWtlTGVnYWN5V2Vha01hcCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlTGVnYWN5V2Vha01hcCI6WyJtYWtlTGVnYWN5V2Vha01hcCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACGpoxiARMAAAETAAAxAAAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zY2FsYXJNYXBTdG9yZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vbWFyc2hhbCIsIkBlbmRvL3BhdHRlcm5zIiwiLi9zY2FsYXJXZWFrTWFwU3RvcmUuanMiLCIuL3N0b3JlLXV0aWxzLmpzIl0sImV4cG9ydHMiOlsibWFrZU1hcFN0b3JlTWV0aG9kcyIsIm1ha2VTY2FsYXJNYXBTdG9yZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHEsRmFyLGFzc2VydFBhc3NhYmxlLGZpbHRlckl0ZXJhYmxlLG1hcEl0ZXJhYmxlLGNvbXBhcmVSYW5rLGFzc2VydFNjYWxhcktleSxtYWtlQ29weU1hcCxtYXRjaGVzLG11c3RNYXRjaCxhc3NlcnRQYXR0ZXJuLG1ha2VXZWFrTWFwU3RvcmVNZXRob2RzLG1ha2VDdXJyZW50S2V5c0tpdDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV0sW1wiYXNzZXJ0UGFzc2FibGVcIixbJGjNj19hID0+IChhc3NlcnRQYXNzYWJsZSA9ICRozY9fYSldXSxbXCJmaWx0ZXJJdGVyYWJsZVwiLFskaM2PX2EgPT4gKGZpbHRlckl0ZXJhYmxlID0gJGjNj19hKV1dLFtcIm1hcEl0ZXJhYmxlXCIsWyRozY9fYSA9PiAobWFwSXRlcmFibGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJjb21wYXJlUmFua1wiLFskaM2PX2EgPT4gKGNvbXBhcmVSYW5rID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcImFzc2VydFNjYWxhcktleVwiLFskaM2PX2EgPT4gKGFzc2VydFNjYWxhcktleSA9ICRozY9fYSldXSxbXCJtYWtlQ29weU1hcFwiLFskaM2PX2EgPT4gKG1ha2VDb3B5TWFwID0gJGjNj19hKV1dLFtcIm1hdGNoZXNcIixbJGjNj19hID0+IChtYXRjaGVzID0gJGjNj19hKV1dLFtcIm11c3RNYXRjaFwiLFskaM2PX2EgPT4gKG11c3RNYXRjaCA9ICRozY9fYSldXSxbXCJhc3NlcnRQYXR0ZXJuXCIsWyRozY9fYSA9PiAoYXNzZXJ0UGF0dGVybiA9ICRozY9fYSldXV1dLFtcIi4vc2NhbGFyV2Vha01hcFN0b3JlLmpzXCIsIFtbXCJtYWtlV2Vha01hcFN0b3JlTWV0aG9kc1wiLFskaM2PX2EgPT4gKG1ha2VXZWFrTWFwU3RvcmVNZXRob2RzID0gJGjNj19hKV1dXV0sW1wiLi9zdG9yZS11dGlscy5qc1wiLCBbW1wibWFrZUN1cnJlbnRLZXlzS2l0XCIsWyRozY9fYSA9PiAobWFrZUN1cnJlbnRLZXlzS2l0ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZU1hcFN0b3JlTWV0aG9kcyA9IChcbiAganNtYXAsXG4gIGFzc2VydEtWT2tUb0FkZCxcbiAgYXNzZXJ0S1ZPa1RvU2V0LFxuICBhc3NlcnRLZXlPa1RvRGVsZXRlID0gdW5kZWZpbmVkLFxuICB0YWcgPSAna2V5JyxcbikgPT4ge1xuICBjb25zdCB7IGFzc2VydFVwZGF0ZU9uQWRkLCBhc3NlcnRVcGRhdGVPbkRlbGV0ZSwgaXRlcmFibGVLZXlzIH0gPVxuICAgIG1ha2VDdXJyZW50S2V5c0tpdChcbiAgICAgICgpID0+IGpzbWFwLmtleXMoKSxcbiAgICAgIGsgPT4ganNtYXAuaGFzKGspLFxuICAgICAgY29tcGFyZVJhbmssXG4gICAgICBhc3NlcnRLVk9rVG9BZGQsXG4gICAgICBhc3NlcnRLZXlPa1RvRGVsZXRlLFxuICAgICAgdGFnLFxuICAgICk7XG5cbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IGtleXMgPSAoa2V5UGF0dCA9IHVuZGVmaW5lZCwgdmFsdWVQYXR0ID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKGtleVBhdHQgPT09IHVuZGVmaW5lZCAmJiB2YWx1ZVBhdHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlS2V5cztcbiAgICB9XG4gICAgY29uc3QgZmlsdGVyID0gayA9PiB7XG4gICAgICBpZiAoa2V5UGF0dCAhPT0gdW5kZWZpbmVkICYmICFtYXRjaGVzKGssIGtleVBhdHQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICBpZiAodmFsdWVQYXR0ICE9PSB1bmRlZmluZWQgJiYgIW1hdGNoZXMoanNtYXAuZ2V0KGspLCB2YWx1ZVBhdHQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIGZpbHRlckl0ZXJhYmxlKGl0ZXJhYmxlS2V5cywgZmlsdGVyKTtcbiAgfTtcblxuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgdmFsdWVzID0gKGtleVBhdHQgPSB1bmRlZmluZWQsIHZhbHVlUGF0dCA9IHVuZGVmaW5lZCkgPT5cbiAgICBtYXBJdGVyYWJsZShrZXlzKGtleVBhdHQsIHZhbHVlUGF0dCksIGsgPT4gLyogICAgICAgICAgICAqLyAoanNtYXAuZ2V0KGspKSk7XG5cbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IGVudHJpZXMgPSAoa2V5UGF0dCA9IHVuZGVmaW5lZCwgdmFsdWVQYXR0ID0gdW5kZWZpbmVkKSA9PlxuICAgIG1hcEl0ZXJhYmxlKGtleXMoa2V5UGF0dCwgdmFsdWVQYXR0KSwgayA9PiBbXG4gICAgICBrLFxuICAgICAgLyogICAgICAgICAgICAqLyAoanNtYXAuZ2V0KGspKSxcbiAgICBdKTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICAuLi5tYWtlV2Vha01hcFN0b3JlTWV0aG9kcyhcbiAgICAgIGpzbWFwLFxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGFzc2VydFVwZGF0ZU9uQWRkKSxcbiAgICAgIGFzc2VydEtWT2tUb1NldCxcbiAgICAgIGFzc2VydFVwZGF0ZU9uRGVsZXRlLFxuICAgICAgdGFnLFxuICAgICksXG4gICAga2V5cyxcbiAgICB2YWx1ZXMsXG4gICAgZW50cmllcyxcblxuICAgIHNuYXBzaG90OiAoa2V5UGF0dCA9IHVuZGVmaW5lZCwgdmFsdWVQYXR0ID0gdW5kZWZpbmVkKSA9PlxuICAgICAgbWFrZUNvcHlNYXAoZW50cmllcyhrZXlQYXR0LCB2YWx1ZVBhdHQpKSxcblxuICAgIGdldFNpemU6IChrZXlQYXR0ID0gdW5kZWZpbmVkLCB2YWx1ZVBhdHQgPSB1bmRlZmluZWQpID0+XG4gICAgICBrZXlQYXR0ID09PSB1bmRlZmluZWQgJiYgdmFsdWVQYXR0ID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBqc21hcC5zaXplXG4gICAgICAgIDogWy4uLmtleXMoa2V5UGF0dCwgdmFsdWVQYXR0KV0ubGVuZ3RoLFxuXG4gICAgY2xlYXI6IChrZXlQYXR0ID0gdW5kZWZpbmVkLCB2YWx1ZVBhdHQgPSB1bmRlZmluZWQpID0+IHtcbiAgICAgIGlmIChrZXlQYXR0ID09PSB1bmRlZmluZWQgJiYgdmFsdWVQYXR0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAganNtYXAuY2xlYXIoKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMoa2V5UGF0dCwgdmFsdWVQYXR0KSkge1xuICAgICAgICBqc21hcC5kZWxldGUoa2V5KTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UubWFrZU1hcFN0b3JlTWV0aG9kcyhtYWtlTWFwU3RvcmVNZXRob2RzKTtcbiAgICAgICBjb25zdCBtYWtlU2NhbGFyTWFwU3RvcmUgPSAoXG4gIHRhZyA9ICdrZXknLFxuICB7IGtleVNoYXBlID0gdW5kZWZpbmVkLCB2YWx1ZVNoYXBlID0gdW5kZWZpbmVkIH0gPSB7fSxcbikgPT4ge1xuICBjb25zdCBqc21hcCA9IG5ldyBNYXAoKTtcbiAgaWYgKGtleVNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICBhc3NlcnRQYXR0ZXJuKGtleVNoYXBlKTtcbiAgfVxuICBpZiAodmFsdWVTaGFwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYXNzZXJ0UGF0dGVybih2YWx1ZVNoYXBlKTtcbiAgfVxuXG4gIGNvbnN0IGFzc2VydEtWT2tUb1NldCA9IChfa2V5LCB2YWx1ZSkgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICBoYXJkZW4odmFsdWUpO1xuXG4gICAgYXNzZXJ0UGFzc2FibGUodmFsdWUpO1xuICAgIGlmICh2YWx1ZVNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG11c3RNYXRjaCh2YWx1ZSwgdmFsdWVTaGFwZSwgJ21hcFN0b3JlIHZhbHVlJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGFzc2VydEtWT2tUb0FkZCA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGhhcmRlbihrZXkpO1xuXG4gICAgYXNzZXJ0U2NhbGFyS2V5KGtleSk7XG4gICAgaWYgKGtleVNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG11c3RNYXRjaChrZXksIGtleVNoYXBlLCAnbWFwU3RvcmUga2V5Jyk7XG4gICAgfVxuICAgIGFzc2VydEtWT2tUb1NldChrZXksIHZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gRmFyKGBzY2FsYXIgTWFwU3RvcmUgb2YgJHtxKHRhZyl9YCwge1xuICAgIC4uLm1ha2VNYXBTdG9yZU1ldGhvZHMoXG4gICAgICBqc21hcCxcbiAgICAgIGFzc2VydEtWT2tUb0FkZCxcbiAgICAgIGFzc2VydEtWT2tUb1NldCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHRhZyxcbiAgICApLFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VTY2FsYXJNYXBTdG9yZShtYWtlU2NhbGFyTWFwU3RvcmUpO1xuaGFyZGVuKG1ha2VTY2FsYXJNYXBTdG9yZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlTWFwU3RvcmVNZXRob2RzIjpbIm1ha2VNYXBTdG9yZU1ldGhvZHMiXSwibWFrZVNjYWxhck1hcFN0b3JlIjpbIm1ha2VTY2FsYXJNYXBTdG9yZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAC6QDqcDQ0AAA0NAAAxAAAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zY2FsYXJTZXRTdG9yZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vbWFyc2hhbCIsIkBlbmRvL3BhdHRlcm5zIiwiLi9zY2FsYXJXZWFrU2V0U3RvcmUuanMiLCIuL3N0b3JlLXV0aWxzLmpzIl0sImV4cG9ydHMiOlsibWFrZVNjYWxhclNldFN0b3JlIiwibWFrZVNldFN0b3JlTWV0aG9kcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHEsRmFyLGZpbHRlckl0ZXJhYmxlLGNvbXBhcmVSYW5rLGFzc2VydFNjYWxhcktleSxtYWtlQ29weVNldCxtYXRjaGVzLG11c3RNYXRjaCxhc3NlcnRQYXR0ZXJuLG1ha2VXZWFrU2V0U3RvcmVNZXRob2RzLG1ha2VDdXJyZW50S2V5c0tpdDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV0sW1wiZmlsdGVySXRlcmFibGVcIixbJGjNj19hID0+IChmaWx0ZXJJdGVyYWJsZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL21hcnNoYWxcIiwgW1tcImNvbXBhcmVSYW5rXCIsWyRozY9fYSA9PiAoY29tcGFyZVJhbmsgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiYXNzZXJ0U2NhbGFyS2V5XCIsWyRozY9fYSA9PiAoYXNzZXJ0U2NhbGFyS2V5ID0gJGjNj19hKV1dLFtcIm1ha2VDb3B5U2V0XCIsWyRozY9fYSA9PiAobWFrZUNvcHlTZXQgPSAkaM2PX2EpXV0sW1wibWF0Y2hlc1wiLFskaM2PX2EgPT4gKG1hdGNoZXMgPSAkaM2PX2EpXV0sW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dLFtcImFzc2VydFBhdHRlcm5cIixbJGjNj19hID0+IChhc3NlcnRQYXR0ZXJuID0gJGjNj19hKV1dXV0sW1wiLi9zY2FsYXJXZWFrU2V0U3RvcmUuanNcIiwgW1tcIm1ha2VXZWFrU2V0U3RvcmVNZXRob2RzXCIsWyRozY9fYSA9PiAobWFrZVdlYWtTZXRTdG9yZU1ldGhvZHMgPSAkaM2PX2EpXV1dXSxbXCIuL3N0b3JlLXV0aWxzLmpzXCIsIFtbXCJtYWtlQ3VycmVudEtleXNLaXRcIixbJGjNj19hID0+IChtYWtlQ3VycmVudEtleXNLaXQgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VTZXRTdG9yZU1ldGhvZHMgPSAoXG4gIGpzc2V0LFxuICBhc3NlcnRLZXlPa1RvQWRkLFxuICBhc3NlcnRLZXlPa1RvRGVsZXRlID0gdW5kZWZpbmVkLFxuICBrZXlOYW1lID0gJ2tleScsXG4pID0+IHtcbiAgY29uc3QgeyBhc3NlcnRVcGRhdGVPbkFkZCwgYXNzZXJ0VXBkYXRlT25EZWxldGUsIGl0ZXJhYmxlS2V5cyB9ID1cbiAgICBtYWtlQ3VycmVudEtleXNLaXQoXG4gICAgICAoKSA9PiBqc3NldC5rZXlzKCksXG4gICAgICBrID0+IGpzc2V0LmhhcyhrKSxcbiAgICAgIGNvbXBhcmVSYW5rLFxuICAgICAgYXNzZXJ0S2V5T2tUb0FkZCxcbiAgICAgIGFzc2VydEtleU9rVG9EZWxldGUsXG4gICAgICBrZXlOYW1lLFxuICAgICk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBrZXlzID0gKGtleVBhdHQgPSB1bmRlZmluZWQpID0+XG4gICAga2V5UGF0dCA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGl0ZXJhYmxlS2V5c1xuICAgICAgOiBmaWx0ZXJJdGVyYWJsZShpdGVyYWJsZUtleXMsIGsgPT4gbWF0Y2hlcyhrLCBrZXlQYXR0KSk7XG5cbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgLi4ubWFrZVdlYWtTZXRTdG9yZU1ldGhvZHMoXG4gICAgICBqc3NldCxcbiAgICAgIGFzc2VydFVwZGF0ZU9uQWRkLFxuICAgICAgYXNzZXJ0VXBkYXRlT25EZWxldGUsXG4gICAgICBrZXlOYW1lLFxuICAgICksXG5cbiAgICBrZXlzLFxuXG4gICAgdmFsdWVzOiBrZXlzLFxuXG4gICAgc25hcHNob3Q6IChrZXlQYXR0ID0gdW5kZWZpbmVkKSA9PiBtYWtlQ29weVNldChrZXlzKGtleVBhdHQpKSxcblxuICAgIGdldFNpemU6IChrZXlQYXR0ID0gdW5kZWZpbmVkKSA9PlxuICAgICAga2V5UGF0dCA9PT0gdW5kZWZpbmVkID8ganNzZXQuc2l6ZSA6IFsuLi5rZXlzKGtleVBhdHQpXS5sZW5ndGgsXG5cbiAgICBjbGVhcjogKGtleVBhdHQgPSB1bmRlZmluZWQpID0+IHtcbiAgICAgIGlmIChrZXlQYXR0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAganNzZXQuY2xlYXIoKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMoa2V5UGF0dCkpIHtcbiAgICAgICAganNzZXQuZGVsZXRlKGtleSk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlU2V0U3RvcmVNZXRob2RzKG1ha2VTZXRTdG9yZU1ldGhvZHMpO1xuICAgICAgIGNvbnN0IG1ha2VTY2FsYXJTZXRTdG9yZSA9IChcbiAgdGFnID0gJ2tleScsXG4gIHsga2V5U2hhcGUgPSB1bmRlZmluZWQgfSA9IHt9LFxuKSA9PiB7XG4gIGNvbnN0IGpzc2V0ID0gbmV3IFNldCgpO1xuICBpZiAoa2V5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGFzc2VydFBhdHRlcm4oa2V5U2hhcGUpO1xuICB9XG5cbiAgY29uc3QgYXNzZXJ0S2V5T2tUb0FkZCA9IGtleSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGhhcmRlbihrZXkpO1xuXG4gICAgYXNzZXJ0U2NhbGFyS2V5KGtleSk7XG4gICAgaWYgKGtleVNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG11c3RNYXRjaChrZXksIGtleVNoYXBlLCAnc2V0U3RvcmUga2V5Jyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBGYXIoYHNjYWxhciBTZXRTdG9yZSBvZiAke3EodGFnKX1gLCB7XG4gICAgLi4ubWFrZVNldFN0b3JlTWV0aG9kcyhqc3NldCwgYXNzZXJ0S2V5T2tUb0FkZCwgdW5kZWZpbmVkLCB0YWcpLFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VTY2FsYXJTZXRTdG9yZShtYWtlU2NhbGFyU2V0U3RvcmUpO1xuaGFyZGVuKG1ha2VTY2FsYXJTZXRTdG9yZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlU2V0U3RvcmVNZXRob2RzIjpbIm1ha2VTZXRTdG9yZU1ldGhvZHMiXSwibWFrZVNjYWxhclNldFN0b3JlIjpbIm1ha2VTY2FsYXJTZXRTdG9yZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABZuWC6xA8AAMQPAAA1AAAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zY2FsYXJXZWFrTWFwU3RvcmUuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vcGFzcy1zdHlsZSIsIkBlbmRvL3BhdHRlcm5zIl0sImV4cG9ydHMiOlsibWFrZVNjYWxhcldlYWtNYXBTdG9yZSIsIm1ha2VXZWFrTWFwU3RvcmVNZXRob2RzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgcSxGYWlsLEZhcixhc3NlcnRQYXNzYWJsZSxwYXNzU3R5bGVPZixnZXRDb3B5TWFwRW50cmllcyxtdXN0TWF0Y2gsYXNzZXJ0UGF0dGVybixpc0NvcHlNYXA7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dLFtcImFzc2VydFBhc3NhYmxlXCIsWyRozY9fYSA9PiAoYXNzZXJ0UGFzc2FibGUgPSAkaM2PX2EpXV0sW1wicGFzc1N0eWxlT2ZcIixbJGjNj19hID0+IChwYXNzU3R5bGVPZiA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJnZXRDb3B5TWFwRW50cmllc1wiLFskaM2PX2EgPT4gKGdldENvcHlNYXBFbnRyaWVzID0gJGjNj19hKV1dLFtcIm11c3RNYXRjaFwiLFskaM2PX2EgPT4gKG11c3RNYXRjaCA9ICRozY9fYSldXSxbXCJhc3NlcnRQYXR0ZXJuXCIsWyRozY9fYSA9PiAoYXNzZXJ0UGF0dGVybiA9ICRozY9fYSldXSxbXCJpc0NvcHlNYXBcIixbJGjNj19hID0+IChpc0NvcHlNYXAgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlV2Vha01hcFN0b3JlTWV0aG9kcyA9IChcbiAganNtYXAsXG4gIGFzc2VydEtWT2tUb0FkZCxcbiAgYXNzZXJ0S1ZPa1RvU2V0LFxuICBhc3NlcnRLZXlPa1RvRGVsZXRlID0gdW5kZWZpbmVkLFxuICBrZXlOYW1lID0gJ2tleScsXG4pID0+IHtcbiAgY29uc3QgYXNzZXJ0S2V5RG9lc05vdEV4aXN0ID0ga2V5ID0+XG4gICAgIWpzbWFwLmhhcyhrZXkpIHx8IEZhaWxgJHtxKGtleU5hbWUpfSBhbHJlYWR5IHJlZ2lzdGVyZWQ6ICR7a2V5fWA7XG5cbiAgY29uc3QgYXNzZXJ0S2V5RXhpc3RzID0ga2V5ID0+XG4gICAganNtYXAuaGFzKGtleSkgfHwgRmFpbGAke3Eoa2V5TmFtZSl9IG5vdCBmb3VuZDogJHtrZXl9YDtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBoYXM6IGtleSA9PiB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm4ganNtYXAuaGFzKGtleSk7XG4gICAgfSxcbiAgICBnZXQ6IGtleSA9PiB7XG4gICAgICBhc3NlcnRLZXlFeGlzdHMoa2V5KTtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gLyogICAgICAgICAgICAqLyAoanNtYXAuZ2V0KGtleSkpO1xuICAgIH0sXG5cbiAgICBpbml0OiAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgYXNzZXJ0S2V5RG9lc05vdEV4aXN0KGtleSk7XG4gICAgICBhc3NlcnRLVk9rVG9BZGQoa2V5LCB2YWx1ZSk7XG4gICAgICBqc21hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfSxcbiAgICBzZXQ6IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICBhc3NlcnRLZXlFeGlzdHMoa2V5KTtcbiAgICAgIGFzc2VydEtWT2tUb1NldChrZXksIHZhbHVlKTtcbiAgICAgIGpzbWFwLnNldChrZXksIHZhbHVlKTtcbiAgICB9LFxuICAgIGRlbGV0ZToga2V5ID0+IHtcbiAgICAgIGFzc2VydEtleUV4aXN0cyhrZXkpO1xuICAgICAgaWYgKGFzc2VydEtleU9rVG9EZWxldGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhc3NlcnRLZXlPa1RvRGVsZXRlKGtleSk7XG4gICAgICB9XG4gICAgICBqc21hcC5kZWxldGUoa2V5KTtcbiAgICB9LFxuXG4gICAgYWRkQWxsOiBlbnRyaWVzID0+IHtcbiAgICAgIGlmICh0eXBlb2YgZW50cmllc1tTeW1ib2wuaXRlcmF0b3JdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4oZW50cmllcykgJiYgaXNDb3B5TWFwKGVudHJpZXMpKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICBlbnRyaWVzID0gZ2V0Q29weU1hcEVudHJpZXMoZW50cmllcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgRmFpbGBwcm92aWRlZCBkYXRhIHNvdXJjZSBpcyBub3QgaXRlcmFibGU6ICR7ZW50cmllc31gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChlbnRyaWVzKSkge1xuICAgICAgICAvL1xuICAgICAgICBhc3NlcnRLVk9rVG9BZGQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGpzbWFwLnNldChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlV2Vha01hcFN0b3JlTWV0aG9kcyhtYWtlV2Vha01hcFN0b3JlTWV0aG9kcyk7XG4gICAgICAgY29uc3QgbWFrZVNjYWxhcldlYWtNYXBTdG9yZSA9IChcbiAgdGFnID0gJ2tleScsXG4gIHsgbG9uZ0xpdmVkID0gdHJ1ZSwga2V5U2hhcGUgPSB1bmRlZmluZWQsIHZhbHVlU2hhcGUgPSB1bmRlZmluZWQgfSA9IHt9LFxuKSA9PiB7XG4gIGNvbnN0IGpzbWFwID0gbmV3IChsb25nTGl2ZWQgPyBXZWFrTWFwIDogTWFwKSgpO1xuICBpZiAoa2V5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGFzc2VydFBhdHRlcm4oa2V5U2hhcGUpO1xuICB9XG4gIGlmICh2YWx1ZVNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICBhc3NlcnRQYXR0ZXJuKHZhbHVlU2hhcGUpO1xuICB9XG5cbiAgY29uc3QgYXNzZXJ0S1ZPa1RvU2V0ID0gKF9rZXksIHZhbHVlKSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGhhcmRlbih2YWx1ZSk7XG5cbiAgICBhc3NlcnRQYXNzYWJsZSh2YWx1ZSk7XG4gICAgaWYgKHZhbHVlU2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbXVzdE1hdGNoKHZhbHVlLCB2YWx1ZVNoYXBlLCAnd2Vha01hcFN0b3JlIHZhbHVlJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGFzc2VydEtWT2tUb0FkZCA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGhhcmRlbihrZXkpO1xuICAgIHBhc3NTdHlsZU9mKGtleSkgPT09ICdyZW1vdGFibGUnIHx8XG4gICAgICBGYWlsYE9ubHkgcmVtb3RhYmxlcyBjYW4gYmUga2V5cyBvZiBzY2FsYXIgV2Vha01hcFN0b3JlczogJHtrZXl9YDtcbiAgICBpZiAoa2V5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbXVzdE1hdGNoKGtleSwga2V5U2hhcGUsICd3ZWFrTWFwU3RvcmUga2V5Jyk7XG4gICAgfVxuICAgIGFzc2VydEtWT2tUb1NldChrZXksIHZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gRmFyKGBzY2FsYXIgV2Vha01hcFN0b3JlIG9mICR7cSh0YWcpfWAsIHtcbiAgICAuLi5tYWtlV2Vha01hcFN0b3JlTWV0aG9kcyhcbiAgICAgIGpzbWFwLFxuICAgICAgYXNzZXJ0S1ZPa1RvQWRkLFxuICAgICAgYXNzZXJ0S1ZPa1RvU2V0LFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgdGFnLFxuICAgICksXG4gIH0pO1xufTskaM2PX29uY2UubWFrZVNjYWxhcldlYWtNYXBTdG9yZShtYWtlU2NhbGFyV2Vha01hcFN0b3JlKTtcbmhhcmRlbihtYWtlU2NhbGFyV2Vha01hcFN0b3JlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VXZWFrTWFwU3RvcmVNZXRob2RzIjpbIm1ha2VXZWFrTWFwU3RvcmVNZXRob2RzIl0sIm1ha2VTY2FsYXJXZWFrTWFwU3RvcmUiOlsibWFrZVNjYWxhcldlYWtNYXBTdG9yZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABA7FDWywsAAMsLAAA1AAAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zY2FsYXJXZWFrU2V0U3RvcmUuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vcGFzcy1zdHlsZSIsIkBlbmRvL3BhdHRlcm5zIl0sImV4cG9ydHMiOlsibWFrZVNjYWxhcldlYWtTZXRTdG9yZSIsIm1ha2VXZWFrU2V0U3RvcmVNZXRob2RzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgcSxGYWlsLEZhcixwYXNzU3R5bGVPZixnZXRDb3B5U2V0S2V5cyxtdXN0TWF0Y2gsYXNzZXJ0UGF0dGVybixpc0NvcHlTZXQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dLFtcInBhc3NTdHlsZU9mXCIsWyRozY9fYSA9PiAocGFzc1N0eWxlT2YgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXR0ZXJuc1wiLCBbW1wiZ2V0Q29weVNldEtleXNcIixbJGjNj19hID0+IChnZXRDb3B5U2V0S2V5cyA9ICRozY9fYSldXSxbXCJtdXN0TWF0Y2hcIixbJGjNj19hID0+IChtdXN0TWF0Y2ggPSAkaM2PX2EpXV0sW1wiYXNzZXJ0UGF0dGVyblwiLFskaM2PX2EgPT4gKGFzc2VydFBhdHRlcm4gPSAkaM2PX2EpXV0sW1wiaXNDb3B5U2V0XCIsWyRozY9fYSA9PiAoaXNDb3B5U2V0ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZVdlYWtTZXRTdG9yZU1ldGhvZHMgPSAoXG4gIGpzc2V0LFxuICBhc3NlcnRLZXlPa1RvQWRkLFxuICBhc3NlcnRLZXlPa1RvRGVsZXRlID0gdW5kZWZpbmVkLFxuICBrZXlOYW1lID0gJ2tleScsXG4pID0+IHtcbiAgY29uc3QgYXNzZXJ0S2V5RXhpc3RzID0ga2V5ID0+XG4gICAganNzZXQuaGFzKGtleSkgfHwgRmFpbGAke3Eoa2V5TmFtZSl9IG5vdCBmb3VuZDogJHtrZXl9YDtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBoYXM6IGtleSA9PiB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm4ganNzZXQuaGFzKGtleSk7XG4gICAgfSxcblxuICAgIGFkZDoga2V5ID0+IHtcbiAgICAgIGFzc2VydEtleU9rVG9BZGQoa2V5KTtcbiAgICAgIGpzc2V0LmFkZChrZXkpO1xuICAgIH0sXG4gICAgZGVsZXRlOiBrZXkgPT4ge1xuICAgICAgYXNzZXJ0S2V5RXhpc3RzKGtleSk7XG4gICAgICBpZiAoYXNzZXJ0S2V5T2tUb0RlbGV0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFzc2VydEtleU9rVG9EZWxldGUoa2V5KTtcbiAgICAgIH1cbiAgICAgIGpzc2V0LmRlbGV0ZShrZXkpO1xuICAgIH0sXG5cbiAgICBhZGRBbGw6IGtleXMgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBrZXlzW1N5bWJvbC5pdGVyYXRvcl0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbihrZXlzKSAmJiBpc0NvcHlTZXQoa2V5cykpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIGtleXMgPSBnZXRDb3B5U2V0S2V5cyhrZXlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBGYWlsYHByb3ZpZGVkIGRhdGEgc291cmNlIGlzIG5vdCBpdGVyYWJsZTogJHtrZXlzfWA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIC8qICAgICAgICAgICAgICAgICAgICAgICovIChrZXlzKSkge1xuICAgICAgICBhc3NlcnRLZXlPa1RvQWRkKGtleSk7XG4gICAgICAgIGpzc2V0LmFkZChrZXkpO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5tYWtlV2Vha1NldFN0b3JlTWV0aG9kcyhtYWtlV2Vha1NldFN0b3JlTWV0aG9kcyk7XG4gICAgICAgY29uc3QgbWFrZVNjYWxhcldlYWtTZXRTdG9yZSA9IChcbiAgdGFnID0gJ2tleScsXG4gIHsgbG9uZ0xpdmVkID0gdHJ1ZSwga2V5U2hhcGUgPSB1bmRlZmluZWQgfSA9IHt9LFxuKSA9PiB7XG4gIGNvbnN0IGpzc2V0ID0gbmV3IChsb25nTGl2ZWQgPyBXZWFrU2V0IDogU2V0KSgpO1xuICBpZiAoa2V5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGFzc2VydFBhdHRlcm4oa2V5U2hhcGUpO1xuICB9XG5cbiAgY29uc3QgYXNzZXJ0S2V5T2tUb0FkZCA9IGtleSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGhhcmRlbihrZXkpO1xuICAgIHBhc3NTdHlsZU9mKGtleSkgPT09ICdyZW1vdGFibGUnIHx8XG4gICAgICBGYWlsYE9ubHkgcmVtb3RhYmxlcyBjYW4gYmUga2V5cyBvZiBzY2FsYXIgV2Vha1N0b3JlczogJHtrZXl9YDtcbiAgICBpZiAoa2V5U2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbXVzdE1hdGNoKGtleSwga2V5U2hhcGUsICd3ZWFrU2V0U3RvcmUga2V5Jyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBGYXIoYHNjYWxhciBXZWFrU2V0U3RvcmUgb2YgJHtxKHRhZyl9YCwge1xuICAgIC4uLm1ha2VXZWFrU2V0U3RvcmVNZXRob2RzKGpzc2V0LCBhc3NlcnRLZXlPa1RvQWRkLCB1bmRlZmluZWQsIHRhZyksXG4gIH0pO1xufTskaM2PX29uY2UubWFrZVNjYWxhcldlYWtTZXRTdG9yZShtYWtlU2NhbGFyV2Vha1NldFN0b3JlKTtcbmhhcmRlbihtYWtlU2NhbGFyV2Vha1NldFN0b3JlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VXZWFrU2V0U3RvcmVNZXRob2RzIjpbIm1ha2VXZWFrU2V0U3RvcmVNZXRob2RzIl0sIm1ha2VTY2FsYXJXZWFrU2V0U3RvcmUiOlsibWFrZVNjYWxhcldlYWtTZXRTdG9yZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFxkU9ohAAAKIQAAAuAAAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zdG9yZS11dGlscy5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9tYXJzaGFsIiwiQGVuZG8vcGF0dGVybnMiXSwiZXhwb3J0cyI6WyJhcHBlbmRUb1N0b3JlZEFycmF5IiwiaXNDb3B5TWFwIiwiaXNDb3B5U2V0IiwibWFrZUF0b21pY1Byb3ZpZGVyIiwibWFrZUN1cnJlbnRLZXlzS2l0IiwicHJvdmlkZUxhenkiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLHEsRmFyLGlzQ29weU1hcCxpc0NvcHlTZXQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vbWFyc2hhbFwiLCBbW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcImlzQ29weU1hcFwiLFskaM2PX2EgPT4gKGlzQ29weU1hcCA9ICRozY9fYSksJGjNj19saXZlW1wiaXNDb3B5TWFwXCJdXV0sW1wiaXNDb3B5U2V0XCIsWyRozY9fYSA9PiAoaXNDb3B5U2V0ID0gJGjNj19hKSwkaM2PX2xpdmVbXCJpc0NvcHlTZXRcIl1dXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlQ3VycmVudEtleXNLaXQgPSAoXG4gIGdldFJhd0tleXMsXG4gIGNoZWNrSGFzLFxuICBjb21wYXJlLFxuICBhc3NlcnRPa1RvQWRkLFxuICBhc3NlcnRPa1RvRGVsZXRlID0gdW5kZWZpbmVkLFxuICBrZXlOYW1lID0gJ2tleScsXG4pID0+IHtcbiAgbGV0IHVwZGF0ZUNvdW50ID0gMDtcbiAgbGV0IHNvcnRlZEtleXNNZW1vO1xuXG4gIGNvbnN0IGFzc2VydFVwZGF0ZU9uQWRkID0gKGssIHYgPSB1bmRlZmluZWQpID0+IHtcbiAgICBhc3NlcnRPa1RvQWRkKGssIHYpO1xuICAgIHVwZGF0ZUNvdW50ICs9IDE7XG4gICAgc29ydGVkS2V5c01lbW8gPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgY29uc3QgYXNzZXJ0VXBkYXRlT25EZWxldGUgPSBrID0+IGFzc2VydE9rVG9EZWxldGUgJiYgYXNzZXJ0T2tUb0RlbGV0ZShrKTtcblxuICBjb25zdCBnZXRTb3J0ZWRLZXlzID0gKCkgPT4ge1xuICAgIGlmIChzb3J0ZWRLZXlzTWVtbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzb3J0ZWRLZXlzTWVtbyA9IGhhcmRlbihbLi4uZ2V0UmF3S2V5cygpXS5zb3J0KGNvbXBhcmUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHNvcnRlZEtleXNNZW1vO1xuICB9O1xuXG4gIGNvbnN0IGl0ZXJhYmxlS2V5cyA9IEZhcignSXRlcmFibGUgb2Yga2V5cycsIHtcbiAgICBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4ge1xuICAgICAgY29uc3QgZ2VuZXJhdGlvbiA9IHVwZGF0ZUNvdW50O1xuICAgICAgZ2V0U29ydGVkS2V5cygpO1xuICAgICAgY29uc3QgbGVuID0gc29ydGVkS2V5c01lbW8ubGVuZ3RoO1xuICAgICAgbGV0IGkgPSAwO1xuICAgICAgcmV0dXJuIEZhcignSXRlcmF0b3Igb2Yga2V5cycsIHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGdlbmVyYXRpb24gPT09IHVwZGF0ZUNvdW50IHx8IEZhaWxgU3RvcmUgJHtxKGtleU5hbWUpfSBjdXJzb3Igc3RhbGVgO1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpZiAoaSA8IGxlbikge1xuICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNvcnRlZEtleXNNZW1vW2ldO1xuICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICAgIGlmIChjaGVja0hhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgZG9uZTogZmFsc2UsIHZhbHVlIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBhc3NlcnRVcGRhdGVPbkFkZCxcbiAgICBhc3NlcnRVcGRhdGVPbkRlbGV0ZSxcbiAgICBpdGVyYWJsZUtleXMsXG4gIH0pO1xufTskaM2PX29uY2UubWFrZUN1cnJlbnRLZXlzS2l0KG1ha2VDdXJyZW50S2V5c0tpdCk7XG5oYXJkZW4obWFrZUN1cnJlbnRLZXlzS2l0KTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJvdmlkZUxhenkgPSAobWFwU3RvcmUsIGtleSwgbWFrZVZhbHVlKSA9PiB7XG4gIGlmICghbWFwU3RvcmUuaGFzKGtleSkpIHtcbiAgICBtYXBTdG9yZS5pbml0KGtleSwgbWFrZVZhbHVlKGtleSkpO1xuICB9XG4gIHJldHVybiBtYXBTdG9yZS5nZXQoa2V5KTtcbn07JGjNj19vbmNlLnByb3ZpZGVMYXp5KHByb3ZpZGVMYXp5KTtcbmhhcmRlbihwcm92aWRlTGF6eSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VBdG9taWNQcm92aWRlciA9IHN0b3JlID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHBlbmRpbmcgPSBuZXcgTWFwKCk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwcm92aWRlQXN5bmMgPSAoa2V5LCBtYWtlVmFsdWUsIGZpbmlzaFZhbHVlKSA9PiB7XG4gICAgaWYgKHN0b3JlLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0b3JlLmdldChrZXkpKTtcbiAgICB9XG4gICAgaWYgKCFwZW5kaW5nLmhhcyhrZXkpKSB7XG4gICAgICBjb25zdCB2YWxQID0gbWFrZVZhbHVlKGtleSlcbiAgICAgICAgLnRoZW4odiA9PiB7XG4gICAgICAgICAgc3RvcmUuaW5pdChrZXksIHYpO1xuICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9KVxuICAgICAgICAudGhlbih2ID0+IHtcbiAgICAgICAgICBpZiAoZmluaXNoVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5pc2hWYWx1ZShrZXksIHYpLnRoZW4oKCkgPT4gdik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgcGVuZGluZy5kZWxldGUoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICBwZW5kaW5nLnNldChrZXksIHZhbFApO1xuICAgIH1cbiAgICBjb25zdCB2YWxQID0gcGVuZGluZy5nZXQoa2V5KTtcbiAgICBhc3NlcnQodmFsUCk7XG4gICAgcmV0dXJuIHZhbFA7XG4gIH07XG5cbiAgcmV0dXJuIGhhcmRlbih7IHByb3ZpZGVBc3luYyB9KTtcbn07JGjNj19vbmNlLm1ha2VBdG9taWNQcm92aWRlcihtYWtlQXRvbWljUHJvdmlkZXIpO1xuaGFyZGVuKG1ha2VBdG9taWNQcm92aWRlcik7XG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgYXBwZW5kVG9TdG9yZWRBcnJheSA9IChtYXBTdG9yZSwga2V5LCBpdGVtKSA9PiB7XG4gIGlmIChtYXBTdG9yZS5oYXMoa2V5KSkge1xuICAgIGNvbnN0IGV4dGFudCA9IG1hcFN0b3JlLmdldChrZXkpO1xuICAgIG1hcFN0b3JlLnNldChrZXksIGhhcmRlbihbLi4uZXh0YW50LCBpdGVtXSkpO1xuICB9IGVsc2Uge1xuICAgIG1hcFN0b3JlLmluaXQoa2V5LCBoYXJkZW4oW2l0ZW1dKSk7XG4gIH1cbn07JGjNj19vbmNlLmFwcGVuZFRvU3RvcmVkQXJyYXkoYXBwZW5kVG9TdG9yZWRBcnJheSk7XG5oYXJkZW4oYXBwZW5kVG9TdG9yZWRBcnJheSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6eyJpc0NvcHlNYXAiOlsiaXNDb3B5TWFwIixmYWxzZV0sImlzQ29weVNldCI6WyJpc0NvcHlTZXQiLGZhbHNlXX0sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlQ3VycmVudEtleXNLaXQiOlsibWFrZUN1cnJlbnRLZXlzS2l0Il0sInByb3ZpZGVMYXp5IjpbInByb3ZpZGVMYXp5Il0sIm1ha2VBdG9taWNQcm92aWRlciI6WyJtYWtlQXRvbWljUHJvdmlkZXIiXSwiYXBwZW5kVG9TdG9yZWRBcnJheSI6WyJhcHBlbmRUb1N0b3JlZEFycmF5Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEXM//FYAQAAWAEAACEAAABAYWdvcmljL3N0b3JlLXYwLjkuMi9zcmMvdHlwZXMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA7fWYmzACAAAwAgAAHAAAAEBhZ29yaWMvdGltZS12MC4zLjIvaW5kZXguanN7ImltcG9ydHMiOlsiLi9zcmMvdGltZU1hdGguanMiLCIuL3NyYy90eXBlR3VhcmRzLmpzIiwiLi9zcmMvdHlwZXMtaW5kZXguanMiXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6WyIuL3NyYy90aW1lTWF0aC5qcyIsIi4vc3JjL3R5cGVHdWFyZHMuanMiLCIuL3NyYy90eXBlcy1pbmRleC5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL3NyYy90aW1lTWF0aC5qc1wiLCBbXV0sW1wiLi9zcmMvdHlwZUd1YXJkcy5qc1wiLCBbXV0sW1wiLi9zcmMvdHlwZXMtaW5kZXguanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAATMXEWc0VAADNFQAAIwAAAEBhZ29yaWMvdGltZS12MC4zLjIvc3JjL3RpbWVNYXRoLmpzeyJpbXBvcnRzIjpbIkBlbmRvL25hdCIsIkBlbmRvL2Vycm9ycyIsIkBhZ29yaWMvc3RvcmUiLCIuL3R5cGVHdWFyZHMuanMiXSwiZXhwb3J0cyI6WyJUaW1lTWF0aCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE5hdCxGYWlsLHEsbXVzdE1hdGNoLFJlbGF0aXZlVGltZVJlY29yZFNoYXBlLFRpbWVzdGFtcFJlY29yZFNoYXBlOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vbmF0XCIsIFtbXCJOYXRcIixbJGjNj19hID0+IChOYXQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dXV0sW1wiLi90eXBlR3VhcmRzLmpzXCIsIFtbXCJSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZVwiLFskaM2PX2EgPT4gKFJlbGF0aXZlVGltZVJlY29yZFNoYXBlID0gJGjNj19hKV1dLFtcIlRpbWVzdGFtcFJlY29yZFNoYXBlXCIsWyRozY9fYSA9PiAoVGltZXN0YW1wUmVjb3JkU2hhcGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG4vKlxuXG4gKi9cblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGFncmVlZFRpbWVyQnJhbmQgPSAobGVmdEJyYW5kLCByaWdodEJyYW5kKSA9PiB7XG4gIGlmIChsZWZ0QnJhbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChyaWdodEJyYW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByaWdodEJyYW5kO1xuICAgIH1cbiAgfSBlbHNlIGlmIChyaWdodEJyYW5kID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbGVmdEJyYW5kO1xuICB9IGVsc2Uge1xuICAgIGxlZnRCcmFuZCA9PT0gcmlnaHRCcmFuZCB8fFxuICAgICAgRmFpbGBUaW1lckJyYW5kcyBtdXN0IG1hdGNoOiAke3EobGVmdEJyYW5kKX0gdnMgJHtxKHJpZ2h0QnJhbmQpfWA7XG4gICAgcmV0dXJuIGxlZnRCcmFuZDtcbiAgfVxufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3Qgc2hhcmVkVGltZXJCcmFuZCA9IChsZWZ0LCByaWdodCkgPT4ge1xuICBjb25zdCBsZWZ0QnJhbmQgPSB0eXBlb2YgbGVmdCA9PT0gJ2JpZ2ludCcgPyB1bmRlZmluZWQgOiBsZWZ0LnRpbWVyQnJhbmQ7XG4gIGNvbnN0IHJpZ2h0QnJhbmQgPSB0eXBlb2YgcmlnaHQgPT09ICdiaWdpbnQnID8gdW5kZWZpbmVkIDogcmlnaHQudGltZXJCcmFuZDtcbiAgcmV0dXJuIGFncmVlZFRpbWVyQnJhbmQobGVmdEJyYW5kLCByaWdodEJyYW5kKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBhYnNMaWtlID0gKGxlZnQsIHJpZ2h0LCBhYnNWYWx1ZSkgPT4ge1xuICBOYXQoYWJzVmFsdWUpO1xuICBjb25zdCB0aW1lckJyYW5kID0gc2hhcmVkVGltZXJCcmFuZChsZWZ0LCByaWdodCk7XG4gIGlmICh0aW1lckJyYW5kKSB7XG4gICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICB0aW1lckJyYW5kLFxuICAgICAgYWJzVmFsdWUsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFic1ZhbHVlO1xuICB9XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgcmVsTGlrZSA9IChsZWZ0LCByaWdodCwgcmVsVmFsdWUpID0+IHtcbiAgTmF0KHJlbFZhbHVlKTtcbiAgY29uc3QgdGltZXJCcmFuZCA9IHNoYXJlZFRpbWVyQnJhbmQobGVmdCwgcmlnaHQpO1xuICBpZiAodGltZXJCcmFuZCkge1xuICAgIHJldHVybiBoYXJkZW4oe1xuICAgICAgdGltZXJCcmFuZCxcbiAgICAgIHJlbFZhbHVlLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZWxWYWx1ZTtcbiAgfVxufTtcblxuLy9cbi8vXG4vL1xuXG5jb25zdCBhYnNWYWx1ZSA9IGFicyA9PiB7XG4gIGlmICh0eXBlb2YgYWJzID09PSAnYmlnaW50Jykge1xuICAgIHJldHVybiBOYXQoYWJzKTtcbiAgfVxuICBtdXN0TWF0Y2goYWJzLCBUaW1lc3RhbXBSZWNvcmRTaGFwZSwgJ3RpbWVzdGFtcCcpO1xuICByZXR1cm4gTmF0KGFicy5hYnNWYWx1ZSk7XG59O1xuXG5jb25zdCByZWxWYWx1ZSA9IHJlbCA9PiB7XG4gIGlmICh0eXBlb2YgcmVsID09PSAnYmlnaW50Jykge1xuICAgIHJldHVybiBOYXQocmVsKTtcbiAgfVxuICBtdXN0TWF0Y2gocmVsLCBSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZSwgJ3JlbGF0aXZlJyk7XG4gIHJldHVybiBOYXQocmVsLnJlbFZhbHVlKTtcbn07XG5cbmNvbnN0IG1ha2VUaW1lc3RhbXBSZWNvcmQgPSAoYWJzLCB0aW1lckJyYW5kKSA9PlxuICBoYXJkZW4oeyBhYnNWYWx1ZTogYWJzLCB0aW1lckJyYW5kIH0pO1xuY29uc3QgbWFrZVJlbGF0aXZlVGltZVJlY29yZCA9IChyZWwsIHRpbWVyQnJhbmQpID0+XG4gIGhhcmRlbih7IHJlbFZhbHVlOiByZWwsIHRpbWVyQnJhbmQgfSk7XG5cbmNvbnN0IGNvZXJjZVRpbWVzdGFtcFJlY29yZCA9ICh0cywgYnJhbmQpID0+IHtcbiAgYnJhbmQgfHwgRmFpbGBtdXN0IGhhdmUgYSBicmFuZGA7XG4gIGlmICh0eXBlb2YgdHMgPT09ICdudW1iZXInKSB7XG4gICAgdHMgPSBOYXQodHMpO1xuICB9XG4gIGlmICh0eXBlb2YgdHMgPT09ICdiaWdpbnQnKSB7XG4gICAgcmV0dXJuIG1ha2VUaW1lc3RhbXBSZWNvcmQodHMsIGJyYW5kKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7IHRpbWVyQnJhbmQgfSA9IHRzO1xuICAgIG11c3RNYXRjaCh0cywgVGltZXN0YW1wUmVjb3JkU2hhcGUsICd0aW1lc3RhbXAnKTtcbiAgICBhZ3JlZWRUaW1lckJyYW5kKHRpbWVyQnJhbmQsIGJyYW5kKTtcbiAgICByZXR1cm4gdHM7XG4gIH1cbn07XG5cbmNvbnN0IGNvZXJjZVJlbGF0aXZlVGltZVJlY29yZCA9IChydCwgYnJhbmQpID0+IHtcbiAgYnJhbmQgfHwgRmFpbGBtdXN0IGhhdmUgYSBicmFuZGA7XG4gIGlmICh0eXBlb2YgcnQgPT09ICdudW1iZXInKSB7XG4gICAgcnQgPSBOYXQocnQpO1xuICB9XG4gIGlmICh0eXBlb2YgcnQgPT09ICdiaWdpbnQnKSB7XG4gICAgcmV0dXJuIG1ha2VSZWxhdGl2ZVRpbWVSZWNvcmQocnQsIGJyYW5kKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7IHRpbWVyQnJhbmQgfSA9IHJ0O1xuICAgIG11c3RNYXRjaChydCwgUmVsYXRpdmVUaW1lUmVjb3JkU2hhcGUsICdyZWxhdGl2ZVRpbWUnKTtcbiAgICBhZ3JlZWRUaW1lckJyYW5kKHRpbWVyQnJhbmQsIGJyYW5kKTtcbiAgICByZXR1cm4gcnQ7XG4gIH1cbn07XG5cbmNvbnN0IGFkZEFic1JlbCA9IChhYnMsIHJlbCkgPT5cbiAgYWJzTGlrZShhYnMsIHJlbCwgYWJzVmFsdWUoYWJzKSArIHJlbFZhbHVlKHJlbCkpO1xuXG5jb25zdCBhZGRSZWxSZWwgPSAocmVsMSwgcmVsMikgPT5cbiAgcmVsTGlrZShyZWwxLCByZWwyLCByZWxWYWx1ZShyZWwxKSArIHJlbFZhbHVlKHJlbDIpKTtcblxuY29uc3Qgc3VidHJhY3RBYnNBYnMgPSAoYWJzMSwgYWJzMikgPT5cbiAgcmVsTGlrZShhYnMxLCBhYnMyLCBhYnNWYWx1ZShhYnMxKSAtIGFic1ZhbHVlKGFiczIpKTtcblxuY29uc3QgY2xhbXBlZFN1YnRyYWN0QWJzQWJzID0gKGFiczEsIGFiczIpID0+IHtcbiAgY29uc3QgdmFsMSA9IGFic1ZhbHVlKGFiczEpO1xuICBjb25zdCB2YWwyID0gYWJzVmFsdWUoYWJzMik7XG4gIHJldHVybiByZWxMaWtlKGFiczEsIGFiczIsIHZhbDEgPiB2YWwyID8gdmFsMSAtIHZhbDIgOiAwbik7XG59O1xuXG5jb25zdCBzdWJ0cmFjdEFic1JlbCA9IChhYnMsIHJlbCkgPT5cbiAgYWJzTGlrZShhYnMsIHJlbCwgYWJzVmFsdWUoYWJzKSAtIHJlbFZhbHVlKHJlbCkpO1xuXG5jb25zdCBzdWJ0cmFjdFJlbFJlbCA9IChyZWwxLCByZWwyKSA9PlxuICByZWxMaWtlKHJlbDEsIHJlbDIsIHJlbFZhbHVlKHJlbDEpIC0gcmVsVmFsdWUocmVsMikpO1xuXG5jb25zdCBpc1JlbFplcm8gPSByZWwgPT4gcmVsVmFsdWUocmVsKSA9PT0gMG47XG5cbmNvbnN0IG11bHRpcGx5UmVsTmF0ID0gKHJlbCwgbmF0KSA9PiByZWxMaWtlKHJlbCwgbmF0LCByZWxWYWx1ZShyZWwpICogbmF0KTtcblxuY29uc3QgZGl2aWRlUmVsTmF0ID0gKHJlbCwgbmF0KSA9PiByZWxMaWtlKHJlbCwgbmF0LCByZWxWYWx1ZShyZWwpIC8gbmF0KTtcblxuY29uc3QgZGl2aWRlUmVsUmVsID0gKHJlbDEsIHJlbDIpID0+IHtcbiAgc2hhcmVkVGltZXJCcmFuZChyZWwxLCByZWwyKTsgLy9cbiAgcmV0dXJuIHJlbFZhbHVlKHJlbDEpIC8gcmVsVmFsdWUocmVsMik7XG59O1xuXG5jb25zdCBtb2RBYnNSZWwgPSAoYWJzLCBzdGVwKSA9PlxuICByZWxMaWtlKGFicywgc3RlcCwgYWJzVmFsdWUoYWJzKSAlIHJlbFZhbHVlKHN0ZXApKTtcblxuY29uc3QgbW9kUmVsUmVsID0gKHJlbCwgc3RlcCkgPT5cbiAgcmVsTGlrZShyZWwsIHN0ZXAsIHJlbFZhbHVlKHJlbCkgJSByZWxWYWx1ZShzdGVwKSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBjb21wYXJlVmFsdWVzID0gKGxlZnQsIHJpZ2h0LCB2MSwgdjIpID0+IHtcbiAgc2hhcmVkVGltZXJCcmFuZChsZWZ0LCByaWdodCk7XG4gIGlmICh2MSA8IHYyKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKHYxID09PSB2Mikge1xuICAgIHJldHVybiAwO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydCh2MSA+IHYyKTtcbiAgICByZXR1cm4gMTtcbiAgfVxufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBUaW1lTWF0aCA9IGhhcmRlbih7XG4gIGFic1ZhbHVlLFxuICByZWxWYWx1ZSxcbiAgY29lcmNlVGltZXN0YW1wUmVjb3JkLFxuICBjb2VyY2VSZWxhdGl2ZVRpbWVSZWNvcmQsXG4gIC8vXG4gIGFkZEFic1JlbCxcbiAgLy9cbiAgYWRkUmVsUmVsLFxuICBzdWJ0cmFjdEFic0FicyxcbiAgY2xhbXBlZFN1YnRyYWN0QWJzQWJzLFxuICBzdWJ0cmFjdEFic1JlbCxcbiAgc3VidHJhY3RSZWxSZWwsXG4gIGlzUmVsWmVybyxcbiAgbXVsdGlwbHlSZWxOYXQsXG4gIGRpdmlkZVJlbE5hdCxcbiAgZGl2aWRlUmVsUmVsLFxuICBtb2RBYnNSZWwsXG4gIG1vZFJlbFJlbCxcbiAgY29tcGFyZUFiczogKGFiczEsIGFiczIpID0+XG4gICAgY29tcGFyZVZhbHVlcyhhYnMxLCBhYnMyLCBhYnNWYWx1ZShhYnMxKSwgYWJzVmFsdWUoYWJzMikpLFxuICBjb21wYXJlUmVsOiAocmVsMSwgcmVsMikgPT5cbiAgICBjb21wYXJlVmFsdWVzKHJlbDEsIHJlbDIsIHJlbFZhbHVlKHJlbDEpLCByZWxWYWx1ZShyZWwyKSksXG59KTskaM2PX29uY2UuVGltZU1hdGgoVGltZU1hdGgpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiVGltZU1hdGgiOlsiVGltZU1hdGgiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAOOUBfz0JAAA9CQAAJQAAAEBhZ29yaWMvdGltZS12MC4zLjIvc3JjL3R5cGVHdWFyZHMuanN7ImltcG9ydHMiOlsiQGVuZG8vcGF0dGVybnMiXSwiZXhwb3J0cyI6WyJSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZSIsIlJlbGF0aXZlVGltZVNoYXBlIiwiUmVsYXRpdmVUaW1lVmFsdWVTaGFwZSIsIlRpbWVyQnJhbmRTaGFwZSIsIlRpbWVyU2VydmljZVNoYXBlIiwiVGltZXN0YW1wUmVjb3JkU2hhcGUiLCJUaW1lc3RhbXBTaGFwZSIsIlRpbWVzdGFtcFZhbHVlU2hhcGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBNOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV1dKTtcblxuLypcblxuXG4gKi9cblxuICAgICAgIGNvbnN0IFRpbWVyQnJhbmRTaGFwZSA9IE0ucmVtb3RhYmxlKCdUaW1lckJyYW5kJyk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLlRpbWVyQnJhbmRTaGFwZShUaW1lckJyYW5kU2hhcGUpO1xuICAgICAgIGNvbnN0IFRpbWVzdGFtcFZhbHVlU2hhcGUgPSBNLm5hdCgpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5UaW1lc3RhbXBWYWx1ZVNoYXBlKFRpbWVzdGFtcFZhbHVlU2hhcGUpO1xuICAgICAgIGNvbnN0IFJlbGF0aXZlVGltZVZhbHVlU2hhcGUgPSBNLm5hdCgpOyAvL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5SZWxhdGl2ZVRpbWVWYWx1ZVNoYXBlKFJlbGF0aXZlVGltZVZhbHVlU2hhcGUpO1xuICAgICAgIGNvbnN0IFRpbWVzdGFtcFJlY29yZFNoYXBlID0ge1xuICB0aW1lckJyYW5kOiBUaW1lckJyYW5kU2hhcGUsXG4gIGFic1ZhbHVlOiBUaW1lc3RhbXBWYWx1ZVNoYXBlLFxufTskaM2PX29uY2UuVGltZXN0YW1wUmVjb3JkU2hhcGUoVGltZXN0YW1wUmVjb3JkU2hhcGUpO1xuaGFyZGVuKFRpbWVzdGFtcFJlY29yZFNoYXBlKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZSA9IHtcbiAgdGltZXJCcmFuZDogVGltZXJCcmFuZFNoYXBlLFxuICByZWxWYWx1ZTogUmVsYXRpdmVUaW1lVmFsdWVTaGFwZSxcbn07JGjNj19vbmNlLlJlbGF0aXZlVGltZVJlY29yZFNoYXBlKFJlbGF0aXZlVGltZVJlY29yZFNoYXBlKTtcbmhhcmRlbihSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBUaW1lc3RhbXBTaGFwZSA9IE0ub3IoVGltZXN0YW1wUmVjb3JkU2hhcGUsIFRpbWVzdGFtcFZhbHVlU2hhcGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLlRpbWVzdGFtcFNoYXBlKFRpbWVzdGFtcFNoYXBlKTtcbiAgICAgICBjb25zdCBSZWxhdGl2ZVRpbWVTaGFwZSA9IE0ub3IoXG4gIFJlbGF0aXZlVGltZVJlY29yZFNoYXBlLFxuICBSZWxhdGl2ZVRpbWVWYWx1ZVNoYXBlLFxuKTskaM2PX29uY2UuUmVsYXRpdmVUaW1lU2hhcGUoUmVsYXRpdmVUaW1lU2hhcGUpO1xuXG4gICAgICAgY29uc3QgVGltZXJTZXJ2aWNlU2hhcGUgPSBNLnJlbW90YWJsZSgnVGltZXJTZXJ2aWNlJyk7JGjNj19vbmNlLlRpbWVyU2VydmljZVNoYXBlKFRpbWVyU2VydmljZVNoYXBlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlRpbWVyQnJhbmRTaGFwZSI6WyJUaW1lckJyYW5kU2hhcGUiXSwiVGltZXN0YW1wVmFsdWVTaGFwZSI6WyJUaW1lc3RhbXBWYWx1ZVNoYXBlIl0sIlJlbGF0aXZlVGltZVZhbHVlU2hhcGUiOlsiUmVsYXRpdmVUaW1lVmFsdWVTaGFwZSJdLCJUaW1lc3RhbXBSZWNvcmRTaGFwZSI6WyJUaW1lc3RhbXBSZWNvcmRTaGFwZSJdLCJSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZSI6WyJSZWxhdGl2ZVRpbWVSZWNvcmRTaGFwZSJdLCJUaW1lc3RhbXBTaGFwZSI6WyJUaW1lc3RhbXBTaGFwZSJdLCJSZWxhdGl2ZVRpbWVTaGFwZSI6WyJSZWxhdGl2ZVRpbWVTaGFwZSJdLCJUaW1lclNlcnZpY2VTaGFwZSI6WyJUaW1lclNlcnZpY2VTaGFwZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAAmAAAAQGFnb3JpYy90aW1lLXYwLjMuMi9zcmMvdHlwZXMtaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAwwxcir8ZAAC/GQAAKAAAAEBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yL3NyYy9leG8tdXRpbHMuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9zdG9yZSIsIi4vdmF0LWRhdGEtYmluZGluZ3MuanMiXSwiZXhwb3J0cyI6WyJkZWZpbmVEdXJhYmxlRXhvQ2xhc3MiLCJkZWZpbmVEdXJhYmxlRXhvQ2xhc3NLaXQiLCJkZWZpbmVWaXJ0dWFsRXhvQ2xhc3MiLCJkZWZpbmVWaXJ0dWFsRXhvQ2xhc3NLaXQiLCJpZ25vcmVDb250ZXh0IiwibWFrZUV4b1V0aWxzIiwicHJlcGFyZUV4byIsInByZXBhcmVFeG9DbGFzcyIsInByZXBhcmVFeG9DbGFzc0tpdCIsInByZXBhcmVLaW5kIiwicHJlcGFyZUtpbmRNdWx0aSIsInByZXBhcmVTaW5nbGV0b24iLCJwcm92aWRlS2luZEhhbmRsZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGluaXRFbXB0eSxwcm92aWRlLGdsb2JhbFZhdERhdGE7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJpbml0RW1wdHlcIixbJGjNj19hID0+IChpbml0RW1wdHkgPSAkaM2PX2EpXV1dXSxbXCIuL3ZhdC1kYXRhLWJpbmRpbmdzLmpzXCIsIFtbXCJwcm92aWRlXCIsWyRozY9fYSA9PiAocHJvdmlkZSA9ICRozY9fYSldXSxbXCJWYXREYXRhXCIsWyRozY9fYSA9PiAoZ2xvYmFsVmF0RGF0YSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuLypcblxuXG5cbiAqL1xuXG4vL1xuLypcblxuICovXG4vKlxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaWdub3JlQ29udGV4dCA9XG4gIGZuID0+XG4gIChfY29udGV4dCwgLi4uYXJncykgPT5cbiAgICBmbiguLi5hcmdzKTskaM2PX29uY2UuaWdub3JlQ29udGV4dChpZ25vcmVDb250ZXh0KTtcbmhhcmRlbihpZ25vcmVDb250ZXh0KTtcblxuLy9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgbWFrZUV4b1V0aWxzID0gVmF0RGF0YSA9PiB7XG4gIGNvbnN0IHtcbiAgICBkZWZpbmVLaW5kLFxuICAgIGRlZmluZUtpbmRNdWx0aSxcbiAgICBkZWZpbmVEdXJhYmxlS2luZCxcbiAgICBkZWZpbmVEdXJhYmxlS2luZE11bHRpLFxuICAgIG1ha2VLaW5kSGFuZGxlLFxuICB9ID0gVmF0RGF0YTtcblxuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwcm92aWRlS2luZEhhbmRsZSA9IChiYWdnYWdlLCBraW5kTmFtZSkgPT5cbiAgICBwcm92aWRlKGJhZ2dhZ2UsIGAke2tpbmROYW1lfV9raW5kSGFuZGxlYCwgKCkgPT4gbWFrZUtpbmRIYW5kbGUoa2luZE5hbWUpKTtcbiAgaGFyZGVuKHByb3ZpZGVLaW5kSGFuZGxlKTtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IHByZXBhcmVLaW5kID0gKFxuICAgIGJhZ2dhZ2UsXG4gICAga2luZE5hbWUsXG4gICAgaW5pdCxcbiAgICBiZWhhdmlvcixcbiAgICBvcHRpb25zID0gdW5kZWZpbmVkLFxuICApID0+XG4gICAgZGVmaW5lRHVyYWJsZUtpbmQoXG4gICAgICBwcm92aWRlS2luZEhhbmRsZShiYWdnYWdlLCBraW5kTmFtZSksXG4gICAgICBpbml0LFxuICAgICAgYmVoYXZpb3IsXG4gICAgICBvcHRpb25zLFxuICAgICk7XG4gIGhhcmRlbihwcmVwYXJlS2luZCk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlS2luZE11bHRpID0gKFxuICAgIGJhZ2dhZ2UsXG4gICAga2luZE5hbWUsXG4gICAgaW5pdCxcbiAgICBiZWhhdmlvcixcbiAgICBvcHRpb25zID0gdW5kZWZpbmVkLFxuICApID0+XG4gICAgZGVmaW5lRHVyYWJsZUtpbmRNdWx0aShcbiAgICAgIHByb3ZpZGVLaW5kSGFuZGxlKGJhZ2dhZ2UsIGtpbmROYW1lKSxcbiAgICAgIGluaXQsXG4gICAgICBiZWhhdmlvcixcbiAgICAgIG9wdGlvbnMsXG4gICAgKTtcbiAgaGFyZGVuKHByZXBhcmVLaW5kTXVsdGkpO1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBkZWZpbmVWaXJ0dWFsRXhvQ2xhc3MgPSAodGFnLCBpbnRlcmZhY2VHdWFyZCwgaW5pdCwgbWV0aG9kcywgb3B0aW9ucykgPT5cbiAgICAvL1xuICAgIGRlZmluZUtpbmQodGFnLCBpbml0LCBtZXRob2RzLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdGhpc2Z1bE1ldGhvZHM6IHRydWUsXG4gICAgICBpbnRlcmZhY2VHdWFyZCxcbiAgICB9KTtcbiAgaGFyZGVuKGRlZmluZVZpcnR1YWxFeG9DbGFzcyk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGRlZmluZVZpcnR1YWxFeG9DbGFzc0tpdCA9IChcbiAgICB0YWcsXG4gICAgaW50ZXJmYWNlR3VhcmRLaXQsXG4gICAgaW5pdCxcbiAgICBmYWNldHMsXG4gICAgb3B0aW9ucyxcbiAgKSA9PlxuICAgIC8vXG4gICAgZGVmaW5lS2luZE11bHRpKHRhZywgaW5pdCwgZmFjZXRzLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdGhpc2Z1bE1ldGhvZHM6IHRydWUsXG4gICAgICBpbnRlcmZhY2VHdWFyZEtpdCxcbiAgICB9KTtcbiAgaGFyZGVuKGRlZmluZVZpcnR1YWxFeG9DbGFzc0tpdCk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGRlZmluZUR1cmFibGVFeG9DbGFzcyA9IChcbiAgICBraW5kSGFuZGxlLFxuICAgIGludGVyZmFjZUd1YXJkLFxuICAgIGluaXQsXG4gICAgbWV0aG9kcyxcbiAgICBvcHRpb25zLFxuICApID0+XG4gICAgLy9cbiAgICBkZWZpbmVEdXJhYmxlS2luZChraW5kSGFuZGxlLCBpbml0LCBtZXRob2RzLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdGhpc2Z1bE1ldGhvZHM6IHRydWUsXG4gICAgICBpbnRlcmZhY2VHdWFyZCxcbiAgICB9KTtcbiAgaGFyZGVuKGRlZmluZUR1cmFibGVFeG9DbGFzcyk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGRlZmluZUR1cmFibGVFeG9DbGFzc0tpdCA9IChcbiAgICBraW5kSGFuZGxlLFxuICAgIGludGVyZmFjZUd1YXJkS2l0LFxuICAgIGluaXQsXG4gICAgZmFjZXRzLFxuICAgIG9wdGlvbnMsXG4gICkgPT5cbiAgICAvL1xuICAgIGRlZmluZUR1cmFibGVLaW5kTXVsdGkoa2luZEhhbmRsZSwgaW5pdCwgZmFjZXRzLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdGhpc2Z1bE1ldGhvZHM6IHRydWUsXG4gICAgICBpbnRlcmZhY2VHdWFyZEtpdCxcbiAgICB9KTtcbiAgaGFyZGVuKGRlZmluZUR1cmFibGVFeG9DbGFzc0tpdCk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgcHJlcGFyZUV4b0NsYXNzID0gKFxuICAgIGJhZ2dhZ2UsXG4gICAga2luZE5hbWUsXG4gICAgaW50ZXJmYWNlR3VhcmQsXG4gICAgaW5pdCxcbiAgICBtZXRob2RzLFxuICAgIG9wdGlvbnMgPSB1bmRlZmluZWQsXG4gICkgPT5cbiAgICBkZWZpbmVEdXJhYmxlRXhvQ2xhc3MoXG4gICAgICBwcm92aWRlS2luZEhhbmRsZShiYWdnYWdlLCBraW5kTmFtZSksXG4gICAgICBpbnRlcmZhY2VHdWFyZCxcbiAgICAgIGluaXQsXG4gICAgICBtZXRob2RzLFxuICAgICAgb3B0aW9ucyxcbiAgICApO1xuICBoYXJkZW4ocHJlcGFyZUV4b0NsYXNzKTtcblxuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlRXhvQ2xhc3NLaXQgPSAoXG4gICAgYmFnZ2FnZSxcbiAgICBraW5kTmFtZSxcbiAgICBpbnRlcmZhY2VHdWFyZEtpdCxcbiAgICBpbml0LFxuICAgIGZhY2V0cyxcbiAgICBvcHRpb25zID0gdW5kZWZpbmVkLFxuICApID0+XG4gICAgZGVmaW5lRHVyYWJsZUV4b0NsYXNzS2l0KFxuICAgICAgcHJvdmlkZUtpbmRIYW5kbGUoYmFnZ2FnZSwga2luZE5hbWUpLFxuICAgICAgaW50ZXJmYWNlR3VhcmRLaXQsXG4gICAgICBpbml0LFxuICAgICAgZmFjZXRzLFxuICAgICAgb3B0aW9ucyxcbiAgICApO1xuICBoYXJkZW4ocHJlcGFyZUV4b0NsYXNzS2l0KTtcblxuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlRXhvID0gKFxuICAgIGJhZ2dhZ2UsXG4gICAga2luZE5hbWUsXG4gICAgaW50ZXJmYWNlR3VhcmQsXG4gICAgbWV0aG9kcyxcbiAgICBvcHRpb25zID0gdW5kZWZpbmVkLFxuICApID0+IHtcbiAgICBjb25zdCBtYWtlU2luZ2xldG9uID0gcHJlcGFyZUV4b0NsYXNzKFxuICAgICAgYmFnZ2FnZSxcbiAgICAgIGtpbmROYW1lLFxuICAgICAgaW50ZXJmYWNlR3VhcmQsXG4gICAgICBpbml0RW1wdHksXG4gICAgICBtZXRob2RzLFxuICAgICAgb3B0aW9ucyxcbiAgICApO1xuXG4gICAgcmV0dXJuIHByb3ZpZGUoYmFnZ2FnZSwgYCR7a2luZE5hbWV9X3NpbmdsZXRvbmAsICgpID0+IG1ha2VTaW5nbGV0b24oKSk7XG4gIH07XG4gIGhhcmRlbihwcmVwYXJlRXhvKTtcblxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlU2luZ2xldG9uID0gKGJhZ2dhZ2UsIGtpbmROYW1lLCBtZXRob2RzLCBvcHRpb25zID0gdW5kZWZpbmVkKSA9PlxuICAgIHByZXBhcmVFeG8oYmFnZ2FnZSwga2luZE5hbWUsIHVuZGVmaW5lZCwgbWV0aG9kcywgb3B0aW9ucyk7XG4gIGhhcmRlbihwcmVwYXJlU2luZ2xldG9uKTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBkZWZpbmVWaXJ0dWFsRXhvQ2xhc3MsXG4gICAgZGVmaW5lVmlydHVhbEV4b0NsYXNzS2l0LFxuICAgIGRlZmluZUR1cmFibGVFeG9DbGFzcyxcbiAgICBkZWZpbmVEdXJhYmxlRXhvQ2xhc3NLaXQsXG4gICAgcHJlcGFyZUV4b0NsYXNzLFxuICAgIHByZXBhcmVFeG9DbGFzc0tpdCxcbiAgICBwcmVwYXJlRXhvLFxuXG4gICAgcHJlcGFyZVNpbmdsZXRvbixcbiAgICBwcm92aWRlS2luZEhhbmRsZSxcbiAgICBwcmVwYXJlS2luZCxcbiAgICBwcmVwYXJlS2luZE11bHRpLFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VFeG9VdGlscyhtYWtlRXhvVXRpbHMpO1xuXG5jb25zdCBnbG9iYWxFeG9VdGlscyA9IG1ha2VFeG9VdGlscyhnbG9iYWxWYXREYXRhKTtcblxuICAgICAgIGNvbnN0IHtcbiAgZGVmaW5lVmlydHVhbEV4b0NsYXNzLFxuICBkZWZpbmVWaXJ0dWFsRXhvQ2xhc3NLaXQsXG4gIGRlZmluZUR1cmFibGVFeG9DbGFzcyxcbiAgZGVmaW5lRHVyYWJsZUV4b0NsYXNzS2l0LFxuICBwcmVwYXJlRXhvQ2xhc3MsXG4gIHByZXBhcmVFeG9DbGFzc0tpdCxcbiAgcHJlcGFyZUV4byxcbiAgcHJlcGFyZVNpbmdsZXRvbixcbn0gPSBnbG9iYWxFeG9VdGlscztcblxuLypcblxuICovJGjNj19vbmNlLmRlZmluZVZpcnR1YWxFeG9DbGFzcyhkZWZpbmVWaXJ0dWFsRXhvQ2xhc3MpOyRozY9fb25jZS5kZWZpbmVWaXJ0dWFsRXhvQ2xhc3NLaXQoZGVmaW5lVmlydHVhbEV4b0NsYXNzS2l0KTskaM2PX29uY2UuZGVmaW5lRHVyYWJsZUV4b0NsYXNzKGRlZmluZUR1cmFibGVFeG9DbGFzcyk7JGjNj19vbmNlLmRlZmluZUR1cmFibGVFeG9DbGFzc0tpdChkZWZpbmVEdXJhYmxlRXhvQ2xhc3NLaXQpOyRozY9fb25jZS5wcmVwYXJlRXhvQ2xhc3MocHJlcGFyZUV4b0NsYXNzKTskaM2PX29uY2UucHJlcGFyZUV4b0NsYXNzS2l0KHByZXBhcmVFeG9DbGFzc0tpdCk7JGjNj19vbmNlLnByZXBhcmVFeG8ocHJlcGFyZUV4byk7JGjNj19vbmNlLnByZXBhcmVTaW5nbGV0b24ocHJlcGFyZVNpbmdsZXRvbik7XG4gICAgICAgY29uc3QgeyBwcm92aWRlS2luZEhhbmRsZSwgcHJlcGFyZUtpbmQsIHByZXBhcmVLaW5kTXVsdGkgfSA9XG4gIGdsb2JhbEV4b1V0aWxzOyRozY9fb25jZS5wcm92aWRlS2luZEhhbmRsZShwcm92aWRlS2luZEhhbmRsZSk7JGjNj19vbmNlLnByZXBhcmVLaW5kKHByZXBhcmVLaW5kKTskaM2PX29uY2UucHJlcGFyZUtpbmRNdWx0aShwcmVwYXJlS2luZE11bHRpKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Imlnbm9yZUNvbnRleHQiOlsiaWdub3JlQ29udGV4dCJdLCJtYWtlRXhvVXRpbHMiOlsibWFrZUV4b1V0aWxzIl0sImRlZmluZVZpcnR1YWxFeG9DbGFzcyI6WyJkZWZpbmVWaXJ0dWFsRXhvQ2xhc3MiXSwiZGVmaW5lVmlydHVhbEV4b0NsYXNzS2l0IjpbImRlZmluZVZpcnR1YWxFeG9DbGFzc0tpdCJdLCJkZWZpbmVEdXJhYmxlRXhvQ2xhc3MiOlsiZGVmaW5lRHVyYWJsZUV4b0NsYXNzIl0sImRlZmluZUR1cmFibGVFeG9DbGFzc0tpdCI6WyJkZWZpbmVEdXJhYmxlRXhvQ2xhc3NLaXQiXSwicHJlcGFyZUV4b0NsYXNzIjpbInByZXBhcmVFeG9DbGFzcyJdLCJwcmVwYXJlRXhvQ2xhc3NLaXQiOlsicHJlcGFyZUV4b0NsYXNzS2l0Il0sInByZXBhcmVFeG8iOlsicHJlcGFyZUV4byJdLCJwcmVwYXJlU2luZ2xldG9uIjpbInByZXBhcmVTaW5nbGV0b24iXSwicHJvdmlkZUtpbmRIYW5kbGUiOlsicHJvdmlkZUtpbmRIYW5kbGUiXSwicHJlcGFyZUtpbmQiOlsicHJlcGFyZUtpbmQiXSwicHJlcGFyZUtpbmRNdWx0aSI6WyJwcmVwYXJlS2luZE11bHRpIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAM+c6+m2CAAAtggAACQAAABAYWdvcmljL3ZhdC1kYXRhLXYwLjUuMi9zcmMvaW5kZXguanN7ImltcG9ydHMiOlsiQGFnb3JpYy9zdG9yZSIsIi4vdmF0LWRhdGEtYmluZGluZ3MuanMiLCIuL2V4by11dGlscy5qcyJdLCJleHBvcnRzIjpbImRlZmluZVZpcnR1YWxFeG9DbGFzc0tpdCIsImRlZmluZVZpcnR1YWxFeG9DbGFzc0tpdCIsIm1ha2VTY2FsYXJNYXBTdG9yZSIsIm1ha2VTY2FsYXJNYXBTdG9yZSIsInByb3ZpZGVQcm9taXNlV2F0Y2hlciIsInByb3ZpZGVQcm9taXNlV2F0Y2hlciJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL3N0b3JlXCIsIFtdXSxbXCIuL3ZhdC1kYXRhLWJpbmRpbmdzLmpzXCIsIFtdXSxbXCIuL2V4by11dGlscy5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7IkBhZ29yaWMvc3RvcmUiOltbIk0iLCJNIl0sWyJtYWtlU2NhbGFyTWFwU3RvcmUiLCJtYWtlU2NhbGFyTWFwU3RvcmUiXSxbIm1ha2VTY2FsYXJXZWFrTWFwU3RvcmUiLCJtYWtlU2NhbGFyV2Vha01hcFN0b3JlIl0sWyJtYWtlU2NhbGFyU2V0U3RvcmUiLCJtYWtlU2NhbGFyU2V0U3RvcmUiXSxbIm1ha2VTY2FsYXJXZWFrU2V0U3RvcmUiLCJtYWtlU2NhbGFyV2Vha1NldFN0b3JlIl1dLCIuL3ZhdC1kYXRhLWJpbmRpbmdzLmpzIjpbWyJtYWtlS2luZEhhbmRsZSIsIm1ha2VLaW5kSGFuZGxlIl0sWyJwcm92aWRlUHJvbWlzZVdhdGNoZXIiLCJwcm92aWRlUHJvbWlzZVdhdGNoZXIiXSxbIndhdGNoUHJvbWlzZSIsIndhdGNoUHJvbWlzZSJdLFsibWFrZVNjYWxhckJpZ01hcFN0b3JlIiwibWFrZVNjYWxhckJpZ01hcFN0b3JlIl0sWyJtYWtlU2NhbGFyQmlnV2Vha01hcFN0b3JlIiwibWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZSJdLFsibWFrZVNjYWxhckJpZ1NldFN0b3JlIiwibWFrZVNjYWxhckJpZ1NldFN0b3JlIl0sWyJtYWtlU2NhbGFyQmlnV2Vha1NldFN0b3JlIiwibWFrZVNjYWxhckJpZ1dlYWtTZXRTdG9yZSJdLFsiY2FuQmVEdXJhYmxlIiwiY2FuQmVEdXJhYmxlIl0sWyJwaWNrRmFjZXQiLCJwaWNrRmFjZXQiXSxbInBhcnRpYWxBc3NpZ24iLCJwYXJ0aWFsQXNzaWduIl0sWyJwcm92aWRlIiwicHJvdmlkZSJdLFsicHJvdmlkZUR1cmFibGVNYXBTdG9yZSIsInByb3ZpZGVEdXJhYmxlTWFwU3RvcmUiXSxbInByb3ZpZGVEdXJhYmxlV2Vha01hcFN0b3JlIiwicHJvdmlkZUR1cmFibGVXZWFrTWFwU3RvcmUiXSxbInByb3ZpZGVEdXJhYmxlU2V0U3RvcmUiLCJwcm92aWRlRHVyYWJsZVNldFN0b3JlIl0sWyJwcm92aWRlRHVyYWJsZVdlYWtTZXRTdG9yZSIsInByb3ZpZGVEdXJhYmxlV2Vha1NldFN0b3JlIl0sWyJkZWZpbmVLaW5kIiwiZGVmaW5lS2luZCJdLFsiZGVmaW5lS2luZE11bHRpIiwiZGVmaW5lS2luZE11bHRpIl0sWyJkZWZpbmVEdXJhYmxlS2luZCIsImRlZmluZUR1cmFibGVLaW5kIl0sWyJkZWZpbmVEdXJhYmxlS2luZE11bHRpIiwiZGVmaW5lRHVyYWJsZUtpbmRNdWx0aSJdXSwiLi9leG8tdXRpbHMuanMiOltbImRlZmluZVZpcnR1YWxFeG9DbGFzcyIsImRlZmluZVZpcnR1YWxFeG9DbGFzcyJdLFsiZGVmaW5lVmlydHVhbEV4b0NsYXNzS2l0IiwiZGVmaW5lVmlydHVhbEV4b0NsYXNzS2l0Il0sWyJkZWZpbmVEdXJhYmxlRXhvQ2xhc3MiLCJkZWZpbmVEdXJhYmxlRXhvQ2xhc3MiXSxbImRlZmluZUR1cmFibGVFeG9DbGFzc0tpdCIsImRlZmluZUR1cmFibGVFeG9DbGFzc0tpdCJdLFsicHJlcGFyZUV4b0NsYXNzIiwicHJlcGFyZUV4b0NsYXNzIl0sWyJwcmVwYXJlRXhvQ2xhc3NLaXQiLCJwcmVwYXJlRXhvQ2xhc3NLaXQiXSxbInByZXBhcmVFeG8iLCJwcmVwYXJlRXhvIl0sWyJwcmVwYXJlU2luZ2xldG9uIiwicHJlcGFyZVNpbmdsZXRvbiJdLFsiaWdub3JlQ29udGV4dCIsImlnbm9yZUNvbnRleHQiXSxbInByb3ZpZGVLaW5kSGFuZGxlIiwicHJvdmlkZUtpbmRIYW5kbGUiXSxbInByZXBhcmVLaW5kIiwicHJlcGFyZUtpbmQiXSxbInByZXBhcmVLaW5kTXVsdGkiLCJwcmVwYXJlS2luZE11bHRpIl1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAvYSCWLhgAAC4YAAAwAAAAQGFnb3JpYy92YXQtZGF0YS12MC41LjIvc3JjL3ZhdC1kYXRhLWJpbmRpbmdzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBhZ29yaWMvc3RvcmUiXSwiZXhwb3J0cyI6WyJWYXREYXRhIiwiY2FuQmVEdXJhYmxlIiwiZGVmaW5lRHVyYWJsZUtpbmQiLCJkZWZpbmVEdXJhYmxlS2luZE11bHRpIiwiZGVmaW5lS2luZCIsImRlZmluZUtpbmRNdWx0aSIsIm1ha2VLaW5kSGFuZGxlIiwibWFrZVNjYWxhckJpZ01hcFN0b3JlIiwibWFrZVNjYWxhckJpZ1NldFN0b3JlIiwibWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZSIsIm1ha2VTY2FsYXJCaWdXZWFrU2V0U3RvcmUiLCJtYWtlU3RvcmVVdGlscyIsInBhcnRpYWxBc3NpZ24iLCJwaWNrRmFjZXQiLCJwcm92aWRlIiwicHJvdmlkZUR1cmFibGVNYXBTdG9yZSIsInByb3ZpZGVEdXJhYmxlU2V0U3RvcmUiLCJwcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZSIsInByb3ZpZGVEdXJhYmxlV2Vha1NldFN0b3JlIiwicHJvdmlkZVByb21pc2VXYXRjaGVyIiwid2F0Y2hQcm9taXNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxwcm92aWRlTGF6eTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL3N0b3JlXCIsIFtbXCJwcm92aWRlTGF6eVwiLFskaM2PX2EgPT4gKHByb3ZpZGVMYXp5ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qICAgICAgICAgICAgICAgICAgKi9cbmxldCBWYXREYXRhR2xvYmFsO1xuaWYgKCdWYXREYXRhJyBpbiBnbG9iYWxUaGlzKSB7XG4gIGdsb2JhbFRoaXMuVmF0RGF0YSB8fCBGYWlsYFZhdERhdGEgZGVmaW5lZCBpbiBnbG9iYWwgYXMgbnVsbCBvciB1bmRlZmluZWRgO1xuICAvL1xuICBWYXREYXRhR2xvYmFsID0gLyogICAgICAgICAgICAgICovIChnbG9iYWxUaGlzLlZhdERhdGEpO1xufSBlbHNlIHtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgdW5hdmFpbGFibGUgPSAoKSA9PiBGYWlsYFZhdERhdGEgdW5hdmFpbGFibGVgO1xuICBWYXREYXRhR2xvYmFsID0ge1xuICAgIGRlZmluZUtpbmQ6IHVuYXZhaWxhYmxlLFxuICAgIGRlZmluZUtpbmRNdWx0aTogdW5hdmFpbGFibGUsXG4gICAgZGVmaW5lRHVyYWJsZUtpbmQ6IHVuYXZhaWxhYmxlLFxuICAgIGRlZmluZUR1cmFibGVLaW5kTXVsdGk6IHVuYXZhaWxhYmxlLFxuICAgIG1ha2VLaW5kSGFuZGxlOiB1bmF2YWlsYWJsZSxcbiAgICBwcm92aWRlUHJvbWlzZVdhdGNoZXI6IHVuYXZhaWxhYmxlLFxuICAgIHdhdGNoUHJvbWlzZTogdW5hdmFpbGFibGUsXG4gICAgbWFrZVNjYWxhckJpZ01hcFN0b3JlOiB1bmF2YWlsYWJsZSxcbiAgICBtYWtlU2NhbGFyQmlnV2Vha01hcFN0b3JlOiB1bmF2YWlsYWJsZSxcbiAgICBtYWtlU2NhbGFyQmlnU2V0U3RvcmU6IHVuYXZhaWxhYmxlLFxuICAgIG1ha2VTY2FsYXJCaWdXZWFrU2V0U3RvcmU6IHVuYXZhaWxhYmxlLFxuICAgIGNhbkJlRHVyYWJsZTogdW5hdmFpbGFibGUsXG4gIH07XG59XG5cbmNvbnN0IFZhdERhdGFFeHBvcnQgPSBWYXREYXRhR2xvYmFsOyRozY9fb25jZS5WYXREYXRhRXhwb3J0KFZhdERhdGFFeHBvcnQpO1xuXG5cbi8qXG5cbiAqL1xuICAgICAgIGNvbnN0IHtcbiAgZGVmaW5lS2luZCxcbiAgZGVmaW5lS2luZE11bHRpLFxuICBkZWZpbmVEdXJhYmxlS2luZCxcbiAgZGVmaW5lRHVyYWJsZUtpbmRNdWx0aSxcbn0gPSBWYXREYXRhR2xvYmFsOyRozY9fb25jZS5kZWZpbmVLaW5kKGRlZmluZUtpbmQpOyRozY9fb25jZS5kZWZpbmVLaW5kTXVsdGkoZGVmaW5lS2luZE11bHRpKTskaM2PX29uY2UuZGVmaW5lRHVyYWJsZUtpbmQoZGVmaW5lRHVyYWJsZUtpbmQpOyRozY9fb25jZS5kZWZpbmVEdXJhYmxlS2luZE11bHRpKGRlZmluZUR1cmFibGVLaW5kTXVsdGkpO1xuXG4gICAgICAgY29uc3Qge1xuICBtYWtlS2luZEhhbmRsZSxcbiAgcHJvdmlkZVByb21pc2VXYXRjaGVyLFxuICB3YXRjaFByb21pc2UsXG4gIG1ha2VTY2FsYXJCaWdNYXBTdG9yZSxcbiAgbWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZSxcbiAgbWFrZVNjYWxhckJpZ1NldFN0b3JlLFxuICBtYWtlU2NhbGFyQmlnV2Vha1NldFN0b3JlLFxuICBjYW5CZUR1cmFibGUsXG59ID0gVmF0RGF0YUdsb2JhbDtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLm1ha2VLaW5kSGFuZGxlKG1ha2VLaW5kSGFuZGxlKTskaM2PX29uY2UucHJvdmlkZVByb21pc2VXYXRjaGVyKHByb3ZpZGVQcm9taXNlV2F0Y2hlcik7JGjNj19vbmNlLndhdGNoUHJvbWlzZSh3YXRjaFByb21pc2UpOyRozY9fb25jZS5tYWtlU2NhbGFyQmlnTWFwU3RvcmUobWFrZVNjYWxhckJpZ01hcFN0b3JlKTskaM2PX29uY2UubWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZShtYWtlU2NhbGFyQmlnV2Vha01hcFN0b3JlKTskaM2PX29uY2UubWFrZVNjYWxhckJpZ1NldFN0b3JlKG1ha2VTY2FsYXJCaWdTZXRTdG9yZSk7JGjNj19vbmNlLm1ha2VTY2FsYXJCaWdXZWFrU2V0U3RvcmUobWFrZVNjYWxhckJpZ1dlYWtTZXRTdG9yZSk7JGjNj19vbmNlLmNhbkJlRHVyYWJsZShjYW5CZUR1cmFibGUpO1xuICAgICAgIGNvbnN0IHBpY2tGYWNldCA9XG4gIChtYWtlciwgZmFjZXROYW1lKSA9PlxuICAoLi4uYXJncykgPT5cbiAgICBtYWtlciguLi5hcmdzKVtmYWNldE5hbWVdOyRozY9fb25jZS5waWNrRmFjZXQocGlja0ZhY2V0KTtcbmhhcmRlbihwaWNrRmFjZXQpO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcGFydGlhbEFzc2lnbiA9ICh0YXJnZXQsIHNvdXJjZSkgPT4ge1xuICBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKTtcbn07JGjNj19vbmNlLnBhcnRpYWxBc3NpZ24ocGFydGlhbEFzc2lnbik7XG5oYXJkZW4ocGFydGlhbEFzc2lnbik7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4gICAgICAgY29uc3QgcHJvdmlkZSA9XG4gIC8vXG4gIC8qXG5cblxuXG5cblxuICAgKi8gKHByb3ZpZGVMYXp5KTtcblxuLy9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2UucHJvdmlkZShwcm92aWRlKTtcbiAgICAgICBjb25zdCBtYWtlU3RvcmVVdGlscyA9IFZhdERhdGEgPT4ge1xuICBjb25zdCB7XG4gICAgLy9cbiAgICBtYWtlU2NhbGFyQmlnTWFwU3RvcmUsXG4gICAgLy9cbiAgICBtYWtlU2NhbGFyQmlnV2Vha01hcFN0b3JlLFxuICAgIC8vXG4gICAgbWFrZVNjYWxhckJpZ1NldFN0b3JlLFxuICAgIC8vXG4gICAgbWFrZVNjYWxhckJpZ1dlYWtTZXRTdG9yZSxcbiAgfSA9IFZhdERhdGE7XG5cbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IHByb3ZpZGVEdXJhYmxlTWFwU3RvcmUgPSAoYmFnZ2FnZSwgbmFtZSwgb3B0aW9ucyA9IHt9KSA9PlxuICAgIHByb3ZpZGUoYmFnZ2FnZSwgbmFtZSwgKCkgPT5cbiAgICAgIG1ha2VTY2FsYXJCaWdNYXBTdG9yZShuYW1lLCB7IGR1cmFibGU6IHRydWUsIC4uLm9wdGlvbnMgfSksXG4gICAgKTtcbiAgaGFyZGVuKHByb3ZpZGVEdXJhYmxlTWFwU3RvcmUpO1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBwcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZSA9IChiYWdnYWdlLCBuYW1lLCBvcHRpb25zID0ge30pID0+XG4gICAgcHJvdmlkZShiYWdnYWdlLCBuYW1lLCAoKSA9PlxuICAgICAgbWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZShuYW1lLCB7IGR1cmFibGU6IHRydWUsIC4uLm9wdGlvbnMgfSksXG4gICAgKTtcbiAgaGFyZGVuKHByb3ZpZGVEdXJhYmxlV2Vha01hcFN0b3JlKTtcblxuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgcHJvdmlkZUR1cmFibGVTZXRTdG9yZSA9IChiYWdnYWdlLCBuYW1lLCBvcHRpb25zID0ge30pID0+XG4gICAgcHJvdmlkZShiYWdnYWdlLCBuYW1lLCAoKSA9PlxuICAgICAgbWFrZVNjYWxhckJpZ1NldFN0b3JlKG5hbWUsIHsgZHVyYWJsZTogdHJ1ZSwgLi4ub3B0aW9ucyB9KSxcbiAgICApO1xuICBoYXJkZW4ocHJvdmlkZUR1cmFibGVTZXRTdG9yZSk7XG5cbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IHByb3ZpZGVEdXJhYmxlV2Vha1NldFN0b3JlID0gKGJhZ2dhZ2UsIG5hbWUsIG9wdGlvbnMgPSB7fSkgPT5cbiAgICBwcm92aWRlKGJhZ2dhZ2UsIG5hbWUsICgpID0+XG4gICAgICBtYWtlU2NhbGFyQmlnV2Vha1NldFN0b3JlKG5hbWUsIHsgZHVyYWJsZTogdHJ1ZSwgLi4ub3B0aW9ucyB9KSxcbiAgICApO1xuICBoYXJkZW4ocHJvdmlkZUR1cmFibGVXZWFrU2V0U3RvcmUpO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIHByb3ZpZGVEdXJhYmxlTWFwU3RvcmUsXG4gICAgcHJvdmlkZUR1cmFibGVXZWFrTWFwU3RvcmUsXG4gICAgcHJvdmlkZUR1cmFibGVTZXRTdG9yZSxcbiAgICBwcm92aWRlRHVyYWJsZVdlYWtTZXRTdG9yZSxcbiAgfSk7XG59OyRozY9fb25jZS5tYWtlU3RvcmVVdGlscyhtYWtlU3RvcmVVdGlscyk7XG5cbmNvbnN0IGdsb2JhbFN0b3JlVXRpbHMgPSBtYWtlU3RvcmVVdGlscyhWYXREYXRhR2xvYmFsKTtcbiAgICAgICBjb25zdCB7XG4gIHByb3ZpZGVEdXJhYmxlTWFwU3RvcmUsXG4gIHByb3ZpZGVEdXJhYmxlV2Vha01hcFN0b3JlLFxuICBwcm92aWRlRHVyYWJsZVNldFN0b3JlLFxuICBwcm92aWRlRHVyYWJsZVdlYWtTZXRTdG9yZSxcbn0gPSBnbG9iYWxTdG9yZVV0aWxzOyRozY9fb25jZS5wcm92aWRlRHVyYWJsZU1hcFN0b3JlKHByb3ZpZGVEdXJhYmxlTWFwU3RvcmUpOyRozY9fb25jZS5wcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZShwcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZSk7JGjNj19vbmNlLnByb3ZpZGVEdXJhYmxlU2V0U3RvcmUocHJvdmlkZUR1cmFibGVTZXRTdG9yZSk7JGjNj19vbmNlLnByb3ZpZGVEdXJhYmxlV2Vha1NldFN0b3JlKHByb3ZpZGVEdXJhYmxlV2Vha1NldFN0b3JlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlZhdERhdGEiOlsiVmF0RGF0YUV4cG9ydCJdLCJkZWZpbmVLaW5kIjpbImRlZmluZUtpbmQiXSwiZGVmaW5lS2luZE11bHRpIjpbImRlZmluZUtpbmRNdWx0aSJdLCJkZWZpbmVEdXJhYmxlS2luZCI6WyJkZWZpbmVEdXJhYmxlS2luZCJdLCJkZWZpbmVEdXJhYmxlS2luZE11bHRpIjpbImRlZmluZUR1cmFibGVLaW5kTXVsdGkiXSwibWFrZUtpbmRIYW5kbGUiOlsibWFrZUtpbmRIYW5kbGUiXSwicHJvdmlkZVByb21pc2VXYXRjaGVyIjpbInByb3ZpZGVQcm9taXNlV2F0Y2hlciJdLCJ3YXRjaFByb21pc2UiOlsid2F0Y2hQcm9taXNlIl0sIm1ha2VTY2FsYXJCaWdNYXBTdG9yZSI6WyJtYWtlU2NhbGFyQmlnTWFwU3RvcmUiXSwibWFrZVNjYWxhckJpZ1dlYWtNYXBTdG9yZSI6WyJtYWtlU2NhbGFyQmlnV2Vha01hcFN0b3JlIl0sIm1ha2VTY2FsYXJCaWdTZXRTdG9yZSI6WyJtYWtlU2NhbGFyQmlnU2V0U3RvcmUiXSwibWFrZVNjYWxhckJpZ1dlYWtTZXRTdG9yZSI6WyJtYWtlU2NhbGFyQmlnV2Vha1NldFN0b3JlIl0sImNhbkJlRHVyYWJsZSI6WyJjYW5CZUR1cmFibGUiXSwicGlja0ZhY2V0IjpbInBpY2tGYWNldCJdLCJwYXJ0aWFsQXNzaWduIjpbInBhcnRpYWxBc3NpZ24iXSwicHJvdmlkZSI6WyJwcm92aWRlIl0sIm1ha2VTdG9yZVV0aWxzIjpbIm1ha2VTdG9yZVV0aWxzIl0sInByb3ZpZGVEdXJhYmxlTWFwU3RvcmUiOlsicHJvdmlkZUR1cmFibGVNYXBTdG9yZSJdLCJwcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZSI6WyJwcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZSJdLCJwcm92aWRlRHVyYWJsZVNldFN0b3JlIjpbInByb3ZpZGVEdXJhYmxlU2V0U3RvcmUiXSwicHJvdmlkZUR1cmFibGVXZWFrU2V0U3RvcmUiOlsicHJvdmlkZUR1cmFibGVXZWFrU2V0U3RvcmUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAi5+OuJYYAACWGAAAGwAAAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvRS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCIuL3RyYWNrLXR1cm5zLmpzIiwiLi9tZXNzYWdlLWJyZWFrcG9pbnRzLmpzIl0sImV4cG9ydHMiOlsiZGVmYXVsdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IFgscSxGYWlsLG1ha2VFcnJvcix0cmFja1R1cm5zLG1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlcjskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dXV0sW1wiLi90cmFjay10dXJucy5qc1wiLCBbW1widHJhY2tUdXJuc1wiLFskaM2PX2EgPT4gKHRyYWNrVHVybnMgPSAkaM2PX2EpXV1dXSxbXCIuL21lc3NhZ2UtYnJlYWtwb2ludHMuanNcIiwgW1tcIm1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlclwiLFskaM2PX2EgPT4gKG1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlciA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuICovXG5cbmNvbnN0IHsgYXNzaWduLCBjcmVhdGUgfSA9IE9iamVjdDtcblxuY29uc3Qgb25TZW5kID0gbWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyKCdFTkRPX1NFTkRfQlJFQUtQT0lOVFMnKTtcblxuLypcblxuXG4gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgYmFzZUZyZWV6YWJsZVByb3h5SGFuZGxlciA9IHtcbiAgc2V0KF90YXJnZXQsIF9wcm9wLCBfdmFsdWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzRXh0ZW5zaWJsZShfdGFyZ2V0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzZXRQcm90b3R5cGVPZihfdGFyZ2V0LCBfdmFsdWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGRlbGV0ZVByb3BlcnR5KF90YXJnZXQsIF9wcm9wKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxufTtcblxuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VFUHJveHlIYW5kbGVyID0gKHJlY2lwaWVudCwgSGFuZGxlZFByb21pc2UsIHVud3JhcCkgPT5cbiAgaGFyZGVuKHtcbiAgICAuLi5iYXNlRnJlZXphYmxlUHJveHlIYW5kbGVyLFxuICAgIGdldDogKF90YXJnZXQsIHByb3BlcnR5S2V5LCByZWNlaXZlcikgPT4ge1xuICAgICAgcmV0dXJuIGhhcmRlbihcbiAgICAgICAge1xuICAgICAgICAgIC8qXG5cblxuXG5cblxuICAgICAgICAgICAqL1xuICAgICAgICAgIFtwcm9wZXJ0eUtleV0oLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKHRoaXMgIT09IHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIHJldHVybiBIYW5kbGVkUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICAgICAgbWFrZUVycm9yKFxuICAgICAgICAgICAgICAgICAgWGBVbmV4cGVjdGVkIHJlY2VpdmVyIGZvciBcIiR7cShwcm9wZXJ0eUtleSl9XCIgbWV0aG9kIG9mIEUoJHtxKFxuICAgICAgICAgICAgICAgICAgICByZWNpcGllbnQsXG4gICAgICAgICAgICAgICAgICApfSlgLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCBwcm9wZXJ0eUtleSkpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgZGVidWdnZXI7IC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW53cmFwKFxuICAgICAgICAgICAgICBIYW5kbGVkUHJvbWlzZS5hcHBseU1ldGhvZCh1bndyYXAocmVjaXBpZW50KSwgcHJvcGVydHlLZXksIGFyZ3MpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9cbiAgICAgICAgfVtwcm9wZXJ0eUtleV0sXG4gICAgICApO1xuICAgIH0sXG4gICAgYXBwbHk6IChfdGFyZ2V0LCBfdGhpc0FyZywgYXJnQXJyYXkgPSBbXSkgPT4ge1xuICAgICAgaWYgKG9uU2VuZCAmJiBvblNlbmQuc2hvdWxkQnJlYWtwb2ludChyZWNpcGllbnQsIHVuZGVmaW5lZCkpIHtcbiAgICAgICAgLy9cbiAgICAgICAgZGVidWdnZXI7IC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICB9XG4gICAgICByZXR1cm4gdW53cmFwKEhhbmRsZWRQcm9taXNlLmFwcGx5RnVuY3Rpb24odW53cmFwKHJlY2lwaWVudCksIGFyZ0FycmF5KSk7XG4gICAgfSxcbiAgICBoYXM6IChfdGFyZ2V0LCBfcCkgPT4ge1xuICAgICAgLy9cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gIH0pO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VFU2VuZE9ubHlQcm94eUhhbmRsZXIgPSAocmVjaXBpZW50LCBIYW5kbGVkUHJvbWlzZSwgdW53cmFwKSA9PlxuICBoYXJkZW4oe1xuICAgIC4uLmJhc2VGcmVlemFibGVQcm94eUhhbmRsZXIsXG4gICAgZ2V0OiAoX3RhcmdldCwgcHJvcGVydHlLZXksIHJlY2VpdmVyKSA9PiB7XG4gICAgICByZXR1cm4gaGFyZGVuKFxuICAgICAgICB7XG4gICAgICAgICAgLypcblxuXG5cblxuXG4gICAgICAgICAgICovXG4gICAgICAgICAgW3Byb3BlcnR5S2V5XSguLi5hcmdzKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdGhpcyA9PT0gcmVjZWl2ZXIgfHxcbiAgICAgICAgICAgICAgRmFpbGBVbmV4cGVjdGVkIHJlY2VpdmVyIGZvciBcIiR7cShcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgICAgKX1cIiBtZXRob2Qgb2YgRS5zZW5kT25seSgke3EocmVjaXBpZW50KX0pYDtcbiAgICAgICAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCBwcm9wZXJ0eUtleSkpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgZGVidWdnZXI7IC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBIYW5kbGVkUHJvbWlzZS5hcHBseU1ldGhvZFNlbmRPbmx5KFxuICAgICAgICAgICAgICB1bndyYXAocmVjaXBpZW50KSxcbiAgICAgICAgICAgICAgcHJvcGVydHlLZXksXG4gICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9cbiAgICAgICAgfVtwcm9wZXJ0eUtleV0sXG4gICAgICApO1xuICAgIH0sXG4gICAgYXBwbHk6IChfdGFyZ2V0LCBfdGhpc0FyZywgYXJnc0FycmF5ID0gW10pID0+IHtcbiAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCB1bmRlZmluZWQpKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGRlYnVnZ2VyOyAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgfVxuICAgICAgSGFuZGxlZFByb21pc2UuYXBwbHlGdW5jdGlvblNlbmRPbmx5KHVud3JhcChyZWNpcGllbnQpLCBhcmdzQXJyYXkpO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGhhczogKF90YXJnZXQsIF9wKSA9PiB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgfSk7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgbWFrZUVHZXRQcm94eUhhbmRsZXIgPSAoeCwgSGFuZGxlZFByb21pc2UsIHVud3JhcCkgPT5cbiAgaGFyZGVuKHtcbiAgICAuLi5iYXNlRnJlZXphYmxlUHJveHlIYW5kbGVyLFxuICAgIGhhczogKF90YXJnZXQsIF9wcm9wKSA9PiB0cnVlLFxuICAgIGdldDogKF90YXJnZXQsIHByb3ApID0+IEhhbmRsZWRQcm9taXNlLmdldCh1bndyYXAoeCksIHByb3ApLFxuICB9KTtcblxuLyogICAgICAgICAgICAgICAgICovXG5jb25zdCByZXNvbHZlID0geCA9PiBIYW5kbGVkUHJvbWlzZS5yZXNvbHZlKHgpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuY29uc3QgbWFrZUUgPSAoSGFuZGxlZFByb21pc2UsIHBvd2VycyA9IHt9KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBhZGRpdGlvbmFsID0gLyogICAgICAgICAgICAqLyAoe30pLFxuICAgIHVud3JhcCA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAocmVzb2x2ZSksXG4gIH0gPSBwb3dlcnM7XG5cbiAgcmV0dXJuIGhhcmRlbihcbiAgICBhc3NpZ24oXG4gICAgICAvKlxuXG5cblxuXG5cblxuXG4gICAgICAgKi9cbiAgICAgIHggPT5cbiAgICAgICAgaGFyZGVuKFxuICAgICAgICAgIG5ldyBQcm94eSgoKSA9PiB7fSwgbWFrZUVQcm94eUhhbmRsZXIoeCwgSGFuZGxlZFByb21pc2UsIHVud3JhcCkpLFxuICAgICAgICApLFxuICAgICAge1xuICAgICAgICAvKlxuXG5cblxuXG5cblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiB4ID0+XG4gICAgICAgICAgaGFyZGVuKFxuICAgICAgICAgICAgbmV3IFByb3h5KFxuICAgICAgICAgICAgICBjcmVhdGUobnVsbCksXG4gICAgICAgICAgICAgIG1ha2VFR2V0UHJveHlIYW5kbGVyKHgsIEhhbmRsZWRQcm9taXNlLCB1bndyYXApLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApLFxuXG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHJlc29sdmU6IHggPT4gcmVzb2x2ZSh1bndyYXAoeCkpLFxuXG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHNlbmRPbmx5OiB4ID0+XG4gICAgICAgICAgaGFyZGVuKFxuICAgICAgICAgICAgbmV3IFByb3h5KFxuICAgICAgICAgICAgICAoKSA9PiB7fSxcbiAgICAgICAgICAgICAgbWFrZUVTZW5kT25seVByb3h5SGFuZGxlcih4LCBIYW5kbGVkUHJvbWlzZSwgdW53cmFwKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKSxcblxuICAgICAgICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHdoZW46ICh4LCBvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVud3JhcHBlZCA9IHJlc29sdmUodW53cmFwKHgpKTtcbiAgICAgICAgICBpZiAob25mdWxmaWxsZWQgPT0gbnVsbCAmJiBvbnJlamVjdGVkID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB1bndyYXBwZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB1bndyYXBwZWQudGhlbihcbiAgICAgICAgICAgIC4uLnRyYWNrVHVybnMoLyogICAgICAgICAgICAgICAgKi8gKFtvbmZ1bGZpbGxlZCwgb25yZWplY3RlZF0pKSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGFkZGl0aW9uYWwsXG4gICAgKSxcbiAgKTtcbn07XG5cbmNvbnN0e2RlZmF1bHQ6JGPNj19kZWZhdWx0fT17ZGVmYXVsdDptYWtlRX07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5kZWZhdWx0KCRjzY9fZGVmYXVsdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJkZWZhdWx0IjpbImRlZmF1bHQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAmHnNlJUCAACVAgAAHwAAAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvaW5kZXguanN7ImltcG9ydHMiOlsiLi4vdmF0LmpzIiwiLi9FLmpzIiwiLi92b3ctdXRpbHMuanMiLCIuL3R5cGVzLWluZGV4LmpzIl0sImV4cG9ydHMiOlsidG9QYXNzYWJsZUNhcCIsInRvUGFzc2FibGVDYXAiLG51bGxdLCJyZWV4cG9ydHMiOlsiLi4vdmF0LmpzIiwiLi90eXBlcy1pbmRleC5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuLi92YXQuanNcIiwgW11dLFtcIi4vRS5qc1wiLCBbXV0sW1wiLi92b3ctdXRpbHMuanNcIiwgW11dLFtcIi4vdHlwZXMtaW5kZXguanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL0UuanMiOltbImRlZmF1bHQiLCJtYWtlRSJdXSwiLi92b3ctdXRpbHMuanMiOltbIlZvd1NoYXBlIiwiVm93U2hhcGUiXSxbInRvUGFzc2FibGVDYXAiLCJ0b1Bhc3NhYmxlQ2FwIl1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACntm5TkA8AAJAPAAAtAAAAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy9tZXNzYWdlLWJyZWFrcG9pbnRzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vudi1vcHRpb25zIiwiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZ2V0RW52aXJvbm1lbnRPcHRpb24scSxGYWlsOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZW52LW9wdGlvbnNcIiwgW1tcImdldEVudmlyb25tZW50T3B0aW9uXCIsWyRozY9fYSA9PiAoZ2V0RW52aXJvbm1lbnRPcHRpb24gPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuY29uc3QgeyBoYXNPd24sIGZyZWV6ZSwgZW50cmllcyB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4vKlxuXG5cblxuXG5cbiAqL1xuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuICovXG5jb25zdCBpc0pTT05SZWNvcmQgPSB2YWwgPT5cbiAgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KHZhbCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IHNpbXBsaWZ5VGFnID0gdGFnID0+IHtcbiAgZm9yIChjb25zdCBwcmVmaXggb2YgWydBbGxlZ2VkOiAnLCAnRGVidWdOYW1lOiAnXSkge1xuICAgIGlmICh0YWcuc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICByZXR1cm4gdGFnLnNsaWNlKHByZWZpeC5sZW5ndGgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGFnO1xufTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIgPSBvcHRpb25OYW1lID0+IHtcbiAgbGV0IGJyZWFrcG9pbnRzID0gSlNPTi5wYXJzZShnZXRFbnZpcm9ubWVudE9wdGlvbihvcHRpb25OYW1lLCAnbnVsbCcpKTtcblxuICBpZiAoYnJlYWtwb2ludHMgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGxldCBicmVha3BvaW50c1RhYmxlO1xuXG4gIGNvbnN0IGdldEJyZWFrcG9pbnRzID0gKCkgPT4gYnJlYWtwb2ludHM7XG4gIGZyZWV6ZShnZXRCcmVha3BvaW50cyk7XG5cbiAgY29uc3Qgc2V0QnJlYWtwb2ludHMgPSAobmV3QnJlYWtwb2ludHMgPSBicmVha3BvaW50cykgPT4ge1xuICAgIGlzSlNPTlJlY29yZChuZXdCcmVha3BvaW50cykgfHxcbiAgICAgIEZhaWxgRXhwZWN0ZWQgJHtxKG9wdGlvbk5hbWUpfSBvcHRpb24gdG8gYmUgYSBKU09OIGJyZWFrcG9pbnRzIHJlY29yZGA7XG5cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAvL1xuICAgIGNvbnN0IG5ld0JyZWFrcG9pbnRzVGFibGUgPSB7IF9fcHJvdG9fXzogbnVsbCB9O1xuXG4gICAgZm9yIChjb25zdCBbdGFnLCBtZXRob2RCUHNdIG9mIGVudHJpZXMobmV3QnJlYWtwb2ludHMpKSB7XG4gICAgICB0YWcgPT09IHNpbXBsaWZ5VGFnKHRhZykgfHxcbiAgICAgICAgRmFpbGBKdXN0IHVzZSBzaW1wbGUgdGFnICR7cShzaW1wbGlmeVRhZyh0YWcpKX0gcmF0aGVyIHRoYW4gJHtxKHRhZyl9YDtcbiAgICAgIGlzSlNPTlJlY29yZChtZXRob2RCUHMpIHx8XG4gICAgICAgIEZhaWxgRXhwZWN0ZWQgJHtxKG9wdGlvbk5hbWUpfSBvcHRpb24ncyAke3EoXG4gICAgICAgICAgdGFnLFxuICAgICAgICApfSB0byBiZSBhIEpTT04gbWV0aG9kcyBicmVha3BvaW50cyByZWNvcmRgO1xuICAgICAgZm9yIChjb25zdCBbbWV0aG9kTmFtZSwgY291bnRdIG9mIGVudHJpZXMobWV0aG9kQlBzKSkge1xuICAgICAgICBjb3VudCA9PT0gJyonIHx8XG4gICAgICAgICAgKHR5cGVvZiBjb3VudCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIE51bWJlci5pc1NhZmVJbnRlZ2VyKGNvdW50KSAmJlxuICAgICAgICAgICAgY291bnQgPj0gMCkgfHxcbiAgICAgICAgICBGYWlsYEV4cGVjdGVkICR7cShvcHRpb25OYW1lKX0gb3B0aW9uJ3MgJHtxKHRhZyl9LiR7cShcbiAgICAgICAgICAgIG1ldGhvZE5hbWUsXG4gICAgICAgICAgKX0gdG8gYmUgXCIqXCIgb3IgYSBub24tbmVnYXRpdmUgaW50ZWdlcmA7XG5cbiAgICAgICAgY29uc3QgY2xhc3NCUHMgPSBoYXNPd24obmV3QnJlYWtwb2ludHNUYWJsZSwgbWV0aG9kTmFtZSlcbiAgICAgICAgICA/IG5ld0JyZWFrcG9pbnRzVGFibGVbbWV0aG9kTmFtZV1cbiAgICAgICAgICA6IChuZXdCcmVha3BvaW50c1RhYmxlW21ldGhvZE5hbWVdID0ge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBfX3Byb3RvX186IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgY2xhc3NCUHNbdGFnXSA9IGNvdW50O1xuICAgICAgfVxuICAgIH1cbiAgICBicmVha3BvaW50cyA9IG5ld0JyZWFrcG9pbnRzO1xuICAgIGJyZWFrcG9pbnRzVGFibGUgPSBuZXdCcmVha3BvaW50c1RhYmxlO1xuICB9O1xuICBmcmVlemUoc2V0QnJlYWtwb2ludHMpO1xuXG4gIGNvbnN0IHNob3VsZEJyZWFrcG9pbnQgPSAocmVjaXBpZW50LCBtZXRob2ROYW1lKSA9PiB7XG4gICAgaWYgKG1ldGhvZE5hbWUgPT09IHVuZGVmaW5lZCB8fCBtZXRob2ROYW1lID09PSBudWxsKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBjbGFzc0JQcyA9IGJyZWFrcG9pbnRzVGFibGVbbWV0aG9kTmFtZV0gfHwgYnJlYWtwb2ludHNUYWJsZVsnKiddO1xuICAgIGlmIChjbGFzc0JQcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCB0YWcgPSBzaW1wbGlmeVRhZyhyZWNpcGllbnRbU3ltYm9sLnRvU3RyaW5nVGFnXSk7XG4gICAgbGV0IGNvdW50ID0gY2xhc3NCUHNbdGFnXTtcbiAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFnID0gJyonO1xuICAgICAgY291bnQgPSBjbGFzc0JQc1t0YWddO1xuICAgICAgaWYgKGNvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY291bnQgPT09ICcqJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGFzc2VydCh0eXBlb2YgY291bnQgPT09ICdudW1iZXInICYmIGNvdW50ID49IDEpO1xuICAgIGNsYXNzQlBzW3RhZ10gPSBjb3VudCAtIDE7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBmcmVlemUoc2hvdWxkQnJlYWtwb2ludCk7XG5cbiAgY29uc3QgYnJlYWtwb2ludFRlc3RlciA9IGZyZWV6ZSh7XG4gICAgZ2V0QnJlYWtwb2ludHMsXG4gICAgc2V0QnJlYWtwb2ludHMsXG4gICAgc2hvdWxkQnJlYWtwb2ludCxcbiAgfSk7XG4gIGJyZWFrcG9pbnRUZXN0ZXIuc2V0QnJlYWtwb2ludHMoKTtcbiAgcmV0dXJuIGJyZWFrcG9pbnRUZXN0ZXI7XG59OyRozY9fb25jZS5tYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIobWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyKTtcbmZyZWV6ZShtYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyIjpbIm1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAP2zXVnQwAAJ0MAAArAAAAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy9yZWplY3Rpb24tdHJhY2tlci5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wcm9taXNlLWtpdCIsIkBlbmRvL3BhdHRlcm5zIiwiLi92b3ctdXRpbHMuanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlVm93UmVqZWN0aW9uVHJhY2tlciJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IFgsbWFrZVByb21pc2VLaXQsTSxzaW5rOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Byb21pc2Uta2l0XCIsIFtbXCJtYWtlUHJvbWlzZUtpdFwiLFskaM2PX2EgPT4gKG1ha2VQcm9taXNlS2l0ID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi92b3ctdXRpbHMuanNcIiwgW1tcInNpbmtcIixbJGjNj19hID0+IChzaW5rID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG4gKi9cbmNvbnN0IG1ha2VVbmhhbmRsZWRSZWplY3Rpb25DYW5jZWxsZXIgPSAocmVqZWN0ZWQsIHVwZ3JhZGVkUEspID0+IHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICAvL1xuICAgIHJlamVjdGVkPy5jYXRjaChzaW5rKTtcbiAgICAvL1xuICAgIC8vXG4gICAgdXBncmFkZWRQSz8ucmVzb2x2ZSgpO1xuICB9O1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyID0gem9uZSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHZvd1RvQ2FuY2VsVW5oYW5kbGVkUmVqZWN0aW9uID0gbmV3IFdlYWtNYXAoKTtcblxuICBjb25zdCB1cGdyYWRlUmVqZWN0aW9uV2F0Y2hlciA9IHpvbmUuZXhvKFxuICAgICdVcGdyYWRlUmVqZWN0aW9uV2F0Y2hlcicsXG4gICAgTS5pbnRlcmZhY2UoJ1VwZ3JhZGVSZWplY3Rpb25XYXRjaGVyJywge1xuICAgICAgb25SZWplY3RlZDogTS5jYWxsKE0ucmF3KCksIE0ucmF3KCkpLnJldHVybnMoKSxcbiAgICB9KSxcbiAgICB7XG4gICAgICBvblJlamVjdGVkKHVwZ3JhZGVSZWFzb24sIGJhc2VSZWFzb24pIHtcbiAgICAgICAgY29uc3QgcmVhc29uID0gYXNzZXJ0LmVycm9yKFxuICAgICAgICAgIFhgVk9XX1JFSkVDVElPTiAke2Jhc2VSZWFzb259IG5vdCBoYW5kbGVkIGJlZm9yZSB1cGdyYWRlICR7dXBncmFkZVJlYXNvbn1gLFxuICAgICAgICApO1xuICAgICAgICAvL1xuICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgY29uc3Qgdm93UmVqZWN0aW9uVHJhY2tlciA9IHpvbmUuZXhvKFxuICAgICdWb3dSZWplY3Rpb25UcmFja2VyJyxcbiAgICBNLmludGVyZmFjZSgnVm93UmVqZWN0aW9uVHJhY2tlcicsIHtcbiAgICAgIGhhbmRsZTogTS5jYWxsKE0ucmVtb3RhYmxlKCkpLnJldHVybnMoKSxcbiAgICAgIHJlamVjdDogTS5jYWxsKE0ucmVtb3RhYmxlKCksIE0ucmF3KCkpLnJldHVybnMoKSxcbiAgICB9KSxcbiAgICB7XG4gICAgICAvKlxuXG4gICAgICAgKi9cbiAgICAgIGhhbmRsZSh2b3dDYXApIHtcbiAgICAgICAgY29uc3QgY2FuY2VsID0gdm93VG9DYW5jZWxVbmhhbmRsZWRSZWplY3Rpb24uZ2V0KHZvd0NhcCk7XG4gICAgICAgIGlmICghY2FuY2VsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgYXNzZXJ0LmVycm9yKFxuICAgICAgICAgICAgICBYYE5vdyBoYW5kbGluZyBhIFZPV19SRUpFQ1RJT04gZnJvbSBhIHByaW9yIGluY2FybmF0aW9uIGZvciAke3Zvd0NhcH1gLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2b3dUb0NhbmNlbFVuaGFuZGxlZFJlamVjdGlvbi5kZWxldGUodm93Q2FwKTtcbiAgICAgICAgY2FuY2VsKCk7XG4gICAgICB9LFxuICAgICAgLypcblxuXG4gICAgICAgKi9cbiAgICAgIHJlamVjdCh2b3dDYXAsIHJlYXNvbikge1xuICAgICAgICBpZiAodm93VG9DYW5jZWxVbmhhbmRsZWRSZWplY3Rpb24uaGFzKHZvd0NhcCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBoYXJkZW4ocmVhc29uKTtcbiAgICAgICAgY29uc3QgYmFzZVJlYXNvbiA9IHpvbmUuaXNTdG9yYWJsZShyZWFzb24pXG4gICAgICAgICAgPyByZWFzb25cbiAgICAgICAgICA6IGFzc2VydC5lcnJvcihYYFZvdyByZWplY3Rpb24gcmVhc29uIHdhcyBub3Qgc3RvcmVkOiAke3JlYXNvbn1gKTtcblxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCB1cGdyYWRlZFBLID0gbWFrZVByb21pc2VLaXQoKTtcbiAgICAgICAgem9uZS53YXRjaFByb21pc2UoXG4gICAgICAgICAgdXBncmFkZWRQSy5wcm9taXNlLFxuICAgICAgICAgIHVwZ3JhZGVSZWplY3Rpb25XYXRjaGVyLFxuICAgICAgICAgIGJhc2VSZWFzb24sXG4gICAgICAgICk7XG5cbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgcmVqZWN0ZWQgPSBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICAgICAgICBjb25zdCBjYW5jZWwgPSBtYWtlVW5oYW5kbGVkUmVqZWN0aW9uQ2FuY2VsbGVyKHJlamVjdGVkLCB1cGdyYWRlZFBLKTtcbiAgICAgICAgdm93VG9DYW5jZWxVbmhhbmRsZWRSZWplY3Rpb24uc2V0KHZvd0NhcCwgY2FuY2VsKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICByZXR1cm4gdm93UmVqZWN0aW9uVHJhY2tlcjtcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLnByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyKHByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyIjpbInByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEg4eRgRGAAAERgAACMAAABAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3JldHJ5YWJsZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wYXR0ZXJucyIsIkBhZ29yaWMvYmFzZS16b25lIiwiLi92b3ctdXRpbHMuanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlUmV0cnlhYmxlVG9vbHMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLE0sUHJvbWlzZVdhdGNoZXJJLG1ha2VBc1Zvdyx0b1Bhc3NhYmxlQ2FwLFZvd1NoYXBlOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvYmFzZS16b25lXCIsIFtbXCJQcm9taXNlV2F0Y2hlcklcIixbJGjNj19hID0+IChQcm9taXNlV2F0Y2hlckkgPSAkaM2PX2EpXV1dXSxbXCIuL3Zvdy11dGlscy5qc1wiLCBbW1wibWFrZUFzVm93XCIsWyRozY9fYSA9PiAobWFrZUFzVm93ID0gJGjNj19hKV1dLFtcInRvUGFzc2FibGVDYXBcIixbJGjNj19hID0+ICh0b1Bhc3NhYmxlQ2FwID0gJGjNj19hKV1dLFtcIlZvd1NoYXBlXCIsWyRozY9fYSA9PiAoVm93U2hhcGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG4vKlxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuXG4vKlxuXG4gKi9cblxuY29uc3QgeyBkZWZpbmVQcm9wZXJ0aWVzIH0gPSBPYmplY3Q7XG5cbmNvbnN0IFJldHJ5YWJsZUZsb3dJS2l0ID0gaGFyZGVuKHtcbiAgZmxvdzogTS5pbnRlcmZhY2UoJ0Zsb3cnLCB7XG4gICAgcmVzdGFydDogTS5jYWxsKCkucmV0dXJucygpLFxuICAgIGdldE91dGNvbWU6IE0uY2FsbCgpLnJldHVybnMoVm93U2hhcGUpLFxuICB9KSxcbiAgcmVzdWx0V2F0Y2hlcjogUHJvbWlzZVdhdGNoZXJJLFxufSk7XG5cbmNvbnN0IEFkbWluUmV0cnlhYmxlRmxvd0kgPSBNLmludGVyZmFjZSgnUmV0cnlhYmxlRmxvd0FkbWluJywge1xuICBnZXRGbG93Rm9yT3V0Y29tZVZvdzogTS5jYWxsKFZvd1NoYXBlKS5yZXR1cm5zKE0ub3B0KE0ucmVtb3RhYmxlKCdmbG93JykpKSxcbn0pO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVSZXRyeWFibGVUb29scyA9IChvdXRlclpvbmUsIG91dGVyT3B0aW9ucykgPT4ge1xuICBjb25zdCB7IG1ha2VWb3dLaXQsIGlzUmV0cnlhYmxlUmVhc29uIH0gPSBvdXRlck9wdGlvbnM7XG5cbiAgY29uc3QgYXNWb3cgPSBtYWtlQXNWb3cobWFrZVZvd0tpdCk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBmbG93Rm9yT3V0Y29tZVZvd0tleSA9XG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgIG91dGVyWm9uZS5tYXBTdG9yZSgncmV0cnlhYmxlRmxvd0Zvck91dGNvbWVWb3cnLCB7XG4gICAgICAgIGtleVNoYXBlOiBNLnJlbW90YWJsZSgndG9QYXNzYWJsZUNhcCcpLFxuICAgICAgICB2YWx1ZVNoYXBlOiBNLnJlbW90YWJsZSgnZmxvdycpICAvL1xuICAgICAgfSlcbiAgICApO1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlUmV0cnlhYmxlRmxvd0tpdCA9ICh6b25lLCB0YWcsIHJldHJ5YWJsZUZ1bmMpID0+IHtcbiAgICB0eXBlb2YgcmV0cnlhYmxlRnVuYyA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgRmFpbGByZXRyeWFibGVGdW5jIG11c3QgYmUgYSBjYWxsYWJsZSBmdW5jdGlvbiAke3JldHJ5YWJsZUZ1bmN9YDtcblxuICAgIGNvbnN0IGludGVybmFsTWFrZVJldHJ5YWJsZUZsb3dLaXQgPSB6b25lLmV4b0NsYXNzS2l0KFxuICAgICAgdGFnLFxuICAgICAgUmV0cnlhYmxlRmxvd0lLaXQsXG4gICAgICBhY3RpdmF0aW9uQXJncyA9PiB7XG4gICAgICAgIGhhcmRlbihhY3RpdmF0aW9uQXJncyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhY3RpdmF0aW9uQXJncywgLy9cbiAgICAgICAgICBvdXRjb21lS2l0OiBtYWtlVm93S2l0KCksIC8vXG4gICAgICAgICAgbGFzdFJldHJ5UmVhc29uOiB1bmRlZmluZWQsXG4gICAgICAgICAgcnVuczogMG4sXG4gICAgICAgICAgaXNEb25lOiBmYWxzZSAgLy9cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGZsb3c6IHtcbiAgICAgICAgICAvKlxuXG5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICByZXN0YXJ0KCkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSwgZmFjZXRzIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBhY3RpdmF0aW9uQXJncywgaXNEb25lIH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IHsgZmxvdywgcmVzdWx0V2F0Y2hlciB9ID0gZmFjZXRzO1xuXG4gICAgICAgICAgICAhaXNEb25lIHx8XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIEZhaWxgQ2Fubm90IHJlc3RhcnQgYSBkb25lIHJldHJ5YWJsZSBmbG93ICR7Zmxvd31gO1xuXG4gICAgICAgICAgICBjb25zdCBydW5JZCA9IHN0YXRlLnJ1bnMgKyAxbjtcbiAgICAgICAgICAgIHN0YXRlLnJ1bnMgPSBydW5JZDtcblxuICAgICAgICAgICAgbGV0IHJlc3VsdFA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXN1bHRQID0gUHJvbWlzZS5yZXNvbHZlKHJldHJ5YWJsZUZ1bmMoLi4uYWN0aXZhdGlvbkFyZ3MpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICByZXN1bHRQID0gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3V0ZXJab25lLndhdGNoUHJvbWlzZShoYXJkZW4ocmVzdWx0UCksIHJlc3VsdFdhdGNoZXIsIHJ1bklkKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldE91dGNvbWUoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBvdXRjb21lS2l0IH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIHJldHVybiBvdXRjb21lS2l0LnZvdztcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICByZXN1bHRXYXRjaGVyOiB7XG4gICAgICAgICAgb25GdWxmaWxsZWQodmFsdWUsIHJ1bklkKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBydW5zLCBvdXRjb21lS2l0IH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIGlmIChydW5JZCAhPT0gcnVucykgcmV0dXJuO1xuICAgICAgICAgICAgIXN0YXRlLmlzRG9uZSB8fFxuICAgICAgICAgICAgICBGYWlsYENhbm5vdCByZXNvbHZlIGEgZG9uZSByZXRyeWFibGUgZmxvdyAke3RoaXMuZmFjZXRzLmZsb3d9YDtcbiAgICAgICAgICAgIG91dGNvbWVLaXQucmVzb2x2ZXIucmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICBmbG93Rm9yT3V0Y29tZVZvd0tleS5kZWxldGUodG9QYXNzYWJsZUNhcChvdXRjb21lS2l0LnZvdykpO1xuICAgICAgICAgICAgc3RhdGUuaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uUmVqZWN0ZWQocmVhc29uLCBydW5JZCkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgcnVucywgb3V0Y29tZUtpdCB9ID0gc3RhdGU7XG4gICAgICAgICAgICBpZiAocnVuSWQgIT09IHJ1bnMpIHJldHVybjtcbiAgICAgICAgICAgICFzdGF0ZS5pc0RvbmUgfHxcbiAgICAgICAgICAgICAgRmFpbGBDYW5ub3QgcmVqZWN0IGEgZG9uZSByZXRyeWFibGUgZmxvdyAke3RoaXMuZmFjZXRzLmZsb3d9YDtcbiAgICAgICAgICAgIGNvbnN0IHJldHJ5UmVhc29uID0gaXNSZXRyeWFibGVSZWFzb24oXG4gICAgICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICAgICAgc3RhdGUubGFzdFJldHJ5UmVhc29uLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChyZXRyeVJlYXNvbikge1xuICAgICAgICAgICAgICBzdGF0ZS5sYXN0UmV0cnlSZWFzb24gPSByZXRyeVJlYXNvbjtcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMuZmxvdy5yZXN0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvdXRjb21lS2l0LnJlc29sdmVyLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgICBmbG93Rm9yT3V0Y29tZVZvd0tleS5kZWxldGUodG9QYXNzYWJsZUNhcChvdXRjb21lS2l0LnZvdykpO1xuICAgICAgICAgICAgICBzdGF0ZS5pc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICk7XG4gICAgY29uc3QgbWFrZVJldHJ5YWJsZUZsb3dLaXQgPSBhY3RpdmF0aW9uQXJncyA9PiB7XG4gICAgICBjb25zdCByZXRyeWFibGVLaXQgPSBpbnRlcm5hbE1ha2VSZXRyeWFibGVGbG93S2l0KGFjdGl2YXRpb25BcmdzKTtcbiAgICAgIGNvbnN0IHsgZmxvdyB9ID0gcmV0cnlhYmxlS2l0O1xuXG4gICAgICBjb25zdCB2b3cgPSBmbG93LmdldE91dGNvbWUoKTtcbiAgICAgIGZsb3dGb3JPdXRjb21lVm93S2V5LmluaXQodG9QYXNzYWJsZUNhcCh2b3cpLCBmbG93KTtcbiAgICAgIGZsb3cucmVzdGFydCgpO1xuICAgICAgcmV0dXJuIHJldHJ5YWJsZUtpdDtcbiAgICB9O1xuICAgIHJldHVybiBoYXJkZW4obWFrZVJldHJ5YWJsZUZsb3dLaXQpO1xuICB9O1xuXG4gIC8qXG5cbiAgICovXG4gIGNvbnN0IHJldHJ5YWJsZSA9ICh6b25lLCB0YWcsIHJldHJ5YWJsZUZ1bmMpID0+IHtcbiAgICBjb25zdCBtYWtlUmV0cnlhYmxlS2l0ID0gcHJlcGFyZVJldHJ5YWJsZUZsb3dLaXQoem9uZSwgdGFnLCByZXRyeWFibGVGdW5jKTtcbiAgICBjb25zdCB3cmFwcGVyRnVuY05hbWUgPSBgJHt0YWd9X3JldHJ5YWJsZWA7XG5cbiAgICBjb25zdCB3cmFwcGVyRnVuYyA9IHtcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBbd3JhcHBlckZ1bmNOYW1lXSguLi5hcmdzKSB7XG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBhc1ZvdygoKSA9PiB7XG4gICAgICAgICAgem9uZS5pc1N0b3JhYmxlKGhhcmRlbihhcmdzKSkgfHxcbiAgICAgICAgICAgIEZhaWxgcmV0cnlhYmxlIGFyZ3VtZW50cyBtdXN0IGJlIHN0b3JhYmxlICR7YXJnc31gO1xuICAgICAgICAgIGNvbnN0IHsgZmxvdyB9ID0gbWFrZVJldHJ5YWJsZUtpdChhcmdzKTtcbiAgICAgICAgICByZXR1cm4gZmxvdy5nZXRPdXRjb21lKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9W3dyYXBwZXJGdW5jTmFtZV07XG4gICAgZGVmaW5lUHJvcGVydGllcyh3cmFwcGVyRnVuYywge1xuICAgICAgbGVuZ3RoOiB7IHZhbHVlOiByZXRyeWFibGVGdW5jLmxlbmd0aCB9LFxuICAgIH0pO1xuICAgIC8vXG4gICAgcmV0dXJuIGhhcmRlbih3cmFwcGVyRnVuYyk7XG4gIH07XG5cbiAgY29uc3QgYWRtaW5SZXRyeWFibGVGbG93ID0gb3V0ZXJab25lLmV4byhcbiAgICAnQWRtaW5SZXRyeWFibGVGbG93JyxcbiAgICBBZG1pblJldHJ5YWJsZUZsb3dJLFxuICAgIHtcbiAgICAgIC8qXG5cbiAgICAgICAqL1xuICAgICAgZ2V0Rmxvd0Zvck91dGNvbWVWb3cob3V0Y29tZVZvdykge1xuICAgICAgICByZXR1cm4gZmxvd0Zvck91dGNvbWVWb3dLZXkuZ2V0KHRvUGFzc2FibGVDYXAob3V0Y29tZVZvdykpO1xuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIHByZXBhcmVSZXRyeWFibGVGbG93S2l0LFxuICAgIGFkbWluUmV0cnlhYmxlRmxvdyxcbiAgICByZXRyeWFibGUsXG4gIH0pO1xufTskaM2PX29uY2UucHJlcGFyZVJldHJ5YWJsZVRvb2xzKHByZXBhcmVSZXRyeWFibGVUb29scyk7XG5oYXJkZW4ocHJlcGFyZVJldHJ5YWJsZVRvb2xzKTtcblxuLypcblxuICovXG5cbi8qXG5cbiAqL1xuXG4vKlxuXG4gKi9cblxuLypcblxuICovXG5cbi8qXG5cbiAqL1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZVJldHJ5YWJsZVRvb2xzIjpbInByZXBhcmVSZXRyeWFibGVUb29scyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABCwDiLSwoAAEsKAAAfAAAAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy90b29scy5qc3siaW1wb3J0cyI6WyIuL3Zvdy11dGlscy5qcyIsIi4vdm93LmpzIiwiLi93YXRjaC11dGlscy5qcyIsIi4vd2F0Y2guanMiLCIuL3JlamVjdGlvbi10cmFja2VyLmpzIiwiLi9yZXRyeWFibGUuanMiLCIuL3doZW4uanMiXSwiZXhwb3J0cyI6WyJwcmVwYXJlQmFzaWNWb3dUb29scyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VBc1ZvdyxwcmVwYXJlVm93S2l0LHByZXBhcmVXYXRjaFV0aWxzLHByZXBhcmVXYXRjaCxwcmVwYXJlVm93UmVqZWN0aW9uVHJhY2tlcixwcmVwYXJlUmV0cnlhYmxlVG9vbHMsbWFrZVdoZW47JGjNj19pbXBvcnRzKFtbXCIuL3Zvdy11dGlscy5qc1wiLCBbW1wibWFrZUFzVm93XCIsWyRozY9fYSA9PiAobWFrZUFzVm93ID0gJGjNj19hKV1dXV0sW1wiLi92b3cuanNcIiwgW1tcInByZXBhcmVWb3dLaXRcIixbJGjNj19hID0+IChwcmVwYXJlVm93S2l0ID0gJGjNj19hKV1dXV0sW1wiLi93YXRjaC11dGlscy5qc1wiLCBbW1wicHJlcGFyZVdhdGNoVXRpbHNcIixbJGjNj19hID0+IChwcmVwYXJlV2F0Y2hVdGlscyA9ICRozY9fYSldXV1dLFtcIi4vd2F0Y2guanNcIiwgW1tcInByZXBhcmVXYXRjaFwiLFskaM2PX2EgPT4gKHByZXBhcmVXYXRjaCA9ICRozY9fYSldXV1dLFtcIi4vcmVqZWN0aW9uLXRyYWNrZXIuanNcIiwgW1tcInByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyXCIsWyRozY9fYSA9PiAocHJlcGFyZVZvd1JlamVjdGlvblRyYWNrZXIgPSAkaM2PX2EpXV1dXSxbXCIuL3JldHJ5YWJsZS5qc1wiLCBbW1wicHJlcGFyZVJldHJ5YWJsZVRvb2xzXCIsWyRozY9fYSA9PiAocHJlcGFyZVJldHJ5YWJsZVRvb2xzID0gJGjNj19hKV1dXV0sW1wiLi93aGVuLmpzXCIsIFtbXCJtYWtlV2hlblwiLFskaM2PX2EgPT4gKG1ha2VXaGVuID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVCYXNpY1Zvd1Rvb2xzID0gKHpvbmUsIHBvd2VycyA9IHt9KSA9PiB7XG4gIGNvbnN0IHsgaXNSZXRyeWFibGVSZWFzb24gPSAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoKCkgPT4gZmFsc2UpIH0gPVxuICAgIHBvd2VycztcbiAgY29uc3Qgdm93UmVqZWN0aW9uVHJhY2tlciA9IHByZXBhcmVWb3dSZWplY3Rpb25UcmFja2VyKHpvbmUpO1xuICBjb25zdCBtYWtlVm93S2l0ID0gcHJlcGFyZVZvd0tpdCh6b25lLCB2b3dSZWplY3Rpb25UcmFja2VyKTtcbiAgY29uc3Qgd2hlbiA9IG1ha2VXaGVuKGlzUmV0cnlhYmxlUmVhc29uKTtcbiAgY29uc3Qgd2F0Y2ggPSBwcmVwYXJlV2F0Y2goem9uZSwgbWFrZVZvd0tpdCwgaXNSZXRyeWFibGVSZWFzb24pO1xuICBjb25zdCBtYWtlV2F0Y2hVdGlscyA9IHByZXBhcmVXYXRjaFV0aWxzKHpvbmUsIHtcbiAgICB3YXRjaCxcbiAgICB3aGVuLFxuICAgIG1ha2VWb3dLaXQsXG4gICAgaXNSZXRyeWFibGVSZWFzb24sXG4gIH0pO1xuICBjb25zdCB3YXRjaFV0aWxzID0gbWFrZVdhdGNoVXRpbHMoKTtcbiAgY29uc3QgYXNWb3cgPSBtYWtlQXNWb3cobWFrZVZvd0tpdCk7XG5cbiAgY29uc3QgeyByZXRyeWFibGUgfSA9IHByZXBhcmVSZXRyeWFibGVUb29scyh6b25lLCB7XG4gICAgbWFrZVZvd0tpdCxcbiAgICBpc1JldHJ5YWJsZVJlYXNvbixcbiAgfSk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgYWxsID0gbWF5YmVWb3dzID0+IHdhdGNoVXRpbHMuYWxsKG1heWJlVm93cyk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBhbGxWb3dzID0gYWxsO1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBhbGxTZXR0bGVkID0gbWF5YmVWb3dzID0+IHdhdGNoVXRpbHMuYWxsU2V0dGxlZChtYXliZVZvd3MpO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGFzUHJvbWlzZSA9IChzcGVjaW1lblAsIC4uLndhdGNoZXJBcmdzKSA9PlxuICAgIHdhdGNoVXRpbHMuYXNQcm9taXNlKHNwZWNpbWVuUCwgLi4ud2F0Y2hlckFyZ3MpO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIHdoZW4sXG4gICAgd2F0Y2gsXG4gICAgbWFrZVZvd0tpdCxcbiAgICBhbGwsXG4gICAgYWxsVm93cyxcbiAgICBhbGxTZXR0bGVkLFxuICAgIGFzVm93LFxuICAgIGFzUHJvbWlzZSxcbiAgICByZXRyeWFibGUsXG4gICAgcmV0cmlhYmxlOiByZXRyeWFibGUgIC8vXG4gIH0pO1xufTskaM2PX29uY2UucHJlcGFyZUJhc2ljVm93VG9vbHMocHJlcGFyZUJhc2ljVm93VG9vbHMpO1xuaGFyZGVuKHByZXBhcmVCYXNpY1Zvd1Rvb2xzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InByZXBhcmVCYXNpY1Zvd1Rvb2xzIjpbInByZXBhcmVCYXNpY1Zvd1Rvb2xzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAABT3AEvJCgAAyQoAACUAAABAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3RyYWNrLXR1cm5zLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vudi1vcHRpb25zIiwiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsidHJhY2tUdXJucyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGdldEVudmlyb25tZW50T3B0aW9uLGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMsYW5ub3RhdGVFcnJvcixYOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZW52LW9wdGlvbnNcIiwgW1tcImdldEVudmlyb25tZW50T3B0aW9uXCIsWyRozY9fYSA9PiAoZ2V0RW52aXJvbm1lbnRPcHRpb24gPSAkaM2PX2EpXV0sW1wiZW52aXJvbm1lbnRPcHRpb25zTGlzdEhhc1wiLFskaM2PX2EgPT4gKGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcImFubm90YXRlRXJyb3JcIixbJGjNj19hID0+IChhbm5vdGF0ZUVycm9yID0gJGjNj19hKV1dLFtcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbmxldCBoaWRkZW5QcmlvckVycm9yO1xubGV0IGhpZGRlbkN1cnJlbnRUdXJuID0gMDtcbmxldCBoaWRkZW5DdXJyZW50RXZlbnQgPSAwO1xuXG4vL1xuY29uc3QgVkVSQk9TRSA9IGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMoJ0RFQlVHJywgJ3RyYWNrLXR1cm5zJyk7XG5cbi8vXG4vL1xuY29uc3QgRU5BQkxFRCA9XG4gIGdldEVudmlyb25tZW50T3B0aW9uKCdUUkFDS19UVVJOUycsICdkaXNhYmxlZCcsIFsnZW5hYmxlZCddKSA9PT0gJ2VuYWJsZWQnO1xuXG4vL1xuLy9cbi8vXG4vL1xuXG5jb25zdCBhZGRSZWplY3Rpb25Ob3RlID0gZGV0YWlsc05vdGUgPT4gcmVhc29uID0+IHtcbiAgaWYgKHJlYXNvbiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgYW5ub3RhdGVFcnJvcihyZWFzb24sIGRldGFpbHNOb3RlKTtcbiAgfVxuICBpZiAoVkVSQk9TRSkge1xuICAgIGNvbnNvbGUubG9nKCdSRUpFQ1RFRCBhdCB0b3Agb2YgZXZlbnQgbG9vcCcsIHJlYXNvbik7XG4gIH1cbn07XG5cbmNvbnN0IHdyYXBGdW5jdGlvbiA9XG4gIChmdW5jLCBzZW5kaW5nRXJyb3IpID0+XG4gICguLi5hcmdzKSA9PiB7XG4gICAgaGlkZGVuUHJpb3JFcnJvciA9IHNlbmRpbmdFcnJvcjtcbiAgICBoaWRkZW5DdXJyZW50VHVybiArPSAxO1xuICAgIGhpZGRlbkN1cnJlbnRFdmVudCA9IDA7XG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXN1bHQ7XG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBmdW5jKC4uLmFyZ3MpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIGFubm90YXRlRXJyb3IoXG4gICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICBYYFRocm93biBmcm9tOiAke2hpZGRlblByaW9yRXJyb3J9OiR7aGlkZGVuQ3VycmVudFR1cm59LiR7aGlkZGVuQ3VycmVudEV2ZW50fWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVkVSQk9TRSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdUSFJPV04gdG8gdG9wIG9mIGV2ZW50IGxvb3AnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICBjb25zdCBkZXRhaWxzTm90ZSA9IFhgUmVqZWN0aW9uIGZyb206ICR7aGlkZGVuUHJpb3JFcnJvcn06JHtoaWRkZW5DdXJyZW50VHVybn0uJHtoaWRkZW5DdXJyZW50RXZlbnR9YDtcbiAgICAgIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLmNhdGNoKGFkZFJlamVjdGlvbk5vdGUoZGV0YWlsc05vdGUpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGhpZGRlblByaW9yRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCB0cmFja1R1cm5zID0gZnVuY3MgPT4ge1xuICBpZiAoIUVOQUJMRUQgfHwgdHlwZW9mIGdsb2JhbFRoaXMgPT09ICd1bmRlZmluZWQnIHx8ICFnbG9iYWxUaGlzLmFzc2VydCkge1xuICAgIHJldHVybiBmdW5jcztcbiAgfVxuXG4gIGhpZGRlbkN1cnJlbnRFdmVudCArPSAxO1xuICBjb25zdCBzZW5kaW5nRXJyb3IgPSBFcnJvcihcbiAgICBgRXZlbnQ6ICR7aGlkZGVuQ3VycmVudFR1cm59LiR7aGlkZGVuQ3VycmVudEV2ZW50fWAsXG4gICk7XG4gIGlmIChoaWRkZW5QcmlvckVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICBhbm5vdGF0ZUVycm9yKHNlbmRpbmdFcnJvciwgWGBDYXVzZWQgYnk6ICR7aGlkZGVuUHJpb3JFcnJvcn1gKTtcbiAgfVxuXG4gIHJldHVybiAvKiAgICAgICAgICAgICovIChcbiAgICBmdW5jcy5tYXAoZnVuYyA9PiBmdW5jICYmIHdyYXBGdW5jdGlvbihmdW5jLCBzZW5kaW5nRXJyb3IpKVxuICApO1xufTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLnRyYWNrVHVybnModHJhY2tUdXJucyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJ0cmFja1R1cm5zIjpbInRyYWNrVHVybnMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAARcz/8VgBAABYAQAAJQAAAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvdHlwZXMtaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAE1dafXQJAAB0CQAAIwAAAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvdm93LXV0aWxzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2V2ZW50dWFsLXNlbmQiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vcGF0dGVybnMiXSwiZXhwb3J0cyI6WyJWb3dTaGFwZSIsImJhc2ljRSIsImdldFZvd1BheWxvYWQiLCJpc1ZvdyIsIm1ha2VBc1ZvdyIsInNpbmsiLCJ0b1Bhc3NhYmxlQ2FwIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgYmFzaWNFLGlzUGFzc2FibGUsTSxtYXRjaGVzOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXZlbnR1YWwtc2VuZFwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKGJhc2ljRSA9ICRozY9fYSksJGjNj19saXZlW1wiYmFzaWNFXCJdXV1dXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtbXCJpc1Bhc3NhYmxlXCIsWyRozY9fYSA9PiAoaXNQYXNzYWJsZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXSxbXCJtYXRjaGVzXCIsWyRozY9fYSA9PiAobWF0Y2hlcyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cbi8qXG5cblxuXG4gKi9cblxuICAgICAgIGNvbnN0IHNpbmsgPSAoKSA9PiB7fTskaM2PX29uY2Uuc2luayhzaW5rKTtcbmhhcmRlbihzaW5rKTtcblxuXG5cbiAgICAgICBjb25zdCBWb3dTaGFwZSA9IE0udGFnZ2VkKFxuICAnVm93JyxcbiAgTS5zcGxpdFJlY29yZCh7XG4gICAgdm93VjA6IE0ucmVtb3RhYmxlKCdWb3dWMCcpLFxuICB9KSxcbik7XG5cbi8qXG5cblxuICovJGjNj19vbmNlLlZvd1NoYXBlKFZvd1NoYXBlKTtcbiAgICAgICBjb25zdCBpc1ZvdyA9IHNwZWNpbWVuID0+XG4gIGlzUGFzc2FibGUoc3BlY2ltZW4pICYmIG1hdGNoZXMoc3BlY2ltZW4sIFZvd1NoYXBlKTskaM2PX29uY2UuaXNWb3coaXNWb3cpO1xuaGFyZGVuKGlzVm93KTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldFZvd1BheWxvYWQgPSBzcGVjaW1lbiA9PiB7XG4gIGlmICghaXNWb3coc3BlY2ltZW4pKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IHZvdyA9IC8qICAgICAgICAgICAgICAgICAqLyAoLyogICAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pKTtcbiAgcmV0dXJuIHZvdy5wYXlsb2FkO1xufTskaM2PX29uY2UuZ2V0Vm93UGF5bG9hZChnZXRWb3dQYXlsb2FkKTtcbmhhcmRlbihnZXRWb3dQYXlsb2FkKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHRvUGFzc2FibGVDYXAgPSBrID0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IGdldFZvd1BheWxvYWQoayk7XG4gIGlmIChwYXlsb2FkID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAgKi8gKGspO1xuICB9XG4gIGNvbnN0IHsgdm93VjAgfSA9IHBheWxvYWQ7XG4gIC8vXG4gIHJldHVybiB2b3dWMDtcbn07JGjNj19vbmNlLnRvUGFzc2FibGVDYXAodG9QYXNzYWJsZUNhcCk7XG5oYXJkZW4odG9QYXNzYWJsZUNhcCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBtYWtlQXNWb3cgPSBtYWtlVm93S2l0ID0+IHtcbiAgLypcblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBhc1ZvdyA9IGZuID0+IHtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBmbigpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlc3VsdCA9IFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgICBpZiAoaXNWb3cocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgeyB2b3csIHJlc29sdmVyIH0gPSBtYWtlVm93S2l0KCk7XG4gICAgcmVzb2x2ZXIucmVzb2x2ZShyZXN1bHQpO1xuICAgIHJldHVybiB2b3c7XG4gIH07XG4gIHJldHVybiBoYXJkZW4oYXNWb3cpO1xufTskaM2PX29uY2UubWFrZUFzVm93KG1ha2VBc1Zvdyk7XG5oYXJkZW4obWFrZUFzVm93KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7ImJhc2ljRSI6WyJiYXNpY0UiLGZhbHNlXX0sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJzaW5rIjpbInNpbmsiXSwiVm93U2hhcGUiOlsiVm93U2hhcGUiXSwiaXNWb3ciOlsiaXNWb3ciXSwiZ2V0Vm93UGF5bG9hZCI6WyJnZXRWb3dQYXlsb2FkIl0sInRvUGFzc2FibGVDYXAiOlsidG9QYXNzYWJsZUNhcCJdLCJtYWtlQXNWb3ciOlsibWFrZUFzVm93Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAL0m+YItGwAALRsAAB0AAABAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3Zvdy5qc3siaW1wb3J0cyI6WyJAZW5kby9wcm9taXNlLWtpdCIsIkBlbmRvL3BhdHRlcm5zIiwiQGVuZG8vcGFzcy1zdHlsZSIsIkBhZ29yaWMvYmFzZS16b25lIl0sImV4cG9ydHMiOlsicHJlcGFyZVZvd0tpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VQcm9taXNlS2l0LE0sbWFrZVRhZ2dlZCxQcm9taXNlV2F0Y2hlckk7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9wcm9taXNlLWtpdFwiLCBbW1wibWFrZVByb21pc2VLaXRcIixbJGjNj19hID0+IChtYWtlUHJvbWlzZUtpdCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcIm1ha2VUYWdnZWRcIixbJGjNj19hID0+IChtYWtlVGFnZ2VkID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9iYXNlLXpvbmVcIiwgW1tcIlByb21pc2VXYXRjaGVySVwiLFskaM2PX2EgPT4gKFByb21pc2VXYXRjaGVySSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuY29uc3QgeyBkZXRhaWxzOiBYIH0gPSBhc3NlcnQ7XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcbmhhcmRlbihub29wKTtcblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlVm93S2l0ID0gKHpvbmUsIHZvd1JlamVjdGlvblRyYWNrZXIpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHJlc29sdmVyVG9FcGhlbWVyYSA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCByZXNvbHZlclRvTm9uU3RvcmVkVmFsdWUgPSBuZXcgV2Vha01hcCgpO1xuXG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHByb3ZpZGVFcGhlbWVyYSA9IChyZXNvbHZlciwgb3B0aW9ucykgPT4ge1xuICAgIGxldCBlcGhlbWVyYSA9IHJlc29sdmVyVG9FcGhlbWVyYS5nZXQocmVzb2x2ZXIpO1xuICAgIGlmICghZXBoZW1lcmEpIHtcbiAgICAgIGVwaGVtZXJhID0gbWFrZVByb21pc2VLaXQoKTtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgZXBoZW1lcmEucHJvbWlzZS5jYXRjaChub29wKTtcbiAgICB9XG5cbiAgICBlcGhlbWVyYSA9IGhhcmRlbih7IC4uLmVwaGVtZXJhLCAuLi5vcHRpb25zIH0pO1xuICAgIHJlc29sdmVyVG9FcGhlbWVyYS5zZXQocmVzb2x2ZXIsIGVwaGVtZXJhKTtcbiAgICByZXR1cm4gZXBoZW1lcmE7XG4gIH07XG5cbiAgLypcblxuICAgKi9cbiAgY29uc3QgcHJvdmlkZUVwaGVtZXJhRm9yUmVzb2x1dGlvbiA9IHJlc29sdmVyID0+IHtcbiAgICBjb25zdCBlcGhlbWVyYSA9IHByb3ZpZGVFcGhlbWVyYShyZXNvbHZlcik7XG4gICAgaWYgKGVwaGVtZXJhLnJlc29sdmUpIHtcbiAgICAgIC8vXG4gICAgICBjb25zdCB7IHJlc29sdmU6IF8xLCByZWplY3Q6IF8yLCAuLi5yZXN0IH0gPSBlcGhlbWVyYTtcbiAgICAgIHJlc29sdmVyVG9FcGhlbWVyYS5zZXQocmVzb2x2ZXIsIGhhcmRlbihyZXN0KSk7XG4gICAgfVxuICAgIHJldHVybiBlcGhlbWVyYTtcbiAgfTtcblxuICBjb25zdCBtYWtlVm93SW50ZXJuYWxzS2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAnVm93SW50ZXJuYWxzS2l0JyxcbiAgICB7XG4gICAgICB2b3dWMDogTS5pbnRlcmZhY2UoJ1Zvd1YwJywge1xuICAgICAgICBzaG9ydGVuOiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICAgIH0pLFxuICAgICAgcmVzb2x2ZXI6IE0uaW50ZXJmYWNlKCdWb3dSZXNvbHZlcicsIHtcbiAgICAgICAgcmVzb2x2ZTogTS5jYWxsKCkub3B0aW9uYWwoTS5yYXcoKSkucmV0dXJucygpLFxuICAgICAgICByZWplY3Q6IE0uY2FsbCgpLm9wdGlvbmFsKE0ucmF3KCkpLnJldHVybnMoKSxcbiAgICAgIH0pLFxuICAgICAgd2F0Y2hOZXh0U3RlcDogUHJvbWlzZVdhdGNoZXJJLFxuICAgIH0sXG4gICAgKCkgPT4gKHtcbiAgICAgIC8qICAgICAgICAgICAgICAqL1xuICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIC8qXG5cblxuICAgICAgICovXG4gICAgICBzdGVwU3RhdHVzOiBudWxsLFxuICAgICAgaXNTdG9yZWRWYWx1ZTogZmFsc2UsXG4gICAgICAvKlxuXG5cblxuICAgICAgICovXG4gICAgICB2b3dJc0hhbmRsZWQ6IGZhbHNlLFxuICAgICAgLypcblxuXG5cbiAgICAgICAqL1xuICAgICAgZXh0cmE6IHVuZGVmaW5lZCxcbiAgICB9KSxcbiAgICB7XG4gICAgICB2b3dWMDoge1xuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBzaG9ydGVuKCkge1xuICAgICAgICAgIGNvbnN0IHsgc3RlcFN0YXR1cywgaXNTdG9yZWRWYWx1ZSwgdmFsdWUsIHZvd0lzSGFuZGxlZCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBjb25zdCB7IHJlc29sdmVyLCB2b3dWMCB9ID0gdGhpcy5mYWNldHM7XG5cbiAgICAgICAgICBzd2l0Y2ggKHN0ZXBTdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Z1bGZpbGxlZCc6IHtcbiAgICAgICAgICAgICAgaWYgKHZvd0lzSGFuZGxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZvd0lzSGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGlzU3RvcmVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNvbHZlclRvTm9uU3RvcmVkVmFsdWUuaGFzKHJlc29sdmVyKSkge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVyVG9Ob25TdG9yZWRWYWx1ZS5nZXQocmVzb2x2ZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIHRocm93IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAncmVqZWN0ZWQnOiB7XG4gICAgICAgICAgICAgIGlmICh2b3dJc0hhbmRsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52b3dJc0hhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZvd1JlamVjdGlvblRyYWNrZXI/LmhhbmRsZSh2b3dWMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgcmVhc29uID0gcmVzb2x2ZXJUb05vblN0b3JlZFZhbHVlLmhhcyhyZXNvbHZlcilcbiAgICAgICAgICAgICAgICA/IHJlc29sdmVyVG9Ob25TdG9yZWRWYWx1ZS5nZXQocmVzb2x2ZXIpXG4gICAgICAgICAgICAgICAgOiB2YWx1ZTtcblxuICAgICAgICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIG51bGw6XG4gICAgICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVFcGhlbWVyYSh0aGlzLmZhY2V0cy5yZXNvbHZlciwge1xuICAgICAgICAgICAgICAgIHBvdGVudGlhbGx5SGFuZGxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgfSkucHJvbWlzZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihgdW5leHBlY3RlZCBzdGVwU3RhdHVzICR7c3RlcFN0YXR1c31gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmVzb2x2ZXI6IHtcbiAgICAgICAgLypcblxuICAgICAgICAgKi9cbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICAgIGNvbnN0IHsgc3RlcFN0YXR1cyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgICBpZiAoc3RlcFN0YXR1cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnN0YXRlLnN0ZXBTdGF0dXMgPSAncGVuZGluZyc7XG5cbiAgICAgICAgICBjb25zdCB7IHJlc29sdmVyIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICBjb25zdCB7IHJlc29sdmUgfSA9IHByb3ZpZGVFcGhlbWVyYUZvclJlc29sdXRpb24ocmVzb2x2ZXIpO1xuICAgICAgICAgIHJlc29sdmUgJiYgcmVzb2x2ZSh2YWx1ZSk7XG5cbiAgICAgICAgICB6b25lLndhdGNoUHJvbWlzZShcbiAgICAgICAgICAgIEhhbmRsZWRQcm9taXNlLnJlc29sdmUodmFsdWUpLFxuICAgICAgICAgICAgdGhpcy5mYWNldHMud2F0Y2hOZXh0U3RlcCxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAvKlxuXG4gICAgICAgICAqL1xuICAgICAgICByZWplY3QocmVhc29uKSB7XG4gICAgICAgICAgY29uc3QgeyBzdGVwU3RhdHVzIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIGlmIChzdGVwU3RhdHVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc3RhdGUuc3RlcFN0YXR1cyA9ICdyZWplY3RlZCc7XG5cbiAgICAgICAgICBjb25zdCB7IHJlc29sdmVyLCB3YXRjaE5leHRTdGVwIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICBjb25zdCB7IHJlamVjdCB9ID0gcHJvdmlkZUVwaGVtZXJhRm9yUmVzb2x1dGlvbihyZXNvbHZlcik7XG4gICAgICAgICAgcmVqZWN0ICYmIHJlamVjdChyZWFzb24pO1xuICAgICAgICAgIHdhdGNoTmV4dFN0ZXAub25SZWplY3RlZChyZWFzb24pO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHdhdGNoTmV4dFN0ZXA6IHtcbiAgICAgICAgb25GdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnN0ZXBTdGF0dXMgPSAnZnVsZmlsbGVkJztcblxuICAgICAgICAgIGNvbnN0IHsgcmVzb2x2ZXIgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgIGNvbnN0IHsgcmVzb2x2ZSB9ID0gcHJvdmlkZUVwaGVtZXJhRm9yUmVzb2x1dGlvbihyZXNvbHZlcik7XG4gICAgICAgICAgaGFyZGVuKHZhbHVlKTtcbiAgICAgICAgICByZXNvbHZlICYmIHJlc29sdmUodmFsdWUpO1xuXG4gICAgICAgICAgdGhpcy5zdGF0ZS5pc1N0b3JlZFZhbHVlID0gem9uZS5pc1N0b3JhYmxlKHZhbHVlKTtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc1N0b3JlZFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmVyVG9Ob25TdG9yZWRWYWx1ZS5zZXQocmVzb2x2ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUudmFsdWUgPSBhc3NlcnQuZXJyb3IoXG4gICAgICAgICAgICAgIFhgVm93IGZ1bGZpbGxtZW50IHZhbHVlIHdhcyBub3Qgc3RvcmVkOiAke3ZhbHVlfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25SZWplY3RlZChyZWFzb24pIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnN0ZXBTdGF0dXMgPSAncmVqZWN0ZWQnO1xuXG4gICAgICAgICAgY29uc3QgeyByZXNvbHZlciwgdm93VjAgfSA9IHRoaXMuZmFjZXRzO1xuICAgICAgICAgIGNvbnN0IHsgcmVqZWN0LCBwb3RlbnRpYWxseUhhbmRsZWQgfSA9XG4gICAgICAgICAgICBwcm92aWRlRXBoZW1lcmFGb3JSZXNvbHV0aW9uKHJlc29sdmVyKTtcbiAgICAgICAgICBoYXJkZW4ocmVhc29uKTtcbiAgICAgICAgICByZWplY3QgJiYgcmVqZWN0KHJlYXNvbik7XG5cbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS52b3dJc0hhbmRsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAocG90ZW50aWFsbHlIYW5kbGVkKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUudm93SXNIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZvd1JlamVjdGlvblRyYWNrZXI/LnJlamVjdCh2b3dWMCwgcmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdGF0ZS5pc1N0b3JlZFZhbHVlID0gem9uZS5pc1N0b3JhYmxlKHJlYXNvbik7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNTdG9yZWRWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS52YWx1ZSA9IHJlYXNvbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZXJUb05vblN0b3JlZFZhbHVlLnNldChyZXNvbHZlciwgcmVhc29uKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUudmFsdWUgPSBhc3NlcnQuZXJyb3IoXG4gICAgICAgICAgICAgIFhgVm93IHJlamVjdGlvbiByZWFzb24gd2FzIG5vdCBzdG9yZWQ6ICR7cmVhc29ufWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IG1ha2VWb3dLaXQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByZXNvbHZlciwgdm93VjAgfSA9IG1ha2VWb3dJbnRlcm5hbHNLaXQoKTtcbiAgICBjb25zdCB2b3cgPSBtYWtlVGFnZ2VkKCdWb3cnLCBoYXJkZW4oeyB2b3dWMCB9KSk7XG4gICAgcmV0dXJuIGhhcmRlbih7IHJlc29sdmVyLCB2b3cgfSk7XG4gIH07XG5cbiAgcmV0dXJuIG1ha2VWb3dLaXQ7XG59O1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5wcmVwYXJlVm93S2l0KHByZXBhcmVWb3dLaXQpO1xuXG5oYXJkZW4ocHJlcGFyZVZvd0tpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwcmVwYXJlVm93S2l0IjpbInByZXBhcmVWb3dLaXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAZ8rWVe8dAADvHQAAJQAAAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvd2F0Y2gtdXRpbHMuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9pbnRlcm5hbC9zcmMvanMtdXRpbHMuanMiLCJAZW5kby9wYXR0ZXJucyIsIkBhZ29yaWMvYmFzZS16b25lIl0sImV4cG9ydHMiOlsicHJlcGFyZVdhdGNoVXRpbHMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBwcm92aWRlTGF6eU1hcCxNLFByb21pc2VXYXRjaGVySTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvaW50ZXJuYWwvc3JjL2pzLXV0aWxzLmpzXCIsIFtbXCJwcm92aWRlTGF6eU1hcFwiLFskaM2PX2EgPT4gKHByb3ZpZGVMYXp5TWFwID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGF0dGVybnNcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9iYXNlLXpvbmVcIiwgW1tcIlByb21pc2VXYXRjaGVySVwiLFskaM2PX2EgPT4gKFByb21pc2VXYXRjaGVySSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuY29uc3QgeyBGYWlsLCBiYXJlLCBkZXRhaWxzOiBYIH0gPSBhc3NlcnQ7XG5cbi8qXG5cblxuXG5cblxuICovXG5cbmNvbnN0IFZvd1NoYXBlID0gTS50YWdnZWQoXG4gICdWb3cnLFxuICBoYXJkZW4oe1xuICAgIHZvd1YwOiBNLnJlbW90YWJsZSgnVm93VjAnKSxcbiAgfSksXG4pO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZVdhdGNoVXRpbHMgPSAoXG4gIHpvbmUsXG4gIHsgd2F0Y2gsIHdoZW4sIG1ha2VWb3dLaXQsIGlzUmV0cnlhYmxlUmVhc29uIH0sXG4pID0+IHtcbiAgY29uc3QgZGV0YWNoZWQgPSB6b25lLmRldGFjaGVkKCk7XG4gIGNvbnN0IHV0aWxzVG9Ob25TdG9yYWJsZVJlc3VsdHMgPSBuZXcgV2Vha01hcCgpO1xuXG4gIGNvbnN0IG1ha2VXYXRjaFV0aWxzS2l0ID0gem9uZS5leG9DbGFzc0tpdChcbiAgICAnV2F0Y2hVdGlscycsXG4gICAge1xuICAgICAgdXRpbHM6IE0uaW50ZXJmYWNlKCdVdGlscycsIHtcbiAgICAgICAgYWxsOiBNLmNhbGwoTS5hcnJheU9mKE0uYW55KCkpKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgICAgICAgYWxsU2V0dGxlZDogTS5jYWxsKE0uYXJyYXlPZihNLmFueSgpKSkucmV0dXJucyhWb3dTaGFwZSksXG4gICAgICAgIGFzUHJvbWlzZTogTS5jYWxsKE0ucmF3KCkpLnJlc3QoTS5yYXcoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICB9KSxcbiAgICAgIHdhdGNoZXI6IE0uaW50ZXJmYWNlKCdXYXRjaGVyJywge1xuICAgICAgICBvbkZ1bGZpbGxlZDogTS5jYWxsKE0ucmF3KCkpLnJlc3QoTS5yYXcoKSkucmV0dXJucyhNLnJhdygpKSxcbiAgICAgICAgb25SZWplY3RlZDogTS5jYWxsKE0ucmF3KCkpLnJlc3QoTS5yYXcoKSkucmV0dXJucyhNLnJhdygpKSxcbiAgICAgIH0pLFxuICAgICAgaGVscGVyOiBNLmludGVyZmFjZSgnSGVscGVyJywge1xuICAgICAgICBjcmVhdGVWb3c6IE0uY2FsbChNLmFycmF5T2YoTS5hbnkoKSksIE0uYm9vbGVhbigpKS5yZXR1cm5zKFZvd1NoYXBlKSxcbiAgICAgICAgcHJvY2Vzc1Jlc3VsdDogTS5jYWxsKE0ucmF3KCkpLnJlc3QoTS5yYXcoKSkucmV0dXJucyhNLnVuZGVmaW5lZCgpKSxcbiAgICAgIH0pLFxuICAgICAgcmV0cnlSZWplY3Rpb25Qcm9taXNlV2F0Y2hlcjogUHJvbWlzZVdhdGNoZXJJLFxuICAgIH0sXG4gICAgKCkgPT4ge1xuICAgICAgLypcblxuXG5cblxuXG4gICAgICAgKi9cbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCBpZFRvVm93U3RhdGUgPSBkZXRhY2hlZC5tYXBTdG9yZSgnaWRUb1Zvd1N0YXRlJyk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHRJZDogMG4sXG4gICAgICAgIGlkVG9Wb3dTdGF0ZSxcbiAgICAgIH07XG4gICAgfSxcbiAgICB7XG4gICAgICB1dGlsczoge1xuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBhbGwoc3BlY2ltZW5zKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmFjZXRzLmhlbHBlci5jcmVhdGVWb3coc3BlY2ltZW5zLCBmYWxzZSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgIGFsbFNldHRsZWQoc3BlY2ltZW5zKSB7XG4gICAgICAgICAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgICAgICB0aGlzLmZhY2V0cy5oZWxwZXIuY3JlYXRlVm93KHNwZWNpbWVucywgdHJ1ZSlcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICBhc1Byb21pc2Uoc3BlY2ltZW5QLCAuLi53YXRjaGVyQXJncykge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgY29uc3Qgdm93ID0gd2F0Y2goc3BlY2ltZW5QLCAuLi53YXRjaGVyQXJncyk7XG4gICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHdoZW4odm93KTtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICB6b25lLndhdGNoUHJvbWlzZShwcm9taXNlLCB0aGlzLmZhY2V0cy5yZXRyeVJlamVjdGlvblByb21pc2VXYXRjaGVyKTtcblxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHdhdGNoZXI6IHtcbiAgICAgICAgLypcblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIG9uRnVsZmlsbGVkKHZhbHVlLCBjdHgpIHtcbiAgICAgICAgICB0aGlzLmZhY2V0cy5oZWxwZXIucHJvY2Vzc1Jlc3VsdCh2YWx1ZSwgY3R4LCAnZnVsZmlsbGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG5cblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICBvblJlamVjdGVkKHJlYXNvbiwgY3R4KSB7XG4gICAgICAgICAgdGhpcy5mYWNldHMuaGVscGVyLnByb2Nlc3NSZXN1bHQocmVhc29uLCBjdHgsICdyZWplY3RlZCcpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGhlbHBlcjoge1xuICAgICAgICAvKlxuXG5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVZvdyhzcGVjaW1lbnMsIGlzQWxsU2V0dGxlZCkge1xuICAgICAgICAgIGNvbnN0IHsgbmV4dElkOiBpZCwgaWRUb1Zvd1N0YXRlIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdCBraXQgPSBtYWtlVm93S2l0KCk7XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBzcGVjaW1lbnMubGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgICAgICAgICB3YXRjaChzcGVjaW1lbnNbaW5kZXhdLCB0aGlzLmZhY2V0cy53YXRjaGVyLCB7XG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgbnVtUmVzdWx0czogc3BlY2ltZW5zLmxlbmd0aCxcbiAgICAgICAgICAgICAgaXNBbGxTZXR0bGVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNwZWNpbWVucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5uZXh0SWQgKz0gMW47XG4gICAgICAgICAgICBpZFRvVm93U3RhdGUuaW5pdChcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIGhhcmRlbih7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZXI6IGtpdC5yZXNvbHZlcixcbiAgICAgICAgICAgICAgICByZW1haW5pbmc6IHNwZWNpbWVucy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgcmVzdWx0c01hcDogZGV0YWNoZWQubWFwU3RvcmUoJ3Jlc3VsdHNNYXAnKSxcbiAgICAgICAgICAgICAgICBpc0FsbFNldHRsZWQsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IGlkVG9Ob25TdG9yYWJsZVJlc3VsdHMgPSBwcm92aWRlTGF6eU1hcChcbiAgICAgICAgICAgICAgdXRpbHNUb05vblN0b3JhYmxlUmVzdWx0cyxcbiAgICAgICAgICAgICAgdGhpcy5mYWNldHMudXRpbHMsXG4gICAgICAgICAgICAgICgpID0+IG5ldyBNYXAoKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZFRvTm9uU3RvcmFibGVSZXN1bHRzLnNldChpZCwgbmV3IE1hcCgpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGtpdC5yZXNvbHZlci5yZXNvbHZlKGhhcmRlbihbXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4ga2l0LnZvdztcbiAgICAgICAgfSxcbiAgICAgICAgLypcblxuXG5cblxuXG5cblxuICAgICAgICAgKi9cbiAgICAgICAgcHJvY2Vzc1Jlc3VsdChyZXN1bHQsIHsgaWQsIGluZGV4LCBudW1SZXN1bHRzLCBpc0FsbFNldHRsZWQgfSwgc3RhdHVzKSB7XG4gICAgICAgICAgY29uc3QgeyBpZFRvVm93U3RhdGUgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgaWYgKCFpZFRvVm93U3RhdGUuaGFzKGlkKSkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaWRUb05vblN0b3JhYmxlUmVzdWx0cyA9IHByb3ZpZGVMYXp5TWFwKFxuICAgICAgICAgICAgdXRpbHNUb05vblN0b3JhYmxlUmVzdWx0cyxcbiAgICAgICAgICAgIHRoaXMuZmFjZXRzLnV0aWxzLFxuICAgICAgICAgICAgKCkgPT4gbmV3IE1hcCgpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgeyByZW1haW5pbmcsIHJlc3VsdHNNYXAsIHJlc29sdmVyIH0gPSBpZFRvVm93U3RhdGUuZ2V0KGlkKTtcbiAgICAgICAgICBpZiAoIWlzQWxsU2V0dGxlZCAmJiBzdGF0dXMgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBpZFRvVm93U3RhdGUuZGVsZXRlKGlkKTtcbiAgICAgICAgICAgIGlkVG9Ob25TdG9yYWJsZVJlc3VsdHMuZGVsZXRlKGlkKTtcbiAgICAgICAgICAgIHJlc29sdmVyLnJlamVjdChyZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHBvc3NpYmx5V3JhcHBlZFJlc3VsdCA9IGlzQWxsU2V0dGxlZFxuICAgICAgICAgICAgPyBoYXJkZW4oe1xuICAgICAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgICAgICBbc3RhdHVzID09PSAnZnVsZmlsbGVkJyA/ICd2YWx1ZScgOiAncmVhc29uJ106IHJlc3VsdCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogcmVzdWx0O1xuXG4gICAgICAgICAgY29uc3Qgbm9uU3RvcmFibGVSZXN1bHRzID0gcHJvdmlkZUxhenlNYXAoXG4gICAgICAgICAgICBpZFRvTm9uU3RvcmFibGVSZXN1bHRzLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAoKSA9PiBuZXcgTWFwKCksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vXG4gICAgICAgICAgaWYgKHpvbmUuaXNTdG9yYWJsZShwb3NzaWJseVdyYXBwZWRSZXN1bHQpKSB7XG4gICAgICAgICAgICByZXN1bHRzTWFwLmluaXQoaW5kZXgsIHBvc3NpYmx5V3JhcHBlZFJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vblN0b3JhYmxlUmVzdWx0cy5zZXQoaW5kZXgsIHBvc3NpYmx5V3JhcHBlZFJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHZvd1N0YXRlID0gaGFyZGVuKHtcbiAgICAgICAgICAgIHJlbWFpbmluZzogcmVtYWluaW5nIC0gMSxcbiAgICAgICAgICAgIHJlc3VsdHNNYXAsXG4gICAgICAgICAgICByZXNvbHZlcixcbiAgICAgICAgICAgIGlzQWxsU2V0dGxlZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAodm93U3RhdGUucmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgaWRUb1Zvd1N0YXRlLnNldChpZCwgdm93U3RhdGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL1xuICAgICAgICAgIGlkVG9Wb3dTdGF0ZS5kZWxldGUoaWQpO1xuICAgICAgICAgIGlkVG9Ob25TdG9yYWJsZVJlc3VsdHMuZGVsZXRlKGlkKTtcbiAgICAgICAgICBjb25zdCByZXN1bHRzID0gbmV3IEFycmF5KG51bVJlc3VsdHMpO1xuICAgICAgICAgIGxldCBudW1Mb3N0ID0gMDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVJlc3VsdHM7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKG5vblN0b3JhYmxlUmVzdWx0cy5oYXMoaSkpIHtcbiAgICAgICAgICAgICAgcmVzdWx0c1tpXSA9IG5vblN0b3JhYmxlUmVzdWx0cy5nZXQoaSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdHNNYXAuaGFzKGkpKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHNbaV0gPSByZXN1bHRzTWFwLmdldChpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG51bUxvc3QgKz0gMTtcbiAgICAgICAgICAgICAgcmVzdWx0c1tpXSA9IGlzQWxsU2V0dGxlZFxuICAgICAgICAgICAgICAgID8geyBzdGF0dXM6ICdyZWplY3RlZCcsIHJlYXNvbjogJ1Vuc3RvcmFibGUgcmVzdWx0IHdhcyBsb3N0JyB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChudW1Mb3N0ID4gMCAmJiAhaXNBbGxTZXR0bGVkKSB7XG4gICAgICAgICAgICByZXNvbHZlci5yZWplY3QoXG4gICAgICAgICAgICAgIGFzc2VydC5lcnJvcihYYCR7bnVtTG9zdH0gdW5zdG9yYWJsZSByZXN1bHRzIHdlcmUgbG9zdGApLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZXIucmVzb2x2ZShoYXJkZW4ocmVzdWx0cykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICByZXRyeVJlamVjdGlvblByb21pc2VXYXRjaGVyOiB7XG4gICAgICAgIG9uRnVsZmlsbGVkKF9yZXN1bHQpIHt9LFxuICAgICAgICBvblJlamVjdGVkKHJlYXNvbiwgZmFpbGVkT3ApIHtcbiAgICAgICAgICBpZiAoaXNSZXRyeWFibGVSZWFzb24ocmVhc29uLCB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICBGYWlsYFBlbmRpbmcgJHtiYXJlKGZhaWxlZE9wKX0gY291bGQgbm90IHJldHJ5OyAke3JlYXNvbn1gO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICBjb25zdCBtYWtlV2F0Y2hVdGlsID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdXRpbHMgfSA9IG1ha2VXYXRjaFV0aWxzS2l0KCk7XG4gICAgcmV0dXJuIGhhcmRlbih1dGlscyk7XG4gIH07XG5cbiAgcmV0dXJuIG1ha2VXYXRjaFV0aWw7XG59OyRozY9fb25jZS5wcmVwYXJlV2F0Y2hVdGlscyhwcmVwYXJlV2F0Y2hVdGlscyk7XG5cbmhhcmRlbihwcmVwYXJlV2F0Y2hVdGlscyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwcmVwYXJlV2F0Y2hVdGlscyI6WyJwcmVwYXJlV2F0Y2hVdGlscyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAB2IkHtfxUAAH8VAAAfAAAAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy93YXRjaC5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2Jhc2Utem9uZSIsIi4vdm93LXV0aWxzLmpzIl0sImV4cG9ydHMiOlsicHJlcGFyZVdhdGNoIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgUHJvbWlzZVdhdGNoZXJJLGdldFZvd1BheWxvYWQsYmFzaWNFOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9iYXNlLXpvbmVcIiwgW1tcIlByb21pc2VXYXRjaGVySVwiLFskaM2PX2EgPT4gKFByb21pc2VXYXRjaGVySSA9ICRozY9fYSldXV1dLFtcIi4vdm93LXV0aWxzLmpzXCIsIFtbXCJnZXRWb3dQYXlsb2FkXCIsWyRozY9fYSA9PiAoZ2V0Vm93UGF5bG9hZCA9ICRozY9fYSldXSxbXCJiYXNpY0VcIixbJGjNj19hID0+IChiYXNpY0UgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuY29uc3QgeyBhcHBseSB9ID0gUmVmbGVjdDtcblxuLypcblxuXG4gKi9cblxuLypcblxuICovXG5jb25zdCBtYWtlV2F0Y2hOZXh0U3RlcCA9XG4gIHpvbmUgPT5cbiAgLypcblxuXG5cblxuXG5cbiAgICovXG4gIChzcGVjaW1lbiwgcHJvbWlzZVdhdGNoZXIpID0+IHtcbiAgICBsZXQgcHJvbWlzZTtcbiAgICBjb25zdCBwYXlsb2FkID0gZ2V0Vm93UGF5bG9hZChzcGVjaW1lbik7XG4gICAgaWYgKHBheWxvYWQpIHtcbiAgICAgIHByb21pc2UgPSBiYXNpY0UocGF5bG9hZC52b3dWMCkuc2hvcnRlbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9taXNlID0gYmFzaWNFLnJlc29sdmUoc3BlY2ltZW4pO1xuICAgIH1cbiAgICB6b25lLndhdGNoUHJvbWlzZShwcm9taXNlLCBwcm9taXNlV2F0Y2hlcik7XG4gIH07XG5cbi8qXG5cblxuXG5cblxuICovXG5jb25zdCBzZXR0bGUgPSBhc3luYyAocmVzb2x2ZXIsIHdhdGNoZXIsIHdjYiwgdmFsdWUsIHdhdGNoZXJBcmdzID0gW10pID0+IHtcbiAgYXdhaXQgbnVsbDtcbiAgdHJ5IHtcbiAgICBsZXQgY2hhaW5lZFZhbHVlID0gdmFsdWU7XG4gICAgY29uc3QgdyA9IHdhdGNoZXIgJiYgd2F0Y2hlclt3Y2JdO1xuICAgIGlmICh3KSB7XG4gICAgICBjaGFpbmVkVmFsdWUgPSBhcHBseSh3LCB3YXRjaGVyLCBbdmFsdWUsIC4uLndhdGNoZXJBcmdzXSk7XG4gICAgfSBlbHNlIGlmICh3Y2IgPT09ICdvblJlamVjdGVkJykge1xuICAgICAgdGhyb3cgdmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKHJlc29sdmVyKSB7XG4gICAgICByZXNvbHZlci5yZXNvbHZlKGNoYWluZWRWYWx1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy9cbiAgICAvL1xuICAgIGF3YWl0IGNoYWluZWRWYWx1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChyZXNvbHZlcikge1xuICAgICAgcmVzb2x2ZXIucmVqZWN0KGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vXG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgcHJlcGFyZVByb21pc2VXYXRjaGVyID0gKHpvbmUsIGlzUmV0cnlhYmxlUmVhc29uLCB3YXRjaE5leHRTdGVwKSA9PiB7XG4gIC8vXG4gIC8vXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgd2F0Y2hlclNlZW5QYXlsb2FkcyA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgZ2V0U2VlblBheWxvYWRzID0gd2F0Y2hlciA9PiB7XG4gICAgbGV0IHNlZW5QYXlsb2FkcyA9IHdhdGNoZXJTZWVuUGF5bG9hZHMuZ2V0KHdhdGNoZXIpO1xuICAgIGlmICghc2VlblBheWxvYWRzKSB7XG4gICAgICBzZWVuUGF5bG9hZHMgPSBuZXcgV2Vha1NldCgpO1xuICAgICAgd2F0Y2hlclNlZW5QYXlsb2Fkcy5zZXQod2F0Y2hlciwgc2VlblBheWxvYWRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlZW5QYXlsb2FkcztcbiAgfTtcblxuICByZXR1cm4gem9uZS5leG9DbGFzcyhcbiAgICAnUHJvbWlzZVdhdGNoZXInLFxuICAgIFByb21pc2VXYXRjaGVySSxcbiAgICAvKlxuXG5cblxuXG5cblxuICAgICAqL1xuICAgIChyZXNvbHZlciwgd2F0Y2hlciwgd2F0Y2hlckFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICB2b3c6IC8qICAgICAgICAgICAgICAgICAgKi8gKHVuZGVmaW5lZCksXG4gICAgICAgIHByaW9yUmV0cnlWYWx1ZTogLyogICAgICAgICAgICAgICovICh1bmRlZmluZWQpLFxuICAgICAgICByZXNvbHZlcixcbiAgICAgICAgd2F0Y2hlcixcbiAgICAgICAgd2F0Y2hlckFyZ3M6IGhhcmRlbih3YXRjaGVyQXJncyksXG4gICAgICB9O1xuICAgICAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoc3RhdGUpO1xuICAgIH0sXG4gICAge1xuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBvbkZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICBjb25zdCB7IHdhdGNoZXIsIHdhdGNoZXJBcmdzLCByZXNvbHZlciB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgaWYgKCFyZXNvbHZlcikge1xuICAgICAgICAgIHRocm93IEVycm9yKCdVbmV4cGVjdGVkIG11bHRpcGxlIGNhbGxzIHRvIFByb21pc2VXYXRjaGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGdldFZvd1BheWxvYWQodmFsdWUpO1xuICAgICAgICBpZiAocGF5bG9hZCkge1xuICAgICAgICAgIGNvbnN0IHNlZW5QYXlsb2FkcyA9IGdldFNlZW5QYXlsb2Fkcyh0aGlzLnNlbGYpO1xuICAgICAgICAgIC8vXG4gICAgICAgICAgaWYgKHNlZW5QYXlsb2Fkcy5oYXMocGF5bG9hZC52b3dWMCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGYub25SZWplY3RlZChFcnJvcignVm93IHJlc29sdXRpb24gY3ljbGUgZGV0ZWN0ZWQnKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlZW5QYXlsb2Fkcy5hZGQocGF5bG9hZC52b3dWMCk7XG4gICAgICAgICAgLy9cbiAgICAgICAgICB0aGlzLnN0YXRlLnZvdyA9IHZhbHVlO1xuICAgICAgICAgIHdhdGNoTmV4dFN0ZXAodmFsdWUsIHRoaXMuc2VsZik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhdGNoZXJTZWVuUGF5bG9hZHMuZGVsZXRlKHRoaXMuc2VsZik7XG4gICAgICAgIHRoaXMuc3RhdGUucHJpb3JSZXRyeVZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YXRlLndhdGNoZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhdGUucmVzb2x2ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZvaWQgc2V0dGxlKHJlc29sdmVyLCB3YXRjaGVyLCAnb25GdWxmaWxsZWQnLCB2YWx1ZSwgd2F0Y2hlckFyZ3MpO1xuICAgICAgfSxcbiAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBvblJlamVjdGVkKHJlYXNvbikge1xuICAgICAgICBjb25zdCB7IHZvdywgd2F0Y2hlciwgd2F0Y2hlckFyZ3MsIHJlc29sdmVyLCBwcmlvclJldHJ5VmFsdWUgfSA9XG4gICAgICAgICAgdGhpcy5zdGF0ZTtcbiAgICAgICAgaWYgKCFyZXNvbHZlcikge1xuICAgICAgICAgIHRocm93IEVycm9yKCdVbmV4cGVjdGVkIG11bHRpcGxlIGNhbGxzIHRvIFByb21pc2VXYXRjaGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmV0cnlWYWx1ZSA9IGlzUmV0cnlhYmxlUmVhc29uKHJlYXNvbiwgcHJpb3JSZXRyeVZhbHVlKTtcbiAgICAgICAgaWYgKHJldHJ5VmFsdWUpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnByaW9yUmV0cnlWYWx1ZSA9IHJldHJ5VmFsdWU7XG4gICAgICAgICAgaWYgKHZvdykge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHdhdGNoTmV4dFN0ZXAodm93LCB0aGlzLnNlbGYpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICB3YXRjaGVyU2VlblBheWxvYWRzLmRlbGV0ZSh0aGlzLnNlbGYpO1xuICAgICAgICB0aGlzLnN0YXRlLnByaW9yUmV0cnlWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGF0ZS5yZXNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGF0ZS53YXRjaGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB2b2lkIHNldHRsZShyZXNvbHZlciwgd2F0Y2hlciwgJ29uUmVqZWN0ZWQnLCByZWFzb24sIHdhdGNoZXJBcmdzKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcbn07XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmVwYXJlV2F0Y2ggPSAoXG4gIHpvbmUsXG4gIG1ha2VWb3dLaXQsXG4gIGlzUmV0cnlhYmxlUmVhc29uID0gKF9yZWFzb24sIF9sYXN0VmFsdWUpID0+IHVuZGVmaW5lZCxcbikgPT4ge1xuICBjb25zdCB3YXRjaE5leHRTdGVwID0gbWFrZVdhdGNoTmV4dFN0ZXAoem9uZSk7XG4gIGNvbnN0IG1ha2VQcm9taXNlV2F0Y2hlciA9IHByZXBhcmVQcm9taXNlV2F0Y2hlcihcbiAgICB6b25lLFxuICAgIGlzUmV0cnlhYmxlUmVhc29uLFxuICAgIHdhdGNoTmV4dFN0ZXAsXG4gICk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3Qgd2F0Y2ggPSAoc3BlY2ltZW5QLCB3YXRjaGVyLCAuLi53YXRjaGVyQXJncykgPT4ge1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IHsgcmVzb2x2ZXIsIHZvdyB9ID0gbWFrZVZvd0tpdCgpO1xuXG4gICAgLy9cbiAgICAvL1xuICAgIGNvbnN0IHByb21pc2VXYXRjaGVyID0gbWFrZVByb21pc2VXYXRjaGVyKHJlc29sdmVyLCB3YXRjaGVyLCB3YXRjaGVyQXJncyk7XG5cbiAgICAvL1xuICAgIGNvbnN0IHByb21pc2UgPSBiYXNpY0UucmVzb2x2ZShzcGVjaW1lblApO1xuICAgIHpvbmUud2F0Y2hQcm9taXNlKHByb21pc2UsIHByb21pc2VXYXRjaGVyKTtcblxuICAgIHJldHVybiB2b3c7XG4gIH07XG4gIGhhcmRlbih3YXRjaCk7XG5cbiAgcmV0dXJuIHdhdGNoO1xufTskaM2PX29uY2UucHJlcGFyZVdhdGNoKHByZXBhcmVXYXRjaCk7XG5cbmhhcmRlbihwcmVwYXJlV2F0Y2gpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwcmVwYXJlV2F0Y2giOlsicHJlcGFyZVdhdGNoIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAKncQd61CAAAtQgAAB4AAABAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3doZW4uanN7ImltcG9ydHMiOlsiLi92b3ctdXRpbHMuanMiXSwiZXhwb3J0cyI6WyJtYWtlV2hlbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGdldFZvd1BheWxvYWQsYmFzaWNFOyRozY9faW1wb3J0cyhbW1wiLi92b3ctdXRpbHMuanNcIiwgW1tcImdldFZvd1BheWxvYWRcIixbJGjNj19hID0+IChnZXRWb3dQYXlsb2FkID0gJGjNj19hKV1dLFtcImJhc2ljRVwiLFskaM2PX2EgPT4gKGJhc2ljRSA9ICRozY9fYSldXV1dXSk7XG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VXaGVuID0gKFxuICBpc1JldHJ5YWJsZVJlYXNvbiA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovICgoKSA9PiBmYWxzZSksXG4pID0+IHtcbiAgLypcblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHVud3JhcCA9IGFzeW5jIHNwZWNpbWVuUCA9PiB7XG4gICAgLy9cbiAgICBhd2FpdCBudWxsO1xuXG4gICAgLy9cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgc3BlY2ltZW5QO1xuICAgIGxldCBwYXlsb2FkID0gZ2V0Vm93UGF5bG9hZChyZXN1bHQpO1xuICAgIGxldCBwcmlvclJldHJ5VmFsdWU7XG4gICAgY29uc3Qgc2VlblBheWxvYWRzID0gbmV3IFdlYWtTZXQoKTtcbiAgICB3aGlsZSAocGF5bG9hZCkge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCB7IHZvd1YwIH0gPSBwYXlsb2FkO1xuICAgICAgaWYgKHNlZW5QYXlsb2Fkcy5oYXModm93VjApKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdWb3cgcmVzb2x1dGlvbiBjeWNsZSBkZXRlY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBiYXNpY0Uodm93VjApLnNob3J0ZW4oKTtcblxuICAgICAgICAvL1xuICAgICAgICBzZWVuUGF5bG9hZHMuYWRkKHZvd1YwKTtcbiAgICAgICAgcHJpb3JSZXRyeVZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXN1bHQgPSByZXM7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnN0IG5leHRSZXRyeVZhbHVlID0gaXNSZXRyeWFibGVSZWFzb24oZSwgcHJpb3JSZXRyeVZhbHVlKTtcbiAgICAgICAgaWYgKCFuZXh0UmV0cnlWYWx1ZSkge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vXG4gICAgICAgIHByaW9yUmV0cnlWYWx1ZSA9IG5leHRSZXRyeVZhbHVlO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIHBheWxvYWQgPSBnZXRWb3dQYXlsb2FkKHJlc3VsdCk7XG4gICAgfVxuXG4gICAgY29uc3QgdW53cmFwcGVkID0gLyogICAgICAgICAgICAgICAgICAgICAqLyAocmVzdWx0KTtcbiAgICByZXR1cm4gdW53cmFwcGVkO1xuICB9O1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IHdoZW4gPSAoc3BlY2ltZW5QLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkgPT4ge1xuICAgIGNvbnN0IHVud3JhcHBlZCA9IHVud3JhcChzcGVjaW1lblApO1xuXG4gICAgLy9cbiAgICBpZiAob25GdWxmaWxsZWQgPT0gbnVsbCAmJiBvblJlamVjdGVkID09IG51bGwpIHtcbiAgICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAodW53cmFwcGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2ljRS5yZXNvbHZlKHVud3JhcHBlZCkudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gIH07XG4gIGhhcmRlbih3aGVuKTtcblxuICByZXR1cm4gd2hlbjtcbn07JGjNj19vbmNlLm1ha2VXaGVuKG1ha2VXaGVuKTtcblxuaGFyZGVuKG1ha2VXaGVuKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VXaGVuIjpbIm1ha2VXaGVuIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAO5lGk9RCQAAUQkAABkAAABAYWdvcmljL3Zvdy12MC4xLjAvdmF0LmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvaW50ZXJuYWwvc3JjL3VwZ3JhZGUtYXBpLmpzIiwiQGFnb3JpYy9iYXNlLXpvbmUvaGVhcC5qcyIsIi4vc3JjL3Rvb2xzLmpzIiwiLi9zcmMvRS5qcyJdLCJleHBvcnRzIjpbImRlZmF1bHRQb3dlcnMiLCJoZWFwVm93RSIsImhlYXBWb3dUb29scyIsInByZXBhcmVTd2luZ3NldFZvd1Rvb2xzIiwicHJlcGFyZVZvd1Rvb2xzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgaXNVcGdyYWRlRGlzY29ubmVjdGlvbixpc0FiYW5kb25lZEVycm9yLG1ha2VIZWFwWm9uZSxwcmVwYXJlQmFzaWNWb3dUb29scyxtYWtlRTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvaW50ZXJuYWwvc3JjL3VwZ3JhZGUtYXBpLmpzXCIsIFtbXCJpc1VwZ3JhZGVEaXNjb25uZWN0aW9uXCIsWyRozY9fYSA9PiAoaXNVcGdyYWRlRGlzY29ubmVjdGlvbiA9ICRozY9fYSldXSxbXCJpc0FiYW5kb25lZEVycm9yXCIsWyRozY9fYSA9PiAoaXNBYmFuZG9uZWRFcnJvciA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvYmFzZS16b25lL2hlYXAuanNcIiwgW1tcIm1ha2VIZWFwWm9uZVwiLFskaM2PX2EgPT4gKG1ha2VIZWFwWm9uZSA9ICRozY9fYSldXV1dLFtcIi4vc3JjL3Rvb2xzLmpzXCIsIFtbXCJwcmVwYXJlQmFzaWNWb3dUb29sc1wiLFskaM2PX2EgPT4gKHByZXBhcmVCYXNpY1Zvd1Rvb2xzID0gJGjNj19hKV1dXV0sW1wiLi9zcmMvRS5qc1wiLCBbW1wiZGVmYXVsdFwiLFskaM2PX2EgPT4gKG1ha2VFID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgaXNSZXRyeWFibGVSZWFzb24gPSAocmVhc29uLCBwcmlvclJldHJ5VmFsdWUpID0+IHtcbiAgaWYgKFxuICAgIGlzVXBncmFkZURpc2Nvbm5lY3Rpb24ocmVhc29uKSAmJlxuICAgICghaXNVcGdyYWRlRGlzY29ubmVjdGlvbihwcmlvclJldHJ5VmFsdWUpIHx8XG4gICAgICByZWFzb24uaW5jYXJuYXRpb25OdW1iZXIgPiBwcmlvclJldHJ5VmFsdWUuaW5jYXJuYXRpb25OdW1iZXIpXG4gICkge1xuICAgIHJldHVybiByZWFzb247XG4gIH1cbiAgLy9cbiAgLy9cbiAgaWYgKGlzQWJhbmRvbmVkRXJyb3IocmVhc29uKSAmJiAhaXNBYmFuZG9uZWRFcnJvcihwcmlvclJldHJ5VmFsdWUpKSB7XG4gICAgcmV0dXJuIHJlYXNvbjtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuICAgICAgIGNvbnN0IGRlZmF1bHRQb3dlcnMgPSBoYXJkZW4oe1xuICBpc1JldHJ5YWJsZVJlYXNvbixcbn0pO1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLmRlZmF1bHRQb3dlcnMoZGVmYXVsdFBvd2Vycyk7XG4gICAgICAgY29uc3QgcHJlcGFyZVN3aW5nc2V0Vm93VG9vbHMgPSAoem9uZSwgcG93ZXJzID0ge30pID0+XG4gIHByZXBhcmVCYXNpY1Zvd1Rvb2xzKHpvbmUsIHsgLi4uZGVmYXVsdFBvd2VycywgLi4ucG93ZXJzIH0pOyRozY9fb25jZS5wcmVwYXJlU3dpbmdzZXRWb3dUb29scyhwcmVwYXJlU3dpbmdzZXRWb3dUb29scyk7XG5oYXJkZW4ocHJlcGFyZVN3aW5nc2V0Vm93VG9vbHMpO1xuXG4vKlxuXG5cbiAqL1xuXG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgaGVhcFZvd1Rvb2xzID0gcHJlcGFyZVN3aW5nc2V0Vm93VG9vbHMobWFrZUhlYXBab25lKCkpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5oZWFwVm93VG9vbHMoaGVhcFZvd1Rvb2xzKTtcbiAgICAgICBjb25zdCBoZWFwVm93RSA9IG1ha2VFKGdsb2JhbFRoaXMuSGFuZGxlZFByb21pc2UsIHtcbiAgdW53cmFwOiBoZWFwVm93VG9vbHMud2hlbixcbiAgYWRkaXRpb25hbDogeyB3aGVuOiBoZWFwVm93VG9vbHMud2hlbiB9LFxufSk7JGjNj19vbmNlLmhlYXBWb3dFKGhlYXBWb3dFKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImRlZmF1bHRQb3dlcnMiOlsiZGVmYXVsdFBvd2VycyJdLCJwcmVwYXJlU3dpbmdzZXRWb3dUb29scyI6WyJwcmVwYXJlU3dpbmdzZXRWb3dUb29scyJdLCJwcmVwYXJlVm93VG9vbHMiOlsicHJlcGFyZVN3aW5nc2V0Vm93VG9vbHMiXSwiaGVhcFZvd1Rvb2xzIjpbImhlYXBWb3dUb29scyJdLCJoZWFwVm93RSI6WyJoZWFwVm93RSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAALAOvTYwYAAGMGAAA0AAAAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RGYWNldC9vZmZlclNhZmV0eS5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2VydHAiXSwiZXhwb3J0cyI6WyJpc09mZmVyU2FmZSIsInNhdGlzZmllc1dhbnQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBBbW91bnRNYXRoOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9lcnRwXCIsIFtbXCJBbW91bnRNYXRoXCIsWyRozY9fYSA9PiAoQW1vdW50TWF0aCA9ICRozY9fYSldXV1dXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGlzT2ZmZXJTYWZlLCduYW1lJyx7dmFsdWU6XCJpc09mZmVyU2FmZVwifSk7JGjNj19vbmNlLmlzT2ZmZXJTYWZlKGlzT2ZmZXJTYWZlKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IHNhdGlzZmllc0ludGVybmFsID0gKGdpdmVPcldhbnQgPSB7fSwgYWxsb2NhdGlvbikgPT4ge1xuICBjb25zdCBpc0dURUJ5S2V5d29yZCA9IChba2V5d29yZCwgcmVxdWlyZWRBbW91bnRdKSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGlmIChhbGxvY2F0aW9uW2tleXdvcmRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBhbGxvY2F0aW9uQW1vdW50ID0gYWxsb2NhdGlvbltrZXl3b3JkXTtcbiAgICByZXR1cm4gQW1vdW50TWF0aC5pc0dURShhbGxvY2F0aW9uQW1vdW50LCByZXF1aXJlZEFtb3VudCkgPyAxIDogMDtcbiAgfTtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGdpdmVPcldhbnQpLmV2ZXJ5KGlzR1RFQnlLZXl3b3JkKSA/IDEgOiAwO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3Qgc2F0aXNmaWVzV2FudCA9IChwcm9wb3NhbCwgYWxsb2NhdGlvbikgPT5cbiAgc2F0aXNmaWVzSW50ZXJuYWwocHJvcG9zYWwud2FudCwgYWxsb2NhdGlvbik7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5zYXRpc2ZpZXNXYW50KHNhdGlzZmllc1dhbnQpO1xuY29uc3Qgc2F0aXNmaWVzR2l2ZSA9IChwcm9wb3NhbCwgYWxsb2NhdGlvbikgPT5cbiAgc2F0aXNmaWVzSW50ZXJuYWwocHJvcG9zYWwuZ2l2ZSwgYWxsb2NhdGlvbik7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmZ1bmN0aW9uIGlzT2ZmZXJTYWZlKHByb3Bvc2FsLCBhbGxvY2F0aW9uKSB7XG4gIHJldHVybiAoXG4gICAgc2F0aXNmaWVzR2l2ZShwcm9wb3NhbCwgYWxsb2NhdGlvbikgPiAwIHx8XG4gICAgc2F0aXNmaWVzV2FudChwcm9wb3NhbCwgYWxsb2NhdGlvbikgPiAwXG4gICk7XG59XG5cbmhhcmRlbihpc09mZmVyU2FmZSk7XG5oYXJkZW4oc2F0aXNmaWVzV2FudCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJzYXRpc2ZpZXNXYW50IjpbInNhdGlzZmllc1dhbnQiXSwiaXNPZmZlclNhZmUiOlsiaXNPZmZlclNhZmUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAANKZakIsHAACLBwAAOQAAAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC9hdG9taWNUcmFuc2Zlci5qc3siaW1wb3J0cyI6WyJAYWdvcmljL3N0b3JlIiwiLi4vdHlwZUd1YXJkcy5qcyJdLCJleHBvcnRzIjpbIlRyYW5zZmVyUGFydFNoYXBlIiwiYXRvbWljUmVhcnJhbmdlIiwiYXRvbWljVHJhbnNmZXIiLCJmcm9tT25seSIsInRvT25seSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE0sQW1vdW50S2V5d29yZFJlY29yZFNoYXBlLFNlYXRTaGFwZTskaM2PX2ltcG9ydHMoW1tcIkBhZ29yaWMvc3RvcmVcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiLi4vdHlwZUd1YXJkcy5qc1wiLCBbW1wiQW1vdW50S2V5d29yZFJlY29yZFNoYXBlXCIsWyRozY9fYSA9PiAoQW1vdW50S2V5d29yZFJlY29yZFNoYXBlID0gJGjNj19hKV1dLFtcIlNlYXRTaGFwZVwiLFskaM2PX2EgPT4gKFNlYXRTaGFwZSA9ICRozY9fYSldXV1dXSk7XG5cblxuLypcblxuICovXG5cbiAgICAgICBjb25zdCBUcmFuc2ZlclBhcnRTaGFwZSA9IE0uc3BsaXRBcnJheShcbiAgaGFyZGVuKFtNLm9wdChTZWF0U2hhcGUpLCBNLm9wdChTZWF0U2hhcGUpLCBNLm9wdChBbW91bnRLZXl3b3JkUmVjb3JkU2hhcGUpXSksXG4gIGhhcmRlbihbTS5vcHQoQW1vdW50S2V5d29yZFJlY29yZFNoYXBlKV0pLFxuKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLlRyYW5zZmVyUGFydFNoYXBlKFRyYW5zZmVyUGFydFNoYXBlKTtcbiAgICAgICBjb25zdCBhdG9taWNSZWFycmFuZ2UgPSAoemNmLCB0cmFuc2ZlcnMpID0+IHtcbiAgemNmLmF0b21pY1JlYXJyYW5nZSh0cmFuc2ZlcnMpO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmF0b21pY1JlYXJyYW5nZShhdG9taWNSZWFycmFuZ2UpO1xuICAgICAgIGNvbnN0IGZyb21Pbmx5ID0gKGZyb21TZWF0LCBmcm9tQW1vdW50cykgPT5cbiAgaGFyZGVuKFtmcm9tU2VhdCwgdW5kZWZpbmVkLCBmcm9tQW1vdW50c10pO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuZnJvbU9ubHkoZnJvbU9ubHkpO1xuICAgICAgIGNvbnN0IHRvT25seSA9ICh0b1NlYXQsIHRvQW1vdW50cykgPT5cbiAgaGFyZGVuKFt1bmRlZmluZWQsIHRvU2VhdCwgdW5kZWZpbmVkLCB0b0Ftb3VudHNdKTtcblxuLypcblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLnRvT25seSh0b09ubHkpO1xuICAgICAgIGNvbnN0IGF0b21pY1RyYW5zZmVyID0gKFxuICB6Y2YsXG4gIGZyb21TZWF0ID0gdW5kZWZpbmVkLFxuICB0b1NlYXQgPSB1bmRlZmluZWQsXG4gIGZyb21BbW91bnRzID0gdW5kZWZpbmVkLFxuICB0b0Ftb3VudHMgPSB1bmRlZmluZWQsXG4pID0+IHpjZi5hdG9taWNSZWFycmFuZ2UoaGFyZGVuKFtbZnJvbVNlYXQsIHRvU2VhdCwgZnJvbUFtb3VudHMsIHRvQW1vdW50c11dKSk7JGjNj19vbmNlLmF0b21pY1RyYW5zZmVyKGF0b21pY1RyYW5zZmVyKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlRyYW5zZmVyUGFydFNoYXBlIjpbIlRyYW5zZmVyUGFydFNoYXBlIl0sImF0b21pY1JlYXJyYW5nZSI6WyJhdG9taWNSZWFycmFuZ2UiXSwiZnJvbU9ubHkiOlsiZnJvbU9ubHkiXSwidG9Pbmx5IjpbInRvT25seSJdLCJhdG9taWNUcmFuc2ZlciI6WyJhdG9taWNUcmFuc2ZlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACCIxKS5hAAAOYQAAA4AAAAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L2JvbmRpbmdDdXJ2ZXMuanN7ImltcG9ydHMiOlsiQGVuZG8vbmF0IiwiQGVuZG8vZXJyb3JzIiwiQGFnb3JpYy9lcnRwL3NyYy9zYWZlTWF0aC5qcyJdLCJleHBvcnRzIjpbImNhbGNMaXFWYWx1ZVRvTWludCIsImNhbGNTZWNvbmRhcnlSZXF1aXJlZCIsImNhbGNWYWx1ZVRvUmVtb3ZlIiwiZ2V0SW5wdXRQcmljZSIsImdldE91dHB1dFByaWNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgTmF0LEZhaWwsbmF0U2FmZU1hdGg7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9uYXRcIiwgW1tcIk5hdFwiLFskaM2PX2EgPT4gKE5hdCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2VydHAvc3JjL3NhZmVNYXRoLmpzXCIsIFtbXCJuYXRTYWZlTWF0aFwiLFskaM2PX2EgPT4gKG5hdFNhZmVNYXRoID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5jb25zdCB7IHN1YnRyYWN0LCBhZGQsIG11bHRpcGx5LCBmbG9vckRpdmlkZSB9ID0gbmF0U2FmZU1hdGg7XG5cbmNvbnN0IEJBU0lTX1BPSU5UUyA9IDEwMDAwbjsgLy9cblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRJbnB1dFByaWNlID0gKFxuICBpbnB1dFZhbHVlLFxuICBpbnB1dFJlc2VydmUsXG4gIG91dHB1dFJlc2VydmUsXG4gIGZlZUJhc2lzUG9pbnRzID0gMzBuLFxuKSA9PiB7XG4gIGlucHV0VmFsdWUgPSBOYXQoaW5wdXRWYWx1ZSk7XG4gIGlucHV0UmVzZXJ2ZSA9IE5hdChpbnB1dFJlc2VydmUpO1xuICBvdXRwdXRSZXNlcnZlID0gTmF0KG91dHB1dFJlc2VydmUpO1xuICBpbnB1dFZhbHVlID4gMG4gfHwgRmFpbGBpbnB1dFZhbHVlICR7aW5wdXRWYWx1ZX0gbXVzdCBiZSBwb3NpdGl2ZWA7XG4gIGlucHV0UmVzZXJ2ZSA+IDBuIHx8IEZhaWxgaW5wdXRSZXNlcnZlICR7aW5wdXRSZXNlcnZlfSBtdXN0IGJlIHBvc2l0aXZlYDtcbiAgb3V0cHV0UmVzZXJ2ZSA+IDBuIHx8IEZhaWxgb3V0cHV0UmVzZXJ2ZSAke291dHB1dFJlc2VydmV9IG11c3QgYmUgcG9zaXRpdmVgO1xuXG4gIGNvbnN0IG9uZU1pbnVzRmVlU2NhbGVkID0gc3VidHJhY3QoQkFTSVNfUE9JTlRTLCBmZWVCYXNpc1BvaW50cyk7XG4gIGNvbnN0IGlucHV0V2l0aEZlZSA9IG11bHRpcGx5KGlucHV0VmFsdWUsIG9uZU1pbnVzRmVlU2NhbGVkKTtcbiAgY29uc3QgbnVtZXJhdG9yID0gbXVsdGlwbHkoaW5wdXRXaXRoRmVlLCBvdXRwdXRSZXNlcnZlKTtcbiAgY29uc3QgZGVub21pbmF0b3IgPSBhZGQobXVsdGlwbHkoaW5wdXRSZXNlcnZlLCBCQVNJU19QT0lOVFMpLCBpbnB1dFdpdGhGZWUpO1xuICByZXR1cm4gZmxvb3JEaXZpZGUobnVtZXJhdG9yLCBkZW5vbWluYXRvcik7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5nZXRJbnB1dFByaWNlKGdldElucHV0UHJpY2UpO1xuICAgICAgIGNvbnN0IGdldE91dHB1dFByaWNlID0gKFxuICBvdXRwdXRWYWx1ZSxcbiAgaW5wdXRSZXNlcnZlLFxuICBvdXRwdXRSZXNlcnZlLFxuICBmZWVCYXNpc1BvaW50cyA9IDMwbixcbikgPT4ge1xuICBvdXRwdXRWYWx1ZSA9IE5hdChvdXRwdXRWYWx1ZSk7XG4gIGlucHV0UmVzZXJ2ZSA9IE5hdChpbnB1dFJlc2VydmUpO1xuICBvdXRwdXRSZXNlcnZlID0gTmF0KG91dHB1dFJlc2VydmUpO1xuXG4gIGlucHV0UmVzZXJ2ZSA+IDBuIHx8IEZhaWxgaW5wdXRSZXNlcnZlICR7aW5wdXRSZXNlcnZlfSBtdXN0IGJlIHBvc2l0aXZlYDtcbiAgb3V0cHV0UmVzZXJ2ZSA+IDBuIHx8IEZhaWxgb3V0cHV0UmVzZXJ2ZSAke291dHB1dFJlc2VydmV9IG11c3QgYmUgcG9zaXRpdmVgO1xuICBvdXRwdXRSZXNlcnZlID4gb3V0cHV0VmFsdWUgfHxcbiAgICBGYWlsYG91dHB1dFJlc2VydmUgJHtvdXRwdXRSZXNlcnZlfSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvdXRwdXRWYWx1ZSAke291dHB1dFZhbHVlfWA7XG5cbiAgY29uc3Qgb25lTWludXNGZWVTY2FsZWQgPSBzdWJ0cmFjdChCQVNJU19QT0lOVFMsIGZlZUJhc2lzUG9pbnRzKTtcbiAgY29uc3QgbnVtZXJhdG9yID0gbXVsdGlwbHkobXVsdGlwbHkob3V0cHV0VmFsdWUsIGlucHV0UmVzZXJ2ZSksIEJBU0lTX1BPSU5UUyk7XG4gIGNvbnN0IGRlbm9taW5hdG9yID0gbXVsdGlwbHkoXG4gICAgc3VidHJhY3Qob3V0cHV0UmVzZXJ2ZSwgb3V0cHV0VmFsdWUpLFxuICAgIG9uZU1pbnVzRmVlU2NhbGVkLFxuICApO1xuICByZXR1cm4gYWRkKGZsb29yRGl2aWRlKG51bWVyYXRvciwgZGVub21pbmF0b3IpLCAxbik7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuZ2V0T3V0cHV0UHJpY2UoZ2V0T3V0cHV0UHJpY2UpO1xuICAgICAgIGNvbnN0IGNhbGNMaXFWYWx1ZVRvTWludCA9IChcbiAgbGlxVG9rZW5TdXBwbHksXG4gIGlucHV0VmFsdWUsXG4gIGlucHV0UmVzZXJ2ZSxcbikgPT4ge1xuICBsaXFUb2tlblN1cHBseSA9IE5hdChsaXFUb2tlblN1cHBseSk7XG4gIGlucHV0VmFsdWUgPSBOYXQoaW5wdXRWYWx1ZSk7XG4gIGlucHV0UmVzZXJ2ZSA9IE5hdChpbnB1dFJlc2VydmUpO1xuXG4gIGlmIChsaXFUb2tlblN1cHBseSA9PT0gMG4pIHtcbiAgICByZXR1cm4gaW5wdXRWYWx1ZTtcbiAgfVxuICByZXR1cm4gZmxvb3JEaXZpZGUobXVsdGlwbHkoaW5wdXRWYWx1ZSwgbGlxVG9rZW5TdXBwbHkpLCBpbnB1dFJlc2VydmUpO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmNhbGNMaXFWYWx1ZVRvTWludChjYWxjTGlxVmFsdWVUb01pbnQpO1xuICAgICAgIGNvbnN0IGNhbGNTZWNvbmRhcnlSZXF1aXJlZCA9IChcbiAgY2VudHJhbEluLFxuICBjZW50cmFsUG9vbCxcbiAgc2Vjb25kYXJ5UG9vbCxcbiAgc2Vjb25kYXJ5SW4sXG4pID0+IHtcbiAgY2VudHJhbEluID0gTmF0KGNlbnRyYWxJbik7XG4gIGNlbnRyYWxQb29sID0gTmF0KGNlbnRyYWxQb29sKTtcbiAgc2Vjb25kYXJ5UG9vbCA9IE5hdChzZWNvbmRhcnlQb29sKTtcbiAgc2Vjb25kYXJ5SW4gPSBOYXQoc2Vjb25kYXJ5SW4pO1xuXG4gIGlmIChjZW50cmFsUG9vbCA9PT0gMG4gfHwgc2Vjb25kYXJ5UG9vbCA9PT0gMG4pIHtcbiAgICByZXR1cm4gc2Vjb25kYXJ5SW47XG4gIH1cblxuICBjb25zdCBzY2FsZWRTZWNvbmRhcnkgPSBmbG9vckRpdmlkZShcbiAgICBtdWx0aXBseShjZW50cmFsSW4sIHNlY29uZGFyeVBvb2wpLFxuICAgIGNlbnRyYWxQb29sLFxuICApO1xuICBjb25zdCBleGFjdCA9XG4gICAgbXVsdGlwbHkoY2VudHJhbEluLCBzZWNvbmRhcnlQb29sKSA9PT1cbiAgICBtdWx0aXBseShzY2FsZWRTZWNvbmRhcnksIGNlbnRyYWxQb29sKTtcblxuICAvL1xuICAvL1xuICByZXR1cm4gZXhhY3QgPyBzY2FsZWRTZWNvbmRhcnkgOiAxbiArIHNjYWxlZFNlY29uZGFyeTtcbn07XG5cbi8vXG4vL1xuJGjNj19vbmNlLmNhbGNTZWNvbmRhcnlSZXF1aXJlZChjYWxjU2Vjb25kYXJ5UmVxdWlyZWQpO2NvbnN0IGNhbGNWYWx1ZVRvUmVtb3ZlPShcbiAgbGlxVG9rZW5TdXBwbHksXG4gIHBvb2xWYWx1ZSxcbiAgbGlxdWlkaXR5VmFsdWVJbixcbikgPT4ge1xuICBsaXFUb2tlblN1cHBseSA9IE5hdChsaXFUb2tlblN1cHBseSk7XG4gIGxpcXVpZGl0eVZhbHVlSW4gPSBOYXQobGlxdWlkaXR5VmFsdWVJbik7XG4gIHBvb2xWYWx1ZSA9IE5hdChwb29sVmFsdWUpO1xuXG4gIHJldHVybiBmbG9vckRpdmlkZShtdWx0aXBseShsaXF1aWRpdHlWYWx1ZUluLCBwb29sVmFsdWUpLCBsaXFUb2tlblN1cHBseSk7XG59OyRozY9fb25jZS5jYWxjVmFsdWVUb1JlbW92ZShjYWxjVmFsdWVUb1JlbW92ZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJnZXRJbnB1dFByaWNlIjpbImdldElucHV0UHJpY2UiXSwiZ2V0T3V0cHV0UHJpY2UiOlsiZ2V0T3V0cHV0UHJpY2UiXSwiY2FsY0xpcVZhbHVlVG9NaW50IjpbImNhbGNMaXFWYWx1ZVRvTWludCJdLCJjYWxjU2Vjb25kYXJ5UmVxdWlyZWQiOlsiY2FsY1NlY29uZGFyeVJlcXVpcmVkIl0sImNhbGNWYWx1ZVRvUmVtb3ZlIjpbImNhbGNWYWx1ZVRvUmVtb3ZlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAHUs6K6lCgAApQoAADUAAABAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvZHVyYWJpbGl0eS5qc3siaW1wb3J0cyI6WyJAYWdvcmljL2ludGVybmFsIiwiQGFnb3JpYy92YXQtZGF0YSIsIkBlbmRvL2V2ZW50dWFsLXNlbmQiXSwiZXhwb3J0cyI6WyJtYWtlRXBoZW1lcmFQcm92aWRlciIsInByb3ZpZGVBbGwiLCJwcm92aWRlRW1wdHlTZWF0IiwicHJvdmlkZVNpbmdsZXRvbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGFsbFZhbHVlcyxvYmplY3RNYXAscHJvdmlkZSxFOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9pbnRlcm5hbFwiLCBbW1wiYWxsVmFsdWVzXCIsWyRozY9fYSA9PiAoYWxsVmFsdWVzID0gJGjNj19hKV1dLFtcIm9iamVjdE1hcFwiLFskaM2PX2EgPT4gKG9iamVjdE1hcCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvdmF0LWRhdGFcIiwgW1tcInByb3ZpZGVcIixbJGjNj19hID0+IChwcm92aWRlID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXZlbnR1YWwtc2VuZFwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuLypcblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VFcGhlbWVyYVByb3ZpZGVyID0gaW5pdCA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgZXh0YW50ID0gbmV3IFdlYWtNYXAoKTtcblxuICAvKlxuXG5cblxuICAgKi9cbiAgcmV0dXJuIGtleSA9PiB7XG4gICAgaWYgKGV4dGFudC5oYXMoa2V5KSkge1xuICAgICAgLy9cbiAgICAgIHJldHVybiBleHRhbnQuZ2V0KGtleSk7XG4gICAgfVxuICAgIGNvbnN0IG5ld0VwaCA9IGluaXQoa2V5KTtcbiAgICBleHRhbnQuc2V0KGtleSwgbmV3RXBoKTtcbiAgICByZXR1cm4gbmV3RXBoO1xuICB9O1xufTskaM2PX29uY2UubWFrZUVwaGVtZXJhUHJvdmlkZXIobWFrZUVwaGVtZXJhUHJvdmlkZXIpO1xuaGFyZGVuKG1ha2VFcGhlbWVyYVByb3ZpZGVyKTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByb3ZpZGVFbXB0eVNlYXQgPSAoemNmLCBiYWdnYWdlLCBuYW1lKSA9PiB7XG4gIHJldHVybiBwcm92aWRlKGJhZ2dhZ2UsIG5hbWUsICgpID0+IHpjZi5tYWtlRW1wdHlTZWF0S2l0KCkuemNmU2VhdCk7XG59OyRozY9fb25jZS5wcm92aWRlRW1wdHlTZWF0KHByb3ZpZGVFbXB0eVNlYXQpO1xuaGFyZGVuKHByb3ZpZGVFbXB0eVNlYXQpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcm92aWRlQWxsID0gKGJhZ2dhZ2UsIHRodW5rcykgPT4ge1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGh1bmtzKTtcbiAgLy9cbiAgY29uc3QgaW5CYWdnYWdlID0gYmFnZ2FnZS5oYXMoa2V5c1swXSk7XG4gIGlmIChpbkJhZ2dhZ2UpIHtcbiAgICBjb25zdCBvYmogPSBvYmplY3RNYXAoXG4gICAgICB0aHVua3MsXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgKF8sIGspID0+IGJhZ2dhZ2UuZ2V0KGspLFxuICAgICk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShoYXJkZW4ob2JqKSk7XG4gIH1cblxuICBjb25zdCBrZXllZFByb21pc2VzID0gb2JqZWN0TWFwKHRodW5rcywgZm4gPT4gZm4oKSk7XG5cbiAgcmV0dXJuIGFsbFZhbHVlcyhrZXllZFByb21pc2VzKS50aGVuKGtleWVkVmFscyA9PiB7XG4gICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoa2V5ZWRWYWxzKSkge1xuICAgICAgYmFnZ2FnZS5pbml0KGssIHYpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5ZWRWYWxzO1xuICB9KTtcbn07JGjNj19vbmNlLnByb3ZpZGVBbGwocHJvdmlkZUFsbCk7XG5oYXJkZW4ocHJvdmlkZUFsbCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJvdmlkZVNpbmdsZXRvbiA9IChtYXBTdG9yZSwga2V5LCBtYWtlVmFsdWUsIHdpdGhWYWx1ZSkgPT4ge1xuICBjb25zdCBzdG9yZWQgPSBtYXBTdG9yZS5oYXMoa2V5KVxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBFLndoZW4obWFrZVZhbHVlKCksIHYgPT4gbWFwU3RvcmUuaW5pdChrZXksIGhhcmRlbih2KSkpO1xuXG4gIHJldHVybiBFLndoZW4oc3RvcmVkLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBtYXBTdG9yZS5nZXQoa2V5KTtcbiAgICBpZiAod2l0aFZhbHVlKSB7XG4gICAgICB3aXRoVmFsdWUodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pO1xufTskaM2PX29uY2UucHJvdmlkZVNpbmdsZXRvbihwcm92aWRlU2luZ2xldG9uKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VFcGhlbWVyYVByb3ZpZGVyIjpbIm1ha2VFcGhlbWVyYVByb3ZpZGVyIl0sInByb3ZpZGVFbXB0eVNlYXQiOlsicHJvdmlkZUVtcHR5U2VhdCJdLCJwcm92aWRlQWxsIjpbInByb3ZpZGVBbGwiXSwicHJvdmlkZVNpbmdsZXRvbiI6WyJwcm92aWRlU2luZ2xldG9uIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAB/z7dJ8CAAAfAgAADAAAABAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvaW5kZXguanN7ImltcG9ydHMiOlsiLi9ib25kaW5nQ3VydmVzLmpzIiwiQGFnb3JpYy9lcnRwL3NyYy9zYWZlTWF0aC5qcyIsIi4vc3RhdGVNYWNoaW5lLmpzIiwiLi9hdG9taWNUcmFuc2Zlci5qcyIsIi4vem9lSGVscGVycy5qcyIsIkBhZ29yaWMvZXJ0cC9zcmMvcmF0aW8uanMiLCIuL2R1cmFiaWxpdHkuanMiLCIuL3ByZXBhcmUtb3duYWJsZS5qcyIsIi4vcHJpY2VBdXRob3JpdHkuanMiLCIuL3ByaWNlUXVvdGUuanMiLCIuL3N0YXRpc3RpY3MuanMiLCIuL3JlY29yZGVyLmpzIiwiLi90b3BpY3MuanMiXSwiZXhwb3J0cyI6WyJhdG9taWNUcmFuc2ZlciIsImF0b21pY1RyYW5zZmVyIiwiZ2V0T3V0cHV0UHJpY2UiLCJnZXRPdXRwdXRQcmljZSIsInN3YXAiLCJzd2FwIixudWxsLG51bGxdLCJyZWV4cG9ydHMiOlsiLi9kdXJhYmlsaXR5LmpzIiwiLi9wcmVwYXJlLW93bmFibGUuanMiLCIuL3ByaWNlQXV0aG9yaXR5LmpzIiwiLi9wcmljZVF1b3RlLmpzIiwiLi9yZWNvcmRlci5qcyIsIi4vc3RhdGlzdGljcy5qcyIsIi4vdG9waWNzLmpzIiwiQGFnb3JpYy9lcnRwL3NyYy9yYXRpby5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL2JvbmRpbmdDdXJ2ZXMuanNcIiwgW11dLFtcIkBhZ29yaWMvZXJ0cC9zcmMvc2FmZU1hdGguanNcIiwgW11dLFtcIi4vc3RhdGVNYWNoaW5lLmpzXCIsIFtdXSxbXCIuL2F0b21pY1RyYW5zZmVyLmpzXCIsIFtdXSxbXCIuL3pvZUhlbHBlcnMuanNcIiwgW11dLFtcIkBhZ29yaWMvZXJ0cC9zcmMvcmF0aW8uanNcIiwgW11dLFtcIi4vZHVyYWJpbGl0eS5qc1wiLCBbXV0sW1wiLi9wcmVwYXJlLW93bmFibGUuanNcIiwgW11dLFtcIi4vcHJpY2VBdXRob3JpdHkuanNcIiwgW11dLFtcIi4vcHJpY2VRdW90ZS5qc1wiLCBbXV0sW1wiLi9zdGF0aXN0aWNzLmpzXCIsIFtdXSxbXCIuL3JlY29yZGVyLmpzXCIsIFtdXSxbXCIuL3RvcGljcy5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7Ii4vYm9uZGluZ0N1cnZlcy5qcyI6W1siZ2V0SW5wdXRQcmljZSIsImdldElucHV0UHJpY2UiXSxbImdldE91dHB1dFByaWNlIiwiZ2V0T3V0cHV0UHJpY2UiXSxbImNhbGNMaXFWYWx1ZVRvTWludCIsImNhbGNMaXFWYWx1ZVRvTWludCJdLFsiY2FsY1ZhbHVlVG9SZW1vdmUiLCJjYWxjVmFsdWVUb1JlbW92ZSJdLFsiY2FsY1NlY29uZGFyeVJlcXVpcmVkIiwiY2FsY1NlY29uZGFyeVJlcXVpcmVkIl1dLCJAYWdvcmljL2VydHAvc3JjL3NhZmVNYXRoLmpzIjpbWyJuYXRTYWZlTWF0aCIsIm5hdFNhZmVNYXRoIl1dLCIuL3N0YXRlTWFjaGluZS5qcyI6W1sibWFrZVN0YXRlTWFjaGluZSIsIm1ha2VTdGF0ZU1hY2hpbmUiXV0sIi4vYXRvbWljVHJhbnNmZXIuanMiOltbImF0b21pY1JlYXJyYW5nZSIsImF0b21pY1JlYXJyYW5nZSJdLFsiYXRvbWljVHJhbnNmZXIiLCJhdG9taWNUcmFuc2ZlciJdLFsiZnJvbU9ubHkiLCJmcm9tT25seSJdLFsidG9Pbmx5IiwidG9Pbmx5Il1dLCIuL3pvZUhlbHBlcnMuanMiOltbImRlZmF1bHRBY2NlcHRhbmNlTXNnIiwiZGVmYXVsdEFjY2VwdGFuY2VNc2ciXSxbInN3YXAiLCJzd2FwIl0sWyJmaXRQcm9wb3NhbFNoYXBlIiwiZml0UHJvcG9zYWxTaGFwZSJdLFsiYXNzZXJ0UHJvcG9zYWxTaGFwZSIsImFzc2VydFByb3Bvc2FsU2hhcGUiXSxbImFzc2VydElzc3VlcktleXdvcmRzIiwiYXNzZXJ0SXNzdWVyS2V5d29yZHMiXSxbInNhdGlzZmllcyIsInNhdGlzZmllcyJdLFsiYXNzZXJ0TmF0QXNzZXRLaW5kIiwiYXNzZXJ0TmF0QXNzZXRLaW5kIl0sWyJzd2FwRXhhY3QiLCJzd2FwRXhhY3QiXSxbImRlcG9zaXRUb1NlYXQiLCJkZXBvc2l0VG9TZWF0Il0sWyJ3aXRoZHJhd0Zyb21TZWF0Iiwid2l0aGRyYXdGcm9tU2VhdCJdLFsic2F2ZUFsbElzc3VlcnMiLCJzYXZlQWxsSXNzdWVycyJdLFsib2ZmZXJUbyIsIm9mZmVyVG8iXV19LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEeE1QiuCQAArgkAADoAAABAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvcHJlcGFyZS1vd25hYmxlLmpzeyJpbXBvcnRzIjpbIkBlbmRvL3BhdHRlcm5zIiwiQGFnb3JpYy9iYXNlLXpvbmUvem9uZS1oZWxwZXJzLmpzIiwiLi4vdHlwZUd1YXJkcy5qcyJdLCJleHBvcnRzIjpbInByZXBhcmVPd25hYmxlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgTSxwcmVwYXJlUmV2b2NhYmxlTWFrZXJLaXQsT2ZmZXJIYW5kbGVySTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJNXCIsWyRozY9fYSA9PiAoTSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvYmFzZS16b25lL3pvbmUtaGVscGVycy5qc1wiLCBbW1wicHJlcGFyZVJldm9jYWJsZU1ha2VyS2l0XCIsWyRozY9fYSA9PiAocHJlcGFyZVJldm9jYWJsZU1ha2VyS2l0ID0gJGjNj19hKV1dXV0sW1wiLi4vdHlwZUd1YXJkcy5qc1wiLCBbW1wiT2ZmZXJIYW5kbGVySVwiLFskaM2PX2EgPT4gKE9mZmVySGFuZGxlckkgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuY29uc3QgVHJhbnNmZXJQcm9wb3NhbFNoYXBlID0gTS5zcGxpdFJlY29yZCh7XG4gIGdpdmU6IHt9LFxuICB3YW50OiB7fSxcbiAgZXhpdDoge1xuICAgIG9uRGVtYW5kOiBudWxsLFxuICB9LFxufSk7XG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZU93bmFibGUgPSAoXG4gIHpvbmUsXG4gIG1ha2VJbnZpdGF0aW9uLFxuICB1S2luZE5hbWUsXG4gIHVNZXRob2ROYW1lcyxcbiAgb3B0aW9ucyA9IHt9LFxuKSA9PiB7XG4gIGNvbnN0IHsgdUludGVyZmFjZU5hbWUgPSB1S2luZE5hbWUgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHsgcmV2b2tlLCBtYWtlUmV2b2NhYmxlIH0gPSBwcmVwYXJlUmV2b2NhYmxlTWFrZXJLaXQoXG4gICAgem9uZSxcbiAgICB1S2luZE5hbWUsXG4gICAgdU1ldGhvZE5hbWVzLFxuICAgIHtcbiAgICAgIHVJbnRlcmZhY2VOYW1lLFxuICAgICAgZXh0cmFNZXRob2RHdWFyZHM6IHtcbiAgICAgICAgbWFrZVRyYW5zZmVySW52aXRhdGlvbjogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICB9LFxuICAgICAgZXh0cmFNZXRob2RzOiB7XG4gICAgICAgIG1ha2VUcmFuc2Zlckludml0YXRpb24oKSB7XG4gICAgICAgICAgY29uc3QgeyB1bmRlcmx5aW5nIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAgIGNvbnN0IHsgcmV2b2NhYmxlIH0gPSB0aGlzLmZhY2V0cztcbiAgICAgICAgICBjb25zdCBjdXN0b21EZXRhaWxzID0gdW5kZXJseWluZy5nZXRJbnZpdGF0aW9uQ3VzdG9tRGV0YWlscygpO1xuICAgICAgICAgIGNvbnN0IHRyYW5zZmVySGFuZGxlciA9IG1ha2VUcmFuc2ZlckhhbmRsZXIodW5kZXJseWluZyk7XG5cbiAgICAgICAgICBjb25zdCBpbnZpdGF0aW9uID0gbWFrZUludml0YXRpb24oXG4gICAgICAgICAgICB0cmFuc2ZlckhhbmRsZXIsXG4gICAgICAgICAgICAndHJhbnNmZXInLFxuICAgICAgICAgICAgY3VzdG9tRGV0YWlscyxcbiAgICAgICAgICAgIFRyYW5zZmVyUHJvcG9zYWxTaGFwZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldm9rZShyZXZvY2FibGUpO1xuICAgICAgICAgIHJldHVybiBpbnZpdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IG1ha2VUcmFuc2ZlckhhbmRsZXIgPSB6b25lLmV4b0NsYXNzKFxuICAgICdUcmFuc2ZlckhhbmRsZXInLFxuICAgIE9mZmVySGFuZGxlckksXG4gICAgdW5kZXJseWluZyA9PiAoe1xuICAgICAgdW5kZXJseWluZyxcbiAgICB9KSxcbiAgICB7XG4gICAgICBoYW5kbGUoc2VhdCkge1xuICAgICAgICBjb25zdCB7IHVuZGVybHlpbmcgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGNvbnN0IHJldm9jYWJsZSA9IG1ha2VSZXZvY2FibGUodW5kZXJseWluZyk7XG4gICAgICAgIHNlYXQuZXhpdCgpO1xuICAgICAgICByZXR1cm4gcmV2b2NhYmxlO1xuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IG1ha2VPd25hYmxlID0gdW5kZXJseWluZyA9PiBtYWtlUmV2b2NhYmxlKHVuZGVybHlpbmcpO1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICByZXR1cm4gaGFyZGVuKG1ha2VPd25hYmxlKTtcbn07JGjNj19vbmNlLnByZXBhcmVPd25hYmxlKHByZXBhcmVPd25hYmxlKTtcbmhhcmRlbihwcmVwYXJlT3duYWJsZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJwcmVwYXJlT3duYWJsZSI6WyJwcmVwYXJlT3duYWJsZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADlJxlI+isAAPorAAA5AAAAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L3ByaWNlQXV0aG9yaXR5LmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2V2ZW50dWFsLXNlbmQiLCJAZW5kby9tYXJzaGFsIiwiQGVuZG8vcHJvbWlzZS1raXQiLCJAYWdvcmljL2VydHAiLCJAYWdvcmljL25vdGlmaWVyIiwiQGFnb3JpYy9pbnRlcm5hbCIsIkBhZ29yaWMvdGltZSIsIkBhZ29yaWMvc3RvcmUiXSwiZXhwb3J0cyI6WyJQcmljZUF1dGhvcml0eUkiLCJtYWtlT25ld2F5UHJpY2VBdXRob3JpdHlLaXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBxLEZhaWwsRSxGYXIsbWFrZVByb21pc2VLaXQsQW1vdW50TWF0aCxBbW91bnRTaGFwZSxCcmFuZFNoYXBlLG1ha2VOb3RpZmllcixtYWtlVHJhY2VyLFRpbWVzdGFtcFNoYXBlLE07JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXZlbnR1YWwtc2VuZFwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJGYXJcIixbJGjNj19hID0+IChGYXIgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wcm9taXNlLWtpdFwiLCBbW1wibWFrZVByb21pc2VLaXRcIixbJGjNj19hID0+IChtYWtlUHJvbWlzZUtpdCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvZXJ0cFwiLCBbW1wiQW1vdW50TWF0aFwiLFskaM2PX2EgPT4gKEFtb3VudE1hdGggPSAkaM2PX2EpXV0sW1wiQW1vdW50U2hhcGVcIixbJGjNj19hID0+IChBbW91bnRTaGFwZSA9ICRozY9fYSldXSxbXCJCcmFuZFNoYXBlXCIsWyRozY9fYSA9PiAoQnJhbmRTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvbm90aWZpZXJcIiwgW1tcIm1ha2VOb3RpZmllclwiLFskaM2PX2EgPT4gKG1ha2VOb3RpZmllciA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvaW50ZXJuYWxcIiwgW1tcIm1ha2VUcmFjZXJcIixbJGjNj19hID0+IChtYWtlVHJhY2VyID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy90aW1lXCIsIFtbXCJUaW1lc3RhbXBTaGFwZVwiLFskaM2PX2EgPT4gKFRpbWVzdGFtcFNoYXBlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG4gKi9cblxuY29uc3QgdHJhY2UgPSBtYWtlVHJhY2VyKCdQQScsIGZhbHNlKTtcblxuLypcblxuXG5cblxuICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGlzTFQgPSAoYW1vdW50LCBhbW91bnRMaW1pdCkgPT4gIUFtb3VudE1hdGguaXNHVEUoYW1vdW50LCBhbW91bnRMaW1pdCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGlzTFRFID0gKGFtb3VudCwgYW1vdW50TGltaXQpID0+IEFtb3VudE1hdGguaXNHVEUoYW1vdW50TGltaXQsIGFtb3VudCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGlzR1RFID0gKGFtb3VudCwgYW1vdW50TGltaXQpID0+IEFtb3VudE1hdGguaXNHVEUoYW1vdW50LCBhbW91bnRMaW1pdCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGlzR1QgPSAoYW1vdW50LCBhbW91bnRMaW1pdCkgPT4gIUFtb3VudE1hdGguaXNHVEUoYW1vdW50TGltaXQsIGFtb3VudCk7XG5cbi8qXG5cblxuXG4gKi9cblxuY29uc3QgR3VhcmRDYWxsQW1vdW50VHVwbGUgPSBNLmNhbGwoQW1vdW50U2hhcGUsIEFtb3VudFNoYXBlKS5yZXR1cm5zKFxuICBNLnByb21pc2UoKSxcbik7XG4gICAgICAgY29uc3QgUHJpY2VBdXRob3JpdHlJID0gTS5pbnRlcmZhY2UoJ1ByaWNlQXV0aG9yaXR5Jywge1xuICBnZXRRdW90ZUlzc3VlcjogTS5jYWxsKEJyYW5kU2hhcGUsIEJyYW5kU2hhcGUpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICBnZXRUaW1lclNlcnZpY2U6IE0uY2FsbChCcmFuZFNoYXBlLCBCcmFuZFNoYXBlKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgcXVvdGVHaXZlbjogTS5jYWxsKEFtb3VudFNoYXBlLCBCcmFuZFNoYXBlKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgcXVvdGVXYW50ZWQ6IE0uY2FsbChCcmFuZFNoYXBlLCBBbW91bnRTaGFwZSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIG1ha2VRdW90ZU5vdGlmaWVyOiBNLmNhbGwoQW1vdW50U2hhcGUsIEJyYW5kU2hhcGUpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICBxdW90ZUF0VGltZTogTS5jYWxsKFRpbWVzdGFtcFNoYXBlLCBBbW91bnRTaGFwZSwgQnJhbmRTaGFwZSkucmV0dXJucyhcbiAgICBNLnByb21pc2UoKSxcbiAgKSxcbiAgcXVvdGVXaGVuTFQ6IEd1YXJkQ2FsbEFtb3VudFR1cGxlLFxuICBxdW90ZVdoZW5MVEU6IEd1YXJkQ2FsbEFtb3VudFR1cGxlLFxuICBxdW90ZVdoZW5HVEU6IEd1YXJkQ2FsbEFtb3VudFR1cGxlLFxuICBxdW90ZVdoZW5HVDogR3VhcmRDYWxsQW1vdW50VHVwbGUsXG4gIG11dGFibGVRdW90ZVdoZW5MVDogR3VhcmRDYWxsQW1vdW50VHVwbGUsXG4gIG11dGFibGVRdW90ZVdoZW5MVEU6IEd1YXJkQ2FsbEFtb3VudFR1cGxlLFxuICBtdXRhYmxlUXVvdGVXaGVuR1RFOiBHdWFyZENhbGxBbW91bnRUdXBsZSxcbiAgbXV0YWJsZVF1b3RlV2hlbkdUOiBHdWFyZENhbGxBbW91bnRUdXBsZSxcbn0pO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5QcmljZUF1dGhvcml0eUkoUHJpY2VBdXRob3JpdHlJKTtcbiAgICAgICBjb25zdCBtYWtlT25ld2F5UHJpY2VBdXRob3JpdHlLaXQgPSBvcHRzID0+IHtcbiAgY29uc3Qge1xuICAgIHRpbWVyLFxuICAgIGNyZWF0ZVF1b3RlLFxuICAgIGFjdHVhbEJyYW5kSW4sXG4gICAgYWN0dWFsQnJhbmRPdXQsXG4gICAgcXVvdGVJc3N1ZXIsXG4gICAgbm90aWZpZXIsXG4gIH0gPSBvcHRzO1xuXG4gIGxldCBoYXZlRmlyc3RRdW90ZSA9IGZhbHNlO1xuXG4gIHZvaWQgRShub3RpZmllcilcbiAgICAuZ2V0VXBkYXRlU2luY2UoKVxuICAgIC50aGVuKF8gPT4gKGhhdmVGaXJzdFF1b3RlID0gdHJ1ZSkpO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB0cmlnZ2VycyA9IG5ldyBTZXQoKTtcbiAgY29uc3QgbXV0YWJsZVRyaWdnZXJzID0gbmV3IE1hcCgpO1xuXG4gIC8qXG5cblxuICAgKi9cbiAgY29uc3QgZmlyZVRyaWdnZXJzID0gYXN5bmMgdHJpZ2dlckNyZWF0ZVF1b3RlID0+IHtcbiAgICBpZiAoIWhhdmVGaXJzdFF1b3RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgWy4uLnRyaWdnZXJzLCAuLi5BcnJheS5mcm9tKG11dGFibGVUcmlnZ2Vycy52YWx1ZXMoKSldLm1hcCh0cmlnZ2VyID0+XG4gICAgICAgIHRyaWdnZXIodHJpZ2dlckNyZWF0ZVF1b3RlKSxcbiAgICAgICksXG4gICAgKTtcbiAgfTtcblxuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgbWFrZVF1b3RlV2hlbk91dCA9XG4gICAgY29tcGFyZUFtb3VudHNGbiA9PlxuICAgIC8qXG5cblxuXG5cblxuICAgICAqL1xuICAgIGFzeW5jIChhbW91bnRJbiwgYW1vdW50T3V0TGltaXQpID0+IHtcbiAgICAgIGFtb3VudEluID0gQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRJbiwgYW1vdW50SW4pO1xuICAgICAgYW1vdW50T3V0TGltaXQgPSBBbW91bnRNYXRoLmNvZXJjZShhY3R1YWxCcmFuZE91dCwgYW1vdW50T3V0TGltaXQpO1xuXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCB0cmlnZ2VyUEsgPSBtYWtlUHJvbWlzZUtpdCgpO1xuXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY29uc3QgdHJpZ2dlciA9IGFzeW5jIGNyZWF0ZUluc3RhbnRRdW90ZSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcXVvdGVQID0gY3JlYXRlSW5zdGFudFF1b3RlKGNhbGNBbW91bnRPdXQgPT4ge1xuICAgICAgICAgICAgaWYgKCF0cmlnZ2Vycy5oYXModHJpZ2dlcikpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFtb3VudE91dCA9IGNhbGNBbW91bnRPdXQoYW1vdW50SW4pO1xuXG4gICAgICAgICAgICBpZiAoIWNvbXBhcmVBbW91bnRzRm4oYW1vdW50T3V0LCBhbW91bnRPdXRMaW1pdCkpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHJldHVybiB7IGFtb3VudEluLCBhbW91bnRPdXQgfTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghcXVvdGVQKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyaWdnZXJzLmRlbGV0ZSh0cmlnZ2VyKTtcbiAgICAgICAgICB0cmlnZ2VyUEsucmVzb2x2ZShxdW90ZVApO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICB0cmlnZ2VyUEsucmVqZWN0KGUpO1xuICAgICAgICAgIHRyaWdnZXJzLmRlbGV0ZSh0cmlnZ2VyKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdHJpZ2dlcnMuYWRkKHRyaWdnZXIpO1xuXG4gICAgICAvL1xuICAgICAgYXdhaXQgdHJpZ2dlcihjcmVhdGVRdW90ZSk7XG5cbiAgICAgIHJldHVybiB0cmlnZ2VyUEsucHJvbWlzZTtcbiAgICB9O1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlTXV0YWJsZVF1b3RlID1cbiAgICBjb21wYXJlQW1vdW50c0ZuID0+XG4gICAgLypcblxuXG4gICAgICovXG4gICAgYXN5bmMgKGFtb3VudEluLCBhbW91bnRPdXRMaW1pdCkgPT4ge1xuICAgICAgQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRJbiwgYW1vdW50SW4pO1xuICAgICAgQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRPdXQsIGFtb3VudE91dExpbWl0KTtcblxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY29uc3QgdHJpZ2dlclBLID0gbWFrZVByb21pc2VLaXQoKTtcblxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCBtdXRhYmxlUXVvdGUgPSBGYXIoJ011dGFibGVRdW90ZScsIHtcbiAgICAgICAgY2FuY2VsOiBlID0+IHRyaWdnZXJQSy5yZWplY3QoZSksXG4gICAgICAgIHVwZGF0ZUxldmVsOiAobmV3QW1vdW50SW4sIG5ld0Ftb3VudE91dExpbWl0KSA9PiB7XG4gICAgICAgICAgY29uc3QgY29lcmNlZEFtb3VudEluID0gQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRJbiwgbmV3QW1vdW50SW4pO1xuICAgICAgICAgIGNvbnN0IGNvZXJjZWRBbW91bnRPdXRMaW1pdCA9IEFtb3VudE1hdGguY29lcmNlKFxuICAgICAgICAgICAgYWN0dWFsQnJhbmRPdXQsXG4gICAgICAgICAgICBuZXdBbW91bnRPdXRMaW1pdCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGFtb3VudEluID0gY29lcmNlZEFtb3VudEluO1xuICAgICAgICAgIGFtb3VudE91dExpbWl0ID0gY29lcmNlZEFtb3VudE91dExpbWl0O1xuICAgICAgICAgIHZvaWQgZmlyZVRyaWdnZXJzKGNyZWF0ZVF1b3RlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UHJvbWlzZTogKCkgPT4gdHJpZ2dlclBLLnByb21pc2UsXG4gICAgICB9KTtcblxuICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGNvbnN0IG11dGFibGVUcmlnZ2VyID0gYXN5bmMgY3JlYXRlSW5zdGFudFF1b3RlID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBxdW90ZVAgPSBjcmVhdGVJbnN0YW50UXVvdGUoY2FsY0Ftb3VudE91dCA9PiB7XG4gICAgICAgICAgICBpZiAoIW11dGFibGVUcmlnZ2Vycy5oYXMobXV0YWJsZVF1b3RlKSkge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYW1vdW50T3V0ID0gY2FsY0Ftb3VudE91dChhbW91bnRJbik7XG5cbiAgICAgICAgICAgIGlmICghY29tcGFyZUFtb3VudHNGbihhbW91bnRPdXQsIGFtb3VudE91dExpbWl0KSkge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgcmV0dXJuIHsgYW1vdW50SW4sIGFtb3VudE91dCB9O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCFxdW90ZVApIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbXV0YWJsZVRyaWdnZXJzLmRlbGV0ZShtdXRhYmxlUXVvdGUpO1xuICAgICAgICAgIHRyaWdnZXJQSy5yZXNvbHZlKHF1b3RlUCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIHRyaWdnZXJQSy5yZWplY3QoZSk7XG4gICAgICAgICAgbXV0YWJsZVRyaWdnZXJzLmRlbGV0ZShtdXRhYmxlUXVvdGUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBtdXRhYmxlVHJpZ2dlcnMuc2V0KG11dGFibGVRdW90ZSwgbXV0YWJsZVRyaWdnZXIpO1xuXG4gICAgICAvL1xuICAgICAgYXdhaXQgbXV0YWJsZVRyaWdnZXIoY3JlYXRlUXVvdGUpO1xuXG4gICAgICByZXR1cm4gbXV0YWJsZVF1b3RlO1xuICAgIH07XG5cbiAgLypcblxuXG5cblxuICAgKi9cbiAgY29uc3QgYXNzZXJ0QnJhbmRzID0gKGJyYW5kSW4sIGJyYW5kT3V0KSA9PiB7XG4gICAgYnJhbmRJbiA9PT0gYWN0dWFsQnJhbmRJbiB8fFxuICAgICAgRmFpbGBEZXNpcmVkIGJyYW5kSW4gJHtxKGJyYW5kSW4pfSBtdXN0IG1hdGNoICR7cShhY3R1YWxCcmFuZEluKX1gO1xuICAgIGJyYW5kT3V0ID09PSBhY3R1YWxCcmFuZE91dCB8fFxuICAgICAgRmFpbGBEZXNpcmVkIGJyYW5kT3V0ICR7cShicmFuZE91dCl9IG11c3QgbWF0Y2ggJHtxKGFjdHVhbEJyYW5kT3V0KX1gO1xuICB9O1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHByaWNlQXV0aG9yaXR5ID0gRmFyKCdQcmljZUF1dGhvcml0eScsIHtcbiAgICBnZXRRdW90ZUlzc3VlcihicmFuZEluLCBicmFuZE91dCkge1xuICAgICAgYXNzZXJ0QnJhbmRzKGJyYW5kSW4sIGJyYW5kT3V0KTtcbiAgICAgIHJldHVybiBxdW90ZUlzc3VlcjtcbiAgICB9LFxuICAgIGdldFRpbWVyU2VydmljZShicmFuZEluLCBicmFuZE91dCkge1xuICAgICAgYXNzZXJ0QnJhbmRzKGJyYW5kSW4sIGJyYW5kT3V0KTtcbiAgICAgIHJldHVybiB0aW1lcjtcbiAgICB9LFxuICAgIG1ha2VRdW90ZU5vdGlmaWVyKGFtb3VudEluLCBicmFuZE91dCkge1xuICAgICAgQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRJbiwgYW1vdW50SW4pO1xuICAgICAgYXNzZXJ0QnJhbmRzKGFtb3VudEluLmJyYW5kLCBicmFuZE91dCk7XG5cbiAgICAgIC8vXG4gICAgICBjb25zdCBzcGVjaWZpY0Jhc2VOb3RpZmllciA9IGhhcmRlbih7XG4gICAgICAgIGFzeW5jIGdldFVwZGF0ZVNpbmNlKHVwZGF0ZUNvdW50ID0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCByZWNvcmQgPSBhd2FpdCBFKG5vdGlmaWVyKS5nZXRVcGRhdGVTaW5jZSh1cGRhdGVDb3VudCk7XG5cbiAgICAgICAgICAvL1xuICAgICAgICAgIGxldCBxdW90ZTtcbiAgICAgICAgICAvL1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHF1b3RlID0gY3JlYXRlUXVvdGUoY2FsY0Ftb3VudE91dCA9PiAoe1xuICAgICAgICAgICAgICBhbW91bnRJbixcbiAgICAgICAgICAgICAgYW1vdW50T3V0OiBjYWxjQW1vdW50T3V0KGFtb3VudEluKSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghcXVvdGUpIHtcbiAgICAgICAgICAgIHRocm93IEZhaWxgY3JlYXRlUXVvdGUgcmV0dXJuZWQgbm90aGluZ2A7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBxdW90ZTtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgdXBkYXRlQ291bnQ6IHJlY29yZC51cGRhdGVDb3VudCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY29uc3Qgc3BlY2lmaWNOb3RpZmllciA9IEZhcignUXVvdGVOb3RpZmllcicsIHtcbiAgICAgICAgLi4ubWFrZU5vdGlmaWVyKHNwZWNpZmljQmFzZU5vdGlmaWVyKSxcbiAgICAgICAgLy9cbiAgICAgICAgLi4uc3BlY2lmaWNCYXNlTm90aWZpZXIsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzcGVjaWZpY05vdGlmaWVyO1xuICAgIH0sXG4gICAgYXN5bmMgcXVvdGVHaXZlbihhbW91bnRJbiwgYnJhbmRPdXQpIHtcbiAgICAgIHRyYWNlKCdxdW90ZUdpdmVuJywgYW1vdW50SW4sIGJyYW5kT3V0KTtcbiAgICAgIEFtb3VudE1hdGguY29lcmNlKGFjdHVhbEJyYW5kSW4sIGFtb3VudEluKTtcbiAgICAgIGFzc2VydEJyYW5kcyhhbW91bnRJbi5icmFuZCwgYnJhbmRPdXQpO1xuXG4gICAgICBhd2FpdCBFKG5vdGlmaWVyKS5nZXRVcGRhdGVTaW5jZSgpO1xuICAgICAgY29uc3QgcXVvdGUgPSBjcmVhdGVRdW90ZShjYWxjQW1vdW50T3V0ID0+ICh7XG4gICAgICAgIGFtb3VudEluLFxuICAgICAgICBhbW91bnRPdXQ6IGNhbGNBbW91bnRPdXQoYW1vdW50SW4pLFxuICAgICAgfSkpO1xuICAgICAgYXNzZXJ0KHF1b3RlKTtcbiAgICAgIHJldHVybiBxdW90ZTtcbiAgICB9LFxuICAgIGFzeW5jIHF1b3RlV2FudGVkKGJyYW5kSW4sIGFtb3VudE91dCkge1xuICAgICAgQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRPdXQsIGFtb3VudE91dCk7XG4gICAgICBhc3NlcnRCcmFuZHMoYnJhbmRJbiwgYW1vdW50T3V0LmJyYW5kKTtcblxuICAgICAgYXdhaXQgRShub3RpZmllcikuZ2V0VXBkYXRlU2luY2UoKTtcbiAgICAgIGNvbnN0IHF1b3RlID0gY3JlYXRlUXVvdGUoKGNhbGNBbW91bnRPdXQsIGNhbGNBbW91bnRJbikgPT4ge1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBhbW91bnRJbiA9IGNhbGNBbW91bnRJbihhbW91bnRPdXQpO1xuICAgICAgICBjb25zdCBhY3R1YWxBbW91bnRPdXQgPSBjYWxjQW1vdW50T3V0KGFtb3VudEluKTtcbiAgICAgICAgQW1vdW50TWF0aC5pc0dURShhY3R1YWxBbW91bnRPdXQsIGFtb3VudE91dCkgfHxcbiAgICAgICAgICBGYWlsYENhbGN1bGF0aW9uIG9mICR7YWN0dWFsQW1vdW50T3V0fSBkaWRuJ3QgY292ZXIgZXhwZWN0ZWQgJHthbW91bnRPdXR9YDtcbiAgICAgICAgcmV0dXJuIHsgYW1vdW50SW4sIGFtb3VudE91dCB9O1xuICAgICAgfSk7XG4gICAgICBhc3NlcnQocXVvdGUpO1xuICAgICAgcmV0dXJuIHF1b3RlO1xuICAgIH0sXG4gICAgYXN5bmMgcXVvdGVBdFRpbWUoZGVhZGxpbmUsIGFtb3VudEluLCBicmFuZE91dCkge1xuICAgICAgQW1vdW50TWF0aC5jb2VyY2UoYWN0dWFsQnJhbmRJbiwgYW1vdW50SW4pO1xuICAgICAgYXNzZXJ0QnJhbmRzKGFtb3VudEluLmJyYW5kLCBicmFuZE91dCk7XG5cbiAgICAgIGF3YWl0IEUobm90aWZpZXIpLmdldFVwZGF0ZVNpbmNlKCk7XG4gICAgICBjb25zdCBxdW90ZVBLID0gbWFrZVByb21pc2VLaXQoKTtcbiAgICAgIGF3YWl0IEUodGltZXIpLnNldFdha2V1cChcbiAgICAgICAgZGVhZGxpbmUsXG4gICAgICAgIEZhcignd2FrZU9iaicsIHtcbiAgICAgICAgICBhc3luYyB3YWtlKHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgYXdhaXQgbnVsbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHF1b3RlUCA9IGNyZWF0ZVF1b3RlKGNhbGNBbW91bnRPdXQgPT4gKHtcbiAgICAgICAgICAgICAgICBhbW91bnRJbixcbiAgICAgICAgICAgICAgICBhbW91bnRPdXQ6IGNhbGNBbW91bnRPdXQoYW1vdW50SW4pLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIHF1b3RlUEsucmVzb2x2ZShxdW90ZVApO1xuICAgICAgICAgICAgICBhd2FpdCBxdW90ZVBLLnByb21pc2U7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHF1b3RlUEsucmVqZWN0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgLy9cbiAgICAgIHJldHVybiBxdW90ZVBLLnByb21pc2U7XG4gICAgfSxcbiAgICBxdW90ZVdoZW5MVDogbWFrZVF1b3RlV2hlbk91dChpc0xUKSxcbiAgICBxdW90ZVdoZW5MVEU6IG1ha2VRdW90ZVdoZW5PdXQoaXNMVEUpLFxuICAgIHF1b3RlV2hlbkdURTogbWFrZVF1b3RlV2hlbk91dChpc0dURSksXG4gICAgcXVvdGVXaGVuR1Q6IG1ha2VRdW90ZVdoZW5PdXQoaXNHVCksXG4gICAgbXV0YWJsZVF1b3RlV2hlbkxUOiBtYWtlTXV0YWJsZVF1b3RlKGlzTFQpLFxuICAgIG11dGFibGVRdW90ZVdoZW5MVEU6IG1ha2VNdXRhYmxlUXVvdGUoaXNMVEUpLFxuICAgIG11dGFibGVRdW90ZVdoZW5HVDogbWFrZU11dGFibGVRdW90ZShpc0dUKSxcbiAgICBtdXRhYmxlUXVvdGVXaGVuR1RFOiBtYWtlTXV0YWJsZVF1b3RlKGlzR1RFKSxcbiAgfSk7XG5cbiAgcmV0dXJuIHsgcHJpY2VBdXRob3JpdHksIGFkbWluRmFjZXQ6IHsgZmlyZVRyaWdnZXJzIH0gfTtcbn07JGjNj19vbmNlLm1ha2VPbmV3YXlQcmljZUF1dGhvcml0eUtpdChtYWtlT25ld2F5UHJpY2VBdXRob3JpdHlLaXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUHJpY2VBdXRob3JpdHlJIjpbIlByaWNlQXV0aG9yaXR5SSJdLCJtYWtlT25ld2F5UHJpY2VBdXRob3JpdHlLaXQiOlsibWFrZU9uZXdheVByaWNlQXV0aG9yaXR5S2l0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAOfHwgFxCQAAcQkAADUAAABAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvcHJpY2VRdW90ZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9uYXQiLCJAZW5kby9ldmVudHVhbC1zZW5kIiwiQGFnb3JpYy9lcnRwIl0sImV4cG9ydHMiOlsiZ2V0QW1vdW50SW4iLCJnZXRBbW91bnRPdXQiLCJnZXRQcmljZURlc2NyaXB0aW9uIiwiZ2V0VGltZXN0YW1wIiwibWFrZVByaWNlUXVvdGVJc3N1ZXIiLCJ1bml0QW1vdW50Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxOYXQsRSxBbW91bnRNYXRoLEFzc2V0S2luZCxtYWtlSXNzdWVyS2l0OyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL25hdFwiLCBbW1wiTmF0XCIsWyRozY9fYSA9PiAoTmF0ID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXZlbnR1YWwtc2VuZFwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2VydHBcIiwgW1tcIkFtb3VudE1hdGhcIixbJGjNj19hID0+IChBbW91bnRNYXRoID0gJGjNj19hKV1dLFtcIkFzc2V0S2luZFwiLFskaM2PX2EgPT4gKEFzc2V0S2luZCA9ICRozY9fYSldXSxbXCJtYWtlSXNzdWVyS2l0XCIsWyRozY9fYSA9PiAobWFrZUlzc3VlcktpdCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG4vKlxuXG4gKi9cblxuLy9cbi8vXG4vL1xuLy9cblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRQcmljZURlc2NyaXB0aW9uID0gcXVvdGUgPT4ge1xuICBxdW90ZS5xdW90ZUFtb3VudC52YWx1ZS5sZW5ndGggPT09IDEgfHxcbiAgICBGYWlsYHF1b3RlQW1vdW50IHNldCBtdXN0IGhhdmUgb25lIG1lbWJlcmA7XG4gIHJldHVybiBxdW90ZS5xdW90ZUFtb3VudC52YWx1ZVswXTtcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLmdldFByaWNlRGVzY3JpcHRpb24oZ2V0UHJpY2VEZXNjcmlwdGlvbik7XG4gICAgICAgY29uc3QgZ2V0QW1vdW50SW4gPSBxdW90ZSA9PiBnZXRQcmljZURlc2NyaXB0aW9uKHF1b3RlKS5hbW91bnRJbjtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLmdldEFtb3VudEluKGdldEFtb3VudEluKTtcbiAgICAgICBjb25zdCBnZXRBbW91bnRPdXQgPSBxdW90ZSA9PiBnZXRQcmljZURlc2NyaXB0aW9uKHF1b3RlKS5hbW91bnRPdXQ7XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLmdldEFtb3VudE91dChnZXRBbW91bnRPdXQpO1xuICAgICAgIGNvbnN0IGdldFRpbWVzdGFtcCA9IHF1b3RlID0+IGdldFByaWNlRGVzY3JpcHRpb24ocXVvdGUpLnRpbWVzdGFtcDtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5nZXRUaW1lc3RhbXAoZ2V0VGltZXN0YW1wKTtcbiAgICAgICBjb25zdCB1bml0QW1vdW50ID0gYXN5bmMgYnJhbmQgPT4ge1xuICAvL1xuICBjb25zdCBkaXNwbGF5SW5mbyA9IGF3YWl0IEUoYnJhbmQpLmdldERpc3BsYXlJbmZvKCk7XG4gIGNvbnN0IGRlY2ltYWxQbGFjZXMgPSBkaXNwbGF5SW5mby5kZWNpbWFsUGxhY2VzID8/IDA7XG4gIHJldHVybiBBbW91bnRNYXRoLm1ha2UoYnJhbmQsIDEwbiAqKiBOYXQoZGVjaW1hbFBsYWNlcykpO1xufTskaM2PX29uY2UudW5pdEFtb3VudCh1bml0QW1vdW50KTtcbmhhcmRlbih1bml0QW1vdW50KTtcblxuICAgICAgIGNvbnN0IG1ha2VQcmljZVF1b3RlSXNzdWVyID0gKCkgPT5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgbWFrZUlzc3VlcktpdCgncXVvdGUnLCBBc3NldEtpbmQuU0VUKVxuICApOyRozY9fb25jZS5tYWtlUHJpY2VRdW90ZUlzc3VlcihtYWtlUHJpY2VRdW90ZUlzc3Vlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJnZXRQcmljZURlc2NyaXB0aW9uIjpbImdldFByaWNlRGVzY3JpcHRpb24iXSwiZ2V0QW1vdW50SW4iOlsiZ2V0QW1vdW50SW4iXSwiZ2V0QW1vdW50T3V0IjpbImdldEFtb3VudE91dCJdLCJnZXRUaW1lc3RhbXAiOlsiZ2V0VGltZXN0YW1wIl0sInVuaXRBbW91bnQiOlsidW5pdEFtb3VudCJdLCJtYWtlUHJpY2VRdW90ZUlzc3VlciI6WyJtYWtlUHJpY2VRdW90ZUlzc3VlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAD+oXTVWBwAAFgcAAAzAAAAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L3JlY29yZGVyLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBhZ29yaWMvaW50ZXJuYWwiLCJAYWdvcmljL25vdGlmaWVyIiwiQGFnb3JpYy9ub3RpZmllci90b29scy90ZXN0U3VwcG9ydHMuanMiLCJAYWdvcmljL3N0b3JlIiwiQGFnb3JpYy92YXQtZGF0YSIsIkBlbmRvL2V2ZW50dWFsLXNlbmQiXSwiZXhwb3J0cyI6WyJSZWNvcmRlcktpdFNoYXBlIiwiZGVmaW5lRVJlY29yZGVyS2l0IiwiZGVmaW5lUmVjb3JkZXJLaXQiLCJwcmVwYXJlTW9ja1JlY29yZGVyS2l0TWFrZXJzIiwicHJlcGFyZVJlY29yZGVyIiwicHJlcGFyZVJlY29yZGVyS2l0IiwicHJlcGFyZVJlY29yZGVyS2l0TWFrZXJzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxTdG9yYWdlTm9kZVNoYXBlLHByZXBhcmVEdXJhYmxlUHVibGlzaEtpdCxtYWtlRmFrZU1hcnNoYWxsZXIsbWFrZUZha2VTdG9yYWdlLG11c3RNYXRjaCxNLG1ha2VTY2FsYXJCaWdNYXBTdG9yZSxwcmVwYXJlRXhvQ2xhc3MsRTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2ludGVybmFsXCIsIFtbXCJTdG9yYWdlTm9kZVNoYXBlXCIsWyRozY9fYSA9PiAoU3RvcmFnZU5vZGVTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvbm90aWZpZXJcIiwgW1tcInByZXBhcmVEdXJhYmxlUHVibGlzaEtpdFwiLFskaM2PX2EgPT4gKHByZXBhcmVEdXJhYmxlUHVibGlzaEtpdCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvbm90aWZpZXIvdG9vbHMvdGVzdFN1cHBvcnRzLmpzXCIsIFtbXCJtYWtlRmFrZU1hcnNoYWxsZXJcIixbJGjNj19hID0+IChtYWtlRmFrZU1hcnNoYWxsZXIgPSAkaM2PX2EpXV0sW1wibWFrZUZha2VTdG9yYWdlXCIsWyRozY9fYSA9PiAobWFrZUZha2VTdG9yYWdlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV0sW1wibWFrZVNjYWxhckJpZ01hcFN0b3JlXCIsWyRozY9fYSA9PiAobWFrZVNjYWxhckJpZ01hcFN0b3JlID0gJGjNj19hKV1dLFtcInByZXBhcmVFeG9DbGFzc1wiLFskaM2PX2EgPT4gKHByZXBhcmVFeG9DbGFzcyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2V2ZW50dWFsLXNlbmRcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG4gKi9cblxuLypcblxuXG4gKi9cblxuLypcblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHJlcGFyZVJlY29yZGVyID0gKGJhZ2dhZ2UsIG1hcnNoYWxsZXIpID0+IHtcbiAgY29uc3QgbWFrZVJlY29yZGVyID0gcHJlcGFyZUV4b0NsYXNzKFxuICAgIGJhZ2dhZ2UsXG4gICAgJ1JlY29yZGVyJyxcbiAgICBNLmludGVyZmFjZSgnUmVjb3JkZXInLCB7XG4gICAgICBnZXRTdG9yYWdlTm9kZTogTS5jYWxsKCkucmV0dXJucyhTdG9yYWdlTm9kZVNoYXBlKSxcbiAgICAgIGdldFN0b3JhZ2VQYXRoOiBNLmNhbGwoKS5yZXR1cm5zKE0ucHJvbWlzZSgvKiAgICAgICAgKi8pKSxcbiAgICAgIHdyaXRlOiBNLmNhbGwoTS5hbnkoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgICB3cml0ZUZpbmFsOiBNLmNhbGwoTS5hbnkoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgfSksXG4gICAgLypcblxuXG5cblxuICAgICAqL1xuICAgIChcbiAgICAgIHB1Ymxpc2hlcixcbiAgICAgIHN0b3JhZ2VOb2RlLFxuICAgICAgdmFsdWVTaGFwZSA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChNLmFueSgpKSxcbiAgICApID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNsb3NlZDogZmFsc2UsXG4gICAgICAgIHB1Ymxpc2hlcixcbiAgICAgICAgc3RvcmFnZU5vZGUsXG4gICAgICAgIHN0b3JhZ2VQYXRoOiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHVuZGVmaW5lZCksXG4gICAgICAgIHZhbHVlU2hhcGUsXG4gICAgICB9O1xuICAgIH0sXG4gICAge1xuICAgICAgZ2V0U3RvcmFnZU5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnN0b3JhZ2VOb2RlO1xuICAgICAgfSxcbiAgICAgIC8qXG5cblxuXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIGdldFN0b3JhZ2VQYXRoKCkge1xuICAgICAgICBjb25zdCB7IHN0b3JhZ2VQYXRoOiBoZWxkUGF0aCB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgLy9cbiAgICAgICAgYXdhaXQgbnVsbDtcbiAgICAgICAgaWYgKGhlbGRQYXRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gaGVsZFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF0aCA9IGF3YWl0IEUodGhpcy5zdGF0ZS5zdG9yYWdlTm9kZSkuZ2V0UGF0aCgpO1xuICAgICAgICB0aGlzLnN0YXRlLnN0b3JhZ2VQYXRoID0gcGF0aDtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9LFxuICAgICAgLypcblxuXG5cblxuICAgICAgICovXG4gICAgICBhc3luYyB3cml0ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCB7IGNsb3NlZCwgcHVibGlzaGVyLCBzdG9yYWdlTm9kZSwgdmFsdWVTaGFwZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgIWNsb3NlZCB8fCBGYWlsYGNhbm5vdCB3cml0ZSB0byBjbG9zZWQgcmVjb3JkZXJgO1xuICAgICAgICBtdXN0TWF0Y2godmFsdWUsIHZhbHVlU2hhcGUpO1xuICAgICAgICBjb25zdCBlbmNvZGVkID0gYXdhaXQgRShtYXJzaGFsbGVyKS50b0NhcERhdGEodmFsdWUpO1xuICAgICAgICBjb25zdCBzZXJpYWxpemVkID0gSlNPTi5zdHJpbmdpZnkoZW5jb2RlZCk7XG4gICAgICAgIGF3YWl0IEUoc3RvcmFnZU5vZGUpLnNldFZhbHVlKHNlcmlhbGl6ZWQpO1xuXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBwdWJsaXNoZXIucHVibGlzaCh2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgLypcblxuXG5cblxuICAgICAgICovXG4gICAgICBhc3luYyB3cml0ZUZpbmFsKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHsgY2xvc2VkLCBwdWJsaXNoZXIsIHN0b3JhZ2VOb2RlLCB2YWx1ZVNoYXBlIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICAhY2xvc2VkIHx8IEZhaWxgY2Fubm90IHdyaXRlIHRvIGNsb3NlZCByZWNvcmRlcmA7XG4gICAgICAgIG11c3RNYXRjaCh2YWx1ZSwgdmFsdWVTaGFwZSk7XG4gICAgICAgIGNvbnN0IGVuY29kZWQgPSBhd2FpdCBFKG1hcnNoYWxsZXIpLnRvQ2FwRGF0YSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBKU09OLnN0cmluZ2lmeShlbmNvZGVkKTtcbiAgICAgICAgYXdhaXQgRShzdG9yYWdlTm9kZSkuc2V0VmFsdWUoc2VyaWFsaXplZCk7XG5cbiAgICAgICAgLy9cbiAgICAgICAgdGhpcy5zdGF0ZS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gcHVibGlzaGVyLmZpbmlzaCh2YWx1ZSk7XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgcmV0dXJuIG1ha2VSZWNvcmRlcjtcbn07JGjNj19vbmNlLnByZXBhcmVSZWNvcmRlcihwcmVwYXJlUmVjb3JkZXIpO1xuaGFyZGVuKHByZXBhcmVSZWNvcmRlcik7XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGRlZmluZVJlY29yZGVyS2l0ID0gKHsgbWFrZVJlY29yZGVyLCBtYWtlRHVyYWJsZVB1Ymxpc2hLaXQgfSkgPT4ge1xuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlUmVjb3JkZXJLaXQgPSAoc3RvcmFnZU5vZGUsIHZhbHVlU2hhcGUpID0+IHtcbiAgICBjb25zdCB7IHN1YnNjcmliZXIsIHB1Ymxpc2hlciB9ID0gbWFrZUR1cmFibGVQdWJsaXNoS2l0KCk7XG4gICAgY29uc3QgcmVjb3JkZXIgPSBtYWtlUmVjb3JkZXIoXG4gICAgICBwdWJsaXNoZXIsXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICAgIHN0b3JhZ2VOb2RlXG4gICAgICApLFxuICAgICAgdmFsdWVTaGFwZSxcbiAgICApO1xuICAgIHJldHVybiBoYXJkZW4oeyBzdWJzY3JpYmVyLCByZWNvcmRlciB9KTtcbiAgfTtcbiAgcmV0dXJuIG1ha2VSZWNvcmRlcktpdDtcbn07XG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuICovJGjNj19vbmNlLmRlZmluZVJlY29yZGVyS2l0KGRlZmluZVJlY29yZGVyS2l0KTtcbiAgICAgICBjb25zdCBkZWZpbmVFUmVjb3JkZXJLaXQgPSAoeyBtYWtlUmVjb3JkZXIsIG1ha2VEdXJhYmxlUHVibGlzaEtpdCB9KSA9PiB7XG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IG1ha2VFUmVjb3JkZXJLaXQgPSAoc3RvcmFnZU5vZGVQLCB2YWx1ZVNoYXBlKSA9PiB7XG4gICAgY29uc3QgeyBwdWJsaXNoZXIsIHN1YnNjcmliZXIgfSA9IG1ha2VEdXJhYmxlUHVibGlzaEtpdCgpO1xuICAgIGNvbnN0IHJlY29yZGVyUCA9IEUud2hlbihzdG9yYWdlTm9kZVAsIHN0b3JhZ2VOb2RlID0+XG4gICAgICBtYWtlUmVjb3JkZXIoXG4gICAgICAgIHB1Ymxpc2hlcixcbiAgICAgICAgLy9cbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHN0b3JhZ2VOb2RlKSxcbiAgICAgICAgdmFsdWVTaGFwZSxcbiAgICAgICksXG4gICAgKTtcbiAgICByZXR1cm4geyBzdWJzY3JpYmVyLCByZWNvcmRlclAgfTtcbiAgfTtcbiAgcmV0dXJuIG1ha2VFUmVjb3JkZXJLaXQ7XG59OyRozY9fb25jZS5kZWZpbmVFUmVjb3JkZXJLaXQoZGVmaW5lRVJlY29yZGVyS2l0KTtcbmhhcmRlbihkZWZpbmVFUmVjb3JkZXJLaXQpO1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHByZXBhcmVSZWNvcmRlcktpdCA9IChiYWdnYWdlLCBtYXJzaGFsbGVyKSA9PiB7XG4gIGNvbnN0IG1ha2VEdXJhYmxlUHVibGlzaEtpdCA9IHByZXBhcmVEdXJhYmxlUHVibGlzaEtpdChcbiAgICBiYWdnYWdlLFxuICAgICdEdXJhYmxlIFB1Ymxpc2ggS2l0JyxcbiAgKTtcbiAgY29uc3QgbWFrZVJlY29yZGVyID0gcHJlcGFyZVJlY29yZGVyKGJhZ2dhZ2UsIG1hcnNoYWxsZXIpO1xuICByZXR1cm4gZGVmaW5lUmVjb3JkZXJLaXQoeyBtYWtlRHVyYWJsZVB1Ymxpc2hLaXQsIG1ha2VSZWNvcmRlciB9KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UucHJlcGFyZVJlY29yZGVyS2l0KHByZXBhcmVSZWNvcmRlcktpdCk7XG4gICAgICAgY29uc3QgcHJlcGFyZVJlY29yZGVyS2l0TWFrZXJzID0gKGJhZ2dhZ2UsIG1hcnNoYWxsZXIpID0+IHtcbiAgY29uc3QgbWFrZUR1cmFibGVQdWJsaXNoS2l0ID0gcHJlcGFyZUR1cmFibGVQdWJsaXNoS2l0KFxuICAgIGJhZ2dhZ2UsXG4gICAgJ0R1cmFibGUgUHVibGlzaCBLaXQnLFxuICApO1xuICBjb25zdCBtYWtlUmVjb3JkZXIgPSBwcmVwYXJlUmVjb3JkZXIoYmFnZ2FnZSwgbWFyc2hhbGxlcik7XG5cbiAgY29uc3QgbWFrZVJlY29yZGVyS2l0ID0gZGVmaW5lUmVjb3JkZXJLaXQoe1xuICAgIG1ha2VSZWNvcmRlcixcbiAgICBtYWtlRHVyYWJsZVB1Ymxpc2hLaXQsXG4gIH0pO1xuICBjb25zdCBtYWtlRVJlY29yZGVyS2l0ID0gZGVmaW5lRVJlY29yZGVyS2l0KHtcbiAgICBtYWtlUmVjb3JkZXIsXG4gICAgbWFrZUR1cmFibGVQdWJsaXNoS2l0LFxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIG1ha2VEdXJhYmxlUHVibGlzaEtpdCxcbiAgICBtYWtlUmVjb3JkZXIsXG4gICAgbWFrZVJlY29yZGVyS2l0LFxuICAgIG1ha2VFUmVjb3JkZXJLaXQsXG4gIH07XG59O1xuXG4vKlxuXG4gKi8kaM2PX29uY2UucHJlcGFyZVJlY29yZGVyS2l0TWFrZXJzKHByZXBhcmVSZWNvcmRlcktpdE1ha2Vycyk7XG4gICAgICAgY29uc3QgcHJlcGFyZU1vY2tSZWNvcmRlcktpdE1ha2VycyA9ICgpID0+IHtcbiAgY29uc3QgYmFnZ2FnZSA9IG1ha2VTY2FsYXJCaWdNYXBTdG9yZSgnbW9jayByZWNvcmRlciBiYWdnYWdlJyk7XG4gIGNvbnN0IG1hcnNoYWxsZXIgPSBtYWtlRmFrZU1hcnNoYWxsZXIoKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5wcmVwYXJlUmVjb3JkZXJLaXRNYWtlcnMoYmFnZ2FnZSwgbWFyc2hhbGxlciksXG4gICAgc3RvcmFnZU5vZGU6IG1ha2VGYWtlU3RvcmFnZSgnbW9jayByZWNvcmRlciBzdG9yYWdlJyksXG4gIH07XG59OyRozY9fb25jZS5wcmVwYXJlTW9ja1JlY29yZGVyS2l0TWFrZXJzKHByZXBhcmVNb2NrUmVjb3JkZXJLaXRNYWtlcnMpO1xuXG4gICAgICAgY29uc3QgUmVjb3JkZXJLaXRTaGFwZSA9IHtcbiAgcmVjb3JkZXI6IE0ucmVtb3RhYmxlKCksXG4gIHN1YnNjcmliZXI6IE0ucmVtb3RhYmxlKCksXG59OyRozY9fb25jZS5SZWNvcmRlcktpdFNoYXBlKFJlY29yZGVyS2l0U2hhcGUpO1xuaGFyZGVuKFJlY29yZGVyS2l0U2hhcGUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicHJlcGFyZVJlY29yZGVyIjpbInByZXBhcmVSZWNvcmRlciJdLCJkZWZpbmVSZWNvcmRlcktpdCI6WyJkZWZpbmVSZWNvcmRlcktpdCJdLCJkZWZpbmVFUmVjb3JkZXJLaXQiOlsiZGVmaW5lRVJlY29yZGVyS2l0Il0sInByZXBhcmVSZWNvcmRlcktpdCI6WyJwcmVwYXJlUmVjb3JkZXJLaXQiXSwicHJlcGFyZVJlY29yZGVyS2l0TWFrZXJzIjpbInByZXBhcmVSZWNvcmRlcktpdE1ha2VycyJdLCJwcmVwYXJlTW9ja1JlY29yZGVyS2l0TWFrZXJzIjpbInByZXBhcmVNb2NrUmVjb3JkZXJLaXRNYWtlcnMiXSwiUmVjb3JkZXJLaXRTaGFwZSI6WyJSZWNvcmRlcktpdFNoYXBlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAANW85poJBAAACQQAADcAAABAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvc3RhdGVNYWNoaW5lLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyJdLCJleHBvcnRzIjpbIm1ha2VTdGF0ZU1hY2hpbmUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcImFzc2VydFwiLFskaM2PX2EgPT4gKGFzc2VydCA9ICRozY9fYSldXV1dXSk7XG5cbi8qXG5cblxuXG5cblxuXG4qL1xuY29uc3QgbWFrZVN0YXRlTWFjaGluZSA9IChpbml0aWFsU3RhdGUsIGFsbG93ZWRUcmFuc2l0aW9uc0FycmF5KSA9PiB7XG4gIGxldCBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgY29uc3QgYWxsb3dlZFRyYW5zaXRpb25zID0gbmV3IE1hcChhbGxvd2VkVHJhbnNpdGlvbnNBcnJheSk7XG4gIHJldHVybiBoYXJkZW4oe1xuICAgIGNhblRyYW5zaXRpb25UbzogbmV4dFN0YXRlID0+XG4gICAgICBhbGxvd2VkVHJhbnNpdGlvbnMuZ2V0KHN0YXRlKS5pbmNsdWRlcyhuZXh0U3RhdGUpLFxuICAgIHRyYW5zaXRpb25UbzogbmV4dFN0YXRlID0+IHtcbiAgICAgIGFzc2VydChhbGxvd2VkVHJhbnNpdGlvbnMuZ2V0KHN0YXRlKS5pbmNsdWRlcyhuZXh0U3RhdGUpKTtcbiAgICAgIHN0YXRlID0gbmV4dFN0YXRlO1xuICAgIH0sXG4gICAgZ2V0U3RhdHVzOiBfID0+IHN0YXRlLFxuICB9KTtcbn07JGjNj19vbmNlLm1ha2VTdGF0ZU1hY2hpbmUobWFrZVN0YXRlTWFjaGluZSk7XG5oYXJkZW4obWFrZVN0YXRlTWFjaGluZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlU3RhdGVNYWNoaW5lIjpbIm1ha2VTdGF0ZU1hY2hpbmUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAASb1uYQMEAAADBAAANQAAAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC9zdGF0aXN0aWNzLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJjYWxjdWxhdGVNZWRpYW4iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7LypcblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGNhbGN1bGF0ZU1lZGlhbiA9IChzYW1wbGVzLCBtYXRoKSA9PiB7XG4gIGNvbnN0IHNvcnRlZCA9IHNhbXBsZXMuc29ydCgoYSwgYikgPT4ge1xuICAgIGlmICghbWF0aC5pc0dURShhLCBiKSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH0gZWxzZSBpZiAoIW1hdGguaXNHVEUoYiwgYSkpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSk7XG5cbiAgaWYgKHNvcnRlZC5sZW5ndGggPT09IDApIHtcbiAgICAvL1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAoc29ydGVkLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICAvL1xuICAgIHJldHVybiBzb3J0ZWRbKHNvcnRlZC5sZW5ndGggLSAxKSAvIDJdO1xuICB9XG5cbiAgLy9cbiAgY29uc3Qgc2Vjb25kSW5kZXggPSBzb3J0ZWQubGVuZ3RoIC8gMjtcbiAgY29uc3Qgc3VtID0gbWF0aC5hZGQoc29ydGVkW3NlY29uZEluZGV4IC0gMV0sIHNvcnRlZFtzZWNvbmRJbmRleF0pO1xuICByZXR1cm4gbWF0aC5kaXZpZGUoc3VtLCAybik7XG59OyRozY9fb25jZS5jYWxjdWxhdGVNZWRpYW4oY2FsY3VsYXRlTWVkaWFuKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImNhbGN1bGF0ZU1lZGlhbiI6WyJjYWxjdWxhdGVNZWRpYW4iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAUrvu/6MGAACjBgAAMQAAAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC90b3BpY3MuanN7ImltcG9ydHMiOlsiQGFnb3JpYy9ub3RpZmllciIsIkBhZ29yaWMvc3RvcmUiLCJAZW5kby9mYXIiXSwiZXhwb3J0cyI6WyJQdWJsaWNUb3BpY1NoYXBlIiwiU3Vic2NyaWJlclNoYXBlIiwiVG9waWNzUmVjb3JkU2hhcGUiLCJtYWtlUmVjb3JkZXJUb3BpYyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IFN1YnNjcmliZXJTaGFwZSxNLEU7JGjNj19pbXBvcnRzKFtbXCJAYWdvcmljL25vdGlmaWVyXCIsIFtbXCJTdWJzY3JpYmVyU2hhcGVcIixbJGjNj19hID0+IChTdWJzY3JpYmVyU2hhcGUgPSAkaM2PX2EpLCRozY9fbGl2ZVtcIlN1YnNjcmliZXJTaGFwZVwiXV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cbiAgICAgICBjb25zdCBQdWJsaWNUb3BpY1NoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge1xuICAgIHN1YnNjcmliZXI6IFN1YnNjcmliZXJTaGFwZSxcbiAgICBzdG9yYWdlUGF0aDogTS5vcihNLnByb21pc2UoLyogICAgICAgICovKSwgTS5zdHJpbmcoKSksXG4gIH0sXG4gIHsgZGVzY3JpcHRpb246IE0uc3RyaW5nKCkgfSxcbik7XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLlB1YmxpY1RvcGljU2hhcGUoUHVibGljVG9waWNTaGFwZSk7XG5cbiAgICAgICBjb25zdCBUb3BpY3NSZWNvcmRTaGFwZSA9IE0ucmVjb3JkT2YoTS5zdHJpbmcoKSwgUHVibGljVG9waWNTaGFwZSk7XG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG4gKi8kaM2PX29uY2UuVG9waWNzUmVjb3JkU2hhcGUoVG9waWNzUmVjb3JkU2hhcGUpO1xuICAgICAgIGNvbnN0IG1ha2VSZWNvcmRlclRvcGljID0gKGRlc2NyaXB0aW9uLCByZWNvcmRlcktpdCkgPT4ge1xuICBjb25zdCByZWNQID1cbiAgICAncmVjb3JkZXInIGluIHJlY29yZGVyS2l0ID8gcmVjb3JkZXJLaXQucmVjb3JkZXIgOiByZWNvcmRlcktpdC5yZWNvcmRlclA7XG4gIHJldHVybiB7XG4gICAgZGVzY3JpcHRpb24sXG4gICAgc3Vic2NyaWJlcjogcmVjb3JkZXJLaXQuc3Vic2NyaWJlcixcbiAgICBzdG9yYWdlUGF0aDogRShyZWNQKS5nZXRTdG9yYWdlUGF0aCgpLFxuICB9O1xufTskaM2PX29uY2UubWFrZVJlY29yZGVyVG9waWMobWFrZVJlY29yZGVyVG9waWMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnsiU3Vic2NyaWJlclNoYXBlIjpbIlN1YnNjcmliZXJTaGFwZSIsZmFsc2VdfSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlB1YmxpY1RvcGljU2hhcGUiOlsiUHVibGljVG9waWNTaGFwZSJdLCJUb3BpY3NSZWNvcmRTaGFwZSI6WyJUb3BpY3NSZWNvcmRTaGFwZSJdLCJtYWtlUmVjb3JkZXJUb3BpYyI6WyJtYWtlUmVjb3JkZXJUb3BpYyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACZUHHTiSUAAIklAAA1AAAAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L3pvZUhlbHBlcnMuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZXZlbnR1YWwtc2VuZCIsIkBlbmRvL3Byb21pc2Uta2l0IiwiQGFnb3JpYy9zdG9yZSIsIkBhZ29yaWMvZXJ0cCIsIkBhZ29yaWMvaW50ZXJuYWwiLCIuLi9jb250cmFjdEZhY2V0L29mZmVyU2FmZXR5LmpzIiwiLi9hdG9taWNUcmFuc2Zlci5qcyJdLCJleHBvcnRzIjpbImFzc2VydElzc3VlcktleXdvcmRzIiwiYXNzZXJ0TmF0QXNzZXRLaW5kIiwiYXNzZXJ0UHJvcG9zYWxTaGFwZSIsImRlZmF1bHRBY2NlcHRhbmNlTXNnIiwiZGVwb3NpdFRvU2VhdCIsImRlcG9zaXRUb1NlYXRTdWNjZXNzTXNnIiwiZml0UHJvcG9zYWxTaGFwZSIsIm1hcEtleXdvcmRzIiwib2ZmZXJUbyIsInNhdGlzZmllcyIsInNhdmVBbGxJc3N1ZXJzIiwic3dhcCIsInN3YXBFeGFjdCIsIndpdGhkcmF3RnJvbVNlYXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLEUsbWFrZVByb21pc2VLaXQsbXVzdE1hdGNoLGtleUVRLEFzc2V0S2luZCxmcm9tVW5pcXVlRW50cmllcyxzYXRpc2ZpZXNXYW50LGF0b21pY1RyYW5zZmVyLGZyb21Pbmx5LHRvT25seTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9ldmVudHVhbC1zZW5kXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Byb21pc2Uta2l0XCIsIFtbXCJtYWtlUHJvbWlzZUtpdFwiLFskaM2PX2EgPT4gKG1ha2VQcm9taXNlS2l0ID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy9zdG9yZVwiLCBbW1wibXVzdE1hdGNoXCIsWyRozY9fYSA9PiAobXVzdE1hdGNoID0gJGjNj19hKV1dLFtcImtleUVRXCIsWyRozY9fYSA9PiAoa2V5RVEgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2VydHBcIiwgW1tcIkFzc2V0S2luZFwiLFskaM2PX2EgPT4gKEFzc2V0S2luZCA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvaW50ZXJuYWxcIiwgW1tcImZyb21VbmlxdWVFbnRyaWVzXCIsWyRozY9fYSA9PiAoZnJvbVVuaXF1ZUVudHJpZXMgPSAkaM2PX2EpXV1dXSxbXCIuLi9jb250cmFjdEZhY2V0L29mZmVyU2FmZXR5LmpzXCIsIFtbXCJzYXRpc2ZpZXNXYW50XCIsWyRozY9fYSA9PiAoc2F0aXNmaWVzV2FudCA9ICRozY9fYSldXV1dLFtcIi4vYXRvbWljVHJhbnNmZXIuanNcIiwgW1tcImF0b21pY1RyYW5zZmVyXCIsWyRozY9fYSA9PiAoYXRvbWljVHJhbnNmZXIgPSAkaM2PX2EpXV0sW1wiZnJvbU9ubHlcIixbJGjNj19hID0+IChmcm9tT25seSA9ICRozY9fYSldXSxbXCJ0b09ubHlcIixbJGjNj19hID0+ICh0b09ubHkgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuICovXG5cbiAgICAgICBjb25zdCBkZWZhdWx0QWNjZXB0YW5jZU1zZyA9IGBUaGUgb2ZmZXIgaGFzIGJlZW4gYWNjZXB0ZWQuIE9uY2UgdGhlIGNvbnRyYWN0IGhhcyBiZWVuIGNvbXBsZXRlZCwgcGxlYXNlIGNoZWNrIHlvdXIgcGF5b3V0YDskaM2PX29uY2UuZGVmYXVsdEFjY2VwdGFuY2VNc2coZGVmYXVsdEFjY2VwdGFuY2VNc2cpO1xuXG5jb25zdCBnZXRLZXlzU29ydGVkID0gb2JqID0+IGhhcmRlbihSZWZsZWN0Lm93bktleXMob2JqIHx8IHt9KS5zb3J0KCkpO1xuXG4gICAgICAgY29uc3QgYXNzZXJ0SXNzdWVyS2V5d29yZHMgPSAoemNmLCBleHBlY3RlZCkgPT4ge1xuICBjb25zdCB7IGlzc3VlcnMgfSA9IHpjZi5nZXRUZXJtcygpO1xuICBjb25zdCBhY3R1YWwgPSBnZXRLZXlzU29ydGVkKGlzc3VlcnMpO1xuICBleHBlY3RlZCA9IFsuLi5leHBlY3RlZF07IC8vXG4gIGV4cGVjdGVkLnNvcnQoKTtcbiAga2V5RVEoYWN0dWFsLCBoYXJkZW4oZXhwZWN0ZWQpKSB8fFxuICAgIEZhaWxga2V5d29yZHM6ICR7YWN0dWFsfSB3ZXJlIG5vdCBhcyBleHBlY3RlZDogJHtleHBlY3RlZH1gO1xufTtcblxuLypcblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuYXNzZXJ0SXNzdWVyS2V5d29yZHMoYXNzZXJ0SXNzdWVyS2V5d29yZHMpO1xuICAgICAgIGNvbnN0IHNhdGlzZmllcyA9IChfaWdub3JlZCwgc2VhdCwgdXBkYXRlKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRBbGxvY2F0aW9uID0gc2VhdC5nZXRDdXJyZW50QWxsb2NhdGlvbigpO1xuICBjb25zdCBuZXdBbGxvY2F0aW9uID0geyAuLi5jdXJyZW50QWxsb2NhdGlvbiwgLi4udXBkYXRlIH07XG4gIGNvbnN0IHByb3Bvc2FsID0gc2VhdC5nZXRQcm9wb3NhbCgpO1xuICByZXR1cm4gc2F0aXNmaWVzV2FudChwcm9wb3NhbCwgbmV3QWxsb2NhdGlvbik7XG59O1xuXG4vKiAgICAgICAgICAgICAgICovJGjNj19vbmNlLnNhdGlzZmllcyhzYXRpc2ZpZXMpO1xuICAgICAgIGNvbnN0IHN3YXAgPSAoemNmLCBsZWZ0U2VhdCwgcmlnaHRTZWF0KSA9PiB7XG4gIHRyeSB7XG4gICAgemNmLmF0b21pY1JlYXJyYW5nZShcbiAgICAgIGhhcmRlbihbXG4gICAgICAgIFtyaWdodFNlYXQsIGxlZnRTZWF0LCBsZWZ0U2VhdC5nZXRQcm9wb3NhbCgpLndhbnRdLFxuICAgICAgICBbbGVmdFNlYXQsIHJpZ2h0U2VhdCwgcmlnaHRTZWF0LmdldFByb3Bvc2FsKCkud2FudF0sXG4gICAgICBdKSxcbiAgICApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBsZWZ0U2VhdC5mYWlsKGVycik7XG4gICAgcmlnaHRTZWF0LmZhaWwoZXJyKTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cblxuICBsZWZ0U2VhdC5leGl0KCk7XG4gIHJpZ2h0U2VhdC5leGl0KCk7XG4gIHJldHVybiBkZWZhdWx0QWNjZXB0YW5jZU1zZztcbn07XG5cbi8qICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5zd2FwKHN3YXApO1xuICAgICAgIGNvbnN0IHN3YXBFeGFjdCA9ICh6Y2YsIGxlZnRTZWF0LCByaWdodFNlYXQpID0+IHtcbiAgdHJ5IHtcbiAgICB6Y2YuYXRvbWljUmVhcnJhbmdlKFxuICAgICAgaGFyZGVuKFtcbiAgICAgICAgZnJvbU9ubHkocmlnaHRTZWF0LCByaWdodFNlYXQuZ2V0UHJvcG9zYWwoKS5naXZlKSxcbiAgICAgICAgZnJvbU9ubHkobGVmdFNlYXQsIGxlZnRTZWF0LmdldFByb3Bvc2FsKCkuZ2l2ZSksXG5cbiAgICAgICAgdG9Pbmx5KGxlZnRTZWF0LCBsZWZ0U2VhdC5nZXRQcm9wb3NhbCgpLndhbnQpLFxuICAgICAgICB0b09ubHkocmlnaHRTZWF0LCByaWdodFNlYXQuZ2V0UHJvcG9zYWwoKS53YW50KSxcbiAgICAgIF0pLFxuICAgICk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxlZnRTZWF0LmZhaWwoZXJyKTtcbiAgICByaWdodFNlYXQuZmFpbChlcnIpO1xuICAgIHRocm93IGVycjtcbiAgfVxuXG4gIGxlZnRTZWF0LmV4aXQoKTtcbiAgcmlnaHRTZWF0LmV4aXQoKTtcbiAgcmV0dXJuIGRlZmF1bHRBY2NlcHRhbmNlTXNnO1xufTtcblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2Uuc3dhcEV4YWN0KHN3YXBFeGFjdCk7XG4gICAgICAgY29uc3QgZml0UHJvcG9zYWxTaGFwZSA9IChzZWF0LCBwcm9wb3NhbFNoYXBlKSA9PlxuICAvL1xuICBtdXN0TWF0Y2goc2VhdC5nZXRQcm9wb3NhbCgpLCBoYXJkZW4ocHJvcG9zYWxTaGFwZSksICdwcm9wb3NhbCcpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmZpdFByb3Bvc2FsU2hhcGUoZml0UHJvcG9zYWxTaGFwZSk7XG4gICAgICAgY29uc3QgYXNzZXJ0UHJvcG9zYWxTaGFwZSA9IChzZWF0LCBleHBlY3RlZCkgPT4ge1xuICBhc3NlcnQudHlwZW9mKGV4cGVjdGVkLCAnb2JqZWN0Jyk7XG4gICFBcnJheS5pc0FycmF5KGV4cGVjdGVkKSB8fCBGYWlsYEV4cGVjdGVkIG11c3QgYmUgYW4gbm9uLWFycmF5IG9iamVjdGA7XG4gIGNvbnN0IGFzc2VydFZhbHVlc051bGwgPSBlID0+IHtcbiAgICBpZiAoZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIE9iamVjdC52YWx1ZXMoZSkpIHtcbiAgICAgICAgdmFsdWUgPT09IG51bGwgfHxcbiAgICAgICAgICBGYWlsYFRoZSB2YWx1ZSBvZiB0aGUgZXhwZWN0ZWQgcmVjb3JkIG11c3QgYmUgbnVsbCBidXQgd2FzICR7dmFsdWV9YDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy9cbiAgLy9cbiAgYXNzZXJ0VmFsdWVzTnVsbChleHBlY3RlZC5naXZlKTtcbiAgYXNzZXJ0VmFsdWVzTnVsbChleHBlY3RlZC53YW50KTtcbiAgYXNzZXJ0VmFsdWVzTnVsbChleHBlY3RlZC5leGl0KTtcblxuICBjb25zdCBhY3R1YWwgPSBzZWF0LmdldFByb3Bvc2FsKCk7XG4gIGNvbnN0IGFzc2VydEtleXMgPSAoYSwgZSkgPT4ge1xuICAgIGlmIChlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGtleUVRKGdldEtleXNTb3J0ZWQoYSksIGdldEtleXNTb3J0ZWQoZSkpIHx8XG4gICAgICAgIEZhaWxgYWN0dWFsICR7YX0gZGlkIG5vdCBtYXRjaCBleHBlY3RlZCAke2V9YDtcbiAgICB9XG4gIH07XG4gIGFzc2VydEtleXMoYWN0dWFsLmdpdmUsIGV4cGVjdGVkLmdpdmUpO1xuICBhc3NlcnRLZXlzKGFjdHVhbC53YW50LCBleHBlY3RlZC53YW50KTtcbiAgYXNzZXJ0S2V5cyhhY3R1YWwuZXhpdCwgZXhwZWN0ZWQuZXhpdCk7XG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5hc3NlcnRQcm9wb3NhbFNoYXBlKGFzc2VydFByb3Bvc2FsU2hhcGUpO1xuICAgICAgIGNvbnN0IGFzc2VydE5hdEFzc2V0S2luZCA9ICh6Y2YsIGJyYW5kKSA9PiB7XG4gIHpjZi5nZXRBc3NldEtpbmQoYnJhbmQpID09PSBBc3NldEtpbmQuTkFUIHx8XG4gICAgRmFpbGBicmFuZCBtdXN0IGJlIEFzc2V0S2luZC5OQVRgO1xufTskaM2PX29uY2UuYXNzZXJ0TmF0QXNzZXRLaW5kKGFzc2VydE5hdEFzc2V0S2luZCk7XG5cbiAgICAgICBjb25zdCBkZXBvc2l0VG9TZWF0U3VjY2Vzc01zZyA9IGBEZXBvc2l0IGFuZCByZWFsbG9jYXRpb24gc3VjY2Vzc2Z1bC5gO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmRlcG9zaXRUb1NlYXRTdWNjZXNzTXNnKGRlcG9zaXRUb1NlYXRTdWNjZXNzTXNnKTtcbiAgICAgICBjb25zdCBkZXBvc2l0VG9TZWF0ID0gYXN5bmMgKHpjZiwgcmVjaXBpZW50U2VhdCwgYW1vdW50cywgcGF5bWVudHMpID0+IHtcbiAgIXJlY2lwaWVudFNlYXQuaGFzRXhpdGVkKCkgfHwgRmFpbGBUaGUgcmVjaXBpZW50U2VhdCBjYW5ub3QgaGF2ZSBleGl0ZWQuYDtcblxuICAvL1xuICAvL1xuICBjb25zdCByZWFsbG9jYXRlQWZ0ZXJEZXBvc2l0ID0gdGVtcFNlYXQgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgYXRvbWljVHJhbnNmZXIoemNmLCB0ZW1wU2VhdCwgcmVjaXBpZW50U2VhdCwgYW1vdW50cyk7XG4gICAgdGVtcFNlYXQuZXhpdCgpO1xuICAgIHJldHVybiBkZXBvc2l0VG9TZWF0U3VjY2Vzc01zZztcbiAgfTtcbiAgY29uc3QgaW52aXRhdGlvbiA9IHpjZi5tYWtlSW52aXRhdGlvbihcbiAgICByZWFsbG9jYXRlQWZ0ZXJEZXBvc2l0LFxuICAgICd0ZW1wb3Jhcnkgc2VhdCBmb3IgZGVwb3NpdCcsXG4gICk7XG4gIGNvbnN0IHByb3Bvc2FsID0gaGFyZGVuKHsgZ2l2ZTogYW1vdW50cyB9KTtcbiAgaGFyZGVuKHBheW1lbnRzKTtcbiAgLy9cbiAgLy9cbiAgY29uc3Qgem9lID0gemNmLmdldFpvZVNlcnZpY2UoKTtcbiAgY29uc3QgdGVtcFVzZXJTZWF0ID0gRSh6b2UpLm9mZmVyKGludml0YXRpb24sIHByb3Bvc2FsLCBwYXltZW50cyk7XG4gIC8vXG4gIC8vXG4gIC8vXG4gIHJldHVybiBFKHRlbXBVc2VyU2VhdCkuZ2V0T2ZmZXJSZXN1bHQoKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmRlcG9zaXRUb1NlYXQoZGVwb3NpdFRvU2VhdCk7XG4gICAgICAgY29uc3Qgd2l0aGRyYXdGcm9tU2VhdCA9IGFzeW5jICh6Y2YsIHNlYXQsIGFtb3VudHMpID0+IHtcbiAgIXNlYXQuaGFzRXhpdGVkKCkgfHwgRmFpbGBUaGUgc2VhdCBjYW5ub3QgaGF2ZSBleGl0ZWQuYDtcbiAgY29uc3QgeyB6Y2ZTZWF0OiB0ZW1wU2VhdCwgdXNlclNlYXQ6IHRlbXBVc2VyU2VhdFAgfSA9IHpjZi5tYWtlRW1wdHlTZWF0S2l0KCk7XG4gIGF0b21pY1RyYW5zZmVyKHpjZiwgc2VhdCwgdGVtcFNlYXQsIGFtb3VudHMpO1xuICB0ZW1wU2VhdC5leGl0KCk7XG4gIHJldHVybiBFKHRlbXBVc2VyU2VhdFApLmdldFBheW91dHMoKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS53aXRoZHJhd0Zyb21TZWF0KHdpdGhkcmF3RnJvbVNlYXQpO1xuICAgICAgIGNvbnN0IHNhdmVBbGxJc3N1ZXJzID0gYXN5bmMgKHpjZiwgaXNzdWVyS2V5d29yZFJlY29yZCA9IGhhcmRlbih7fSkpID0+IHtcbiAgY29uc3QgeyBpc3N1ZXJzIH0gPSB6Y2YuZ2V0VGVybXMoKTtcbiAgY29uc3QgaXNzdWVyc1BTYXZlZCA9IE9iamVjdC5lbnRyaWVzKGlzc3VlcktleXdvcmRSZWNvcmQpLm1hcChcbiAgICAoW2tleXdvcmQsIGlzc3Vlcl0pID0+IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgaWYgKGlzc3VlcnNba2V5d29yZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gemNmLnNhdmVJc3N1ZXIoaXNzdWVyLCBrZXl3b3JkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgKTtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGlzc3VlcnNQU2F2ZWQpO1xufTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgKi8kaM2PX29uY2Uuc2F2ZUFsbElzc3VlcnMoc2F2ZUFsbElzc3VlcnMpO1xuICAgICAgIGNvbnN0IG1hcEtleXdvcmRzID0gKGtleXdvcmRSZWNvcmQgPSB7fSwga2V5d29yZE1hcHBpbmcpID0+IHtcbiAgcmV0dXJuIGhhcmRlbihcbiAgICBmcm9tVW5pcXVlRW50cmllcyhcbiAgICAgIE9iamVjdC5lbnRyaWVzKGtleXdvcmRSZWNvcmQpLm1hcCgoW2tleXdvcmQsIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAoa2V5d29yZE1hcHBpbmdba2V5d29yZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBba2V5d29yZCwgdmFsdWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBba2V5d29yZE1hcHBpbmdba2V5d29yZF0sIHZhbHVlXTtcbiAgICAgIH0pLFxuICAgICksXG4gICk7XG59O1xuLyogICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5tYXBLZXl3b3JkcyhtYXBLZXl3b3Jkcyk7XG5jb25zdCByZXZlcnNlID0gKGtleXdvcmRSZWNvcmQgPSB7fSkgPT4ge1xuICByZXR1cm4gaGFyZGVuKFxuICAgIGZyb21VbmlxdWVFbnRyaWVzKFxuICAgICAgT2JqZWN0LmVudHJpZXMoa2V5d29yZFJlY29yZCkubWFwKChba2V5LCB2YWx1ZV0pID0+IFt2YWx1ZSwga2V5XSksXG4gICAgKSxcbiAgKTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG9mZmVyVG8gPSBhc3luYyAoXG4gIHpjZixcbiAgaW52aXRhdGlvbixcbiAga2V5d29yZE1hcHBpbmcsXG4gIHByb3Bvc2FsLFxuICBmcm9tU2VhdCxcbiAgdG9TZWF0LFxuICBvZmZlckFyZ3MsXG4pID0+IHtcbiAgaWYgKGtleXdvcmRNYXBwaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICBrZXl3b3JkTWFwcGluZyA9IGhhcmRlbih7fSk7XG4gIH1cblxuICBjb25zdCBkZWZpbmVkVG9TZWF0ID0gdG9TZWF0ICE9PSB1bmRlZmluZWQgPyB0b1NlYXQgOiBmcm9tU2VhdDtcblxuICBjb25zdCB6b2UgPSB6Y2YuZ2V0Wm9lU2VydmljZSgpO1xuICBjb25zdCBtYXBwaW5nUmV2ZXJzZWQgPSByZXZlcnNlKGtleXdvcmRNYXBwaW5nKTtcblxuICBjb25zdCBuZXdLZXl3b3JkcyA9XG4gICAgcHJvcG9zYWwgIT09IHVuZGVmaW5lZFxuICAgICAgPyBtYXBLZXl3b3Jkcyhwcm9wb3NhbC5naXZlLCBtYXBwaW5nUmV2ZXJzZWQpXG4gICAgICA6IGhhcmRlbih7fSk7XG5cbiAgLy9cbiAgLy9cbiAgY29uc3QgcGF5bWVudHMgPSBhd2FpdCB3aXRoZHJhd0Zyb21TZWF0KHpjZiwgZnJvbVNlYXQsIG5ld0tleXdvcmRzKTtcblxuICAvL1xuICBjb25zdCBwYXltZW50c0Zvck90aGVyQ29udHJhY3QgPSBtYXBLZXl3b3JkcyhwYXltZW50cywga2V5d29yZE1hcHBpbmcpO1xuXG4gIGNvbnN0IHVzZXJTZWF0UHJvbWlzZSA9IEUoem9lKS5vZmZlcihcbiAgICBpbnZpdGF0aW9uLFxuICAgIHByb3Bvc2FsLFxuICAgIHBheW1lbnRzRm9yT3RoZXJDb250cmFjdCxcbiAgICBvZmZlckFyZ3MsXG4gICk7XG5cbiAgY29uc3QgZGVwb3NpdGVkUHJvbWlzZUtpdCA9IG1ha2VQcm9taXNlS2l0KCk7XG5cbiAgY29uc3QgZG9EZXBvc2l0ID0gYXN5bmMgcGF5b3V0UGF5bWVudHMgPT4ge1xuICAgIC8vXG4gICAgY29uc3QgYW1vdW50cyA9IGF3YWl0IEUodXNlclNlYXRQcm9taXNlKS5nZXRGaW5hbEFsbG9jYXRpb24oKTtcblxuICAgIC8vXG4gICAgY29uc3QgbWFwcGVkQW1vdW50cyA9IG1hcEtleXdvcmRzKGFtb3VudHMsIG1hcHBpbmdSZXZlcnNlZCk7XG4gICAgY29uc3QgbWFwcGVkUGF5bWVudHMgPSBtYXBLZXl3b3JkcyhwYXlvdXRQYXltZW50cywgbWFwcGluZ1JldmVyc2VkKTtcbiAgICBhd2FpdCBkZXBvc2l0VG9TZWF0KHpjZiwgZGVmaW5lZFRvU2VhdCwgbWFwcGVkQW1vdW50cywgbWFwcGVkUGF5bWVudHMpO1xuICAgIGRlcG9zaXRlZFByb21pc2VLaXQucmVzb2x2ZShtYXBwZWRBbW91bnRzKTtcbiAgfTtcblxuICB2b2lkIEUodXNlclNlYXRQcm9taXNlKS5nZXRQYXlvdXRzKCkudGhlbihkb0RlcG9zaXQpO1xuXG4gIC8vXG4gIHJldHVybiBoYXJkZW4oeyB1c2VyU2VhdFByb21pc2UsIGRlcG9zaXRlZDogZGVwb3NpdGVkUHJvbWlzZUtpdC5wcm9taXNlIH0pO1xufTskaM2PX29uY2Uub2ZmZXJUbyhvZmZlclRvKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImRlZmF1bHRBY2NlcHRhbmNlTXNnIjpbImRlZmF1bHRBY2NlcHRhbmNlTXNnIl0sImFzc2VydElzc3VlcktleXdvcmRzIjpbImFzc2VydElzc3VlcktleXdvcmRzIl0sInNhdGlzZmllcyI6WyJzYXRpc2ZpZXMiXSwic3dhcCI6WyJzd2FwIl0sInN3YXBFeGFjdCI6WyJzd2FwRXhhY3QiXSwiZml0UHJvcG9zYWxTaGFwZSI6WyJmaXRQcm9wb3NhbFNoYXBlIl0sImFzc2VydFByb3Bvc2FsU2hhcGUiOlsiYXNzZXJ0UHJvcG9zYWxTaGFwZSJdLCJhc3NlcnROYXRBc3NldEtpbmQiOlsiYXNzZXJ0TmF0QXNzZXRLaW5kIl0sImRlcG9zaXRUb1NlYXRTdWNjZXNzTXNnIjpbImRlcG9zaXRUb1NlYXRTdWNjZXNzTXNnIl0sImRlcG9zaXRUb1NlYXQiOlsiZGVwb3NpdFRvU2VhdCJdLCJ3aXRoZHJhd0Zyb21TZWF0IjpbIndpdGhkcmF3RnJvbVNlYXQiXSwic2F2ZUFsbElzc3VlcnMiOlsic2F2ZUFsbElzc3VlcnMiXSwibWFwS2V5d29yZHMiOlsibWFwS2V5d29yZHMiXSwib2ZmZXJUbyI6WyJvZmZlclRvIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFiWqOenSAAAp0gAACUAAABAYWdvcmljL3pvZS12MC4yNi4yL3NyYy90eXBlR3VhcmRzLmpzeyJpbXBvcnRzIjpbIkBhZ29yaWMvZXJ0cCIsIkBhZ29yaWMvbm90aWZpZXIiLCJAYWdvcmljL3N0b3JlIiwiQGFnb3JpYy90aW1lIl0sImV4cG9ydHMiOlsiQWRtaW5GYWNldEkiLCJBbW91bnRLZXl3b3JkUmVjb3JkU2hhcGUiLCJBbW91bnRQYXR0ZXJuS2V5d29yZFJlY29yZFNoYXBlIiwiQnJhbmRLZXl3b3JkUmVjb3JkU2hhcGUiLCJCdW5kbGVDYXBTaGFwZSIsIkJ1bmRsZVNoYXBlIiwiRW1wdHlQcm9wb3NhbFNoYXBlIiwiRXhpdE9iamVjdEkiLCJFeGl0T2JqZWN0U2hhcGUiLCJGZWVNaW50QWNjZXNzU2hhcGUiLCJGdWxsUHJvcG9zYWxTaGFwZSIsIkhhbmRsZUkiLCJIYW5kbGVPZmZlckkiLCJJbnN0YWxsYXRpb25TaGFwZSIsIkluc3RhbmNlQWRtaW5JIiwiSW5zdGFuY2VBZG1pblNoYXBlIiwiSW5zdGFuY2VIYW5kbGVTaGFwZSIsIkluc3RhbmNlUmVjb3JkU2hhcGUiLCJJbnN0YW5jZVN0b3JhZ2VNYW5hZ2VySUtpdCIsIkludml0YXRpb25FbGVtZW50U2hhcGUiLCJJbnZpdGF0aW9uSGFuZGxlU2hhcGUiLCJJbnZpdGF0aW9uU2hhcGUiLCJJc3N1ZXJLZXl3b3JkUmVjb3JkU2hhcGUiLCJJc3N1ZXJQS2V5d29yZFJlY29yZFNoYXBlIiwiSXNzdWVyUmVjb3JkU2hhcGUiLCJLZXl3b3JkU2hhcGUiLCJPZmZlckhhbmRsZXJJIiwiUGF5bWVudFBLZXl3b3JkUmVjb3JkU2hhcGUiLCJQcmljZVF1b3RlU2hhcGUiLCJQcm9wb3NhbFNoYXBlIiwiU2VhdERhdGFTaGFwZSIsIlNlYXRIYW5kbGVBbGxvY2F0aW9uc1NoYXBlIiwiU2VhdFNoYXBlIiwiVGVybXNTaGFwZSIsIlRpbWVyU2hhcGUiLCJVbndyYXBwZWRJbnN0YWxsYXRpb25TaGFwZSIsIlpvZU1pbnRJIiwiWm9lTWludFNoYXBlIiwiWm9lU2VydmljZUkiLCJab2VTdG9yYWdlTWFuYWdlcklLaXQiLCJpc0FmdGVyRGVhZGxpbmVFeGl0UnVsZSIsImlzT25EZW1hbmRFeGl0UnVsZSIsImlzV2FpdmVkRXhpdFJ1bGUiLCJtYWtlSGFuZGxlU2hhcGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBBbW91bnRTaGFwZSxBc3NldEtpbmRTaGFwZSxCcmFuZFNoYXBlLERpc3BsYXlJbmZvU2hhcGUsSXNzdWVyS2l0U2hhcGUsSXNzdWVyU2hhcGUsUGF5bWVudFNoYXBlLFN1YnNjcmliZXJTaGFwZSxNLFRpbWVzdGFtcFNoYXBlOyRozY9faW1wb3J0cyhbW1wiQGFnb3JpYy9lcnRwXCIsIFtbXCJBbW91bnRTaGFwZVwiLFskaM2PX2EgPT4gKEFtb3VudFNoYXBlID0gJGjNj19hKV1dLFtcIkFzc2V0S2luZFNoYXBlXCIsWyRozY9fYSA9PiAoQXNzZXRLaW5kU2hhcGUgPSAkaM2PX2EpXV0sW1wiQnJhbmRTaGFwZVwiLFskaM2PX2EgPT4gKEJyYW5kU2hhcGUgPSAkaM2PX2EpXV0sW1wiRGlzcGxheUluZm9TaGFwZVwiLFskaM2PX2EgPT4gKERpc3BsYXlJbmZvU2hhcGUgPSAkaM2PX2EpXV0sW1wiSXNzdWVyS2l0U2hhcGVcIixbJGjNj19hID0+IChJc3N1ZXJLaXRTaGFwZSA9ICRozY9fYSldXSxbXCJJc3N1ZXJTaGFwZVwiLFskaM2PX2EgPT4gKElzc3VlclNoYXBlID0gJGjNj19hKV1dLFtcIlBheW1lbnRTaGFwZVwiLFskaM2PX2EgPT4gKFBheW1lbnRTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvbm90aWZpZXJcIiwgW1tcIlN1YnNjcmliZXJTaGFwZVwiLFskaM2PX2EgPT4gKFN1YnNjcmliZXJTaGFwZSA9ICRozY9fYSldXV1dLFtcIkBhZ29yaWMvc3RvcmVcIiwgW1tcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy90aW1lXCIsIFtbXCJUaW1lc3RhbXBTaGFwZVwiLFskaM2PX2EgPT4gKFRpbWVzdGFtcFNoYXBlID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG4vL1xuICAgICAgIGNvbnN0IEtleXdvcmRTaGFwZSA9IE0uc3RyaW5nKCk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyRozY9fb25jZS5LZXl3b3JkU2hhcGUoS2V5d29yZFNoYXBlKTtcbiAgICAgICBjb25zdCBJbnZpdGF0aW9uSGFuZGxlU2hhcGUgPSBNLnJlbW90YWJsZSgnSW52aXRhdGlvbkhhbmRsZScpO1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLkludml0YXRpb25IYW5kbGVTaGFwZShJbnZpdGF0aW9uSGFuZGxlU2hhcGUpO1xuICAgICAgIGNvbnN0IEludml0YXRpb25TaGFwZSA9IE0ucmVtb3RhYmxlKCdJbnZpdGF0aW9uJyk7JGjNj19vbmNlLkludml0YXRpb25TaGFwZShJbnZpdGF0aW9uU2hhcGUpO1xuICAgICAgIGNvbnN0IEluc3RhbmNlSGFuZGxlU2hhcGUgPSBNLnJlbW90YWJsZSgnSW5zdGFuY2VIYW5kbGUnKTtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLkluc3RhbmNlSGFuZGxlU2hhcGUoSW5zdGFuY2VIYW5kbGVTaGFwZSk7XG4gICAgICAgY29uc3QgSW5zdGFsbGF0aW9uU2hhcGUgPSBNLnJlbW90YWJsZSgnSW5zdGFsbGF0aW9uJyk7JGjNj19vbmNlLkluc3RhbGxhdGlvblNoYXBlKEluc3RhbGxhdGlvblNoYXBlKTtcbiAgICAgICBjb25zdCBTZWF0U2hhcGUgPSBNLnJlbW90YWJsZSgnU2VhdCcpOyRozY9fb25jZS5TZWF0U2hhcGUoU2VhdFNoYXBlKTtcblxuICAgICAgIGNvbnN0IEFtb3VudEtleXdvcmRSZWNvcmRTaGFwZSA9IE0ucmVjb3JkT2YoS2V5d29yZFNoYXBlLCBBbW91bnRTaGFwZSk7JGjNj19vbmNlLkFtb3VudEtleXdvcmRSZWNvcmRTaGFwZShBbW91bnRLZXl3b3JkUmVjb3JkU2hhcGUpO1xuICAgICAgIGNvbnN0IEFtb3VudFBhdHRlcm5LZXl3b3JkUmVjb3JkU2hhcGUgPSBNLnJlY29yZE9mKFxuICBLZXl3b3JkU2hhcGUsXG4gIE0ucGF0dGVybigpLFxuKTskaM2PX29uY2UuQW1vdW50UGF0dGVybktleXdvcmRSZWNvcmRTaGFwZShBbW91bnRQYXR0ZXJuS2V5d29yZFJlY29yZFNoYXBlKTtcbiAgICAgICBjb25zdCBQYXltZW50UEtleXdvcmRSZWNvcmRTaGFwZSA9IE0ucmVjb3JkT2YoXG4gIEtleXdvcmRTaGFwZSxcbiAgTS5lcmVmKFBheW1lbnRTaGFwZSksXG4pOyRozY9fb25jZS5QYXltZW50UEtleXdvcmRSZWNvcmRTaGFwZShQYXltZW50UEtleXdvcmRSZWNvcmRTaGFwZSk7XG4gICAgICAgY29uc3QgSXNzdWVyS2V5d29yZFJlY29yZFNoYXBlID0gTS5yZWNvcmRPZihLZXl3b3JkU2hhcGUsIElzc3VlclNoYXBlKTskaM2PX29uY2UuSXNzdWVyS2V5d29yZFJlY29yZFNoYXBlKElzc3VlcktleXdvcmRSZWNvcmRTaGFwZSk7XG4gICAgICAgY29uc3QgSXNzdWVyUEtleXdvcmRSZWNvcmRTaGFwZSA9IE0ucmVjb3JkT2YoXG4gIEtleXdvcmRTaGFwZSxcbiAgTS5lcmVmKElzc3VlclNoYXBlKSxcbik7JGjNj19vbmNlLklzc3VlclBLZXl3b3JkUmVjb3JkU2hhcGUoSXNzdWVyUEtleXdvcmRSZWNvcmRTaGFwZSk7XG4gICAgICAgY29uc3QgQnJhbmRLZXl3b3JkUmVjb3JkU2hhcGUgPSBNLnJlY29yZE9mKEtleXdvcmRTaGFwZSwgQnJhbmRTaGFwZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLkJyYW5kS2V5d29yZFJlY29yZFNoYXBlKEJyYW5kS2V5d29yZFJlY29yZFNoYXBlKTtcbiAgICAgICBjb25zdCBJc3N1ZXJSZWNvcmRTaGFwZSA9IE0uc3BsaXRSZWNvcmQoXG4gIHtcbiAgICBicmFuZDogQnJhbmRTaGFwZSxcbiAgICBpc3N1ZXI6IElzc3VlclNoYXBlLFxuICAgIGFzc2V0S2luZDogQXNzZXRLaW5kU2hhcGUsXG4gIH0sXG4gIHsgZGlzcGxheUluZm86IERpc3BsYXlJbmZvU2hhcGUgfSxcbik7JGjNj19vbmNlLklzc3VlclJlY29yZFNoYXBlKElzc3VlclJlY29yZFNoYXBlKTtcblxuICAgICAgIGNvbnN0IFRlcm1zU2hhcGUgPSB7XG4gIGlzc3VlcnM6IElzc3VlcktleXdvcmRSZWNvcmRTaGFwZSxcbiAgYnJhbmRzOiBCcmFuZEtleXdvcmRSZWNvcmRTaGFwZSxcbn07JGjNj19vbmNlLlRlcm1zU2hhcGUoVGVybXNTaGFwZSk7XG5oYXJkZW4oVGVybXNTaGFwZSk7XG5cbiAgICAgICBjb25zdCBJbnN0YW5jZVJlY29yZFNoYXBlID0ge1xuICBpbnN0YWxsYXRpb246IEluc3RhbGxhdGlvblNoYXBlLFxuICBpbnN0YW5jZTogSW5zdGFuY2VIYW5kbGVTaGFwZSxcbiAgdGVybXM6IE0uc3BsaXRSZWNvcmQoVGVybXNTaGFwZSksXG59OyRozY9fb25jZS5JbnN0YW5jZVJlY29yZFNoYXBlKEluc3RhbmNlUmVjb3JkU2hhcGUpO1xuaGFyZGVuKEluc3RhbmNlUmVjb3JkU2hhcGUpO1xuXG4gICAgICAgY29uc3QgSGFuZGxlSSA9IE0uaW50ZXJmYWNlKCdIYW5kbGUnLCB7fSk7JGjNj19vbmNlLkhhbmRsZUkoSGFuZGxlSSk7XG5cbiAgICAgICBjb25zdCBtYWtlSGFuZGxlU2hhcGUgPSBuYW1lID0+IE0ucmVtb3RhYmxlKGAke25hbWV9SGFuZGxlYCk7JGjNj19vbmNlLm1ha2VIYW5kbGVTaGFwZShtYWtlSGFuZGxlU2hhcGUpO1xuICAgICAgIGNvbnN0IFRpbWVyU2hhcGUgPSBtYWtlSGFuZGxlU2hhcGUoJ3RpbWVyJyk7XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UuVGltZXJTaGFwZShUaW1lclNoYXBlKTtcbiAgICAgICBjb25zdCBGdWxsUHJvcG9zYWxTaGFwZSA9IHtcbiAgd2FudDogQW1vdW50UGF0dGVybktleXdvcmRSZWNvcmRTaGFwZSxcbiAgZ2l2ZTogQW1vdW50S2V5d29yZFJlY29yZFNoYXBlLFxuICAvL1xuICAvL1xuICAvL1xuICBleGl0OiBNLnNwbGl0UmVjb3JkKFxuICAgIHt9LFxuICAgIHtcbiAgICAgIG9uRGVtYW5kOiBudWxsLFxuICAgICAgd2FpdmVkOiBudWxsLFxuICAgICAgYWZ0ZXJEZWFkbGluZToge1xuICAgICAgICB0aW1lcjogTS5lcmVmKFRpbWVyU2hhcGUpLFxuICAgICAgICBkZWFkbGluZTogVGltZXN0YW1wU2hhcGUsXG4gICAgICB9LFxuICAgIH0sXG4gICAge30sXG4gICksXG59OyRozY9fb25jZS5GdWxsUHJvcG9zYWxTaGFwZShGdWxsUHJvcG9zYWxTaGFwZSk7XG5oYXJkZW4oRnVsbFByb3Bvc2FsU2hhcGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBQcm9wb3NhbFNoYXBlID0gTS5zcGxpdFJlY29yZCh7fSwgRnVsbFByb3Bvc2FsU2hhcGUsIHt9KTskaM2PX29uY2UuUHJvcG9zYWxTaGFwZShQcm9wb3NhbFNoYXBlKTtcblxuICAgICAgIGNvbnN0IEVtcHR5UHJvcG9zYWxTaGFwZSA9IE0uc3BsaXRSZWNvcmQoe1xuICBnaXZlOiB7fSxcbiAgd2FudDoge30sXG4gIGV4aXQ6IHsgb25EZW1hbmQ6IG51bGwgfSxcbn0pOyRozY9fb25jZS5FbXB0eVByb3Bvc2FsU2hhcGUoRW1wdHlQcm9wb3NhbFNoYXBlKTtcblxuICAgICAgIGNvbnN0IGlzT25EZW1hbmRFeGl0UnVsZSA9IGV4aXQgPT4ge1xuICBjb25zdCBbZXhpdEtleV0gPSBPYmplY3Qua2V5cyhleGl0KTtcbiAgcmV0dXJuIGV4aXRLZXkgPT09ICdvbkRlbWFuZCc7XG59OyRozY9fb25jZS5pc09uRGVtYW5kRXhpdFJ1bGUoaXNPbkRlbWFuZEV4aXRSdWxlKTtcbmhhcmRlbihpc09uRGVtYW5kRXhpdFJ1bGUpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGlzV2FpdmVkRXhpdFJ1bGUgPSBleGl0ID0+IHtcbiAgY29uc3QgW2V4aXRLZXldID0gT2JqZWN0LmtleXMoZXhpdCk7XG4gIHJldHVybiBleGl0S2V5ID09PSAnd2FpdmVkJztcbn07JGjNj19vbmNlLmlzV2FpdmVkRXhpdFJ1bGUoaXNXYWl2ZWRFeGl0UnVsZSk7XG5oYXJkZW4oaXNXYWl2ZWRFeGl0UnVsZSk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgaXNBZnRlckRlYWRsaW5lRXhpdFJ1bGUgPSBleGl0ID0+IHtcbiAgY29uc3QgW2V4aXRLZXldID0gT2JqZWN0LmtleXMoZXhpdCk7XG4gIHJldHVybiBleGl0S2V5ID09PSAnYWZ0ZXJEZWFkbGluZSc7XG59OyRozY9fb25jZS5pc0FmdGVyRGVhZGxpbmVFeGl0UnVsZShpc0FmdGVyRGVhZGxpbmVFeGl0UnVsZSk7XG5oYXJkZW4oaXNBZnRlckRlYWRsaW5lRXhpdFJ1bGUpO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgSW52aXRhdGlvbkVsZW1lbnRTaGFwZSA9IE0uc3BsaXRSZWNvcmQoe1xuICBkZXNjcmlwdGlvbjogTS5zdHJpbmcoKSxcbiAgaGFuZGxlOiBJbnZpdGF0aW9uSGFuZGxlU2hhcGUsXG4gIGluc3RhbmNlOiBJbnN0YW5jZUhhbmRsZVNoYXBlLFxuICBpbnN0YWxsYXRpb246IEluc3RhbGxhdGlvblNoYXBlLFxufSk7JGjNj19vbmNlLkludml0YXRpb25FbGVtZW50U2hhcGUoSW52aXRhdGlvbkVsZW1lbnRTaGFwZSk7XG5cbiAgICAgICBjb25zdCBPZmZlckhhbmRsZXJJID0gTS5pbnRlcmZhY2UoJ09mZmVySGFuZGxlcicsIHtcbiAgaGFuZGxlOiBNLmNhbGwoU2VhdFNoYXBlKS5vcHRpb25hbChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpLFxufSk7JGjNj19vbmNlLk9mZmVySGFuZGxlckkoT2ZmZXJIYW5kbGVySSk7XG5cbiAgICAgICBjb25zdCBTZWF0SGFuZGxlQWxsb2NhdGlvbnNTaGFwZSA9IE0uYXJyYXlPZih7XG4gIHNlYXRIYW5kbGU6IFNlYXRTaGFwZSxcbiAgYWxsb2NhdGlvbjogQW1vdW50S2V5d29yZFJlY29yZFNoYXBlLFxufSk7JGjNj19vbmNlLlNlYXRIYW5kbGVBbGxvY2F0aW9uc1NoYXBlKFNlYXRIYW5kbGVBbGxvY2F0aW9uc1NoYXBlKTtcblxuICAgICAgIGNvbnN0IFpvZU1pbnRTaGFwZSA9IE0ucmVtb3RhYmxlKCdab2VNaW50Jyk7JGjNj19vbmNlLlpvZU1pbnRTaGFwZShab2VNaW50U2hhcGUpO1xuICAgICAgIGNvbnN0IFpvZU1pbnRJID0gTS5pbnRlcmZhY2UoJ1pvZU1pbnQnLCB7XG4gIGdldElzc3VlclJlY29yZDogTS5jYWxsKCkucmV0dXJucyhJc3N1ZXJSZWNvcmRTaGFwZSksXG4gIG1pbnRBbmRFc2Nyb3c6IE0uY2FsbChBbW91bnRTaGFwZSkucmV0dXJucygpLFxuICB3aXRoZHJhd0FuZEJ1cm46IE0uY2FsbChBbW91bnRTaGFwZSkucmV0dXJucygpLFxufSk7JGjNj19vbmNlLlpvZU1pbnRJKFpvZU1pbnRJKTtcblxuICAgICAgIGNvbnN0IEZlZU1pbnRBY2Nlc3NTaGFwZSA9IE0ucmVtb3RhYmxlKCdGZWVNaW50QWNjZXNzJyk7JGjNj19vbmNlLkZlZU1pbnRBY2Nlc3NTaGFwZShGZWVNaW50QWNjZXNzU2hhcGUpO1xuXG4gICAgICAgY29uc3QgRXhpdE9iamVjdEkgPSBNLmludGVyZmFjZSgnRXhpdCBPYmplY3QnLCB7XG4gIGV4aXQ6IE0uY2FsbCgpLnJldHVybnMoKSxcbn0pOyRozY9fb25jZS5FeGl0T2JqZWN0SShFeGl0T2JqZWN0SSk7XG5cbiAgICAgICBjb25zdCBFeGl0T2JqZWN0U2hhcGUgPSBNLnJlbW90YWJsZSgnRXhpdE9iaicpOyRozY9fb25jZS5FeGl0T2JqZWN0U2hhcGUoRXhpdE9iamVjdFNoYXBlKTtcbiAgICAgICBjb25zdCBJbnN0YW5jZUFkbWluU2hhcGUgPSBNLnJlbW90YWJsZSgnSW5zdGFuY2VBZG1pbicpOyRozY9fb25jZS5JbnN0YW5jZUFkbWluU2hhcGUoSW5zdGFuY2VBZG1pblNoYXBlKTtcbiAgICAgICBjb25zdCBJbnN0YW5jZUFkbWluSSA9IE0uaW50ZXJmYWNlKCdJbnN0YW5jZUFkbWluJywge1xuICBtYWtlSW52aXRhdGlvbjogTS5jYWxsKEludml0YXRpb25IYW5kbGVTaGFwZSwgTS5zdHJpbmcoKSlcbiAgICAub3B0aW9uYWwoTS5yZWNvcmQoKSwgTS5wYXR0ZXJuKCkpXG4gICAgLnJldHVybnMoSW52aXRhdGlvblNoYXBlKSxcbiAgc2F2ZUlzc3VlcjogTS5jYWxsV2hlbihNLmF3YWl0KElzc3VlclNoYXBlKSwgS2V5d29yZFNoYXBlKS5yZXR1cm5zKFxuICAgIElzc3VlclJlY29yZFNoYXBlLFxuICApLFxuICBtYWtlTm9Fc2Nyb3dTZWF0OiBNLmNhbGwoXG4gICAgQW1vdW50S2V5d29yZFJlY29yZFNoYXBlLFxuICAgIFByb3Bvc2FsU2hhcGUsXG4gICAgRXhpdE9iamVjdFNoYXBlLFxuICAgIFNlYXRTaGFwZSxcbiAgKS5yZXR1cm5zKFNlYXRTaGFwZSksXG4gIGV4aXRBbGxTZWF0czogTS5jYWxsKE0uYW55KCkpLnJldHVybnMoKSxcbiAgZmFpbEFsbFNlYXRzOiBNLmNhbGwoTS5hbnkoKSkucmV0dXJucygpLFxuICBleGl0U2VhdDogTS5jYWxsKFNlYXRTaGFwZSwgTS5hbnkoKSkucmV0dXJucygpLFxuICBmYWlsU2VhdDogTS5jYWxsKFNlYXRTaGFwZSwgTS5hbnkoKSkucmV0dXJucygpLFxuICBtYWtlWm9lTWludDogTS5jYWxsKEtleXdvcmRTaGFwZSlcbiAgICAub3B0aW9uYWwoXG4gICAgICBBc3NldEtpbmRTaGFwZSxcbiAgICAgIERpc3BsYXlJbmZvU2hhcGUsXG4gICAgICBNLnNwbGl0UmVjb3JkKHt9LCB7IGVsZW1lbnRTaGFwZTogTS5wYXR0ZXJuKCkgfSksXG4gICAgKVxuICAgIC5yZXR1cm5zKE0ucmVtb3RhYmxlKCd6b2VNaW50JykpLFxuICByZWdpc3RlckZlZU1pbnQ6IE0uY2FsbChLZXl3b3JkU2hhcGUsIEZlZU1pbnRBY2Nlc3NTaGFwZSkucmV0dXJucyhcbiAgICBNLnJlbW90YWJsZSgnZmVlTWludCcpLFxuICApLFxuICByZXBsYWNlQWxsb2NhdGlvbnM6IE0uY2FsbChTZWF0SGFuZGxlQWxsb2NhdGlvbnNTaGFwZSkucmV0dXJucygpLFxuICBzdG9wQWNjZXB0aW5nT2ZmZXJzOiBNLmNhbGwoKS5yZXR1cm5zKCksXG4gIHNldE9mZmVyRmlsdGVyOiBNLmNhbGwoTS5hcnJheU9mKE0uc3RyaW5nKCkpKS5yZXR1cm5zKCksXG4gIGdldE9mZmVyRmlsdGVyOiBNLmNhbGwoKS5yZXR1cm5zKE0uYXJyYXlPZihNLnN0cmluZygpKSksXG4gIGdldEV4aXRTdWJzY3JpYmVyOiBNLmNhbGwoU2VhdFNoYXBlKS5yZXR1cm5zKFN1YnNjcmliZXJTaGFwZSksXG4gIGlzQmxvY2tlZDogTS5jYWxsKE0uc3RyaW5nKCkpLnJldHVybnMoTS5ib29sZWFuKCkpLFxuICByZXBhaXJDb250cmFjdENvbXBsZXRpb25XYXRjaGVyOiBNLmNhbGwoKS5yZXR1cm5zKCksXG59KTskaM2PX29uY2UuSW5zdGFuY2VBZG1pbkkoSW5zdGFuY2VBZG1pbkkpO1xuXG4gICAgICAgY29uc3QgSW5zdGFuY2VTdG9yYWdlTWFuYWdlcklLaXQgPSB7XG4gIGluc3RhbmNlU3RvcmFnZU1hbmFnZXI6IE0uaW50ZXJmYWNlKCdJbnN0YW5jZVN0b3JhZ2VNYW5hZ2VyJywge1xuICAgIGdldFRlcm1zOiBNLmNhbGwoKS5yZXR1cm5zKE0uc3BsaXRSZWNvcmQoVGVybXNTaGFwZSkpLFxuICAgIGdldElzc3VlcnM6IE0uY2FsbCgpLnJldHVybnMoSXNzdWVyS2V5d29yZFJlY29yZFNoYXBlKSxcbiAgICBnZXRCcmFuZHM6IE0uY2FsbCgpLnJldHVybnMoQnJhbmRLZXl3b3JkUmVjb3JkU2hhcGUpLFxuICAgIGdldEluc3RhbGxhdGlvbjogTS5jYWxsKCkucmV0dXJucyhJbnN0YWxsYXRpb25TaGFwZSksXG4gICAgZ2V0SW52aXRhdGlvbklzc3VlcjogTS5jYWxsKCkucmV0dXJucyhJc3N1ZXJTaGFwZSksXG5cbiAgICBzYXZlSXNzdWVyOiBNLmNhbGwoSXNzdWVyU2hhcGUsIEtleXdvcmRTaGFwZSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gICAgbWFrZVpvZU1pbnQ6IE0uY2FsbChLZXl3b3JkU2hhcGUpXG4gICAgICAub3B0aW9uYWwoXG4gICAgICAgIEFzc2V0S2luZFNoYXBlLFxuICAgICAgICBEaXNwbGF5SW5mb1NoYXBlLFxuICAgICAgICBNLnNwbGl0UmVjb3JkKHt9LCB7IGVsZW1lbnRTaGFwZTogTS5wYXR0ZXJuKCkgfSksXG4gICAgICApXG4gICAgICAucmV0dXJucyhNLmVyZWYoWm9lTWludFNoYXBlKSksXG4gICAgcmVnaXN0ZXJGZWVNaW50OiBNLmNhbGwoS2V5d29yZFNoYXBlLCBGZWVNaW50QWNjZXNzU2hhcGUpLnJldHVybnMoXG4gICAgICBNLnJlbW90YWJsZSgnZmVlTWludCcpLFxuICAgICksXG4gICAgZ2V0SW5zdGFuY2VSZWNvcmQ6IE0uY2FsbCgpLnJldHVybnMoSW5zdGFuY2VSZWNvcmRTaGFwZSksXG4gICAgZ2V0SXNzdWVyUmVjb3JkczogTS5jYWxsKCkucmV0dXJucyhNLmFycmF5T2YoSXNzdWVyUmVjb3JkU2hhcGUpKSxcbiAgICBnZXRXaXRoZHJhd0ZhY2V0OiBNLmNhbGwoKS5yZXR1cm5zKE0ucmVtb3RhYmxlKCdXaXRoZHJhd0ZhY2V0JykpLFxuICAgIGluaXRJbnN0YW5jZUFkbWluOiBNLmNhbGwoXG4gICAgICBJbnN0YW5jZUhhbmRsZVNoYXBlLFxuICAgICAgTS5yZW1vdGFibGUoJ2luc3RhbmNlQWRtaW4nKSxcbiAgICApLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgIGRlbGV0ZUluc3RhbmNlQWRtaW46IE0uY2FsbChJbnN0YW5jZUFkbWluU2hhcGUpLnJldHVybnMoKSxcbiAgICBtYWtlSW52aXRhdGlvbjogTS5jYWxsKEludml0YXRpb25IYW5kbGVTaGFwZSwgTS5zdHJpbmcoKSlcbiAgICAgIC5vcHRpb25hbChNLnJlY29yZCgpLCBNLnBhdHRlcm4oKSlcbiAgICAgIC5yZXR1cm5zKFBheW1lbnRTaGFwZSksXG4gICAgZ2V0Um9vdDogTS5jYWxsKCkucmV0dXJucyhNLmFueSgpKSxcbiAgICBnZXRBZG1pbk5vZGU6IE0uY2FsbCgpLnJldHVybnMoTS5yZW1vdGFibGUoJ2FkbWluTm9kZScpKSxcbiAgfSksXG4gIHdpdGhkcmF3RmFjZXQ6IE0uaW50ZXJmYWNlKCdXaXRoZHJhd0ZhY2V0Jywge1xuICAgIHdpdGhkcmF3UGF5bWVudHM6IE0uY2FsbChBbW91bnRLZXl3b3JkUmVjb3JkU2hhcGUpLnJldHVybnMoXG4gICAgICBQYXltZW50UEtleXdvcmRSZWNvcmRTaGFwZSxcbiAgICApLFxuICB9KSxcbiAgaGVscGVyczogTS5pbnRlcmZhY2UoJ0luc3RhbmNlU3RvcmFnZU1hbmFnZXIgaGVscGVyJywge1xuICAgIHdyYXBJc3N1ZXJLaXRXaXRoWm9lTWludDogTS5jYWxsKFxuICAgICAgS2V5d29yZFNoYXBlLFxuICAgICAgSXNzdWVyS2l0U2hhcGUsXG4gICAgICBNLnJlbW90YWJsZSgnYWRtaW5Ob2RlJyksXG4gICAgKS5yZXR1cm5zKFpvZU1pbnRTaGFwZSksXG4gIH0pLFxufTskaM2PX29uY2UuSW5zdGFuY2VTdG9yYWdlTWFuYWdlcklLaXQoSW5zdGFuY2VTdG9yYWdlTWFuYWdlcklLaXQpO1xuaGFyZGVuKEluc3RhbmNlU3RvcmFnZU1hbmFnZXJJS2l0KTtcblxuICAgICAgIGNvbnN0IEJ1bmRsZUNhcFNoYXBlID0gTS5yZW1vdGFibGUoJ2J1bmRsZUNhcCcpOyRozY9fb25jZS5CdW5kbGVDYXBTaGFwZShCdW5kbGVDYXBTaGFwZSk7XG4gICAgICAgY29uc3QgQnVuZGxlU2hhcGUgPSBNLmFuZChcbiAgTS5zcGxpdFJlY29yZCh7IG1vZHVsZUZvcm1hdDogTS5hbnkoKSB9KSxcbiAgTS5yZWNvcmRPZihNLnN0cmluZygpLCBNLnN0cmluZyh7IHN0cmluZ0xlbmd0aExpbWl0OiBJbmZpbml0eSB9KSksXG4pOyRozY9fb25jZS5CdW5kbGVTaGFwZShCdW5kbGVTaGFwZSk7XG5cbiAgICAgICBjb25zdCBVbndyYXBwZWRJbnN0YWxsYXRpb25TaGFwZSA9IE0uc3BsaXRSZWNvcmQoXG4gIHsgaW5zdGFsbGF0aW9uOiBJbnN0YWxsYXRpb25TaGFwZSB9LFxuICB7XG4gICAgYnVuZGxlOiBNLnJlY29yZE9mKE0uc3RyaW5nKCksIE0uc3RyaW5nKHsgc3RyaW5nTGVuZ3RoTGltaXQ6IEluZmluaXR5IH0pKSxcbiAgICBidW5kbGVDYXA6IEJ1bmRsZUNhcFNoYXBlLFxuICAgIGJ1bmRsZUlEOiBNLnN0cmluZygpLFxuICB9LFxuICB7fSxcbik7JGjNj19vbmNlLlVud3JhcHBlZEluc3RhbGxhdGlvblNoYXBlKFVud3JhcHBlZEluc3RhbGxhdGlvblNoYXBlKTtcblxuICAgICAgIGNvbnN0IFpvZVN0b3JhZ2VNYW5hZ2VySUtpdCA9IHtcbiAgem9lU2VydmljZURhdGFBY2Nlc3M6IE0uaW50ZXJmYWNlKCdab2VTZXJ2aWNlIGRhdGFBY2Nlc3MnLCB7XG4gICAgZ2V0VGVybXM6IE0uY2FsbChJbnN0YW5jZUhhbmRsZVNoYXBlKS5yZXR1cm5zKE0uc3BsaXRSZWNvcmQoVGVybXNTaGFwZSkpLFxuICAgIGdldElzc3VlcnM6IE0uY2FsbChJbnN0YW5jZUhhbmRsZVNoYXBlKS5yZXR1cm5zKElzc3VlcktleXdvcmRSZWNvcmRTaGFwZSksXG4gICAgZ2V0QnJhbmRzOiBNLmNhbGwoSW5zdGFuY2VIYW5kbGVTaGFwZSkucmV0dXJucyhCcmFuZEtleXdvcmRSZWNvcmRTaGFwZSksXG4gICAgZ2V0SW5zdGFsbGF0aW9uOiBNLmNhbGwoSW5zdGFuY2VIYW5kbGVTaGFwZSkucmV0dXJucyhcbiAgICAgIE0uZXJlZihNLnJlbW90YWJsZSgnSW5zdGFsbGF0aW9uJykpLFxuICAgICksXG4gICAgZ2V0SW52aXRhdGlvbklzc3VlcjogTS5jYWxsKCkucmV0dXJucyhJc3N1ZXJTaGFwZSksXG5cbiAgICBnZXRCdW5kbGVJREZyb21JbnN0YWxsYXRpb246IE0uY2FsbChJbnN0YWxsYXRpb25TaGFwZSkucmV0dXJucyhcbiAgICAgIE0uZXJlZihNLnN0cmluZygpKSxcbiAgICApLFxuICAgIGluc3RhbGxCdW5kbGU6IE0uY2FsbChCdW5kbGVTaGFwZSlcbiAgICAgIC5vcHRpb25hbChNLnN0cmluZygpKVxuICAgICAgLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICAgIGluc3RhbGxCdW5kbGVJRDogTS5jYWxsKE0uc3RyaW5nKCkpXG4gICAgICAub3B0aW9uYWwoTS5zdHJpbmcoKSlcbiAgICAgIC5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcblxuICAgIGdldFB1YmxpY0ZhY2V0OiBNLmNhbGwoSW5zdGFuY2VIYW5kbGVTaGFwZSkucmV0dXJucyhcbiAgICAgIE0uZXJlZihNLnJlbW90YWJsZSgnUHVibGljRmFjZXQnKSksXG4gICAgKSxcbiAgICBnZXRPZmZlckZpbHRlcjogTS5jYWxsKEluc3RhbmNlSGFuZGxlU2hhcGUpLnJldHVybnMoTS5hcnJheU9mKE0uc3RyaW5nKCkpKSxcbiAgICBnZXRQcm9wb3NhbFNoYXBlRm9ySW52aXRhdGlvbjogTS5jYWxsKEludml0YXRpb25IYW5kbGVTaGFwZSkucmV0dXJucyhcbiAgICAgIE0ub3B0KE0ucGF0dGVybigpKSxcbiAgICApLFxuICB9KSxcbiAgbWFrZU9mZmVyQWNjZXNzOiBNLmludGVyZmFjZSgnWm9lU3RvcmFnZSBtYWtlT2ZmZXIgYWNjZXNzJywge1xuICAgIGdldEFzc2V0S2luZEJ5QnJhbmQ6IE0uY2FsbChCcmFuZFNoYXBlKS5yZXR1cm5zKEFzc2V0S2luZFNoYXBlKSxcbiAgICBnZXRJbnN0YW5jZUFkbWluOiBNLmNhbGwoSW5zdGFuY2VIYW5kbGVTaGFwZSkucmV0dXJucyhcbiAgICAgIE0ucmVtb3RhYmxlKCdpbnN0YW5jZUFkbWluJyksXG4gICAgKSxcbiAgICBnZXRQcm9wb3NhbFNoYXBlRm9ySW52aXRhdGlvbjogTS5jYWxsKEludml0YXRpb25IYW5kbGVTaGFwZSkucmV0dXJucyhcbiAgICAgIE0ub3B0KE0ucGF0dGVybigpKSxcbiAgICApLFxuICAgIGdldEludml0YXRpb25Jc3N1ZXI6IE0uY2FsbCgpLnJldHVybnMoSXNzdWVyU2hhcGUpLFxuICAgIGRlcG9zaXRQYXltZW50czogTS5jYWxsKFByb3Bvc2FsU2hhcGUsIFBheW1lbnRQS2V5d29yZFJlY29yZFNoYXBlKS5yZXR1cm5zKFxuICAgICAgTS5wcm9taXNlKCksXG4gICAgKSxcbiAgfSksXG4gIHN0YXJ0SW5zdGFuY2VBY2Nlc3M6IE0uaW50ZXJmYWNlKCdab2VTdG9yYWdlIHN0YXJ0SW5zdGFuY2UgYWNjZXNzJywge1xuICAgIG1ha2Vab2VJbnN0YW5jZVN0b3JhZ2VNYW5hZ2VyOiBNLmNhbGwoXG4gICAgICBJbnN0YWxsYXRpb25TaGFwZSxcbiAgICAgIE0uYW55KCksXG4gICAgICBJc3N1ZXJQS2V5d29yZFJlY29yZFNoYXBlLFxuICAgICAgSW5zdGFuY2VIYW5kbGVTaGFwZSxcbiAgICAgIE0ub3IoQnVuZGxlQ2FwU2hhcGUsIEJ1bmRsZVNoYXBlKSxcbiAgICAgIE0uc3RyaW5nKCksXG4gICAgKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgICB1bndyYXBJbnN0YWxsYXRpb246IE0uY2FsbFdoZW4oTS5lcmVmKEluc3RhbGxhdGlvblNoYXBlKSkucmV0dXJucyhcbiAgICAgIFVud3JhcHBlZEluc3RhbGxhdGlvblNoYXBlLFxuICAgICksXG4gIH0pLFxuICBpbnZpdGF0aW9uSXNzdWVyQWNjZXNzOiBNLmludGVyZmFjZSgnWm9lU3RvcmFnZSBpbnZpdGF0aW9uSXNzdWVyJywge1xuICAgIGdldEludml0YXRpb25Jc3N1ZXI6IE0uY2FsbCgpLnJldHVybnMoSXNzdWVyU2hhcGUpLFxuICB9KSxcbn07JGjNj19vbmNlLlpvZVN0b3JhZ2VNYW5hZ2VySUtpdChab2VTdG9yYWdlTWFuYWdlcklLaXQpO1xuaGFyZGVuKFpvZVN0b3JhZ2VNYW5hZ2VySUtpdCk7XG5cbiAgICAgICBjb25zdCBab2VTZXJ2aWNlSSA9IE0uaW50ZXJmYWNlKCdab2VTZXJ2aWNlJywge1xuICBpbnN0YWxsOiBNLmNhbGwoTS5hbnkoKSkub3B0aW9uYWwoTS5zdHJpbmcoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIGluc3RhbGxCdW5kbGVJRDogTS5jYWxsKE0uc3RyaW5nKCkpLm9wdGlvbmFsKE0uc3RyaW5nKCkpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICBzdGFydEluc3RhbmNlOiBNLmNhbGwoTS5lcmVmKEluc3RhbGxhdGlvblNoYXBlKSlcbiAgICAub3B0aW9uYWwoSXNzdWVyUEtleXdvcmRSZWNvcmRTaGFwZSwgTS5yZWNvcmQoKSwgTS5yZWNvcmQoKSwgTS5zdHJpbmcoKSlcbiAgICAucmV0dXJucyhNLnByb21pc2UoKSksXG4gIG9mZmVyOiBNLmNhbGwoTS5lcmVmKEludml0YXRpb25TaGFwZSkpXG4gICAgLm9wdGlvbmFsKFByb3Bvc2FsU2hhcGUsIFBheW1lbnRQS2V5d29yZFJlY29yZFNoYXBlLCBNLmFueSgpKVxuICAgIC5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcblxuICBnZXRPZmZlckZpbHRlcjogTS5jYWxsV2hlbihNLmF3YWl0KEluc3RhbmNlSGFuZGxlU2hhcGUpKS5yZXR1cm5zKFxuICAgIE0uYXJyYXlPZihNLnN0cmluZygpKSxcbiAgKSxcbiAgZ2V0SW52aXRhdGlvbklzc3VlcjogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIGdldEZlZUlzc3VlcjogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIGdldEJyYW5kczogTS5jYWxsV2hlbihNLmF3YWl0KEluc3RhbmNlSGFuZGxlU2hhcGUpKS5yZXR1cm5zKFxuICAgIEJyYW5kS2V5d29yZFJlY29yZFNoYXBlLFxuICApLFxuICBnZXRJc3N1ZXJzOiBNLmNhbGxXaGVuKE0uYXdhaXQoSW5zdGFuY2VIYW5kbGVTaGFwZSkpLnJldHVybnMoXG4gICAgSXNzdWVyS2V5d29yZFJlY29yZFNoYXBlLFxuICApLFxuICBnZXRQdWJsaWNGYWNldDogTS5jYWxsV2hlbihNLmF3YWl0KEluc3RhbmNlSGFuZGxlU2hhcGUpKS5yZXR1cm5zKFxuICAgIE0ucmVtb3RhYmxlKCdQdWJsaWNGYWNldCcpLFxuICApLFxuICBnZXRUZXJtczogTS5jYWxsV2hlbihNLmF3YWl0KEluc3RhbmNlSGFuZGxlU2hhcGUpKS5yZXR1cm5zKE0uYW55KCkpLFxuICBnZXRJbnN0YWxsYXRpb25Gb3JJbnN0YW5jZTogTS5jYWxsV2hlbihNLmF3YWl0KEluc3RhbmNlSGFuZGxlU2hhcGUpKS5yZXR1cm5zKFxuICAgIE0uZXJlZihNLnJlbW90YWJsZSgnSW5zdGFsbGF0aW9uJykpLFxuICApLFxuICBnZXRCdW5kbGVJREZyb21JbnN0YWxsYXRpb246IE0uY2FsbFdoZW4oTS5hd2FpdChJbnN0YWxsYXRpb25TaGFwZSkpLnJldHVybnMoXG4gICAgTS5lcmVmKE0uc3RyaW5nKCkpLFxuICApLFxuXG4gIGdldEluc3RhbGxhdGlvbjogTS5jYWxsKE0uZXJlZihJbnZpdGF0aW9uU2hhcGUpKS5yZXR1cm5zKE0ucHJvbWlzZSgpKSxcbiAgZ2V0SW5zdGFuY2U6IE0uY2FsbChNLmVyZWYoSW52aXRhdGlvblNoYXBlKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIGdldENvbmZpZ3VyYXRpb246IE0uY2FsbCgpLnJldHVybnMoe1xuICAgIGZlZUlzc3VlckNvbmZpZzoge1xuICAgICAgbmFtZTogTS5zdHJpbmcoKSxcbiAgICAgIGFzc2V0S2luZDogJ25hdCcsXG4gICAgICBkaXNwbGF5SW5mbzogRGlzcGxheUluZm9TaGFwZSxcbiAgICB9LFxuICB9KSxcbiAgZ2V0SW52aXRhdGlvbkRldGFpbHM6IE0uY2FsbChNLmVyZWYoSW52aXRhdGlvblNoYXBlKSkucmV0dXJucyhNLmFueSgpKSxcbiAgZ2V0UHJvcG9zYWxTaGFwZUZvckludml0YXRpb246IE0uY2FsbChJbnZpdGF0aW9uSGFuZGxlU2hhcGUpLnJldHVybnMoXG4gICAgTS5vcHQoTS5wYXR0ZXJuKCkpLFxuICApLFxufSk7JGjNj19vbmNlLlpvZVNlcnZpY2VJKFpvZVNlcnZpY2VJKTtcblxuICAgICAgIGNvbnN0IEFkbWluRmFjZXRJID0gTS5pbnRlcmZhY2UoJ1pjZkFkbWluRmFjZXQnLCB7XG4gIGdldFZhdFNodXRkb3duUHJvbWlzZTogTS5jYWxsKCkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIHJlc3RhcnRDb250cmFjdDogTS5jYWxsKCkub3B0aW9uYWwoTS5hbnkoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG4gIHVwZ3JhZGVDb250cmFjdDogTS5jYWxsKE0uc3RyaW5nKCkpLm9wdGlvbmFsKE0uYW55KCkpLnJldHVybnMoTS5wcm9taXNlKCkpLFxuICB0ZXJtaW5hdGVDb250cmFjdDogTS5jYWxsKE0uZXJyb3IoKSkucmV0dXJucyhNLnByb21pc2UoKSksXG59KTskaM2PX29uY2UuQWRtaW5GYWNldEkoQWRtaW5GYWNldEkpO1xuXG4gICAgICAgY29uc3QgU2VhdERhdGFTaGFwZSA9IE0uc3BsaXRSZWNvcmQoXG4gIHtcbiAgICBwcm9wb3NhbDogUHJvcG9zYWxTaGFwZSxcbiAgICBpbml0aWFsQWxsb2NhdGlvbjogQW1vdW50S2V5d29yZFJlY29yZFNoYXBlLFxuICAgIHNlYXRIYW5kbGU6IFNlYXRTaGFwZSxcbiAgfSxcbiAge1xuICAgIG9mZmVyQXJnczogTS5hbnkoKSxcbiAgfSxcbik7JGjNj19vbmNlLlNlYXREYXRhU2hhcGUoU2VhdERhdGFTaGFwZSk7XG5cbiAgICAgICBjb25zdCBIYW5kbGVPZmZlckkgPSBNLmludGVyZmFjZSgnSGFuZGxlT2ZmZXInLCB7XG4gIGhhbmRsZU9mZmVyOiBNLmNhbGwoSW52aXRhdGlvbkhhbmRsZVNoYXBlLCBTZWF0RGF0YVNoYXBlKS5yZXR1cm5zKHtcbiAgICBvZmZlclJlc3VsdFByb21pc2U6IE0ucHJvbWlzZSgpLFxuICAgIGV4aXRPYmo6IEV4aXRPYmplY3RTaGFwZSxcbiAgfSksXG59KTskaM2PX29uY2UuSGFuZGxlT2ZmZXJJKEhhbmRsZU9mZmVySSk7XG5cbiAgICAgICBjb25zdCBQcmljZVF1b3RlU2hhcGUgPSB7XG4gIHF1b3RlQW1vdW50OiBBbW91bnRTaGFwZSxcbiAgcXVvdGVQYXltZW50OiBNLmVyZWYoUGF5bWVudFNoYXBlKSxcbn07JGjNj19vbmNlLlByaWNlUXVvdGVTaGFwZShQcmljZVF1b3RlU2hhcGUpO1xuaGFyZGVuKFByaWNlUXVvdGVTaGFwZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJLZXl3b3JkU2hhcGUiOlsiS2V5d29yZFNoYXBlIl0sIkludml0YXRpb25IYW5kbGVTaGFwZSI6WyJJbnZpdGF0aW9uSGFuZGxlU2hhcGUiXSwiSW52aXRhdGlvblNoYXBlIjpbIkludml0YXRpb25TaGFwZSJdLCJJbnN0YW5jZUhhbmRsZVNoYXBlIjpbIkluc3RhbmNlSGFuZGxlU2hhcGUiXSwiSW5zdGFsbGF0aW9uU2hhcGUiOlsiSW5zdGFsbGF0aW9uU2hhcGUiXSwiU2VhdFNoYXBlIjpbIlNlYXRTaGFwZSJdLCJBbW91bnRLZXl3b3JkUmVjb3JkU2hhcGUiOlsiQW1vdW50S2V5d29yZFJlY29yZFNoYXBlIl0sIkFtb3VudFBhdHRlcm5LZXl3b3JkUmVjb3JkU2hhcGUiOlsiQW1vdW50UGF0dGVybktleXdvcmRSZWNvcmRTaGFwZSJdLCJQYXltZW50UEtleXdvcmRSZWNvcmRTaGFwZSI6WyJQYXltZW50UEtleXdvcmRSZWNvcmRTaGFwZSJdLCJJc3N1ZXJLZXl3b3JkUmVjb3JkU2hhcGUiOlsiSXNzdWVyS2V5d29yZFJlY29yZFNoYXBlIl0sIklzc3VlclBLZXl3b3JkUmVjb3JkU2hhcGUiOlsiSXNzdWVyUEtleXdvcmRSZWNvcmRTaGFwZSJdLCJCcmFuZEtleXdvcmRSZWNvcmRTaGFwZSI6WyJCcmFuZEtleXdvcmRSZWNvcmRTaGFwZSJdLCJJc3N1ZXJSZWNvcmRTaGFwZSI6WyJJc3N1ZXJSZWNvcmRTaGFwZSJdLCJUZXJtc1NoYXBlIjpbIlRlcm1zU2hhcGUiXSwiSW5zdGFuY2VSZWNvcmRTaGFwZSI6WyJJbnN0YW5jZVJlY29yZFNoYXBlIl0sIkhhbmRsZUkiOlsiSGFuZGxlSSJdLCJtYWtlSGFuZGxlU2hhcGUiOlsibWFrZUhhbmRsZVNoYXBlIl0sIlRpbWVyU2hhcGUiOlsiVGltZXJTaGFwZSJdLCJGdWxsUHJvcG9zYWxTaGFwZSI6WyJGdWxsUHJvcG9zYWxTaGFwZSJdLCJQcm9wb3NhbFNoYXBlIjpbIlByb3Bvc2FsU2hhcGUiXSwiRW1wdHlQcm9wb3NhbFNoYXBlIjpbIkVtcHR5UHJvcG9zYWxTaGFwZSJdLCJpc09uRGVtYW5kRXhpdFJ1bGUiOlsiaXNPbkRlbWFuZEV4aXRSdWxlIl0sImlzV2FpdmVkRXhpdFJ1bGUiOlsiaXNXYWl2ZWRFeGl0UnVsZSJdLCJpc0FmdGVyRGVhZGxpbmVFeGl0UnVsZSI6WyJpc0FmdGVyRGVhZGxpbmVFeGl0UnVsZSJdLCJJbnZpdGF0aW9uRWxlbWVudFNoYXBlIjpbIkludml0YXRpb25FbGVtZW50U2hhcGUiXSwiT2ZmZXJIYW5kbGVySSI6WyJPZmZlckhhbmRsZXJJIl0sIlNlYXRIYW5kbGVBbGxvY2F0aW9uc1NoYXBlIjpbIlNlYXRIYW5kbGVBbGxvY2F0aW9uc1NoYXBlIl0sIlpvZU1pbnRTaGFwZSI6WyJab2VNaW50U2hhcGUiXSwiWm9lTWludEkiOlsiWm9lTWludEkiXSwiRmVlTWludEFjY2Vzc1NoYXBlIjpbIkZlZU1pbnRBY2Nlc3NTaGFwZSJdLCJFeGl0T2JqZWN0SSI6WyJFeGl0T2JqZWN0SSJdLCJFeGl0T2JqZWN0U2hhcGUiOlsiRXhpdE9iamVjdFNoYXBlIl0sIkluc3RhbmNlQWRtaW5TaGFwZSI6WyJJbnN0YW5jZUFkbWluU2hhcGUiXSwiSW5zdGFuY2VBZG1pbkkiOlsiSW5zdGFuY2VBZG1pbkkiXSwiSW5zdGFuY2VTdG9yYWdlTWFuYWdlcklLaXQiOlsiSW5zdGFuY2VTdG9yYWdlTWFuYWdlcklLaXQiXSwiQnVuZGxlQ2FwU2hhcGUiOlsiQnVuZGxlQ2FwU2hhcGUiXSwiQnVuZGxlU2hhcGUiOlsiQnVuZGxlU2hhcGUiXSwiVW53cmFwcGVkSW5zdGFsbGF0aW9uU2hhcGUiOlsiVW53cmFwcGVkSW5zdGFsbGF0aW9uU2hhcGUiXSwiWm9lU3RvcmFnZU1hbmFnZXJJS2l0IjpbIlpvZVN0b3JhZ2VNYW5hZ2VySUtpdCJdLCJab2VTZXJ2aWNlSSI6WyJab2VTZXJ2aWNlSSJdLCJBZG1pbkZhY2V0SSI6WyJBZG1pbkZhY2V0SSJdLCJTZWF0RGF0YVNoYXBlIjpbIlNlYXREYXRhU2hhcGUiXSwiSGFuZGxlT2ZmZXJJIjpbIkhhbmRsZU9mZmVySSJdLCJQcmljZVF1b3RlU2hhcGUiOlsiUHJpY2VRdW90ZVNoYXBlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAANn0k7SWAQAAlgEAAB4AAABAYWdvcmljL3pvbmUtdjAuMi4yL2R1cmFibGUuanN7ImltcG9ydHMiOlsiLi9zcmMvZHVyYWJsZS5qcyJdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbIi4vc3JjL2R1cmFibGUuanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9zcmMvZHVyYWJsZS5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAiW2D45xEAAOcRAAAiAAAAQGFnb3JpYy96b25lLXYwLjIuMi9zcmMvZHVyYWJsZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGFnb3JpYy92YXQtZGF0YSIsIkBhZ29yaWMvYmFzZS16b25lIl0sImV4cG9ydHMiOlsibWFrZUR1cmFibGVab25lIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgRmFpbCxGYXIsaXNQYXNzYWJsZSxjYW5CZUR1cmFibGUsbWFrZVNjYWxhck1hcFN0b3JlLHByZXBhcmVFeG8scHJlcGFyZUV4b0NsYXNzLHByZXBhcmVFeG9DbGFzc0tpdCxwcm92aWRlRHVyYWJsZU1hcFN0b3JlLHByb3ZpZGVEdXJhYmxlU2V0U3RvcmUscHJvdmlkZUR1cmFibGVXZWFrTWFwU3RvcmUscHJvdmlkZUR1cmFibGVXZWFrU2V0U3RvcmUsd2F0Y2hQcm9taXNlLGtleXMsbWFrZU9uY2VLaXQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dLFtcImlzUGFzc2FibGVcIixbJGjNj19hID0+IChpc1Bhc3NhYmxlID0gJGjNj19hKV1dXV0sW1wiQGFnb3JpYy92YXQtZGF0YVwiLCBbW1wiY2FuQmVEdXJhYmxlXCIsWyRozY9fYSA9PiAoY2FuQmVEdXJhYmxlID0gJGjNj19hKV1dLFtcIm1ha2VTY2FsYXJNYXBTdG9yZVwiLFskaM2PX2EgPT4gKG1ha2VTY2FsYXJNYXBTdG9yZSA9ICRozY9fYSldXSxbXCJwcmVwYXJlRXhvXCIsWyRozY9fYSA9PiAocHJlcGFyZUV4byA9ICRozY9fYSldXSxbXCJwcmVwYXJlRXhvQ2xhc3NcIixbJGjNj19hID0+IChwcmVwYXJlRXhvQ2xhc3MgPSAkaM2PX2EpXV0sW1wicHJlcGFyZUV4b0NsYXNzS2l0XCIsWyRozY9fYSA9PiAocHJlcGFyZUV4b0NsYXNzS2l0ID0gJGjNj19hKV1dLFtcInByb3ZpZGVEdXJhYmxlTWFwU3RvcmVcIixbJGjNj19hID0+IChwcm92aWRlRHVyYWJsZU1hcFN0b3JlID0gJGjNj19hKV1dLFtcInByb3ZpZGVEdXJhYmxlU2V0U3RvcmVcIixbJGjNj19hID0+IChwcm92aWRlRHVyYWJsZVNldFN0b3JlID0gJGjNj19hKV1dLFtcInByb3ZpZGVEdXJhYmxlV2Vha01hcFN0b3JlXCIsWyRozY9fYSA9PiAocHJvdmlkZUR1cmFibGVXZWFrTWFwU3RvcmUgPSAkaM2PX2EpXV0sW1wicHJvdmlkZUR1cmFibGVXZWFrU2V0U3RvcmVcIixbJGjNj19hID0+IChwcm92aWRlRHVyYWJsZVdlYWtTZXRTdG9yZSA9ICRozY9fYSldXSxbXCJ3YXRjaFByb21pc2VcIixbJGjNj19hID0+ICh3YXRjaFByb21pc2UgPSAkaM2PX2EpXV1dXSxbXCJAYWdvcmljL2Jhc2Utem9uZVwiLCBbW1wiYWdvcmljVmF0RGF0YUtleXNcIixbJGjNj19hID0+IChrZXlzID0gJGjNj19hKV1dLFtcIm1ha2VPbmNlS2l0XCIsWyRozY9fYSA9PiAobWFrZU9uY2VLaXQgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cbiAqL1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IGlzU3RvcmFibGUgPSBzcGVjaW1lbiA9PiBpc1Bhc3NhYmxlKHNwZWNpbWVuKSAmJiBjYW5CZUR1cmFibGUoc3BlY2ltZW4pO1xuaGFyZGVuKGlzU3RvcmFibGUpO1xuXG4vKlxuXG4gKi9cbmNvbnN0IGF0dGFjaER1cmFibGVTdG9yZXMgPSBnZXRCYWdnYWdlID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtYXBTdG9yZSA9IChsYWJlbCwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IGJhZ2dhZ2UgPSBnZXRCYWdnYWdlKCk7XG4gICAgY29uc3QgcmV0ID0gcHJvdmlkZUR1cmFibGVNYXBTdG9yZShiYWdnYWdlLCBsYWJlbCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBzZXRTdG9yZSA9IChsYWJlbCwgb3B0aW9ucykgPT5cbiAgICBwcm92aWRlRHVyYWJsZVNldFN0b3JlKGdldEJhZ2dhZ2UoKSwgbGFiZWwsIG9wdGlvbnMpO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB3ZWFrU2V0U3RvcmUgPSAobGFiZWwsIG9wdGlvbnMpID0+XG4gICAgcHJvdmlkZUR1cmFibGVXZWFrU2V0U3RvcmUoZ2V0QmFnZ2FnZSgpLCBsYWJlbCwgb3B0aW9ucyk7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHdlYWtNYXBTdG9yZSA9IChsYWJlbCwgb3B0aW9ucykgPT5cbiAgICBwcm92aWRlRHVyYWJsZVdlYWtNYXBTdG9yZShnZXRCYWdnYWdlKCksIGxhYmVsLCBvcHRpb25zKTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgcmV0dXJuIEZhcignZHVyYWJsZVN0b3JlcycsIHtcbiAgICBkZXRhY2hlZDogKCkgPT4gZGV0YWNoZWREdXJhYmxlU3RvcmVzLFxuICAgIGlzU3RvcmFibGUsXG4gICAgbWFwU3RvcmUsXG4gICAgc2V0U3RvcmUsXG4gICAgd2Vha01hcFN0b3JlLFxuICAgIHdlYWtTZXRTdG9yZSxcbiAgfSk7XG59O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGRldGFjaGVkRHVyYWJsZVN0b3JlcyA9IGF0dGFjaER1cmFibGVTdG9yZXMoKCkgPT5cbiAgbWFrZVNjYWxhck1hcFN0b3JlKCdkZXRhY2hlZCcpLFxuKTtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlRHVyYWJsZVpvbmUgPSAoYmFnZ2FnZSwgYmFzZUxhYmVsID0gJ2R1cmFibGVab25lJykgPT4ge1xuICBiYWdnYWdlIHx8IEZhaWxgYmFnZ2FnZSByZXF1aXJlZGA7XG5cbiAgY29uc3QgYXR0YWNoZWRTdG9yZXMgPSBhdHRhY2hEdXJhYmxlU3RvcmVzKCgpID0+IGJhZ2dhZ2UpO1xuXG4gIGNvbnN0IHsgbWFrZU9uY2UsIHdyYXBQcm92aWRlciB9ID0gbWFrZU9uY2VLaXQoXG4gICAgYmFzZUxhYmVsLFxuICAgIGF0dGFjaGVkU3RvcmVzLFxuICAgIGJhZ2dhZ2UsXG4gICk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBleG9DbGFzcyA9ICguLi5hcmdzKSA9PiBwcmVwYXJlRXhvQ2xhc3MoYmFnZ2FnZSwgLi4uYXJncyk7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLy9cbiAgLy9cbiAgY29uc3QgZXhvQ2xhc3NLaXQgPSAoLi4uYXJncykgPT4gcHJlcGFyZUV4b0NsYXNzS2l0KGJhZ2dhZ2UsIC4uLmFyZ3MpO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBleG8gPSAoLi4uYXJncykgPT4gcHJlcGFyZUV4byhiYWdnYWdlLCAuLi5hcmdzKTtcblxuICBjb25zdCBzdWJab25lU3RvcmUgPSB3cmFwUHJvdmlkZXIoYXR0YWNoZWRTdG9yZXMubWFwU3RvcmUsIGtleXMuem9uZSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHN1YlpvbmUgPSAobGFiZWwsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgY29uc3Qgc3ViQmFnZ2FnZSA9IHN1YlpvbmVTdG9yZShsYWJlbCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG1ha2VEdXJhYmxlWm9uZShzdWJCYWdnYWdlLCBgJHtiYXNlTGFiZWx9LiR7bGFiZWx9YCk7XG4gIH07XG5cbiAgcmV0dXJuIEZhcignZHVyYWJsZVpvbmUnLCB7XG4gICAgZXhvOiB3cmFwUHJvdmlkZXIoZXhvLCBrZXlzLmV4byksXG4gICAgZXhvQ2xhc3M6IHdyYXBQcm92aWRlcihleG9DbGFzcywga2V5cy5leG9DbGFzcyksXG4gICAgZXhvQ2xhc3NLaXQ6IHdyYXBQcm92aWRlcihleG9DbGFzc0tpdCwga2V5cy5leG9DbGFzc0tpdCksXG4gICAgc3ViWm9uZSxcblxuICAgIG1ha2VPbmNlLFxuICAgIHdhdGNoUHJvbWlzZSxcbiAgICBkZXRhY2hlZDogYXR0YWNoZWRTdG9yZXMuZGV0YWNoZWQsXG4gICAgaXNTdG9yYWJsZTogYXR0YWNoZWRTdG9yZXMuaXNTdG9yYWJsZSxcblxuICAgIG1hcFN0b3JlOiB3cmFwUHJvdmlkZXIoYXR0YWNoZWRTdG9yZXMubWFwU3RvcmUsIGtleXMuc3RvcmUpLFxuICAgIHNldFN0b3JlOiB3cmFwUHJvdmlkZXIoYXR0YWNoZWRTdG9yZXMuc2V0U3RvcmUsIGtleXMuc3RvcmUpLFxuICAgIHdlYWtNYXBTdG9yZTogd3JhcFByb3ZpZGVyKGF0dGFjaGVkU3RvcmVzLndlYWtNYXBTdG9yZSwga2V5cy5zdG9yZSksXG4gICAgd2Vha1NldFN0b3JlOiB3cmFwUHJvdmlkZXIoYXR0YWNoZWRTdG9yZXMud2Vha1NldFN0b3JlLCBrZXlzLnN0b3JlKSxcbiAgfSk7XG59OyRozY9fb25jZS5tYWtlRHVyYWJsZVpvbmUobWFrZUR1cmFibGVab25lKTtcbmhhcmRlbihtYWtlRHVyYWJsZVpvbmUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZUR1cmFibGVab25lIjpbIm1ha2VEdXJhYmxlWm9uZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAATnNb7swQAALMEAAAnAAAAQGNvc21qcy9lbmNvZGluZy12MC4zMi40L2J1aWxkL2FzY2lpLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJfX2VzTW9kdWxlIiwiZnJvbUFzY2lpIiwidG9Bc2NpaSIsImRlZmF1bHQiXSwicmVleHBvcnRzIjpbXSwic291cmNlIjoiKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIF9fZmlsZW5hbWUsIF9fZGlybmFtZSkgeyAndXNlIHN0cmljdCc7IFwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mcm9tQXNjaWkgPSBleHBvcnRzLnRvQXNjaWkgPSB2b2lkIDA7XG5mdW5jdGlvbiB0b0FzY2lpKGlucHV0KSB7XG4gICAgY29uc3QgdG9OdW1zID0gKHN0cikgPT4gc3RyLnNwbGl0KFwiXCIpLm1hcCgoeCkgPT4ge1xuICAgICAgICBjb25zdCBjaGFyQ29kZSA9IHguY2hhckNvZGVBdCgwKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKGNoYXJDb2RlIDwgMHgyMCB8fCBjaGFyQ29kZSA+IDB4N2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlbmNvZGUgY2hhcmFjdGVyIHRoYXQgaXMgb3V0IG9mIHByaW50YWJsZSBBU0NJSSByYW5nZTogXCIgKyBjaGFyQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYXJDb2RlO1xuICAgIH0pO1xuICAgIHJldHVybiBVaW50OEFycmF5LmZyb20odG9OdW1zKGlucHV0KSk7XG59XG5leHBvcnRzLnRvQXNjaWkgPSB0b0FzY2lpO1xuZnVuY3Rpb24gZnJvbUFzY2lpKGRhdGEpIHtcbiAgICBjb25zdCBmcm9tTnVtcyA9IChsaXN0T2ZOdW1iZXJzKSA9PiBsaXN0T2ZOdW1iZXJzLm1hcCgoeCkgPT4ge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBpZiAoeCA8IDB4MjAgfHwgeCA+IDB4N2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBkZWNvZGUgY2hhcmFjdGVyIHRoYXQgaXMgb3V0IG9mIHByaW50YWJsZSBBU0NJSSByYW5nZTogXCIgKyB4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh4KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJvbU51bXMoQXJyYXkuZnJvbShkYXRhKSkuam9pbihcIlwiKTtcbn1cbmV4cG9ydHMuZnJvbUFzY2lpID0gZnJvbUFzY2lpO1xuLy8gLy8qL1xufSlcbiJ9UEsDBAoAAAAAAAAAAABKhcKaAwcAAAMHAAAoAAAAQGNvc21qcy9lbmNvZGluZy12MC4zMi40L2J1aWxkL2Jhc2U2NC5qc3siaW1wb3J0cyI6WyJiYXNlNjQtanMiXSwiZXhwb3J0cyI6WyJfX2VzTW9kdWxlIiwiZnJvbUJhc2U2NCIsInRvQmFzZTY0IiwiZGVmYXVsdCJdLCJyZWV4cG9ydHMiOltdLCJzb3VyY2UiOiIoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSwgX19maWxlbmFtZSwgX19kaXJuYW1lKSB7ICd1c2Ugc3RyaWN0JzsgXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZnJvbUJhc2U2NCA9IGV4cG9ydHMudG9CYXNlNjQgPSB2b2lkIDA7XG5jb25zdCBiYXNlNjRqcyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiYmFzZTY0LWpzXCIpKTtcbmZ1bmN0aW9uIHRvQmFzZTY0KGRhdGEpIHtcbiAgICByZXR1cm4gYmFzZTY0anMuZnJvbUJ5dGVBcnJheShkYXRhKTtcbn1cbmV4cG9ydHMudG9CYXNlNjQgPSB0b0Jhc2U2NDtcbmZ1bmN0aW9uIGZyb21CYXNlNjQoYmFzZTY0U3RyaW5nKSB7XG4gICAgaWYgKCFiYXNlNjRTdHJpbmcubWF0Y2goL15bYS16QS1aMC05Ky9dKj17MCwyfSQvKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGJhc2U2NCBzdHJpbmcgZm9ybWF0XCIpO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZTY0anMudG9CeXRlQXJyYXkoYmFzZTY0U3RyaW5nKTtcbn1cbmV4cG9ydHMuZnJvbUJhc2U2NCA9IGZyb21CYXNlNjQ7XG4vLyAvLyovXG59KVxuIn1QSwMECgAAAAAAAAAAAC7A2RJGCAAARggAACgAAABAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQvYnVpbGQvYmVjaDMyLmpzeyJpbXBvcnRzIjpbImJlY2gzMiJdLCJleHBvcnRzIjpbIl9fZXNNb2R1bGUiLCJub3JtYWxpemVCZWNoMzIiLCJmcm9tQmVjaDMyIiwidG9CZWNoMzIiLCJkZWZhdWx0Il0sInJlZXhwb3J0cyI6W10sInNvdXJjZSI6IihmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlLCBfX2ZpbGVuYW1lLCBfX2Rpcm5hbWUpIHsgJ3VzZSBzdHJpY3QnOyBcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ub3JtYWxpemVCZWNoMzIgPSBleHBvcnRzLmZyb21CZWNoMzIgPSBleHBvcnRzLnRvQmVjaDMyID0gdm9pZCAwO1xuY29uc3QgYmVjaDMyID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJiZWNoMzJcIikpO1xuZnVuY3Rpb24gdG9CZWNoMzIocHJlZml4LCBkYXRhLCBsaW1pdCkge1xuICAgIGNvbnN0IGFkZHJlc3MgPSBiZWNoMzIuZW5jb2RlKHByZWZpeCwgYmVjaDMyLnRvV29yZHMoZGF0YSksIGxpbWl0KTtcbiAgICByZXR1cm4gYWRkcmVzcztcbn1cbmV4cG9ydHMudG9CZWNoMzIgPSB0b0JlY2gzMjtcbmZ1bmN0aW9uIGZyb21CZWNoMzIoYWRkcmVzcywgbGltaXQgPSBJbmZpbml0eSkge1xuICAgIGNvbnN0IGRlY29kZWRBZGRyZXNzID0gYmVjaDMyLmRlY29kZShhZGRyZXNzLCBsaW1pdCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJlZml4OiBkZWNvZGVkQWRkcmVzcy5wcmVmaXgsXG4gICAgICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KGJlY2gzMi5mcm9tV29yZHMoZGVjb2RlZEFkZHJlc3Mud29yZHMpKSxcbiAgICB9O1xufVxuZXhwb3J0cy5mcm9tQmVjaDMyID0gZnJvbUJlY2gzMjtcbi8qXG5cblxuXG5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplQmVjaDMyKGFkZHJlc3MpIHtcbiAgICBjb25zdCB7IHByZWZpeCwgZGF0YSB9ID0gZnJvbUJlY2gzMihhZGRyZXNzKTtcbiAgICByZXR1cm4gdG9CZWNoMzIocHJlZml4LCBkYXRhKTtcbn1cbmV4cG9ydHMubm9ybWFsaXplQmVjaDMyID0gbm9ybWFsaXplQmVjaDMyO1xuLy8gLy8qL1xufSlcbiJ9UEsDBAoAAAAAAAAAAACzzEL4LwQAAC8EAAAlAAAAQGNvc21qcy9lbmNvZGluZy12MC4zMi40L2J1aWxkL2hleC5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiX19lc01vZHVsZSIsImZyb21IZXgiLCJ0b0hleCIsImRlZmF1bHQiXSwicmVleHBvcnRzIjpbXSwic291cmNlIjoiKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIF9fZmlsZW5hbWUsIF9fZGlybmFtZSkgeyAndXNlIHN0cmljdCc7IFwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mcm9tSGV4ID0gZXhwb3J0cy50b0hleCA9IHZvaWQgMDtcbmZ1bmN0aW9uIHRvSGV4KGRhdGEpIHtcbiAgICBsZXQgb3V0ID0gXCJcIjtcbiAgICBmb3IgKGNvbnN0IGJ5dGUgb2YgZGF0YSkge1xuICAgICAgICBvdXQgKz0gKFwiMFwiICsgYnl0ZS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMudG9IZXggPSB0b0hleDtcbmZ1bmN0aW9uIGZyb21IZXgoaGV4c3RyaW5nKSB7XG4gICAgaWYgKGhleHN0cmluZy5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgbGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAyXCIpO1xuICAgIH1cbiAgICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShoZXhzdHJpbmcubGVuZ3RoIC8gMik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaiA9IDIgKiBpO1xuICAgICAgICBjb25zdCBoZXhCeXRlQXNTdHJpbmcgPSBoZXhzdHJpbmcuc2xpY2UoaiwgaiArIDIpO1xuICAgICAgICBpZiAoIWhleEJ5dGVBc1N0cmluZy5tYXRjaCgvWzAtOWEtZl17Mn0vaSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzXCIpO1xuICAgICAgICB9XG4gICAgICAgIG91dFtpXSA9IHBhcnNlSW50KGhleEJ5dGVBc1N0cmluZywgMTYpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5mcm9tSGV4ID0gZnJvbUhleDtcbi8vIC8vKi9cbn0pXG4ifVBLAwQKAAAAAAAAAAAA7+Tlcq4JAACuCQAAJwAAAEBjb3NtanMvZW5jb2RpbmctdjAuMzIuNC9idWlsZC9pbmRleC5qc3siaW1wb3J0cyI6WyIuL2FzY2lpIiwiLi9iYXNlNjQiLCIuL2JlY2gzMiIsIi4vaGV4IiwiLi9yZmMzMzM5IiwiLi91dGY4Il0sImV4cG9ydHMiOlsiX19lc01vZHVsZSIsInRvVXRmOCIsImZyb21VdGY4IiwidG9SZmMzMzM5IiwiZnJvbVJmYzMzMzkiLCJ0b0hleCIsImZyb21IZXgiLCJ0b0JlY2gzMiIsIm5vcm1hbGl6ZUJlY2gzMiIsImZyb21CZWNoMzIiLCJ0b0Jhc2U2NCIsImZyb21CYXNlNjQiLCJ0b0FzY2lpIiwiZnJvbUFzY2lpIiwiZGVmYXVsdCJdLCJyZWV4cG9ydHMiOltdLCJzb3VyY2UiOiIoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSwgX19maWxlbmFtZSwgX19kaXJuYW1lKSB7ICd1c2Ugc3RyaWN0JzsgXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRvVXRmOCA9IGV4cG9ydHMuZnJvbVV0ZjggPSBleHBvcnRzLnRvUmZjMzMzOSA9IGV4cG9ydHMuZnJvbVJmYzMzMzkgPSBleHBvcnRzLnRvSGV4ID0gZXhwb3J0cy5mcm9tSGV4ID0gZXhwb3J0cy50b0JlY2gzMiA9IGV4cG9ydHMubm9ybWFsaXplQmVjaDMyID0gZXhwb3J0cy5mcm9tQmVjaDMyID0gZXhwb3J0cy50b0Jhc2U2NCA9IGV4cG9ydHMuZnJvbUJhc2U2NCA9IGV4cG9ydHMudG9Bc2NpaSA9IGV4cG9ydHMuZnJvbUFzY2lpID0gdm9pZCAwO1xudmFyIGFzY2lpXzEgPSByZXF1aXJlKFwiLi9hc2NpaVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImZyb21Bc2NpaVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYXNjaWlfMS5mcm9tQXNjaWk7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0b0FzY2lpXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhc2NpaV8xLnRvQXNjaWk7IH0gfSk7XG52YXIgYmFzZTY0XzEgPSByZXF1aXJlKFwiLi9iYXNlNjRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmcm9tQmFzZTY0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBiYXNlNjRfMS5mcm9tQmFzZTY0OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidG9CYXNlNjRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJhc2U2NF8xLnRvQmFzZTY0OyB9IH0pO1xudmFyIGJlY2gzMl8xID0gcmVxdWlyZShcIi4vYmVjaDMyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZnJvbUJlY2gzMlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYmVjaDMyXzEuZnJvbUJlY2gzMjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm5vcm1hbGl6ZUJlY2gzMlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYmVjaDMyXzEubm9ybWFsaXplQmVjaDMyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidG9CZWNoMzJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJlY2gzMl8xLnRvQmVjaDMyOyB9IH0pO1xudmFyIGhleF8xID0gcmVxdWlyZShcIi4vaGV4XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZnJvbUhleFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaGV4XzEuZnJvbUhleDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRvSGV4XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBoZXhfMS50b0hleDsgfSB9KTtcbnZhciByZmMzMzM5XzEgPSByZXF1aXJlKFwiLi9yZmMzMzM5XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZnJvbVJmYzMzMzlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJmYzMzMzlfMS5mcm9tUmZjMzMzOTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRvUmZjMzMzOVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmZjMzMzOV8xLnRvUmZjMzMzOTsgfSB9KTtcbnZhciB1dGY4XzEgPSByZXF1aXJlKFwiLi91dGY4XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZnJvbVV0ZjhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHV0ZjhfMS5mcm9tVXRmODsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRvVXRmOFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRmOF8xLnRvVXRmODsgfSB9KTtcbi8vIC8vKi9cbn0pXG4ifVBLAwQKAAAAAAAAAAAA5+djmo4IAACOCAAAKQAAAEBjb3NtanMvZW5jb2RpbmctdjAuMzIuNC9idWlsZC9yZmMzMzM5LmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJfX2VzTW9kdWxlIiwidG9SZmMzMzM5IiwiZnJvbVJmYzMzMzkiLCJkZWZhdWx0Il0sInJlZXhwb3J0cyI6W10sInNvdXJjZSI6IihmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlLCBfX2ZpbGVuYW1lLCBfX2Rpcm5hbWUpIHsgJ3VzZSBzdHJpY3QnOyBcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudG9SZmMzMzM5ID0gZXhwb3J0cy5mcm9tUmZjMzMzOSA9IHZvaWQgMDtcbmNvbnN0IHJmYzMzMzlNYXRjaGVyID0gL14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KVtUIF0oXFxkezJ9KTooXFxkezJ9KTooXFxkezJ9KShcXC5cXGR7MSw5fSk/KCg/OlsrLV1cXGR7Mn06XFxkezJ9KXxaKSQvO1xuZnVuY3Rpb24gcGFkZGVkKGludGVnZXIsIGxlbmd0aCA9IDIpIHtcbiAgICByZXR1cm4gaW50ZWdlci50b1N0cmluZygpLnBhZFN0YXJ0KGxlbmd0aCwgXCIwXCIpO1xufVxuZnVuY3Rpb24gZnJvbVJmYzMzMzkoc3RyKSB7XG4gICAgY29uc3QgbWF0Y2hlcyA9IHJmYzMzMzlNYXRjaGVyLmV4ZWMoc3RyKTtcbiAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGF0ZSBzdHJpbmcgaXMgbm90IGluIFJGQzMzMzkgZm9ybWF0XCIpO1xuICAgIH1cbiAgICBjb25zdCB5ZWFyID0gK21hdGNoZXNbMV07XG4gICAgY29uc3QgbW9udGggPSArbWF0Y2hlc1syXTtcbiAgICBjb25zdCBkYXkgPSArbWF0Y2hlc1szXTtcbiAgICBjb25zdCBob3VyID0gK21hdGNoZXNbNF07XG4gICAgY29uc3QgbWludXRlID0gK21hdGNoZXNbNV07XG4gICAgY29uc3Qgc2Vjb25kID0gK21hdGNoZXNbNl07XG4gICAgLy9cbiAgICBjb25zdCBtaWxsaVNlY29uZHMgPSBtYXRjaGVzWzddID8gTWF0aC5mbG9vcigrbWF0Y2hlc1s3XSAqIDEwMDApIDogMDtcbiAgICBsZXQgdHpPZmZzZXRTaWduO1xuICAgIGxldCB0ek9mZnNldEhvdXJzO1xuICAgIGxldCB0ek9mZnNldE1pbnV0ZXM7XG4gICAgLy9cbiAgICBpZiAobWF0Y2hlc1s4XSA9PT0gXCJaXCIpIHtcbiAgICAgICAgdHpPZmZzZXRTaWduID0gMTtcbiAgICAgICAgdHpPZmZzZXRIb3VycyA9IDA7XG4gICAgICAgIHR6T2Zmc2V0TWludXRlcyA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0ek9mZnNldFNpZ24gPSBtYXRjaGVzWzhdLnN1YnN0cmluZygwLCAxKSA9PT0gXCItXCIgPyAtMSA6IDE7XG4gICAgICAgIHR6T2Zmc2V0SG91cnMgPSArbWF0Y2hlc1s4XS5zdWJzdHJpbmcoMSwgMyk7XG4gICAgICAgIHR6T2Zmc2V0TWludXRlcyA9ICttYXRjaGVzWzhdLnN1YnN0cmluZyg0LCA2KTtcbiAgICB9XG4gICAgY29uc3QgdHpPZmZzZXQgPSB0ek9mZnNldFNpZ24gKiAodHpPZmZzZXRIb3VycyAqIDYwICsgdHpPZmZzZXRNaW51dGVzKSAqIDYwOyAvL1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeWVhciwgbW9udGggLSAxLCBkYXkpO1xuICAgIGRhdGUuc2V0VVRDSG91cnMoaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpU2Vjb25kcyk7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpIC0gdHpPZmZzZXQgKiAxMDAwKTtcbn1cbmV4cG9ydHMuZnJvbVJmYzMzMzkgPSBmcm9tUmZjMzMzOTtcbmZ1bmN0aW9uIHRvUmZjMzMzOShkYXRlKSB7XG4gICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKTtcbiAgICBjb25zdCBtb250aCA9IHBhZGRlZChkYXRlLmdldFVUQ01vbnRoKCkgKyAxKTtcbiAgICBjb25zdCBkYXkgPSBwYWRkZWQoZGF0ZS5nZXRVVENEYXRlKCkpO1xuICAgIGNvbnN0IGhvdXIgPSBwYWRkZWQoZGF0ZS5nZXRVVENIb3VycygpKTtcbiAgICBjb25zdCBtaW51dGUgPSBwYWRkZWQoZGF0ZS5nZXRVVENNaW51dGVzKCkpO1xuICAgIGNvbnN0IHNlY29uZCA9IHBhZGRlZChkYXRlLmdldFVUQ1NlY29uZHMoKSk7XG4gICAgY29uc3QgbXMgPSBwYWRkZWQoZGF0ZS5nZXRVVENNaWxsaXNlY29uZHMoKSwgMyk7XG4gICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fVQke2hvdXJ9OiR7bWludXRlfToke3NlY29uZH0uJHttc31aYDtcbn1cbmV4cG9ydHMudG9SZmMzMzM5ID0gdG9SZmMzMzM5O1xuLy8gLy8qL1xufSlcbiJ9UEsDBAoAAAAAAAAAAABI5L9OUgIAAFICAAAmAAAAQGNvc21qcy9lbmNvZGluZy12MC4zMi40L2J1aWxkL3V0ZjguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIl9fZXNNb2R1bGUiLCJmcm9tVXRmOCIsInRvVXRmOCIsImRlZmF1bHQiXSwicmVleHBvcnRzIjpbXSwic291cmNlIjoiKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIF9fZmlsZW5hbWUsIF9fZGlybmFtZSkgeyAndXNlIHN0cmljdCc7IFwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mcm9tVXRmOCA9IGV4cG9ydHMudG9VdGY4ID0gdm9pZCAwO1xuZnVuY3Rpb24gdG9VdGY4KHN0cikge1xuICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoc3RyKTtcbn1cbmV4cG9ydHMudG9VdGY4ID0gdG9VdGY4O1xuLypcblxuXG5cblxuXG4gKi9cbmZ1bmN0aW9uIGZyb21VdGY4KGRhdGEsIGxvc3N5ID0gZmFsc2UpIHtcbiAgICBjb25zdCBmYXRhbCA9ICFsb3NzeTtcbiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIiwgeyBmYXRhbCB9KS5kZWNvZGUoZGF0YSk7XG59XG5leHBvcnRzLmZyb21VdGY4ID0gZnJvbVV0Zjg7XG4vLyAvLyovXG59KVxuIn1QSwMECgAAAAAAAAAAADjUnGd1AgAAdQIAABsAAABAZW5kby9iYXNlNjQtdjEuMC45L2F0b2IuanN7ImltcG9ydHMiOlsiLi9kZWNvZGUuanMiXSwiZXhwb3J0cyI6WyJhdG9iIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZGVjb2RlQmFzZTY0OyRozY9faW1wb3J0cyhbW1wiLi9kZWNvZGUuanNcIiwgW1tcImRlY29kZUJhc2U2NFwiLFskaM2PX2EgPT4gKGRlY29kZUJhc2U2NCA9ICRozY9fYSldXV1dXSk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgYXRvYiA9IGVuY29kZWREYXRhID0+IHtcbiAgY29uc3QgYnVmID0gZGVjb2RlQmFzZTY0KGVuY29kZWREYXRhKTtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoLi4uYnVmKTtcbn07JGjNj19vbmNlLmF0b2IoYXRvYik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJhdG9iIjpbImF0b2IiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAksKTjzQDAAA0AwAAGwAAAEBlbmRvL2Jhc2U2NC12MS4wLjkvYnRvYS5qc3siaW1wb3J0cyI6WyIuL2VuY29kZS5qcyJdLCJleHBvcnRzIjpbImJ0b2EiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBlbmNvZGVCYXNlNjQ7JGjNj19pbXBvcnRzKFtbXCIuL2VuY29kZS5qc1wiLCBbW1wiZW5jb2RlQmFzZTY0XCIsWyRozY9fYSA9PiAoZW5jb2RlQmFzZTY0ID0gJGjNj19hKV1dXV1dKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBidG9hID0gc3RyaW5nVG9FbmNvZGUgPT4ge1xuICBjb25zdCBieXRlcyA9IHN0cmluZ1RvRW5jb2RlLnNwbGl0KCcnKS5tYXAoY2hhciA9PiB7XG4gICAgY29uc3QgYiA9IGNoYXIuY2hhckNvZGVBdCgwKTtcbiAgICBpZiAoYiA+IDB4ZmYpIHtcbiAgICAgIHRocm93IEVycm9yKGBidG9hOiBjaGFyYWN0ZXIgb3V0IG9mIHJhbmdlOiAke2NoYXJ9YCk7XG4gICAgfVxuICAgIHJldHVybiBiO1xuICB9KTtcbiAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZXMpO1xuICByZXR1cm4gZW5jb2RlQmFzZTY0KGJ1Zik7XG59OyRozY9fb25jZS5idG9hKGJ0b2EpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiYnRvYSI6WyJidG9hIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAAR7dn+5AQAAuQEAAB0AAABAZW5kby9iYXNlNjQtdjEuMC45L2RlY29kZS5qc3siaW1wb3J0cyI6WyIuL3NyYy9kZWNvZGUuanMiXSwiZXhwb3J0cyI6W251bGxdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL3NyYy9kZWNvZGUuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL3NyYy9kZWNvZGUuanMiOltbImRlY29kZUJhc2U2NCIsImRlY29kZUJhc2U2NCJdXX0sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAoValSLkBAAC5AQAAHQAAAEBlbmRvL2Jhc2U2NC12MS4wLjkvZW5jb2RlLmpzeyJpbXBvcnRzIjpbIi4vc3JjL2VuY29kZS5qcyJdLCJleHBvcnRzIjpbbnVsbF0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vc3JjL2VuY29kZS5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7Ii4vc3JjL2VuY29kZS5qcyI6W1siZW5jb2RlQmFzZTY0IiwiZW5jb2RlQmFzZTY0Il1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAa++pXpAIAAKQCAAAcAAAAQGVuZG8vYmFzZTY0LXYxLjAuOS9pbmRleC5qc3siaW1wb3J0cyI6WyIuL3NyYy9lbmNvZGUuanMiLCIuL3NyYy9kZWNvZGUuanMiLCIuL2J0b2EuanMiLCIuL2F0b2IuanMiXSwiZXhwb3J0cyI6W251bGwsbnVsbCxudWxsLG51bGxdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL3NyYy9lbmNvZGUuanNcIiwgW11dLFtcIi4vc3JjL2RlY29kZS5qc1wiLCBbXV0sW1wiLi9idG9hLmpzXCIsIFtdXSxbXCIuL2F0b2IuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL3NyYy9lbmNvZGUuanMiOltbImVuY29kZUJhc2U2NCIsImVuY29kZUJhc2U2NCJdXSwiLi9zcmMvZGVjb2RlLmpzIjpbWyJkZWNvZGVCYXNlNjQiLCJkZWNvZGVCYXNlNjQiXV0sIi4vYnRvYS5qcyI6W1siYnRvYSIsImJ0b2EiXV0sIi4vYXRvYi5qcyI6W1siYXRvYiIsImF0b2IiXV19LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAB+XnPU3AwAANwMAACEAAABAZW5kby9iYXNlNjQtdjEuMC45L3NyYy9jb21tb24uanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImFscGhhYmV0NjQiLCJtb25vZHU2NCIsInBhZGRpbmciXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7Ly9cblxuICAgICAgIGNvbnN0IHBhZGRpbmcgPSAnPSc7JGjNj19vbmNlLnBhZGRpbmcocGFkZGluZyk7XG5cbiAgICAgICBjb25zdCBhbHBoYWJldDY0ID1cbiAgJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuXG4vKlxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5hbHBoYWJldDY0KGFscGhhYmV0NjQpO1xuICAgICAgIGNvbnN0IG1vbm9kdTY0ID0ge307JGjNj19vbmNlLm1vbm9kdTY0KG1vbm9kdTY0KTtcbmZvciAobGV0IGkgPSAwOyBpIDwgYWxwaGFiZXQ2NC5sZW5ndGg7IGkgKz0gMSkge1xuICBjb25zdCBjID0gYWxwaGFiZXQ2NFtpXTtcbiAgbW9ub2R1NjRbY10gPSBpO1xufVxufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicGFkZGluZyI6WyJwYWRkaW5nIl0sImFscGhhYmV0NjQiOlsiYWxwaGFiZXQ2NCJdLCJtb25vZHU2NCI6WyJtb25vZHU2NCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADywE7BkggAAJIIAAAhAAAAQGVuZG8vYmFzZTY0LXYxLjAuOS9zcmMvZGVjb2RlLmpzeyJpbXBvcnRzIjpbIi4vY29tbW9uLmpzIl0sImV4cG9ydHMiOlsiZGVjb2RlQmFzZTY0IiwianNEZWNvZGVCYXNlNjQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBtb25vZHU2NCxwYWRkaW5nOyRozY9faW1wb3J0cyhbW1wiLi9jb21tb24uanNcIiwgW1tcIm1vbm9kdTY0XCIsWyRozY9fYSA9PiAobW9ub2R1NjQgPSAkaM2PX2EpXV0sW1wicGFkZGluZ1wiLFskaM2PX2EgPT4gKHBhZGRpbmcgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBqc0RlY29kZUJhc2U2NCA9IChzdHJpbmcsIG5hbWUgPSAnPHVua25vd24+JykgPT4ge1xuICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKChzdHJpbmcubGVuZ3RoICogNCkgLyAzKSk7XG4gIGxldCByZWdpc3RlciA9IDA7XG4gIGxldCBxdWFudHVtID0gMDtcbiAgbGV0IGkgPSAwOyAvL1xuICBsZXQgaiA9IDA7IC8vXG5cbiAgd2hpbGUgKGkgPCBzdHJpbmcubGVuZ3RoICYmIHN0cmluZ1tpXSAhPT0gcGFkZGluZykge1xuICAgIGNvbnN0IG51bWJlciA9IG1vbm9kdTY0W3N0cmluZ1tpXV07XG4gICAgaWYgKG51bWJlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBFcnJvcihgSW52YWxpZCBiYXNlNjQgY2hhcmFjdGVyICR7c3RyaW5nW2ldfSBpbiBzdHJpbmcgJHtuYW1lfWApO1xuICAgIH1cbiAgICByZWdpc3RlciA9IChyZWdpc3RlciA8PCA2KSB8IG51bWJlcjtcbiAgICBxdWFudHVtICs9IDY7XG4gICAgaWYgKHF1YW50dW0gPj0gOCkge1xuICAgICAgcXVhbnR1bSAtPSA4O1xuICAgICAgZGF0YVtqXSA9IHJlZ2lzdGVyID4+PiBxdWFudHVtO1xuICAgICAgaiArPSAxO1xuICAgICAgcmVnaXN0ZXIgJj0gKDEgPDwgcXVhbnR1bSkgLSAxO1xuICAgIH1cbiAgICBpICs9IDE7XG4gIH1cblxuICB3aGlsZSAocXVhbnR1bSA+IDApIHtcbiAgICBpZiAoaSA9PT0gc3RyaW5nLmxlbmd0aCB8fCBzdHJpbmdbaV0gIT09IHBhZGRpbmcpIHtcbiAgICAgIHRocm93IEVycm9yKGBNaXNzaW5nIHBhZGRpbmcgYXQgb2Zmc2V0ICR7aX0gb2Ygc3RyaW5nICR7bmFtZX1gKTtcbiAgICB9XG4gICAgLy9cbiAgICAvL1xuICAgIGkgKz0gMTtcbiAgICBxdWFudHVtIC09IDI7XG4gIH1cblxuICBpZiAoaSA8IHN0cmluZy5sZW5ndGgpIHtcbiAgICB0aHJvdyBFcnJvcihcbiAgICAgIGBCYXNlNjQgc3RyaW5nIGhhcyB0cmFpbGluZyBnYXJiYWdlICR7c3RyaW5nLnN1YnN0cihcbiAgICAgICAgaSxcbiAgICAgICl9IGluIHN0cmluZyAke25hbWV9YCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEuc3ViYXJyYXkoMCwgaik7XG59O1xuXG4vL1xuLy9cbiRozY9fb25jZS5qc0RlY29kZUJhc2U2NChqc0RlY29kZUJhc2U2NCk7Y29uc3QgYWRhcHREZWNvZGVyPVxuICBuYXRpdmVEZWNvZGVCYXNlNjQgPT5cbiAgKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBkZWNvZGVkID0gbmF0aXZlRGVjb2RlQmFzZTY0KC4uLmFyZ3MpO1xuICAgIGlmIChkZWNvZGVkIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgcmV0dXJuIGRlY29kZWQ7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVWludDhBcnJheShkZWNvZGVkKTtcbiAgfTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgZGVjb2RlQmFzZTY0ID1cbiAgZ2xvYmFsVGhpcy5CYXNlNjQgIT09IHVuZGVmaW5lZFxuICAgID8gYWRhcHREZWNvZGVyKGdsb2JhbFRoaXMuQmFzZTY0LmRlY29kZSlcbiAgICA6IGpzRGVjb2RlQmFzZTY0OyRozY9fb25jZS5kZWNvZGVCYXNlNjQoZGVjb2RlQmFzZTY0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImpzRGVjb2RlQmFzZTY0IjpbImpzRGVjb2RlQmFzZTY0Il0sImRlY29kZUJhc2U2NCI6WyJkZWNvZGVCYXNlNjQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAjxNDN2sHAABrBwAAIQAAAEBlbmRvL2Jhc2U2NC12MS4wLjkvc3JjL2VuY29kZS5qc3siaW1wb3J0cyI6WyIuL2NvbW1vbi5qcyJdLCJleHBvcnRzIjpbImVuY29kZUJhc2U2NCIsImpzRW5jb2RlQmFzZTY0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgYWxwaGFiZXQ2NCxwYWRkaW5nOyRozY9faW1wb3J0cyhbW1wiLi9jb21tb24uanNcIiwgW1tcImFscGhhYmV0NjRcIixbJGjNj19hID0+IChhbHBoYWJldDY0ID0gJGjNj19hKV1dLFtcInBhZGRpbmdcIixbJGjNj19hID0+IChwYWRkaW5nID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBqc0VuY29kZUJhc2U2NCA9IGRhdGEgPT4ge1xuICAvL1xuICAvL1xuICAvL1xuICBsZXQgc3RyaW5nID0gJyc7XG4gIGxldCByZWdpc3RlciA9IDA7XG4gIGxldCBxdWFudHVtID0gMDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBiID0gZGF0YVtpXTtcbiAgICByZWdpc3RlciA9IChyZWdpc3RlciA8PCA4KSB8IGI7XG4gICAgcXVhbnR1bSArPSA4O1xuICAgIGlmIChxdWFudHVtID09PSAyNCkge1xuICAgICAgc3RyaW5nICs9XG4gICAgICAgIGFscGhhYmV0NjRbKHJlZ2lzdGVyID4+PiAxOCkgJiAweDNmXSArXG4gICAgICAgIGFscGhhYmV0NjRbKHJlZ2lzdGVyID4+PiAxMikgJiAweDNmXSArXG4gICAgICAgIGFscGhhYmV0NjRbKHJlZ2lzdGVyID4+PiA2KSAmIDB4M2ZdICtcbiAgICAgICAgYWxwaGFiZXQ2NFsocmVnaXN0ZXIgPj4+IDApICYgMHgzZl07XG4gICAgICByZWdpc3RlciA9IDA7XG4gICAgICBxdWFudHVtID0gMDtcbiAgICB9XG4gIH1cblxuICBzd2l0Y2ggKHF1YW50dW0pIHtcbiAgICBjYXNlIDA6XG4gICAgICBicmVhaztcbiAgICBjYXNlIDg6XG4gICAgICBzdHJpbmcgKz1cbiAgICAgICAgYWxwaGFiZXQ2NFsocmVnaXN0ZXIgPj4+IDIpICYgMHgzZl0gK1xuICAgICAgICBhbHBoYWJldDY0WyhyZWdpc3RlciA8PCA0KSAmIDB4M2ZdICtcbiAgICAgICAgcGFkZGluZyArXG4gICAgICAgIHBhZGRpbmc7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDE2OlxuICAgICAgc3RyaW5nICs9XG4gICAgICAgIGFscGhhYmV0NjRbKHJlZ2lzdGVyID4+PiAxMCkgJiAweDNmXSArXG4gICAgICAgIGFscGhhYmV0NjRbKHJlZ2lzdGVyID4+PiA0KSAmIDB4M2ZdICtcbiAgICAgICAgYWxwaGFiZXQ2NFsocmVnaXN0ZXIgPDwgMikgJiAweDNmXSArXG4gICAgICAgIHBhZGRpbmc7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgRXJyb3IoYGludGVybmFsOiBiYWQgcXVhbnR1bSAke3F1YW50dW19YCk7XG4gIH1cbiAgcmV0dXJuIHN0cmluZztcbn07XG5cbi8qXG5cblxuXG5cbiAqLyRozY9fb25jZS5qc0VuY29kZUJhc2U2NChqc0VuY29kZUJhc2U2NCk7XG4gICAgICAgY29uc3QgZW5jb2RlQmFzZTY0ID1cbiAgZ2xvYmFsVGhpcy5CYXNlNjQgIT09IHVuZGVmaW5lZCA/IGdsb2JhbFRoaXMuQmFzZTY0LmVuY29kZSA6IGpzRW5jb2RlQmFzZTY0OyRozY9fb25jZS5lbmNvZGVCYXNlNjQoZW5jb2RlQmFzZTY0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImpzRW5jb2RlQmFzZTY0IjpbImpzRW5jb2RlQmFzZTY0Il0sImVuY29kZUJhc2U2NCI6WyJlbmNvZGVCYXNlNjQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA6MeBezAFAAAwBQAALAAAAEBlbmRvL2NvbW1vbi12MS4yLjEwL2FwcGx5LWxhYmVsaW5nLWVycm9yLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2V2ZW50dWFsLXNlbmQiLCJAZW5kby9wcm9taXNlLWtpdCIsIi4vdGhyb3ctbGFiZWxlZC5qcyJdLCJleHBvcnRzIjpbImFwcGx5TGFiZWxpbmdFcnJvciJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEUsaXNQcm9taXNlLHRocm93TGFiZWxlZDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2V2ZW50dWFsLXNlbmRcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcHJvbWlzZS1raXRcIiwgW1tcImlzUHJvbWlzZVwiLFskaM2PX2EgPT4gKGlzUHJvbWlzZSA9ICRozY9fYSldXV1dLFtcIi4vdGhyb3ctbGFiZWxlZC5qc1wiLCBbW1widGhyb3dMYWJlbGVkXCIsWyRozY9fYSA9PiAodGhyb3dMYWJlbGVkID0gJGjNj19hKV1dXV1dKTtcblxuXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFwcGx5TGFiZWxpbmdFcnJvciA9IChmdW5jLCBhcmdzLCBsYWJlbCA9IHVuZGVmaW5lZCkgPT4ge1xuICBpZiAobGFiZWwgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmdW5jKC4uLmFyZ3MpO1xuICB9XG4gIGxldCByZXN1bHQ7XG4gIHRyeSB7XG4gICAgcmVzdWx0ID0gZnVuYyguLi5hcmdzKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3dMYWJlbGVkKGVyciwgbGFiZWwpO1xuICB9XG4gIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIHJldHVybiBFLndoZW4ocmVzdWx0LCB1bmRlZmluZWQsIHJlYXNvbiA9PiB0aHJvd0xhYmVsZWQocmVhc29uLCBsYWJlbCkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn07JGjNj19vbmNlLmFwcGx5TGFiZWxpbmdFcnJvcihhcHBseUxhYmVsaW5nRXJyb3IpO1xuaGFyZGVuKGFwcGx5TGFiZWxpbmdFcnJvcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJhcHBseUxhYmVsaW5nRXJyb3IiOlsiYXBwbHlMYWJlbGluZ0Vycm9yIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFnIhH+lBAAApQQAACsAAABAZW5kby9jb21tb24tdjEuMi4xMC9mcm9tLXVuaXF1ZS1lbnRyaWVzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyJdLCJleHBvcnRzIjpbImZyb21VbmlxdWVFbnRyaWVzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgcSxGYWlsOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dXSk7XG5cbmNvbnN0IHsgZnJvbUVudHJpZXMgfSA9IE9iamVjdDtcbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZnJvbVVuaXF1ZUVudHJpZXMgPSBhbGxFbnRyaWVzID0+IHtcbiAgY29uc3QgZW50cmllc0FycmF5ID0gWy4uLmFsbEVudHJpZXNdO1xuICBjb25zdCByZXN1bHQgPSBoYXJkZW4oZnJvbUVudHJpZXMoZW50cmllc0FycmF5KSk7XG4gIGlmIChvd25LZXlzKHJlc3VsdCkubGVuZ3RoID09PSBlbnRyaWVzQXJyYXkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBjb25zdCBuYW1lcyA9IG5ldyBTZXQoKTtcbiAgZm9yIChjb25zdCBbbmFtZSwgX10gb2YgZW50cmllc0FycmF5KSB7XG4gICAgaWYgKG5hbWVzLmhhcyhuYW1lKSkge1xuICAgICAgRmFpbGBjb2xsaXNpb24gb24gcHJvcGVydHkgbmFtZSAke3EobmFtZSl9OiAke2VudHJpZXNBcnJheX1gO1xuICAgIH1cbiAgICBuYW1lcy5hZGQobmFtZSk7XG4gIH1cbiAgdGhyb3cgRmFpbGBpbnRlcm5hbDogZmFpbGVkIHRvIGNyZWF0ZSBvYmplY3QgZnJvbSB1bmlxdWUgZW50cmllc2A7XG59OyRozY9fb25jZS5mcm9tVW5pcXVlRW50cmllcyhmcm9tVW5pcXVlRW50cmllcyk7XG5oYXJkZW4oZnJvbVVuaXF1ZUVudHJpZXMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZnJvbVVuaXF1ZUVudHJpZXMiOlsiZnJvbVVuaXF1ZUVudHJpZXMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA1E3/N0oCAABKAgAAJQAAAEBlbmRvL2NvbW1vbi12MS4yLjEwL2lkZW50LWNoZWNrZXIuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImlkZW50Q2hlY2tlciJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvL1xuLy9cbi8vXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaWRlbnRDaGVja2VyID0gKGNvbmQsIF9kZXRhaWxzKSA9PiBjb25kOyRozY9fb25jZS5pZGVudENoZWNrZXIoaWRlbnRDaGVja2VyKTtcbmhhcmRlbihpZGVudENoZWNrZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiaWRlbnRDaGVja2VyIjpbImlkZW50Q2hlY2tlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACK15dDkAIAAJACAAAnAAAAQGVuZG8vY29tbW9uLXYxLjIuMTAvbGlzdC1kaWZmZXJlbmNlLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJsaXN0RGlmZmVyZW5jZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbGlzdERpZmZlcmVuY2UgPSAobGVmdExpc3QsIHJpZ2h0TGlzdCkgPT4ge1xuICBjb25zdCByaWdodFNldCA9IG5ldyBTZXQocmlnaHRMaXN0KTtcbiAgcmV0dXJuIGxlZnRMaXN0LmZpbHRlcihlbGVtZW50ID0+ICFyaWdodFNldC5oYXMoZWxlbWVudCkpO1xufTskaM2PX29uY2UubGlzdERpZmZlcmVuY2UobGlzdERpZmZlcmVuY2UpO1xuaGFyZGVuKGxpc3REaWZmZXJlbmNlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Imxpc3REaWZmZXJlbmNlIjpbImxpc3REaWZmZXJlbmNlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAC6Umg60AwAAtAMAACsAAABAZW5kby9jb21tb24tdjEuMi4xMC9tYWtlLWFycmF5LWl0ZXJhdG9yLmpzeyJpbXBvcnRzIjpbIi4vbWFrZS1pdGVyYXRvci5qcyJdLCJleHBvcnRzIjpbIm1ha2VBcnJheUl0ZXJhdG9yIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgbWFrZUl0ZXJhdG9yOyRozY9faW1wb3J0cyhbW1wiLi9tYWtlLWl0ZXJhdG9yLmpzXCIsIFtbXCJtYWtlSXRlcmF0b3JcIixbJGjNj19hID0+IChtYWtlSXRlcmF0b3IgPSAkaM2PX2EpXV1dXV0pO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VBcnJheUl0ZXJhdG9yID0gYXJyID0+IHtcbiAgY29uc3QgeyBsZW5ndGggfSA9IGFycjtcbiAgbGV0IGkgPSAwO1xuICByZXR1cm4gbWFrZUl0ZXJhdG9yKCgpID0+IHtcbiAgICAvKiAgICAgICAgICAgICovXG4gICAgbGV0IHZhbHVlO1xuICAgIGlmIChpIDwgbGVuZ3RoKSB7XG4gICAgICB2YWx1ZSA9IGFycltpXTtcbiAgICAgIGkgKz0gMTtcbiAgICAgIHJldHVybiBoYXJkZW4oeyBkb25lOiBmYWxzZSwgdmFsdWUgfSk7XG4gICAgfVxuICAgIC8vXG4gICAgcmV0dXJuIGhhcmRlbih7IGRvbmU6IHRydWUsIHZhbHVlIH0pO1xuICB9KTtcbn07JGjNj19vbmNlLm1ha2VBcnJheUl0ZXJhdG9yKG1ha2VBcnJheUl0ZXJhdG9yKTtcbmhhcmRlbihtYWtlQXJyYXlJdGVyYXRvcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlQXJyYXlJdGVyYXRvciI6WyJtYWtlQXJyYXlJdGVyYXRvciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAFq82oXAIAAFwCAAAlAAAAQGVuZG8vY29tbW9uLXYxLjIuMTAvbWFrZS1pdGVyYXRvci5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsibWFrZUl0ZXJhdG9yIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZUl0ZXJhdG9yID0gbmV4dCA9PiB7XG4gIGNvbnN0IGl0ZXIgPSBoYXJkZW4oe1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PiBpdGVyLFxuICAgIG5leHQsXG4gIH0pO1xuICByZXR1cm4gaXRlcjtcbn07JGjNj19vbmNlLm1ha2VJdGVyYXRvcihtYWtlSXRlcmF0b3IpO1xuaGFyZGVuKG1ha2VJdGVyYXRvcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYWtlSXRlcmF0b3IiOlsibWFrZUl0ZXJhdG9yIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAH9VFLM0AwAANAMAACIAAABAZW5kby9jb21tb24tdjEuMi4xMC9vYmplY3QtbWFwLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJvYmplY3RNYXAiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7Y29uc3QgeyBlbnRyaWVzLCBmcm9tRW50cmllcyB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBvYmplY3RNYXAgPSAob3JpZ2luYWwsIG1hcEZuKSA9PiB7XG4gIGNvbnN0IGVudHMgPSBlbnRyaWVzKG9yaWdpbmFsKTtcbiAgY29uc3QgbWFwRW50cyA9IGVudHMubWFwKFxuICAgIChbaywgdl0pID0+IC8qICAgICAgICAgICAgICAgICAgICAgICAqLyAoW2ssIG1hcEZuKHYsIGspXSksXG4gICk7XG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKGhhcmRlbihmcm9tRW50cmllcyhtYXBFbnRzKSkpO1xufTskaM2PX29uY2Uub2JqZWN0TWFwKG9iamVjdE1hcCk7XG5oYXJkZW4ob2JqZWN0TWFwKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im9iamVjdE1hcCI6WyJvYmplY3RNYXAiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAf1YvUjIEAAAyBAAAJwAAAEBlbmRvL2NvbW1vbi12MS4yLjEwL29iamVjdC1tZXRhLW1hcC5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsib2JqZWN0TWV0YU1hcCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtjb25zdCB7IGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsIGNyZWF0ZSwgZnJvbUVudHJpZXMgfSA9IE9iamVjdDtcbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBvYmplY3RNZXRhTWFwID0gKFxuICBvcmlnaW5hbCxcbiAgbWV0YU1hcEZuLFxuICBwcm90byA9IE9iamVjdC5wcm90b3R5cGUsXG4pID0+IHtcbiAgY29uc3QgZGVzY3MgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9yaWdpbmFsKTtcbiAgY29uc3Qga2V5cyA9IG93bktleXMob3JpZ2luYWwpO1xuXG4gIGNvbnN0IGRlc2NFbnRyaWVzID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAga2V5c1xuICAgICAgLm1hcChrZXkgPT4gW2tleSwgbWV0YU1hcEZuKGRlc2NzW2tleV0sIGtleSldKVxuICAgICAgLmZpbHRlcigoW19rZXksIG9wdERlc2NdKSA9PiBvcHREZXNjICE9PSB1bmRlZmluZWQpXG4gICk7XG4gIHJldHVybiBoYXJkZW4oY3JlYXRlKHByb3RvLCBmcm9tRW50cmllcyhkZXNjRW50cmllcykpKTtcbn07JGjNj19vbmNlLm9iamVjdE1ldGFNYXAob2JqZWN0TWV0YU1hcCk7XG5oYXJkZW4ob2JqZWN0TWV0YU1hcCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJvYmplY3RNZXRhTWFwIjpbIm9iamVjdE1ldGFNYXAiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA8qpjsx4EAAAeBAAAJQAAAEBlbmRvL2NvbW1vbi12MS4yLjEwL3Rocm93LWxhYmVsZWQuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsidGhyb3dMYWJlbGVkIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgWCxtYWtlRXJyb3IsYW5ub3RhdGVFcnJvcjskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dLFtcImFubm90YXRlRXJyb3JcIixbJGjNj19hID0+IChhbm5vdGF0ZUVycm9yID0gJGjNj19hKV1dXV1dKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHRocm93TGFiZWxlZCA9IChcbiAgaW5uZXJFcnIsXG4gIGxhYmVsLFxuICBlcnJDb25zdHJ1Y3RvciA9IHVuZGVmaW5lZCxcbiAgb3B0aW9ucyA9IHVuZGVmaW5lZCxcbikgPT4ge1xuICBpZiAodHlwZW9mIGxhYmVsID09PSAnbnVtYmVyJykge1xuICAgIGxhYmVsID0gYFske2xhYmVsfV1gO1xuICB9XG4gIGNvbnN0IG91dGVyRXJyID0gbWFrZUVycm9yKFxuICAgIGAke2xhYmVsfTogJHtpbm5lckVyci5tZXNzYWdlfWAsXG4gICAgZXJyQ29uc3RydWN0b3IsXG4gICAgb3B0aW9ucyxcbiAgKTtcbiAgYW5ub3RhdGVFcnJvcihvdXRlckVyciwgWGBDYXVzZWQgYnkgJHtpbm5lckVycn1gKTtcbiAgdGhyb3cgb3V0ZXJFcnI7XG59OyRozY9fb25jZS50aHJvd0xhYmVsZWQodGhyb3dMYWJlbGVkKTtcbmhhcmRlbih0aHJvd0xhYmVsZWQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsidGhyb3dMYWJlbGVkIjpbInRocm93TGFiZWxlZCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAA0oqGpogEAAKIBAAAhAAAAQGVuZG8vZW52LW9wdGlvbnMtdjEuMS44L2luZGV4LmpzeyJpbXBvcnRzIjpbIi4vc3JjL2Vudi1vcHRpb25zLmpzIl0sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOlsiLi9zcmMvZW52LW9wdGlvbnMuanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9zcmMvZW52LW9wdGlvbnMuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAALrCJHboPAAC6DwAAKwAAAEBlbmRvL2Vudi1vcHRpb25zLXYxLjEuOC9zcmMvZW52LW9wdGlvbnMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMiLCJnZXRFbnZpcm9ubWVudE9wdGlvbiIsImdldEVudmlyb25tZW50T3B0aW9uc0xpc3QiLCJtYWtlRW52aXJvbm1lbnRDYXB0b3IiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7LyogICAgICAgICAgICAgICAgICAgKi9cbi8vXG5cbi8vXG4vL1xuXG4vL1xuLy9cbi8vXG5cbmNvbnN0IHsgZnJlZXplIH0gPSBPYmplY3Q7XG5jb25zdCB7IGFwcGx5IH0gPSBSZWZsZWN0O1xuXG4vL1xuLy9cbmNvbnN0IHVuY3VycnlUaGlzID1cbiAgZm4gPT5cbiAgKHJlY2VpdmVyLCAuLi5hcmdzKSA9PlxuICAgIGFwcGx5KGZuLCByZWNlaXZlciwgYXJncyk7XG5jb25zdCBhcnJheVB1c2ggPSB1bmN1cnJ5VGhpcyhBcnJheS5wcm90b3R5cGUucHVzaCk7XG5jb25zdCBhcnJheUluY2x1ZGVzID0gdW5jdXJyeVRoaXMoQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzKTtcbmNvbnN0IHN0cmluZ1NwbGl0ID0gdW5jdXJyeVRoaXMoU3RyaW5nLnByb3RvdHlwZS5zcGxpdCk7XG5cbmNvbnN0IHEgPSBKU09OLnN0cmluZ2lmeTtcblxuY29uc3QgRmFpbCA9IChsaXRlcmFscywgLi4uYXJncykgPT4ge1xuICBsZXQgbXNnID0gbGl0ZXJhbHNbMF07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIG1zZyA9IGAke21zZ30ke2FyZ3NbaV19JHtsaXRlcmFsc1tpICsgMV19YDtcbiAgfVxuICB0aHJvdyBFcnJvcihtc2cpO1xufTtcblxuLy9cbi8vXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VFbnZpcm9ubWVudENhcHRvciA9IChhR2xvYmFsLCBkcm9wTmFtZXMgPSBmYWxzZSkgPT4ge1xuICBjb25zdCBjYXB0dXJlZEVudmlyb25tZW50T3B0aW9uTmFtZXMgPSBbXTtcblxuICAvKlxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGdldEVudmlyb25tZW50T3B0aW9uID0gKFxuICAgIG9wdGlvbk5hbWUsXG4gICAgZGVmYXVsdFNldHRpbmcsXG4gICAgb3B0T3RoZXJWYWx1ZXMgPSB1bmRlZmluZWQsXG4gICkgPT4ge1xuICAgIHR5cGVvZiBvcHRpb25OYW1lID09PSAnc3RyaW5nJyB8fFxuICAgICAgRmFpbGBFbnZpcm9ubWVudCBvcHRpb24gbmFtZSAke3Eob3B0aW9uTmFtZSl9IG11c3QgYmUgYSBzdHJpbmcuYDtcbiAgICB0eXBlb2YgZGVmYXVsdFNldHRpbmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICBGYWlsYEVudmlyb25tZW50IG9wdGlvbiBkZWZhdWx0IHNldHRpbmcgJHtxKFxuICAgICAgICBkZWZhdWx0U2V0dGluZyxcbiAgICAgICl9IG11c3QgYmUgYSBzdHJpbmcuYDtcblxuICAgIC8qICAgICAgICAgICAgICAgICAqL1xuICAgIGxldCBzZXR0aW5nID0gZGVmYXVsdFNldHRpbmc7XG4gICAgY29uc3QgZ2xvYmFsUHJvY2VzcyA9IGFHbG9iYWwucHJvY2VzcyB8fCB1bmRlZmluZWQ7XG4gICAgY29uc3QgZ2xvYmFsRW52ID1cbiAgICAgICh0eXBlb2YgZ2xvYmFsUHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgZ2xvYmFsUHJvY2Vzcy5lbnYpIHx8IHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIGdsb2JhbEVudiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChvcHRpb25OYW1lIGluIGdsb2JhbEVudikge1xuICAgICAgICBpZiAoIWRyb3BOYW1lcykge1xuICAgICAgICAgIGFycmF5UHVzaChjYXB0dXJlZEVudmlyb25tZW50T3B0aW9uTmFtZXMsIG9wdGlvbk5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gZ2xvYmFsRW52W29wdGlvbk5hbWVdO1xuICAgICAgICAvL1xuICAgICAgICB0eXBlb2Ygb3B0aW9uVmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgRmFpbGBFbnZpcm9ubWVudCBvcHRpb24gbmFtZWQgJHtxKFxuICAgICAgICAgICAgb3B0aW9uTmFtZSxcbiAgICAgICAgICApfSwgaWYgcHJlc2VudCwgbXVzdCBoYXZlIGEgY29ycmVzcG9uZGluZyBzdHJpbmcgdmFsdWUsIGdvdCAke3EoXG4gICAgICAgICAgICBvcHRpb25WYWx1ZSxcbiAgICAgICAgICApfWA7XG4gICAgICAgIHNldHRpbmcgPSBvcHRpb25WYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgb3B0T3RoZXJWYWx1ZXMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgc2V0dGluZyA9PT0gZGVmYXVsdFNldHRpbmcgfHxcbiAgICAgIGFycmF5SW5jbHVkZXMob3B0T3RoZXJWYWx1ZXMsIHNldHRpbmcpIHx8XG4gICAgICBGYWlsYFVucmVjb2duaXplZCAke3Eob3B0aW9uTmFtZSl9IHZhbHVlICR7cShcbiAgICAgICAgc2V0dGluZyxcbiAgICAgICl9LiBFeHBlY3RlZCBvbmUgb2YgJHtxKFtkZWZhdWx0U2V0dGluZywgLi4ub3B0T3RoZXJWYWx1ZXNdKX1gO1xuICAgIHJldHVybiBzZXR0aW5nO1xuICB9O1xuICBmcmVlemUoZ2V0RW52aXJvbm1lbnRPcHRpb24pO1xuXG4gIC8qXG5cblxuICAgKi9cbiAgY29uc3QgZ2V0RW52aXJvbm1lbnRPcHRpb25zTGlzdCA9IG9wdGlvbk5hbWUgPT4ge1xuICAgIGNvbnN0IG9wdGlvbiA9IGdldEVudmlyb25tZW50T3B0aW9uKG9wdGlvbk5hbWUsICcnKTtcbiAgICByZXR1cm4gZnJlZXplKG9wdGlvbiA9PT0gJycgPyBbXSA6IHN0cmluZ1NwbGl0KG9wdGlvbiwgJywnKSk7XG4gIH07XG4gIGZyZWV6ZShnZXRFbnZpcm9ubWVudE9wdGlvbnNMaXN0KTtcblxuICBjb25zdCBlbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzID0gKG9wdGlvbk5hbWUsIGVsZW1lbnQpID0+XG4gICAgYXJyYXlJbmNsdWRlcyhnZXRFbnZpcm9ubWVudE9wdGlvbnNMaXN0KG9wdGlvbk5hbWUpLCBlbGVtZW50KTtcblxuICBjb25zdCBnZXRDYXB0dXJlZEVudmlyb25tZW50T3B0aW9uTmFtZXMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGZyZWV6ZShbLi4uY2FwdHVyZWRFbnZpcm9ubWVudE9wdGlvbk5hbWVzXSk7XG4gIH07XG4gIGZyZWV6ZShnZXRDYXB0dXJlZEVudmlyb25tZW50T3B0aW9uTmFtZXMpO1xuXG4gIHJldHVybiBmcmVlemUoe1xuICAgIGdldEVudmlyb25tZW50T3B0aW9uLFxuICAgIGdldEVudmlyb25tZW50T3B0aW9uc0xpc3QsXG4gICAgZW52aXJvbm1lbnRPcHRpb25zTGlzdEhhcyxcbiAgICBnZXRDYXB0dXJlZEVudmlyb25tZW50T3B0aW9uTmFtZXMsXG4gIH0pO1xufTskaM2PX29uY2UubWFrZUVudmlyb25tZW50Q2FwdG9yKG1ha2VFbnZpcm9ubWVudENhcHRvcik7XG5mcmVlemUobWFrZUVudmlyb25tZW50Q2FwdG9yKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCB7XG4gIGdldEVudmlyb25tZW50T3B0aW9uLFxuICBnZXRFbnZpcm9ubWVudE9wdGlvbnNMaXN0LFxuICBlbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzLFxufSA9IG1ha2VFbnZpcm9ubWVudENhcHRvcihnbG9iYWxUaGlzLCB0cnVlKTskaM2PX29uY2UuZ2V0RW52aXJvbm1lbnRPcHRpb24oZ2V0RW52aXJvbm1lbnRPcHRpb24pOyRozY9fb25jZS5nZXRFbnZpcm9ubWVudE9wdGlvbnNMaXN0KGdldEVudmlyb25tZW50T3B0aW9uc0xpc3QpOyRozY9fb25jZS5lbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzKGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZUVudmlyb25tZW50Q2FwdG9yIjpbIm1ha2VFbnZpcm9ubWVudENhcHRvciJdLCJnZXRFbnZpcm9ubWVudE9wdGlvbiI6WyJnZXRFbnZpcm9ubWVudE9wdGlvbiJdLCJnZXRFbnZpcm9ubWVudE9wdGlvbnNMaXN0IjpbImdldEVudmlyb25tZW50T3B0aW9uc0xpc3QiXSwiZW52aXJvbm1lbnRPcHRpb25zTGlzdEhhcyI6WyJlbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEk19ulUCAAAVAgAAB0AAABAZW5kby9lcnJvcnMtdjEuMi4xMC9pbmRleC5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiRmFpbCIsIlgiLCJhbm5vdGF0ZUVycm9yIiwiYXNzZXJ0IiwiYiIsImJhcmUiLCJtYWtlRXJyb3IiLCJub3RlIiwicSIsInF1b3RlIiwicmVkYWN0ZWQiLCJ0aHJvd1JlZGFjdGVkIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8qICAgICAgICAgICAgICAgICAgICovXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cblxuLy9cbi8vXG5cbmNvbnN0IGdsb2JhbEFzc2VydCA9IGdsb2JhbFRoaXMuYXNzZXJ0O1xuXG5pZiAoZ2xvYmFsQXNzZXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgdGhyb3cgRXJyb3IoXG4gICAgYENhbm5vdCBpbml0aWFsaXplIEBlbmRvL2Vycm9ycywgbWlzc2luZyBnbG9iYWxUaGlzLmFzc2VydCwgaW1wb3J0ICdzZXMnIGJlZm9yZSAnQGVuZG8vZXJyb3JzJ2AsXG4gICk7XG59XG5cbmNvbnN0IG1pc3NpbmcgPSAvKiAgICAgICAgICAgICAgICAqLyAoW1xuICAndHlwZW9mJyxcbiAgJ2Vycm9yJyxcbiAgJ2ZhaWwnLFxuICAnZXF1YWwnLFxuICAnc3RyaW5nJyxcbiAgJ25vdGUnLFxuICAnZGV0YWlscycsXG4gICdGYWlsJyxcbiAgJ3F1b3RlJyxcbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgJ21ha2VBc3NlcnQnLFxuXSkuZmlsdGVyKG5hbWUgPT4gZ2xvYmFsQXNzZXJ0W25hbWVdID09PSB1bmRlZmluZWQpO1xuaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkge1xuICB0aHJvdyBFcnJvcihcbiAgICBgQ2Fubm90IGluaXRpYWxpemUgQGVuZG8vZXJyb3JzLCBtaXNzaW5nIGdsb2JhbFRoaXMuYXNzZXJ0IG1ldGhvZHMgJHttaXNzaW5nLmpvaW4oXG4gICAgICAnLCAnLFxuICAgICl9YCxcbiAgKTtcbn1cblxuLy9cbi8vXG4vL1xuY29uc3Qge1xuICBiYXJlLFxuICBkZXRhaWxzOiByZWRhY3RlZCxcbiAgZXJyb3I6IG1ha2VFcnJvcixcbiAgRmFpbDogdGhyb3dSZWRhY3RlZCxcbiAgbWFrZUFzc2VydDogX29taXR0ZWRNYWtlQXNzZXJ0LFxuICBub3RlLFxuICBxdW90ZSxcbiAgLi4uYXNzZXJ0aW9uc1xufSA9IGdsb2JhbEFzc2VydDtcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLy9cbiRozY9fb25jZS5yZWRhY3RlZChyZWRhY3RlZCk7JGjNj19vbmNlLm1ha2VFcnJvcihtYWtlRXJyb3IpOyRozY9fb25jZS50aHJvd1JlZGFjdGVkKHRocm93UmVkYWN0ZWQpOyRozY9fb25jZS5ub3RlKG5vdGUpOyRozY9fb25jZS5xdW90ZShxdW90ZSk7Y29uc3QgYXNzZXJ0PSh2YWx1ZSxvcHREZXRhaWxzLGVyckNvbnRydWN0b3Isb3B0aW9ucyk9PlxuICBnbG9iYWxBc3NlcnQodmFsdWUsIG9wdERldGFpbHMsIGVyckNvbnRydWN0b3IsIG9wdGlvbnMpOyRozY9fb25jZS5hc3NlcnQoYXNzZXJ0KTtcbk9iamVjdC5hc3NpZ24oYXNzZXJ0LCBhc3NlcnRpb25zKTtcblxuLy9cbi8vXG4vL1xuY29uc3QgYmFyZU9yUXVvdGUgPSBiYXJlIHx8IHF1b3RlO1xuXG4vL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovJGjNj19vbmNlLmJhcmVPclF1b3RlKGJhcmVPclF1b3RlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InJlZGFjdGVkIjpbInJlZGFjdGVkIl0sIlgiOlsicmVkYWN0ZWQiXSwibWFrZUVycm9yIjpbIm1ha2VFcnJvciJdLCJ0aHJvd1JlZGFjdGVkIjpbInRocm93UmVkYWN0ZWQiXSwiRmFpbCI6WyJ0aHJvd1JlZGFjdGVkIl0sIm5vdGUiOlsibm90ZSJdLCJhbm5vdGF0ZUVycm9yIjpbIm5vdGUiXSwicXVvdGUiOlsicXVvdGUiXSwicSI6WyJxdW90ZSJdLCJhc3NlcnQiOlsiYXNzZXJ0Il0sImJhcmUiOlsiYmFyZU9yUXVvdGUiXSwiYiI6WyJiYXJlT3JRdW90ZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADJsYMZGxYAABsWAAAjAAAAQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEvc3JjL0UuanN7ImltcG9ydHMiOlsiLi90cmFjay10dXJucy5qcyIsIi4vbWVzc2FnZS1icmVha3BvaW50cy5qcyJdLCJleHBvcnRzIjpbImRlZmF1bHQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCB0cmFja1R1cm5zLG1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlcjskaM2PX2ltcG9ydHMoW1tcIi4vdHJhY2stdHVybnMuanNcIiwgW1tcInRyYWNrVHVybnNcIixbJGjNj19hID0+ICh0cmFja1R1cm5zID0gJGjNj19hKV1dXV0sW1wiLi9tZXNzYWdlLWJyZWFrcG9pbnRzLmpzXCIsIFtbXCJtYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXJcIixbJGjNj19hID0+IChtYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIgPSAkaM2PX2EpXV1dXV0pO1xuXG5cbmNvbnN0IHsgZGV0YWlsczogWCwgcXVvdGU6IHEsIEZhaWwsIGVycm9yOiBtYWtlRXJyb3IgfSA9IGFzc2VydDtcbmNvbnN0IHsgYXNzaWduLCBmcmVlemUgfSA9IE9iamVjdDtcblxuLypcblxuICovXG5cbmNvbnN0IG9uU2VuZCA9IG1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlcignRU5ET19TRU5EX0JSRUFLUE9JTlRTJyk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBiYXNlRnJlZXphYmxlUHJveHlIYW5kbGVyID0ge1xuICBzZXQoX3RhcmdldCwgX3Byb3AsIF92YWx1ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNFeHRlbnNpYmxlKF90YXJnZXQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHNldFByb3RvdHlwZU9mKF90YXJnZXQsIF92YWx1ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZGVsZXRlUHJvcGVydHkoX3RhcmdldCwgX3Byb3ApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG59O1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VFUHJveHlIYW5kbGVyID0gKHJlY2lwaWVudCwgSGFuZGxlZFByb21pc2UpID0+XG4gIGhhcmRlbih7XG4gICAgLi4uYmFzZUZyZWV6YWJsZVByb3h5SGFuZGxlcixcbiAgICBnZXQ6IChfdGFyZ2V0LCBwcm9wZXJ0eUtleSwgcmVjZWl2ZXIpID0+IHtcbiAgICAgIHJldHVybiBoYXJkZW4oXG4gICAgICAgIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgIFtwcm9wZXJ0eUtleV0oLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKHRoaXMgIT09IHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIHJldHVybiBIYW5kbGVkUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICAgICAgbWFrZUVycm9yKFxuICAgICAgICAgICAgICAgICAgWGBVbmV4cGVjdGVkIHJlY2VpdmVyIGZvciBcIiR7cShwcm9wZXJ0eUtleSl9XCIgbWV0aG9kIG9mIEUoJHtxKFxuICAgICAgICAgICAgICAgICAgICByZWNpcGllbnQsXG4gICAgICAgICAgICAgICAgICApfSlgLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCBwcm9wZXJ0eUtleSkpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgZGVidWdnZXI7IC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSGFuZGxlZFByb21pc2UuYXBwbHlNZXRob2QocmVjaXBpZW50LCBwcm9wZXJ0eUtleSwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vXG4gICAgICAgIH1bcHJvcGVydHlLZXldLFxuICAgICAgKTtcbiAgICB9LFxuICAgIGFwcGx5OiAoX3RhcmdldCwgX3RoaXNBcmcsIGFyZ0FycmF5ID0gW10pID0+IHtcbiAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCB1bmRlZmluZWQpKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGRlYnVnZ2VyOyAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgfVxuICAgICAgcmV0dXJuIEhhbmRsZWRQcm9taXNlLmFwcGx5RnVuY3Rpb24ocmVjaXBpZW50LCBhcmdBcnJheSk7XG4gICAgfSxcbiAgICBoYXM6IChfdGFyZ2V0LCBfcCkgPT4ge1xuICAgICAgLy9cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gIH0pO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5jb25zdCBtYWtlRVNlbmRPbmx5UHJveHlIYW5kbGVyID0gKHJlY2lwaWVudCwgSGFuZGxlZFByb21pc2UpID0+XG4gIGhhcmRlbih7XG4gICAgLi4uYmFzZUZyZWV6YWJsZVByb3h5SGFuZGxlcixcbiAgICBnZXQ6IChfdGFyZ2V0LCBwcm9wZXJ0eUtleSwgcmVjZWl2ZXIpID0+IHtcbiAgICAgIHJldHVybiBoYXJkZW4oXG4gICAgICAgIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgW3Byb3BlcnR5S2V5XSguLi5hcmdzKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdGhpcyA9PT0gcmVjZWl2ZXIgfHxcbiAgICAgICAgICAgICAgRmFpbGBVbmV4cGVjdGVkIHJlY2VpdmVyIGZvciBcIiR7cShcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgICAgKX1cIiBtZXRob2Qgb2YgRS5zZW5kT25seSgke3EocmVjaXBpZW50KX0pYDtcbiAgICAgICAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCBwcm9wZXJ0eUtleSkpIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgZGVidWdnZXI7IC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBIYW5kbGVkUHJvbWlzZS5hcHBseU1ldGhvZFNlbmRPbmx5KHJlY2lwaWVudCwgcHJvcGVydHlLZXksIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9cbiAgICAgICAgfVtwcm9wZXJ0eUtleV0sXG4gICAgICApO1xuICAgIH0sXG4gICAgYXBwbHk6IChfdGFyZ2V0LCBfdGhpc0FyZywgYXJnc0FycmF5ID0gW10pID0+IHtcbiAgICAgIGlmIChvblNlbmQgJiYgb25TZW5kLnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCB1bmRlZmluZWQpKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGRlYnVnZ2VyOyAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgfVxuICAgICAgSGFuZGxlZFByb21pc2UuYXBwbHlGdW5jdGlvblNlbmRPbmx5KHJlY2lwaWVudCwgYXJnc0FycmF5KTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBoYXM6IChfdGFyZ2V0LCBfcCkgPT4ge1xuICAgICAgLy9cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gIH0pO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5jb25zdCBtYWtlRUdldFByb3h5SGFuZGxlciA9ICh4LCBIYW5kbGVkUHJvbWlzZSkgPT5cbiAgaGFyZGVuKHtcbiAgICAuLi5iYXNlRnJlZXphYmxlUHJveHlIYW5kbGVyLFxuICAgIGhhczogKF90YXJnZXQsIF9wcm9wKSA9PiB0cnVlLFxuICAgIGdldDogKF90YXJnZXQsIHByb3ApID0+IEhhbmRsZWRQcm9taXNlLmdldCh4LCBwcm9wKSxcbiAgfSk7XG5cbi8qXG5cblxuXG5cbiAqL1xuY29uc3QgZnVuY1RhcmdldCA9IGZyZWV6ZSgoKSA9PiB7fSk7XG5cbi8qXG5cblxuXG5cblxuICovXG5jb25zdCBvYmpUYXJnZXQgPSBmcmVlemUoeyBfX3Byb3RvX186IG51bGwgfSk7XG5cbi8qXG5cbiAqL1xuY29uc3QgbWFrZUUgPSBIYW5kbGVkUHJvbWlzZSA9PiB7XG4gIHJldHVybiBoYXJkZW4oXG4gICAgYXNzaWduKFxuICAgICAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgICAqL1xuICAgICAgLy9cbiAgICAgIHggPT4gbmV3IFByb3h5KGZ1bmNUYXJnZXQsIG1ha2VFUHJveHlIYW5kbGVyKHgsIEhhbmRsZWRQcm9taXNlKSksXG4gICAgICB7XG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICAvL1xuICAgICAgICBnZXQ6IHggPT4gbmV3IFByb3h5KG9ialRhcmdldCwgbWFrZUVHZXRQcm94eUhhbmRsZXIoeCwgSGFuZGxlZFByb21pc2UpKSxcblxuICAgICAgICAvKlxuXG5cblxuXG5cblxuXG4gICAgICAgICAqL1xuICAgICAgICByZXNvbHZlOiBIYW5kbGVkUHJvbWlzZS5yZXNvbHZlLFxuXG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHNlbmRPbmx5OiB4ID0+XG4gICAgICAgICAgLy9cbiAgICAgICAgICBuZXcgUHJveHkoZnVuY1RhcmdldCwgbWFrZUVTZW5kT25seVByb3h5SGFuZGxlcih4LCBIYW5kbGVkUHJvbWlzZSkpLFxuXG4gICAgICAgIC8qXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAgICAgICovXG4gICAgICAgIHdoZW46ICh4LCBvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkgPT5cbiAgICAgICAgICBIYW5kbGVkUHJvbWlzZS5yZXNvbHZlKHgpLnRoZW4oXG4gICAgICAgICAgICAuLi50cmFja1R1cm5zKFtvbmZ1bGZpbGxlZCwgb25yZWplY3RlZF0pLFxuICAgICAgICAgICksXG4gICAgICB9LFxuICAgICksXG4gICk7XG59O1xuXG5jb25zdHtkZWZhdWx0OiRjzY9fZGVmYXVsdH09e2RlZmF1bHQ6bWFrZUV9O1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmRlZmF1bHQoJGPNj19kZWZhdWx0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImRlZmF1bHQiOlsiZGVmYXVsdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAApAAAAQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEvc3JjL2V4cG9ydHMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAApOMro5EOAACRDgAAJwAAAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3NyYy9sb2NhbC5qc3siaW1wb3J0cyI6WyIuL21lc3NhZ2UtYnJlYWtwb2ludHMuanMiXSwiZXhwb3J0cyI6WyJnZXRNZXRob2ROYW1lcyIsImxvY2FsQXBwbHlGdW5jdGlvbiIsImxvY2FsQXBwbHlNZXRob2QiLCJsb2NhbEdldCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlcjskaM2PX2ltcG9ydHMoW1tcIi4vbWVzc2FnZS1icmVha3BvaW50cy5qc1wiLCBbW1wibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyXCIsWyRozY9fYSA9PiAobWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyID0gJGjNj19hKV1dXV1dKTtcblxuY29uc3QgeyBkZXRhaWxzOiBYLCBxdW90ZTogcSwgRmFpbCB9ID0gYXNzZXJ0O1xuXG5jb25zdCB7IGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsIGdldFByb3RvdHlwZU9mLCBmcmVlemUgfSA9IE9iamVjdDtcbmNvbnN0IHsgYXBwbHksIG93bktleXMgfSA9IFJlZmxlY3Q7XG5cbmNvbnN0IG50eXBlb2YgPSBzcGVjaW1lbiA9PiAoc3BlY2ltZW4gPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2Ygc3BlY2ltZW4pO1xuXG5jb25zdCBvbkRlbGl2ZXJ5ID0gbWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyKCdFTkRPX0RFTElWRVJZX0JSRUFLUE9JTlRTJyk7XG5cbi8qXG5cblxuXG5cbiAqL1xuY29uc3QgaXNPYmplY3QgPSB2YWwgPT4gT2JqZWN0KHZhbCkgPT09IHZhbDtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGNvbXBhcmVTdHJpbmdpZmllZCA9IChhLCBiKSA9PiB7XG4gIGlmICh0eXBlb2YgYSA9PT0gdHlwZW9mIGIpIHtcbiAgICBjb25zdCBsZWZ0ID0gU3RyaW5nKGEpO1xuICAgIGNvbnN0IHJpZ2h0ID0gU3RyaW5nKGIpO1xuICAgIC8vXG4gICAgcmV0dXJuIGxlZnQgPCByaWdodCA/IC0xIDogbGVmdCA+IHJpZ2h0ID8gMSA6IDA7XG4gIH1cbiAgaWYgKHR5cGVvZiBhID09PSAnc3ltYm9sJykge1xuICAgIGFzc2VydCh0eXBlb2YgYiA9PT0gJ3N0cmluZycpO1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBhc3NlcnQodHlwZW9mIGEgPT09ICdzdHJpbmcnKTtcbiAgYXNzZXJ0KHR5cGVvZiBiID09PSAnc3ltYm9sJyk7XG4gIHJldHVybiAxO1xufTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRNZXRob2ROYW1lcyA9IHZhbCA9PiB7XG4gIGxldCBsYXllciA9IHZhbDtcbiAgY29uc3QgbmFtZXMgPSBuZXcgU2V0KCk7IC8vXG4gIHdoaWxlIChsYXllciAhPT0gbnVsbCAmJiBsYXllciAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIC8vXG4gICAgY29uc3QgZGVzY3MgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGxheWVyKTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2Ygb3duS2V5cyhkZXNjcykpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgaWYgKHR5cGVvZiB2YWxbbmFtZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbmFtZXMuYWRkKG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzT2JqZWN0KHZhbCkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBsYXllciA9IGdldFByb3RvdHlwZU9mKGxheWVyKTtcbiAgfVxuICByZXR1cm4gaGFyZGVuKFsuLi5uYW1lc10uc29ydChjb21wYXJlU3RyaW5naWZpZWQpKTtcbn07XG4vL1xuLy9cbiRozY9fb25jZS5nZXRNZXRob2ROYW1lcyhnZXRNZXRob2ROYW1lcyk7ZnJlZXplKGdldE1ldGhvZE5hbWVzKTtcblxuICAgICAgIGNvbnN0IGxvY2FsQXBwbHlGdW5jdGlvbiA9IChyZWNpcGllbnQsIGFyZ3MpID0+IHtcbiAgdHlwZW9mIHJlY2lwaWVudCA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgIGFzc2VydC5mYWlsKFxuICAgICAgWGBDYW5ub3QgaW52b2tlIHRhcmdldCBhcyBhIGZ1bmN0aW9uOyB0eXBlb2YgdGFyZ2V0IGlzICR7cShcbiAgICAgICAgbnR5cGVvZihyZWNpcGllbnQpLFxuICAgICAgKX1gLFxuICAgICAgVHlwZUVycm9yLFxuICAgICk7XG4gIGlmIChvbkRlbGl2ZXJ5ICYmIG9uRGVsaXZlcnkuc2hvdWxkQnJlYWtwb2ludChyZWNpcGllbnQsIHVuZGVmaW5lZCkpIHtcbiAgICAvL1xuICAgIGRlYnVnZ2VyOyAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gYXBwbHkocmVjaXBpZW50LCB1bmRlZmluZWQsIGFyZ3MpO1xuICByZXR1cm4gcmVzdWx0O1xufTskaM2PX29uY2UubG9jYWxBcHBseUZ1bmN0aW9uKGxvY2FsQXBwbHlGdW5jdGlvbik7XG5cbiAgICAgICBjb25zdCBsb2NhbEFwcGx5TWV0aG9kID0gKHJlY2lwaWVudCwgbWV0aG9kTmFtZSwgYXJncykgPT4ge1xuICBpZiAobWV0aG9kTmFtZSA9PT0gdW5kZWZpbmVkIHx8IG1ldGhvZE5hbWUgPT09IG51bGwpIHtcbiAgICAvL1xuICAgIHJldHVybiBsb2NhbEFwcGx5RnVuY3Rpb24ocmVjaXBpZW50LCBhcmdzKTtcbiAgfVxuICBpZiAocmVjaXBpZW50ID09PSB1bmRlZmluZWQgfHwgcmVjaXBpZW50ID09PSBudWxsKSB7XG4gICAgYXNzZXJ0LmZhaWwoXG4gICAgICBYYENhbm5vdCBkZWxpdmVyICR7cShtZXRob2ROYW1lKX0gdG8gdGFyZ2V0OyB0eXBlb2YgdGFyZ2V0IGlzICR7cShcbiAgICAgICAgbnR5cGVvZihyZWNpcGllbnQpLFxuICAgICAgKX1gLFxuICAgICAgVHlwZUVycm9yLFxuICAgICk7XG4gIH1cbiAgY29uc3QgZm4gPSByZWNpcGllbnRbbWV0aG9kTmFtZV07XG4gIGlmIChmbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXNzZXJ0LmZhaWwoXG4gICAgICBYYHRhcmdldCBoYXMgbm8gbWV0aG9kICR7cShtZXRob2ROYW1lKX0sIGhhcyAke3EoXG4gICAgICAgIGdldE1ldGhvZE5hbWVzKHJlY2lwaWVudCksXG4gICAgICApfWAsXG4gICAgICBUeXBlRXJyb3IsXG4gICAgKTtcbiAgfVxuICBjb25zdCBmdHlwZSA9IG50eXBlb2YoZm4pO1xuICB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgfHxcbiAgICBGYWlsYGludm9rZWQgbWV0aG9kICR7cShtZXRob2ROYW1lKX0gaXMgbm90IGEgZnVuY3Rpb247IGl0IGlzIGEgJHtxKFxuICAgICAgZnR5cGUsXG4gICAgKX1gO1xuICBpZiAob25EZWxpdmVyeSAmJiBvbkRlbGl2ZXJ5LnNob3VsZEJyZWFrcG9pbnQocmVjaXBpZW50LCBtZXRob2ROYW1lKSkge1xuICAgIC8vXG4gICAgZGVidWdnZXI7IC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgfVxuICBjb25zdCByZXN1bHQgPSBhcHBseShmbiwgcmVjaXBpZW50LCBhcmdzKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07JGjNj19vbmNlLmxvY2FsQXBwbHlNZXRob2QobG9jYWxBcHBseU1ldGhvZCk7XG5cbiAgICAgICBjb25zdCBsb2NhbEdldCA9ICh0LCBrZXkpID0+IHRba2V5XTskaM2PX29uY2UubG9jYWxHZXQobG9jYWxHZXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZ2V0TWV0aG9kTmFtZXMiOlsiZ2V0TWV0aG9kTmFtZXMiXSwibG9jYWxBcHBseUZ1bmN0aW9uIjpbImxvY2FsQXBwbHlGdW5jdGlvbiJdLCJsb2NhbEFwcGx5TWV0aG9kIjpbImxvY2FsQXBwbHlNZXRob2QiXSwibG9jYWxHZXQiOlsibG9jYWxHZXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAeTPsuDwPAAA8DwAANQAAAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3NyYy9tZXNzYWdlLWJyZWFrcG9pbnRzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vudi1vcHRpb25zIl0sImV4cG9ydHMiOlsibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZ2V0RW52aXJvbm1lbnRPcHRpb247JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lbnYtb3B0aW9uc1wiLCBbW1wiZ2V0RW52aXJvbm1lbnRPcHRpb25cIixbJGjNj19hID0+IChnZXRFbnZpcm9ubWVudE9wdGlvbiA9ICRozY9fYSldXV1dXSk7XG5cbmNvbnN0IHsgcXVvdGU6IHEsIEZhaWwgfSA9IGFzc2VydDtcblxuY29uc3QgeyBoYXNPd24sIGZyZWV6ZSwgZW50cmllcyB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4vKlxuXG5cblxuXG5cbiAqL1xuLypcblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuICovXG5jb25zdCBpc0pTT05SZWNvcmQgPSB2YWwgPT5cbiAgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KHZhbCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IHNpbXBsaWZ5VGFnID0gdGFnID0+IHtcbiAgZm9yIChjb25zdCBwcmVmaXggb2YgWydBbGxlZ2VkOiAnLCAnRGVidWdOYW1lOiAnXSkge1xuICAgIGlmICh0YWcuc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICByZXR1cm4gdGFnLnNsaWNlKHByZWZpeC5sZW5ndGgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGFnO1xufTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIgPSBvcHRpb25OYW1lID0+IHtcbiAgbGV0IGJyZWFrcG9pbnRzID0gSlNPTi5wYXJzZShnZXRFbnZpcm9ubWVudE9wdGlvbihvcHRpb25OYW1lLCAnbnVsbCcpKTtcblxuICBpZiAoYnJlYWtwb2ludHMgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGxldCBicmVha3BvaW50c1RhYmxlO1xuXG4gIGNvbnN0IGdldEJyZWFrcG9pbnRzID0gKCkgPT4gYnJlYWtwb2ludHM7XG4gIGZyZWV6ZShnZXRCcmVha3BvaW50cyk7XG5cbiAgY29uc3Qgc2V0QnJlYWtwb2ludHMgPSAobmV3QnJlYWtwb2ludHMgPSBicmVha3BvaW50cykgPT4ge1xuICAgIGlzSlNPTlJlY29yZChuZXdCcmVha3BvaW50cykgfHxcbiAgICAgIEZhaWxgRXhwZWN0ZWQgJHtxKG9wdGlvbk5hbWUpfSBvcHRpb24gdG8gYmUgYSBKU09OIGJyZWFrcG9pbnRzIHJlY29yZGA7XG5cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAvL1xuICAgIGNvbnN0IG5ld0JyZWFrcG9pbnRzVGFibGUgPSB7IF9fcHJvdG9fXzogbnVsbCB9O1xuXG4gICAgZm9yIChjb25zdCBbdGFnLCBtZXRob2RCUHNdIG9mIGVudHJpZXMobmV3QnJlYWtwb2ludHMpKSB7XG4gICAgICB0YWcgPT09IHNpbXBsaWZ5VGFnKHRhZykgfHxcbiAgICAgICAgRmFpbGBKdXN0IHVzZSBzaW1wbGUgdGFnICR7cShzaW1wbGlmeVRhZyh0YWcpKX0gcmF0aGVyIHRoYW4gJHtxKHRhZyl9YDtcbiAgICAgIGlzSlNPTlJlY29yZChtZXRob2RCUHMpIHx8XG4gICAgICAgIEZhaWxgRXhwZWN0ZWQgJHtxKG9wdGlvbk5hbWUpfSBvcHRpb24ncyAke3EoXG4gICAgICAgICAgdGFnLFxuICAgICAgICApfSB0byBiZSBhIEpTT04gbWV0aG9kcyBicmVha3BvaW50cyByZWNvcmRgO1xuICAgICAgZm9yIChjb25zdCBbbWV0aG9kTmFtZSwgY291bnRdIG9mIGVudHJpZXMobWV0aG9kQlBzKSkge1xuICAgICAgICBjb3VudCA9PT0gJyonIHx8XG4gICAgICAgICAgKHR5cGVvZiBjb3VudCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIE51bWJlci5pc1NhZmVJbnRlZ2VyKGNvdW50KSAmJlxuICAgICAgICAgICAgY291bnQgPj0gMCkgfHxcbiAgICAgICAgICBGYWlsYEV4cGVjdGVkICR7cShvcHRpb25OYW1lKX0gb3B0aW9uJ3MgJHtxKHRhZyl9LiR7cShcbiAgICAgICAgICAgIG1ldGhvZE5hbWUsXG4gICAgICAgICAgKX0gdG8gYmUgXCIqXCIgb3IgYSBub24tbmVnYXRpdmUgaW50ZWdlcmA7XG5cbiAgICAgICAgY29uc3QgY2xhc3NCUHMgPSBoYXNPd24obmV3QnJlYWtwb2ludHNUYWJsZSwgbWV0aG9kTmFtZSlcbiAgICAgICAgICA/IG5ld0JyZWFrcG9pbnRzVGFibGVbbWV0aG9kTmFtZV1cbiAgICAgICAgICA6IChuZXdCcmVha3BvaW50c1RhYmxlW21ldGhvZE5hbWVdID0ge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBfX3Byb3RvX186IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgY2xhc3NCUHNbdGFnXSA9IGNvdW50O1xuICAgICAgfVxuICAgIH1cbiAgICBicmVha3BvaW50cyA9IG5ld0JyZWFrcG9pbnRzO1xuICAgIGJyZWFrcG9pbnRzVGFibGUgPSBuZXdCcmVha3BvaW50c1RhYmxlO1xuICB9O1xuICBmcmVlemUoc2V0QnJlYWtwb2ludHMpO1xuXG4gIGNvbnN0IHNob3VsZEJyZWFrcG9pbnQgPSAocmVjaXBpZW50LCBtZXRob2ROYW1lKSA9PiB7XG4gICAgaWYgKG1ldGhvZE5hbWUgPT09IHVuZGVmaW5lZCB8fCBtZXRob2ROYW1lID09PSBudWxsKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBjbGFzc0JQcyA9IGJyZWFrcG9pbnRzVGFibGVbbWV0aG9kTmFtZV0gfHwgYnJlYWtwb2ludHNUYWJsZVsnKiddO1xuICAgIGlmIChjbGFzc0JQcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCB0YWcgPSBzaW1wbGlmeVRhZyhyZWNpcGllbnRbU3ltYm9sLnRvU3RyaW5nVGFnXSk7XG4gICAgbGV0IGNvdW50ID0gY2xhc3NCUHNbdGFnXTtcbiAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFnID0gJyonO1xuICAgICAgY291bnQgPSBjbGFzc0JQc1t0YWddO1xuICAgICAgaWYgKGNvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY291bnQgPT09ICcqJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGFzc2VydCh0eXBlb2YgY291bnQgPT09ICdudW1iZXInICYmIGNvdW50ID49IDEpO1xuICAgIGNsYXNzQlBzW3RhZ10gPSBjb3VudCAtIDE7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBmcmVlemUoc2hvdWxkQnJlYWtwb2ludCk7XG5cbiAgY29uc3QgYnJlYWtwb2ludFRlc3RlciA9IGZyZWV6ZSh7XG4gICAgZ2V0QnJlYWtwb2ludHMsXG4gICAgc2V0QnJlYWtwb2ludHMsXG4gICAgc2hvdWxkQnJlYWtwb2ludCxcbiAgfSk7XG4gIGJyZWFrcG9pbnRUZXN0ZXIuc2V0QnJlYWtwb2ludHMoKTtcbiAgcmV0dXJuIGJyZWFrcG9pbnRUZXN0ZXI7XG59OyRozY9fb25jZS5tYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIobWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyKTtcbmZyZWV6ZShtYWtlTWVzc2FnZUJyZWFrcG9pbnRUZXN0ZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyIjpbIm1ha2VNZXNzYWdlQnJlYWtwb2ludFRlc3RlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAC4dpSdXwMAAF8DAAApAAAAQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEvc3JjL25vLXNoaW0uanN7ImltcG9ydHMiOlsiLi9FLmpzIiwiLi9leHBvcnRzLmpzIl0sImV4cG9ydHMiOlsiRSIsIkhhbmRsZWRQcm9taXNlIl0sInJlZXhwb3J0cyI6WyIuL2V4cG9ydHMuanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBtYWtlRTskaM2PX2ltcG9ydHMoW1tcIi4vRS5qc1wiLCBbW1wiZGVmYXVsdFwiLFskaM2PX2EgPT4gKG1ha2VFID0gJGjNj19hKV1dXV0sW1wiLi9leHBvcnRzLmpzXCIsIFtdXV0pO1xuXG4vL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgaHAgPSBIYW5kbGVkUHJvbWlzZTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuaHAoaHApO1xuICAgICAgIGNvbnN0IEUgPSBtYWtlRShocCk7JGjNj19vbmNlLkUoRSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJIYW5kbGVkUHJvbWlzZSI6WyJocCJdLCJFIjpbIkUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAqYDDs54KAACeCgAALQAAAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3NyYy90cmFjay10dXJucy5qc3siaW1wb3J0cyI6WyJAZW5kby9lbnYtb3B0aW9ucyJdLCJleHBvcnRzIjpbInRyYWNrVHVybnMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBnZXRFbnZpcm9ubWVudE9wdGlvbixlbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZW52LW9wdGlvbnNcIiwgW1tcImdldEVudmlyb25tZW50T3B0aW9uXCIsWyRozY9fYSA9PiAoZ2V0RW52aXJvbm1lbnRPcHRpb24gPSAkaM2PX2EpXV0sW1wiZW52aXJvbm1lbnRPcHRpb25zTGlzdEhhc1wiLFskaM2PX2EgPT4gKGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cbi8vXG4vL1xuLy9cbi8vXG4vL1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbmxldCBoaWRkZW5QcmlvckVycm9yO1xubGV0IGhpZGRlbkN1cnJlbnRUdXJuID0gMDtcbmxldCBoaWRkZW5DdXJyZW50RXZlbnQgPSAwO1xuXG4vL1xuY29uc3QgVkVSQk9TRSA9IGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMoJ0RFQlVHJywgJ3RyYWNrLXR1cm5zJyk7XG5cbi8vXG4vL1xuY29uc3QgRU5BQkxFRCA9XG4gIGdldEVudmlyb25tZW50T3B0aW9uKCdUUkFDS19UVVJOUycsICdkaXNhYmxlZCcsIFsnZW5hYmxlZCddKSA9PT0gJ2VuYWJsZWQnO1xuXG4vL1xuLy9cbi8vXG4vL1xuXG5jb25zdCBhZGRSZWplY3Rpb25Ob3RlID0gZGV0YWlsc05vdGUgPT4gcmVhc29uID0+IHtcbiAgaWYgKHJlYXNvbiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgZ2xvYmFsVGhpcy5hc3NlcnQubm90ZShyZWFzb24sIGRldGFpbHNOb3RlKTtcbiAgfVxuICBpZiAoVkVSQk9TRSkge1xuICAgIGNvbnNvbGUubG9nKCdSRUpFQ1RFRCBhdCB0b3Agb2YgZXZlbnQgbG9vcCcsIHJlYXNvbik7XG4gIH1cbn07XG5cbmNvbnN0IHdyYXBGdW5jdGlvbiA9XG4gIChmdW5jLCBzZW5kaW5nRXJyb3IsIFgpID0+XG4gICguLi5hcmdzKSA9PiB7XG4gICAgaGlkZGVuUHJpb3JFcnJvciA9IHNlbmRpbmdFcnJvcjtcbiAgICBoaWRkZW5DdXJyZW50VHVybiArPSAxO1xuICAgIGhpZGRlbkN1cnJlbnRFdmVudCA9IDA7XG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXN1bHQ7XG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBmdW5jKC4uLmFyZ3MpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIGdsb2JhbFRoaXMuYXNzZXJ0Lm5vdGUoXG4gICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICBYYFRocm93biBmcm9tOiAke2hpZGRlblByaW9yRXJyb3J9OiR7aGlkZGVuQ3VycmVudFR1cm59LiR7aGlkZGVuQ3VycmVudEV2ZW50fWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVkVSQk9TRSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdUSFJPV04gdG8gdG9wIG9mIGV2ZW50IGxvb3AnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICBjb25zdCBkZXRhaWxzTm90ZSA9IFhgUmVqZWN0aW9uIGZyb206ICR7aGlkZGVuUHJpb3JFcnJvcn06JHtoaWRkZW5DdXJyZW50VHVybn0uJHtoaWRkZW5DdXJyZW50RXZlbnR9YDtcbiAgICAgIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLmNhdGNoKGFkZFJlamVjdGlvbk5vdGUoZGV0YWlsc05vdGUpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGhpZGRlblByaW9yRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCB0cmFja1R1cm5zID0gZnVuY3MgPT4ge1xuICBpZiAoIUVOQUJMRUQgfHwgdHlwZW9mIGdsb2JhbFRoaXMgPT09ICd1bmRlZmluZWQnIHx8ICFnbG9iYWxUaGlzLmFzc2VydCkge1xuICAgIHJldHVybiBmdW5jcztcbiAgfVxuICBjb25zdCB7IGRldGFpbHM6IFgsIG5vdGU6IGFubm90YXRlRXJyb3IgfSA9IGdsb2JhbFRoaXMuYXNzZXJ0O1xuXG4gIGhpZGRlbkN1cnJlbnRFdmVudCArPSAxO1xuICBjb25zdCBzZW5kaW5nRXJyb3IgPSBFcnJvcihcbiAgICBgRXZlbnQ6ICR7aGlkZGVuQ3VycmVudFR1cm59LiR7aGlkZGVuQ3VycmVudEV2ZW50fWAsXG4gICk7XG4gIGlmIChoaWRkZW5QcmlvckVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICBhbm5vdGF0ZUVycm9yKHNlbmRpbmdFcnJvciwgWGBDYXVzZWQgYnk6ICR7aGlkZGVuUHJpb3JFcnJvcn1gKTtcbiAgfVxuXG4gIHJldHVybiAvKiAgICAgICAgICAgICovIChcbiAgICBmdW5jcy5tYXAoZnVuYyA9PiBmdW5jICYmIHdyYXBGdW5jdGlvbihmdW5jLCBzZW5kaW5nRXJyb3IsIFgpKVxuICApO1xufTtcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLnRyYWNrVHVybnModHJhY2tUdXJucyk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJ0cmFja1R1cm5zIjpbInRyYWNrVHVybnMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAe6GgR2QCAABkAgAAIwAAAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3V0aWxzLmpzeyJpbXBvcnRzIjpbIi4vc3JjL2xvY2FsLmpzIiwiLi9zcmMvbWVzc2FnZS1icmVha3BvaW50cy5qcyJdLCJleHBvcnRzIjpbbnVsbCxudWxsXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9zcmMvbG9jYWwuanNcIiwgW11dLFtcIi4vc3JjL21lc3NhZ2UtYnJlYWtwb2ludHMuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL3NyYy9sb2NhbC5qcyI6W1siZ2V0TWV0aG9kTmFtZXMiLCJnZXRNZXRob2ROYW1lcyJdXSwiLi9zcmMvbWVzc2FnZS1icmVha3BvaW50cy5qcyI6W1sibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyIiwibWFrZU1lc3NhZ2VCcmVha3BvaW50VGVzdGVyIl1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADcRdmjYAIAAGACAAAZAAAAQGVuZG8vZXhvLXYxLjUuOS9pbmRleC5qc3siaW1wb3J0cyI6WyIuL3NyYy9leG8tbWFrZXJzLmpzIiwiLi9zcmMvdHlwZXMuanMiLCIuL3NyYy9nZXQtaW50ZXJmYWNlLmpzIl0sImV4cG9ydHMiOltudWxsXSwicmVleHBvcnRzIjpbIi4vc3JjL2V4by1tYWtlcnMuanMiLCIuL3NyYy90eXBlcy5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL3NyYy9leG8tbWFrZXJzLmpzXCIsIFtdXSxbXCIuL3NyYy90eXBlcy5qc1wiLCBbXV0sW1wiLi9zcmMvZ2V0LWludGVyZmFjZS5qc1wiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7Ii4vc3JjL2dldC1pbnRlcmZhY2UuanMiOltbIkdFVF9JTlRFUkZBQ0VfR1VBUkQiLCJHRVRfSU5URVJGQUNFX0dVQVJEIl1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADgINvCzxcAAM8XAAAiAAAAQGVuZG8vZXhvLXYxLjUuOS9zcmMvZXhvLW1ha2Vycy5qc3siaW1wb3J0cyI6WyJAZW5kby9jb21tb24vb2JqZWN0LW1hcC5qcyIsIkBlbmRvL2Vudi1vcHRpb25zIiwiQGVuZG8vZXJyb3JzIiwiLi9leG8tdG9vbHMuanMiXSwiZXhwb3J0cyI6WyJkZWZpbmVFeG9DbGFzcyIsImRlZmluZUV4b0NsYXNzS2l0IiwiaW5pdEVtcHR5IiwibWFrZUV4byJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG9iamVjdE1hcCxlbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzLEZhaWwscSxkZWZlbmRQcm90b3R5cGUsZGVmZW5kUHJvdG90eXBlS2l0OyRozY9faW1wb3J0cyhbW1wiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanNcIiwgW1tcIm9iamVjdE1hcFwiLFskaM2PX2EgPT4gKG9iamVjdE1hcCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vudi1vcHRpb25zXCIsIFtbXCJlbnZpcm9ubWVudE9wdGlvbnNMaXN0SGFzXCIsWyRozY9fYSA9PiAoZW52aXJvbm1lbnRPcHRpb25zTGlzdEhhcyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCIuL2V4by10b29scy5qc1wiLCBbW1wiZGVmZW5kUHJvdG90eXBlXCIsWyRozY9fYSA9PiAoZGVmZW5kUHJvdG90eXBlID0gJGjNj19hKV1dLFtcImRlZmVuZFByb3RvdHlwZUtpdFwiLFskaM2PX2EgPT4gKGRlZmVuZFByb3RvdHlwZUtpdCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuLypcblxuICovXG5cbmNvbnN0IHsgY3JlYXRlLCBzZWFsLCBmcmVlemUsIGRlZmluZVByb3BlcnR5LCB2YWx1ZXMgfSA9IE9iamVjdDtcblxuLy9cbmNvbnN0IExBQkVMX0lOU1RBTkNFUyA9IGVudmlyb25tZW50T3B0aW9uc0xpc3RIYXMoJ0RFQlVHJywgJ2xhYmVsLWluc3RhbmNlcycpO1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VTZWxmID0gKHByb3RvLCBpbnN0YW5jZUNvdW50KSA9PiB7XG4gIGNvbnN0IHNlbGYgPSBjcmVhdGUocHJvdG8pO1xuICBpZiAoTEFCRUxfSU5TVEFOQ0VTKSB7XG4gICAgZGVmaW5lUHJvcGVydHkoc2VsZiwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG4gICAgICB2YWx1ZTogYCR7cHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXX0jJHtpbnN0YW5jZUNvdW50fWAsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGhhcmRlbihzZWxmKTtcbn07XG5cbmNvbnN0IGVtcHR5UmVjb3JkID0gaGFyZGVuKHt9KTtcblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaW5pdEVtcHR5ID0gKCkgPT4gZW1wdHlSZWNvcmQ7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovJGjNj19vbmNlLmluaXRFbXB0eShpbml0RW1wdHkpO1xuICAgICAgIGNvbnN0IGRlZmluZUV4b0NsYXNzID0gKFxuICB0YWcsXG4gIGludGVyZmFjZUd1YXJkLFxuICBpbml0LFxuICBtZXRob2RzLFxuICBvcHRpb25zID0ge30sXG4pID0+IHtcbiAgaGFyZGVuKG1ldGhvZHMpO1xuICBjb25zdCB7XG4gICAgZmluaXNoID0gdW5kZWZpbmVkLFxuICAgIHJlY2VpdmVBbXBsaWZpZXIgPSB1bmRlZmluZWQsXG4gICAgcmVjZWl2ZUluc3RhbmNlVGVzdGVyID0gdW5kZWZpbmVkLFxuICB9ID0gb3B0aW9ucztcbiAgcmVjZWl2ZUFtcGxpZmllciA9PT0gdW5kZWZpbmVkIHx8XG4gICAgRmFpbGBPbmx5IGZhY2V0cyBvZiBhbiBleG8gY2xhc3Mga2l0IGNhbiBiZSBhbXBsaWZpZWQgJHtxKHRhZyl9YDtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgY29udGV4dE1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gIGNvbnN0IHByb3RvID0gZGVmZW5kUHJvdG90eXBlKFxuICAgIHRhZyxcbiAgICBzZWxmID0+IC8qICAgICAgICAgICAgICAqLyAoY29udGV4dE1hcC5nZXQoc2VsZikpLFxuICAgIG1ldGhvZHMsXG4gICAgdHJ1ZSxcbiAgICBpbnRlcmZhY2VHdWFyZCxcbiAgKTtcbiAgbGV0IGluc3RhbmNlQ291bnQgPSAwO1xuICAvKlxuXG4gICAqL1xuICBjb25zdCBtYWtlSW5zdGFuY2UgPSAoLi4uYXJncykgPT4ge1xuICAgIC8vXG4gICAgY29uc3Qgc3RhdGUgPSBzZWFsKGluaXQoLi4uYXJncykpO1xuICAgIGluc3RhbmNlQ291bnQgKz0gMTtcbiAgICBjb25zdCBzZWxmID0gbWFrZVNlbGYocHJvdG8sIGluc3RhbmNlQ291bnQpO1xuXG4gICAgLy9cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGNvbnRleHQgPSBmcmVlemUoeyBzdGF0ZSwgc2VsZiB9KTtcbiAgICBjb250ZXh0TWFwLnNldChzZWxmLCBjb250ZXh0KTtcbiAgICBpZiAoZmluaXNoKSB7XG4gICAgICBmaW5pc2goY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIGlmIChyZWNlaXZlSW5zdGFuY2VUZXN0ZXIpIHtcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgY29uc3QgaXNJbnN0YW5jZSA9IChleG8sIGZhY2V0TmFtZSA9IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgZmFjZXROYW1lID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgRmFpbGBmYWNldE5hbWUgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIGFuIGV4byBjbGFzcyBraXQ6ICR7cShcbiAgICAgICAgICB0YWcsXG4gICAgICAgICl9IGhhcyBubyBmYWNldCAke3EoZmFjZXROYW1lKX1gO1xuICAgICAgcmV0dXJuIGNvbnRleHRNYXAuaGFzKGV4byk7XG4gICAgfTtcbiAgICBoYXJkZW4oaXNJbnN0YW5jZSk7XG4gICAgcmVjZWl2ZUluc3RhbmNlVGVzdGVyKGlzSW5zdGFuY2UpO1xuICB9XG5cbiAgcmV0dXJuIGhhcmRlbihtYWtlSW5zdGFuY2UpO1xufTskaM2PX29uY2UuZGVmaW5lRXhvQ2xhc3MoZGVmaW5lRXhvQ2xhc3MpO1xuaGFyZGVuKGRlZmluZUV4b0NsYXNzKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBkZWZpbmVFeG9DbGFzc0tpdCA9IChcbiAgdGFnLFxuICBpbnRlcmZhY2VHdWFyZEtpdCxcbiAgaW5pdCxcbiAgbWV0aG9kc0tpdCxcbiAgb3B0aW9ucyA9IHt9LFxuKSA9PiB7XG4gIGhhcmRlbihtZXRob2RzS2l0KTtcbiAgY29uc3Qge1xuICAgIGZpbmlzaCA9IHVuZGVmaW5lZCxcbiAgICByZWNlaXZlQW1wbGlmaWVyID0gdW5kZWZpbmVkLFxuICAgIHJlY2VpdmVJbnN0YW5jZVRlc3RlciA9IHVuZGVmaW5lZCxcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNvbnRleHRNYXBLaXQgPSBvYmplY3RNYXAobWV0aG9kc0tpdCwgKCkgPT4gbmV3IFdlYWtNYXAoKSk7XG4gIGNvbnN0IGdldENvbnRleHRLaXQgPSBvYmplY3RNYXAoXG4gICAgY29udGV4dE1hcEtpdCxcbiAgICBjb250ZXh0TWFwID0+IGZhY2V0ID0+IGNvbnRleHRNYXAuZ2V0KGZhY2V0KSxcbiAgKTtcbiAgY29uc3QgcHJvdG90eXBlS2l0ID0gZGVmZW5kUHJvdG90eXBlS2l0KFxuICAgIHRhZyxcbiAgICBnZXRDb250ZXh0S2l0LFxuICAgIG1ldGhvZHNLaXQsXG4gICAgdHJ1ZSxcbiAgICBpbnRlcmZhY2VHdWFyZEtpdCxcbiAgKTtcbiAgbGV0IGluc3RhbmNlQ291bnQgPSAwO1xuICAvKlxuXG4gICAqL1xuICBjb25zdCBtYWtlSW5zdGFuY2VLaXQgPSAoLi4uYXJncykgPT4ge1xuICAgIC8vXG4gICAgY29uc3Qgc3RhdGUgPSBzZWFsKGluaXQoLi4uYXJncykpO1xuICAgIC8vXG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGNvbnRleHQgPSB7IHN0YXRlLCBmYWNldHM6IG51bGwgfTtcbiAgICBpbnN0YW5jZUNvdW50ICs9IDE7XG4gICAgY29uc3QgZmFjZXRzID0gb2JqZWN0TWFwKHByb3RvdHlwZUtpdCwgKHByb3RvLCBmYWNldE5hbWUpID0+IHtcbiAgICAgIGNvbnN0IHNlbGYgPSBtYWtlU2VsZihwcm90bywgaW5zdGFuY2VDb3VudCk7XG4gICAgICBjb250ZXh0TWFwS2l0W2ZhY2V0TmFtZV0uc2V0KHNlbGYsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSk7XG4gICAgY29udGV4dC5mYWNldHMgPSBmYWNldHM7XG4gICAgLy9cbiAgICBmcmVlemUoY29udGV4dCk7XG4gICAgaWYgKGZpbmlzaCkge1xuICAgICAgZmluaXNoKGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAgICAqLyAoY29udGV4dC5mYWNldHMpO1xuICB9O1xuXG4gIGlmIChyZWNlaXZlQW1wbGlmaWVyKSB7XG4gICAgLyogICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGFtcGxpZnkgPSBleG9GYWNldCA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGNvbnRleHRNYXAgb2YgdmFsdWVzKGNvbnRleHRNYXBLaXQpKSB7XG4gICAgICAgIGlmIChjb250ZXh0TWFwLmhhcyhleG9GYWNldCkpIHtcbiAgICAgICAgICBjb25zdCB7IGZhY2V0cyB9ID0gY29udGV4dE1hcC5nZXQoZXhvRmFjZXQpO1xuICAgICAgICAgIHJldHVybiBmYWNldHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IEZhaWxgTXVzdCBiZSBhIGZhY2V0IG9mICR7cSh0YWcpfTogJHtleG9GYWNldH1gO1xuICAgIH07XG4gICAgaGFyZGVuKGFtcGxpZnkpO1xuICAgIHJlY2VpdmVBbXBsaWZpZXIoYW1wbGlmeSk7XG4gIH1cblxuICBpZiAocmVjZWl2ZUluc3RhbmNlVGVzdGVyKSB7XG4gICAgLyogICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IGlzSW5zdGFuY2UgPSAoZXhvRmFjZXQsIGZhY2V0TmFtZSA9IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgaWYgKGZhY2V0TmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXMoY29udGV4dE1hcEtpdCkuc29tZShjb250ZXh0TWFwID0+XG4gICAgICAgICAgY29udGV4dE1hcC5oYXMoZXhvRmFjZXQpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgYXNzZXJ0LnR5cGVvZihmYWNldE5hbWUsICdzdHJpbmcnKTtcbiAgICAgIGNvbnN0IGNvbnRleHRNYXAgPSBjb250ZXh0TWFwS2l0W2ZhY2V0TmFtZV07XG4gICAgICBjb250ZXh0TWFwICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgRmFpbGBleG8gY2xhc3Mga2l0ICR7cSh0YWcpfSBoYXMgbm8gZmFjZXQgbmFtZWQgJHtxKGZhY2V0TmFtZSl9YDtcbiAgICAgIHJldHVybiBjb250ZXh0TWFwLmhhcyhleG9GYWNldCk7XG4gICAgfTtcbiAgICBoYXJkZW4oaXNJbnN0YW5jZSk7XG4gICAgcmVjZWl2ZUluc3RhbmNlVGVzdGVyKGlzSW5zdGFuY2UpO1xuICB9XG5cbiAgcmV0dXJuIGhhcmRlbihtYWtlSW5zdGFuY2VLaXQpO1xufTskaM2PX29uY2UuZGVmaW5lRXhvQ2xhc3NLaXQoZGVmaW5lRXhvQ2xhc3NLaXQpO1xuaGFyZGVuKGRlZmluZUV4b0NsYXNzS2l0KTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlRXhvID0gKHRhZywgaW50ZXJmYWNlR3VhcmQsIG1ldGhvZHMsIG9wdGlvbnMgPSB1bmRlZmluZWQpID0+IHtcbiAgY29uc3QgbWFrZUluc3RhbmNlID0gZGVmaW5lRXhvQ2xhc3MoXG4gICAgdGFnLFxuICAgIGludGVyZmFjZUd1YXJkLFxuICAgIGluaXRFbXB0eSxcbiAgICBtZXRob2RzLFxuICAgIG9wdGlvbnMsXG4gICk7XG4gIHJldHVybiBtYWtlSW5zdGFuY2UoKTtcbn07JGjNj19vbmNlLm1ha2VFeG8obWFrZUV4byk7XG5oYXJkZW4obWFrZUV4byk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJpbml0RW1wdHkiOlsiaW5pdEVtcHR5Il0sImRlZmluZUV4b0NsYXNzIjpbImRlZmluZUV4b0NsYXNzIl0sImRlZmluZUV4b0NsYXNzS2l0IjpbImRlZmluZUV4b0NsYXNzS2l0Il0sIm1ha2VFeG8iOlsibWFrZUV4byJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADBKpYxAzgAAAM4AAAhAAAAQGVuZG8vZXhvLXYxLjUuOS9zcmMvZXhvLXRvb2xzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2V2ZW50dWFsLXNlbmQvdXRpbHMuanMiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vZmFyIiwiQGVuZG8vcGF0dGVybnMiLCJAZW5kby9jb21tb24vbGlzdC1kaWZmZXJlbmNlLmpzIiwiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiLCJAZW5kby9lcnJvcnMiLCIuL2dldC1pbnRlcmZhY2UuanMiXSwiZXhwb3J0cyI6WyJkZWZlbmRQcm90b3R5cGUiLCJkZWZlbmRQcm90b3R5cGVLaXQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBnZXRNZXRob2ROYW1lcyxoYXNPd25Qcm9wZXJ0eU9mLHRvVGhyb3dhYmxlLEUsRmFyLG11c3RNYXRjaCxNLGlzQXdhaXRBcmdHdWFyZCxpc1Jhd0d1YXJkLGdldEF3YWl0QXJnR3VhcmRQYXlsb2FkLGdldE1ldGhvZEd1YXJkUGF5bG9hZCxnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQsZ2V0Q29weU1hcEVudHJpZXMsbGlzdERpZmZlcmVuY2Usb2JqZWN0TWFwLHEsRmFpbCxHRVRfSU5URVJGQUNFX0dVQVJEOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXZlbnR1YWwtc2VuZC91dGlscy5qc1wiLCBbW1wiZ2V0TWV0aG9kTmFtZXNcIixbJGjNj19hID0+IChnZXRNZXRob2ROYW1lcyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImhhc093blByb3BlcnR5T2ZcIixbJGjNj19hID0+IChoYXNPd25Qcm9wZXJ0eU9mID0gJGjNj19hKV1dLFtcInRvVGhyb3dhYmxlXCIsWyRozY9fYSA9PiAodG9UaHJvd2FibGUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9mYXJcIiwgW1tcIkVcIixbJGjNj19hID0+IChFID0gJGjNj19hKV1dLFtcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3BhdHRlcm5zXCIsIFtbXCJtdXN0TWF0Y2hcIixbJGjNj19hID0+IChtdXN0TWF0Y2ggPSAkaM2PX2EpXV0sW1wiTVwiLFskaM2PX2EgPT4gKE0gPSAkaM2PX2EpXV0sW1wiaXNBd2FpdEFyZ0d1YXJkXCIsWyRozY9fYSA9PiAoaXNBd2FpdEFyZ0d1YXJkID0gJGjNj19hKV1dLFtcImlzUmF3R3VhcmRcIixbJGjNj19hID0+IChpc1Jhd0d1YXJkID0gJGjNj19hKV1dLFtcImdldEF3YWl0QXJnR3VhcmRQYXlsb2FkXCIsWyRozY9fYSA9PiAoZ2V0QXdhaXRBcmdHdWFyZFBheWxvYWQgPSAkaM2PX2EpXV0sW1wiZ2V0TWV0aG9kR3VhcmRQYXlsb2FkXCIsWyRozY9fYSA9PiAoZ2V0TWV0aG9kR3VhcmRQYXlsb2FkID0gJGjNj19hKV1dLFtcImdldEludGVyZmFjZUd1YXJkUGF5bG9hZFwiLFskaM2PX2EgPT4gKGdldEludGVyZmFjZUd1YXJkUGF5bG9hZCA9ICRozY9fYSldXSxbXCJnZXRDb3B5TWFwRW50cmllc1wiLFskaM2PX2EgPT4gKGdldENvcHlNYXBFbnRyaWVzID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vY29tbW9uL2xpc3QtZGlmZmVyZW5jZS5qc1wiLCBbW1wibGlzdERpZmZlcmVuY2VcIixbJGjNj19hID0+IChsaXN0RGlmZmVyZW5jZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2NvbW1vbi9vYmplY3QtbWFwLmpzXCIsIFtbXCJvYmplY3RNYXBcIixbJGjNj19hID0+IChvYmplY3RNYXAgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV0sW1wiLi9nZXQtaW50ZXJmYWNlLmpzXCIsIFtbXCJHRVRfSU5URVJGQUNFX0dVQVJEXCIsWyRozY9fYSA9PiAoR0VUX0lOVEVSRkFDRV9HVUFSRCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG4gKi9cblxuY29uc3QgeyBhcHBseSwgb3duS2V5cyB9ID0gUmVmbGVjdDtcbmNvbnN0IHsgZGVmaW5lUHJvcGVydGllcywgZnJvbUVudHJpZXMgfSA9IE9iamVjdDtcblxuLypcblxuXG4gKi9cbmNvbnN0IFJhd01ldGhvZEd1YXJkID0gTS5jYWxsKCkucmVzdChNLnJhdygpKS5yZXR1cm5zKE0ucmF3KCkpO1xuXG5jb25zdCBSRURBQ1RFRF9SQVdfQVJHID0gJzxyZWRhY3RlZCByYXcgYXJnPic7XG5cbi8qXG5cblxuXG5cblxuICovXG5jb25zdCBQYXNzYWJsZU1ldGhvZEd1YXJkID0gTS5jYWxsKCkucmVzdChNLmFueSgpKS5yZXR1cm5zKE0uYW55KCkpO1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IGRlZmVuZFN5bmNBcmdzID0gKHN5bmNBcmdzLCBtYXRjaENvbmZpZywgbGFiZWwgPSB1bmRlZmluZWQpID0+IHtcbiAgY29uc3Qge1xuICAgIGRlY2xhcmVkTGVuLFxuICAgIGhhc1Jlc3RBcmdHdWFyZCxcbiAgICByZXN0QXJnR3VhcmRJc1JhdyxcbiAgICBwYXJhbXNQYXR0ZXJuLFxuICAgIHJlZGFjdGVkSW5kaWNlcyxcbiAgfSA9IG1hdGNoQ29uZmlnO1xuXG4gIC8vXG4gIC8vXG4gIGxldCBtYXRjaGFibGVBcmdzID0gc3luY0FyZ3M7XG4gIGlmIChyZXN0QXJnR3VhcmRJc1JhdyAmJiBzeW5jQXJncy5sZW5ndGggPiBkZWNsYXJlZExlbikge1xuICAgIGNvbnN0IHJlc3RMZW4gPSBzeW5jQXJncy5sZW5ndGggLSBkZWNsYXJlZExlbjtcbiAgICBjb25zdCByZWRhY3RlZFJlc3QgPSBBcnJheShyZXN0TGVuKS5maWxsKFJFREFDVEVEX1JBV19BUkcpO1xuICAgIG1hdGNoYWJsZUFyZ3MgPSBbLi4uc3luY0FyZ3Muc2xpY2UoMCwgZGVjbGFyZWRMZW4pLCAuLi5yZWRhY3RlZFJlc3RdO1xuICB9IGVsc2UgaWYgKFxuICAgIHJlZGFjdGVkSW5kaWNlcy5sZW5ndGggPiAwICYmXG4gICAgcmVkYWN0ZWRJbmRpY2VzWzBdIDwgc3luY0FyZ3MubGVuZ3RoXG4gICkge1xuICAgIC8vXG4gICAgLy9cbiAgICBtYXRjaGFibGVBcmdzID0gWy4uLnN5bmNBcmdzXTtcbiAgfVxuXG4gIGZvciAoY29uc3QgaSBvZiByZWRhY3RlZEluZGljZXMpIHtcbiAgICBpZiAoaSA+PSBtYXRjaGFibGVBcmdzLmxlbmd0aCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIG1hdGNoYWJsZUFyZ3NbaV0gPSBSRURBQ1RFRF9SQVdfQVJHO1xuICB9XG5cbiAgbXVzdE1hdGNoKGhhcmRlbihtYXRjaGFibGVBcmdzKSwgcGFyYW1zUGF0dGVybiwgbGFiZWwpO1xuXG4gIGlmIChoYXNSZXN0QXJnR3VhcmQpIHtcbiAgICByZXR1cm4gc3luY0FyZ3M7XG4gIH1cbiAgc3luY0FyZ3MubGVuZ3RoIDw9IGRlY2xhcmVkTGVuIHx8XG4gICAgRmFpbGAke3EobGFiZWwpfSBhY2NlcHRzIGF0IG1vc3QgJHtxKGRlY2xhcmVkTGVuKX0gYXJndW1lbnRzLCBub3QgJHtxKFxuICAgICAgc3luY0FyZ3MubGVuZ3RoLFxuICAgICl9OiAke3N5bmNBcmdzfWA7XG4gIHJldHVybiBzeW5jQXJncztcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgYnVpbGRNYXRjaENvbmZpZyA9IG1ldGhvZEd1YXJkUGF5bG9hZCA9PiB7XG4gIGNvbnN0IHtcbiAgICBhcmdHdWFyZHMsXG4gICAgb3B0aW9uYWxBcmdHdWFyZHMgPSBbXSxcbiAgICByZXN0QXJnR3VhcmQsXG4gIH0gPSBtZXRob2RHdWFyZFBheWxvYWQ7XG5cbiAgY29uc3QgbWF0Y2hhYmxlQXJnR3VhcmRzID0gWy4uLmFyZ0d1YXJkcywgLi4ub3B0aW9uYWxBcmdHdWFyZHNdO1xuXG4gIGNvbnN0IHJlZGFjdGVkSW5kaWNlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGNoYWJsZUFyZ0d1YXJkcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChpc1Jhd0d1YXJkKG1hdGNoYWJsZUFyZ0d1YXJkc1tpXSkpIHtcbiAgICAgIG1hdGNoYWJsZUFyZ0d1YXJkc1tpXSA9IFJFREFDVEVEX1JBV19BUkc7XG4gICAgICByZWRhY3RlZEluZGljZXMucHVzaChpKTtcbiAgICB9XG4gIH1cblxuICAvL1xuICBsZXQgbWF0Y2hhYmxlUmVzdEFyZ0d1YXJkID0gcmVzdEFyZ0d1YXJkO1xuICBpZiAoaXNSYXdHdWFyZChtYXRjaGFibGVSZXN0QXJnR3VhcmQpKSB7XG4gICAgbWF0Y2hhYmxlUmVzdEFyZ0d1YXJkID0gTS5hcnJheU9mKFJFREFDVEVEX1JBV19BUkcpO1xuICB9XG4gIGNvbnN0IG1hdGNoYWJsZU1ldGhvZEd1YXJkUGF5bG9hZCA9IGhhcmRlbih7XG4gICAgLi4ubWV0aG9kR3VhcmRQYXlsb2FkLFxuICAgIGFyZ0d1YXJkczogbWF0Y2hhYmxlQXJnR3VhcmRzLnNsaWNlKDAsIGFyZ0d1YXJkcy5sZW5ndGgpLFxuICAgIG9wdGlvbmFsQXJnR3VhcmRzOiBtYXRjaGFibGVBcmdHdWFyZHMuc2xpY2UoYXJnR3VhcmRzLmxlbmd0aCksXG4gICAgcmVzdEFyZ0d1YXJkOiBtYXRjaGFibGVSZXN0QXJnR3VhcmQsXG4gIH0pO1xuXG4gIGNvbnN0IHBhcmFtc1BhdHRlcm4gPSBNLnNwbGl0QXJyYXkoXG4gICAgbWF0Y2hhYmxlTWV0aG9kR3VhcmRQYXlsb2FkLmFyZ0d1YXJkcyxcbiAgICBtYXRjaGFibGVNZXRob2RHdWFyZFBheWxvYWQub3B0aW9uYWxBcmdHdWFyZHMsXG4gICAgbWF0Y2hhYmxlTWV0aG9kR3VhcmRQYXlsb2FkLnJlc3RBcmdHdWFyZCxcbiAgKTtcblxuICByZXR1cm4gaGFyZGVuKHtcbiAgICBkZWNsYXJlZExlbjogbWF0Y2hhYmxlQXJnR3VhcmRzLmxlbmd0aCxcbiAgICBoYXNSZXN0QXJnR3VhcmQ6IHJlc3RBcmdHdWFyZCAhPT0gdW5kZWZpbmVkLFxuICAgIHJlc3RBcmdHdWFyZElzUmF3OiByZXN0QXJnR3VhcmQgIT09IG1hdGNoYWJsZVJlc3RBcmdHdWFyZCxcbiAgICBwYXJhbXNQYXR0ZXJuLFxuICAgIHJlZGFjdGVkSW5kaWNlcyxcbiAgICBtYXRjaGFibGVNZXRob2RHdWFyZFBheWxvYWQsXG4gIH0pO1xufTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGRlZmVuZFN5bmNNZXRob2QgPSAoXG4gIGdldENvbnRleHQsXG4gIGJlaGF2aW9yTWV0aG9kLFxuICBtZXRob2RHdWFyZFBheWxvYWQsXG4gIGxhYmVsLFxuKSA9PiB7XG4gIGNvbnN0IHsgcmV0dXJuR3VhcmQgfSA9IG1ldGhvZEd1YXJkUGF5bG9hZDtcbiAgY29uc3QgaXNSYXdSZXR1cm4gPSBpc1Jhd0d1YXJkKHJldHVybkd1YXJkKTtcbiAgY29uc3QgbWF0Y2hDb25maWcgPSBidWlsZE1hdGNoQ29uZmlnKG1ldGhvZEd1YXJkUGF5bG9hZCk7XG4gIGNvbnN0IHsgc3luY01ldGhvZCB9ID0ge1xuICAgIC8vXG4gICAgc3luY01ldGhvZCguLi5zeW5jQXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGdldENvbnRleHQodGhpcyk7XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IHJlYWxBcmdzID0gZGVmZW5kU3luY0FyZ3Moc3luY0FyZ3MsIG1hdGNoQ29uZmlnLCBsYWJlbCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGFwcGx5KGJlaGF2aW9yTWV0aG9kLCBjb250ZXh0LCByZWFsQXJncyk7XG4gICAgICAgIGlmICghaXNSYXdSZXR1cm4pIHtcbiAgICAgICAgICBtdXN0TWF0Y2goaGFyZGVuKHJlc3VsdCksIHJldHVybkd1YXJkLCBgJHtsYWJlbH06IHJlc3VsdGApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9IGNhdGNoICh0aHJvd25UaGluZykge1xuICAgICAgICB0aHJvdyB0b1Rocm93YWJsZSh0aHJvd25UaGluZyk7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbiAgcmV0dXJuIHN5bmNNZXRob2Q7XG59O1xuXG4vKlxuXG4gKi9cbmNvbnN0IGRlc3luYyA9IG1ldGhvZEd1YXJkUGF5bG9hZCA9PiB7XG4gIGNvbnN0IHtcbiAgICBhcmdHdWFyZHMsXG4gICAgb3B0aW9uYWxBcmdHdWFyZHMgPSBbXSxcbiAgICByZXN0QXJnR3VhcmQsXG4gIH0gPSBtZXRob2RHdWFyZFBheWxvYWQ7XG4gICFpc0F3YWl0QXJnR3VhcmQocmVzdEFyZ0d1YXJkKSB8fFxuICAgIEZhaWxgUmVzdCBhcmdzIG1heSBub3QgYmUgYXdhaXRlZDogJHtyZXN0QXJnR3VhcmR9YDtcbiAgY29uc3QgcmF3QXJnR3VhcmRzID0gWy4uLmFyZ0d1YXJkcywgLi4ub3B0aW9uYWxBcmdHdWFyZHNdO1xuXG4gIGNvbnN0IGF3YWl0SW5kZXhlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJhd0FyZ0d1YXJkcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGFyZ0d1YXJkID0gcmF3QXJnR3VhcmRzW2ldO1xuICAgIGlmIChpc0F3YWl0QXJnR3VhcmQoYXJnR3VhcmQpKSB7XG4gICAgICByYXdBcmdHdWFyZHNbaV0gPSBnZXRBd2FpdEFyZ0d1YXJkUGF5bG9hZChhcmdHdWFyZCkuYXJnR3VhcmQ7XG4gICAgICBhd2FpdEluZGV4ZXMucHVzaChpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBhd2FpdEluZGV4ZXMsXG4gICAgcmF3TWV0aG9kR3VhcmRQYXlsb2FkOiB7XG4gICAgICAuLi5tZXRob2RHdWFyZFBheWxvYWQsXG4gICAgICBhcmdHdWFyZHM6IHJhd0FyZ0d1YXJkcy5zbGljZSgwLCBhcmdHdWFyZHMubGVuZ3RoKSxcbiAgICAgIG9wdGlvbmFsQXJnR3VhcmRzOiByYXdBcmdHdWFyZHMuc2xpY2UoYXJnR3VhcmRzLmxlbmd0aCksXG4gICAgfSxcbiAgfTtcbn07XG5cbi8qXG5cblxuXG5cbiAqL1xuY29uc3QgZGVmZW5kQXN5bmNNZXRob2QgPSAoXG4gIGdldENvbnRleHQsXG4gIGJlaGF2aW9yTWV0aG9kLFxuICBtZXRob2RHdWFyZFBheWxvYWQsXG4gIGxhYmVsLFxuKSA9PiB7XG4gIGNvbnN0IHsgcmV0dXJuR3VhcmQgfSA9IG1ldGhvZEd1YXJkUGF5bG9hZDtcbiAgY29uc3QgaXNSYXdSZXR1cm4gPSBpc1Jhd0d1YXJkKHJldHVybkd1YXJkKTtcblxuICBjb25zdCB7IGF3YWl0SW5kZXhlcywgcmF3TWV0aG9kR3VhcmRQYXlsb2FkIH0gPSBkZXN5bmMobWV0aG9kR3VhcmRQYXlsb2FkKTtcbiAgY29uc3QgbWF0Y2hDb25maWcgPSBidWlsZE1hdGNoQ29uZmlnKHJhd01ldGhvZEd1YXJkUGF5bG9hZCk7XG5cbiAgY29uc3QgeyBhc3luY01ldGhvZCB9ID0ge1xuICAgIC8vXG4gICAgYXN5bmNNZXRob2QoLi4uYXJncykge1xuICAgICAgY29uc3QgYXdhaXRMaXN0ID0gW107XG4gICAgICBmb3IgKGNvbnN0IGkgb2YgYXdhaXRJbmRleGVzKSB7XG4gICAgICAgIGlmIChpID49IGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXRMaXN0LnB1c2goYXJnc1tpXSk7XG4gICAgICB9XG4gICAgICBjb25zdCBwID0gUHJvbWlzZS5hbGwoYXdhaXRMaXN0KTtcbiAgICAgIGNvbnN0IHN5bmNBcmdzID0gWy4uLmFyZ3NdO1xuICAgICAgY29uc3QgcmVzdWx0UCA9IEUud2hlbihcbiAgICAgICAgcCxcbiAgICAgICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIGF3YWl0ZWRBcmdzID0+IHtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGF3YWl0ZWRBcmdzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICBzeW5jQXJnc1thd2FpdEluZGV4ZXNbal1dID0gYXdhaXRlZEFyZ3Nbal07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCBjb250ZXh0ID0gZ2V0Q29udGV4dCh0aGlzKTtcbiAgICAgICAgICBjb25zdCByZWFsQXJncyA9IGRlZmVuZFN5bmNBcmdzKHN5bmNBcmdzLCBtYXRjaENvbmZpZywgbGFiZWwpO1xuICAgICAgICAgIHJldHVybiBhcHBseShiZWhhdmlvck1ldGhvZCwgY29udGV4dCwgcmVhbEFyZ3MpO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICAgIHJldHVybiBFLndoZW4ocmVzdWx0UCwgZnVsZmlsbG1lbnQgPT4ge1xuICAgICAgICBpZiAoIWlzUmF3UmV0dXJuKSB7XG4gICAgICAgICAgbXVzdE1hdGNoKGhhcmRlbihmdWxmaWxsbWVudCksIHJldHVybkd1YXJkLCBgJHtsYWJlbH06IHJlc3VsdGApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdWxmaWxsbWVudDtcbiAgICAgIH0pLmNhdGNoKHJlYXNvbiA9PlxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBQcm9taXNlLnJlamVjdCh0b1Rocm93YWJsZShyZWFzb24pKSxcbiAgICAgICk7XG4gICAgfSxcbiAgfTtcbiAgcmV0dXJuIGFzeW5jTWV0aG9kO1xufTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGRlZmVuZE1ldGhvZCA9IChnZXRDb250ZXh0LCBiZWhhdmlvck1ldGhvZCwgbWV0aG9kR3VhcmQsIGxhYmVsKSA9PiB7XG4gIGNvbnN0IG1ldGhvZEd1YXJkUGF5bG9hZCA9IGdldE1ldGhvZEd1YXJkUGF5bG9hZChtZXRob2RHdWFyZCk7XG4gIGNvbnN0IHsgY2FsbEtpbmQgfSA9IG1ldGhvZEd1YXJkUGF5bG9hZDtcbiAgaWYgKGNhbGxLaW5kID09PSAnc3luYycpIHtcbiAgICByZXR1cm4gZGVmZW5kU3luY01ldGhvZChcbiAgICAgIGdldENvbnRleHQsXG4gICAgICBiZWhhdmlvck1ldGhvZCxcbiAgICAgIG1ldGhvZEd1YXJkUGF5bG9hZCxcbiAgICAgIGxhYmVsLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KGNhbGxLaW5kID09PSAnYXN5bmMnKTtcbiAgICByZXR1cm4gZGVmZW5kQXN5bmNNZXRob2QoXG4gICAgICBnZXRDb250ZXh0LFxuICAgICAgYmVoYXZpb3JNZXRob2QsXG4gICAgICBtZXRob2RHdWFyZFBheWxvYWQsXG4gICAgICBsYWJlbCxcbiAgICApO1xuICB9XG59O1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IGJpbmRNZXRob2QgPSAoXG4gIG1ldGhvZFRhZyxcbiAgY29udGV4dFByb3ZpZGVyLFxuICBiZWhhdmlvck1ldGhvZCxcbiAgbWV0aG9kR3VhcmQsXG4pID0+IHtcbiAgYXNzZXJ0LnR5cGVvZihiZWhhdmlvck1ldGhvZCwgJ2Z1bmN0aW9uJyk7XG5cbiAgLypcblxuXG4gICAqL1xuICBjb25zdCBnZXRDb250ZXh0ID0gcmVwcmVzZW50YXRpdmUgPT4ge1xuICAgIHJlcHJlc2VudGF0aXZlIHx8XG4gICAgICAvL1xuICAgICAgRmFpbGBNZXRob2QgJHttZXRob2RUYWd9IGNhbGxlZCB3aXRob3V0ICd0aGlzJyBvYmplY3RgO1xuICAgIGNvbnN0IGNvbnRleHQgPSBjb250ZXh0UHJvdmlkZXIocmVwcmVzZW50YXRpdmUpO1xuICAgIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IEZhaWxgJHtxKFxuICAgICAgICBtZXRob2RUYWcsXG4gICAgICApfSBtYXkgb25seSBiZSBhcHBsaWVkIHRvIGEgdmFsaWQgaW5zdGFuY2U6ICR7cmVwcmVzZW50YXRpdmV9YDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH07XG5cbiAgY29uc3QgbWV0aG9kID0gZGVmZW5kTWV0aG9kKFxuICAgIGdldENvbnRleHQsXG4gICAgYmVoYXZpb3JNZXRob2QsXG4gICAgbWV0aG9kR3VhcmQsXG4gICAgbWV0aG9kVGFnLFxuICApO1xuXG4gIGRlZmluZVByb3BlcnRpZXMobWV0aG9kLCB7XG4gICAgbmFtZTogeyB2YWx1ZTogbWV0aG9kVGFnIH0sXG4gICAgbGVuZ3RoOiB7IHZhbHVlOiBiZWhhdmlvck1ldGhvZC5sZW5ndGggfSxcbiAgfSk7XG4gIHJldHVybiBtZXRob2Q7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZGVmZW5kUHJvdG90eXBlID0gKFxuICB0YWcsXG4gIGNvbnRleHRQcm92aWRlcixcbiAgYmVoYXZpb3JNZXRob2RzLFxuICB0aGlzZnVsTWV0aG9kcyA9IGZhbHNlLFxuICBpbnRlcmZhY2VHdWFyZCA9IHVuZGVmaW5lZCxcbikgPT4ge1xuICBjb25zdCBwcm90b3R5cGUgPSB7fTtcbiAgY29uc3QgbWV0aG9kTmFtZXMgPSBnZXRNZXRob2ROYW1lcyhiZWhhdmlvck1ldGhvZHMpLmZpbHRlcihcbiAgICAvL1xuICAgIC8vXG4gICAga2V5ID0+IHtcbiAgICAgIGlmIChrZXkgIT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IGJlaGF2aW9yTWV0aG9kcy5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgJiZcbiAgICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID09PSBjb25zdHJ1Y3RvclxuICAgICAgKTtcbiAgICB9LFxuICApO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBsZXQgbWV0aG9kR3VhcmRzO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBsZXQgZGVmYXVsdEd1YXJkcztcbiAgaWYgKGludGVyZmFjZUd1YXJkKSB7XG4gICAgY29uc3Qge1xuICAgICAgaW50ZXJmYWNlTmFtZSxcbiAgICAgIG1ldGhvZEd1YXJkczogbWcsXG4gICAgICBzeW1ib2xNZXRob2RHdWFyZHMsXG4gICAgICBzbG9wcHksXG4gICAgICBkZWZhdWx0R3VhcmRzOiBkZyA9IHNsb3BweSA/ICdwYXNzYWJsZScgOiBkZWZhdWx0R3VhcmRzLFxuICAgIH0gPSBnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQoaW50ZXJmYWNlR3VhcmQpO1xuICAgIG1ldGhvZEd1YXJkcyA9IGhhcmRlbih7XG4gICAgICAuLi5tZyxcbiAgICAgIC4uLihzeW1ib2xNZXRob2RHdWFyZHMgJiZcbiAgICAgICAgZnJvbUVudHJpZXMoZ2V0Q29weU1hcEVudHJpZXMoc3ltYm9sTWV0aG9kR3VhcmRzKSkpLFxuICAgIH0pO1xuICAgIGRlZmF1bHRHdWFyZHMgPSBkZztcbiAgICB7XG4gICAgICBjb25zdCBtZXRob2RHdWFyZE5hbWVzID0gb3duS2V5cyhtZXRob2RHdWFyZHMpO1xuICAgICAgY29uc3QgdW5pbXBsZW1lbnRlZCA9IGxpc3REaWZmZXJlbmNlKG1ldGhvZEd1YXJkTmFtZXMsIG1ldGhvZE5hbWVzKTtcbiAgICAgIHVuaW1wbGVtZW50ZWQubGVuZ3RoID09PSAwIHx8XG4gICAgICAgIEZhaWxgbWV0aG9kcyAke3EodW5pbXBsZW1lbnRlZCl9IG5vdCBpbXBsZW1lbnRlZCBieSAke3EodGFnKX1gO1xuICAgICAgaWYgKGRlZmF1bHRHdWFyZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCB1bmd1YXJkZWQgPSBsaXN0RGlmZmVyZW5jZShtZXRob2ROYW1lcywgbWV0aG9kR3VhcmROYW1lcyk7XG4gICAgICAgIHVuZ3VhcmRlZC5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICBGYWlsYG1ldGhvZHMgJHtxKHVuZ3VhcmRlZCl9IG5vdCBndWFyZGVkIGJ5ICR7cShpbnRlcmZhY2VOYW1lKX1gO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoY29uc3QgcHJvcCBvZiBtZXRob2ROYW1lcykge1xuICAgIGNvbnN0IG9yaWdpbmFsTWV0aG9kID0gYmVoYXZpb3JNZXRob2RzW3Byb3BdO1xuICAgIGNvbnN0IHsgc2hpZnRlZE1ldGhvZCB9ID0ge1xuICAgICAgc2hpZnRlZE1ldGhvZCguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbE1ldGhvZCh0aGlzLCAuLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBiZWhhdmlvck1ldGhvZCA9IHRoaXNmdWxNZXRob2RzID8gb3JpZ2luYWxNZXRob2QgOiBzaGlmdGVkTWV0aG9kO1xuICAgIC8vXG4gICAgLy9cbiAgICBsZXQgbWV0aG9kR3VhcmQgPSBtZXRob2RHdWFyZHMgJiYgbWV0aG9kR3VhcmRzW3Byb3BdO1xuICAgIGlmICghbWV0aG9kR3VhcmQpIHtcbiAgICAgIHN3aXRjaCAoZGVmYXVsdEd1YXJkcykge1xuICAgICAgICBjYXNlIHVuZGVmaW5lZDoge1xuICAgICAgICAgIGlmICh0aGlzZnVsTWV0aG9kcykge1xuICAgICAgICAgICAgbWV0aG9kR3VhcmQgPSBQYXNzYWJsZU1ldGhvZEd1YXJkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXRob2RHdWFyZCA9IFJhd01ldGhvZEd1YXJkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdwYXNzYWJsZSc6IHtcbiAgICAgICAgICBtZXRob2RHdWFyZCA9IFBhc3NhYmxlTWV0aG9kR3VhcmQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAncmF3Jzoge1xuICAgICAgICAgIG1ldGhvZEd1YXJkID0gUmF3TWV0aG9kR3VhcmQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIHRocm93IEZhaWxgVW5yZWNvZ25pemVkIGRlZmF1bHRHdWFyZHMgJHtxKGRlZmF1bHRHdWFyZHMpfWA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcHJvdG90eXBlW3Byb3BdID0gYmluZE1ldGhvZChcbiAgICAgIGBJbiAke3EocHJvcCl9IG1ldGhvZCBvZiAoJHt0YWd9KWAsXG4gICAgICBjb250ZXh0UHJvdmlkZXIsXG4gICAgICBiZWhhdmlvck1ldGhvZCxcbiAgICAgIG1ldGhvZEd1YXJkLFxuICAgICk7XG4gIH1cblxuICBpZiAoIWhhc093blByb3BlcnR5T2YocHJvdG90eXBlLCBHRVRfSU5URVJGQUNFX0dVQVJEKSkge1xuICAgIGNvbnN0IGdldEludGVyZmFjZUd1YXJkTWV0aG9kID0ge1xuICAgICAgW0dFVF9JTlRFUkZBQ0VfR1VBUkRdKCkge1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gaW50ZXJmYWNlR3VhcmQ7XG4gICAgICB9LFxuICAgIH1bR0VUX0lOVEVSRkFDRV9HVUFSRF07XG4gICAgcHJvdG90eXBlW0dFVF9JTlRFUkZBQ0VfR1VBUkRdID0gYmluZE1ldGhvZChcbiAgICAgIGBJbiAke3EoR0VUX0lOVEVSRkFDRV9HVUFSRCl9IG1ldGhvZCBvZiAoJHt0YWd9KWAsXG4gICAgICBjb250ZXh0UHJvdmlkZXIsXG4gICAgICBnZXRJbnRlcmZhY2VHdWFyZE1ldGhvZCxcbiAgICAgIFBhc3NhYmxlTWV0aG9kR3VhcmQsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBGYXIoXG4gICAgdGFnLFxuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgICAgIHByb3RvdHlwZVxuICAgICksXG4gICk7XG59OyRozY9fb25jZS5kZWZlbmRQcm90b3R5cGUoZGVmZW5kUHJvdG90eXBlKTtcbmhhcmRlbihkZWZlbmRQcm90b3R5cGUpO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZGVmZW5kUHJvdG90eXBlS2l0ID0gKFxuICB0YWcsXG4gIGNvbnRleHRQcm92aWRlcktpdCxcbiAgYmVoYXZpb3JNZXRob2RzS2l0LFxuICB0aGlzZnVsTWV0aG9kcyA9IGZhbHNlLFxuICBpbnRlcmZhY2VHdWFyZEtpdCA9IHVuZGVmaW5lZCxcbikgPT4ge1xuICBjb25zdCBmYWNldE5hbWVzID0gb3duS2V5cyhiZWhhdmlvck1ldGhvZHNLaXQpLnNvcnQoKTtcbiAgZmFjZXROYW1lcy5sZW5ndGggPiAxIHx8IEZhaWxgQSBtdWx0aS1mYWNldCBvYmplY3QgbXVzdCBoYXZlIG11bHRpcGxlIGZhY2V0c2A7XG4gIGlmIChpbnRlcmZhY2VHdWFyZEtpdCkge1xuICAgIGNvbnN0IGludGVyZmFjZU5hbWVzID0gb3duS2V5cyhpbnRlcmZhY2VHdWFyZEtpdCk7XG4gICAgY29uc3QgZXh0cmFJbnRlcmZhY2VOYW1lcyA9IGxpc3REaWZmZXJlbmNlKGZhY2V0TmFtZXMsIGludGVyZmFjZU5hbWVzKTtcbiAgICBleHRyYUludGVyZmFjZU5hbWVzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgRmFpbGBJbnRlcmZhY2VzICR7cShleHRyYUludGVyZmFjZU5hbWVzKX0gbm90IGltcGxlbWVudGVkIGJ5ICR7cSh0YWcpfWA7XG4gICAgY29uc3QgZXh0cmFGYWNldE5hbWVzID0gbGlzdERpZmZlcmVuY2UoaW50ZXJmYWNlTmFtZXMsIGZhY2V0TmFtZXMpO1xuICAgIGV4dHJhRmFjZXROYW1lcy5sZW5ndGggPT09IDAgfHxcbiAgICAgIEZhaWxgRmFjZXRzICR7cShleHRyYUZhY2V0TmFtZXMpfSBvZiAke3EodGFnKX0gbm90IGd1YXJkZWQgYnkgaW50ZXJmYWNlc2A7XG4gIH1cbiAgY29uc3QgY29udGV4dE1hcE5hbWVzID0gb3duS2V5cyhjb250ZXh0UHJvdmlkZXJLaXQpO1xuICBjb25zdCBleHRyYUNvbnRleHROYW1lcyA9IGxpc3REaWZmZXJlbmNlKGZhY2V0TmFtZXMsIGNvbnRleHRNYXBOYW1lcyk7XG4gIGV4dHJhQ29udGV4dE5hbWVzLmxlbmd0aCA9PT0gMCB8fFxuICAgIEZhaWxgQ29udGV4dHMgJHtxKGV4dHJhQ29udGV4dE5hbWVzKX0gbm90IGltcGxlbWVudGVkIGJ5ICR7cSh0YWcpfWA7XG4gIGNvbnN0IGV4dHJhRmFjZXROYW1lcyA9IGxpc3REaWZmZXJlbmNlKGNvbnRleHRNYXBOYW1lcywgZmFjZXROYW1lcyk7XG4gIGV4dHJhRmFjZXROYW1lcy5sZW5ndGggPT09IDAgfHxcbiAgICBGYWlsYEZhY2V0cyAke3EoZXh0cmFGYWNldE5hbWVzKX0gb2YgJHtxKHRhZyl9IG1pc3NpbmcgY29udGV4dHNgO1xuICBjb25zdCBwcm90b0tpdCA9IG9iamVjdE1hcChiZWhhdmlvck1ldGhvZHNLaXQsIChiZWhhdmlvck1ldGhvZHMsIGZhY2V0TmFtZSkgPT5cbiAgICBkZWZlbmRQcm90b3R5cGUoXG4gICAgICBgJHt0YWd9ICR7U3RyaW5nKGZhY2V0TmFtZSl9YCxcbiAgICAgIGNvbnRleHRQcm92aWRlcktpdFtmYWNldE5hbWVdLFxuICAgICAgYmVoYXZpb3JNZXRob2RzLFxuICAgICAgdGhpc2Z1bE1ldGhvZHMsXG4gICAgICBpbnRlcmZhY2VHdWFyZEtpdCAmJiBpbnRlcmZhY2VHdWFyZEtpdFtmYWNldE5hbWVdLFxuICAgICksXG4gICk7XG4gIHJldHVybiBwcm90b0tpdDtcbn07JGjNj19vbmNlLmRlZmVuZFByb3RvdHlwZUtpdChkZWZlbmRQcm90b3R5cGVLaXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZGVmZW5kUHJvdG90eXBlIjpbImRlZmVuZFByb3RvdHlwZSJdLCJkZWZlbmRQcm90b3R5cGVLaXQiOlsiZGVmZW5kUHJvdG90eXBlS2l0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAODJoYVGAgAARgIAACUAAABAZW5kby9leG8tdjEuNS45L3NyYy9nZXQtaW50ZXJmYWNlLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJHRVRfSU5URVJGQUNFX0dVQVJEIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8vXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgR0VUX0lOVEVSRkFDRV9HVUFSRCA9ICdfX2dldEludGVyZmFjZUd1YXJkX18nO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuR0VUX0lOVEVSRkFDRV9HVUFSRChHRVRfSU5URVJGQUNFX0dVQVJEKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IkdFVF9JTlRFUkZBQ0VfR1VBUkQiOlsiR0VUX0lOVEVSRkFDRV9HVUFSRCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAAdAAAAQGVuZG8vZXhvLXYxLjUuOS9zcmMvdHlwZXMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAARcz/8VgBAABYAQAAIAAAAEBlbmRvL2Zhci12MS4xLjExL3NyYy9leHBvcnRzLmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAKkm1lCYAgAAmAIAAB4AAABAZW5kby9mYXItdjEuMS4xMS9zcmMvaW5kZXguanN7ImltcG9ydHMiOlsiQGVuZG8vZXZlbnR1YWwtc2VuZCIsIkBlbmRvL3Bhc3Mtc3R5bGUiLCIuL2V4cG9ydHMuanMiXSwiZXhwb3J0cyI6WyJnZXRJbnRlcmZhY2VPZiIsImdldEludGVyZmFjZU9mIixudWxsXSwicmVleHBvcnRzIjpbIi4vZXhwb3J0cy5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9ldmVudHVhbC1zZW5kXCIsIFtdXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtdXSxbXCIuL2V4cG9ydHMuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyJAZW5kby9ldmVudHVhbC1zZW5kIjpbWyJFIiwiRSJdXSwiQGVuZG8vcGFzcy1zdHlsZSI6W1siRmFyIiwiRmFyIl0sWyJnZXRJbnRlcmZhY2VPZiIsImdldEludGVyZmFjZU9mIl0sWyJwYXNzU3R5bGVPZiIsInBhc3NTdHlsZU9mIl1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAt1VAGggcAAIIHAAAdAAAAQGVuZG8vbWFyc2hhbC12MS42LjQvaW5kZXguanN7ImltcG9ydHMiOlsiLi9zcmMvZW5jb2RlVG9DYXBEYXRhLmpzIiwiLi9zcmMvbWFyc2hhbC5qcyIsIi4vc3JjL21hcnNoYWwtc3RyaW5naWZ5LmpzIiwiLi9zcmMvbWFyc2hhbC1qdXN0aW4uanMiLCIuL3NyYy9lbmNvZGVQYXNzYWJsZS5qcyIsIi4vc3JjL3JhbmtPcmRlci5qcyIsIi4vc3JjL3R5cGVzLmpzIiwiQGVuZG8vcGFzcy1zdHlsZSJdLCJleHBvcnRzIjpbImFzc2VydFJhbmtTb3J0ZWQiLCJhc3NlcnRSYW5rU29ydGVkIiwibWFrZUVuY29kZVBhc3NhYmxlIiwibWFrZUVuY29kZVBhc3NhYmxlIiwicGFyc2UiLCJwYXJzZSIsbnVsbCxudWxsLG51bGwsbnVsbF0sInJlZXhwb3J0cyI6WyIuL3NyYy90eXBlcy5qcyIsIkBlbmRvL3Bhc3Mtc3R5bGUiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9zcmMvZW5jb2RlVG9DYXBEYXRhLmpzXCIsIFtdXSxbXCIuL3NyYy9tYXJzaGFsLmpzXCIsIFtdXSxbXCIuL3NyYy9tYXJzaGFsLXN0cmluZ2lmeS5qc1wiLCBbXV0sW1wiLi9zcmMvbWFyc2hhbC1qdXN0aW4uanNcIiwgW11dLFtcIi4vc3JjL2VuY29kZVBhc3NhYmxlLmpzXCIsIFtdXSxbXCIuL3NyYy9yYW5rT3JkZXIuanNcIiwgW11dLFtcIi4vc3JjL3R5cGVzLmpzXCIsIFtdXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnsiLi9zcmMvZW5jb2RlVG9DYXBEYXRhLmpzIjpbWyJRQ0xBU1MiLCJRQ0xBU1MiXV0sIi4vc3JjL21hcnNoYWwuanMiOltbIm1ha2VNYXJzaGFsIiwibWFrZU1hcnNoYWwiXV0sIi4vc3JjL21hcnNoYWwtc3RyaW5naWZ5LmpzIjpbWyJzdHJpbmdpZnkiLCJzdHJpbmdpZnkiXSxbInBhcnNlIiwicGFyc2UiXV0sIi4vc3JjL21hcnNoYWwtanVzdGluLmpzIjpbWyJkZWNvZGVUb0p1c3RpbiIsImRlY29kZVRvSnVzdGluIl1dLCIuL3NyYy9lbmNvZGVQYXNzYWJsZS5qcyI6W1sibWFrZVBhc3NhYmxlS2l0IiwibWFrZVBhc3NhYmxlS2l0Il0sWyJtYWtlRW5jb2RlUGFzc2FibGUiLCJtYWtlRW5jb2RlUGFzc2FibGUiXSxbIm1ha2VEZWNvZGVQYXNzYWJsZSIsIm1ha2VEZWNvZGVQYXNzYWJsZSJdLFsiaXNFbmNvZGVkUmVtb3RhYmxlIiwiaXNFbmNvZGVkUmVtb3RhYmxlIl0sWyJ6ZXJvUGFkIiwiemVyb1BhZCJdLFsicmVjb3JkTmFtZXMiLCJyZWNvcmROYW1lcyJdLFsicmVjb3JkVmFsdWVzIiwicmVjb3JkVmFsdWVzIl1dLCIuL3NyYy9yYW5rT3JkZXIuanMiOltbInRyaXZpYWxDb21wYXJhdG9yIiwidHJpdmlhbENvbXBhcmF0b3IiXSxbImFzc2VydFJhbmtTb3J0ZWQiLCJhc3NlcnRSYW5rU29ydGVkIl0sWyJjb21wYXJlUmFuayIsImNvbXBhcmVSYW5rIl0sWyJpc1JhbmtTb3J0ZWQiLCJpc1JhbmtTb3J0ZWQiXSxbInNvcnRCeVJhbmsiLCJzb3J0QnlSYW5rIl0sWyJjb21wYXJlQW50aVJhbmsiLCJjb21wYXJlQW50aVJhbmsiXSxbIm1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0IiwibWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXQiXSxbImdldFBhc3NTdHlsZUNvdmVyIiwiZ2V0UGFzc1N0eWxlQ292ZXIiXSxbImludGVyc2VjdFJhbmtDb3ZlcnMiLCJpbnRlcnNlY3RSYW5rQ292ZXJzIl0sWyJ1bmlvblJhbmtDb3ZlcnMiLCJ1bmlvblJhbmtDb3ZlcnMiXV0sIkBlbmRvL3Bhc3Mtc3R5bGUiOltbImRlZXBseUZ1bGZpbGxlZCIsImRlZXBseUZ1bGZpbGxlZCJdXX0sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAlXxlmZpPAACaTwAAKgAAAEBlbmRvL21hcnNoYWwtdjEuNi40L3NyYy9lbmNvZGVQYXNzYWJsZS5qc3siaW1wb3J0cyI6WyJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsiaXNFbmNvZGVkUmVtb3RhYmxlIiwibWFrZURlY29kZVBhc3NhYmxlIiwibWFrZUVuY29kZVBhc3NhYmxlIiwibWFrZVBhc3NhYmxlS2l0IiwicGFzc1N0eWxlUHJlZml4ZXMiLCJyZWNvcmROYW1lcyIsInJlY29yZFZhbHVlcyIsInplcm9QYWQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBnZXRUYWcsbWFrZVRhZ2dlZCxwYXNzU3R5bGVPZixhc3NlcnRSZWNvcmQsaXNFcnJvckxpa2UsbmFtZUZvclBhc3NhYmxlU3ltYm9sLHBhc3NhYmxlU3ltYm9sRm9yTmFtZSxiLHEsRmFpbDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImdldFRhZ1wiLFskaM2PX2EgPT4gKGdldFRhZyA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dLFtcImFzc2VydFJlY29yZFwiLFskaM2PX2EgPT4gKGFzc2VydFJlY29yZCA9ICRozY9fYSldXSxbXCJpc0Vycm9yTGlrZVwiLFskaM2PX2EgPT4gKGlzRXJyb3JMaWtlID0gJGjNj19hKV1dLFtcIm5hbWVGb3JQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKG5hbWVGb3JQYXNzYWJsZVN5bWJvbCA9ICRozY9fYSldXSxbXCJwYXNzYWJsZVN5bWJvbEZvck5hbWVcIixbJGjNj19hID0+IChwYXNzYWJsZVN5bWJvbEZvck5hbWUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcImJcIixbJGjNj19hID0+IChiID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuY29uc3QgeyBpc0FycmF5IH0gPSBBcnJheTtcbmNvbnN0IHsgZnJvbUVudHJpZXMsIGlzIH0gPSBPYmplY3Q7XG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5cbi8vXG5jb25zdCByQzAgPSAvW1xceDAwLVxceDFGXS87XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgZ2V0U3VmZml4ID0gKHN0ciwgaW5kZXgpID0+IChpbmRleCA9PT0gMCA/IHN0ciA6IHN0ci5zdWJzdHJpbmcoaW5kZXgpKTtcblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcmVjb3JkTmFtZXMgPSByZWNvcmQgPT5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgaGFyZGVuKC8qICAgICAgICAgICAgICAgICAgICovIChvd25LZXlzKHJlY29yZCkpLnNvcnQoKS5yZXZlcnNlKCkpOyRozY9fb25jZS5yZWNvcmROYW1lcyhyZWNvcmROYW1lcyk7XG5oYXJkZW4ocmVjb3JkTmFtZXMpO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCByZWNvcmRWYWx1ZXMgPSAocmVjb3JkLCBuYW1lcykgPT5cbiAgaGFyZGVuKG5hbWVzLm1hcChuYW1lID0+IHJlY29yZFtuYW1lXSkpOyRozY9fb25jZS5yZWNvcmRWYWx1ZXMocmVjb3JkVmFsdWVzKTtcbmhhcmRlbihyZWNvcmRWYWx1ZXMpO1xuXG5jb25zdCB6ZXJvZXMgPSBBcnJheSgxNilcbiAgLmZpbGwodW5kZWZpbmVkKVxuICAubWFwKChfLCBpKSA9PiAnMCcucmVwZWF0KGkpKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHplcm9QYWQgPSAobiwgc2l6ZSkgPT4ge1xuICBjb25zdCBuU3RyID0gYCR7bn1gO1xuICBjb25zdCBmaWxsTGVuID0gc2l6ZSAtIG5TdHIubGVuZ3RoO1xuICBpZiAoZmlsbExlbiA9PT0gMCkgcmV0dXJuIG5TdHI7XG4gIGFzc2VydChmaWxsTGVuID4gMCAmJiBmaWxsTGVuIDwgemVyb2VzLmxlbmd0aCk7XG4gIHJldHVybiBgJHt6ZXJvZXNbZmlsbExlbl19JHtuU3RyfWA7XG59OyRozY9fb25jZS56ZXJvUGFkKHplcm9QYWQpO1xuaGFyZGVuKHplcm9QYWQpO1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbmNvbnN0IGFzTnVtYmVyID0gbmV3IEZsb2F0NjRBcnJheSgxKTtcbmNvbnN0IGFzQml0cyA9IG5ldyBCaWdVaW50NjRBcnJheShhc051bWJlci5idWZmZXIpO1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbi8vXG5jb25zdCBDYW5vbmljYWxOYU5CaXRzID0gJ2ZmZjgwMDAwMDAwMDAwMDAnO1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgZW5jb2RlQmluYXJ5NjQgPSBuID0+IHtcbiAgLy9cbiAgaWYgKGlzKG4sIC0wKSkge1xuICAgIG4gPSAwO1xuICB9IGVsc2UgaWYgKGlzKG4sIE5hTikpIHtcbiAgICByZXR1cm4gYGYke0Nhbm9uaWNhbE5hTkJpdHN9YDtcbiAgfVxuICBhc051bWJlclswXSA9IG47XG4gIGxldCBiaXRzID0gYXNCaXRzWzBdO1xuICBpZiAobiA8IDApIHtcbiAgICBiaXRzIF49IDB4ZmZmZmZmZmZmZmZmZmZmZm47XG4gIH0gZWxzZSB7XG4gICAgYml0cyBePSAweDgwMDAwMDAwMDAwMDAwMDBuO1xuICB9XG4gIHJldHVybiBgZiR7emVyb1BhZChiaXRzLnRvU3RyaW5nKDE2KSwgMTYpfWA7XG59O1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBkZWNvZGVCaW5hcnk2NCA9IChlbmNvZGVkLCBza2lwID0gMCkgPT4ge1xuICBlbmNvZGVkLmNoYXJBdChza2lwKSA9PT0gJ2YnIHx8IEZhaWxgRW5jb2RlZCBudW1iZXIgZXhwZWN0ZWQ6ICR7ZW5jb2RlZH1gO1xuICBsZXQgYml0cyA9IEJpZ0ludChgMHgke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwICsgMSl9YCk7XG4gIGlmIChlbmNvZGVkLmNoYXJBdChza2lwICsgMSkgPCAnOCcpIHtcbiAgICBiaXRzIF49IDB4ZmZmZmZmZmZmZmZmZmZmZm47XG4gIH0gZWxzZSB7XG4gICAgYml0cyBePSAweDgwMDAwMDAwMDAwMDAwMDBuO1xuICB9XG4gIGFzQml0c1swXSA9IGJpdHM7XG4gIGNvbnN0IHJlc3VsdCA9IGFzTnVtYmVyWzBdO1xuICAhaXMocmVzdWx0LCAtMCkgfHxcbiAgICBGYWlsYFVuZXhwZWN0ZWQgbmVnYXRpdmUgemVybzogJHtnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCl9YDtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGVuY29kZUJpZ0ludCA9IG4gPT4ge1xuICBjb25zdCBhYnMgPSBuIDwgMG4gPyAtbiA6IG47XG4gIGNvbnN0IG5EaWdpdHMgPSBhYnMudG9TdHJpbmcoKS5sZW5ndGg7XG4gIGNvbnN0IGxEaWdpdHMgPSBuRGlnaXRzLnRvU3RyaW5nKCkubGVuZ3RoO1xuICBpZiAobiA8IDBuKSB7XG4gICAgcmV0dXJuIGBuJHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgJyMnLnJlcGVhdChsRGlnaXRzIC0gMSlcbiAgICB9JHtcbiAgICAgIC8vXG4gICAgICAoMTAgKiogbERpZ2l0cyAtIG5EaWdpdHMpLnRvU3RyaW5nKCkucGFkU3RhcnQobERpZ2l0cywgJzAnKVxuICAgIH06JHtcbiAgICAgIC8vXG4gICAgICAoMTBuICoqIEJpZ0ludChuRGlnaXRzKSArIG4pLnRvU3RyaW5nKCkucGFkU3RhcnQobkRpZ2l0cywgJzAnKVxuICAgIH1gO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBgcCR7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgICd+Jy5yZXBlYXQobERpZ2l0cyAtIDEpXG4gICAgfSR7XG4gICAgICAvL1xuICAgICAgbkRpZ2l0c1xuICAgIH06JHtcbiAgICAgIC8vXG4gICAgICBuXG4gICAgfWA7XG4gIH1cbn07XG5cbmNvbnN0IHJCaWdJbnRQYXlsb2FkID0gLyhbMC05XSspKDooWzAtOV0rJHwpfCkvcztcblxuLypcblxuXG4gKi9cbmNvbnN0IGRlY29kZUJpZ0ludCA9IGVuY29kZWQgPT4ge1xuICBjb25zdCB0eXBlUHJlZml4ID0gZW5jb2RlZC5jaGFyQXQoMCk7IC8vXG4gIHR5cGVQcmVmaXggPT09ICdwJyB8fFxuICAgIHR5cGVQcmVmaXggPT09ICduJyB8fFxuICAgIEZhaWxgRW5jb2RlZCBiaWdpbnQgZXhwZWN0ZWQ6ICR7ZW5jb2RlZH1gO1xuXG4gIGNvbnN0IHtcbiAgICBpbmRleDogbERpZ2l0cyxcbiAgICAxOiBzbkRpZ2l0cyxcbiAgICAyOiB0YWlsLFxuICAgIDM6IGRpZ2l0cyxcbiAgfSA9IGVuY29kZWQubWF0Y2gockJpZ0ludFBheWxvYWQpIHx8IEZhaWxgRGlnaXQgY291bnQgZXhwZWN0ZWQ6ICR7ZW5jb2RlZH1gO1xuXG4gIHNuRGlnaXRzLmxlbmd0aCA9PT0gbERpZ2l0cyB8fFxuICAgIEZhaWxgVW5hcnktcHJlZml4ZWQgZGVjaW1hbCBkaWdpdCBjb3VudCBleHBlY3RlZDogJHtlbmNvZGVkfWA7XG4gIGxldCBuRGlnaXRzID0gcGFyc2VJbnQoc25EaWdpdHMsIDEwKTtcbiAgaWYgKHR5cGVQcmVmaXggPT09ICduJykge1xuICAgIC8vXG4gICAgLy9cbiAgICBuRGlnaXRzID0gMTAgKiogLyogICAgICAgICAgICAgICAgICovIChsRGlnaXRzKSAtIG5EaWdpdHM7XG4gIH1cblxuICB0YWlsLmNoYXJBdCgwKSA9PT0gJzonIHx8IEZhaWxgU2VwYXJhdG9yIGV4cGVjdGVkOiAke2VuY29kZWR9YDtcbiAgZGlnaXRzLmxlbmd0aCA9PT0gbkRpZ2l0cyB8fFxuICAgIEZhaWxgRml4ZWQtbGVuZ3RoIGRpZ2l0IHNlcXVlbmNlIGV4cGVjdGVkOiAke2VuY29kZWR9YDtcbiAgbGV0IG4gPSBCaWdJbnQoZGlnaXRzKTtcbiAgaWYgKHR5cGVQcmVmaXggPT09ICduJykge1xuICAgIC8vXG4gICAgLy9cbiAgICBuID0gLSgxMG4gKiogQmlnSW50KG5EaWdpdHMpIC0gbik7XG4gIH1cblxuICByZXR1cm4gbjtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3Qgc3RyaW5nRXNjYXBlcyA9IEFycmF5KDB4MjIpXG4gIC5maWxsKHVuZGVmaW5lZClcbiAgLm1hcCgoXywgY3ApID0+IHtcbiAgICBzd2l0Y2ggKFN0cmluZy5mcm9tQ2hhckNvZGUoY3ApKSB7XG4gICAgICBjYXNlICcgJzpcbiAgICAgICAgcmV0dXJuICchXyc7XG4gICAgICBjYXNlICchJzpcbiAgICAgICAgcmV0dXJuICchfCc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gYCEke1N0cmluZy5mcm9tQ2hhckNvZGUoY3AgKyAweDIxKX1gO1xuICAgIH1cbiAgfSk7XG5zdHJpbmdFc2NhcGVzWydeJy5jaGFyQ29kZUF0KDApXSA9ICdfQCc7XG5zdHJpbmdFc2NhcGVzWydfJy5jaGFyQ29kZUF0KDApXSA9ICdfXyc7XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGVuY29kZUNvbXBhY3RTdHJpbmdTdWZmaXggPSBzdHIgPT5cbiAgc3RyLnJlcGxhY2UoL1tcXDAtIV5fXS9nLCBjaCA9PiBzdHJpbmdFc2NhcGVzW2NoLmNoYXJDb2RlQXQoMCldKTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgZGVjb2RlQ29tcGFjdFN0cmluZ1N1ZmZpeCA9IGVuY29kZWQgPT4ge1xuICByZXR1cm4gZW5jb2RlZC5yZXBsYWNlKC8oW1xcMC0hX10pKC58XFxuKT8vZywgKGVzYywgcHJlZml4LCBzdWZmaXgpID0+IHtcbiAgICBzd2l0Y2ggKGVzYykge1xuICAgICAgY2FzZSAnIV8nOlxuICAgICAgICByZXR1cm4gJyAnO1xuICAgICAgY2FzZSAnIXwnOlxuICAgICAgICByZXR1cm4gJyEnO1xuICAgICAgY2FzZSAnX0AnOlxuICAgICAgICByZXR1cm4gJ14nO1xuICAgICAgY2FzZSAnX18nOlxuICAgICAgICByZXR1cm4gJ18nO1xuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBjaCA9IC8qICAgICAgICAgICAgICAgICAqLyAoc3VmZml4KTtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgKHByZWZpeCA9PT0gJyEnICYmIHN1ZmZpeCAhPT0gdW5kZWZpbmVkICYmIGNoID49ICchJyAmJiBjaCA8PSAnQCcpIHx8XG4gICAgICAgICAgRmFpbGBpbnZhbGlkIHN0cmluZyBlc2NhcGU6ICR7cShlc2MpfWA7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoLmNoYXJDb2RlQXQoMCkgLSAweDIxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgZW5jb2RlTGVnYWN5U3RyaW5nU3VmZml4ID0gc3RyID0+IHN0cjtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgZGVjb2RlTGVnYWN5U3RyaW5nU3VmZml4ID0gZW5jb2RlZCA9PiBlbmNvZGVkO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGVuY29kZUNvbXBhY3RBcnJheSA9IChhcnJheSwgZW5jb2RlUGFzc2FibGUpID0+IHtcbiAgY29uc3QgY2hhcnMgPSBbJ14nXTtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGFycmF5KSB7XG4gICAgY29uc3QgZW5jID0gZW5jb2RlUGFzc2FibGUoZWxlbWVudCk7XG4gICAgY2hhcnMucHVzaChlbmMsICcgJyk7XG4gIH1cbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpO1xufTtcblxuLypcblxuXG5cblxuICovXG5jb25zdCBkZWNvZGVDb21wYWN0QXJyYXkgPSAoZW5jb2RlZCwgZGVjb2RlUGFzc2FibGUsIHNraXAgPSAwKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnRzID0gW107XG4gIGxldCBkZXB0aCA9IDA7XG4gIC8vXG4gIC8vXG4gIGxldCBuZXh0SW5kZXggPSBza2lwICsgMTtcbiAgbGV0IGN1cnJlbnRFbGVtZW50U3RhcnQgPSBza2lwICsgMTtcbiAgZm9yIChjb25zdCB7IDA6IGNoLCBpbmRleDogaSB9IG9mIGVuY29kZWQubWF0Y2hBbGwoL1tcXF4gXS9nKSkge1xuICAgIGNvbnN0IGluZGV4ID0gLyogICAgICAgICAgICAgICAgICovIChpKTtcbiAgICBpZiAoaW5kZXggPD0gc2tpcCkge1xuICAgICAgaWYgKGluZGV4ID09PSBza2lwKSB7XG4gICAgICAgIGNoID09PSAnXicgfHwgRmFpbGBFbmNvZGVkIGFycmF5IGV4cGVjdGVkOiAke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwKX1gO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2ggPT09ICdeJykge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBkZXB0aCArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL1xuICAgICAgaWYgKGluZGV4ID09PSBuZXh0SW5kZXgpIHtcbiAgICAgICAgLy9cbiAgICAgICAgZGVwdGggLT0gMTtcbiAgICAgICAgZGVwdGggPj0gMCB8fFxuICAgICAgICAgIC8vXG4gICAgICAgICAgRmFpbGB1bmV4cGVjdGVkIGFycmF5IGVsZW1lbnQgdGVybWluYXRvcjogJHtlbmNvZGVkLnNsaWNlKHNraXAsIGluZGV4ICsgMil9YDtcbiAgICAgIH1cbiAgICAgIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICAvL1xuICAgICAgICBlbGVtZW50cy5wdXNoKFxuICAgICAgICAgIGRlY29kZVBhc3NhYmxlKGVuY29kZWQuc2xpY2UoY3VycmVudEVsZW1lbnRTdGFydCwgaW5kZXgpKSxcbiAgICAgICAgKTtcbiAgICAgICAgY3VycmVudEVsZW1lbnRTdGFydCA9IGluZGV4ICsgMTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy9cbiAgICBuZXh0SW5kZXggPSBpbmRleCArIDE7XG4gIH1cbiAgZGVwdGggPT09IDAgfHwgRmFpbGB1bnRlcm1pbmF0ZWQgYXJyYXk6ICR7Z2V0U3VmZml4KGVuY29kZWQsIHNraXApfWA7XG4gIG5leHRJbmRleCA9PT0gZW5jb2RlZC5sZW5ndGggfHxcbiAgICBGYWlsYHVudGVybWluYXRlZCBhcnJheSBlbGVtZW50OiAke2dldFN1ZmZpeChcbiAgICAgIGVuY29kZWQsXG4gICAgICBjdXJyZW50RWxlbWVudFN0YXJ0LFxuICAgICl9YDtcbiAgcmV0dXJuIGhhcmRlbihlbGVtZW50cyk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBlbmNvZGVMZWdhY3lBcnJheSA9IChhcnJheSwgZW5jb2RlUGFzc2FibGUpID0+IHtcbiAgY29uc3QgY2hhcnMgPSBbJ1snXTtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGFycmF5KSB7XG4gICAgY29uc3QgZW5jID0gZW5jb2RlUGFzc2FibGUoZWxlbWVudCk7XG4gICAgZm9yIChjb25zdCBjIG9mIGVuYykge1xuICAgICAgaWYgKGMgPT09ICdcXHUwMDAwJyB8fCBjID09PSAnXFx1MDAwMScpIHtcbiAgICAgICAgY2hhcnMucHVzaCgnXFx1MDAwMScpO1xuICAgICAgfVxuICAgICAgY2hhcnMucHVzaChjKTtcbiAgICB9XG4gICAgY2hhcnMucHVzaCgnXFx1MDAwMCcpO1xuICB9XG4gIHJldHVybiBjaGFycy5qb2luKCcnKTtcbn07XG5cbi8qXG5cblxuXG5cbiAqL1xuY29uc3QgZGVjb2RlTGVnYWN5QXJyYXkgPSAoZW5jb2RlZCwgZGVjb2RlUGFzc2FibGUsIHNraXAgPSAwKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnRzID0gW107XG4gIGNvbnN0IGVsZW1DaGFycyA9IFtdO1xuICAvL1xuICAvL1xuICBsZXQgc3RpbGxUb1NraXAgPSBza2lwICsgMTtcbiAgbGV0IGluRXNjYXBlID0gZmFsc2U7XG4gIGZvciAoY29uc3QgYyBvZiBlbmNvZGVkKSB7XG4gICAgaWYgKHN0aWxsVG9Ta2lwID4gMCkge1xuICAgICAgc3RpbGxUb1NraXAgLT0gMTtcbiAgICAgIGlmIChzdGlsbFRvU2tpcCA9PT0gMCkge1xuICAgICAgICBjID09PSAnWycgfHwgRmFpbGBFbmNvZGVkIGFycmF5IGV4cGVjdGVkOiAke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwKX1gO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaW5Fc2NhcGUpIHtcbiAgICAgIGMgPT09ICdcXHUwMDAwJyB8fFxuICAgICAgICBjID09PSAnXFx1MDAwMScgfHxcbiAgICAgICAgRmFpbGBVbmV4cGVjdGVkIGNoYXJhY3RlciBhZnRlciB1MDAwMSBlc2NhcGU6ICR7Y31gO1xuICAgICAgZWxlbUNoYXJzLnB1c2goYyk7XG4gICAgfSBlbHNlIGlmIChjID09PSAnXFx1MDAwMCcpIHtcbiAgICAgIGNvbnN0IGVuY29kZWRFbGVtZW50ID0gZWxlbUNoYXJzLmpvaW4oJycpO1xuICAgICAgZWxlbUNoYXJzLmxlbmd0aCA9IDA7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZGVjb2RlUGFzc2FibGUoZW5jb2RlZEVsZW1lbnQpO1xuICAgICAgZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICB9IGVsc2UgaWYgKGMgPT09ICdcXHUwMDAxJykge1xuICAgICAgaW5Fc2NhcGUgPSB0cnVlO1xuICAgICAgLy9cbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtQ2hhcnMucHVzaChjKTtcbiAgICB9XG4gICAgaW5Fc2NhcGUgPSBmYWxzZTtcbiAgfVxuICAhaW5Fc2NhcGUgfHwgRmFpbGB1bmV4cGVjdGVkIGVuZCBvZiBlbmNvZGluZyAke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwKX1gO1xuICBlbGVtQ2hhcnMubGVuZ3RoID09PSAwIHx8XG4gICAgRmFpbGBlbmNvZGluZyB0ZXJtaW5hdGVkIGVhcmx5OiAke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwKX1gO1xuICByZXR1cm4gaGFyZGVuKGVsZW1lbnRzKTtcbn07XG5cbmNvbnN0IGVuY29kZVJlY29yZCA9IChyZWNvcmQsIGVuY29kZUFycmF5LCBlbmNvZGVQYXNzYWJsZSkgPT4ge1xuICBjb25zdCBuYW1lcyA9IHJlY29yZE5hbWVzKHJlY29yZCk7XG4gIGNvbnN0IHZhbHVlcyA9IHJlY29yZFZhbHVlcyhyZWNvcmQsIG5hbWVzKTtcbiAgcmV0dXJuIGAoJHtlbmNvZGVBcnJheShoYXJkZW4oW25hbWVzLCB2YWx1ZXNdKSwgZW5jb2RlUGFzc2FibGUpfWA7XG59O1xuXG5jb25zdCBkZWNvZGVSZWNvcmQgPSAoZW5jb2RlZCwgZGVjb2RlQXJyYXksIGRlY29kZVBhc3NhYmxlLCBza2lwID0gMCkgPT4ge1xuICBhc3NlcnQoZW5jb2RlZC5jaGFyQXQoc2tpcCkgPT09ICcoJyk7XG4gIC8vXG4gIC8vXG4gIGNvbnN0IHVuemlwcGVkRW50cmllcyA9IGRlY29kZUFycmF5KGVuY29kZWQsIGRlY29kZVBhc3NhYmxlLCBza2lwICsgMSk7XG4gIHVuemlwcGVkRW50cmllcy5sZW5ndGggPT09IDIgfHxcbiAgICBGYWlsYGV4cGVjdGVkIGtleXMsdmFsdWVzIHBhaXI6ICR7Z2V0U3VmZml4KGVuY29kZWQsIHNraXApfWA7XG4gIGNvbnN0IFtrZXlzLCB2YWxzXSA9IHVuemlwcGVkRW50cmllcztcblxuICAocGFzc1N0eWxlT2Yoa2V5cykgPT09ICdjb3B5QXJyYXknICYmXG4gICAgcGFzc1N0eWxlT2YodmFscykgPT09ICdjb3B5QXJyYXknICYmXG4gICAga2V5cy5sZW5ndGggPT09IHZhbHMubGVuZ3RoICYmXG4gICAga2V5cy5ldmVyeShrZXkgPT4gdHlwZW9mIGtleSA9PT0gJ3N0cmluZycpKSB8fFxuICAgIEZhaWxgbm90IGEgdmFsaWQgcmVjb3JkIGVuY29kaW5nOiAke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwKX1gO1xuICBjb25zdCBtYXBFbnRyaWVzID0ga2V5cy5tYXAoKGtleSwgaSkgPT4gW2tleSwgdmFsc1tpXV0pO1xuICBjb25zdCByZWNvcmQgPSBoYXJkZW4oZnJvbUVudHJpZXMobWFwRW50cmllcykpO1xuICBhc3NlcnRSZWNvcmQocmVjb3JkLCAnZGVjb2RlZCByZWNvcmQnKTtcbiAgcmV0dXJuIHJlY29yZDtcbn07XG5cbmNvbnN0IGVuY29kZVRhZ2dlZCA9ICh0YWdnZWQsIGVuY29kZUFycmF5LCBlbmNvZGVQYXNzYWJsZSkgPT5cbiAgYDoke2VuY29kZUFycmF5KGhhcmRlbihbZ2V0VGFnKHRhZ2dlZCksIHRhZ2dlZC5wYXlsb2FkXSksIGVuY29kZVBhc3NhYmxlKX1gO1xuXG5jb25zdCBkZWNvZGVUYWdnZWQgPSAoZW5jb2RlZCwgZGVjb2RlQXJyYXksIGRlY29kZVBhc3NhYmxlLCBza2lwID0gMCkgPT4ge1xuICBhc3NlcnQoZW5jb2RlZC5jaGFyQXQoc2tpcCkgPT09ICc6Jyk7XG4gIC8vXG4gIC8vXG4gIGNvbnN0IHRhZ2dlZFBheWxvYWQgPSBkZWNvZGVBcnJheShlbmNvZGVkLCBkZWNvZGVQYXNzYWJsZSwgc2tpcCArIDEpO1xuICB0YWdnZWRQYXlsb2FkLmxlbmd0aCA9PT0gMiB8fFxuICAgIEZhaWxgZXhwZWN0ZWQgdGFnLHBheWxvYWQgcGFpcjogJHtnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCl9YDtcbiAgY29uc3QgW3RhZywgcGF5bG9hZF0gPSB0YWdnZWRQYXlsb2FkO1xuICBwYXNzU3R5bGVPZih0YWcpID09PSAnc3RyaW5nJyB8fFxuICAgIEZhaWxgbm90IGEgdmFsaWQgdGFnZ2VkIGVuY29kaW5nOiAke2dldFN1ZmZpeChlbmNvZGVkLCBza2lwKX1gO1xuICByZXR1cm4gbWFrZVRhZ2dlZCh0YWcsIHBheWxvYWQpO1xufTtcblxuY29uc3QgbWFrZUVuY29kZVJlbW90YWJsZSA9ICh1bnNhZmVFbmNvZGVSZW1vdGFibGUsIHZlcmlmeUVuY29kaW5nKSA9PiB7XG4gIGNvbnN0IGVuY29kZVJlbW90YWJsZSA9IChyLCBpbm5lckVuY29kZSkgPT4ge1xuICAgIGNvbnN0IGVuY29kaW5nID0gdW5zYWZlRW5jb2RlUmVtb3RhYmxlKHIsIGlubmVyRW5jb2RlKTtcbiAgICAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiBlbmNvZGluZy5jaGFyQXQoMCkgPT09ICdyJykgfHxcbiAgICAgIEZhaWxgUmVtb3RhYmxlIGVuY29kaW5nIG11c3Qgc3RhcnQgd2l0aCBcInJcIjogJHtlbmNvZGluZ31gO1xuICAgIHZlcmlmeUVuY29kaW5nKGVuY29kaW5nLCAnUmVtb3RhYmxlJyk7XG4gICAgcmV0dXJuIGVuY29kaW5nO1xuICB9O1xuICByZXR1cm4gZW5jb2RlUmVtb3RhYmxlO1xufTtcblxuY29uc3QgbWFrZUVuY29kZVByb21pc2UgPSAodW5zYWZlRW5jb2RlUHJvbWlzZSwgdmVyaWZ5RW5jb2RpbmcpID0+IHtcbiAgY29uc3QgZW5jb2RlUHJvbWlzZSA9IChwLCBpbm5lckVuY29kZSkgPT4ge1xuICAgIGNvbnN0IGVuY29kaW5nID0gdW5zYWZlRW5jb2RlUHJvbWlzZShwLCBpbm5lckVuY29kZSk7XG4gICAgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgZW5jb2RpbmcuY2hhckF0KDApID09PSAnPycpIHx8XG4gICAgICBGYWlsYFByb21pc2UgZW5jb2RpbmcgbXVzdCBzdGFydCB3aXRoIFwiP1wiOiAke2VuY29kaW5nfWA7XG4gICAgdmVyaWZ5RW5jb2RpbmcoZW5jb2RpbmcsICdQcm9taXNlJyk7XG4gICAgcmV0dXJuIGVuY29kaW5nO1xuICB9O1xuICByZXR1cm4gZW5jb2RlUHJvbWlzZTtcbn07XG5cbmNvbnN0IG1ha2VFbmNvZGVFcnJvciA9ICh1bnNhZmVFbmNvZGVFcnJvciwgdmVyaWZ5RW5jb2RpbmcpID0+IHtcbiAgY29uc3QgZW5jb2RlRXJyb3IgPSAoZXJyLCBpbm5lckVuY29kZSkgPT4ge1xuICAgIGNvbnN0IGVuY29kaW5nID0gdW5zYWZlRW5jb2RlRXJyb3IoZXJyLCBpbm5lckVuY29kZSk7XG4gICAgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgZW5jb2RpbmcuY2hhckF0KDApID09PSAnIScpIHx8XG4gICAgICBGYWlsYEVycm9yIGVuY29kaW5nIG11c3Qgc3RhcnQgd2l0aCBcIiFcIjogJHtlbmNvZGluZ31gO1xuICAgIHZlcmlmeUVuY29kaW5nKGVuY29kaW5nLCAnRXJyb3InKTtcbiAgICByZXR1cm4gZW5jb2Rpbmc7XG4gIH07XG4gIHJldHVybiBlbmNvZGVFcnJvcjtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cbiAqL1xuY29uc3QgbWFrZUlubmVyRW5jb2RlID0gKGVuY29kZVN0cmluZ1N1ZmZpeCwgZW5jb2RlQXJyYXksIG9wdGlvbnMpID0+IHtcbiAgY29uc3Qge1xuICAgIGVuY29kZVJlbW90YWJsZTogdW5zYWZlRW5jb2RlUmVtb3RhYmxlLFxuICAgIGVuY29kZVByb21pc2U6IHVuc2FmZUVuY29kZVByb21pc2UsXG4gICAgZW5jb2RlRXJyb3I6IHVuc2FmZUVuY29kZUVycm9yLFxuICAgIHZlcmlmeUVuY29kaW5nID0gKCkgPT4ge30sXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBlbmNvZGVSZW1vdGFibGUgPSBtYWtlRW5jb2RlUmVtb3RhYmxlKFxuICAgIHVuc2FmZUVuY29kZVJlbW90YWJsZSxcbiAgICB2ZXJpZnlFbmNvZGluZyxcbiAgKTtcbiAgY29uc3QgZW5jb2RlUHJvbWlzZSA9IG1ha2VFbmNvZGVQcm9taXNlKHVuc2FmZUVuY29kZVByb21pc2UsIHZlcmlmeUVuY29kaW5nKTtcbiAgY29uc3QgZW5jb2RlRXJyb3IgPSBtYWtlRW5jb2RlRXJyb3IodW5zYWZlRW5jb2RlRXJyb3IsIHZlcmlmeUVuY29kaW5nKTtcblxuICBjb25zdCBpbm5lckVuY29kZSA9IHBhc3NhYmxlID0+IHtcbiAgICBpZiAoaXNFcnJvckxpa2UocGFzc2FibGUpKSB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIGVuY29kZUVycm9yKHBhc3NhYmxlLCBpbm5lckVuY29kZSk7XG4gICAgfVxuICAgIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHBhc3NhYmxlKTtcbiAgICBzd2l0Y2ggKHBhc3NTdHlsZSkge1xuICAgICAgY2FzZSAnbnVsbCc6IHtcbiAgICAgICAgcmV0dXJuICd2JztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6IHtcbiAgICAgICAgcmV0dXJuICd6JztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ251bWJlcic6IHtcbiAgICAgICAgcmV0dXJuIGVuY29kZUJpbmFyeTY0KHBhc3NhYmxlKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3N0cmluZyc6IHtcbiAgICAgICAgcmV0dXJuIGBzJHtlbmNvZGVTdHJpbmdTdWZmaXgocGFzc2FibGUpfWA7XG4gICAgICB9XG4gICAgICBjYXNlICdib29sZWFuJzoge1xuICAgICAgICByZXR1cm4gYGIke3Bhc3NhYmxlfWA7XG4gICAgICB9XG4gICAgICBjYXNlICdiaWdpbnQnOiB7XG4gICAgICAgIHJldHVybiBlbmNvZGVCaWdJbnQocGFzc2FibGUpO1xuICAgICAgfVxuICAgICAgY2FzZSAncmVtb3RhYmxlJzoge1xuICAgICAgICByZXR1cm4gZW5jb2RlUmVtb3RhYmxlKHBhc3NhYmxlLCBpbm5lckVuY29kZSk7XG4gICAgICB9XG4gICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgcmV0dXJuIGVuY29kZUVycm9yKHBhc3NhYmxlLCBpbm5lckVuY29kZSk7XG4gICAgICB9XG4gICAgICBjYXNlICdwcm9taXNlJzoge1xuICAgICAgICByZXR1cm4gZW5jb2RlUHJvbWlzZShwYXNzYWJsZSwgaW5uZXJFbmNvZGUpO1xuICAgICAgfVxuICAgICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBuYW1lID0gbmFtZUZvclBhc3NhYmxlU3ltYm9sKHBhc3NhYmxlKTtcbiAgICAgICAgYXNzZXJ0LnR5cGVvZihuYW1lLCAnc3RyaW5nJyk7XG4gICAgICAgIHJldHVybiBgeSR7ZW5jb2RlU3RyaW5nU3VmZml4KG5hbWUpfWA7XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5QXJyYXknOiB7XG4gICAgICAgIHJldHVybiBlbmNvZGVBcnJheShwYXNzYWJsZSwgaW5uZXJFbmNvZGUpO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgICAgcmV0dXJuIGVuY29kZVJlY29yZChwYXNzYWJsZSwgZW5jb2RlQXJyYXksIGlubmVyRW5jb2RlKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3RhZ2dlZCc6IHtcbiAgICAgICAgcmV0dXJuIGVuY29kZVRhZ2dlZChwYXNzYWJsZSwgZW5jb2RlQXJyYXksIGlubmVyRW5jb2RlKTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgRmFpbGBhICR7cShwYXNzU3R5bGUpfSBjYW5ub3QgYmUgdXNlZCBhcyBhIGNvbGxlY3Rpb24gcGFzc2FibGVgO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGlubmVyRW5jb2RlO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IGxpYmVyYWxEZWNvZGVycyA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChcbiAgLyogICAgICAgICAgICAgICAgICAqLyAoe1xuICAgIGRlY29kZVJlbW90YWJsZTogKF9lbmNvZGluZywgX2lubmVyRGVjb2RlKSA9PiB1bmRlZmluZWQsXG4gICAgZGVjb2RlUHJvbWlzZTogKF9lbmNvZGluZywgX2lubmVyRGVjb2RlKSA9PiB1bmRlZmluZWQsXG4gICAgZGVjb2RlRXJyb3I6IChfZW5jb2RpbmcsIF9pbm5lckRlY29kZSkgPT4gdW5kZWZpbmVkLFxuICB9KVxuKTtcblxuLypcblxuXG5cblxuICovXG5jb25zdCBtYWtlSW5uZXJEZWNvZGUgPSAoZGVjb2RlU3RyaW5nU3VmZml4LCBkZWNvZGVBcnJheSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCB7IGRlY29kZVJlbW90YWJsZSwgZGVjb2RlUHJvbWlzZSwgZGVjb2RlRXJyb3IgfSA9IG9wdGlvbnM7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGlubmVyRGVjb2RlID0gKGVuY29kZWQsIHNraXAgPSAwKSA9PiB7XG4gICAgc3dpdGNoIChlbmNvZGVkLmNoYXJBdChza2lwKSkge1xuICAgICAgY2FzZSAndic6IHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjYXNlICd6Jzoge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgY2FzZSAnZic6IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZUJpbmFyeTY0KGVuY29kZWQsIHNraXApO1xuICAgICAgfVxuICAgICAgY2FzZSAncyc6IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVN0cmluZ1N1ZmZpeChnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCArIDEpKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2InOiB7XG4gICAgICAgIGNvbnN0IHN1YnN0cmluZyA9IGdldFN1ZmZpeChlbmNvZGVkLCBza2lwICsgMSk7XG4gICAgICAgIGlmIChzdWJzdHJpbmcgPT09ICd0cnVlJykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHN1YnN0cmluZyA9PT0gJ2ZhbHNlJykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBGYWlsYGV4cGVjdGVkIGVuY29kZWQgYm9vbGVhbiB0byBiZSBcImJ0cnVlXCIgb3IgXCJiZmFsc2VcIjogJHtzdWJzdHJpbmd9YDtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ24nOlxuICAgICAgY2FzZSAncCc6IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZUJpZ0ludChnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCkpO1xuICAgICAgfVxuICAgICAgY2FzZSAncic6IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVJlbW90YWJsZShnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCksIGlubmVyRGVjb2RlKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJz8nOiB7XG4gICAgICAgIHJldHVybiBkZWNvZGVQcm9taXNlKGdldFN1ZmZpeChlbmNvZGVkLCBza2lwKSwgaW5uZXJEZWNvZGUpO1xuICAgICAgfVxuICAgICAgY2FzZSAnISc6IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZUVycm9yKGdldFN1ZmZpeChlbmNvZGVkLCBza2lwKSwgaW5uZXJEZWNvZGUpO1xuICAgICAgfVxuICAgICAgY2FzZSAneSc6IHtcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgbmFtZSA9IGRlY29kZVN0cmluZ1N1ZmZpeChnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCArIDEpKTtcbiAgICAgICAgcmV0dXJuIHBhc3NhYmxlU3ltYm9sRm9yTmFtZShuYW1lKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ1snOlxuICAgICAgY2FzZSAnXic6IHtcbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIGRlY29kZUFycmF5KGVuY29kZWQsIGlubmVyRGVjb2RlLCBza2lwKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJygnOiB7XG4gICAgICAgIHJldHVybiBkZWNvZGVSZWNvcmQoZW5jb2RlZCwgZGVjb2RlQXJyYXksIGlubmVyRGVjb2RlLCBza2lwKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJzonOiB7XG4gICAgICAgIHJldHVybiBkZWNvZGVUYWdnZWQoZW5jb2RlZCwgZGVjb2RlQXJyYXksIGlubmVyRGVjb2RlLCBza2lwKTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgRmFpbGBpbnZhbGlkIGRhdGFiYXNlIGtleTogJHtnZXRTdWZmaXgoZW5jb2RlZCwgc2tpcCl9YDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBpbm5lckRlY29kZTtcbn07XG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlUGFzc2FibGVLaXQgPSAob3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBlbmNvZGVSZW1vdGFibGUgPSAociwgXykgPT4gRmFpbGByZW1vdGFibGUgdW5leHBlY3RlZDogJHtyfWAsXG4gICAgZW5jb2RlUHJvbWlzZSA9IChwLCBfKSA9PiBGYWlsYHByb21pc2UgdW5leHBlY3RlZDogJHtwfWAsXG4gICAgZW5jb2RlRXJyb3IgPSAoZXJyLCBfKSA9PiBGYWlsYGVycm9yIHVuZXhwZWN0ZWQ6ICR7ZXJyfWAsXG4gICAgZm9ybWF0ID0gJ2xlZ2FjeU9yZGVyZWQnLFxuXG4gICAgZGVjb2RlUmVtb3RhYmxlID0gKGVuY29kaW5nLCBfKSA9PiBGYWlsYHJlbW90YWJsZSB1bmV4cGVjdGVkOiAke2VuY29kaW5nfWAsXG4gICAgZGVjb2RlUHJvbWlzZSA9IChlbmNvZGluZywgXykgPT4gRmFpbGBwcm9taXNlIHVuZXhwZWN0ZWQ6ICR7ZW5jb2Rpbmd9YCxcbiAgICBkZWNvZGVFcnJvciA9IChlbmNvZGluZywgXykgPT4gRmFpbGBlcnJvciB1bmV4cGVjdGVkOiAke2VuY29kaW5nfWAsXG4gIH0gPSBvcHRpb25zO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGxldCBlbmNvZGVQYXNzYWJsZTtcbiAgY29uc3QgZW5jb2RlT3B0aW9ucyA9IHsgZW5jb2RlUmVtb3RhYmxlLCBlbmNvZGVQcm9taXNlLCBlbmNvZGVFcnJvciwgZm9ybWF0IH07XG4gIGlmIChmb3JtYXQgPT09ICdjb21wYWN0T3JkZXJlZCcpIHtcbiAgICBjb25zdCBsaWJlcmFsRGVjb2RlID0gbWFrZUlubmVyRGVjb2RlKFxuICAgICAgZGVjb2RlQ29tcGFjdFN0cmluZ1N1ZmZpeCxcbiAgICAgIGRlY29kZUNvbXBhY3RBcnJheSxcbiAgICAgIGxpYmVyYWxEZWNvZGVycyxcbiAgICApO1xuICAgIC8qXG5cblxuXG4gICAgICovXG4gICAgY29uc3QgdmVyaWZ5RW5jb2RpbmcgPSAoZW5jb2RpbmcsIGxhYmVsKSA9PiB7XG4gICAgICAhZW5jb2RpbmcubWF0Y2gockMwKSB8fFxuICAgICAgICBGYWlsYCR7YihcbiAgICAgICAgICBsYWJlbCxcbiAgICAgICAgKX0gZW5jb2RpbmcgbXVzdCBub3QgY29udGFpbiBhIEMwIGNvbnRyb2wgY2hhcmFjdGVyOiAke2VuY29kaW5nfWA7XG4gICAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlQ29tcGFjdEFycmF5KGBediAke2VuY29kaW5nfSB2IGAsIGxpYmVyYWxEZWNvZGUpO1xuICAgICAgKGlzQXJyYXkoZGVjb2RlZCkgJiZcbiAgICAgICAgZGVjb2RlZC5sZW5ndGggPT09IDMgJiZcbiAgICAgICAgZGVjb2RlZFswXSA9PT0gbnVsbCAmJlxuICAgICAgICBkZWNvZGVkWzJdID09PSBudWxsKSB8fFxuICAgICAgICBGYWlsYCR7YihsYWJlbCl9IGVuY29kaW5nIG11c3QgYmUgZW1iZWRkYWJsZTogJHtlbmNvZGluZ31gO1xuICAgIH07XG4gICAgY29uc3QgZW5jb2RlQ29tcGFjdCA9IG1ha2VJbm5lckVuY29kZShcbiAgICAgIGVuY29kZUNvbXBhY3RTdHJpbmdTdWZmaXgsXG4gICAgICBlbmNvZGVDb21wYWN0QXJyYXksXG4gICAgICB7IC4uLmVuY29kZU9wdGlvbnMsIHZlcmlmeUVuY29kaW5nIH0sXG4gICAgKTtcbiAgICBlbmNvZGVQYXNzYWJsZSA9IHBhc3NhYmxlID0+IGB+JHtlbmNvZGVDb21wYWN0KHBhc3NhYmxlKX1gO1xuICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2xlZ2FjeU9yZGVyZWQnKSB7XG4gICAgZW5jb2RlUGFzc2FibGUgPSBtYWtlSW5uZXJFbmNvZGUoXG4gICAgICBlbmNvZGVMZWdhY3lTdHJpbmdTdWZmaXgsXG4gICAgICBlbmNvZGVMZWdhY3lBcnJheSxcbiAgICAgIGVuY29kZU9wdGlvbnMsXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBGYWlsYFVucmVjb2duaXplZCBmb3JtYXQ6ICR7cShmb3JtYXQpfWA7XG4gIH1cblxuICBjb25zdCBkZWNvZGVPcHRpb25zID0geyBkZWNvZGVSZW1vdGFibGUsIGRlY29kZVByb21pc2UsIGRlY29kZUVycm9yIH07XG4gIGNvbnN0IGRlY29kZUNvbXBhY3QgPSBtYWtlSW5uZXJEZWNvZGUoXG4gICAgZGVjb2RlQ29tcGFjdFN0cmluZ1N1ZmZpeCxcbiAgICBkZWNvZGVDb21wYWN0QXJyYXksXG4gICAgZGVjb2RlT3B0aW9ucyxcbiAgKTtcbiAgY29uc3QgZGVjb2RlTGVnYWN5ID0gbWFrZUlubmVyRGVjb2RlKFxuICAgIGRlY29kZUxlZ2FjeVN0cmluZ1N1ZmZpeCxcbiAgICBkZWNvZGVMZWdhY3lBcnJheSxcbiAgICBkZWNvZGVPcHRpb25zLFxuICApO1xuICBjb25zdCBkZWNvZGVQYXNzYWJsZSA9IGVuY29kZWQgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGlmIChlbmNvZGVkLmNoYXJBdCgwKSA9PT0gJ34nKSB7XG4gICAgICByZXR1cm4gZGVjb2RlQ29tcGFjdChlbmNvZGVkLCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29kZUxlZ2FjeShlbmNvZGVkKTtcbiAgfTtcblxuICByZXR1cm4gaGFyZGVuKHsgZW5jb2RlUGFzc2FibGUsIGRlY29kZVBhc3NhYmxlIH0pO1xufTskaM2PX29uY2UubWFrZVBhc3NhYmxlS2l0KG1ha2VQYXNzYWJsZUtpdCk7XG5oYXJkZW4obWFrZVBhc3NhYmxlS2l0KTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlRW5jb2RlUGFzc2FibGUgPSBlbmNvZGVPcHRpb25zID0+IHtcbiAgY29uc3QgeyBlbmNvZGVQYXNzYWJsZSB9ID0gbWFrZVBhc3NhYmxlS2l0KGVuY29kZU9wdGlvbnMpO1xuICByZXR1cm4gZW5jb2RlUGFzc2FibGU7XG59OyRozY9fb25jZS5tYWtlRW5jb2RlUGFzc2FibGUobWFrZUVuY29kZVBhc3NhYmxlKTtcbmhhcmRlbihtYWtlRW5jb2RlUGFzc2FibGUpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VEZWNvZGVQYXNzYWJsZSA9IGRlY29kZU9wdGlvbnMgPT4ge1xuICBjb25zdCB7IGRlY29kZVBhc3NhYmxlIH0gPSBtYWtlUGFzc2FibGVLaXQoZGVjb2RlT3B0aW9ucyk7XG4gIHJldHVybiBkZWNvZGVQYXNzYWJsZTtcbn07JGjNj19vbmNlLm1ha2VEZWNvZGVQYXNzYWJsZShtYWtlRGVjb2RlUGFzc2FibGUpO1xuaGFyZGVuKG1ha2VEZWNvZGVQYXNzYWJsZSk7XG5cbiAgICAgICBjb25zdCBpc0VuY29kZWRSZW1vdGFibGUgPSBlbmNvZGVkID0+IGVuY29kZWQuY2hhckF0KDApID09PSAncic7JGjNj19vbmNlLmlzRW5jb2RlZFJlbW90YWJsZShpc0VuY29kZWRSZW1vdGFibGUpO1xuaGFyZGVuKGlzRW5jb2RlZFJlbW90YWJsZSk7XG5cbi8vXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwYXNzU3R5bGVQcmVmaXhlcyA9IHtcbiAgZXJyb3I6ICchJyxcbiAgY29weVJlY29yZDogJygnLFxuICB0YWdnZWQ6ICc6JyxcbiAgcHJvbWlzZTogJz8nLFxuICBjb3B5QXJyYXk6ICdbXicsXG4gIGJvb2xlYW46ICdiJyxcbiAgbnVtYmVyOiAnZicsXG4gIGJpZ2ludDogJ25wJyxcbiAgcmVtb3RhYmxlOiAncicsXG4gIHN0cmluZzogJ3MnLFxuICBudWxsOiAndicsXG4gIHN5bWJvbDogJ3knLFxuICAvL1xuICAvL1xuICAvL1xuICB1bmRlZmluZWQ6ICd6Jyxcbn07JGjNj19vbmNlLnBhc3NTdHlsZVByZWZpeGVzKHBhc3NTdHlsZVByZWZpeGVzKTtcbk9iamVjdC5zZXRQcm90b3R5cGVPZihwYXNzU3R5bGVQcmVmaXhlcywgbnVsbCk7XG5oYXJkZW4ocGFzc1N0eWxlUHJlZml4ZXMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsicmVjb3JkTmFtZXMiOlsicmVjb3JkTmFtZXMiXSwicmVjb3JkVmFsdWVzIjpbInJlY29yZFZhbHVlcyJdLCJ6ZXJvUGFkIjpbInplcm9QYWQiXSwibWFrZVBhc3NhYmxlS2l0IjpbIm1ha2VQYXNzYWJsZUtpdCJdLCJtYWtlRW5jb2RlUGFzc2FibGUiOlsibWFrZUVuY29kZVBhc3NhYmxlIl0sIm1ha2VEZWNvZGVQYXNzYWJsZSI6WyJtYWtlRGVjb2RlUGFzc2FibGUiXSwiaXNFbmNvZGVkUmVtb3RhYmxlIjpbImlzRW5jb2RlZFJlbW90YWJsZSJdLCJwYXNzU3R5bGVQcmVmaXhlcyI6WyJwYXNzU3R5bGVQcmVmaXhlcyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADPYpL49CsAAPQrAAArAAAAQGVuZG8vbWFyc2hhbC12MS42LjQvc3JjL2VuY29kZVRvQ2FwRGF0YS5qc3siaW1wb3J0cyI6WyJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsiUUNMQVNTIiwibWFrZURlY29kZUZyb21DYXBEYXRhIiwibWFrZUVuY29kZVRvQ2FwRGF0YSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHBhc3NTdHlsZU9mLGlzRXJyb3JMaWtlLG1ha2VUYWdnZWQsaXNPYmplY3QsZ2V0VGFnLGhhc093blByb3BlcnR5T2YsYXNzZXJ0UGFzc2FibGVTeW1ib2wsbmFtZUZvclBhc3NhYmxlU3ltYm9sLHBhc3NhYmxlU3ltYm9sRm9yTmFtZSxYLEZhaWwscTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcInBhc3NTdHlsZU9mXCIsWyRozY9fYSA9PiAocGFzc1N0eWxlT2YgPSAkaM2PX2EpXV0sW1wiaXNFcnJvckxpa2VcIixbJGjNj19hID0+IChpc0Vycm9yTGlrZSA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJpc09iamVjdFwiLFskaM2PX2EgPT4gKGlzT2JqZWN0ID0gJGjNj19hKV1dLFtcImdldFRhZ1wiLFskaM2PX2EgPT4gKGdldFRhZyA9ICRozY9fYSldXSxbXCJoYXNPd25Qcm9wZXJ0eU9mXCIsWyRozY9fYSA9PiAoaGFzT3duUHJvcGVydHlPZiA9ICRozY9fYSldXSxbXCJhc3NlcnRQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKGFzc2VydFBhc3NhYmxlU3ltYm9sID0gJGjNj19hKV1dLFtcIm5hbWVGb3JQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKG5hbWVGb3JQYXNzYWJsZVN5bWJvbCA9ICRozY9fYSldXSxbXCJwYXNzYWJsZVN5bWJvbEZvck5hbWVcIixbJGjNj19hID0+IChwYXNzYWJsZVN5bWJvbEZvck5hbWUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dLFtcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgeyBvd25LZXlzIH0gPSBSZWZsZWN0O1xuY29uc3QgeyBpc0FycmF5IH0gPSBBcnJheTtcbmNvbnN0IHtcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxcbiAgZGVmaW5lUHJvcGVydGllcyxcbiAgaXMsXG4gIGVudHJpZXMsXG4gIGZyb21FbnRyaWVzLFxuICBmcmVlemUsXG59ID0gT2JqZWN0O1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgUUNMQVNTID0gJ0BxY2xhc3MnOyRozY9fb25jZS5RQ0xBU1MoUUNMQVNTKTtcblxuXG4vKlxuXG5cbiAqL1xuY29uc3QgaGFzUUNsYXNzID0gZW5jb2RlZCA9PiBoYXNPd25Qcm9wZXJ0eU9mKGVuY29kZWQsIFFDTEFTUyk7XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IHFjbGFzc01hdGNoZXMgPSAoZW5jb2RlZCwgcWNsYXNzKSA9PlxuICBpc09iamVjdChlbmNvZGVkKSAmJlxuICAhaXNBcnJheShlbmNvZGVkKSAmJlxuICBoYXNRQ2xhc3MoZW5jb2RlZCkgJiZcbiAgZW5jb2RlZFtRQ0xBU1NdID09PSBxY2xhc3M7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG5jb25zdCBkb250RW5jb2RlUmVtb3RhYmxlVG9DYXBEYXRhID0gcmVtID0+IEZhaWxgcmVtb3RhYmxlIHVuZXhwZWN0ZWQ6ICR7cmVtfWA7XG5cbmNvbnN0IGRvbnRFbmNvZGVQcm9taXNlVG9DYXBEYXRhID0gcHJvbSA9PiBGYWlsYHByb21pc2UgdW5leHBlY3RlZDogJHtwcm9tfWA7XG5cbmNvbnN0IGRvbnRFbmNvZGVFcnJvclRvQ2FwRGF0YSA9IGVyciA9PiBGYWlsYGVycm9yIG9iamVjdCB1bmV4cGVjdGVkOiAke2Vycn1gO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VFbmNvZGVUb0NhcERhdGEgPSAoZW5jb2RlT3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBlbmNvZGVSZW1vdGFibGVUb0NhcERhdGEgPSBkb250RW5jb2RlUmVtb3RhYmxlVG9DYXBEYXRhLFxuICAgIGVuY29kZVByb21pc2VUb0NhcERhdGEgPSBkb250RW5jb2RlUHJvbWlzZVRvQ2FwRGF0YSxcbiAgICBlbmNvZGVFcnJvclRvQ2FwRGF0YSA9IGRvbnRFbmNvZGVFcnJvclRvQ2FwRGF0YSxcbiAgfSA9IGVuY29kZU9wdGlvbnM7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgZW5jb2RlVG9DYXBEYXRhUmVjdXIgPSBwYXNzYWJsZSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHBhc3NhYmxlKTtcbiAgICBzd2l0Y2ggKHBhc3NTdHlsZSkge1xuICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6IHtcbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIHBhc3NhYmxlO1xuICAgICAgfVxuICAgICAgY2FzZSAndW5kZWZpbmVkJzoge1xuICAgICAgICByZXR1cm4geyBbUUNMQVNTXTogJ3VuZGVmaW5lZCcgfTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ251bWJlcic6IHtcbiAgICAgICAgLy9cbiAgICAgICAgaWYgKE51bWJlci5pc05hTihwYXNzYWJsZSkpIHtcbiAgICAgICAgICByZXR1cm4geyBbUUNMQVNTXTogJ05hTicgfTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXNzYWJsZSA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXR1cm4geyBbUUNMQVNTXTogJ0luZmluaXR5JyB9O1xuICAgICAgICB9IGVsc2UgaWYgKHBhc3NhYmxlID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgICByZXR1cm4geyBbUUNMQVNTXTogJy1JbmZpbml0eScgfTtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gaXMocGFzc2FibGUsIC0wKSA/IDAgOiBwYXNzYWJsZTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2JpZ2ludCc6IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBbUUNMQVNTXTogJ2JpZ2ludCcsXG4gICAgICAgICAgZGlnaXRzOiBTdHJpbmcocGFzc2FibGUpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgICBhc3NlcnRQYXNzYWJsZVN5bWJvbChwYXNzYWJsZSk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSAvKiAgICAgICAgICAgICAgICAgKi8gKG5hbWVGb3JQYXNzYWJsZVN5bWJvbChwYXNzYWJsZSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIFtRQ0xBU1NdOiAnc3ltYm9sJyxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5T2YocGFzc2FibGUsIFFDTEFTUykpIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IHsgW1FDTEFTU106IHFjbGFzc1ZhbHVlLCAuLi5yZXN0IH0gPSBwYXNzYWJsZTtcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIFtRQ0xBU1NdOiAnaGlsYmVydCcsXG4gICAgICAgICAgICBvcmlnaW5hbDogZW5jb2RlVG9DYXBEYXRhUmVjdXIocWNsYXNzVmFsdWUpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKG93bktleXMocmVzdCkubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHJlc3VsdC5yZXN0ID0gZW5jb2RlVG9DYXBEYXRhUmVjdXIoZnJlZXplKHJlc3QpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBuYW1lcyA9IG93bktleXMocGFzc2FibGUpLnNvcnQoKTtcbiAgICAgICAgcmV0dXJuIGZyb21FbnRyaWVzKFxuICAgICAgICAgIG5hbWVzLm1hcChuYW1lID0+IFtuYW1lLCBlbmNvZGVUb0NhcERhdGFSZWN1cihwYXNzYWJsZVtuYW1lXSldKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NvcHlBcnJheSc6IHtcbiAgICAgICAgcmV0dXJuIHBhc3NhYmxlLm1hcChlbmNvZGVUb0NhcERhdGFSZWN1cik7XG4gICAgICB9XG4gICAgICBjYXNlICd0YWdnZWQnOiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgW1FDTEFTU106ICd0YWdnZWQnLFxuICAgICAgICAgIHRhZzogZ2V0VGFnKHBhc3NhYmxlKSxcbiAgICAgICAgICBwYXlsb2FkOiBlbmNvZGVUb0NhcERhdGFSZWN1cihwYXNzYWJsZS5wYXlsb2FkKSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3JlbW90YWJsZSc6IHtcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IGVuY29kZVJlbW90YWJsZVRvQ2FwRGF0YShcbiAgICAgICAgICBwYXNzYWJsZSxcbiAgICAgICAgICBlbmNvZGVUb0NhcERhdGFSZWN1cixcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHFjbGFzc01hdGNoZXMoZW5jb2RlZCwgJ3Nsb3QnKSkge1xuICAgICAgICAgIHJldHVybiBlbmNvZGVkO1xuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIHRocm93IEZhaWxgaW50ZXJuYWw6IFJlbW90YWJsZSBlbmNvZGluZyBtdXN0IGJlIGFuIG9iamVjdCB3aXRoICR7cShcbiAgICAgICAgICBRQ0xBU1MsXG4gICAgICAgICl9ICR7cSgnc2xvdCcpfTogJHtlbmNvZGVkfWA7XG4gICAgICB9XG4gICAgICBjYXNlICdwcm9taXNlJzoge1xuICAgICAgICBjb25zdCBlbmNvZGVkID0gZW5jb2RlUHJvbWlzZVRvQ2FwRGF0YShwYXNzYWJsZSwgZW5jb2RlVG9DYXBEYXRhUmVjdXIpO1xuICAgICAgICBpZiAocWNsYXNzTWF0Y2hlcyhlbmNvZGVkLCAnc2xvdCcpKSB7XG4gICAgICAgICAgcmV0dXJuIGVuY29kZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgRmFpbGBpbnRlcm5hbDogUHJvbWlzZSBlbmNvZGluZyBtdXN0IGJlIGFuIG9iamVjdCB3aXRoICR7cShcbiAgICAgICAgICBRQ0xBU1MsXG4gICAgICAgICAgJ3Nsb3QnLFxuICAgICAgICApfTogJHtlbmNvZGVkfWA7XG4gICAgICB9XG4gICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IGVuY29kZUVycm9yVG9DYXBEYXRhKHBhc3NhYmxlLCBlbmNvZGVUb0NhcERhdGFSZWN1cik7XG4gICAgICAgIGlmIChxY2xhc3NNYXRjaGVzKGVuY29kZWQsICdlcnJvcicpKSB7XG4gICAgICAgICAgcmV0dXJuIGVuY29kZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgRmFpbGBpbnRlcm5hbDogRXJyb3IgZW5jb2RpbmcgbXVzdCBiZSBhbiBvYmplY3Qgd2l0aCAke3EoXG4gICAgICAgICAgUUNMQVNTLFxuICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICl9OiAke2VuY29kZWR9YDtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgYXNzZXJ0LmZhaWwoXG4gICAgICAgICAgWGBpbnRlcm5hbDogVW5yZWNvZ25pemVkIHBhc3NTdHlsZSAke3EocGFzc1N0eWxlKX1gLFxuICAgICAgICAgIFR5cGVFcnJvcixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuY29kZVRvQ2FwRGF0YSA9IHBhc3NhYmxlID0+IHtcbiAgICBpZiAoaXNFcnJvckxpa2UocGFzc2FibGUpKSB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIGhhcmRlbihlbmNvZGVFcnJvclRvQ2FwRGF0YShwYXNzYWJsZSwgZW5jb2RlVG9DYXBEYXRhUmVjdXIpKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhcmRlbihlbmNvZGVUb0NhcERhdGFSZWN1cihwYXNzYWJsZSkpO1xuICB9O1xuICByZXR1cm4gaGFyZGVuKGVuY29kZVRvQ2FwRGF0YSk7XG59OyRozY9fb25jZS5tYWtlRW5jb2RlVG9DYXBEYXRhKG1ha2VFbmNvZGVUb0NhcERhdGEpO1xuaGFyZGVuKG1ha2VFbmNvZGVUb0NhcERhdGEpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cblxuY29uc3QgZG9udERlY29kZVJlbW90YWJsZU9yUHJvbWlzZUZyb21DYXBEYXRhID0gc2xvdEVuY29kaW5nID0+XG4gIEZhaWxgcmVtb3RhYmxlIG9yIHByb21pc2UgdW5leHBlY3RlZDogJHtzbG90RW5jb2Rpbmd9YDtcbmNvbnN0IGRvbnREZWNvZGVFcnJvckZyb21DYXBEYXRhID0gZXJyb3JFbmNvZGluZyA9PlxuICBGYWlsYGVycm9yIHVuZXhwZWN0ZWQ6ICR7ZXJyb3JFbmNvZGluZ31gO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VEZWNvZGVGcm9tQ2FwRGF0YSA9IChkZWNvZGVPcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qge1xuICAgIGRlY29kZVJlbW90YWJsZUZyb21DYXBEYXRhID0gZG9udERlY29kZVJlbW90YWJsZU9yUHJvbWlzZUZyb21DYXBEYXRhLFxuICAgIGRlY29kZVByb21pc2VGcm9tQ2FwRGF0YSA9IGRvbnREZWNvZGVSZW1vdGFibGVPclByb21pc2VGcm9tQ2FwRGF0YSxcbiAgICBkZWNvZGVFcnJvckZyb21DYXBEYXRhID0gZG9udERlY29kZUVycm9yRnJvbUNhcERhdGEsXG4gIH0gPSBkZWNvZGVPcHRpb25zO1xuXG4gIGRlY29kZVJlbW90YWJsZUZyb21DYXBEYXRhID09PSBkZWNvZGVQcm9taXNlRnJvbUNhcERhdGEgfHxcbiAgICBGYWlsYEFuIGltcGxlbWVudGF0aW9uIHJlc3RyaWN0aW9uIGZvciBub3c6IElmIGVpdGhlciBkZWNvZGVSZW1vdGFibGVGcm9tQ2FwRGF0YSBvciBkZWNvZGVQcm9taXNlRnJvbUNhcERhdGEgaXMgcHJvdmlkZWQsIGJvdGggbXVzdCBiZSBwcm92aWRlZCBhbmQgdGhleSBtdXN0IGJlIHRoZSBzYW1lOiAke3EoXG4gICAgICBkZWNvZGVSZW1vdGFibGVGcm9tQ2FwRGF0YSxcbiAgICApfSB2cyAke3EoZGVjb2RlUHJvbWlzZUZyb21DYXBEYXRhKX1gO1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgZGVjb2RlRnJvbUNhcERhdGEgPSBqc29uRW5jb2RlZCA9PiB7XG4gICAgaWYgKCFpc09iamVjdChqc29uRW5jb2RlZCkpIHtcbiAgICAgIC8vXG4gICAgICByZXR1cm4ganNvbkVuY29kZWQ7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KGpzb25FbmNvZGVkKSkge1xuICAgICAgcmV0dXJuIGpzb25FbmNvZGVkLm1hcChlbmNvZGVkVmFsID0+IGRlY29kZUZyb21DYXBEYXRhKGVuY29kZWRWYWwpKTtcbiAgICB9IGVsc2UgaWYgKGhhc1FDbGFzcyhqc29uRW5jb2RlZCkpIHtcbiAgICAgIGNvbnN0IHFjbGFzcyA9IGpzb25FbmNvZGVkW1FDTEFTU107XG4gICAgICB0eXBlb2YgcWNsYXNzID09PSAnc3RyaW5nJyB8fFxuICAgICAgICBGYWlsYGludmFsaWQgJHtxKFFDTEFTUyl9IHR5cGVvZiAke3EodHlwZW9mIHFjbGFzcyl9YDtcbiAgICAgIHN3aXRjaCAocWNsYXNzKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6IHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ05hTic6IHtcbiAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0luZmluaXR5Jzoge1xuICAgICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICctSW5maW5pdHknOiB7XG4gICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdiaWdpbnQnOiB7XG4gICAgICAgICAgY29uc3QgeyBkaWdpdHMgfSA9IGpzb25FbmNvZGVkO1xuICAgICAgICAgIHR5cGVvZiBkaWdpdHMgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICBGYWlsYGludmFsaWQgZGlnaXRzIHR5cGVvZiAke3EodHlwZW9mIGRpZ2l0cyl9YDtcbiAgICAgICAgICByZXR1cm4gQmlnSW50KGRpZ2l0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnQEBhc3luY0l0ZXJhdG9yJzoge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIFN5bWJvbC5hc3luY0l0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3N5bWJvbCc6IHtcbiAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IGpzb25FbmNvZGVkO1xuICAgICAgICAgIHJldHVybiBwYXNzYWJsZVN5bWJvbEZvck5hbWUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndGFnZ2VkJzoge1xuICAgICAgICAgIGNvbnN0IHsgdGFnLCBwYXlsb2FkIH0gPSBqc29uRW5jb2RlZDtcbiAgICAgICAgICByZXR1cm4gbWFrZVRhZ2dlZCh0YWcsIGRlY29kZUZyb21DYXBEYXRhKHBheWxvYWQpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdzbG90Jzoge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVSZW1vdGFibGVGcm9tQ2FwRGF0YShcbiAgICAgICAgICAgIGpzb25FbmNvZGVkLFxuICAgICAgICAgICAgZGVjb2RlRnJvbUNhcERhdGEsXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBkZWNvZGVkO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Vycm9yJzoge1xuICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVFcnJvckZyb21DYXBEYXRhKFxuICAgICAgICAgICAganNvbkVuY29kZWQsXG4gICAgICAgICAgICBkZWNvZGVGcm9tQ2FwRGF0YSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChwYXNzU3R5bGVPZihkZWNvZGVkKSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgcmV0dXJuIGRlY29kZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IEZhaWxgaW50ZXJuYWw6IGRlY29kZUVycm9yRnJvbUNhcERhdGEgb3B0aW9uIG11c3QgcmV0dXJuIGFuIGVycm9yOiAke2RlY29kZWR9YDtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdoaWxiZXJ0Jzoge1xuICAgICAgICAgIGNvbnN0IHsgb3JpZ2luYWwsIHJlc3QgfSA9IGpzb25FbmNvZGVkO1xuICAgICAgICAgIGhhc093blByb3BlcnR5T2YoanNvbkVuY29kZWQsICdvcmlnaW5hbCcpIHx8XG4gICAgICAgICAgICBGYWlsYEludmFsaWQgSGlsYmVydCBIb3RlbCBlbmNvZGluZyAke2pzb25FbmNvZGVkfWA7XG4gICAgICAgICAgLy9cbiAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IFtRQ0xBU1NdOiBkZWNvZGVGcm9tQ2FwRGF0YShvcmlnaW5hbCkgfTtcbiAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHlPZihqc29uRW5jb2RlZCwgJ3Jlc3QnKSkge1xuICAgICAgICAgICAgY29uc3QgaXNOb25FbXB0eU9iamVjdCA9XG4gICAgICAgICAgICAgIHR5cGVvZiByZXN0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICByZXN0ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgIG93bktleXMocmVzdCkubGVuZ3RoID49IDE7XG4gICAgICAgICAgICBpZiAoIWlzTm9uRW1wdHlPYmplY3QpIHtcbiAgICAgICAgICAgICAgdGhyb3cgRmFpbGBSZXN0IGVuY29kaW5nIG11c3QgYmUgYSBub24tZW1wdHkgb2JqZWN0OiAke3Jlc3R9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3RPYmogPSBkZWNvZGVGcm9tQ2FwRGF0YShyZXN0KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICFoYXNPd25Qcm9wZXJ0eU9mKHJlc3RPYmosIFFDTEFTUykgfHxcbiAgICAgICAgICAgICAgRmFpbGBSZXN0IG11c3Qgbm90IGNvbnRhaW4gaXRzIG93biBkZWZpbml0aW9uIG9mICR7cShRQ0xBU1MpfWA7XG4gICAgICAgICAgICBkZWZpbmVQcm9wZXJ0aWVzKHJlc3VsdCwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyZXN0T2JqKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy9cbiAgICAgICAgY2FzZSAnaWJpZCc6IHtcbiAgICAgICAgICB0aHJvdyBGYWlsYFRoZSBjYXBEYXRhIHByb3RvY29sIG5vIGxvbmdlciBzdXBwb3J0cyAke3EoUUNMQVNTKX0gJHtxKFxuICAgICAgICAgICAgcWNsYXNzLFxuICAgICAgICAgICl9YDtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgdGhyb3cgYXNzZXJ0LmZhaWwoXG4gICAgICAgICAgICBYYHVucmVjb2duaXplZCAke3EoUUNMQVNTKX0gJHtxKHFjbGFzcyl9YCxcbiAgICAgICAgICAgIFR5cGVFcnJvcixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydCh0eXBlb2YganNvbkVuY29kZWQgPT09ICdvYmplY3QnICYmIGpzb25FbmNvZGVkICE9PSBudWxsKTtcbiAgICAgIGNvbnN0IGRlY29kZUVudHJ5ID0gKFtuYW1lLCBlbmNvZGVkVmFsXSkgPT4ge1xuICAgICAgICB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgICBGYWlsYFByb3BlcnR5ICR7cShuYW1lKX0gb2YgJHtqc29uRW5jb2RlZH0gbXVzdCBiZSBhIHN0cmluZ2A7XG4gICAgICAgIHJldHVybiBbbmFtZSwgZGVjb2RlRnJvbUNhcERhdGEoZW5jb2RlZFZhbCldO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGRlY29kZWRFbnRyaWVzID0gZW50cmllcyhqc29uRW5jb2RlZCkubWFwKGRlY29kZUVudHJ5KTtcbiAgICAgIHJldHVybiBmcm9tRW50cmllcyhkZWNvZGVkRW50cmllcyk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gaGFyZGVuKGRlY29kZUZyb21DYXBEYXRhKTtcbn07JGjNj19vbmNlLm1ha2VEZWNvZGVGcm9tQ2FwRGF0YShtYWtlRGVjb2RlRnJvbUNhcERhdGEpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUUNMQVNTIjpbIlFDTEFTUyJdLCJtYWtlRW5jb2RlVG9DYXBEYXRhIjpbIm1ha2VFbmNvZGVUb0NhcERhdGEiXSwibWFrZURlY29kZUZyb21DYXBEYXRhIjpbIm1ha2VEZWNvZGVGcm9tQ2FwRGF0YSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAD2GBtPQSwAAEEsAAAtAAAAQGVuZG8vbWFyc2hhbC12MS42LjQvc3JjL2VuY29kZVRvU21hbGxjYXBzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL3Bhc3Mtc3R5bGUiLCJAZW5kby9lcnJvcnMiXSwiZXhwb3J0cyI6WyJtYWtlRGVjb2RlRnJvbVNtYWxsY2FwcyIsIm1ha2VFbmNvZGVUb1NtYWxsY2FwcyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHBhc3NTdHlsZU9mLGlzRXJyb3JMaWtlLG1ha2VUYWdnZWQsZ2V0VGFnLGhhc093blByb3BlcnR5T2YsYXNzZXJ0UGFzc2FibGVTeW1ib2wsbmFtZUZvclBhc3NhYmxlU3ltYm9sLHBhc3NhYmxlU3ltYm9sRm9yTmFtZSxYLEZhaWwscTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcInBhc3NTdHlsZU9mXCIsWyRozY9fYSA9PiAocGFzc1N0eWxlT2YgPSAkaM2PX2EpXV0sW1wiaXNFcnJvckxpa2VcIixbJGjNj19hID0+IChpc0Vycm9yTGlrZSA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJnZXRUYWdcIixbJGjNj19hID0+IChnZXRUYWcgPSAkaM2PX2EpXV0sW1wiaGFzT3duUHJvcGVydHlPZlwiLFskaM2PX2EgPT4gKGhhc093blByb3BlcnR5T2YgPSAkaM2PX2EpXV0sW1wiYXNzZXJ0UGFzc2FibGVTeW1ib2xcIixbJGjNj19hID0+IChhc3NlcnRQYXNzYWJsZVN5bWJvbCA9ICRozY9fYSldXSxbXCJuYW1lRm9yUGFzc2FibGVTeW1ib2xcIixbJGjNj19hID0+IChuYW1lRm9yUGFzc2FibGVTeW1ib2wgPSAkaM2PX2EpXV0sW1wicGFzc2FibGVTeW1ib2xGb3JOYW1lXCIsWyRozY9fYSA9PiAocGFzc2FibGVTeW1ib2xGb3JOYW1lID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5jb25zdCB7IGlzQXJyYXkgfSA9IEFycmF5O1xuY29uc3QgeyBpcywgZW50cmllcywgZnJvbUVudHJpZXMgfSA9IE9iamVjdDtcblxuY29uc3QgQkFORyA9ICchJy5jaGFyQ29kZUF0KDApO1xuY29uc3QgREFTSCA9ICctJy5jaGFyQ29kZUF0KDApO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBzdGFydHNTcGVjaWFsID0gZW5jb2RlZFN0ciA9PiB7XG4gIGlmIChlbmNvZGVkU3RyID09PSAnJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvL1xuICBjb25zdCBjb2RlID0gZW5jb2RlZFN0ci5jaGFyQ29kZUF0KDApO1xuICAvL1xuICByZXR1cm4gQkFORyA8PSBjb2RlICYmIGNvZGUgPD0gREFTSDtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuXG5jb25zdCBkb250RW5jb2RlUmVtb3RhYmxlVG9TbWFsbGNhcHMgPSByZW0gPT5cbiAgRmFpbGByZW1vdGFibGUgdW5leHBlY3RlZDogJHtyZW19YDtcblxuY29uc3QgZG9udEVuY29kZVByb21pc2VUb1NtYWxsY2FwcyA9IHByb20gPT4gRmFpbGBwcm9taXNlIHVuZXhwZWN0ZWQ6ICR7cHJvbX1gO1xuXG5jb25zdCBkb250RW5jb2RlRXJyb3JUb1NtYWxsY2FwcyA9IGVyciA9PlxuICBGYWlsYGVycm9yIG9iamVjdCB1bmV4cGVjdGVkOiAke3EoZXJyKX1gO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VFbmNvZGVUb1NtYWxsY2FwcyA9IChlbmNvZGVPcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qge1xuICAgIGVuY29kZVJlbW90YWJsZVRvU21hbGxjYXBzID0gZG9udEVuY29kZVJlbW90YWJsZVRvU21hbGxjYXBzLFxuICAgIGVuY29kZVByb21pc2VUb1NtYWxsY2FwcyA9IGRvbnRFbmNvZGVQcm9taXNlVG9TbWFsbGNhcHMsXG4gICAgZW5jb2RlRXJyb3JUb1NtYWxsY2FwcyA9IGRvbnRFbmNvZGVFcnJvclRvU21hbGxjYXBzLFxuICB9ID0gZW5jb2RlT3B0aW9ucztcblxuICBjb25zdCBhc3NlcnRFbmNvZGVkRXJyb3IgPSBlbmNvZGluZyA9PiB7XG4gICAgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ29iamVjdCcgJiYgaGFzT3duUHJvcGVydHlPZihlbmNvZGluZywgJyNlcnJvcicpKSB8fFxuICAgICAgRmFpbGBpbnRlcm5hbDogRXJyb3IgZW5jb2RpbmcgbXVzdCBoYXZlIFwiI2Vycm9yXCIgcHJvcGVydHk6ICR7cShcbiAgICAgICAgZW5jb2RpbmcsXG4gICAgICApfWA7XG4gICAgLy9cbiAgICBjb25zdCBtZXNzYWdlID0gZW5jb2RpbmdbJyNlcnJvciddO1xuICAgICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICghc3RhcnRzU3BlY2lhbChtZXNzYWdlKSB8fCBtZXNzYWdlLmNoYXJBdCgwKSA9PT0gJyEnKSkgfHxcbiAgICAgIEZhaWxgaW50ZXJuYWw6IEVycm9yIGVuY29kaW5nIG11c3QgaGF2ZSBzdHJpbmcgbWVzc2FnZTogJHtxKG1lc3NhZ2UpfWA7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgZW5jb2RlVG9TbWFsbGNhcHNSZWN1ciA9IHBhc3NhYmxlID0+IHtcbiAgICAvL1xuICAgIC8vXG4gICAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2YocGFzc2FibGUpO1xuICAgIHN3aXRjaCAocGFzc1N0eWxlKSB7XG4gICAgICBjYXNlICdudWxsJzpcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOiB7XG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBwYXNzYWJsZTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3N0cmluZyc6IHtcbiAgICAgICAgaWYgKHN0YXJ0c1NwZWNpYWwocGFzc2FibGUpKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBgISR7cGFzc2FibGV9YDtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gcGFzc2FibGU7XG4gICAgICB9XG4gICAgICBjYXNlICd1bmRlZmluZWQnOiB7XG4gICAgICAgIHJldHVybiAnI3VuZGVmaW5lZCc7XG4gICAgICB9XG4gICAgICBjYXNlICdudW1iZXInOiB7XG4gICAgICAgIC8vXG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4ocGFzc2FibGUpKSB7XG4gICAgICAgICAgcmV0dXJuICcjTmFOJztcbiAgICAgICAgfSBlbHNlIGlmIChwYXNzYWJsZSA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXR1cm4gJyNJbmZpbml0eSc7XG4gICAgICAgIH0gZWxzZSBpZiAocGFzc2FibGUgPT09IC1JbmZpbml0eSkge1xuICAgICAgICAgIHJldHVybiAnIy1JbmZpbml0eSc7XG4gICAgICAgIH1cbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIGlzKHBhc3NhYmxlLCAtMCkgPyAwIDogcGFzc2FibGU7XG4gICAgICB9XG4gICAgICBjYXNlICdiaWdpbnQnOiB7XG4gICAgICAgIGNvbnN0IHN0ciA9IFN0cmluZyhwYXNzYWJsZSk7XG4gICAgICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgKi8gKHBhc3NhYmxlKSA8IDBuID8gc3RyIDogYCske3N0cn1gO1xuICAgICAgfVxuICAgICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgICBhc3NlcnRQYXNzYWJsZVN5bWJvbChwYXNzYWJsZSk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSAvKiAgICAgICAgICAgICAgICAgKi8gKG5hbWVGb3JQYXNzYWJsZVN5bWJvbChwYXNzYWJsZSkpO1xuICAgICAgICByZXR1cm4gYCUke25hbWV9YDtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NvcHlSZWNvcmQnOiB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IG5hbWVzID0gb3duS2V5cyhwYXNzYWJsZSkuc29ydCgpO1xuICAgICAgICByZXR1cm4gZnJvbUVudHJpZXMoXG4gICAgICAgICAgbmFtZXMubWFwKG5hbWUgPT4gW1xuICAgICAgICAgICAgZW5jb2RlVG9TbWFsbGNhcHNSZWN1cihuYW1lKSxcbiAgICAgICAgICAgIGVuY29kZVRvU21hbGxjYXBzUmVjdXIocGFzc2FibGVbbmFtZV0pLFxuICAgICAgICAgIF0pLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weUFycmF5Jzoge1xuICAgICAgICByZXR1cm4gcGFzc2FibGUubWFwKGVuY29kZVRvU21hbGxjYXBzUmVjdXIpO1xuICAgICAgfVxuICAgICAgY2FzZSAndGFnZ2VkJzoge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICcjdGFnJzogZW5jb2RlVG9TbWFsbGNhcHNSZWN1cihnZXRUYWcocGFzc2FibGUpKSxcbiAgICAgICAgICBwYXlsb2FkOiBlbmNvZGVUb1NtYWxsY2Fwc1JlY3VyKHBhc3NhYmxlLnBheWxvYWQpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY2FzZSAncmVtb3RhYmxlJzoge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBlbmNvZGVSZW1vdGFibGVUb1NtYWxsY2FwcyhcbiAgICAgICAgICBwYXNzYWJsZSxcbiAgICAgICAgICBlbmNvZGVUb1NtYWxsY2Fwc1JlY3VyLFxuICAgICAgICApO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycgJiYgcmVzdWx0LmNoYXJBdCgwKSA9PT0gJyQnKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICB0aHJvdyBGYWlsYGludGVybmFsOiBSZW1vdGFibGUgZW5jb2RpbmcgbXVzdCBzdGFydCB3aXRoIFwiJFwiOiAke3Jlc3VsdH1gO1xuICAgICAgfVxuICAgICAgY2FzZSAncHJvbWlzZSc6IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5jb2RlUHJvbWlzZVRvU21hbGxjYXBzKFxuICAgICAgICAgIHBhc3NhYmxlLFxuICAgICAgICAgIGVuY29kZVRvU21hbGxjYXBzUmVjdXIsXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJyAmJiByZXN1bHQuY2hhckF0KDApID09PSAnJicpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IEZhaWxgaW50ZXJuYWw6IFByb21pc2UgZW5jb2RpbmcgbXVzdCBzdGFydCB3aXRoIFwiJlwiOiAke3Jlc3VsdH1gO1xuICAgICAgfVxuICAgICAgY2FzZSAnZXJyb3InOiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuY29kZUVycm9yVG9TbWFsbGNhcHMocGFzc2FibGUsIGVuY29kZVRvU21hbGxjYXBzUmVjdXIpO1xuICAgICAgICBhc3NlcnRFbmNvZGVkRXJyb3IocmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgYXNzZXJ0LmZhaWwoXG4gICAgICAgICAgWGBpbnRlcm5hbDogVW5yZWNvZ25pemVkIHBhc3NTdHlsZSAke3EocGFzc1N0eWxlKX1gLFxuICAgICAgICAgIFR5cGVFcnJvcixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IGVuY29kZVRvU21hbGxjYXBzID0gcGFzc2FibGUgPT4ge1xuICAgIGlmIChpc0Vycm9yTGlrZShwYXNzYWJsZSkpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCByZXN1bHQgPSBoYXJkZW4oXG4gICAgICAgIGVuY29kZUVycm9yVG9TbWFsbGNhcHMocGFzc2FibGUsIGVuY29kZVRvU21hbGxjYXBzUmVjdXIpLFxuICAgICAgKTtcbiAgICAgIGFzc2VydEVuY29kZWRFcnJvcihyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIGhhcmRlbihlbmNvZGVUb1NtYWxsY2Fwc1JlY3VyKHBhc3NhYmxlKSk7XG4gIH07XG4gIHJldHVybiBoYXJkZW4oZW5jb2RlVG9TbWFsbGNhcHMpO1xufTskaM2PX29uY2UubWFrZUVuY29kZVRvU21hbGxjYXBzKG1ha2VFbmNvZGVUb1NtYWxsY2Fwcyk7XG5oYXJkZW4obWFrZUVuY29kZVRvU21hbGxjYXBzKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbmNvbnN0IGRvbnREZWNvZGVSZW1vdGFibGVGcm9tU21hbGxjYXBzID0gZW5jb2RpbmcgPT5cbiAgRmFpbGByZW1vdGFibGUgdW5leHBlY3RlZDogJHtlbmNvZGluZ31gO1xuY29uc3QgZG9udERlY29kZVByb21pc2VGcm9tU21hbGxjYXBzID0gZW5jb2RpbmcgPT5cbiAgRmFpbGBwcm9taXNlIHVuZXhwZWN0ZWQ6ICR7ZW5jb2Rpbmd9YDtcbmNvbnN0IGRvbnREZWNvZGVFcnJvckZyb21TbWFsbGNhcHMgPSBlbmNvZGluZyA9PlxuICBGYWlsYGVycm9yIHVuZXhwZWN0ZWQ6ICR7cShlbmNvZGluZyl9YDtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlRGVjb2RlRnJvbVNtYWxsY2FwcyA9IChkZWNvZGVPcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qge1xuICAgIGRlY29kZVJlbW90YWJsZUZyb21TbWFsbGNhcHMgPSBkb250RGVjb2RlUmVtb3RhYmxlRnJvbVNtYWxsY2FwcyxcbiAgICBkZWNvZGVQcm9taXNlRnJvbVNtYWxsY2FwcyA9IGRvbnREZWNvZGVQcm9taXNlRnJvbVNtYWxsY2FwcyxcbiAgICBkZWNvZGVFcnJvckZyb21TbWFsbGNhcHMgPSBkb250RGVjb2RlRXJyb3JGcm9tU21hbGxjYXBzLFxuICB9ID0gZGVjb2RlT3B0aW9ucztcblxuICAvKlxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGRlY29kZUZyb21TbWFsbGNhcHMgPSBlbmNvZGluZyA9PiB7XG4gICAgc3dpdGNoICh0eXBlb2YgZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnbnVtYmVyJzoge1xuICAgICAgICByZXR1cm4gZW5jb2Rpbmc7XG4gICAgICB9XG4gICAgICBjYXNlICdzdHJpbmcnOiB7XG4gICAgICAgIGlmICghc3RhcnRzU3BlY2lhbChlbmNvZGluZykpIHtcbiAgICAgICAgICByZXR1cm4gZW5jb2Rpbmc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYyA9IGVuY29kaW5nLmNoYXJBdCgwKTtcbiAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgICAgY2FzZSAnISc6IHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICByZXR1cm4gZW5jb2Rpbmcuc2xpY2UoMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJyUnOiB7XG4gICAgICAgICAgICByZXR1cm4gcGFzc2FibGVTeW1ib2xGb3JOYW1lKGVuY29kaW5nLnNsaWNlKDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnIyc6IHtcbiAgICAgICAgICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgICAgICAgICAgY2FzZSAnI3VuZGVmaW5lZCc6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJyNOYU4nOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlICcjSW5maW5pdHknOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJyMtSW5maW5pdHknOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgYXNzZXJ0LmZhaWwoXG4gICAgICAgICAgICAgICAgICBYYHVua25vd24gY29uc3RhbnQgXCIke3EoZW5jb2RpbmcpfVwiYCxcbiAgICAgICAgICAgICAgICAgIFR5cGVFcnJvcixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJysnOlxuICAgICAgICAgIGNhc2UgJy0nOiB7XG4gICAgICAgICAgICByZXR1cm4gQmlnSW50KGVuY29kaW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnJCc6IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlY29kZVJlbW90YWJsZUZyb21TbWFsbGNhcHMoXG4gICAgICAgICAgICAgIGVuY29kaW5nLFxuICAgICAgICAgICAgICBkZWNvZGVGcm9tU21hbGxjYXBzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBpZiAocGFzc1N0eWxlT2YocmVzdWx0KSAhPT0gJ3JlbW90YWJsZScpIHtcbiAgICAgICAgICAgICAgRmFpbGBpbnRlcm5hbDogZGVjb2RlUmVtb3RhYmxlRnJvbVNtYWxsY2FwcyBvcHRpb24gbXVzdCByZXR1cm4gYSByZW1vdGFibGU6ICR7cmVzdWx0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICcmJzoge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVjb2RlUHJvbWlzZUZyb21TbWFsbGNhcHMoXG4gICAgICAgICAgICAgIGVuY29kaW5nLFxuICAgICAgICAgICAgICBkZWNvZGVGcm9tU21hbGxjYXBzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChwYXNzU3R5bGVPZihyZXN1bHQpICE9PSAncHJvbWlzZScpIHtcbiAgICAgICAgICAgICAgRmFpbGBpbnRlcm5hbDogZGVjb2RlUHJvbWlzZUZyb21TbWFsbGNhcHMgb3B0aW9uIG11c3QgcmV0dXJuIGEgcHJvbWlzZTogJHtyZXN1bHR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHRocm93IEZhaWxgU3BlY2lhbCBjaGFyICR7cShcbiAgICAgICAgICAgICAgYyxcbiAgICAgICAgICAgICl9IHJlc2VydmVkIGZvciBmdXR1cmUgdXNlOiAke2VuY29kaW5nfWA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXNlICdvYmplY3QnOiB7XG4gICAgICAgIGlmIChlbmNvZGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBlbmNvZGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0FycmF5KGVuY29kaW5nKSkge1xuICAgICAgICAgIHJldHVybiBlbmNvZGluZy5tYXAodmFsID0+IGRlY29kZUZyb21TbWFsbGNhcHModmFsKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHlPZihlbmNvZGluZywgJyN0YWcnKSkge1xuICAgICAgICAgIGNvbnN0IHsgJyN0YWcnOiB0YWcsIHBheWxvYWQsIC4uLnJlc3QgfSA9IGVuY29kaW5nO1xuICAgICAgICAgIHR5cGVvZiB0YWcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICBGYWlsYFZhbHVlIG9mIFwiI3RhZ1wiLCB0aGUgdGFnLCBtdXN0IGJlIGEgc3RyaW5nOiAke2VuY29kaW5nfWA7XG4gICAgICAgICAgb3duS2V5cyhyZXN0KS5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgIEZhaWxgI3RhZyByZWNvcmQgdW5leHBlY3RlZCBwcm9wZXJ0aWVzOiAke3Eob3duS2V5cyhyZXN0KSl9YDtcbiAgICAgICAgICByZXR1cm4gbWFrZVRhZ2dlZChcbiAgICAgICAgICAgIGRlY29kZUZyb21TbWFsbGNhcHModGFnKSxcbiAgICAgICAgICAgIGRlY29kZUZyb21TbWFsbGNhcHMocGF5bG9hZCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eU9mKGVuY29kaW5nLCAnI2Vycm9yJykpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBkZWNvZGVFcnJvckZyb21TbWFsbGNhcHMoXG4gICAgICAgICAgICBlbmNvZGluZyxcbiAgICAgICAgICAgIGRlY29kZUZyb21TbWFsbGNhcHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwYXNzU3R5bGVPZihyZXN1bHQpID09PSAnZXJyb3InIHx8XG4gICAgICAgICAgICBGYWlsYGludGVybmFsOiBkZWNvZGVFcnJvckZyb21TbWFsbGNhcHMgb3B0aW9uIG11c3QgcmV0dXJuIGFuIGVycm9yOiAke3Jlc3VsdH1gO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWNvZGVFbnRyeSA9IChbZW5jb2RlZE5hbWUsIGVuY29kZWRWYWxdKSA9PiB7XG4gICAgICAgICAgdHlwZW9mIGVuY29kZWROYW1lID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgRmFpbGBQcm9wZXJ0eSBuYW1lICR7cShcbiAgICAgICAgICAgICAgZW5jb2RlZE5hbWUsXG4gICAgICAgICAgICApfSBvZiAke2VuY29kaW5nfSBtdXN0IGJlIGEgc3RyaW5nYDtcbiAgICAgICAgICBlbmNvZGVkTmFtZS5jaGFyQXQoMCkgIT09ICcjJyB8fFxuICAgICAgICAgICAgRmFpbGBVbnJlY29nbml6ZWQgcmVjb3JkIHR5cGUgJHtxKGVuY29kZWROYW1lKX06ICR7ZW5jb2Rpbmd9YDtcbiAgICAgICAgICBjb25zdCBuYW1lID0gZGVjb2RlRnJvbVNtYWxsY2FwcyhlbmNvZGVkTmFtZSk7XG4gICAgICAgICAgdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICBGYWlsYERlY29kZWQgcHJvcGVydHkgbmFtZSAke25hbWV9IGZyb20gJHtlbmNvZGluZ30gbXVzdCBiZSBhIHN0cmluZ2A7XG4gICAgICAgICAgcmV0dXJuIFtuYW1lLCBkZWNvZGVGcm9tU21hbGxjYXBzKGVuY29kZWRWYWwpXTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZGVjb2RlZEVudHJpZXMgPSBlbnRyaWVzKGVuY29kaW5nKS5tYXAoZGVjb2RlRW50cnkpO1xuICAgICAgICByZXR1cm4gZnJvbUVudHJpZXMoZGVjb2RlZEVudHJpZXMpO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aHJvdyBhc3NlcnQuZmFpbChcbiAgICAgICAgICBYYGludGVybmFsOiB1bnJlY29nbml6ZWQgSlNPTiB0eXBlb2YgJHtxKFxuICAgICAgICAgICAgdHlwZW9mIGVuY29kaW5nLFxuICAgICAgICAgICl9OiAke2VuY29kaW5nfWAsXG4gICAgICAgICAgVHlwZUVycm9yLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGhhcmRlbihkZWNvZGVGcm9tU21hbGxjYXBzKTtcbn07JGjNj19vbmNlLm1ha2VEZWNvZGVGcm9tU21hbGxjYXBzKG1ha2VEZWNvZGVGcm9tU21hbGxjYXBzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Im1ha2VFbmNvZGVUb1NtYWxsY2FwcyI6WyJtYWtlRW5jb2RlVG9TbWFsbGNhcHMiXSwibWFrZURlY29kZUZyb21TbWFsbGNhcHMiOlsibWFrZURlY29kZUZyb21TbWFsbGNhcHMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA5otTsGgvAABoLwAAKgAAAEBlbmRvL21hcnNoYWwtdjEuNi40L3NyYy9tYXJzaGFsLWp1c3Rpbi5qc3siaW1wb3J0cyI6WyJAZW5kby9uYXQiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vZXJyb3JzIiwiLi9lbmNvZGVUb0NhcERhdGEuanMiXSwiZXhwb3J0cyI6WyJkZWNvZGVUb0p1c3RpbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE5hdCxnZXRFcnJvckNvbnN0cnVjdG9yLGlzT2JqZWN0LHBhc3NhYmxlU3ltYm9sRm9yTmFtZSxxLFgsRmFpbCxRQ0xBU1M7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9uYXRcIiwgW1tcIk5hdFwiLFskaM2PX2EgPT4gKE5hdCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImdldEVycm9yQ29uc3RydWN0b3JcIixbJGjNj19hID0+IChnZXRFcnJvckNvbnN0cnVjdG9yID0gJGjNj19hKV1dLFtcImlzT2JqZWN0XCIsWyRozY9fYSA9PiAoaXNPYmplY3QgPSAkaM2PX2EpXV0sW1wicGFzc2FibGVTeW1ib2xGb3JOYW1lXCIsWyRozY9fYSA9PiAocGFzc2FibGVTeW1ib2xGb3JOYW1lID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIi4vZW5jb2RlVG9DYXBEYXRhLmpzXCIsIFtbXCJRQ0xBU1NcIixbJGjNj19hID0+IChRQ0xBU1MgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcbmNvbnN0IHsgaXNBcnJheSB9ID0gQXJyYXk7XG5jb25zdCB7IHN0cmluZ2lmeTogcXVvdGUgfSA9IEpTT047XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuY29uc3QgbWFrZVllc0luZGVudGVyID0gKCkgPT4ge1xuICBjb25zdCBzdHJpbmdzID0gW107XG4gIGxldCBsZXZlbCA9IDA7XG4gIGxldCBuZWVkU3BhY2UgPSBmYWxzZTtcbiAgY29uc3QgbGluZSA9ICgpID0+IHtcbiAgICBuZWVkU3BhY2UgPSBmYWxzZTtcbiAgICByZXR1cm4gc3RyaW5ncy5wdXNoKCdcXG4nLCAnICAnLnJlcGVhdChsZXZlbCkpO1xuICB9O1xuICByZXR1cm4gaGFyZGVuKHtcbiAgICBvcGVuOiBvcGVuQnJhY2tldCA9PiB7XG4gICAgICBsZXZlbCArPSAxO1xuICAgICAgaWYgKG5lZWRTcGFjZSkge1xuICAgICAgICBzdHJpbmdzLnB1c2goJyAnKTtcbiAgICAgIH1cbiAgICAgIG5lZWRTcGFjZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHN0cmluZ3MucHVzaChvcGVuQnJhY2tldCk7XG4gICAgfSxcbiAgICBsaW5lLFxuICAgIG5leHQ6IHRva2VuID0+IHtcbiAgICAgIGlmIChuZWVkU3BhY2UgJiYgdG9rZW4gIT09ICcsJykge1xuICAgICAgICBzdHJpbmdzLnB1c2goJyAnKTtcbiAgICAgIH1cbiAgICAgIG5lZWRTcGFjZSA9IHRydWU7XG4gICAgICByZXR1cm4gc3RyaW5ncy5wdXNoKHRva2VuKTtcbiAgICB9LFxuICAgIGNsb3NlOiBjbG9zZUJyYWNrZXQgPT4ge1xuICAgICAgYXNzZXJ0KGxldmVsID49IDEpO1xuICAgICAgbGV2ZWwgLT0gMTtcbiAgICAgIGxpbmUoKTtcbiAgICAgIHJldHVybiBzdHJpbmdzLnB1c2goY2xvc2VCcmFja2V0KTtcbiAgICB9LFxuICAgIGRvbmU6ICgpID0+IHtcbiAgICAgIGFzc2VydC5lcXVhbChsZXZlbCwgMCk7XG4gICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCcnKTtcbiAgICB9LFxuICB9KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBiYWRQYWlyUGF0dGVybiA9IC9eKD86XFx3XFx3fDw8fD4+fFxcK1xcK3wtLXw8IXwtPikkLztcblxuLypcblxuXG5cbiAqL1xuY29uc3QgbWFrZU5vSW5kZW50ZXIgPSAoKSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHN0cmluZ3MgPSBbXTtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgb3Blbjogb3BlbkJyYWNrZXQgPT4gc3RyaW5ncy5wdXNoKG9wZW5CcmFja2V0KSxcbiAgICBsaW5lOiAoKSA9PiBzdHJpbmdzLmxlbmd0aCxcbiAgICBuZXh0OiB0b2tlbiA9PiB7XG4gICAgICBpZiAoc3RyaW5ncy5sZW5ndGggPj0gMSkge1xuICAgICAgICBjb25zdCBsYXN0ID0gc3RyaW5nc1tzdHJpbmdzLmxlbmd0aCAtIDFdO1xuICAgICAgICAvL1xuICAgICAgICBpZiAobGFzdC5sZW5ndGggPj0gMSAmJiB0b2tlbi5sZW5ndGggPj0gMSkge1xuICAgICAgICAgIGNvbnN0IHBhaXIgPSBgJHtsYXN0W2xhc3QubGVuZ3RoIC0gMV19JHt0b2tlblswXX1gO1xuICAgICAgICAgIGlmIChiYWRQYWlyUGF0dGVybi50ZXN0KHBhaXIpKSB7XG4gICAgICAgICAgICBzdHJpbmdzLnB1c2goJyAnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmdzLnB1c2godG9rZW4pO1xuICAgIH0sXG4gICAgY2xvc2U6IGNsb3NlQnJhY2tldCA9PiB7XG4gICAgICBpZiAoc3RyaW5ncy5sZW5ndGggPj0gMSAmJiBzdHJpbmdzW3N0cmluZ3MubGVuZ3RoIC0gMV0gPT09ICcsJykge1xuICAgICAgICBzdHJpbmdzLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZ3MucHVzaChjbG9zZUJyYWNrZXQpO1xuICAgIH0sXG4gICAgZG9uZTogKCkgPT4gc3RyaW5ncy5qb2luKCcnKSxcbiAgfSk7XG59O1xuXG5jb25zdCBpZGVudFBhdHRlcm4gPSAvXlthLXpBLVpdXFx3KiQvO1xuaGFyZGVuKGlkZW50UGF0dGVybik7XG5jb25zdCBBdEF0UHJlZml4UGF0dGVybiA9IC9eQEAoLiopJC87XG5oYXJkZW4oQXRBdFByZWZpeFBhdHRlcm4pO1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IGRlY29kZVRvSnVzdGluID0gKGVuY29kaW5nLCBzaG91bGRJbmRlbnQgPSBmYWxzZSwgc2xvdHMgPSBbXSkgPT4ge1xuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBwcmVwYXJlID0gcmF3VHJlZSA9PiB7XG4gICAgaWYgKCFpc09iamVjdChyYXdUcmVlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvL1xuICAgIGFzc2VydC50eXBlb2YocmF3VHJlZSwgJ29iamVjdCcpO1xuICAgIGFzc2VydChyYXdUcmVlICE9PSBudWxsKTtcbiAgICBpZiAoUUNMQVNTIGluIHJhd1RyZWUpIHtcbiAgICAgIGNvbnN0IHFjbGFzcyA9IHJhd1RyZWVbUUNMQVNTXTtcbiAgICAgIHR5cGVvZiBxY2xhc3MgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIEZhaWxgaW52YWxpZCBxY2xhc3MgdHlwZW9mICR7cSh0eXBlb2YgcWNsYXNzKX1gO1xuICAgICAgYXNzZXJ0KCFpc0FycmF5KHJhd1RyZWUpKTtcbiAgICAgIHN3aXRjaCAocmF3VHJlZVsnQHFjbGFzcyddKSB7XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIGNhc2UgJ05hTic6XG4gICAgICAgIGNhc2UgJ0luZmluaXR5JzpcbiAgICAgICAgY2FzZSAnLUluZmluaXR5Jzoge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdiaWdpbnQnOiB7XG4gICAgICAgICAgY29uc3QgeyBkaWdpdHMgfSA9IHJhd1RyZWU7XG4gICAgICAgICAgdHlwZW9mIGRpZ2l0cyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIEZhaWxgaW52YWxpZCBkaWdpdHMgdHlwZW9mICR7cSh0eXBlb2YgZGlnaXRzKX1gO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdAQGFzeW5jSXRlcmF0b3InOiB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3N5bWJvbCc6IHtcbiAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IHJhd1RyZWU7XG4gICAgICAgICAgYXNzZXJ0LnR5cGVvZihuYW1lLCAnc3RyaW5nJyk7XG4gICAgICAgICAgY29uc3Qgc3ltID0gcGFzc2FibGVTeW1ib2xGb3JOYW1lKG5hbWUpO1xuICAgICAgICAgIGFzc2VydC50eXBlb2Yoc3ltLCAnc3ltYm9sJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3RhZ2dlZCc6IHtcbiAgICAgICAgICBjb25zdCB7IHRhZywgcGF5bG9hZCB9ID0gcmF3VHJlZTtcbiAgICAgICAgICBhc3NlcnQudHlwZW9mKHRhZywgJ3N0cmluZycpO1xuICAgICAgICAgIHByZXBhcmUocGF5bG9hZCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3Nsb3QnOiB7XG4gICAgICAgICAgY29uc3QgeyBpbmRleCwgaWZhY2UgfSA9IHJhd1RyZWU7XG4gICAgICAgICAgYXNzZXJ0LnR5cGVvZihpbmRleCwgJ251bWJlcicpO1xuICAgICAgICAgIE5hdChpbmRleCk7XG4gICAgICAgICAgaWYgKGlmYWNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFzc2VydC50eXBlb2YoaWZhY2UsICdzdHJpbmcnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2hpbGJlcnQnOiB7XG4gICAgICAgICAgY29uc3QgeyBvcmlnaW5hbCwgcmVzdCB9ID0gcmF3VHJlZTtcbiAgICAgICAgICAnb3JpZ2luYWwnIGluIHJhd1RyZWUgfHxcbiAgICAgICAgICAgIEZhaWxgSW52YWxpZCBIaWxiZXJ0IEhvdGVsIGVuY29kaW5nICR7cmF3VHJlZX1gO1xuICAgICAgICAgIHByZXBhcmUob3JpZ2luYWwpO1xuICAgICAgICAgIGlmICgncmVzdCcgaW4gcmF3VHJlZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICB0aHJvdyBGYWlsYFJlc3QgJHtyZXN0fSBlbmNvZGluZyBtdXN0IGJlIGFuIG9iamVjdGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aHJvdyBGYWlsYFJlc3QgJHtyZXN0fSBlbmNvZGluZyBtdXN0IG5vdCBiZSBudWxsYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0FycmF5KHJlc3QpKSB7XG4gICAgICAgICAgICAgIHRocm93IEZhaWxgUmVzdCAke3Jlc3R9IGVuY29kaW5nIG11c3Qgbm90IGJlIGFuIGFycmF5YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChRQ0xBU1MgaW4gcmVzdCkge1xuICAgICAgICAgICAgICB0aHJvdyBGYWlsYFJlc3QgZW5jb2RpbmcgJHtyZXN0fSBtdXN0IG5vdCBjb250YWluICR7cShRQ0xBU1MpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IG93bktleXMocmVzdCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgbmFtZXMpIHtcbiAgICAgICAgICAgICAgdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAgICAgRmFpbGBQcm9wZXJ0eSBuYW1lICR7bmFtZX0gb2YgJHtyYXdUcmVlfSBtdXN0IGJlIGEgc3RyaW5nYDtcbiAgICAgICAgICAgICAgcHJlcGFyZShyZXN0W25hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Vycm9yJzoge1xuICAgICAgICAgIGNvbnN0IHsgbmFtZSwgbWVzc2FnZSB9ID0gcmF3VHJlZTtcbiAgICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBGYWlsYGludmFsaWQgZXJyb3IgbmFtZSB0eXBlb2YgJHtxKHR5cGVvZiBuYW1lKX1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBnZXRFcnJvckNvbnN0cnVjdG9yKG5hbWUpICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIEZhaWxgTXVzdCBiZSB0aGUgbmFtZSBvZiBhbiBFcnJvciBjb25zdHJ1Y3RvciAke25hbWV9YDtcbiAgICAgICAgICB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIEZhaWxgaW52YWxpZCBlcnJvciBtZXNzYWdlIHR5cGVvZiAke3EodHlwZW9mIG1lc3NhZ2UpfWA7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGFzc2VydC5mYWlsKFhgdW5yZWNvZ25pemVkICR7cShRQ0xBU1MpfSAke3EocWNsYXNzKX1gLCBUeXBlRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHJhd1RyZWUpKSB7XG4gICAgICBjb25zdCB7IGxlbmd0aCB9ID0gcmF3VHJlZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgcHJlcGFyZShyYXdUcmVlW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbmFtZXMgPSBvd25LZXlzKHJhd1RyZWUpO1xuICAgICAgZm9yIChjb25zdCBuYW1lIG9mIG5hbWVzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aHJvdyBGYWlsYFByb3BlcnR5IG5hbWUgJHtuYW1lfSBvZiAke3Jhd1RyZWV9IG11c3QgYmUgYSBzdHJpbmdgO1xuICAgICAgICB9XG4gICAgICAgIHByZXBhcmUocmF3VHJlZVtuYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG1ha2VJbmRlbnRlciA9IHNob3VsZEluZGVudCA/IG1ha2VZZXNJbmRlbnRlciA6IG1ha2VOb0luZGVudGVyO1xuICBsZXQgb3V0ID0gbWFrZUluZGVudGVyKCk7XG5cbiAgLypcblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGRlY29kZSA9IHJhd1RyZWUgPT4ge1xuICAgIC8vXG4gICAgcmV0dXJuIHJlY3VyKHJhd1RyZWUpO1xuICB9O1xuXG4gIGNvbnN0IGRlY29kZVByb3BlcnR5ID0gKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgb3V0LmxpbmUoKTtcbiAgICBpZiAobmFtZSA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBvdXQubmV4dChgW1wiX19wcm90b19fXCJdOmApO1xuICAgIH0gZWxzZSBpZiAoaWRlbnRQYXR0ZXJuLnRlc3QobmFtZSkpIHtcbiAgICAgIG91dC5uZXh0KGAke25hbWV9OmApO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQubmV4dChgJHtxdW90ZShuYW1lKX06YCk7XG4gICAgfVxuICAgIGRlY29kZSh2YWx1ZSk7XG4gICAgb3V0Lm5leHQoJywnKTtcbiAgfTtcblxuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCByZWN1ciA9IHJhd1RyZWUgPT4ge1xuICAgIGlmICghaXNPYmplY3QocmF3VHJlZSkpIHtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gb3V0Lm5leHQocXVvdGUocmF3VHJlZSkpO1xuICAgIH1cbiAgICAvL1xuICAgIGFzc2VydC50eXBlb2YocmF3VHJlZSwgJ29iamVjdCcpO1xuICAgIGFzc2VydChyYXdUcmVlICE9PSBudWxsKTtcbiAgICBpZiAoUUNMQVNTIGluIHJhd1RyZWUpIHtcbiAgICAgIGNvbnN0IHFjbGFzcyA9IHJhd1RyZWVbUUNMQVNTXTtcbiAgICAgIGFzc2VydC50eXBlb2YocWNsYXNzLCAnc3RyaW5nJyk7XG4gICAgICBhc3NlcnQoIWlzQXJyYXkocmF3VHJlZSkpO1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgc3dpdGNoIChyYXdUcmVlWydAcWNsYXNzJ10pIHtcbiAgICAgICAgLy9cbiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgY2FzZSAnTmFOJzpcbiAgICAgICAgY2FzZSAnSW5maW5pdHknOlxuICAgICAgICBjYXNlICctSW5maW5pdHknOiB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICByZXR1cm4gb3V0Lm5leHQocWNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdiaWdpbnQnOiB7XG4gICAgICAgICAgY29uc3QgeyBkaWdpdHMgfSA9IHJhd1RyZWU7XG4gICAgICAgICAgYXNzZXJ0LnR5cGVvZihkaWdpdHMsICdzdHJpbmcnKTtcbiAgICAgICAgICByZXR1cm4gb3V0Lm5leHQoYCR7QmlnSW50KGRpZ2l0cyl9bmApO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0BAYXN5bmNJdGVyYXRvcic6IHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBvdXQubmV4dCgnU3ltYm9sLmFzeW5jSXRlcmF0b3InKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdzeW1ib2wnOiB7XG4gICAgICAgICAgY29uc3QgeyBuYW1lIH0gPSByYXdUcmVlO1xuICAgICAgICAgIGFzc2VydC50eXBlb2YobmFtZSwgJ3N0cmluZycpO1xuICAgICAgICAgIGNvbnN0IHN5bSA9IHBhc3NhYmxlU3ltYm9sRm9yTmFtZShuYW1lKTtcbiAgICAgICAgICBhc3NlcnQudHlwZW9mKHN5bSwgJ3N5bWJvbCcpO1xuICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyZWROYW1lID0gU3ltYm9sLmtleUZvcihzeW0pO1xuICAgICAgICAgIGlmIChyZWdpc3RlcmVkTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IEF0QXRQcmVmaXhQYXR0ZXJuLmV4ZWMobmFtZSk7XG4gICAgICAgICAgICBhc3NlcnQobWF0Y2ggIT09IG51bGwpO1xuICAgICAgICAgICAgY29uc3Qgc3VmZml4ID0gbWF0Y2hbMV07XG4gICAgICAgICAgICBhc3NlcnQoU3ltYm9sW3N1ZmZpeF0gPT09IHN5bSk7XG4gICAgICAgICAgICBhc3NlcnQoaWRlbnRQYXR0ZXJuLnRlc3Qoc3VmZml4KSk7XG4gICAgICAgICAgICByZXR1cm4gb3V0Lm5leHQoYFN5bWJvbC4ke3N1ZmZpeH1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG91dC5uZXh0KGBTeW1ib2wuZm9yKCR7cXVvdGUocmVnaXN0ZXJlZE5hbWUpfSlgKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICd0YWdnZWQnOiB7XG4gICAgICAgICAgY29uc3QgeyB0YWcsIHBheWxvYWQgfSA9IHJhd1RyZWU7XG4gICAgICAgICAgb3V0Lm5leHQoYG1ha2VUYWdnZWQoJHtxdW90ZSh0YWcpfSxgKTtcbiAgICAgICAgICBkZWNvZGUocGF5bG9hZCk7XG4gICAgICAgICAgcmV0dXJuIG91dC5uZXh0KCcpJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdzbG90Jzoge1xuICAgICAgICAgIGxldCB7IGlmYWNlIH0gPSByYXdUcmVlO1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gTnVtYmVyKE5hdChyYXdUcmVlLmluZGV4KSk7XG4gICAgICAgICAgY29uc3QgbmVzdGVkUmVuZGVyID0gYXJnID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9sZE91dCA9IG91dDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIG91dCA9IG1ha2VOb0luZGVudGVyKCk7XG4gICAgICAgICAgICAgIGRlY29kZShhcmcpO1xuICAgICAgICAgICAgICByZXR1cm4gb3V0LmRvbmUoKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIG91dCA9IG9sZE91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChpbmRleCA8IHNsb3RzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IG5lc3RlZFJlbmRlcihzbG90c1tpbmRleF0pO1xuICAgICAgICAgICAgaWYgKGlmYWNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG91dC5uZXh0KGBzbG90VG9WYWwoJHtzbG90fSlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmYWNlID0gbmVzdGVkUmVuZGVyKGlmYWNlKTtcbiAgICAgICAgICAgIHJldHVybiBvdXQubmV4dChgc2xvdFRvVmFsKCR7c2xvdH0sJHtpZmFjZX0pYCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpZmFjZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0Lm5leHQoYHNsb3QoJHtpbmRleH0pYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmYWNlID0gbmVzdGVkUmVuZGVyKGlmYWNlKTtcbiAgICAgICAgICByZXR1cm4gb3V0Lm5leHQoYHNsb3QoJHtpbmRleH0sJHtpZmFjZX0pYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdoaWxiZXJ0Jzoge1xuICAgICAgICAgIGNvbnN0IHsgb3JpZ2luYWwsIHJlc3QgfSA9IHJhd1RyZWU7XG4gICAgICAgICAgb3V0Lm9wZW4oJ3snKTtcbiAgICAgICAgICBkZWNvZGVQcm9wZXJ0eShRQ0xBU1MsIG9yaWdpbmFsKTtcbiAgICAgICAgICBpZiAoJ3Jlc3QnIGluIHJhd1RyZWUpIHtcbiAgICAgICAgICAgIGFzc2VydC50eXBlb2YocmVzdCwgJ29iamVjdCcpO1xuICAgICAgICAgICAgYXNzZXJ0KHJlc3QgIT09IG51bGwpO1xuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBvd25LZXlzKHJlc3QpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIG5hbWVzKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBGYWlsYFByb3BlcnR5IG5hbWUgJHtxKFxuICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICApfSBvZiAke3Jlc3R9IG11c3QgYmUgYSBzdHJpbmdgO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRlY29kZVByb3BlcnR5KG5hbWUsIHJlc3RbbmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb3V0LmNsb3NlKCd9Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIGNhdXNlID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgZXJyb3JzID0gdW5kZWZpbmVkLFxuICAgICAgICAgIH0gPSByYXdUcmVlO1xuICAgICAgICAgIGNhdXNlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIEZhaWxgZXJyb3IgY2F1c2Ugbm90IHlldCBpbXBsZW1lbnRlZCBpbiBtYXJzaGFsLWp1c3RpbmA7XG4gICAgICAgICAgbmFtZSAhPT0gYEFnZ3JlZ2F0ZUVycm9yYCB8fFxuICAgICAgICAgICAgRmFpbGBBZ2dyZWdhdGVFcnJvciBub3QgeWV0IGltcGxlbWVudGVkIGluIG1hcnNoYWwtanVzdGluYDtcbiAgICAgICAgICBlcnJvcnMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgRmFpbGBlcnJvciBlcnJvcnMgbm90IHlldCBpbXBsZW1lbnRlZCBpbiBtYXJzaGFsLWp1c3RpbmA7XG4gICAgICAgICAgcmV0dXJuIG91dC5uZXh0KGAke25hbWV9KCR7cXVvdGUobWVzc2FnZSl9KWApO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIHRocm93IGFzc2VydC5mYWlsKFxuICAgICAgICAgICAgWGB1bnJlY29nbml6ZWQgJHtxKFFDTEFTUyl9ICR7cShxY2xhc3MpfWAsXG4gICAgICAgICAgICBUeXBlRXJyb3IsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNBcnJheShyYXdUcmVlKSkge1xuICAgICAgY29uc3QgeyBsZW5ndGggfSA9IHJhd1RyZWU7XG4gICAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBvdXQubmV4dCgnW10nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dC5vcGVuKCdbJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBvdXQubGluZSgpO1xuICAgICAgICAgIGRlY29kZShyYXdUcmVlW2ldKTtcbiAgICAgICAgICBvdXQubmV4dCgnLCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQuY2xvc2UoJ10nKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCBuYW1lcyA9IC8qICAgICAgICAgICAgICAgICAgICovIChvd25LZXlzKHJhd1RyZWUpKTtcbiAgICAgIGlmIChuYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG91dC5uZXh0KCd7fScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0Lm9wZW4oJ3snKTtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIG5hbWVzKSB7XG4gICAgICAgICAgZGVjb2RlUHJvcGVydHkobmFtZSwgcmF3VHJlZVtuYW1lXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dC5jbG9zZSgnfScpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcHJlcGFyZShlbmNvZGluZyk7XG4gIGRlY29kZShlbmNvZGluZyk7XG4gIHJldHVybiBvdXQuZG9uZSgpO1xufTskaM2PX29uY2UuZGVjb2RlVG9KdXN0aW4oZGVjb2RlVG9KdXN0aW4pO1xuaGFyZGVuKGRlY29kZVRvSnVzdGluKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImRlY29kZVRvSnVzdGluIjpbImRlY29kZVRvSnVzdGluIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAL4ipxtKBwAASgcAAC0AAABAZW5kby9tYXJzaGFsLXYxLjYuNC9zcmMvbWFyc2hhbC1zdHJpbmdpZnkuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiLi9tYXJzaGFsLmpzIl0sImV4cG9ydHMiOlsicGFyc2UiLCJzdHJpbmdpZnkiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLG1ha2VNYXJzaGFsOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIi4vbWFyc2hhbC5qc1wiLCBbW1wibWFrZU1hcnNoYWxcIixbJGjNj19hID0+IChtYWtlTWFyc2hhbCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgeyBmcmVlemUgfSA9IE9iamVjdDtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBkb05vdENvbnZlcnRWYWxUb1Nsb3QgPSB2YWwgPT5cbiAgRmFpbGBNYXJzaGFsJ3Mgc3RyaW5naWZ5IHJlamVjdHMgcHJlc2VuY2VzIGFuZCBwcm9taXNlcyAke3ZhbH1gO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGRvTm90Q29udmVydFNsb3RUb1ZhbCA9IChzbG90LCBfaWZhY2UpID0+XG4gIEZhaWxgTWFyc2hhbCdzIHBhcnNlIG11c3Qgbm90IGVuY29kZSBhbnkgc2xvdHMgJHtzbG90fWA7XG5cbmNvbnN0IGJhZEFycmF5SGFuZGxlciA9IGhhcmRlbih7XG4gIGdldDogKF90YXJnZXQsIG5hbWUsIF9yZWNlaXZlcikgPT4ge1xuICAgIGlmIChuYW1lID09PSAnbGVuZ3RoJykge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIC8vXG4gICAgdGhyb3cgRmFpbGBNYXJzaGFsJ3MgcGFyc2UgbXVzdCBub3QgZW5jb2RlIGFueSBzbG90IHBvc2l0aW9ucyAke25hbWV9YDtcbiAgfSxcbn0pO1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IGFycmF5VGFyZ2V0ID0gZnJlZXplKC8qICAgICAgICAgICAgICAgICovIChbXSkpO1xuY29uc3QgYmFkQXJyYXkgPSBuZXcgUHJveHkoYXJyYXlUYXJnZXQsIGJhZEFycmF5SGFuZGxlcik7XG5cbmNvbnN0IHsgc2VyaWFsaXplLCB1bnNlcmlhbGl6ZSB9ID0gbWFrZU1hcnNoYWwoXG4gIGRvTm90Q29udmVydFZhbFRvU2xvdCxcbiAgZG9Ob3RDb252ZXJ0U2xvdFRvVmFsLFxuICB7XG4gICAgZXJyb3JUYWdnaW5nOiAnb2ZmJyxcbiAgICAvL1xuICAgIHNlcmlhbGl6ZUJvZHlGb3JtYXQ6ICdjYXBkYXRhJyxcbiAgfSxcbik7XG5cbi8qXG5cblxuICovXG5jb25zdCBzdHJpbmdpZnkgPSB2YWwgPT4gc2VyaWFsaXplKHZhbCkuYm9keTskaM2PX29uY2Uuc3RyaW5naWZ5KHN0cmluZ2lmeSk7XG5oYXJkZW4oc3RyaW5naWZ5KTtcblxuLypcblxuXG4gKi9cbmNvbnN0IHBhcnNlID0gc3RyID0+XG4gIHVuc2VyaWFsaXplKFxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGZyZWV6ZSh7XG4gICAgICBib2R5OiBzdHIsXG4gICAgICBzbG90czogYmFkQXJyYXksXG4gICAgfSksXG4gICk7JGjNj19vbmNlLnBhcnNlKHBhcnNlKTtcbmhhcmRlbihwYXJzZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJzdHJpbmdpZnkiOlsic3RyaW5naWZ5Il0sInBhcnNlIjpbInBhcnNlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAAk6IG5hLwAAYS8AACMAAABAZW5kby9tYXJzaGFsLXYxLjYuNC9zcmMvbWFyc2hhbC5qc3siaW1wb3J0cyI6WyJAZW5kby9uYXQiLCJAZW5kby9wYXNzLXN0eWxlIiwiQGVuZG8vZXJyb3JzIiwiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiLCIuL2VuY29kZVRvQ2FwRGF0YS5qcyIsIi4vZW5jb2RlVG9TbWFsbGNhcHMuanMiXSwiZXhwb3J0cyI6WyJtYWtlTWFyc2hhbCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IE5hdCxhc3NlcnRQYXNzYWJsZSxnZXRJbnRlcmZhY2VPZixnZXRFcnJvckNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5T2YsdG9QYXNzYWJsZUVycm9yLFgsRmFpbCxxLG1ha2VFcnJvcixhbm5vdGF0ZUVycm9yLG9iamVjdE1hcCxRQ0xBU1MsbWFrZUVuY29kZVRvQ2FwRGF0YSxtYWtlRGVjb2RlRnJvbUNhcERhdGEsbWFrZURlY29kZUZyb21TbWFsbGNhcHMsbWFrZUVuY29kZVRvU21hbGxjYXBzOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vbmF0XCIsIFtbXCJOYXRcIixbJGjNj19hID0+IChOYXQgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wYXNzLXN0eWxlXCIsIFtbXCJhc3NlcnRQYXNzYWJsZVwiLFskaM2PX2EgPT4gKGFzc2VydFBhc3NhYmxlID0gJGjNj19hKV1dLFtcImdldEludGVyZmFjZU9mXCIsWyRozY9fYSA9PiAoZ2V0SW50ZXJmYWNlT2YgPSAkaM2PX2EpXV0sW1wiZ2V0RXJyb3JDb25zdHJ1Y3RvclwiLFskaM2PX2EgPT4gKGdldEVycm9yQ29uc3RydWN0b3IgPSAkaM2PX2EpXV0sW1wiaGFzT3duUHJvcGVydHlPZlwiLFskaM2PX2EgPT4gKGhhc093blByb3BlcnR5T2YgPSAkaM2PX2EpXV0sW1widG9QYXNzYWJsZUVycm9yXCIsWyRozY9fYSA9PiAodG9QYXNzYWJsZUVycm9yID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXSxbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJtYWtlRXJyb3JcIixbJGjNj19hID0+IChtYWtlRXJyb3IgPSAkaM2PX2EpXV0sW1wiYW5ub3RhdGVFcnJvclwiLFskaM2PX2EgPT4gKGFubm90YXRlRXJyb3IgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9jb21tb24vb2JqZWN0LW1hcC5qc1wiLCBbW1wib2JqZWN0TWFwXCIsWyRozY9fYSA9PiAob2JqZWN0TWFwID0gJGjNj19hKV1dXV0sW1wiLi9lbmNvZGVUb0NhcERhdGEuanNcIiwgW1tcIlFDTEFTU1wiLFskaM2PX2EgPT4gKFFDTEFTUyA9ICRozY9fYSldXSxbXCJtYWtlRW5jb2RlVG9DYXBEYXRhXCIsWyRozY9fYSA9PiAobWFrZUVuY29kZVRvQ2FwRGF0YSA9ICRozY9fYSldXSxbXCJtYWtlRGVjb2RlRnJvbUNhcERhdGFcIixbJGjNj19hID0+IChtYWtlRGVjb2RlRnJvbUNhcERhdGEgPSAkaM2PX2EpXV1dXSxbXCIuL2VuY29kZVRvU21hbGxjYXBzLmpzXCIsIFtbXCJtYWtlRGVjb2RlRnJvbVNtYWxsY2Fwc1wiLFskaM2PX2EgPT4gKG1ha2VEZWNvZGVGcm9tU21hbGxjYXBzID0gJGjNj19hKV1dLFtcIm1ha2VFbmNvZGVUb1NtYWxsY2Fwc1wiLFskaM2PX2EgPT4gKG1ha2VFbmNvZGVUb1NtYWxsY2FwcyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG5cbiAqL1xuXG5jb25zdCB7IGRlZmluZVByb3BlcnRpZXMgfSA9IE9iamVjdDtcbmNvbnN0IHsgaXNBcnJheSB9ID0gQXJyYXk7XG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgZGVmYXVsdFZhbFRvU2xvdEZuID0geCA9PiB4O1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBkZWZhdWx0U2xvdFRvVmFsRm4gPSAoeCwgXykgPT4geDtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZU1hcnNoYWwgPSAoXG4gIGNvbnZlcnRWYWxUb1Nsb3QgPSBkZWZhdWx0VmFsVG9TbG90Rm4sXG4gIGNvbnZlcnRTbG90VG9WYWwgPSBkZWZhdWx0U2xvdFRvVmFsRm4sXG4gIHtcbiAgICBlcnJvclRhZ2dpbmcgPSAnb24nLFxuICAgIG1hcnNoYWxOYW1lID0gJ2Fub24tbWFyc2hhbCcsXG4gICAgLy9cbiAgICAvL1xuICAgIGVycm9ySWROdW0gPSAxMDAwMCxcbiAgICAvL1xuICAgIC8vXG4gICAgbWFyc2hhbFNhdmVFcnJvciA9IGVyciA9PlxuICAgICAgY29uc29sZS5sb2coJ1RlbXBvcmFyeSBsb2dnaW5nIG9mIHNlbnQgZXJyb3InLCBlcnIpLFxuICAgIC8vXG4gICAgLy9cbiAgICBzZXJpYWxpemVCb2R5Rm9ybWF0ID0gJ2NhcGRhdGEnLFxuICB9ID0ge30sXG4pID0+IHtcbiAgYXNzZXJ0LnR5cGVvZihtYXJzaGFsTmFtZSwgJ3N0cmluZycpO1xuICBlcnJvclRhZ2dpbmcgPT09ICdvbicgfHxcbiAgICBlcnJvclRhZ2dpbmcgPT09ICdvZmYnIHx8XG4gICAgRmFpbGBUaGUgZXJyb3JUYWdnaW5nIG9wdGlvbiBjYW4gb25seSBiZSBcIm9uXCIgb3IgXCJvZmZcIiAke2Vycm9yVGFnZ2luZ31gO1xuICBjb25zdCBuZXh0RXJyb3JJZCA9ICgpID0+IHtcbiAgICBlcnJvcklkTnVtICs9IDE7XG4gICAgcmV0dXJuIGBlcnJvcjoke21hcnNoYWxOYW1lfSMke2Vycm9ySWROdW19YDtcbiAgfTtcblxuICAvKlxuXG4gICAqL1xuICBjb25zdCB0b0NhcERhdGEgPSByb290ID0+IHtcbiAgICBjb25zdCBzbG90cyA9IFtdO1xuICAgIC8vXG4gICAgY29uc3Qgc2xvdE1hcCA9IG5ldyBNYXAoKTtcblxuICAgIC8qXG5cblxuICAgICAqL1xuICAgIGNvbnN0IGVuY29kZVNsb3RDb21tb24gPSBwYXNzYWJsZSA9PiB7XG4gICAgICBsZXQgaW5kZXggPSBzbG90TWFwLmdldChwYXNzYWJsZSk7XG4gICAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvL1xuICAgICAgICBhc3NlcnQudHlwZW9mKGluZGV4LCAnbnVtYmVyJyk7XG4gICAgICAgIHJldHVybiBoYXJkZW4oeyBpbmRleCwgcmVwZWF0OiB0cnVlIH0pO1xuICAgICAgfVxuXG4gICAgICBpbmRleCA9IHNsb3RzLmxlbmd0aDtcbiAgICAgIGNvbnN0IHNsb3QgPSBjb252ZXJ0VmFsVG9TbG90KHBhc3NhYmxlKTtcbiAgICAgIHNsb3RzLnB1c2goc2xvdCk7XG4gICAgICBzbG90TWFwLnNldChwYXNzYWJsZSwgaW5kZXgpO1xuICAgICAgcmV0dXJuIGhhcmRlbih7IGluZGV4LCByZXBlYXQ6IGZhbHNlIH0pO1xuICAgIH07XG5cbiAgICAvKlxuXG5cblxuXG5cblxuXG5cbiAgICAgKi9cbiAgICBjb25zdCBlbmNvZGVFcnJvckNvbW1vbiA9IChlcnIsIGVuY29kZVJlY3VyKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZW5jb2RlUmVjdXIoYCR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICBhc3NlcnQudHlwZW9mKG1lc3NhZ2UsICdzdHJpbmcnKTtcbiAgICAgIGNvbnN0IG5hbWUgPSBlbmNvZGVSZWN1cihgJHtlcnIubmFtZX1gKTtcbiAgICAgIGFzc2VydC50eXBlb2YobmFtZSwgJ3N0cmluZycpO1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgaWYgKGVycm9yVGFnZ2luZyA9PT0gJ29uJykge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBlcnJvcklkID0gZW5jb2RlUmVjdXIobmV4dEVycm9ySWQoKSk7XG4gICAgICAgIGFzc2VydC50eXBlb2YoZXJyb3JJZCwgJ3N0cmluZycpO1xuICAgICAgICBhbm5vdGF0ZUVycm9yKGVyciwgWGBTZW50IGFzICR7ZXJyb3JJZH1gKTtcbiAgICAgICAgbWFyc2hhbFNhdmVFcnJvcihlcnIpO1xuICAgICAgICByZXR1cm4gaGFyZGVuKHsgZXJyb3JJZCwgbWVzc2FnZSwgbmFtZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBoYXJkZW4oeyBtZXNzYWdlLCBuYW1lIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoc2VyaWFsaXplQm9keUZvcm1hdCA9PT0gJ2NhcGRhdGEnKSB7XG4gICAgICAvKlxuXG5cblxuICAgICAgICovXG4gICAgICBjb25zdCBlbmNvZGVTbG90VG9DYXBEYXRhID0gKHBhc3NhYmxlLCBpZmFjZSA9IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgICBjb25zdCB7IGluZGV4LCByZXBlYXQgfSA9IGVuY29kZVNsb3RDb21tb24ocGFzc2FibGUpO1xuXG4gICAgICAgIGlmIChyZXBlYXQgPT09IHRydWUgfHwgaWZhY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBoYXJkZW4oeyBbUUNMQVNTXTogJ3Nsb3QnLCBpbmRleCB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgW1FDTEFTU106ICdzbG90JywgaWZhY2UsIGluZGV4IH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgIGNvbnN0IGVuY29kZVJlbW90YWJsZVRvQ2FwRGF0YSA9ICh2YWwsIF9lbmNvZGVSZWN1cikgPT5cbiAgICAgICAgZW5jb2RlU2xvdFRvQ2FwRGF0YSh2YWwsIGdldEludGVyZmFjZU9mKHZhbCkpO1xuXG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICBjb25zdCBlbmNvZGVQcm9taXNlVG9DYXBEYXRhID0gKHByb21pc2UsIF9lbmNvZGVSZWN1cikgPT5cbiAgICAgICAgZW5jb2RlU2xvdFRvQ2FwRGF0YShwcm9taXNlKTtcblxuICAgICAgLypcblxuXG5cblxuXG5cblxuXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGVuY29kZUVycm9yVG9DYXBEYXRhID0gKGVyciwgZW5jb2RlUmVjdXIpID0+IHtcbiAgICAgICAgY29uc3QgZXJyRGF0YSA9IGVuY29kZUVycm9yQ29tbW9uKGVyciwgZW5jb2RlUmVjdXIpO1xuICAgICAgICByZXR1cm4gaGFyZGVuKHsgW1FDTEFTU106ICdlcnJvcicsIC4uLmVyckRhdGEgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBlbmNvZGVUb0NhcERhdGEgPSBtYWtlRW5jb2RlVG9DYXBEYXRhKHtcbiAgICAgICAgZW5jb2RlUmVtb3RhYmxlVG9DYXBEYXRhLFxuICAgICAgICBlbmNvZGVQcm9taXNlVG9DYXBEYXRhLFxuICAgICAgICBlbmNvZGVFcnJvclRvQ2FwRGF0YSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBlbmNvZGVkID0gZW5jb2RlVG9DYXBEYXRhKHJvb3QpO1xuICAgICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KGVuY29kZWQpO1xuICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgIGJvZHksXG4gICAgICAgIHNsb3RzLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzZXJpYWxpemVCb2R5Rm9ybWF0ID09PSAnc21hbGxjYXBzJykge1xuICAgICAgLypcblxuXG5cblxuICAgICAgICovXG4gICAgICBjb25zdCBlbmNvZGVTbG90VG9TbWFsbGNhcHMgPSAocHJlZml4LCBwYXNzYWJsZSwgaWZhY2UgPSB1bmRlZmluZWQpID0+IHtcbiAgICAgICAgY29uc3QgeyBpbmRleCwgcmVwZWF0IH0gPSBlbmNvZGVTbG90Q29tbW9uKHBhc3NhYmxlKTtcblxuICAgICAgICAvL1xuICAgICAgICBpZiAocmVwZWF0ID09PSB0cnVlIHx8IGlmYWNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gYCR7cHJlZml4fSR7aW5kZXh9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7cHJlZml4fSR7aW5kZXh9LiR7aWZhY2V9YDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGVuY29kZVJlbW90YWJsZVRvU21hbGxjYXBzID0gKHJlbW90YWJsZSwgX2VuY29kZVJlY3VyKSA9PlxuICAgICAgICBlbmNvZGVTbG90VG9TbWFsbGNhcHMoJyQnLCByZW1vdGFibGUsIGdldEludGVyZmFjZU9mKHJlbW90YWJsZSkpO1xuXG4gICAgICBjb25zdCBlbmNvZGVQcm9taXNlVG9TbWFsbGNhcHMgPSAocHJvbWlzZSwgX2VuY29kZVJlY3VyKSA9PlxuICAgICAgICBlbmNvZGVTbG90VG9TbWFsbGNhcHMoJyYnLCBwcm9taXNlKTtcblxuICAgICAgY29uc3QgZW5jb2RlRXJyb3JUb1NtYWxsY2FwcyA9IChlcnIsIGVuY29kZVJlY3VyKSA9PiB7XG4gICAgICAgIGNvbnN0IGVyckRhdGEgPSBlbmNvZGVFcnJvckNvbW1vbihlcnIsIGVuY29kZVJlY3VyKTtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlLCAuLi5yZXN0IH0gPSBlcnJEYXRhO1xuICAgICAgICByZXR1cm4gaGFyZGVuKHsgJyNlcnJvcic6IG1lc3NhZ2UsIC4uLnJlc3QgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBlbmNvZGVUb1NtYWxsY2FwcyA9IG1ha2VFbmNvZGVUb1NtYWxsY2Fwcyh7XG4gICAgICAgIGVuY29kZVJlbW90YWJsZVRvU21hbGxjYXBzLFxuICAgICAgICBlbmNvZGVQcm9taXNlVG9TbWFsbGNhcHMsXG4gICAgICAgIGVuY29kZUVycm9yVG9TbWFsbGNhcHMsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZW5jb2RlZCA9IGVuY29kZVRvU21hbGxjYXBzKHJvb3QpO1xuICAgICAgY29uc3Qgc21hbGxjYXBzQm9keSA9IEpTT04uc3RyaW5naWZ5KGVuY29kZWQpO1xuICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGJvZHk6IGAjJHtzbWFsbGNhcHNCb2R5fWAsXG4gICAgICAgIHNsb3RzLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vXG4gICAgICB0aHJvdyBGYWlsYFVucmVjb2duaXplZCBzZXJpYWxpemVCb2R5Rm9ybWF0OiAke3Eoc2VyaWFsaXplQm9keUZvcm1hdCl9YDtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbWFrZUZ1bGxSZXZpdmUgPSBzbG90cyA9PiB7XG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBjb25zdCB2YWxNYXAgPSBuZXcgTWFwKCk7XG5cbiAgICAvKlxuXG5cbiAgICAgKi9cbiAgICBjb25zdCBkZWNvZGVTbG90Q29tbW9uID0gc2xvdERhdGEgPT4ge1xuICAgICAgY29uc3QgeyBpZmFjZSA9IHVuZGVmaW5lZCwgaW5kZXgsIC4uLnJlc3QgfSA9IHNsb3REYXRhO1xuICAgICAgb3duS2V5cyhyZXN0KS5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgRmFpbGB1bmV4cGVjdGVkIGVuY29kZWQgc2xvdCBwcm9wZXJ0aWVzICR7cShvd25LZXlzKHJlc3QpKX1gO1xuICAgICAgY29uc3QgZXh0YW50ID0gdmFsTWFwLmdldChpbmRleCk7XG4gICAgICBpZiAoZXh0YW50KSB7XG4gICAgICAgIHJldHVybiBleHRhbnQ7XG4gICAgICB9XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGNvbnN0IHNsb3QgPSBzbG90c1tOdW1iZXIoTmF0KGluZGV4KSldO1xuICAgICAgY29uc3QgdmFsID0gY29udmVydFNsb3RUb1ZhbChzbG90LCBpZmFjZSk7XG4gICAgICB2YWxNYXAuc2V0KGluZGV4LCB2YWwpO1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuXG4gICAgLypcblxuXG5cblxuXG5cblxuXG5cbiAgICAgKi9cbiAgICBjb25zdCBkZWNvZGVFcnJvckNvbW1vbiA9IChlcnJEYXRhLCBkZWNvZGVSZWN1cikgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBlcnJvcklkID0gdW5kZWZpbmVkLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBuYW1lLFxuICAgICAgICBjYXVzZSA9IHVuZGVmaW5lZCxcbiAgICAgICAgZXJyb3JzID0gdW5kZWZpbmVkLFxuICAgICAgICAuLi5yZXN0XG4gICAgICB9ID0gZXJyRGF0YTtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCBkTmFtZSA9IGRlY29kZVJlY3VyKG5hbWUpO1xuICAgICAgY29uc3QgZE1lc3NhZ2UgPSBkZWNvZGVSZWN1cihtZXNzYWdlKTtcbiAgICAgIC8vXG4gICAgICBjb25zdCBkRXJyb3JJZCA9IC8qICAgICAgICAgICAgICAgICAqLyAoZXJyb3JJZCAmJiBkZWNvZGVSZWN1cihlcnJvcklkKSk7XG4gICAgICBpZiAodHlwZW9mIGROYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBGYWlsYGludmFsaWQgZXJyb3IgbmFtZSB0eXBlb2YgJHtxKHR5cGVvZiBkTmFtZSl9YDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZE1lc3NhZ2UgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IEZhaWxgaW52YWxpZCBlcnJvciBtZXNzYWdlIHR5cGVvZiAke3EodHlwZW9mIGRNZXNzYWdlKX1gO1xuICAgICAgfVxuICAgICAgY29uc3QgZXJyQ29uc3RydWN0b3IgPSBnZXRFcnJvckNvbnN0cnVjdG9yKGROYW1lKSB8fCBFcnJvcjtcbiAgICAgIGNvbnN0IGVycm9yTmFtZSA9XG4gICAgICAgIGRFcnJvcklkID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGBSZW1vdGUke2VyckNvbnN0cnVjdG9yLm5hbWV9YFxuICAgICAgICAgIDogYFJlbW90ZSR7ZXJyQ29uc3RydWN0b3IubmFtZX0oJHtkRXJyb3JJZH0pYDtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIGVycm9yTmFtZSxcbiAgICAgICAgc2FuaXRpemU6IGZhbHNlLFxuICAgICAgfTtcbiAgICAgIGlmIChjYXVzZSkge1xuICAgICAgICBvcHRpb25zLmNhdXNlID0gZGVjb2RlUmVjdXIoY2F1c2UpO1xuICAgICAgfVxuICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICBvcHRpb25zLmVycm9ycyA9IGRlY29kZVJlY3VyKGVycm9ycyk7XG4gICAgICB9XG4gICAgICBjb25zdCByYXdFcnJvciA9IG1ha2VFcnJvcihkTWVzc2FnZSwgZXJyQ29uc3RydWN0b3IsIG9wdGlvbnMpO1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGNvbnN0IGRlc2NzID0gb2JqZWN0TWFwKHJlc3QsIGRhdGEgPT4gKHtcbiAgICAgICAgdmFsdWU6IGRlY29kZVJlY3VyKGRhdGEpLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgfSkpO1xuICAgICAgZGVmaW5lUHJvcGVydGllcyhyYXdFcnJvciwgZGVzY3MpO1xuICAgICAgaGFyZGVuKHJhd0Vycm9yKTtcbiAgICAgIHJldHVybiB0b1Bhc3NhYmxlRXJyb3IocmF3RXJyb3IpO1xuICAgIH07XG5cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgY29uc3QgZGVjb2RlUmVtb3RhYmxlT3JQcm9taXNlRnJvbUNhcERhdGEgPSAocmF3VHJlZSwgX2RlY29kZVJlY3VyKSA9PiB7XG4gICAgICBjb25zdCB7IFtRQ0xBU1NdOiBfLCAuLi5zbG90RGF0YSB9ID0gcmF3VHJlZTtcbiAgICAgIHJldHVybiBkZWNvZGVTbG90Q29tbW9uKHNsb3REYXRhKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVjb2RlRXJyb3JGcm9tQ2FwRGF0YSA9IChyYXdUcmVlLCBkZWNvZGVSZWN1cikgPT4ge1xuICAgICAgY29uc3QgeyBbUUNMQVNTXTogXywgLi4uZXJyRGF0YSB9ID0gcmF3VHJlZTtcbiAgICAgIHJldHVybiBkZWNvZGVFcnJvckNvbW1vbihlcnJEYXRhLCBkZWNvZGVSZWN1cik7XG4gICAgfTtcblxuICAgIGNvbnN0IHJldml2ZUZyb21DYXBEYXRhID0gbWFrZURlY29kZUZyb21DYXBEYXRhKHtcbiAgICAgIGRlY29kZVJlbW90YWJsZUZyb21DYXBEYXRhOiBkZWNvZGVSZW1vdGFibGVPclByb21pc2VGcm9tQ2FwRGF0YSxcbiAgICAgIGRlY29kZVByb21pc2VGcm9tQ2FwRGF0YTogZGVjb2RlUmVtb3RhYmxlT3JQcm9taXNlRnJvbUNhcERhdGEsXG4gICAgICBkZWNvZGVFcnJvckZyb21DYXBEYXRhLFxuICAgIH0pO1xuXG4gICAgY29uc3QgbWFrZURlY29kZVNsb3RGcm9tU21hbGxjYXBzID0gcHJlZml4ID0+IHtcbiAgICAgIC8qXG5cblxuXG4gICAgICAgKi9cbiAgICAgIHJldHVybiAoc3RyaW5nRW5jb2RpbmcsIF9kZWNvZGVSZWN1cikgPT4ge1xuICAgICAgICBhc3NlcnQoc3RyaW5nRW5jb2RpbmcuY2hhckF0KDApID09PSBwcmVmaXgpO1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBpID0gc3RyaW5nRW5jb2RpbmcuaW5kZXhPZignLicpO1xuICAgICAgICBjb25zdCBpbmRleCA9IE51bWJlcihzdHJpbmdFbmNvZGluZy5zbGljZSgxLCBpIDwgMCA/IHVuZGVmaW5lZCA6IGkpKTtcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgaWZhY2UgPSBpIDwgMCA/IHVuZGVmaW5lZCA6IHN0cmluZ0VuY29kaW5nLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgcmV0dXJuIGRlY29kZVNsb3RDb21tb24oeyBpZmFjZSwgaW5kZXggfSk7XG4gICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZGVjb2RlUmVtb3RhYmxlRnJvbVNtYWxsY2FwcyA9IG1ha2VEZWNvZGVTbG90RnJvbVNtYWxsY2FwcygnJCcpO1xuICAgIGNvbnN0IGRlY29kZVByb21pc2VGcm9tU21hbGxjYXBzID0gbWFrZURlY29kZVNsb3RGcm9tU21hbGxjYXBzKCcmJyk7XG5cbiAgICBjb25zdCBkZWNvZGVFcnJvckZyb21TbWFsbGNhcHMgPSAoZW5jb2RpbmcsIGRlY29kZVJlY3VyKSA9PiB7XG4gICAgICBjb25zdCB7ICcjZXJyb3InOiBtZXNzYWdlLCAuLi5yZXN0RXJyRGF0YSB9ID0gZW5jb2Rpbmc7XG4gICAgICAhaGFzT3duUHJvcGVydHlPZihyZXN0RXJyRGF0YSwgJ21lc3NhZ2UnKSB8fFxuICAgICAgICBGYWlsYHVuZXhwZWN0ZWQgZW5jb2RlZCBlcnJvciBwcm9wZXJ0eSAke3EoJ21lc3NhZ2UnKX1gO1xuICAgICAgcmV0dXJuIGRlY29kZUVycm9yQ29tbW9uKHsgbWVzc2FnZSwgLi4ucmVzdEVyckRhdGEgfSwgZGVjb2RlUmVjdXIpO1xuICAgIH07XG5cbiAgICBjb25zdCByZXZpdmVGcm9tU21hbGxjYXBzID0gbWFrZURlY29kZUZyb21TbWFsbGNhcHMoe1xuICAgICAgLy9cbiAgICAgIGRlY29kZVJlbW90YWJsZUZyb21TbWFsbGNhcHMsXG4gICAgICAvL1xuICAgICAgZGVjb2RlUHJvbWlzZUZyb21TbWFsbGNhcHMsXG4gICAgICBkZWNvZGVFcnJvckZyb21TbWFsbGNhcHMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gaGFyZGVuKHsgcmV2aXZlRnJvbUNhcERhdGEsIHJldml2ZUZyb21TbWFsbGNhcHMgfSk7XG4gIH07XG5cbiAgLypcblxuICAgKi9cbiAgY29uc3QgZnJvbUNhcERhdGEgPSBkYXRhID0+IHtcbiAgICBjb25zdCB7IGJvZHksIHNsb3RzIH0gPSBkYXRhO1xuICAgIHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJyB8fFxuICAgICAgRmFpbGB1bnNlcmlhbGl6ZSgpIGdpdmVuIG5vbi1jYXBkYXRhICguYm9keSBpcyAke2JvZHl9LCBub3Qgc3RyaW5nKWA7XG4gICAgaXNBcnJheShkYXRhLnNsb3RzKSB8fFxuICAgICAgRmFpbGB1bnNlcmlhbGl6ZSgpIGdpdmVuIG5vbi1jYXBkYXRhICguc2xvdHMgYXJlIG5vdCBBcnJheSlgO1xuICAgIGNvbnN0IHsgcmV2aXZlRnJvbUNhcERhdGEsIHJldml2ZUZyb21TbWFsbGNhcHMgfSA9IG1ha2VGdWxsUmV2aXZlKHNsb3RzKTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIC8vXG4gICAgaWYgKGJvZHkuY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgIGNvbnN0IHNtYWxsY2Fwc0JvZHkgPSBib2R5LnNsaWNlKDEpO1xuICAgICAgY29uc3QgZW5jb2RpbmcgPSBoYXJkZW4oSlNPTi5wYXJzZShzbWFsbGNhcHNCb2R5KSk7XG4gICAgICByZXN1bHQgPSBoYXJkZW4ocmV2aXZlRnJvbVNtYWxsY2FwcyhlbmNvZGluZykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByYXdUcmVlID0gaGFyZGVuKEpTT04ucGFyc2UoYm9keSkpO1xuICAgICAgcmVzdWx0ID0gaGFyZGVuKHJldml2ZUZyb21DYXBEYXRhKHJhd1RyZWUpKTtcbiAgICB9XG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgYXNzZXJ0UGFzc2FibGUocmVzdWx0KTtcbiAgICByZXR1cm4gLyogICAgICAgICAgICAgICAgICAgICAgKi8gKHJlc3VsdCk7XG4gIH07XG5cbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgdG9DYXBEYXRhLFxuICAgIGZyb21DYXBEYXRhLFxuXG4gICAgLy9cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIHNlcmlhbGl6ZTogdG9DYXBEYXRhLFxuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICB1bnNlcmlhbGl6ZTogZnJvbUNhcERhdGEsXG4gIH0pO1xufTskaM2PX29uY2UubWFrZU1hcnNoYWwobWFrZU1hcnNoYWwpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZU1hcnNoYWwiOlsibWFrZU1hcnNoYWwiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAASrDVXesuAADrLgAAJQAAAEBlbmRvL21hcnNoYWwtdjEuNi40L3NyYy9yYW5rT3JkZXIuanN7ImltcG9ydHMiOlsiQGVuZG8vcGFzcy1zdHlsZSIsIkBlbmRvL2Vycm9ycyIsIi4vZW5jb2RlUGFzc2FibGUuanMiXSwiZXhwb3J0cyI6WyJGdWxsUmFua0NvdmVyIiwiYXNzZXJ0UmFua1NvcnRlZCIsImNvbXBhcmF0b3JNaXJyb3JJbWFnZSIsImNvbXBhcmVBbnRpUmFuayIsImNvbXBhcmVSYW5rIiwiY292ZXJlZEVudHJpZXMiLCJnZXRJbmRleENvdmVyIiwiZ2V0UGFzc1N0eWxlQ292ZXIiLCJpbnRlcnNlY3RSYW5rQ292ZXJzIiwiaXNSYW5rU29ydGVkIiwibWFrZUNvbXBhcmF0b3JLaXQiLCJtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCIsInNvcnRCeVJhbmsiLCJ0cml2aWFsQ29tcGFyYXRvciIsInVuaW9uUmFua0NvdmVycyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGdldFRhZyxwYXNzU3R5bGVPZixuYW1lRm9yUGFzc2FibGVTeW1ib2wsRmFpbCxxLHBhc3NTdHlsZVByZWZpeGVzLHJlY29yZE5hbWVzLHJlY29yZFZhbHVlczskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3Bhc3Mtc3R5bGVcIiwgW1tcImdldFRhZ1wiLFskaM2PX2EgPT4gKGdldFRhZyA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dLFtcIm5hbWVGb3JQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKG5hbWVGb3JQYXNzYWJsZVN5bWJvbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCIuL2VuY29kZVBhc3NhYmxlLmpzXCIsIFtbXCJwYXNzU3R5bGVQcmVmaXhlc1wiLFskaM2PX2EgPT4gKHBhc3NTdHlsZVByZWZpeGVzID0gJGjNj19hKV1dLFtcInJlY29yZE5hbWVzXCIsWyRozY9fYSA9PiAocmVjb3JkTmFtZXMgPSAkaM2PX2EpXV0sW1wicmVjb3JkVmFsdWVzXCIsWyRozY9fYSA9PiAocmVjb3JkVmFsdWVzID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuLypcblxuXG4gKi9cblxuY29uc3QgeyBlbnRyaWVzLCBmcm9tRW50cmllcywgc2V0UHJvdG90eXBlT2YsIGlzIH0gPSBPYmplY3Q7XG5cbi8qXG5cblxuXG4gKi9cblxuLypcblxuXG5cbiAqL1xuXG4vKlxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IHNhbWVWYWx1ZVplcm8gPSAoeCwgeSkgPT4geCA9PT0geSB8fCBpcyh4LCB5KTtcblxuICAgICAgIGNvbnN0IHRyaXZpYWxDb21wYXJhdG9yID0gKGxlZnQsIHJpZ2h0KSA9PlxuICAvL1xuICBsZWZ0IDwgcmlnaHQgPyAtMSA6IGxlZnQgPT09IHJpZ2h0ID8gMCA6IDE7XG5cbi8qXG5cbiAqLyRozY9fb25jZS50cml2aWFsQ29tcGFyYXRvcih0cml2aWFsQ29tcGFyYXRvcik7XG5cbmNvbnN0IHBhc3NTdHlsZVJhbmtzID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKFxuICBmcm9tRW50cmllcyhcbiAgICBlbnRyaWVzKHBhc3NTdHlsZVByZWZpeGVzKVxuICAgICAgLy9cbiAgICAgIC5zb3J0KChbX2xlZnRTdHlsZSwgbGVmdFByZWZpeGVzXSwgW19yaWdodFN0eWxlLCByaWdodFByZWZpeGVzXSkgPT4ge1xuICAgICAgICByZXR1cm4gdHJpdmlhbENvbXBhcmF0b3IobGVmdFByZWZpeGVzLCByaWdodFByZWZpeGVzKTtcbiAgICAgIH0pXG4gICAgICAubWFwKChbcGFzc1N0eWxlLCBwcmVmaXhlc10sIGluZGV4KSA9PiB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHByZWZpeGVzID09PSBbLi4ucHJlZml4ZXNdLnNvcnQoKS5qb2luKCcnKSB8fFxuICAgICAgICAgIEZhaWxgdW5zb3J0ZWQgcHJlZml4ZXMgZm9yIHBhc3NTdHlsZSAke3EocGFzc1N0eWxlKX06ICR7cShwcmVmaXhlcyl9YDtcbiAgICAgICAgY29uc3QgY292ZXIgPSBbXG4gICAgICAgICAgcHJlZml4ZXMuY2hhckF0KDApLFxuICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUocHJlZml4ZXMuY2hhckNvZGVBdChwcmVmaXhlcy5sZW5ndGggLSAxKSArIDEpLFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gW3Bhc3NTdHlsZSwgeyBpbmRleCwgY292ZXIgfV07XG4gICAgICB9KSxcbiAgKVxuKTtcbnNldFByb3RvdHlwZU9mKHBhc3NTdHlsZVJhbmtzLCBudWxsKTtcbmhhcmRlbihwYXNzU3R5bGVSYW5rcyk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRQYXNzU3R5bGVDb3ZlciA9IHBhc3NTdHlsZSA9PiBwYXNzU3R5bGVSYW5rc1twYXNzU3R5bGVdLmNvdmVyOyRozY9fb25jZS5nZXRQYXNzU3R5bGVDb3ZlcihnZXRQYXNzU3R5bGVDb3Zlcik7XG5oYXJkZW4oZ2V0UGFzc1N0eWxlQ292ZXIpO1xuXG4vKlxuXG4gKi9cbmNvbnN0IG1lbW9PZlNvcnRlZCA9IG5ldyBXZWFrTWFwKCk7XG5cbi8qXG5cbiAqL1xuY29uc3QgY29tcGFyYXRvck1pcnJvckltYWdlcyA9IG5ldyBXZWFrTWFwKCk7XG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VDb21wYXJhdG9yS2l0ID0gKGNvbXBhcmVSZW1vdGFibGVzID0gKF94LCBfeSkgPT4gTmFOKSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGNvbXBhcmF0b3IgPSAobGVmdCwgcmlnaHQpID0+IHtcbiAgICBpZiAoc2FtZVZhbHVlWmVybyhsZWZ0LCByaWdodCkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBsZWZ0U3R5bGUgPSBwYXNzU3R5bGVPZihsZWZ0KTtcbiAgICBjb25zdCByaWdodFN0eWxlID0gcGFzc1N0eWxlT2YocmlnaHQpO1xuICAgIGlmIChsZWZ0U3R5bGUgIT09IHJpZ2h0U3R5bGUpIHtcbiAgICAgIHJldHVybiB0cml2aWFsQ29tcGFyYXRvcihcbiAgICAgICAgcGFzc1N0eWxlUmFua3NbbGVmdFN0eWxlXS5pbmRleCxcbiAgICAgICAgcGFzc1N0eWxlUmFua3NbcmlnaHRTdHlsZV0uaW5kZXgsXG4gICAgICApO1xuICAgIH1cbiAgICAvKlxuXG4gICAgICovXG4gICAgc3dpdGNoIChsZWZ0U3R5bGUpIHtcbiAgICAgIGNhc2UgJ3JlbW90YWJsZSc6IHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVSZW1vdGFibGVzKGxlZnQsIHJpZ2h0KTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICBjYXNlICdudWxsJzpcbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgIGNhc2UgJ3Byb21pc2UnOiB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICBjYXNlICdiaWdpbnQnOlxuICAgICAgY2FzZSAnc3RyaW5nJzoge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBpZiAobGVmdCA8IHJpZ2h0KSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2VydChsZWZ0ID4gcmlnaHQpO1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXNlICdzeW1ib2wnOiB7XG4gICAgICAgIHJldHVybiBjb21wYXJhdG9yKFxuICAgICAgICAgIG5hbWVGb3JQYXNzYWJsZVN5bWJvbChsZWZ0KSxcbiAgICAgICAgICBuYW1lRm9yUGFzc2FibGVTeW1ib2wocmlnaHQpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSAnbnVtYmVyJzoge1xuICAgICAgICAvL1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGxlZnQpKSB7XG4gICAgICAgICAgYXNzZXJ0KCFOdW1iZXIuaXNOYU4ocmlnaHQpKTtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfSBlbHNlIGlmIChOdW1iZXIuaXNOYU4ocmlnaHQpKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGlmIChsZWZ0IDwgcmlnaHQpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzZXJ0KGxlZnQgPiByaWdodCk7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NvcHlSZWNvcmQnOiB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG5cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgbGVmdE5hbWVzID0gcmVjb3JkTmFtZXMobGVmdCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0TmFtZXMgPSByZWNvcmROYW1lcyhyaWdodCk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY29tcGFyYXRvcihsZWZ0TmFtZXMsIHJpZ2h0TmFtZXMpO1xuICAgICAgICBpZiAocmVzdWx0ICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZWZ0VmFsdWVzID0gcmVjb3JkVmFsdWVzKGxlZnQsIGxlZnROYW1lcyk7XG4gICAgICAgIGNvbnN0IHJpZ2h0VmFsdWVzID0gcmVjb3JkVmFsdWVzKHJpZ2h0LCByaWdodE5hbWVzKTtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3IobGVmdFZhbHVlcywgcmlnaHRWYWx1ZXMpO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weUFycmF5Jzoge1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1pbihsZWZ0Lmxlbmd0aCwgcmlnaHQubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXBhcmF0b3IobGVmdFtpXSwgcmlnaHRbaV0pO1xuICAgICAgICAgIGlmIChyZXN1bHQgIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBjb21wYXJhdG9yKGxlZnQubGVuZ3RoLCByaWdodC5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgY2FzZSAndGFnZ2VkJzoge1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBsYWJlbENvbXAgPSBjb21wYXJhdG9yKGdldFRhZyhsZWZ0KSwgZ2V0VGFnKHJpZ2h0KSk7XG4gICAgICAgIGlmIChsYWJlbENvbXAgIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbGFiZWxDb21wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wYXJhdG9yKGxlZnQucGF5bG9hZCwgcmlnaHQucGF5bG9hZCk7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRocm93IEZhaWxgVW5yZWNvZ25pemVkIHBhc3NTdHlsZTogJHtxKGxlZnRTdHlsZSl9YDtcbiAgICAgIH1cbiAgICB9XG4gICAgLyogICAgICAgICAgICAgICAqL1xuICB9O1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG91dGVyQ29tcGFyYXRvciA9ICh4LCB5KSA9PlxuICAgIC8vXG4gICAgLy9cbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChjb21wYXJhdG9yKHgsIHkpIHx8IDApO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGFudGlDb21wYXJhdG9yID0gKHgsIHkpID0+IG91dGVyQ29tcGFyYXRvcih5LCB4KTtcblxuICBtZW1vT2ZTb3J0ZWQuc2V0KG91dGVyQ29tcGFyYXRvciwgbmV3IFdlYWtTZXQoKSk7XG4gIG1lbW9PZlNvcnRlZC5zZXQoYW50aUNvbXBhcmF0b3IsIG5ldyBXZWFrU2V0KCkpO1xuICBjb21wYXJhdG9yTWlycm9ySW1hZ2VzLnNldChvdXRlckNvbXBhcmF0b3IsIGFudGlDb21wYXJhdG9yKTtcbiAgY29tcGFyYXRvck1pcnJvckltYWdlcy5zZXQoYW50aUNvbXBhcmF0b3IsIG91dGVyQ29tcGFyYXRvcik7XG5cbiAgcmV0dXJuIGhhcmRlbih7IGNvbXBhcmF0b3I6IG91dGVyQ29tcGFyYXRvciwgYW50aUNvbXBhcmF0b3IgfSk7XG59O1xuLypcblxuXG4gKi8kaM2PX29uY2UubWFrZUNvbXBhcmF0b3JLaXQobWFrZUNvbXBhcmF0b3JLaXQpO1xuICAgICAgIGNvbnN0IGNvbXBhcmF0b3JNaXJyb3JJbWFnZSA9IGNvbXBhcmF0b3IgPT5cbiAgY29tcGFyYXRvck1pcnJvckltYWdlcy5nZXQoY29tcGFyYXRvcik7XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UuY29tcGFyYXRvck1pcnJvckltYWdlKGNvbXBhcmF0b3JNaXJyb3JJbWFnZSk7XG4gICAgICAgY29uc3QgaXNSYW5rU29ydGVkID0gKHBhc3NhYmxlcywgY29tcGFyZSkgPT4ge1xuICBjb25zdCBzdWJNZW1vT2ZTb3J0ZWQgPSBtZW1vT2ZTb3J0ZWQuZ2V0KGNvbXBhcmUpO1xuICBhc3NlcnQoc3ViTWVtb09mU29ydGVkICE9PSB1bmRlZmluZWQpO1xuICBpZiAoc3ViTWVtb09mU29ydGVkLmhhcyhwYXNzYWJsZXMpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgYXNzZXJ0KHBhc3NTdHlsZU9mKHBhc3NhYmxlcykgPT09ICdjb3B5QXJyYXknKTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBwYXNzYWJsZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoY29tcGFyZShwYXNzYWJsZXNbaSAtIDFdLCBwYXNzYWJsZXNbaV0pID49IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgc3ViTWVtb09mU29ydGVkLmFkZChwYXNzYWJsZXMpO1xuICByZXR1cm4gdHJ1ZTtcbn07JGjNj19vbmNlLmlzUmFua1NvcnRlZChpc1JhbmtTb3J0ZWQpO1xuaGFyZGVuKGlzUmFua1NvcnRlZCk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgYXNzZXJ0UmFua1NvcnRlZCA9IChzb3J0ZWQsIGNvbXBhcmUpID0+XG4gIGlzUmFua1NvcnRlZChzb3J0ZWQsIGNvbXBhcmUpIHx8XG4gIC8vXG4gIC8vXG4gIEZhaWxgTXVzdCBiZSByYW5rIHNvcnRlZDogJHtzb3J0ZWR9IHZzICR7c29ydEJ5UmFuayhzb3J0ZWQsIGNvbXBhcmUpfWA7JGjNj19vbmNlLmFzc2VydFJhbmtTb3J0ZWQoYXNzZXJ0UmFua1NvcnRlZCk7XG5oYXJkZW4oYXNzZXJ0UmFua1NvcnRlZCk7XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHNvcnRCeVJhbmsgPSAocGFzc2FibGVzLCBjb21wYXJlKSA9PiB7XG4gIGlmIChBcnJheS5pc0FycmF5KHBhc3NhYmxlcykpIHtcbiAgICBoYXJkZW4ocGFzc2FibGVzKTtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICBpZiAoaXNSYW5rU29ydGVkKHBhc3NhYmxlcywgY29tcGFyZSkpIHtcbiAgICAgIHJldHVybiBwYXNzYWJsZXM7XG4gICAgfVxuICB9XG4gIGNvbnN0IHVuc29ydGVkID0gWy4uLnBhc3NhYmxlc107XG4gIHVuc29ydGVkLmZvckVhY2goaGFyZGVuKTtcbiAgY29uc3Qgc29ydGVkID0gdW5zb3J0ZWQuc29ydChjb21wYXJlKTtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgaWYgKGNvbXBhcmUodHJ1ZSwgdW5kZWZpbmVkKSA+IDApIHtcbiAgICBsZXQgaSA9IHNvcnRlZC5sZW5ndGggLSAxO1xuICAgIHdoaWxlIChpID49IDAgJiYgc29ydGVkW2ldID09PSB1bmRlZmluZWQpIGkgLT0gMTtcbiAgICBjb25zdCBuID0gc29ydGVkLmxlbmd0aCAtIGkgLSAxO1xuICAgIGlmIChuID4gMCAmJiBuIDwgc29ydGVkLmxlbmd0aCkge1xuICAgICAgc29ydGVkLmNvcHlXaXRoaW4obiwgMCk7XG4gICAgICBzb3J0ZWQuZmlsbCgvKiAgICAgICAgICAgICovICh1bmRlZmluZWQpLCAwLCBuKTtcbiAgICB9XG4gIH1cbiAgaGFyZGVuKHNvcnRlZCk7XG4gIGNvbnN0IHN1Yk1lbW9PZlNvcnRlZCA9IG1lbW9PZlNvcnRlZC5nZXQoY29tcGFyZSk7XG4gIGFzc2VydChzdWJNZW1vT2ZTb3J0ZWQgIT09IHVuZGVmaW5lZCk7XG4gIHN1Yk1lbW9PZlNvcnRlZC5hZGQoc29ydGVkKTtcbiAgcmV0dXJuIHNvcnRlZDtcbn07JGjNj19vbmNlLnNvcnRCeVJhbmsoc29ydEJ5UmFuayk7XG5oYXJkZW4oc29ydEJ5UmFuayk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCByYW5rU2VhcmNoID0gKHNvcnRlZCwgY29tcGFyZSwga2V5LCBiaWFzID0gJ2xlZnRNb3N0JykgPT4ge1xuICBhc3NlcnRSYW5rU29ydGVkKHNvcnRlZCwgY29tcGFyZSk7XG4gIGxldCBsZWZ0ID0gMDtcbiAgbGV0IHJpZ2h0ID0gc29ydGVkLmxlbmd0aDtcbiAgd2hpbGUgKGxlZnQgPCByaWdodCkge1xuICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKChsZWZ0ICsgcmlnaHQpIC8gMik7XG4gICAgY29uc3QgY29tcCA9IGNvbXBhcmUoc29ydGVkW21dLCBrZXkpO1xuICAgIGlmIChjb21wIDw9IC0xIHx8IChjb21wID09PSAwICYmIGJpYXMgPT09ICdyaWdodE1vc3QnKSkge1xuICAgICAgbGVmdCA9IG0gKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoY29tcCA+PSAxIHx8IChjb21wID09PSAwICYmIGJpYXMgPT09ICdsZWZ0TW9zdCcpKTtcbiAgICAgIHJpZ2h0ID0gbTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJpYXMgPT09ICdsZWZ0TW9zdCcgPyBsZWZ0IDogcmlnaHQgLSAxO1xufTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0SW5kZXhDb3ZlciA9IChzb3J0ZWQsIGNvbXBhcmUsIFtsZWZ0S2V5LCByaWdodEtleV0pID0+IHtcbiAgYXNzZXJ0UmFua1NvcnRlZChzb3J0ZWQsIGNvbXBhcmUpO1xuICBjb25zdCBsZWZ0SW5kZXggPSByYW5rU2VhcmNoKHNvcnRlZCwgY29tcGFyZSwgbGVmdEtleSwgJ2xlZnRNb3N0Jyk7XG4gIGNvbnN0IHJpZ2h0SW5kZXggPSByYW5rU2VhcmNoKHNvcnRlZCwgY29tcGFyZSwgcmlnaHRLZXksICdyaWdodE1vc3QnKTtcbiAgcmV0dXJuIFtsZWZ0SW5kZXgsIHJpZ2h0SW5kZXhdO1xufTskaM2PX29uY2UuZ2V0SW5kZXhDb3ZlcihnZXRJbmRleENvdmVyKTtcbmhhcmRlbihnZXRJbmRleENvdmVyKTtcblxuLyogICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgRnVsbFJhbmtDb3ZlciA9IGhhcmRlbihbJycsICd7J10pO1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLkZ1bGxSYW5rQ292ZXIoRnVsbFJhbmtDb3Zlcik7XG4gICAgICAgY29uc3QgY292ZXJlZEVudHJpZXMgPSAoc29ydGVkLCBbbGVmdEluZGV4LCByaWdodEluZGV4XSkgPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGl0ZXJhYmxlID0gaGFyZGVuKHtcbiAgICBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4ge1xuICAgICAgbGV0IGkgPSBsZWZ0SW5kZXg7XG4gICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGlmIChpIDw9IHJpZ2h0SW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBzb3J0ZWRbaV07XG4gICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgdmFsdWU6IFtpLCBlbGVtZW50XSwgZG9uZTogZmFsc2UgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoYXJkZW4oeyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gaXRlcmFibGU7XG59OyRozY9fb25jZS5jb3ZlcmVkRW50cmllcyhjb3ZlcmVkRW50cmllcyk7XG5oYXJkZW4oY292ZXJlZEVudHJpZXMpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuY29uc3QgbWF4UmFuayA9IChjb21wYXJlLCBhLCBiKSA9PiAoY29tcGFyZShhLCBiKSA+PSAwID8gYSA6IGIpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuY29uc3QgbWluUmFuayA9IChjb21wYXJlLCBhLCBiKSA9PiAoY29tcGFyZShhLCBiKSA8PSAwID8gYSA6IGIpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgdW5pb25SYW5rQ292ZXJzID0gKGNvbXBhcmUsIGNvdmVycykgPT4ge1xuICAvKlxuXG5cblxuICAgKi9cbiAgY29uc3QgdW5pb25SYW5rQ292ZXJQYWlyID0gKFtsZWZ0QSwgcmlnaHRBXSwgW2xlZnRCLCByaWdodEJdKSA9PiBbXG4gICAgbWluUmFuayhjb21wYXJlLCBsZWZ0QSwgbGVmdEIpLFxuICAgIG1heFJhbmsoY29tcGFyZSwgcmlnaHRBLCByaWdodEIpLFxuICBdO1xuICByZXR1cm4gY292ZXJzLnJlZHVjZSh1bmlvblJhbmtDb3ZlclBhaXIsIFsneycsICcnXSk7XG59OyRozY9fb25jZS51bmlvblJhbmtDb3ZlcnModW5pb25SYW5rQ292ZXJzKTtcbmhhcmRlbih1bmlvblJhbmtDb3ZlcnMpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgaW50ZXJzZWN0UmFua0NvdmVycyA9IChjb21wYXJlLCBjb3ZlcnMpID0+IHtcbiAgLypcblxuXG5cbiAgICovXG4gIGNvbnN0IGludGVyc2VjdFJhbmtDb3ZlclBhaXIgPSAoW2xlZnRBLCByaWdodEFdLCBbbGVmdEIsIHJpZ2h0Ql0pID0+IFtcbiAgICBtYXhSYW5rKGNvbXBhcmUsIGxlZnRBLCBsZWZ0QiksXG4gICAgbWluUmFuayhjb21wYXJlLCByaWdodEEsIHJpZ2h0QiksXG4gIF07XG4gIHJldHVybiBjb3ZlcnMucmVkdWNlKGludGVyc2VjdFJhbmtDb3ZlclBhaXIsIFsnJywgJ3snXSk7XG59OyRozY9fb25jZS5pbnRlcnNlY3RSYW5rQ292ZXJzKGludGVyc2VjdFJhbmtDb3ZlcnMpO1xuXG4gICAgICAgY29uc3QgeyBjb21wYXJhdG9yOiBjb21wYXJlUmFuaywgYW50aUNvbXBhcmF0b3I6IGNvbXBhcmVBbnRpUmFuayB9ID1cbiAgbWFrZUNvbXBhcmF0b3JLaXQoKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5jb21wYXJlUmFuayhjb21wYXJlUmFuayk7JGjNj19vbmNlLmNvbXBhcmVBbnRpUmFuayhjb21wYXJlQW50aVJhbmspO1xuICAgICAgIGNvbnN0IG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0ID0gKGxvbmdMaXZlZCA9IGZhbHNlKSA9PiB7XG4gIGxldCBudW1TZWVuID0gMDtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgTWFwQ29uc3RydWN0b3IgPSBsb25nTGl2ZWQgPyBXZWFrTWFwIDogTWFwO1xuICBjb25zdCBzZWVuID0gbmV3IE1hcENvbnN0cnVjdG9yKCk7XG4gIGNvbnN0IHRhZyA9IHIgPT4ge1xuICAgIGlmIChzZWVuLmhhcyhyKSkge1xuICAgICAgcmV0dXJuIHNlZW4uZ2V0KHIpO1xuICAgIH1cbiAgICBudW1TZWVuICs9IDE7XG4gICAgc2Vlbi5zZXQociwgbnVtU2Vlbik7XG4gICAgcmV0dXJuIG51bVNlZW47XG4gIH07XG4gIGNvbnN0IGNvbXBhcmVSZW1vdGFibGVzID0gKHgsIHkpID0+IGNvbXBhcmVSYW5rKHRhZyh4KSwgdGFnKHkpKTtcbiAgcmV0dXJuIG1ha2VDb21wYXJhdG9yS2l0KGNvbXBhcmVSZW1vdGFibGVzKTtcbn07JGjNj19vbmNlLm1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0KG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0KTtcbmhhcmRlbihtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJ0cml2aWFsQ29tcGFyYXRvciI6WyJ0cml2aWFsQ29tcGFyYXRvciJdLCJnZXRQYXNzU3R5bGVDb3ZlciI6WyJnZXRQYXNzU3R5bGVDb3ZlciJdLCJtYWtlQ29tcGFyYXRvcktpdCI6WyJtYWtlQ29tcGFyYXRvcktpdCJdLCJjb21wYXJhdG9yTWlycm9ySW1hZ2UiOlsiY29tcGFyYXRvck1pcnJvckltYWdlIl0sImlzUmFua1NvcnRlZCI6WyJpc1JhbmtTb3J0ZWQiXSwiYXNzZXJ0UmFua1NvcnRlZCI6WyJhc3NlcnRSYW5rU29ydGVkIl0sInNvcnRCeVJhbmsiOlsic29ydEJ5UmFuayJdLCJnZXRJbmRleENvdmVyIjpbImdldEluZGV4Q292ZXIiXSwiRnVsbFJhbmtDb3ZlciI6WyJGdWxsUmFua0NvdmVyIl0sImNvdmVyZWRFbnRyaWVzIjpbImNvdmVyZWRFbnRyaWVzIl0sInVuaW9uUmFua0NvdmVycyI6WyJ1bmlvblJhbmtDb3ZlcnMiXSwiaW50ZXJzZWN0UmFua0NvdmVycyI6WyJpbnRlcnNlY3RSYW5rQ292ZXJzIl0sImNvbXBhcmVSYW5rIjpbImNvbXBhcmVSYW5rIl0sImNvbXBhcmVBbnRpUmFuayI6WyJjb21wYXJlQW50aVJhbmsiXSwibWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXQiOlsibWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAARcz/8VgBAABYAQAAIQAAAEBlbmRvL21hcnNoYWwtdjEuNi40L3NyYy90eXBlcy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABenLPKzAUAAMwFAAAdAAAAQGVuZG8vbmF0LXY1LjEuMC9zcmMvaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIk5hdCIsImlzTmF0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpc05hdCwnbmFtZScse3ZhbHVlOlwiaXNOYXRcIn0pOyRozY9fb25jZS5pc05hdChpc05hdCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KE5hdCwnbmFtZScse3ZhbHVlOlwiTmF0XCJ9KTskaM2PX29uY2UuTmF0KE5hdCk7Ly9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbi8vXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmZ1bmN0aW9uIGlzTmF0KGFsbGVnZWROdW0pIHtcbiAgaWYgKHR5cGVvZiBhbGxlZ2VkTnVtID09PSAnYmlnaW50Jykge1xuICAgIHJldHVybiBhbGxlZ2VkTnVtID49IDA7XG4gIH1cbiAgaWYgKHR5cGVvZiBhbGxlZ2VkTnVtICE9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBOdW1iZXIuaXNTYWZlSW50ZWdlcihhbGxlZ2VkTnVtKSAmJiBhbGxlZ2VkTnVtID49IDA7XG59XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5mdW5jdGlvbiBOYXQoYWxsZWdlZE51bSkge1xuICBpZiAodHlwZW9mIGFsbGVnZWROdW0gPT09ICdiaWdpbnQnKSB7XG4gICAgaWYgKGFsbGVnZWROdW0gPCAwbikge1xuICAgICAgdGhyb3cgUmFuZ2VFcnJvcihgJHthbGxlZ2VkTnVtfSBpcyBuZWdhdGl2ZWApO1xuICAgIH1cbiAgICByZXR1cm4gYWxsZWdlZE51bTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWxsZWdlZE51bSA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGFsbGVnZWROdW0pKSB7XG4gICAgICB0aHJvdyBSYW5nZUVycm9yKGAke2FsbGVnZWROdW19IGlzIG5vdCBhIHNhZmUgaW50ZWdlcmApO1xuICAgIH1cbiAgICBpZiAoYWxsZWdlZE51bSA8IDApIHtcbiAgICAgIHRocm93IFJhbmdlRXJyb3IoYCR7YWxsZWdlZE51bX0gaXMgbmVnYXRpdmVgKTtcbiAgICB9XG4gICAgcmV0dXJuIEJpZ0ludChhbGxlZ2VkTnVtKTtcbiAgfVxuXG4gIHRocm93IFR5cGVFcnJvcihcbiAgICBgJHthbGxlZ2VkTnVtfSBpcyBhICR7dHlwZW9mIGFsbGVnZWROdW19IGJ1dCBtdXN0IGJlIGEgYmlnaW50IG9yIGEgbnVtYmVyYCxcbiAgKTtcbn1cbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImlzTmF0IjpbImlzTmF0Il0sIk5hdCI6WyJOYXQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAAvR2ak0KAABNCgAAIAAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL2luZGV4LmpzeyJpbXBvcnRzIjpbIi4vc3JjL2l0ZXItaGVscGVycy5qcyIsIi4vc3JjL3Bhc3NTdHlsZS1oZWxwZXJzLmpzIiwiLi9zcmMvZXJyb3IuanMiLCIuL3NyYy9yZW1vdGFibGUuanMiLCIuL3NyYy9zeW1ib2wuanMiLCIuL3NyYy9zdHJpbmcuanMiLCIuL3NyYy9wYXNzU3R5bGVPZi5qcyIsIi4vc3JjL21ha2VUYWdnZWQuanMiLCIuL3NyYy9tYWtlLWZhci5qcyIsIi4vc3JjL3R5cGVHdWFyZHMuanMiLCIuL3NyYy9kZWVwbHlGdWxmaWxsZWQuanMiLCIuL3NyYy90eXBlcy5qcyJdLCJleHBvcnRzIjpbIkZhciIsIkZhciIsImFzc2VydENvcHlBcnJheSIsImFzc2VydENvcHlBcnJheSIsImFzc2VydFdlbGxGb3JtZWRTdHJpbmciLCJhc3NlcnRXZWxsRm9ybWVkU3RyaW5nIiwiZmlsdGVySXRlcmFibGUiLCJmaWx0ZXJJdGVyYWJsZSIsImlzRXJyb3JMaWtlIiwiaXNFcnJvckxpa2UiLCJpc09iamVjdCIsImlzT2JqZWN0IiwiaXNQYXNzYWJsZSIsImlzUGFzc2FibGUiLCJpc1Bhc3NhYmxlU3ltYm9sIiwiaXNQYXNzYWJsZVN5bWJvbCIsbnVsbCxudWxsXSwicmVleHBvcnRzIjpbIi4vc3JjL2RlZXBseUZ1bGZpbGxlZC5qcyIsIi4vc3JjL3R5cGVzLmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vc3JjL2l0ZXItaGVscGVycy5qc1wiLCBbXV0sW1wiLi9zcmMvcGFzc1N0eWxlLWhlbHBlcnMuanNcIiwgW11dLFtcIi4vc3JjL2Vycm9yLmpzXCIsIFtdXSxbXCIuL3NyYy9yZW1vdGFibGUuanNcIiwgW11dLFtcIi4vc3JjL3N5bWJvbC5qc1wiLCBbXV0sW1wiLi9zcmMvc3RyaW5nLmpzXCIsIFtdXSxbXCIuL3NyYy9wYXNzU3R5bGVPZi5qc1wiLCBbXV0sW1wiLi9zcmMvbWFrZVRhZ2dlZC5qc1wiLCBbXV0sW1wiLi9zcmMvbWFrZS1mYXIuanNcIiwgW11dLFtcIi4vc3JjL3R5cGVHdWFyZHMuanNcIiwgW11dLFtcIi4vc3JjL2RlZXBseUZ1bGZpbGxlZC5qc1wiLCBbXV0sW1wiLi9zcmMvdHlwZXMuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL3NyYy9pdGVyLWhlbHBlcnMuanMiOltbIm1hcEl0ZXJhYmxlIiwibWFwSXRlcmFibGUiXSxbImZpbHRlckl0ZXJhYmxlIiwiZmlsdGVySXRlcmFibGUiXV0sIi4vc3JjL3Bhc3NTdHlsZS1oZWxwZXJzLmpzIjpbWyJQQVNTX1NUWUxFIiwiUEFTU19TVFlMRSJdLFsiaXNPYmplY3QiLCJpc09iamVjdCJdLFsiYXNzZXJ0Q2hlY2tlciIsImFzc2VydENoZWNrZXIiXSxbImdldFRhZyIsImdldFRhZyJdLFsiaGFzT3duUHJvcGVydHlPZiIsImhhc093blByb3BlcnR5T2YiXV0sIi4vc3JjL2Vycm9yLmpzIjpbWyJnZXRFcnJvckNvbnN0cnVjdG9yIiwiZ2V0RXJyb3JDb25zdHJ1Y3RvciJdLFsiaXNFcnJvckxpa2UiLCJpc0Vycm9yTGlrZSJdXSwiLi9zcmMvcmVtb3RhYmxlLmpzIjpbWyJnZXRJbnRlcmZhY2VPZiIsImdldEludGVyZmFjZU9mIl1dLCIuL3NyYy9zeW1ib2wuanMiOltbImFzc2VydFBhc3NhYmxlU3ltYm9sIiwiYXNzZXJ0UGFzc2FibGVTeW1ib2wiXSxbImlzUGFzc2FibGVTeW1ib2wiLCJpc1Bhc3NhYmxlU3ltYm9sIl0sWyJuYW1lRm9yUGFzc2FibGVTeW1ib2wiLCJuYW1lRm9yUGFzc2FibGVTeW1ib2wiXSxbInBhc3NhYmxlU3ltYm9sRm9yTmFtZSIsInBhc3NhYmxlU3ltYm9sRm9yTmFtZSJdXSwiLi9zcmMvc3RyaW5nLmpzIjpbWyJpc1dlbGxGb3JtZWRTdHJpbmciLCJpc1dlbGxGb3JtZWRTdHJpbmciXSxbImFzc2VydFdlbGxGb3JtZWRTdHJpbmciLCJhc3NlcnRXZWxsRm9ybWVkU3RyaW5nIl0sWyJhc3NlcnRQYXNzYWJsZVN0cmluZyIsImFzc2VydFBhc3NhYmxlU3RyaW5nIl1dLCIuL3NyYy9wYXNzU3R5bGVPZi5qcyI6W1sicGFzc1N0eWxlT2YiLCJwYXNzU3R5bGVPZiJdLFsiaXNQYXNzYWJsZSIsImlzUGFzc2FibGUiXSxbImFzc2VydFBhc3NhYmxlIiwiYXNzZXJ0UGFzc2FibGUiXSxbInRvUGFzc2FibGVFcnJvciIsInRvUGFzc2FibGVFcnJvciJdLFsidG9UaHJvd2FibGUiLCJ0b1Rocm93YWJsZSJdXSwiLi9zcmMvbWFrZVRhZ2dlZC5qcyI6W1sibWFrZVRhZ2dlZCIsIm1ha2VUYWdnZWQiXV0sIi4vc3JjL21ha2UtZmFyLmpzIjpbWyJSZW1vdGFibGUiLCJSZW1vdGFibGUiXSxbIkZhciIsIkZhciJdLFsiVG9GYXJGdW5jdGlvbiIsIlRvRmFyRnVuY3Rpb24iXSxbIkdFVF9NRVRIT0RfTkFNRVMiLCJHRVRfTUVUSE9EX05BTUVTIl1dLCIuL3NyYy90eXBlR3VhcmRzLmpzIjpbWyJhc3NlcnRSZWNvcmQiLCJhc3NlcnRSZWNvcmQiXSxbImFzc2VydENvcHlBcnJheSIsImFzc2VydENvcHlBcnJheSJdLFsiYXNzZXJ0UmVtb3RhYmxlIiwiYXNzZXJ0UmVtb3RhYmxlIl0sWyJpc1JlbW90YWJsZSIsImlzUmVtb3RhYmxlIl0sWyJpc1JlY29yZCIsImlzUmVjb3JkIl0sWyJpc0NvcHlBcnJheSIsImlzQ29weUFycmF5Il1dfSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADD7/ZFvAYAALwGAAAoAAAAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL2NvcHlBcnJheS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzIl0sImV4cG9ydHMiOlsiQ29weUFycmF5SGVscGVyIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgWCxhc3NlcnRDaGVja2VyLGdldE93bkRhdGFEZXNjcmlwdG9yOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJYXCIsWyRozY9fYSA9PiAoWCA9ICRozY9fYSldXV1dLFtcIi4vcGFzc1N0eWxlLWhlbHBlcnMuanNcIiwgW1tcImFzc2VydENoZWNrZXJcIixbJGjNj19hID0+IChhc3NlcnRDaGVja2VyID0gJGjNj19hKV1dLFtcImdldE93bkRhdGFEZXNjcmlwdG9yXCIsWyRozY9fYSA9PiAoZ2V0T3duRGF0YURlc2NyaXB0b3IgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5jb25zdCB7IGdldFByb3RvdHlwZU9mIH0gPSBPYmplY3Q7XG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5jb25zdCB7IGlzQXJyYXksIHByb3RvdHlwZTogYXJyYXlQcm90b3R5cGUgfSA9IEFycmF5O1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IENvcHlBcnJheUhlbHBlciA9IGhhcmRlbih7XG4gIHN0eWxlTmFtZTogJ2NvcHlBcnJheScsXG5cbiAgY2FuQmVWYWxpZDogKGNhbmRpZGF0ZSwgY2hlY2sgPSB1bmRlZmluZWQpID0+XG4gICAgaXNBcnJheShjYW5kaWRhdGUpIHx8XG4gICAgKCEhY2hlY2sgJiYgY2hlY2soZmFsc2UsIFhgQXJyYXkgZXhwZWN0ZWQ6ICR7Y2FuZGlkYXRlfWApKSxcblxuICBhc3NlcnRSZXN0VmFsaWQ6IChjYW5kaWRhdGUsIHBhc3NTdHlsZU9mUmVjdXIpID0+IHtcbiAgICBnZXRQcm90b3R5cGVPZihjYW5kaWRhdGUpID09PSBhcnJheVByb3RvdHlwZSB8fFxuICAgICAgYXNzZXJ0LmZhaWwoWGBNYWxmb3JtZWQgYXJyYXk6ICR7Y2FuZGlkYXRlfWAsIFR5cGVFcnJvcik7XG4gICAgLy9cbiAgICAvL1xuICAgIGNvbnN0IGxlbiA9IC8qICAgICAgICAgICAgICAgICAqLyAoXG4gICAgICBnZXRPd25EYXRhRGVzY3JpcHRvcihjYW5kaWRhdGUsICdsZW5ndGgnLCBmYWxzZSwgYXNzZXJ0Q2hlY2tlcikudmFsdWVcbiAgICApO1xuICAgIC8vXG4gICAgLy9cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICBwYXNzU3R5bGVPZlJlY3VyKFxuICAgICAgICBnZXRPd25EYXRhRGVzY3JpcHRvcihjYW5kaWRhdGUsIGksIHRydWUsIGFzc2VydENoZWNrZXIpLnZhbHVlLFxuICAgICAgKTtcbiAgICB9XG4gICAgLy9cbiAgICBvd25LZXlzKGNhbmRpZGF0ZSkubGVuZ3RoID09PSBsZW4gKyAxIHx8XG4gICAgICBhc3NlcnQuZmFpbChYYEFycmF5cyBtdXN0IG5vdCBoYXZlIG5vbi1pbmRleGVzOiAke2NhbmRpZGF0ZX1gLCBUeXBlRXJyb3IpO1xuICB9LFxufSk7JGjNj19vbmNlLkNvcHlBcnJheUhlbHBlcihDb3B5QXJyYXlIZWxwZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiQ29weUFycmF5SGVscGVyIjpbIkNvcHlBcnJheUhlbHBlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAQgUTA9ggAAPYIAAApAAAAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL2NvcHlSZWNvcmQuanN7ImltcG9ydHMiOlsiLi9wYXNzU3R5bGUtaGVscGVycy5qcyJdLCJleHBvcnRzIjpbIkNvcHlSZWNvcmRIZWxwZXIiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnRDaGVja2VyLGNhbkJlTWV0aG9kLGdldE93bkRhdGFEZXNjcmlwdG9yLENYOyRozY9faW1wb3J0cyhbW1wiLi9wYXNzU3R5bGUtaGVscGVycy5qc1wiLCBbW1wiYXNzZXJ0Q2hlY2tlclwiLFskaM2PX2EgPT4gKGFzc2VydENoZWNrZXIgPSAkaM2PX2EpXV0sW1wiY2FuQmVNZXRob2RcIixbJGjNj19hID0+IChjYW5CZU1ldGhvZCA9ICRozY9fYSldXSxbXCJnZXRPd25EYXRhRGVzY3JpcHRvclwiLFskaM2PX2EgPT4gKGdldE93bkRhdGFEZXNjcmlwdG9yID0gJGjNj19hKV1dLFtcIkNYXCIsWyRozY9fYSA9PiAoQ1ggPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5jb25zdCB7IGdldFByb3RvdHlwZU9mLCBwcm90b3R5cGU6IG9iamVjdFByb3RvdHlwZSB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgY2hlY2tPYmplY3RQcm90b3R5cGUgPSAoY2FuZGlkYXRlLCBjaGVjayA9IHVuZGVmaW5lZCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGdldFByb3RvdHlwZU9mKGNhbmRpZGF0ZSkgPT09IG9iamVjdFByb3RvdHlwZSB8fFxuICAgICghIWNoZWNrICYmXG4gICAgICBDWChjaGVjaylgUmVjb3JkcyBtdXN0IGluaGVyaXQgZnJvbSBPYmplY3QucHJvdG90eXBlOiAke2NhbmRpZGF0ZX1gKVxuICApO1xufTtcblxuLypcblxuXG5cblxuICovXG5jb25zdCBjaGVja1Byb3BlcnR5Q2FuQmVWYWxpZCA9IChjYW5kaWRhdGUsIGtleSwgdmFsdWUsIGNoZWNrID0gdW5kZWZpbmVkKSA9PiB7XG4gIHJldHVybiAoXG4gICAgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnIHx8XG4gICAgICAoISFjaGVjayAmJlxuICAgICAgICBDWChcbiAgICAgICAgICBjaGVjayxcbiAgICAgICAgKWBSZWNvcmRzIGNhbiBvbmx5IGhhdmUgc3RyaW5nLW5hbWVkIHByb3BlcnRpZXM6ICR7Y2FuZGlkYXRlfWApKSAmJlxuICAgICghY2FuQmVNZXRob2QodmFsdWUpIHx8XG4gICAgICAoISFjaGVjayAmJlxuICAgICAgICAvL1xuICAgICAgICBDWChcbiAgICAgICAgICBjaGVjayxcbiAgICAgICAgKWBSZWNvcmRzIGNhbm5vdCBjb250YWluIG5vbi1mYXIgZnVuY3Rpb25zIGJlY2F1c2UgdGhleSBtYXkgYmUgbWV0aG9kcyBvZiBhbiBpbXBsaWNpdCBSZW1vdGFibGU6ICR7Y2FuZGlkYXRlfWApKVxuICApO1xufTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBDb3B5UmVjb3JkSGVscGVyID0gaGFyZGVuKHtcbiAgc3R5bGVOYW1lOiAnY29weVJlY29yZCcsXG5cbiAgY2FuQmVWYWxpZDogKGNhbmRpZGF0ZSwgY2hlY2sgPSB1bmRlZmluZWQpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgY2hlY2tPYmplY3RQcm90b3R5cGUoY2FuZGlkYXRlLCBjaGVjaykgJiZcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgb3duS2V5cyhjYW5kaWRhdGUpLmV2ZXJ5KGtleSA9PlxuICAgICAgICBjaGVja1Byb3BlcnR5Q2FuQmVWYWxpZChjYW5kaWRhdGUsIGtleSwgY2FuZGlkYXRlW2tleV0sIGNoZWNrKSxcbiAgICAgIClcbiAgICApO1xuICB9LFxuXG4gIGFzc2VydFJlc3RWYWxpZDogKGNhbmRpZGF0ZSwgcGFzc1N0eWxlT2ZSZWN1cikgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBvd25LZXlzKGNhbmRpZGF0ZSkpIHtcbiAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IGdldE93bkRhdGFEZXNjcmlwdG9yKFxuICAgICAgICBjYW5kaWRhdGUsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHRydWUsXG4gICAgICAgIGFzc2VydENoZWNrZXIsXG4gICAgICApO1xuICAgICAgcGFzc1N0eWxlT2ZSZWN1cih2YWx1ZSk7XG4gICAgfVxuICB9LFxufSk7JGjNj19vbmNlLkNvcHlSZWNvcmRIZWxwZXIoQ29weVJlY29yZEhlbHBlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJDb3B5UmVjb3JkSGVscGVyIjpbIkNvcHlSZWNvcmRIZWxwZXIiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAwjfJp54LAACeCwAALgAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9kZWVwbHlGdWxmaWxsZWQuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIiwiQGVuZG8vZXZlbnR1YWwtc2VuZCIsIkBlbmRvL3Byb21pc2Uta2l0IiwiLi9wYXNzU3R5bGUtaGVscGVycy5qcyIsIi4vcGFzc1N0eWxlT2YuanMiLCIuL21ha2VUYWdnZWQuanMiXSwiZXhwb3J0cyI6WyJkZWVwbHlGdWxmaWxsZWQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBYLHEsRSxpc1Byb21pc2UsZ2V0VGFnLGlzT2JqZWN0LHBhc3NTdHlsZU9mLG1ha2VUYWdnZWQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIlhcIixbJGjNj19hID0+IChYID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXZlbnR1YWwtc2VuZFwiLCBbW1wiRVwiLFskaM2PX2EgPT4gKEUgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9wcm9taXNlLWtpdFwiLCBbW1wiaXNQcm9taXNlXCIsWyRozY9fYSA9PiAoaXNQcm9taXNlID0gJGjNj19hKV1dXV0sW1wiLi9wYXNzU3R5bGUtaGVscGVycy5qc1wiLCBbW1wiZ2V0VGFnXCIsWyRozY9fYSA9PiAoZ2V0VGFnID0gJGjNj19hKV1dLFtcImlzT2JqZWN0XCIsWyRozY9fYSA9PiAoaXNPYmplY3QgPSAkaM2PX2EpXV1dXSxbXCIuL3Bhc3NTdHlsZU9mLmpzXCIsIFtbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dXV0sW1wiLi9tYWtlVGFnZ2VkLmpzXCIsIFtbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG4vKlxuXG4gKi9cblxuY29uc3QgeyBvd25LZXlzIH0gPSBSZWZsZWN0O1xuY29uc3QgeyBmcm9tRW50cmllcyB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBkZWVwbHlGdWxmaWxsZWQgPSBhc3luYyB2YWwgPT4ge1xuICAvL1xuICAvL1xuICAvL1xuXG4gIGlmICghaXNPYmplY3QodmFsKSkge1xuICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovICh2YWwpO1xuICB9XG4gIGlmIChpc1Byb21pc2UodmFsKSkge1xuICAgIHJldHVybiBFLndoZW4odmFsLCBub25wID0+IGRlZXBseUZ1bGZpbGxlZChub25wKSk7XG4gIH1cbiAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2YodmFsKTtcbiAgc3dpdGNoIChwYXNzU3R5bGUpIHtcbiAgICBjYXNlICdjb3B5UmVjb3JkJzoge1xuICAgICAgY29uc3QgcmVjID0gLyogICAgICAgICAgICAgICAgICAgICAqLyAodmFsKTtcbiAgICAgIGNvbnN0IG5hbWVzID0gLyogICAgICAgICAgICAgICAgICAgKi8gKG93bktleXMocmVjKSk7XG4gICAgICBjb25zdCB2YWxQcyA9IG5hbWVzLm1hcChuYW1lID0+IGRlZXBseUZ1bGZpbGxlZChyZWNbbmFtZV0pKTtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gRS53aGVuKFByb21pc2UuYWxsKHZhbFBzKSwgdmFscyA9PlxuICAgICAgICBoYXJkZW4oZnJvbUVudHJpZXModmFscy5tYXAoKGMsIGkpID0+IFtuYW1lc1tpXSwgY10pKSksXG4gICAgICApO1xuICAgIH1cbiAgICBjYXNlICdjb3B5QXJyYXknOiB7XG4gICAgICBjb25zdCBhcnIgPSAvKiAgICAgICAgICAgICAgICAgICAgKi8gKHZhbCk7XG4gICAgICBjb25zdCB2YWxQcyA9IGFyci5tYXAocCA9PiBkZWVwbHlGdWxmaWxsZWQocCkpO1xuICAgICAgLy9cbiAgICAgIHJldHVybiBFLndoZW4oUHJvbWlzZS5hbGwodmFsUHMpLCB2YWxzID0+IGhhcmRlbih2YWxzKSk7XG4gICAgfVxuICAgIGNhc2UgJ3RhZ2dlZCc6IHtcbiAgICAgIGNvbnN0IHRnZCA9IC8qICAgICAgICAgICAgICAgICAgICAgKi8gKHZhbCk7XG4gICAgICBjb25zdCB0YWcgPSBnZXRUYWcodGdkKTtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gRS53aGVuKGRlZXBseUZ1bGZpbGxlZCh0Z2QucGF5bG9hZCksIHBheWxvYWQgPT5cbiAgICAgICAgbWFrZVRhZ2dlZCh0YWcsIHBheWxvYWQpLFxuICAgICAgKTtcbiAgICB9XG4gICAgY2FzZSAncmVtb3RhYmxlJzoge1xuICAgICAgY29uc3QgcmVtID0gLyogICAgICAgICAgICAgICAgICAgICAgICAgICovICh2YWwpO1xuICAgICAgLy9cbiAgICAgIHJldHVybiByZW07XG4gICAgfVxuICAgIGNhc2UgJ2Vycm9yJzoge1xuICAgICAgY29uc3QgZXJyID0gLyogICAgICAgICAgICAgICAgKi8gKHZhbCk7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG4gICAgY2FzZSAncHJvbWlzZSc6IHtcbiAgICAgIGNvbnN0IHByb20gPSAvKiAgICAgICAgICAgICAgICAgICovICgvKiAgICAgICAgICAgICAgICAgICovICh2YWwpKTtcbiAgICAgIHJldHVybiBFLndoZW4ocHJvbSwgbm9ucCA9PiBkZWVwbHlGdWxmaWxsZWQobm9ucCkpO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB0aHJvdyBhc3NlcnQuZmFpbChYYFVuZXhwZWN0ZWQgcGFzc1N0eWxlICR7cShwYXNzU3R5bGUpfWAsIFR5cGVFcnJvcik7XG4gICAgfVxuICB9XG59OyRozY9fb25jZS5kZWVwbHlGdWxmaWxsZWQoZGVlcGx5RnVsZmlsbGVkKTtcbmhhcmRlbihkZWVwbHlGdWxmaWxsZWQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZGVlcGx5RnVsZmlsbGVkIjpbImRlZXBseUZ1bGZpbGxlZCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAXVwIi0xQAANMUAAAkAAAAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL2Vycm9yLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIi4vcGFzc1N0eWxlLWhlbHBlcnMuanMiXSwiZXhwb3J0cyI6WyJFcnJvckhlbHBlciIsImNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yIiwiY2hlY2tSZWN1cnNpdmVseVBhc3NhYmxlRXJyb3JQcm9wZXJ0eURlc2MiLCJnZXRFcnJvckNvbnN0cnVjdG9yIiwiaXNFcnJvckxpa2UiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBxLGFzc2VydENoZWNrZXIsQ1g7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiLi9wYXNzU3R5bGUtaGVscGVycy5qc1wiLCBbW1wiYXNzZXJ0Q2hlY2tlclwiLFskaM2PX2EgPT4gKGFzc2VydENoZWNrZXIgPSAkaM2PX2EpXV0sW1wiQ1hcIixbJGjNj19hID0+IChDWCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuY29uc3QgeyBnZXRQcm90b3R5cGVPZiwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycywgaGFzT3duLCBlbnRyaWVzIH0gPSBPYmplY3Q7XG5cbi8vXG4vL1xuY29uc3QgZXJyb3JDb25zdHJ1Y3RvcnMgPSBuZXcgTWFwKFxuICAvL1xuICAvL1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgKFtcbiAgICBbJ0Vycm9yJywgRXJyb3JdLFxuICAgIFsnRXZhbEVycm9yJywgRXZhbEVycm9yXSxcbiAgICBbJ1JhbmdlRXJyb3InLCBSYW5nZUVycm9yXSxcbiAgICBbJ1JlZmVyZW5jZUVycm9yJywgUmVmZXJlbmNlRXJyb3JdLFxuICAgIFsnU3ludGF4RXJyb3InLCBTeW50YXhFcnJvcl0sXG4gICAgWydUeXBlRXJyb3InLCBUeXBlRXJyb3JdLFxuICAgIFsnVVJJRXJyb3InLCBVUklFcnJvcl1cblxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gIF0pLFxuKTtcblxuaWYgKHR5cGVvZiBBZ2dyZWdhdGVFcnJvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgLy9cbiAgZXJyb3JDb25zdHJ1Y3RvcnMuc2V0KCdBZ2dyZWdhdGVFcnJvcicsIEFnZ3JlZ2F0ZUVycm9yKTtcbn1cblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRFcnJvckNvbnN0cnVjdG9yID0gbmFtZSA9PiBlcnJvckNvbnN0cnVjdG9ycy5nZXQobmFtZSk7JGjNj19vbmNlLmdldEVycm9yQ29uc3RydWN0b3IoZ2V0RXJyb3JDb25zdHJ1Y3Rvcik7XG5oYXJkZW4oZ2V0RXJyb3JDb25zdHJ1Y3Rvcik7XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGNoZWNrRXJyb3JMaWtlID0gKGNhbmRpZGF0ZSwgY2hlY2sgPSB1bmRlZmluZWQpID0+IHtcbiAgLy9cbiAgcmV0dXJuIChcbiAgICBjYW5kaWRhdGUgaW5zdGFuY2VvZiBFcnJvciB8fFxuICAgICghIWNoZWNrICYmIENYKGNoZWNrKWBFcnJvciBleHBlY3RlZDogJHtjYW5kaWRhdGV9YClcbiAgKTtcbn07XG5oYXJkZW4oY2hlY2tFcnJvckxpa2UpO1xuLy9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNFcnJvckxpa2UgPSBjYW5kaWRhdGUgPT4gY2hlY2tFcnJvckxpa2UoY2FuZGlkYXRlKTskaM2PX29uY2UuaXNFcnJvckxpa2UoaXNFcnJvckxpa2UpO1xuaGFyZGVuKGlzRXJyb3JMaWtlKTtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyA9IChcbiAgcHJvcE5hbWUsXG4gIGRlc2MsXG4gIHBhc3NTdHlsZU9mUmVjdXIsXG4gIGNoZWNrID0gdW5kZWZpbmVkLFxuKSA9PiB7XG4gIGlmIChkZXNjLmVudW1lcmFibGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgISFjaGVjayAmJlxuICAgICAgQ1goY2hlY2spYFBhc3NhYmxlIEVycm9yICR7cShcbiAgICAgICAgcHJvcE5hbWUsXG4gICAgICApfSBvd24gcHJvcGVydHkgbXVzdCBub3QgYmUgZW51bWVyYWJsZTogJHtkZXNjfWBcbiAgICApO1xuICB9XG4gIGlmICghaGFzT3duKGRlc2MsICd2YWx1ZScpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICEhY2hlY2sgJiZcbiAgICAgIENYKGNoZWNrKWBQYXNzYWJsZSBFcnJvciAke3EoXG4gICAgICAgIHByb3BOYW1lLFxuICAgICAgKX0gb3duIHByb3BlcnR5IG11c3QgYmUgYSBkYXRhIHByb3BlcnR5OiAke2Rlc2N9YFxuICAgICk7XG4gIH1cbiAgY29uc3QgeyB2YWx1ZSB9ID0gZGVzYztcbiAgc3dpdGNoIChwcm9wTmFtZSkge1xuICAgIGNhc2UgJ21lc3NhZ2UnOlxuICAgIGNhc2UgJ3N0YWNrJzoge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAoISFjaGVjayAmJlxuICAgICAgICAgIENYKGNoZWNrKWBQYXNzYWJsZSBFcnJvciAke3EoXG4gICAgICAgICAgICBwcm9wTmFtZSxcbiAgICAgICAgICApfSBvd24gcHJvcGVydHkgbXVzdCBiZSBhIHN0cmluZzogJHt2YWx1ZX1gKVxuICAgICAgKTtcbiAgICB9XG4gICAgY2FzZSAnY2F1c2UnOiB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yKHZhbHVlLCBwYXNzU3R5bGVPZlJlY3VyLCBjaGVjayk7XG4gICAgfVxuICAgIGNhc2UgJ2Vycm9ycyc6IHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgcGFzc1N0eWxlT2ZSZWN1cih2YWx1ZSkgIT09ICdjb3B5QXJyYXknKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgISFjaGVjayAmJlxuICAgICAgICAgIENYKGNoZWNrKWBQYXNzYWJsZSBFcnJvciAke3EoXG4gICAgICAgICAgICBwcm9wTmFtZSxcbiAgICAgICAgICApfSBvd24gcHJvcGVydHkgbXVzdCBiZSBhIGNvcHlBcnJheTogJHt2YWx1ZX1gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUuZXZlcnkoZXJyID0+XG4gICAgICAgIC8vXG4gICAgICAgIGNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yKGVyciwgcGFzc1N0eWxlT2ZSZWN1ciwgY2hlY2spLFxuICAgICAgKTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiAoXG4gICAgISFjaGVjayAmJlxuICAgIENYKGNoZWNrKWBQYXNzYWJsZSBFcnJvciBoYXMgZXh0cmEgdW5wYXNzZWQgcHJvcGVydHkgJHtxKHByb3BOYW1lKX1gXG4gICk7XG59OyRozY9fb25jZS5jaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyhjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyk7XG5oYXJkZW4oY2hlY2tSZWN1cnNpdmVseVBhc3NhYmxlRXJyb3JQcm9wZXJ0eURlc2MpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvciA9IChcbiAgY2FuZGlkYXRlLFxuICBwYXNzU3R5bGVPZlJlY3VyLFxuICBjaGVjayA9IHVuZGVmaW5lZCxcbikgPT4ge1xuICBpZiAoIWNoZWNrRXJyb3JMaWtlKGNhbmRpZGF0ZSwgY2hlY2spKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHByb3RvID0gZ2V0UHJvdG90eXBlT2YoY2FuZGlkYXRlKTtcbiAgY29uc3QgeyBuYW1lIH0gPSBwcm90bztcbiAgY29uc3QgZXJyQ29uc3RydWN0b3IgPSBnZXRFcnJvckNvbnN0cnVjdG9yKG5hbWUpO1xuICBpZiAoZXJyQ29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCB8fCBlcnJDb25zdHJ1Y3Rvci5wcm90b3R5cGUgIT09IHByb3RvKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICEhY2hlY2sgJiZcbiAgICAgIENYKFxuICAgICAgICBjaGVjayxcbiAgICAgIClgUGFzc2FibGUgRXJyb3IgbXVzdCBpbmhlcml0IGZyb20gYW4gZXJyb3IgY2xhc3MgLnByb3RvdHlwZTogJHtjYW5kaWRhdGV9YFxuICAgICk7XG4gIH1cbiAgY29uc3QgZGVzY3MgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGNhbmRpZGF0ZSk7XG4gIGlmICghKCdtZXNzYWdlJyBpbiBkZXNjcykpIHtcbiAgICByZXR1cm4gKFxuICAgICAgISFjaGVjayAmJlxuICAgICAgQ1goXG4gICAgICAgIGNoZWNrLFxuICAgICAgKWBQYXNzYWJsZSBFcnJvciBtdXN0IGhhdmUgYW4gb3duIFwibWVzc2FnZVwiIHN0cmluZyBwcm9wZXJ0eTogJHtjYW5kaWRhdGV9YFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gZW50cmllcyhkZXNjcykuZXZlcnkoKFtwcm9wTmFtZSwgZGVzY10pID0+XG4gICAgY2hlY2tSZWN1cnNpdmVseVBhc3NhYmxlRXJyb3JQcm9wZXJ0eURlc2MoXG4gICAgICBwcm9wTmFtZSxcbiAgICAgIGRlc2MsXG4gICAgICBwYXNzU3R5bGVPZlJlY3VyLFxuICAgICAgY2hlY2ssXG4gICAgKSxcbiAgKTtcbn07JGjNj19vbmNlLmNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yKGNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yKTtcbmhhcmRlbihjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvcik7XG5cbi8qXG5cbiAqL1xuICAgICAgIGNvbnN0IEVycm9ySGVscGVyID0gaGFyZGVuKHtcbiAgc3R5bGVOYW1lOiAnZXJyb3InLFxuXG4gIGNhbkJlVmFsaWQ6IGNoZWNrRXJyb3JMaWtlLFxuXG4gIGFzc2VydFJlc3RWYWxpZDogKGNhbmRpZGF0ZSwgcGFzc1N0eWxlT2ZSZWN1cikgPT5cbiAgICBjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvcihjYW5kaWRhdGUsIHBhc3NTdHlsZU9mUmVjdXIsIGFzc2VydENoZWNrZXIpLFxufSk7JGjNj19vbmNlLkVycm9ySGVscGVyKEVycm9ySGVscGVyKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImdldEVycm9yQ29uc3RydWN0b3IiOlsiZ2V0RXJyb3JDb25zdHJ1Y3RvciJdLCJpc0Vycm9yTGlrZSI6WyJpc0Vycm9yTGlrZSJdLCJjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyI6WyJjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyJdLCJjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvciI6WyJjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvciJdLCJFcnJvckhlbHBlciI6WyJFcnJvckhlbHBlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADTopB8pAYAAKQGAAArAAAAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL2l0ZXItaGVscGVycy5qc3siaW1wb3J0cyI6WyIuL21ha2UtZmFyLmpzIl0sImV4cG9ydHMiOlsiZmlsdGVySXRlcmFibGUiLCJtYXBJdGVyYWJsZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhcjskaM2PX2ltcG9ydHMoW1tcIi4vbWFrZS1mYXIuanNcIiwgW1tcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXV1dXSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYXBJdGVyYWJsZSA9IChiYXNlSXRlcmFibGUsIGZ1bmMpID0+XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIEZhcignbWFwcGVkIGl0ZXJhYmxlJywge1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PiB7XG4gICAgICBjb25zdCBiYXNlSXRlcmF0b3IgPSBiYXNlSXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgcmV0dXJuIEZhcignbWFwcGVkIGl0ZXJhdG9yJywge1xuICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyB2YWx1ZTogYmFzZVZhbHVlLCBkb25lIH0gPSBiYXNlSXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gZG9uZSA/IGJhc2VWYWx1ZSA6IGZ1bmMoYmFzZVZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgdmFsdWUsIGRvbmUgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTskaM2PX29uY2UubWFwSXRlcmFibGUobWFwSXRlcmFibGUpO1xuaGFyZGVuKG1hcEl0ZXJhYmxlKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGZpbHRlckl0ZXJhYmxlID0gKGJhc2VJdGVyYWJsZSwgcHJlZCkgPT5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgRmFyKCdmaWx0ZXJlZCBpdGVyYWJsZScsIHtcbiAgICBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4ge1xuICAgICAgY29uc3QgYmFzZUl0ZXJhdG9yID0gYmFzZUl0ZXJhYmxlW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgIHJldHVybiBGYXIoJ2ZpbHRlcmVkIGl0ZXJhdG9yJywge1xuICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYmFzZUl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgIGlmIChkb25lIHx8IHByZWQodmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7JGjNj19vbmNlLmZpbHRlckl0ZXJhYmxlKGZpbHRlckl0ZXJhYmxlKTtcbmhhcmRlbihmaWx0ZXJJdGVyYWJsZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJtYXBJdGVyYWJsZSI6WyJtYXBJdGVyYWJsZSJdLCJmaWx0ZXJJdGVyYWJsZSI6WyJmaWx0ZXJJdGVyYWJsZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABieHiJ2RIAANkSAAAnAAAAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL21ha2UtZmFyLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2V2ZW50dWFsLXNlbmQvdXRpbHMuanMiLCJAZW5kby9lcnJvcnMiLCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzIiwiLi9yZW1vdGFibGUuanMiXSwiZXhwb3J0cyI6WyJGYXIiLCJHRVRfTUVUSE9EX05BTUVTIiwiUmVtb3RhYmxlIiwiVG9GYXJGdW5jdGlvbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGdldE1ldGhvZE5hbWVzLHEsRmFpbCxhc3NlcnRDaGVja2VyLFBBU1NfU1RZTEUsYXNzZXJ0SWZhY2UsZ2V0SW50ZXJmYWNlT2YsUmVtb3RhYmxlSGVscGVyOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZXZlbnR1YWwtc2VuZC91dGlscy5qc1wiLCBbW1wiZ2V0TWV0aG9kTmFtZXNcIixbJGjNj19hID0+IChnZXRNZXRob2ROYW1lcyA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzXCIsIFtbXCJhc3NlcnRDaGVja2VyXCIsWyRozY9fYSA9PiAoYXNzZXJ0Q2hlY2tlciA9ICRozY9fYSldXSxbXCJQQVNTX1NUWUxFXCIsWyRozY9fYSA9PiAoUEFTU19TVFlMRSA9ICRozY9fYSldXV1dLFtcIi4vcmVtb3RhYmxlLmpzXCIsIFtbXCJhc3NlcnRJZmFjZVwiLFskaM2PX2EgPT4gKGFzc2VydElmYWNlID0gJGjNj19hKV1dLFtcImdldEludGVyZmFjZU9mXCIsWyRozY9fYSA9PiAoZ2V0SW50ZXJmYWNlT2YgPSAkaM2PX2EpXV0sW1wiUmVtb3RhYmxlSGVscGVyXCIsWyRozY9fYSA9PiAoUmVtb3RhYmxlSGVscGVyID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbmNvbnN0IHsgcHJvdG90eXBlOiBmdW5jdGlvblByb3RvdHlwZSB9ID0gRnVuY3Rpb247XG5jb25zdCB7XG4gIGdldFByb3RvdHlwZU9mLFxuICBzZXRQcm90b3R5cGVPZixcbiAgY3JlYXRlLFxuICBpc0Zyb3plbixcbiAgcHJvdG90eXBlOiBvYmplY3RQcm90b3R5cGUsXG59ID0gT2JqZWN0O1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VSZW1vdGFibGVQcm90byA9IChyZW1vdGFibGUsIGlmYWNlKSA9PiB7XG4gIGxldCBvbGRQcm90byA9IGdldFByb3RvdHlwZU9mKHJlbW90YWJsZSk7XG4gIGlmICh0eXBlb2YgcmVtb3RhYmxlID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChvbGRQcm90byA9PT0gbnVsbCkge1xuICAgICAgb2xkUHJvdG8gPSBvYmplY3RQcm90b3R5cGU7XG4gICAgfVxuICAgIG9sZFByb3RvID09PSBvYmplY3RQcm90b3R5cGUgfHxcbiAgICAgIEZhaWxgRm9yIG5vdywgcmVtb3RhYmxlcyBjYW5ub3QgaW5oZXJpdCBmcm9tIGFueXRoaW5nIHVudXN1YWwsIGluICR7cmVtb3RhYmxlfWA7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlbW90YWJsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9sZFByb3RvICE9PSBudWxsIHx8XG4gICAgICBGYWlsYE9yaWdpbmFsIGZ1bmN0aW9uIG11c3Qgbm90IGluaGVyaXQgZnJvbSBudWxsOiAke3JlbW90YWJsZX1gO1xuICAgIG9sZFByb3RvID09PSBmdW5jdGlvblByb3RvdHlwZSB8fFxuICAgICAgZ2V0UHJvdG90eXBlT2Yob2xkUHJvdG8pID09PSBmdW5jdGlvblByb3RvdHlwZSB8fFxuICAgICAgRmFpbGBGYXIgZnVuY3Rpb25zIG11c3Qgb3JpZ2luYWxseSBpbmhlcml0IGZyb20gRnVuY3Rpb24ucHJvdG90eXBlLCBpbiAke3JlbW90YWJsZX1gO1xuICB9IGVsc2Uge1xuICAgIEZhaWxgdW5yZWNvZ25pemVkIHR5cGVvZiAke3JlbW90YWJsZX1gO1xuICB9XG4gIHJldHVybiBoYXJkZW4oXG4gICAgY3JlYXRlKG9sZFByb3RvLCB7XG4gICAgICBbUEFTU19TVFlMRV06IHsgdmFsdWU6ICdyZW1vdGFibGUnIH0sXG4gICAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogeyB2YWx1ZTogaWZhY2UgfSxcbiAgICB9KSxcbiAgKTtcbn07XG5cbmNvbnN0IGFzc2VydENhbkJlUmVtb3RhYmxlID0gY2FuZGlkYXRlID0+XG4gIFJlbW90YWJsZUhlbHBlci5jYW5CZVZhbGlkKGNhbmRpZGF0ZSwgYXNzZXJ0Q2hlY2tlcik7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBSZW1vdGFibGUgPSAoXG4gIC8vXG4gIGlmYWNlID0gJ1JlbW90YWJsZScsXG4gIHByb3BzID0gdW5kZWZpbmVkLFxuICByZW1vdGFibGUgPSAvKiAgICAgICAgICAgICovICh7fSksXG4pID0+IHtcbiAgYXNzZXJ0SWZhY2UoaWZhY2UpO1xuICBhc3NlcnQoaWZhY2UpO1xuICAvL1xuICAvL1xuICBwcm9wcyA9PT0gdW5kZWZpbmVkIHx8IEZhaWxgUmVtb3RhYmxlIHByb3BzIG5vdCB5ZXQgaW1wbGVtZW50ZWQgJHtwcm9wc31gO1xuXG4gIC8vXG4gIGFzc2VydENhbkJlUmVtb3RhYmxlKHJlbW90YWJsZSk7XG5cbiAgLy9cbiAgIShQQVNTX1NUWUxFIGluIHJlbW90YWJsZSkgfHxcbiAgICBGYWlsYFJlbW90YWJsZSAke3JlbW90YWJsZX0gaXMgYWxyZWFkeSBtYXJrZWQgYXMgYSAke3EoXG4gICAgICByZW1vdGFibGVbUEFTU19TVFlMRV0sXG4gICAgKX1gO1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICBoYXJkZW4uaXNGYWtlIHx8XG4gICAgLy9cbiAgICAhaXNGcm96ZW4ocmVtb3RhYmxlKSB8fFxuICAgIEZhaWxgUmVtb3RhYmxlICR7cmVtb3RhYmxlfSBpcyBhbHJlYWR5IGZyb3plbmA7XG4gIGNvbnN0IHJlbW90YWJsZVByb3RvID0gbWFrZVJlbW90YWJsZVByb3RvKHJlbW90YWJsZSwgaWZhY2UpO1xuXG4gIC8vXG4gIC8vXG4gIGNvbnN0IG11dGF0ZUhhcmRlbkFuZENoZWNrID0gdGFyZ2V0ID0+IHtcbiAgICAvL1xuICAgIHNldFByb3RvdHlwZU9mKHRhcmdldCwgcmVtb3RhYmxlUHJvdG8pO1xuICAgIGhhcmRlbih0YXJnZXQpO1xuICAgIGFzc2VydENhbkJlUmVtb3RhYmxlKHRhcmdldCk7XG4gIH07XG5cbiAgLy9cbiAgbXV0YXRlSGFyZGVuQW5kQ2hlY2soe30pO1xuXG4gIC8vXG4gIG11dGF0ZUhhcmRlbkFuZENoZWNrKHJlbW90YWJsZSk7XG5cbiAgLy9cbiAgLy9cbiAgYXNzZXJ0KGlmYWNlICE9PSB1bmRlZmluZWQpOyAvL1xuICByZXR1cm4gLyogICAgICAgICAgICAgICovIChyZW1vdGFibGUpO1xufTskaM2PX29uY2UuUmVtb3RhYmxlKFJlbW90YWJsZSk7XG5oYXJkZW4oUmVtb3RhYmxlKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IEdFVF9NRVRIT0RfTkFNRVMgPSAnX19nZXRNZXRob2ROYW1lc19fJztcblxuLypcblxuXG5cblxuICovJGjNj19vbmNlLkdFVF9NRVRIT0RfTkFNRVMoR0VUX01FVEhPRF9OQU1FUyk7XG5jb25zdCBnZXRNZXRob2ROYW1lc01ldGhvZCA9IGhhcmRlbih7XG4gIFtHRVRfTUVUSE9EX05BTUVTXSgpIHtcbiAgICByZXR1cm4gZ2V0TWV0aG9kTmFtZXModGhpcyk7XG4gIH0sXG59KVtHRVRfTUVUSE9EX05BTUVTXTtcblxuY29uc3QgZ2V0TWV0aG9kTmFtZXNEZXNjcmlwdG9yID0gaGFyZGVuKHtcbiAgdmFsdWU6IGdldE1ldGhvZE5hbWVzTWV0aG9kLFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgd3JpdGFibGU6IGZhbHNlLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBGYXIgPSAoZmFyTmFtZSwgcmVtb3RhYmxlID0gdW5kZWZpbmVkKSA9PiB7XG4gIGNvbnN0IHIgPSByZW1vdGFibGUgPT09IHVuZGVmaW5lZCA/IC8qICAgICAgICAgICAgKi8gKHt9KSA6IHJlbW90YWJsZTtcbiAgaWYgKHR5cGVvZiByID09PSAnb2JqZWN0JyAmJiAhKEdFVF9NRVRIT0RfTkFNRVMgaW4gcikpIHtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCBHRVRfTUVUSE9EX05BTUVTLCBnZXRNZXRob2ROYW1lc0Rlc2NyaXB0b3IpO1xuICB9XG4gIHJldHVybiBSZW1vdGFibGUoYEFsbGVnZWQ6ICR7ZmFyTmFtZX1gLCB1bmRlZmluZWQsIHIpO1xufTskaM2PX29uY2UuRmFyKEZhcik7XG5oYXJkZW4oRmFyKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IFRvRmFyRnVuY3Rpb24gPSAoZmFyTmFtZSwgZnVuYykgPT4ge1xuICBpZiAoZ2V0SW50ZXJmYWNlT2YoZnVuYykgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vXG4gICAgcmV0dXJuIGZ1bmM7XG4gIH1cbiAgLy9cbiAgcmV0dXJuIEZhcihmYXJOYW1lLCAoLi4uYXJncykgPT4gZnVuYyguLi5hcmdzKSk7XG59OyRozY9fb25jZS5Ub0ZhckZ1bmN0aW9uKFRvRmFyRnVuY3Rpb24pO1xuaGFyZGVuKFRvRmFyRnVuY3Rpb24pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiUmVtb3RhYmxlIjpbIlJlbW90YWJsZSJdLCJHRVRfTUVUSE9EX05BTUVTIjpbIkdFVF9NRVRIT0RfTkFNRVMiXSwiRmFyIjpbIkZhciJdLCJUb0ZhckZ1bmN0aW9uIjpbIlRvRmFyRnVuY3Rpb24iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAATcGI09wEAADcBAAAKQAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9tYWtlVGFnZ2VkLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIi4vcGFzc1N0eWxlLWhlbHBlcnMuanMiLCIuL3Bhc3NTdHlsZU9mLmpzIl0sImV4cG9ydHMiOlsibWFrZVRhZ2dlZCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwsUEFTU19TVFlMRSxhc3NlcnRQYXNzYWJsZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzXCIsIFtbXCJQQVNTX1NUWUxFXCIsWyRozY9fYSA9PiAoUEFTU19TVFlMRSA9ICRozY9fYSldXV1dLFtcIi4vcGFzc1N0eWxlT2YuanNcIiwgW1tcImFzc2VydFBhc3NhYmxlXCIsWyRozY9fYSA9PiAoYXNzZXJ0UGFzc2FibGUgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cbi8qXG5cbiAqL1xuXG5jb25zdCB7IGNyZWF0ZSwgcHJvdG90eXBlOiBvYmplY3RQcm90b3R5cGUgfSA9IE9iamVjdDtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlVGFnZ2VkID0gKHRhZywgcGF5bG9hZCkgPT4ge1xuICB0eXBlb2YgdGFnID09PSAnc3RyaW5nJyB8fFxuICAgIEZhaWxgVGhlIHRhZyBvZiBhIHRhZ2dlZCByZWNvcmQgbXVzdCBiZSBhIHN0cmluZzogJHt0YWd9YDtcbiAgYXNzZXJ0UGFzc2FibGUoaGFyZGVuKHBheWxvYWQpKTtcbiAgcmV0dXJuIGhhcmRlbihcbiAgICBjcmVhdGUob2JqZWN0UHJvdG90eXBlLCB7XG4gICAgICBbUEFTU19TVFlMRV06IHsgdmFsdWU6ICd0YWdnZWQnIH0sXG4gICAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogeyB2YWx1ZTogdGFnIH0sXG4gICAgICBwYXlsb2FkOiB7IHZhbHVlOiBwYXlsb2FkLCBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gICAgfSksXG4gICk7XG59OyRozY9fb25jZS5tYWtlVGFnZ2VkKG1ha2VUYWdnZWQpO1xuaGFyZGVuKG1ha2VUYWdnZWQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVRhZ2dlZCI6WyJtYWtlVGFnZ2VkIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAHBEXISiFwAAohcAADAAAABAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvcGFzc1N0eWxlLWhlbHBlcnMuanN7ImltcG9ydHMiOlsiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsiQ1giLCJQQVNTX1NUWUxFIiwiYXNzZXJ0Q2hlY2tlciIsImNhbkJlTWV0aG9kIiwiY2hlY2tGdW5jdGlvblRhZ1JlY29yZCIsImNoZWNrUGFzc1N0eWxlIiwiY2hlY2tUYWdSZWNvcmQiLCJnZXRPd25EYXRhRGVzY3JpcHRvciIsImdldFRhZyIsImhhc093blByb3BlcnR5T2YiLCJpc09iamVjdCIsImlzVHlwZWRBcnJheSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IFgscTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuY29uc3QgeyBpc0FycmF5IH0gPSBBcnJheTtcbmNvbnN0IHsgcHJvdG90eXBlOiBmdW5jdGlvblByb3RvdHlwZSB9ID0gRnVuY3Rpb247XG5jb25zdCB7XG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgZ2V0UHJvdG90eXBlT2YsXG4gIGhhc093blByb3BlcnR5OiBvYmplY3RIYXNPd25Qcm9wZXJ0eSxcbiAgaXNGcm96ZW4sXG4gIHByb3RvdHlwZTogb2JqZWN0UHJvdG90eXBlLFxufSA9IE9iamVjdDtcbmNvbnN0IHsgYXBwbHkgfSA9IFJlZmxlY3Q7XG5jb25zdCB7IHRvU3RyaW5nVGFnOiB0b1N0cmluZ1RhZ1N5bWJvbCB9ID0gU3ltYm9sO1xuXG5jb25zdCB0eXBlZEFycmF5UHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoVWludDhBcnJheS5wcm90b3R5cGUpO1xuY29uc3QgdHlwZWRBcnJheVRvU3RyaW5nVGFnRGVzYyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgdHlwZWRBcnJheVByb3RvdHlwZSxcbiAgdG9TdHJpbmdUYWdTeW1ib2wsXG4pO1xuYXNzZXJ0KHR5cGVkQXJyYXlUb1N0cmluZ1RhZ0Rlc2MpO1xuY29uc3QgZ2V0VHlwZWRBcnJheVRvU3RyaW5nVGFnID0gdHlwZWRBcnJheVRvU3RyaW5nVGFnRGVzYy5nZXQ7XG5hc3NlcnQodHlwZW9mIGdldFR5cGVkQXJyYXlUb1N0cmluZ1RhZyA9PT0gJ2Z1bmN0aW9uJyk7XG5cbiAgICAgICBjb25zdCBoYXNPd25Qcm9wZXJ0eU9mID0gKG9iaiwgcHJvcCkgPT5cbiAgYXBwbHkob2JqZWN0SGFzT3duUHJvcGVydHksIG9iaiwgW3Byb3BdKTskaM2PX29uY2UuaGFzT3duUHJvcGVydHlPZihoYXNPd25Qcm9wZXJ0eU9mKTtcbmhhcmRlbihoYXNPd25Qcm9wZXJ0eU9mKTtcblxuLy9cbiAgICAgICBjb25zdCBpc09iamVjdCA9IHZhbCA9PiBPYmplY3QodmFsKSA9PT0gdmFsOyRozY9fb25jZS5pc09iamVjdChpc09iamVjdCk7XG5oYXJkZW4oaXNPYmplY3QpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNUeXBlZEFycmF5ID0gb2JqZWN0ID0+IHtcbiAgLy9cbiAgY29uc3QgdGFnID0gYXBwbHkoZ2V0VHlwZWRBcnJheVRvU3RyaW5nVGFnLCBvYmplY3QsIFtdKTtcbiAgcmV0dXJuIHRhZyAhPT0gdW5kZWZpbmVkO1xufTskaM2PX29uY2UuaXNUeXBlZEFycmF5KGlzVHlwZWRBcnJheSk7XG5oYXJkZW4oaXNUeXBlZEFycmF5KTtcblxuICAgICAgIGNvbnN0IFBBU1NfU1RZTEUgPSBTeW1ib2wuZm9yKCdwYXNzU3R5bGUnKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuUEFTU19TVFlMRShQQVNTX1NUWUxFKTtcbiAgICAgICBjb25zdCBjYW5CZU1ldGhvZCA9IGZ1bmMgPT5cbiAgdHlwZW9mIGZ1bmMgPT09ICdmdW5jdGlvbicgJiYgIShQQVNTX1NUWUxFIGluIGZ1bmMpOyRozY9fb25jZS5jYW5CZU1ldGhvZChjYW5CZU1ldGhvZCk7XG5oYXJkZW4oY2FuQmVNZXRob2QpO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgYXNzZXJ0Q2hlY2tlciA9IChjb25kLCBkZXRhaWxzKSA9PiB7XG4gIGFzc2VydChjb25kLCBkZXRhaWxzKTtcbiAgcmV0dXJuIHRydWU7XG59OyRozY9fb25jZS5hc3NlcnRDaGVja2VyKGFzc2VydENoZWNrZXIpO1xuaGFyZGVuKGFzc2VydENoZWNrZXIpO1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBDWCA9IGNoZWNrID0+IHtcbiAgY29uc3QgcmVqZWN0ID0gKFQsIC4uLnN1YnMpID0+IGNoZWNrKGZhbHNlLCBYKFQsIC4uLnN1YnMpKTtcbiAgcmV0dXJuIHJlamVjdDtcbn07JGjNj19vbmNlLkNYKENYKTtcbmhhcmRlbihDWCk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0T3duRGF0YURlc2NyaXB0b3IgPSAoXG4gIGNhbmRpZGF0ZSxcbiAgcHJvcE5hbWUsXG4gIHNob3VsZEJlRW51bWVyYWJsZSxcbiAgY2hlY2ssXG4pID0+IHtcbiAgY29uc3QgZGVzYyA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNhbmRpZGF0ZSwgcHJvcE5hbWUpXG4gICk7XG4gIHJldHVybiAoZGVzYyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgKCEhY2hlY2sgJiYgQ1goY2hlY2spYCR7cShwcm9wTmFtZSl9IHByb3BlcnR5IGV4cGVjdGVkOiAke2NhbmRpZGF0ZX1gKSkgJiZcbiAgICAoaGFzT3duUHJvcGVydHlPZihkZXNjLCAndmFsdWUnKSB8fFxuICAgICAgKCEhY2hlY2sgJiZcbiAgICAgICAgQ1goXG4gICAgICAgICAgY2hlY2ssXG4gICAgICAgIClgJHtxKHByb3BOYW1lKX0gbXVzdCBub3QgYmUgYW4gYWNjZXNzb3IgcHJvcGVydHk6ICR7Y2FuZGlkYXRlfWApKSAmJlxuICAgIChzaG91bGRCZUVudW1lcmFibGVcbiAgICAgID8gZGVzYy5lbnVtZXJhYmxlIHx8XG4gICAgICAgICghIWNoZWNrICYmXG4gICAgICAgICAgQ1goXG4gICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICApYCR7cShwcm9wTmFtZSl9IG11c3QgYmUgYW4gZW51bWVyYWJsZSBwcm9wZXJ0eTogJHtjYW5kaWRhdGV9YClcbiAgICAgIDogIWRlc2MuZW51bWVyYWJsZSB8fFxuICAgICAgICAoISFjaGVjayAmJlxuICAgICAgICAgIENYKFxuICAgICAgICAgICAgY2hlY2ssXG4gICAgICAgICAgKWAke3EocHJvcE5hbWUpfSBtdXN0IG5vdCBiZSBhbiBlbnVtZXJhYmxlIHByb3BlcnR5OiAke2NhbmRpZGF0ZX1gKSlcbiAgICA/IGRlc2NcbiAgICA6IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoLyogICAgICAgICAgICAgICAgICAqLyAodW5kZWZpbmVkKSk7XG59OyRozY9fb25jZS5nZXRPd25EYXRhRGVzY3JpcHRvcihnZXRPd25EYXRhRGVzY3JpcHRvcik7XG5oYXJkZW4oZ2V0T3duRGF0YURlc2NyaXB0b3IpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0VGFnID0gdGFnUmVjb3JkID0+IHRhZ1JlY29yZFtTeW1ib2wudG9TdHJpbmdUYWddOyRozY9fb25jZS5nZXRUYWcoZ2V0VGFnKTtcbmhhcmRlbihnZXRUYWcpO1xuXG4gICAgICAgY29uc3QgY2hlY2tQYXNzU3R5bGUgPSAob2JqLCBwYXNzU3R5bGUsIGV4cGVjdGVkUGFzc1N0eWxlLCBjaGVjaykgPT4ge1xuICByZXR1cm4gKFxuICAgIHBhc3NTdHlsZSA9PT0gZXhwZWN0ZWRQYXNzU3R5bGUgfHxcbiAgICAoISFjaGVjayAmJlxuICAgICAgQ1goY2hlY2spYEV4cGVjdGVkICR7cShleHBlY3RlZFBhc3NTdHlsZSl9LCBub3QgJHtxKHBhc3NTdHlsZSl9OiAke29ian1gKVxuICApO1xufTskaM2PX29uY2UuY2hlY2tQYXNzU3R5bGUoY2hlY2tQYXNzU3R5bGUpO1xuaGFyZGVuKGNoZWNrUGFzc1N0eWxlKTtcblxuY29uc3QgbWFrZUNoZWNrVGFnUmVjb3JkID0gY2hlY2tQcm90byA9PiB7XG4gIC8qXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IGNoZWNrVGFnUmVjb3JkID0gKHRhZ1JlY29yZCwgZXhwZWN0ZWRQYXNzU3R5bGUsIGNoZWNrKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIChpc09iamVjdCh0YWdSZWNvcmQpIHx8XG4gICAgICAgICghIWNoZWNrICYmXG4gICAgICAgICAgQ1goY2hlY2spYEEgbm9uLW9iamVjdCBjYW5ub3QgYmUgYSB0YWdSZWNvcmQ6ICR7dGFnUmVjb3JkfWApKSAmJlxuICAgICAgKGlzRnJvemVuKHRhZ1JlY29yZCkgfHxcbiAgICAgICAgKCEhY2hlY2sgJiYgQ1goY2hlY2spYEEgdGFnUmVjb3JkIG11c3QgYmUgZnJvemVuOiAke3RhZ1JlY29yZH1gKSkgJiZcbiAgICAgICghaXNBcnJheSh0YWdSZWNvcmQpIHx8XG4gICAgICAgICghIWNoZWNrICYmIENYKGNoZWNrKWBBbiBhcnJheSBjYW5ub3QgYmUgYSB0YWdSZWNvcmQ6ICR7dGFnUmVjb3JkfWApKSAmJlxuICAgICAgY2hlY2tQYXNzU3R5bGUoXG4gICAgICAgIHRhZ1JlY29yZCxcbiAgICAgICAgZ2V0T3duRGF0YURlc2NyaXB0b3IodGFnUmVjb3JkLCBQQVNTX1NUWUxFLCBmYWxzZSwgY2hlY2spLnZhbHVlLFxuICAgICAgICBleHBlY3RlZFBhc3NTdHlsZSxcbiAgICAgICAgY2hlY2ssXG4gICAgICApICYmXG4gICAgICAodHlwZW9mIGdldE93bkRhdGFEZXNjcmlwdG9yKHRhZ1JlY29yZCwgU3ltYm9sLnRvU3RyaW5nVGFnLCBmYWxzZSwgY2hlY2spXG4gICAgICAgIC52YWx1ZSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgKCEhY2hlY2sgJiZcbiAgICAgICAgICBDWChcbiAgICAgICAgICAgIGNoZWNrLFxuICAgICAgICAgIClgQSBbU3ltYm9sLnRvU3RyaW5nVGFnXS1uYW1lZCBwcm9wZXJ0eSBtdXN0IGJlIGEgc3RyaW5nOiAke3RhZ1JlY29yZH1gKSkgJiZcbiAgICAgIGNoZWNrUHJvdG8odGFnUmVjb3JkLCBnZXRQcm90b3R5cGVPZih0YWdSZWNvcmQpLCBjaGVjaylcbiAgICApO1xuICB9O1xuICByZXR1cm4gaGFyZGVuKGNoZWNrVGFnUmVjb3JkKTtcbn07XG5cbiAgICAgICBjb25zdCBjaGVja1RhZ1JlY29yZCA9IG1ha2VDaGVja1RhZ1JlY29yZChcbiAgKHZhbCwgcHJvdG8sIGNoZWNrKSA9PlxuICAgIHByb3RvID09PSBvYmplY3RQcm90b3R5cGUgfHxcbiAgICAoISFjaGVjayAmJlxuICAgICAgY2hlY2soZmFsc2UsIFhgQSB0YWdSZWNvcmQgbXVzdCBpbmhlcml0IGZyb20gT2JqZWN0LnByb3RvdHlwZTogJHt2YWx9YCkpLFxuKTskaM2PX29uY2UuY2hlY2tUYWdSZWNvcmQoY2hlY2tUYWdSZWNvcmQpO1xuaGFyZGVuKGNoZWNrVGFnUmVjb3JkKTtcblxuICAgICAgIGNvbnN0IGNoZWNrRnVuY3Rpb25UYWdSZWNvcmQgPSBtYWtlQ2hlY2tUYWdSZWNvcmQoXG4gICh2YWwsIHByb3RvLCBjaGVjaykgPT5cbiAgICBwcm90byA9PT0gZnVuY3Rpb25Qcm90b3R5cGUgfHxcbiAgICAocHJvdG8gIT09IG51bGwgJiYgZ2V0UHJvdG90eXBlT2YocHJvdG8pID09PSBmdW5jdGlvblByb3RvdHlwZSkgfHxcbiAgICAoISFjaGVjayAmJlxuICAgICAgY2hlY2soXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBYYEZvciBmdW5jdGlvbnMsIGEgdGFnUmVjb3JkIG11c3QgaW5oZXJpdCBmcm9tIEZ1bmN0aW9uLnByb3RvdHlwZTogJHt2YWx9YCxcbiAgICAgICkpLFxuKTskaM2PX29uY2UuY2hlY2tGdW5jdGlvblRhZ1JlY29yZChjaGVja0Z1bmN0aW9uVGFnUmVjb3JkKTtcbmhhcmRlbihjaGVja0Z1bmN0aW9uVGFnUmVjb3JkKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7Imhhc093blByb3BlcnR5T2YiOlsiaGFzT3duUHJvcGVydHlPZiJdLCJpc09iamVjdCI6WyJpc09iamVjdCJdLCJpc1R5cGVkQXJyYXkiOlsiaXNUeXBlZEFycmF5Il0sIlBBU1NfU1RZTEUiOlsiUEFTU19TVFlMRSJdLCJjYW5CZU1ldGhvZCI6WyJjYW5CZU1ldGhvZCJdLCJhc3NlcnRDaGVja2VyIjpbImFzc2VydENoZWNrZXIiXSwiQ1giOlsiQ1giXSwiZ2V0T3duRGF0YURlc2NyaXB0b3IiOlsiZ2V0T3duRGF0YURlc2NyaXB0b3IiXSwiZ2V0VGFnIjpbImdldFRhZyJdLCJjaGVja1Bhc3NTdHlsZSI6WyJjaGVja1Bhc3NTdHlsZSJdLCJjaGVja1RhZ1JlY29yZCI6WyJjaGVja1RhZ1JlY29yZCJdLCJjaGVja0Z1bmN0aW9uVGFnUmVjb3JkIjpbImNoZWNrRnVuY3Rpb25UYWdSZWNvcmQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAADJ1trdMrAADTKwAAKgAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9wYXNzU3R5bGVPZi5qc3siaW1wb3J0cyI6WyJAZW5kby9wcm9taXNlLWtpdCIsIkBlbmRvL2Vycm9ycyIsIi4vcGFzc1N0eWxlLWhlbHBlcnMuanMiLCIuL2NvcHlBcnJheS5qcyIsIi4vY29weVJlY29yZC5qcyIsIi4vdGFnZ2VkLmpzIiwiLi9lcnJvci5qcyIsIi4vcmVtb3RhYmxlLmpzIiwiLi9zeW1ib2wuanMiLCIuL3NhZmUtcHJvbWlzZS5qcyIsIi4vc3RyaW5nLmpzIl0sImV4cG9ydHMiOlsiUGFzc1N0eWxlT2ZFbmRvd21lbnRTeW1ib2wiLCJhc3NlcnRQYXNzYWJsZSIsImlzUGFzc2FibGUiLCJwYXNzU3R5bGVPZiIsInRvUGFzc2FibGVFcnJvciIsInRvVGhyb3dhYmxlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgaXNQcm9taXNlLFgsRmFpbCxxLGFubm90YXRlRXJyb3IsbWFrZUVycm9yLGlzT2JqZWN0LGlzVHlwZWRBcnJheSxQQVNTX1NUWUxFLGFzc2VydENoZWNrZXIsQ29weUFycmF5SGVscGVyLENvcHlSZWNvcmRIZWxwZXIsVGFnZ2VkSGVscGVyLEVycm9ySGVscGVyLGNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yUHJvcGVydHlEZXNjLGNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yLGdldEVycm9yQ29uc3RydWN0b3IsaXNFcnJvckxpa2UsUmVtb3RhYmxlSGVscGVyLGFzc2VydFBhc3NhYmxlU3ltYm9sLGFzc2VydFNhZmVQcm9taXNlLGFzc2VydFBhc3NhYmxlU3RyaW5nOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vcHJvbWlzZS1raXRcIiwgW1tcImlzUHJvbWlzZVwiLFskaM2PX2EgPT4gKGlzUHJvbWlzZSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiYW5ub3RhdGVFcnJvclwiLFskaM2PX2EgPT4gKGFubm90YXRlRXJyb3IgPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dXV0sW1wiLi9wYXNzU3R5bGUtaGVscGVycy5qc1wiLCBbW1wiaXNPYmplY3RcIixbJGjNj19hID0+IChpc09iamVjdCA9ICRozY9fYSldXSxbXCJpc1R5cGVkQXJyYXlcIixbJGjNj19hID0+IChpc1R5cGVkQXJyYXkgPSAkaM2PX2EpXV0sW1wiUEFTU19TVFlMRVwiLFskaM2PX2EgPT4gKFBBU1NfU1RZTEUgPSAkaM2PX2EpXV0sW1wiYXNzZXJ0Q2hlY2tlclwiLFskaM2PX2EgPT4gKGFzc2VydENoZWNrZXIgPSAkaM2PX2EpXV1dXSxbXCIuL2NvcHlBcnJheS5qc1wiLCBbW1wiQ29weUFycmF5SGVscGVyXCIsWyRozY9fYSA9PiAoQ29weUFycmF5SGVscGVyID0gJGjNj19hKV1dXV0sW1wiLi9jb3B5UmVjb3JkLmpzXCIsIFtbXCJDb3B5UmVjb3JkSGVscGVyXCIsWyRozY9fYSA9PiAoQ29weVJlY29yZEhlbHBlciA9ICRozY9fYSldXV1dLFtcIi4vdGFnZ2VkLmpzXCIsIFtbXCJUYWdnZWRIZWxwZXJcIixbJGjNj19hID0+IChUYWdnZWRIZWxwZXIgPSAkaM2PX2EpXV1dXSxbXCIuL2Vycm9yLmpzXCIsIFtbXCJFcnJvckhlbHBlclwiLFskaM2PX2EgPT4gKEVycm9ySGVscGVyID0gJGjNj19hKV1dLFtcImNoZWNrUmVjdXJzaXZlbHlQYXNzYWJsZUVycm9yUHJvcGVydHlEZXNjXCIsWyRozY9fYSA9PiAoY2hlY2tSZWN1cnNpdmVseVBhc3NhYmxlRXJyb3JQcm9wZXJ0eURlc2MgPSAkaM2PX2EpXV0sW1wiY2hlY2tSZWN1cnNpdmVseVBhc3NhYmxlRXJyb3JcIixbJGjNj19hID0+IChjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvciA9ICRozY9fYSldXSxbXCJnZXRFcnJvckNvbnN0cnVjdG9yXCIsWyRozY9fYSA9PiAoZ2V0RXJyb3JDb25zdHJ1Y3RvciA9ICRozY9fYSldXSxbXCJpc0Vycm9yTGlrZVwiLFskaM2PX2EgPT4gKGlzRXJyb3JMaWtlID0gJGjNj19hKV1dXV0sW1wiLi9yZW1vdGFibGUuanNcIiwgW1tcIlJlbW90YWJsZUhlbHBlclwiLFskaM2PX2EgPT4gKFJlbW90YWJsZUhlbHBlciA9ICRozY9fYSldXV1dLFtcIi4vc3ltYm9sLmpzXCIsIFtbXCJhc3NlcnRQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKGFzc2VydFBhc3NhYmxlU3ltYm9sID0gJGjNj19hKV1dXV0sW1wiLi9zYWZlLXByb21pc2UuanNcIiwgW1tcImFzc2VydFNhZmVQcm9taXNlXCIsWyRozY9fYSA9PiAoYXNzZXJ0U2FmZVByb21pc2UgPSAkaM2PX2EpXV1dXSxbXCIuL3N0cmluZy5qc1wiLCBbW1wiYXNzZXJ0UGFzc2FibGVTdHJpbmdcIixbJGjNj19hID0+IChhc3NlcnRQYXNzYWJsZVN0cmluZyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcbmNvbnN0IHsgaXNGcm96ZW4sIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsIHZhbHVlcyB9ID0gT2JqZWN0O1xuXG4vKlxuXG5cbiAqL1xuXG5jb25zdCBtYWtlSGVscGVyVGFibGUgPSBwYXNzU3R5bGVIZWxwZXJzID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IEhlbHBlclRhYmxlID0ge1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBjb3B5QXJyYXk6IHVuZGVmaW5lZCxcbiAgICBjb3B5UmVjb3JkOiB1bmRlZmluZWQsXG4gICAgdGFnZ2VkOiB1bmRlZmluZWQsXG4gICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICByZW1vdGFibGU6IHVuZGVmaW5lZCxcbiAgfTtcbiAgZm9yIChjb25zdCBoZWxwZXIgb2YgcGFzc1N0eWxlSGVscGVycykge1xuICAgIGNvbnN0IHsgc3R5bGVOYW1lIH0gPSBoZWxwZXI7XG4gICAgc3R5bGVOYW1lIGluIEhlbHBlclRhYmxlIHx8IEZhaWxgVW5yZWNvZ25pemVkIGhlbHBlcjogJHtxKHN0eWxlTmFtZSl9YDtcbiAgICBIZWxwZXJUYWJsZVtzdHlsZU5hbWVdID09PSB1bmRlZmluZWQgfHxcbiAgICAgIEZhaWxgY29uZmxpY3RpbmcgaGVscGVycyBmb3IgJHtxKHN0eWxlTmFtZSl9YDtcbiAgICBIZWxwZXJUYWJsZVtzdHlsZU5hbWVdID0gaGVscGVyO1xuICB9XG4gIGZvciAoY29uc3Qgc3R5bGVOYW1lIG9mIG93bktleXMoSGVscGVyVGFibGUpKSB7XG4gICAgSGVscGVyVGFibGVbc3R5bGVOYW1lXSAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICBGYWlsYG1pc3NpbmcgaGVscGVyIGZvciAke3Eoc3R5bGVOYW1lKX1gO1xuICB9XG5cbiAgcmV0dXJuIGhhcmRlbihIZWxwZXJUYWJsZSk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgYXNzZXJ0VmFsaWQgPSAoaGVscGVyLCBjYW5kaWRhdGUsIHBhc3NTdHlsZU9mUmVjdXIpID0+IHtcbiAgaGVscGVyLmNhbkJlVmFsaWQoY2FuZGlkYXRlLCBhc3NlcnRDaGVja2VyKTtcbiAgaGVscGVyLmFzc2VydFJlc3RWYWxpZChjYW5kaWRhdGUsIHBhc3NTdHlsZU9mUmVjdXIpO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VQYXNzU3R5bGVPZiA9IHBhc3NTdHlsZUhlbHBlcnMgPT4ge1xuICBjb25zdCBIZWxwZXJUYWJsZSA9IG1ha2VIZWxwZXJUYWJsZShwYXNzU3R5bGVIZWxwZXJzKTtcbiAgY29uc3QgcmVtb3RhYmxlSGVscGVyID0gSGVscGVyVGFibGUucmVtb3RhYmxlO1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgcGFzc1N0eWxlTWVtbyA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgLypcblxuICAgKi9cbiAgLy9cbiAgY29uc3QgcGFzc1N0eWxlT2YgPSBwYXNzYWJsZSA9PiB7XG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgY29uc3QgaW5Qcm9ncmVzcyA9IG5ldyBTZXQoKTtcblxuICAgIGNvbnN0IHBhc3NTdHlsZU9mUmVjdXIgPSBpbm5lciA9PiB7XG4gICAgICBjb25zdCBpbm5lcklzT2JqZWN0ID0gaXNPYmplY3QoaW5uZXIpO1xuICAgICAgaWYgKGlubmVySXNPYmplY3QpIHtcbiAgICAgICAgY29uc3QgaW5uZXJTdHlsZSA9IHBhc3NTdHlsZU1lbW8uZ2V0KGlubmVyKTtcbiAgICAgICAgaWYgKGlubmVyU3R5bGUpIHtcbiAgICAgICAgICByZXR1cm4gaW5uZXJTdHlsZTtcbiAgICAgICAgfVxuICAgICAgICAhaW5Qcm9ncmVzcy5oYXMoaW5uZXIpIHx8XG4gICAgICAgICAgRmFpbGBQYXNzLWJ5LWNvcHkgZGF0YSBjYW5ub3QgYmUgY3ljbGljICR7aW5uZXJ9YDtcbiAgICAgICAgaW5Qcm9ncmVzcy5hZGQoaW5uZXIpO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mSW50ZXJuYWwoaW5uZXIpO1xuICAgICAgaWYgKGlubmVySXNPYmplY3QpIHtcbiAgICAgICAgcGFzc1N0eWxlTWVtby5zZXQoaW5uZXIsIHBhc3NTdHlsZSk7XG4gICAgICAgIGluUHJvZ3Jlc3MuZGVsZXRlKGlubmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXNzU3R5bGU7XG4gICAgfTtcblxuICAgIGNvbnN0IHBhc3NTdHlsZU9mSW50ZXJuYWwgPSBpbm5lciA9PiB7XG4gICAgICBjb25zdCB0eXBlc3RyID0gdHlwZW9mIGlubmVyO1xuICAgICAgc3dpdGNoICh0eXBlc3RyKSB7XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICBjYXNlICdiaWdpbnQnOiB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVzdHI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnc3RyaW5nJzoge1xuICAgICAgICAgIGFzc2VydFBhc3NhYmxlU3RyaW5nKGlubmVyKTtcbiAgICAgICAgICByZXR1cm4gJ3N0cmluZyc7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgICAgIGFzc2VydFBhc3NhYmxlU3ltYm9sKGlubmVyKTtcbiAgICAgICAgICByZXR1cm4gJ3N5bWJvbCc7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnb2JqZWN0Jzoge1xuICAgICAgICAgIGlmIChpbm5lciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFpc0Zyb3plbihpbm5lcikpIHtcbiAgICAgICAgICAgIGFzc2VydC5mYWlsKFxuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBpc1R5cGVkQXJyYXkoaW5uZXIpXG4gICAgICAgICAgICAgICAgPyBYYENhbm5vdCBwYXNzIG11dGFibGUgdHlwZWQgYXJyYXlzIGxpa2UgJHtpbm5lcn0uYFxuICAgICAgICAgICAgICAgIDogWGBDYW5ub3QgcGFzcyBub24tZnJvemVuIG9iamVjdHMgbGlrZSAke2lubmVyfS4gVXNlIGhhcmRlbigpYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1Byb21pc2UoaW5uZXIpKSB7XG4gICAgICAgICAgICBhc3NlcnRTYWZlUHJvbWlzZShpbm5lcik7XG4gICAgICAgICAgICByZXR1cm4gJ3Byb21pc2UnO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0eXBlb2YgaW5uZXIudGhlbiAhPT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgRmFpbGBDYW5ub3QgcGFzcyBub24tcHJvbWlzZSB0aGVuYWJsZXNgO1xuICAgICAgICAgIGNvbnN0IHBhc3NTdHlsZVRhZyA9IGlubmVyW1BBU1NfU1RZTEVdO1xuICAgICAgICAgIGlmIChwYXNzU3R5bGVUYWcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXNzZXJ0LnR5cGVvZihwYXNzU3R5bGVUYWcsICdzdHJpbmcnKTtcbiAgICAgICAgICAgIGNvbnN0IGhlbHBlciA9IEhlbHBlclRhYmxlW3Bhc3NTdHlsZVRhZ107XG4gICAgICAgICAgICBoZWxwZXIgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICBGYWlsYFVucmVjb2duaXplZCBQYXNzU3R5bGU6ICR7cShwYXNzU3R5bGVUYWcpfWA7XG4gICAgICAgICAgICBhc3NlcnRWYWxpZChoZWxwZXIsIGlubmVyLCBwYXNzU3R5bGVPZlJlY3VyKTtcbiAgICAgICAgICAgIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgKi8gKHBhc3NTdHlsZVRhZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoY29uc3QgaGVscGVyIG9mIHBhc3NTdHlsZUhlbHBlcnMpIHtcbiAgICAgICAgICAgIGlmIChoZWxwZXIuY2FuQmVWYWxpZChpbm5lcikpIHtcbiAgICAgICAgICAgICAgaGVscGVyLmFzc2VydFJlc3RWYWxpZChpbm5lciwgcGFzc1N0eWxlT2ZSZWN1cik7XG4gICAgICAgICAgICAgIHJldHVybiBoZWxwZXIuc3R5bGVOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhc3NlcnRWYWxpZChyZW1vdGFibGVIZWxwZXIsIGlubmVyLCBwYXNzU3R5bGVPZlJlY3VyKTtcbiAgICAgICAgICByZXR1cm4gJ3JlbW90YWJsZSc7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOiB7XG4gICAgICAgICAgaXNGcm96ZW4oaW5uZXIpIHx8XG4gICAgICAgICAgICBGYWlsYENhbm5vdCBwYXNzIG5vbi1mcm96ZW4gb2JqZWN0cyBsaWtlICR7aW5uZXJ9LiBVc2UgaGFyZGVuKClgO1xuICAgICAgICAgIHR5cGVvZiBpbm5lci50aGVuICE9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBGYWlsYENhbm5vdCBwYXNzIG5vbi1wcm9taXNlIHRoZW5hYmxlc2A7XG4gICAgICAgICAgYXNzZXJ0VmFsaWQocmVtb3RhYmxlSGVscGVyLCBpbm5lciwgcGFzc1N0eWxlT2ZSZWN1cik7XG4gICAgICAgICAgcmV0dXJuICdyZW1vdGFibGUnO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICB0aHJvdyBhc3NlcnQuZmFpbChYYFVucmVjb2duaXplZCB0eXBlb2YgJHtxKHR5cGVzdHIpfWAsIFR5cGVFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHBhc3NTdHlsZU9mUmVjdXIocGFzc2FibGUpO1xuICB9O1xuICByZXR1cm4gaGFyZGVuKHBhc3NTdHlsZU9mKTtcbn07XG5cbiAgICAgICBjb25zdCBQYXNzU3R5bGVPZkVuZG93bWVudFN5bWJvbCA9IFN5bWJvbC5mb3IoJ0BlbmRvIHBhc3NTdHlsZU9mJyk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqLyRozY9fb25jZS5QYXNzU3R5bGVPZkVuZG93bWVudFN5bWJvbChQYXNzU3R5bGVPZkVuZG93bWVudFN5bWJvbCk7XG4gICAgICAgY29uc3QgcGFzc1N0eWxlT2YgPVxuICAoZ2xvYmFsVGhpcyAmJiBnbG9iYWxUaGlzW1Bhc3NTdHlsZU9mRW5kb3dtZW50U3ltYm9sXSkgfHxcbiAgbWFrZVBhc3NTdHlsZU9mKFtcbiAgICBDb3B5QXJyYXlIZWxwZXIsXG4gICAgQ29weVJlY29yZEhlbHBlcixcbiAgICBUYWdnZWRIZWxwZXIsXG4gICAgRXJyb3JIZWxwZXIsXG4gICAgUmVtb3RhYmxlSGVscGVyLFxuICBdKTskaM2PX29uY2UucGFzc1N0eWxlT2YocGFzc1N0eWxlT2YpO1xuXG4gICAgICAgY29uc3QgYXNzZXJ0UGFzc2FibGUgPSB2YWwgPT4ge1xuICBwYXNzU3R5bGVPZih2YWwpOyAvL1xufTskaM2PX29uY2UuYXNzZXJ0UGFzc2FibGUoYXNzZXJ0UGFzc2FibGUpO1xuaGFyZGVuKGFzc2VydFBhc3NhYmxlKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBpc1Bhc3NhYmxlID0gc3BlY2ltZW4gPT4ge1xuICB0cnkge1xuICAgIC8vXG4gICAgLy9cbiAgICByZXR1cm4gcGFzc1N0eWxlT2Yoc3BlY2ltZW4pICE9PSB1bmRlZmluZWQ7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07JGjNj19vbmNlLmlzUGFzc2FibGUoaXNQYXNzYWJsZSk7XG5oYXJkZW4oaXNQYXNzYWJsZSk7XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGlzUGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyA9IChuYW1lLCBkZXNjKSA9PlxuICBjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvclByb3BlcnR5RGVzYyhuYW1lLCBkZXNjLCBwYXNzU3R5bGVPZik7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgdG9QYXNzYWJsZUVycm9yID0gZXJyID0+IHtcbiAgaGFyZGVuKGVycik7XG4gIGlmIChjaGVja1JlY3Vyc2l2ZWx5UGFzc2FibGVFcnJvcihlcnIsIHBhc3NTdHlsZU9mKSkge1xuICAgIHJldHVybiBlcnI7XG4gIH1cbiAgY29uc3QgeyBuYW1lLCBtZXNzYWdlIH0gPSBlcnI7XG4gIGNvbnN0IHsgY2F1c2U6IGNhdXNlRGVzYywgZXJyb3JzOiBlcnJvcnNEZXNjIH0gPVxuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoZXJyKTtcbiAgbGV0IGNhdXNlO1xuICBsZXQgZXJyb3JzO1xuICBpZiAoY2F1c2VEZXNjICYmIGlzUGFzc2FibGVFcnJvclByb3BlcnR5RGVzYygnY2F1c2UnLCBjYXVzZURlc2MpKSB7XG4gICAgY2F1c2UgPSBjYXVzZURlc2MudmFsdWU7XG4gIH1cbiAgaWYgKGVycm9yc0Rlc2MgJiYgaXNQYXNzYWJsZUVycm9yUHJvcGVydHlEZXNjKCdlcnJvcnMnLCBlcnJvcnNEZXNjKSkge1xuICAgIGVycm9ycyA9IGVycm9yc0Rlc2MudmFsdWU7XG4gIH1cblxuICBjb25zdCBlcnJDb25zdHJ1Y3RvciA9IGdldEVycm9yQ29uc3RydWN0b3IoYCR7bmFtZX1gKSB8fCBFcnJvcjtcbiAgY29uc3QgbmV3RXJyb3IgPSBtYWtlRXJyb3IoYCR7bWVzc2FnZX1gLCBlcnJDb25zdHJ1Y3Rvciwge1xuICAgIC8vXG4gICAgY2F1c2UsXG4gICAgZXJyb3JzLFxuICB9KTtcbiAgLy9cbiAgaGFyZGVuKG5ld0Vycm9yKTtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgYW5ub3RhdGVFcnJvcihuZXdFcnJvciwgWGBjb3BpZWQgZnJvbSBlcnJvciAke2Vycn1gKTtcbiAgcGFzc1N0eWxlT2YobmV3RXJyb3IpID09PSAnZXJyb3InIHx8XG4gICAgRmFpbGBFeHBlY3RlZCAke25ld0Vycm9yfSB0byBiZSBhIHBhc3NhYmxlIGVycm9yYDtcbiAgcmV0dXJuIG5ld0Vycm9yO1xufTskaM2PX29uY2UudG9QYXNzYWJsZUVycm9yKHRvUGFzc2FibGVFcnJvcik7XG5oYXJkZW4odG9QYXNzYWJsZUVycm9yKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHRvVGhyb3dhYmxlID0gc3BlY2ltZW4gPT4ge1xuICBoYXJkZW4oc3BlY2ltZW4pO1xuICBpZiAoaXNFcnJvckxpa2Uoc3BlY2ltZW4pKSB7XG4gICAgcmV0dXJuIHRvUGFzc2FibGVFcnJvcigvKiAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pKTtcbiAgfVxuICAvL1xuICAvL1xuICAvL1xuICBjb25zdCBwYXNzU3R5bGUgPSBwYXNzU3R5bGVPZihzcGVjaW1lbik7XG4gIGlmIChpc09iamVjdChzcGVjaW1lbikpIHtcbiAgICBzd2l0Y2ggKHBhc3NTdHlsZSkge1xuICAgICAgY2FzZSAnY29weUFycmF5Jzoge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IC8qICAgICAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pO1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICBlbGVtZW50ID09PSB0b1Rocm93YWJsZShlbGVtZW50KSB8fFxuICAgICAgICAgICAgRmFpbGBuZXN0ZWQgdG9UaHJvd2FibGUgY29lcmNpb24gbm90IHlldCBzdXBwb3J0ZWQgJHtlbGVtZW50fWA7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5UmVjb3JkJzoge1xuICAgICAgICBjb25zdCByZWMgPSAvKiAgICAgICAgICAgICAgICAgICAgICovIChzcGVjaW1lbik7XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHZhbHVlcyhyZWMpKSB7XG4gICAgICAgICAgdmFsID09PSB0b1Rocm93YWJsZSh2YWwpIHx8XG4gICAgICAgICAgICBGYWlsYG5lc3RlZCB0b1Rocm93YWJsZSBjb2VyY2lvbiBub3QgeWV0IHN1cHBvcnRlZCAke3ZhbH1gO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAndGFnZ2VkJzoge1xuICAgICAgICBjb25zdCB0ZyA9IC8qICAgICAgICAgICAgICAgICAgICAgKi8gKHNwZWNpbWVuKTtcbiAgICAgICAgY29uc3QgeyBwYXlsb2FkIH0gPSB0ZztcbiAgICAgICAgcGF5bG9hZCA9PT0gdG9UaHJvd2FibGUocGF5bG9hZCkgfHxcbiAgICAgICAgICBGYWlsYG5lc3RlZCB0b1Rocm93YWJsZSBjb2VyY2lvbiBub3QgeWV0IHN1cHBvcnRlZCAke3BheWxvYWR9YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgY29uc3QgZXIgPSAvKiAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pO1xuICAgICAgICBlciA9PT0gdG9UaHJvd2FibGUoZXIpIHx8XG4gICAgICAgICAgRmFpbGBuZXN0ZWQgdG9UaHJvd2FibGUgY29lcmNpb24gbm90IHlldCBzdXBwb3J0ZWQgJHtlcn1gO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgRmFpbGBBICR7cShwYXNzU3R5bGUpfSBpcyBub3QgdGhyb3dhYmxlOiAke3NwZWNpbWVufWA7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKHNwZWNpbWVuKTtcbn07JGjNj19vbmNlLnRvVGhyb3dhYmxlKHRvVGhyb3dhYmxlKTtcbmhhcmRlbih0b1Rocm93YWJsZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJQYXNzU3R5bGVPZkVuZG93bWVudFN5bWJvbCI6WyJQYXNzU3R5bGVPZkVuZG93bWVudFN5bWJvbCJdLCJwYXNzU3R5bGVPZiI6WyJwYXNzU3R5bGVPZiJdLCJhc3NlcnRQYXNzYWJsZSI6WyJhc3NlcnRQYXNzYWJsZSJdLCJpc1Bhc3NhYmxlIjpbImlzUGFzc2FibGUiXSwidG9QYXNzYWJsZUVycm9yIjpbInRvUGFzc2FibGVFcnJvciJdLCJ0b1Rocm93YWJsZSI6WyJ0b1Rocm93YWJsZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAADgSdHrhwAAK4cAAAoAAAAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL3JlbW90YWJsZS5qc3siaW1wb3J0cyI6WyJAZW5kby9lcnJvcnMiLCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzIl0sImV4cG9ydHMiOlsiUmVtb3RhYmxlSGVscGVyIiwiYXNzZXJ0SWZhY2UiLCJnZXRJbnRlcmZhY2VPZiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwscSxhc3NlcnRDaGVja2VyLGNhbkJlTWV0aG9kLGhhc093blByb3BlcnR5T2YsUEFTU19TVFlMRSxjaGVja1RhZ1JlY29yZCxjaGVja0Z1bmN0aW9uVGFnUmVjb3JkLGlzT2JqZWN0LGdldFRhZyxDWDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXSxbXCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzXCIsIFtbXCJhc3NlcnRDaGVja2VyXCIsWyRozY9fYSA9PiAoYXNzZXJ0Q2hlY2tlciA9ICRozY9fYSldXSxbXCJjYW5CZU1ldGhvZFwiLFskaM2PX2EgPT4gKGNhbkJlTWV0aG9kID0gJGjNj19hKV1dLFtcImhhc093blByb3BlcnR5T2ZcIixbJGjNj19hID0+IChoYXNPd25Qcm9wZXJ0eU9mID0gJGjNj19hKV1dLFtcIlBBU1NfU1RZTEVcIixbJGjNj19hID0+IChQQVNTX1NUWUxFID0gJGjNj19hKV1dLFtcImNoZWNrVGFnUmVjb3JkXCIsWyRozY9fYSA9PiAoY2hlY2tUYWdSZWNvcmQgPSAkaM2PX2EpXV0sW1wiY2hlY2tGdW5jdGlvblRhZ1JlY29yZFwiLFskaM2PX2EgPT4gKGNoZWNrRnVuY3Rpb25UYWdSZWNvcmQgPSAkaM2PX2EpXV0sW1wiaXNPYmplY3RcIixbJGjNj19hID0+IChpc09iamVjdCA9ICRozY9fYSldXSxbXCJnZXRUYWdcIixbJGjNj19hID0+IChnZXRUYWcgPSAkaM2PX2EpXV0sW1wiQ1hcIixbJGjNj19hID0+IChDWCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLypcblxuXG5cblxuICovXG5cbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcbmNvbnN0IHsgaXNBcnJheSB9ID0gQXJyYXk7XG5jb25zdCB7XG4gIGdldFByb3RvdHlwZU9mLFxuICBpc0Zyb3plbixcbiAgcHJvdG90eXBlOiBvYmplY3RQcm90b3R5cGUsXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsXG59ID0gT2JqZWN0O1xuXG4vKlxuXG5cbiAqL1xuY29uc3QgY2hlY2tJZmFjZSA9IChpZmFjZSwgY2hlY2spID0+IHtcbiAgcmV0dXJuIChcbiAgICAvL1xuICAgICh0eXBlb2YgaWZhY2UgPT09ICdzdHJpbmcnIHx8XG4gICAgICAoISFjaGVjayAmJlxuICAgICAgICBDWChcbiAgICAgICAgICBjaGVjayxcbiAgICAgICAgKWBGb3Igbm93LCBpbnRlcmZhY2UgJHtpZmFjZX0gbXVzdCBiZSBhIHN0cmluZzsgdW5pbXBsZW1lbnRlZGApKSAmJlxuICAgIChpZmFjZSA9PT0gJ1JlbW90YWJsZScgfHxcbiAgICAgIGlmYWNlLnN0YXJ0c1dpdGgoJ0FsbGVnZWQ6ICcpIHx8XG4gICAgICBpZmFjZS5zdGFydHNXaXRoKCdEZWJ1Z05hbWU6ICcpIHx8XG4gICAgICAoISFjaGVjayAmJlxuICAgICAgICBDWChjaGVjaylgRm9yIG5vdywgaWZhY2UgJHtxKFxuICAgICAgICAgIGlmYWNlLFxuICAgICAgICApfSBtdXN0IGJlIFwiUmVtb3RhYmxlXCIgb3IgYmVnaW4gd2l0aCBcIkFsbGVnZWQ6IFwiIG9yIFwiRGVidWdOYW1lOiBcIjsgdW5pbXBsZW1lbnRlZGApKVxuICApO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBhc3NlcnRJZmFjZSA9IGlmYWNlID0+IGNoZWNrSWZhY2UoaWZhY2UsIGFzc2VydENoZWNrZXIpOyRozY9fb25jZS5hc3NlcnRJZmFjZShhc3NlcnRJZmFjZSk7XG5oYXJkZW4oYXNzZXJ0SWZhY2UpO1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBjaGVja1JlbW90YWJsZVByb3RvT2YgPSAob3JpZ2luYWwsIGNoZWNrKSA9PiB7XG4gIGlzT2JqZWN0KG9yaWdpbmFsKSB8fFxuICAgIEZhaWxgUmVtb3RhYmxlcyBtdXN0IGJlIG9iamVjdHMgb3IgZnVuY3Rpb25zOiAke29yaWdpbmFsfWA7XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgcHJvdG8gPSBnZXRQcm90b3R5cGVPZihvcmlnaW5hbCk7XG4gIGlmIChcbiAgICBwcm90byA9PT0gb2JqZWN0UHJvdG90eXBlIHx8XG4gICAgcHJvdG8gPT09IG51bGwgfHxcbiAgICBwcm90byA9PT0gRnVuY3Rpb24ucHJvdG90eXBlXG4gICkge1xuICAgIHJldHVybiAoXG4gICAgICAhIWNoZWNrICYmXG4gICAgICBDWChjaGVjaylgUmVtb3RhYmxlcyBtdXN0IGJlIGV4cGxpY2l0bHkgZGVjbGFyZWQ6ICR7cShvcmlnaW5hbCl9YFxuICAgICk7XG4gIH1cblxuICBpZiAodHlwZW9mIG9yaWdpbmFsID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IHByb3RvUHJvdG8gPSBnZXRQcm90b3R5cGVPZihwcm90byk7XG4gICAgaWYgKHByb3RvUHJvdG8gIT09IG9iamVjdFByb3RvdHlwZSAmJiBwcm90b1Byb3RvICE9PSBudWxsKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGNoZWNrUmVtb3RhYmxlKHByb3RvLCBjaGVjayk7XG4gICAgfVxuICAgIGlmICghY2hlY2tUYWdSZWNvcmQocHJvdG8sICdyZW1vdGFibGUnLCBjaGVjaykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9yaWdpbmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKCFjaGVja0Z1bmN0aW9uVGFnUmVjb3JkKHByb3RvLCAncmVtb3RhYmxlJywgY2hlY2spKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy9cbiAgY29uc3QgcGFzc1N0eWxlS2V5ID0gLyogICAgICAgICAgICAgICAgICAqLyAoUEFTU19TVFlMRSk7XG4gIGNvbnN0IHRhZ0tleSA9IC8qICAgICAgICAgICAgICAgICAgKi8gKFN5bWJvbC50b1N0cmluZ1RhZyk7XG4gIGNvbnN0IHtcbiAgICAvL1xuICAgIFsvKiAgICAgICAgICAgICAgICAgKi8gKHBhc3NTdHlsZUtleSldOiBfcGFzc1N0eWxlRGVzYyxcbiAgICBbLyogICAgICAgICAgICAgICAgICovICh0YWdLZXkpXTogeyB2YWx1ZTogaWZhY2UgfSxcbiAgICAuLi5yZXN0RGVzY3NcbiAgfSA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocHJvdG8pO1xuXG4gIHJldHVybiAoXG4gICAgKG93bktleXMocmVzdERlc2NzKS5sZW5ndGggPT09IDAgfHxcbiAgICAgICghIWNoZWNrICYmXG4gICAgICAgIENYKFxuICAgICAgICAgIGNoZWNrLFxuICAgICAgICApYFVuZXhwZWN0ZWQgcHJvcGVydGllcyBvbiBSZW1vdGFibGUgUHJvdG8gJHtvd25LZXlzKHJlc3REZXNjcyl9YCkpICYmXG4gICAgY2hlY2tJZmFjZShpZmFjZSwgY2hlY2spXG4gICk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGNvbmZpcm1lZFJlbW90YWJsZXMgPSBuZXcgV2Vha1NldCgpO1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBjaGVja1JlbW90YWJsZSA9ICh2YWwsIGNoZWNrKSA9PiB7XG4gIGlmIChjb25maXJtZWRSZW1vdGFibGVzLmhhcyh2YWwpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFpc0Zyb3plbih2YWwpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICEhY2hlY2sgJiYgQ1goY2hlY2spYGNhbm5vdCBzZXJpYWxpemUgbm9uLWZyb3plbiBvYmplY3RzIGxpa2UgJHt2YWx9YFxuICAgICk7XG4gIH1cbiAgLy9cbiAgaWYgKCFSZW1vdGFibGVIZWxwZXIuY2FuQmVWYWxpZCh2YWwsIGNoZWNrKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSBjaGVja1JlbW90YWJsZVByb3RvT2YodmFsLCBjaGVjayk7XG4gIGlmIChyZXN1bHQpIHtcbiAgICBjb25maXJtZWRSZW1vdGFibGVzLmFkZCh2YWwpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRJbnRlcmZhY2VPZiA9IHZhbCA9PiB7XG4gIGlmIChcbiAgICAhaXNPYmplY3QodmFsKSB8fFxuICAgIHZhbFtQQVNTX1NUWUxFXSAhPT0gJ3JlbW90YWJsZScgfHxcbiAgICAhY2hlY2tSZW1vdGFibGUodmFsKVxuICApIHtcbiAgICAvL1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgLy9cbiAgcmV0dXJuIGdldFRhZyh2YWwpO1xufTskaM2PX29uY2UuZ2V0SW50ZXJmYWNlT2YoZ2V0SW50ZXJmYWNlT2YpO1xuaGFyZGVuKGdldEludGVyZmFjZU9mKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBSZW1vdGFibGVIZWxwZXIgPSBoYXJkZW4oe1xuICBzdHlsZU5hbWU6ICdyZW1vdGFibGUnLFxuXG4gIGNhbkJlVmFsaWQ6IChjYW5kaWRhdGUsIGNoZWNrID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgY29uc3QgdmFsaWRUeXBlID1cbiAgICAgIChpc09iamVjdChjYW5kaWRhdGUpIHx8XG4gICAgICAgICghIWNoZWNrICYmXG4gICAgICAgICAgQ1goY2hlY2spYGNhbm5vdCBzZXJpYWxpemUgbm9uLW9iamVjdHMgYXMgUmVtb3RhYmxlICR7Y2FuZGlkYXRlfWApKSAmJlxuICAgICAgKCFpc0FycmF5KGNhbmRpZGF0ZSkgfHxcbiAgICAgICAgKCEhY2hlY2sgJiZcbiAgICAgICAgICBDWChjaGVjaylgY2Fubm90IHNlcmlhbGl6ZSBhcnJheXMgYXMgUmVtb3RhYmxlICR7Y2FuZGlkYXRlfWApKTtcbiAgICBpZiAoIXZhbGlkVHlwZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGRlc2NzID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhjYW5kaWRhdGUpO1xuICAgIGlmICh0eXBlb2YgY2FuZGlkYXRlID09PSAnb2JqZWN0Jykge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm4gb3duS2V5cyhkZXNjcykuZXZlcnkoa2V5ID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAvL1xuICAgICAgICAgIChoYXNPd25Qcm9wZXJ0eU9mKGRlc2NzWy8qICAgICAgICAgICAgICAgICAqLyAoa2V5KV0sICd2YWx1ZScpIHx8XG4gICAgICAgICAgICAoISFjaGVjayAmJlxuICAgICAgICAgICAgICBDWChjaGVjaylgY2Fubm90IHNlcmlhbGl6ZSBSZW1vdGFibGVzIHdpdGggYWNjZXNzb3JzIGxpa2UgJHtxKFxuICAgICAgICAgICAgICAgIFN0cmluZyhrZXkpLFxuICAgICAgICAgICAgICApfSBpbiAke2NhbmRpZGF0ZX1gKSkgJiZcbiAgICAgICAgICAoKGtleSA9PT0gU3ltYm9sLnRvU3RyaW5nVGFnICYmIGNoZWNrSWZhY2UoY2FuZGlkYXRlW2tleV0sIGNoZWNrKSkgfHxcbiAgICAgICAgICAgICgoY2FuQmVNZXRob2QoY2FuZGlkYXRlW2tleV0pIHx8XG4gICAgICAgICAgICAgICghIWNoZWNrICYmXG4gICAgICAgICAgICAgICAgQ1goY2hlY2spYGNhbm5vdCBzZXJpYWxpemUgUmVtb3RhYmxlcyB3aXRoIG5vbi1tZXRob2RzIGxpa2UgJHtxKFxuICAgICAgICAgICAgICAgICAgU3RyaW5nKGtleSksXG4gICAgICAgICAgICAgICAgKX0gaW4gJHtjYW5kaWRhdGV9YCkpICYmXG4gICAgICAgICAgICAgIChrZXkgIT09IFBBU1NfU1RZTEUgfHxcbiAgICAgICAgICAgICAgICAoISFjaGVjayAmJlxuICAgICAgICAgICAgICAgICAgQ1goY2hlY2spYEEgcGFzcy1ieS1yZW1vdGUgY2Fubm90IHNoYWRvdyAke3EoUEFTU19TVFlMRSl9YCkpKSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhbmRpZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCB7XG4gICAgICAgIG5hbWU6IG5hbWVEZXNjLFxuICAgICAgICBsZW5ndGg6IGxlbmd0aERlc2MsXG4gICAgICAgIC8vXG4gICAgICAgIFtTeW1ib2wudG9TdHJpbmdUYWddOiB0b1N0cmluZ1RhZ0Rlc2MsXG4gICAgICAgIC4uLnJlc3REZXNjc1xuICAgICAgfSA9IGRlc2NzO1xuICAgICAgY29uc3QgcmVzdEtleXMgPSBvd25LZXlzKHJlc3REZXNjcyk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAoKG5hbWVEZXNjICYmIHR5cGVvZiBuYW1lRGVzYy52YWx1ZSA9PT0gJ3N0cmluZycpIHx8XG4gICAgICAgICAgKCEhY2hlY2sgJiZcbiAgICAgICAgICAgIENYKGNoZWNrKWBGYXIgZnVuY3Rpb24gbmFtZSBtdXN0IGJlIGEgc3RyaW5nLCBpbiAke2NhbmRpZGF0ZX1gKSkgJiZcbiAgICAgICAgKChsZW5ndGhEZXNjICYmIHR5cGVvZiBsZW5ndGhEZXNjLnZhbHVlID09PSAnbnVtYmVyJykgfHxcbiAgICAgICAgICAoISFjaGVjayAmJlxuICAgICAgICAgICAgQ1goXG4gICAgICAgICAgICAgIGNoZWNrLFxuICAgICAgICAgICAgKWBGYXIgZnVuY3Rpb24gbGVuZ3RoIG11c3QgYmUgYSBudW1iZXIsIGluICR7Y2FuZGlkYXRlfWApKSAmJlxuICAgICAgICAodG9TdHJpbmdUYWdEZXNjID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoKHR5cGVvZiB0b1N0cmluZ1RhZ0Rlc2MudmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoISFjaGVjayAmJlxuICAgICAgICAgICAgICBDWChcbiAgICAgICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICAgICAgKWBGYXIgZnVuY3Rpb24gQEB0b1N0cmluZ1RhZyBtdXN0IGJlIGEgc3RyaW5nLCBpbiAke2NhbmRpZGF0ZX1gKSkgJiZcbiAgICAgICAgICAgIGNoZWNrSWZhY2UodG9TdHJpbmdUYWdEZXNjLnZhbHVlLCBjaGVjaykpKSAmJlxuICAgICAgICAocmVzdEtleXMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgKCEhY2hlY2sgJiZcbiAgICAgICAgICAgIENYKFxuICAgICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICAgIClgRmFyIGZ1bmN0aW9ucyB1bmV4cGVjdGVkIHByb3BlcnRpZXMgYmVzaWRlcyAubmFtZSBhbmQgLmxlbmd0aCAke3Jlc3RLZXlzfWApKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuICEhY2hlY2sgJiYgQ1goY2hlY2spYHVucmVjb2duaXplZCB0eXBlb2YgJHtjYW5kaWRhdGV9YDtcbiAgfSxcblxuICBhc3NlcnRSZXN0VmFsaWQ6IGNhbmRpZGF0ZSA9PiBjaGVja1JlbW90YWJsZShjYW5kaWRhdGUsIGFzc2VydENoZWNrZXIpLFxuXG4gIGV2ZXJ5OiAoX3Bhc3NhYmxlLCBfZm4pID0+IHRydWUsXG59KTskaM2PX29uY2UuUmVtb3RhYmxlSGVscGVyKFJlbW90YWJsZUhlbHBlcik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJhc3NlcnRJZmFjZSI6WyJhc3NlcnRJZmFjZSJdLCJnZXRJbnRlcmZhY2VPZiI6WyJnZXRJbnRlcmZhY2VPZiJdLCJSZW1vdGFibGVIZWxwZXIiOlsiUmVtb3RhYmxlSGVscGVyIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAMeMfzh6DgAAeg4AACsAAABAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvc2FmZS1wcm9taXNlLmpzeyJpbXBvcnRzIjpbIkBlbmRvL3Byb21pc2Uta2l0IiwiQGVuZG8vZXJyb3JzIiwiLi9wYXNzU3R5bGUtaGVscGVycy5qcyJdLCJleHBvcnRzIjpbImFzc2VydFNhZmVQcm9taXNlIiwiaXNTYWZlUHJvbWlzZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGlzUHJvbWlzZSxxLGFzc2VydENoZWNrZXIsaGFzT3duUHJvcGVydHlPZixDWDskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL3Byb21pc2Uta2l0XCIsIFtbXCJpc1Byb21pc2VcIixbJGjNj19hID0+IChpc1Byb21pc2UgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiLi9wYXNzU3R5bGUtaGVscGVycy5qc1wiLCBbW1wiYXNzZXJ0Q2hlY2tlclwiLFskaM2PX2EgPT4gKGFzc2VydENoZWNrZXIgPSAkaM2PX2EpXV0sW1wiaGFzT3duUHJvcGVydHlPZlwiLFskaM2PX2EgPT4gKGhhc093blByb3BlcnR5T2YgPSAkaM2PX2EpXV0sW1wiQ1hcIixbJGjNj19hID0+IChDWCA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbmNvbnN0IHsgaXNGcm96ZW4sIGdldFByb3RvdHlwZU9mLCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgfSA9IE9iamVjdDtcbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcbmNvbnN0IHsgdG9TdHJpbmdUYWcgfSA9IFN5bWJvbDtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgY2hlY2tQcm9taXNlT3duS2V5cyA9IChwciwgY2hlY2spID0+IHtcbiAgY29uc3Qga2V5cyA9IG93bktleXMocHIpO1xuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgdW5rbm93bktleXMgPSBrZXlzLmZpbHRlcihcbiAgICBrZXkgPT4gdHlwZW9mIGtleSAhPT0gJ3N5bWJvbCcgfHwgIWhhc093blByb3BlcnR5T2YoUHJvbWlzZS5wcm90b3R5cGUsIGtleSksXG4gICk7XG5cbiAgaWYgKHVua25vd25LZXlzLmxlbmd0aCAhPT0gMCkge1xuICAgIHJldHVybiBDWChcbiAgICAgIGNoZWNrLFxuICAgIClgJHtwcn0gLSBNdXN0IG5vdCBoYXZlIGFueSBvd24gcHJvcGVydGllczogJHtxKHVua25vd25LZXlzKX1gO1xuICB9XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgY2hlY2tTYWZlT3duS2V5ID0ga2V5ID0+IHtcbiAgICBpZiAoa2V5ID09PSB0b1N0cmluZ1RhZykge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjb25zdCB0YWdEZXNjID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByLCB0b1N0cmluZ1RhZyk7XG4gICAgICBhc3NlcnQodGFnRGVzYyAhPT0gdW5kZWZpbmVkKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIChoYXNPd25Qcm9wZXJ0eU9mKHRhZ0Rlc2MsICd2YWx1ZScpIHx8XG4gICAgICAgICAgQ1goXG4gICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICApYE93biBAQHRvU3RyaW5nVGFnIG11c3QgYmUgYSBkYXRhIHByb3BlcnR5LCBub3QgYW4gYWNjZXNzb3I6ICR7cSh0YWdEZXNjKX1gKSAmJlxuICAgICAgICAodHlwZW9mIHRhZ0Rlc2MudmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgQ1goXG4gICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICApYE93biBAQHRvU3RyaW5nVGFnIHZhbHVlIG11c3QgYmUgYSBzdHJpbmc6ICR7cSh0YWdEZXNjLnZhbHVlKX1gKSAmJlxuICAgICAgICAoIXRhZ0Rlc2MuZW51bWVyYWJsZSB8fFxuICAgICAgICAgIENYKGNoZWNrKWBPd24gQEB0b1N0cmluZ1RhZyBtdXN0IG5vdCBiZSBlbnVtZXJhYmxlOiAke3EodGFnRGVzYyl9YClcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHZhbCA9IHByW2tleV07XG4gICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIHZhbCAhPT0gbnVsbCAmJlxuICAgICAgaXNGcm96ZW4odmFsKSAmJlxuICAgICAgZ2V0UHJvdG90eXBlT2YodmFsKSA9PT0gT2JqZWN0LnByb3RvdHlwZVxuICAgICkge1xuICAgICAgY29uc3Qgc3ViS2V5cyA9IG93bktleXModmFsKTtcbiAgICAgIGlmIChzdWJLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBzdWJLZXlzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICBzdWJLZXlzWzBdID09PSAnZGVzdHJveWVkJyAmJlxuICAgICAgICB2YWwuZGVzdHJveWVkID09PSBmYWxzZVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQ1goXG4gICAgICBjaGVjayxcbiAgICApYFVuZXhwZWN0ZWQgTm9kZSBhc3luY19ob29rcyBhZGRpdGlvbnMgdG8gcHJvbWlzZTogJHtwcn0uJHtxKFxuICAgICAgU3RyaW5nKGtleSksXG4gICAgKX0gaXMgJHt2YWx9YDtcbiAgfTtcblxuICByZXR1cm4ga2V5cy5ldmVyeShjaGVja1NhZmVPd25LZXkpO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGNoZWNrU2FmZVByb21pc2UgPSAocHIsIGNoZWNrKSA9PiB7XG4gIHJldHVybiAoXG4gICAgKGlzRnJvemVuKHByKSB8fCBDWChjaGVjaylgJHtwcn0gLSBNdXN0IGJlIGZyb3plbmApICYmXG4gICAgKGlzUHJvbWlzZShwcikgfHwgQ1goY2hlY2spYCR7cHJ9IC0gTXVzdCBiZSBhIHByb21pc2VgKSAmJlxuICAgIChnZXRQcm90b3R5cGVPZihwcikgPT09IFByb21pc2UucHJvdG90eXBlIHx8XG4gICAgICBDWChjaGVjaylgJHtwcn0gLSBNdXN0IGluaGVyaXQgZnJvbSBQcm9taXNlLnByb3RvdHlwZTogJHtxKFxuICAgICAgICBnZXRQcm90b3R5cGVPZihwciksXG4gICAgICApfWApICYmXG4gICAgY2hlY2tQcm9taXNlT3duS2V5cygvKiAgICAgICAgICAgICAgICAgICovIChwciksIGNoZWNrKVxuICApO1xufTtcbmhhcmRlbihjaGVja1NhZmVQcm9taXNlKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNTYWZlUHJvbWlzZSA9IHByID0+IGNoZWNrU2FmZVByb21pc2UocHIsIHggPT4geCk7JGjNj19vbmNlLmlzU2FmZVByb21pc2UoaXNTYWZlUHJvbWlzZSk7XG5oYXJkZW4oaXNTYWZlUHJvbWlzZSk7XG5cbiAgICAgICBjb25zdCBhc3NlcnRTYWZlUHJvbWlzZSA9IHByID0+IGNoZWNrU2FmZVByb21pc2UocHIsIGFzc2VydENoZWNrZXIpOyRozY9fb25jZS5hc3NlcnRTYWZlUHJvbWlzZShhc3NlcnRTYWZlUHJvbWlzZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJpc1NhZmVQcm9taXNlIjpbImlzU2FmZVByb21pc2UiXSwiYXNzZXJ0U2FmZVByb21pc2UiOlsiYXNzZXJ0U2FmZVByb21pc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAuj7NoXkIAAB5CAAAJQAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9zdHJpbmcuanN7ImltcG9ydHMiOlsiQGVuZG8vZW52LW9wdGlvbnMiLCJAZW5kby9lcnJvcnMiXSwiZXhwb3J0cyI6WyJhc3NlcnRQYXNzYWJsZVN0cmluZyIsImFzc2VydFdlbGxGb3JtZWRTdHJpbmciLCJpc1dlbGxGb3JtZWRTdHJpbmciXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBnZXRFbnZpcm9ubWVudE9wdGlvbixGYWlsOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vZW52LW9wdGlvbnNcIiwgW1tcImdldEVudmlyb25tZW50T3B0aW9uXCIsWyRozY9fYSA9PiAoZ2V0RW52aXJvbm1lbnRPcHRpb24gPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dXV1dKTtcblxuXG4vL1xuY29uc3QgaGFzV2VsbEZvcm1lZFN0cmluZ01ldGhvZCA9ICEhU3RyaW5nLnByb3RvdHlwZS5pc1dlbGxGb3JtZWQ7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNXZWxsRm9ybWVkU3RyaW5nID0gaGFzV2VsbEZvcm1lZFN0cmluZ01ldGhvZFxuICA/IHN0ciA9PiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyAmJiBzdHIuaXNXZWxsRm9ybWVkKClcbiAgOiBzdHIgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgY2ggb2Ygc3RyKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IGNwID0gLyogICAgICAgICAgICAgICAgICovIChjaC5jb2RlUG9pbnRBdCgwKSk7XG4gICAgICAgIGlmIChjcCA+PSAweGQ4MDAgJiYgY3AgPD0gMHhkZmZmKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9OyRozY9fb25jZS5pc1dlbGxGb3JtZWRTdHJpbmcoaXNXZWxsRm9ybWVkU3RyaW5nKTtcbmhhcmRlbihpc1dlbGxGb3JtZWRTdHJpbmcpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydFdlbGxGb3JtZWRTdHJpbmcgPSBzdHIgPT4ge1xuICBpc1dlbGxGb3JtZWRTdHJpbmcoc3RyKSB8fCBGYWlsYEV4cGVjdGVkIHdlbGwtZm9ybWVkIHVuaWNvZGUgc3RyaW5nOiAke3N0cn1gO1xufTskaM2PX29uY2UuYXNzZXJ0V2VsbEZvcm1lZFN0cmluZyhhc3NlcnRXZWxsRm9ybWVkU3RyaW5nKTtcbmhhcmRlbihhc3NlcnRXZWxsRm9ybWVkU3RyaW5nKTtcblxuY29uc3QgT05MWV9XRUxMX0ZPUk1FRF9TVFJJTkdTX1BBU1NBQkxFID1cbiAgZ2V0RW52aXJvbm1lbnRPcHRpb24oJ09OTFlfV0VMTF9GT1JNRURfU1RSSU5HU19QQVNTQUJMRScsICdkaXNhYmxlZCcsIFtcbiAgICAnZW5hYmxlZCcsXG4gIF0pID09PSAnZW5hYmxlZCc7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBhc3NlcnRQYXNzYWJsZVN0cmluZyA9IHN0ciA9PiB7XG4gIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnIHx8IEZhaWxgRXhwZWN0ZWQgc3RyaW5nICR7c3RyfWA7XG4gICFPTkxZX1dFTExfRk9STUVEX1NUUklOR1NfUEFTU0FCTEUgfHwgYXNzZXJ0V2VsbEZvcm1lZFN0cmluZyhzdHIpO1xufTskaM2PX29uY2UuYXNzZXJ0UGFzc2FibGVTdHJpbmcoYXNzZXJ0UGFzc2FibGVTdHJpbmcpO1xuaGFyZGVuKGFzc2VydFBhc3NhYmxlU3RyaW5nKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImlzV2VsbEZvcm1lZFN0cmluZyI6WyJpc1dlbGxGb3JtZWRTdHJpbmciXSwiYXNzZXJ0V2VsbEZvcm1lZFN0cmluZyI6WyJhc3NlcnRXZWxsRm9ybWVkU3RyaW5nIl0sImFzc2VydFBhc3NhYmxlU3RyaW5nIjpbImFzc2VydFBhc3NhYmxlU3RyaW5nIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAB0bVHblCgAA5QoAACUAAABAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvc3ltYm9sLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyJdLCJleHBvcnRzIjpbImFzc2VydFBhc3NhYmxlU3ltYm9sIiwiaXNQYXNzYWJsZVN5bWJvbCIsIm5hbWVGb3JQYXNzYWJsZVN5bWJvbCIsInBhc3NhYmxlU3ltYm9sRm9yTmFtZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEZhaWwscTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV1dXV0pO1xuXG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5cbi8qXG5cbiAqL1xuY29uc3Qgd2VsbEtub3duU3ltYm9sTmFtZXMgPSBuZXcgTWFwKFxuICBvd25LZXlzKFN5bWJvbClcbiAgICAuZmlsdGVyKFxuICAgICAgbmFtZSA9PiB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIFN5bWJvbFtuYW1lXSA9PT0gJ3N5bWJvbCcsXG4gICAgKVxuICAgIC5maWx0ZXIobmFtZSA9PiB7XG4gICAgICAvL1xuICAgICAgIW5hbWUuc3RhcnRzV2l0aCgnQEAnKSB8fFxuICAgICAgICBGYWlsYERpZCBub3QgZXhwZWN0IFN5bWJvbCB0byBoYXZlIGEgc3ltYm9sLXZhbHVlZCBwcm9wZXJ0eSBuYW1lIHN0YXJ0aW5nIHdpdGggXCJAQFwiICR7cShcbiAgICAgICAgICBuYW1lLFxuICAgICAgICApfWA7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KVxuICAgIC8vXG4gICAgLm1hcChuYW1lID0+IFtTeW1ib2xbbmFtZV0sIGBAQCR7bmFtZX1gXSksXG4pO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgaXNQYXNzYWJsZVN5bWJvbCA9IHN5bSA9PlxuICB0eXBlb2Ygc3ltID09PSAnc3ltYm9sJyAmJlxuICAodHlwZW9mIFN5bWJvbC5rZXlGb3Ioc3ltKSA9PT0gJ3N0cmluZycgfHwgd2VsbEtub3duU3ltYm9sTmFtZXMuaGFzKHN5bSkpOyRozY9fb25jZS5pc1Bhc3NhYmxlU3ltYm9sKGlzUGFzc2FibGVTeW1ib2wpO1xuaGFyZGVuKGlzUGFzc2FibGVTeW1ib2wpO1xuXG4gICAgICAgY29uc3QgYXNzZXJ0UGFzc2FibGVTeW1ib2wgPSBzeW0gPT5cbiAgaXNQYXNzYWJsZVN5bWJvbChzeW0pIHx8XG4gIEZhaWxgT25seSByZWdpc3RlcmVkIHN5bWJvbHMgb3Igd2VsbC1rbm93biBzeW1ib2xzIGFyZSBwYXNzYWJsZTogJHtxKHN5bSl9YDskaM2PX29uY2UuYXNzZXJ0UGFzc2FibGVTeW1ib2woYXNzZXJ0UGFzc2FibGVTeW1ib2wpO1xuaGFyZGVuKGFzc2VydFBhc3NhYmxlU3ltYm9sKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbmFtZUZvclBhc3NhYmxlU3ltYm9sID0gc3ltID0+IHtcbiAgY29uc3QgbmFtZSA9IFN5bWJvbC5rZXlGb3Ioc3ltKTtcbiAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB3ZWxsS25vd25TeW1ib2xOYW1lcy5nZXQoc3ltKTtcbiAgfVxuICBpZiAobmFtZS5zdGFydHNXaXRoKCdAQCcpKSB7XG4gICAgcmV0dXJuIGBAQCR7bmFtZX1gO1xuICB9XG4gIHJldHVybiBuYW1lO1xufTskaM2PX29uY2UubmFtZUZvclBhc3NhYmxlU3ltYm9sKG5hbWVGb3JQYXNzYWJsZVN5bWJvbCk7XG5oYXJkZW4obmFtZUZvclBhc3NhYmxlU3ltYm9sKTtcblxuY29uc3QgQXRBdFByZWZpeFBhdHRlcm4gPSAvXkBAKC4qKSQvO1xuaGFyZGVuKEF0QXRQcmVmaXhQYXR0ZXJuKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwYXNzYWJsZVN5bWJvbEZvck5hbWUgPSBuYW1lID0+IHtcbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgY29uc3QgbWF0Y2ggPSBBdEF0UHJlZml4UGF0dGVybi5leGVjKG5hbWUpO1xuICBpZiAobWF0Y2gpIHtcbiAgICBjb25zdCBzdWZmaXggPSBtYXRjaFsxXTtcbiAgICBpZiAoc3VmZml4LnN0YXJ0c1dpdGgoJ0BAJykpIHtcbiAgICAgIHJldHVybiBTeW1ib2wuZm9yKHN1ZmZpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN5bSA9IFN5bWJvbFtzdWZmaXhdO1xuICAgICAgaWYgKHR5cGVvZiBzeW0gPT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHJldHVybiBzeW07XG4gICAgICB9XG4gICAgICBGYWlsYFJlc2VydmVkIGZvciB3ZWxsIGtub3duIHN5bWJvbCAke3Eoc3VmZml4KX06ICR7cShuYW1lKX1gO1xuICAgIH1cbiAgfVxuICByZXR1cm4gU3ltYm9sLmZvcihuYW1lKTtcbn07JGjNj19vbmNlLnBhc3NhYmxlU3ltYm9sRm9yTmFtZShwYXNzYWJsZVN5bWJvbEZvck5hbWUpO1xuaGFyZGVuKHBhc3NhYmxlU3ltYm9sRm9yTmFtZSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJpc1Bhc3NhYmxlU3ltYm9sIjpbImlzUGFzc2FibGVTeW1ib2wiXSwiYXNzZXJ0UGFzc2FibGVTeW1ib2wiOlsiYXNzZXJ0UGFzc2FibGVTeW1ib2wiXSwibmFtZUZvclBhc3NhYmxlU3ltYm9sIjpbIm5hbWVGb3JQYXNzYWJsZVN5bWJvbCJdLCJwYXNzYWJsZVN5bWJvbEZvck5hbWUiOlsicGFzc2FibGVTeW1ib2xGb3JOYW1lIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAPLl8lDJBwAAyQcAACUAAABAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvdGFnZ2VkLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIi4vcGFzc1N0eWxlLWhlbHBlcnMuanMiXSwiZXhwb3J0cyI6WyJUYWdnZWRIZWxwZXIiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLGFzc2VydENoZWNrZXIsY2hlY2tUYWdSZWNvcmQsUEFTU19TVFlMRSxnZXRPd25EYXRhRGVzY3JpcHRvcixjaGVja1Bhc3NTdHlsZTskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCIuL3Bhc3NTdHlsZS1oZWxwZXJzLmpzXCIsIFtbXCJhc3NlcnRDaGVja2VyXCIsWyRozY9fYSA9PiAoYXNzZXJ0Q2hlY2tlciA9ICRozY9fYSldXSxbXCJjaGVja1RhZ1JlY29yZFwiLFskaM2PX2EgPT4gKGNoZWNrVGFnUmVjb3JkID0gJGjNj19hKV1dLFtcIlBBU1NfU1RZTEVcIixbJGjNj19hID0+IChQQVNTX1NUWUxFID0gJGjNj19hKV1dLFtcImdldE93bkRhdGFEZXNjcmlwdG9yXCIsWyRozY9fYSA9PiAoZ2V0T3duRGF0YURlc2NyaXB0b3IgPSAkaM2PX2EpXV0sW1wiY2hlY2tQYXNzU3R5bGVcIixbJGjNj19hID0+IChjaGVja1Bhc3NTdHlsZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cbiAqL1xuXG5jb25zdCB7IG93bktleXMgfSA9IFJlZmxlY3Q7XG5jb25zdCB7IGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgfSA9IE9iamVjdDtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBUYWdnZWRIZWxwZXIgPSBoYXJkZW4oe1xuICBzdHlsZU5hbWU6ICd0YWdnZWQnLFxuXG4gIGNhbkJlVmFsaWQ6IChjYW5kaWRhdGUsIGNoZWNrID0gdW5kZWZpbmVkKSA9PlxuICAgIGNoZWNrUGFzc1N0eWxlKGNhbmRpZGF0ZSwgY2FuZGlkYXRlW1BBU1NfU1RZTEVdLCAndGFnZ2VkJywgY2hlY2spLFxuXG4gIGFzc2VydFJlc3RWYWxpZDogKGNhbmRpZGF0ZSwgcGFzc1N0eWxlT2ZSZWN1cikgPT4ge1xuICAgIGNoZWNrVGFnUmVjb3JkKGNhbmRpZGF0ZSwgJ3RhZ2dlZCcsIGFzc2VydENoZWNrZXIpO1xuXG4gICAgLy9cbiAgICBjb25zdCBwYXNzU3R5bGVLZXkgPSAvKiAgICAgICAgICAgICAgICAgICovIChQQVNTX1NUWUxFKTtcbiAgICBjb25zdCB0YWdLZXkgPSAvKiAgICAgICAgICAgICAgICAgICovIChTeW1ib2wudG9TdHJpbmdUYWcpO1xuICAgIGNvbnN0IHtcbiAgICAgIC8vXG4gICAgICBbLyogICAgICAgICAgICAgICAgICovIChwYXNzU3R5bGVLZXkpXTogX3Bhc3NTdHlsZURlc2MsXG4gICAgICBbLyogICAgICAgICAgICAgICAgICovICh0YWdLZXkpXTogX2xhYmVsRGVzYyxcbiAgICAgIHBheWxvYWQ6IF9wYXlsb2FkRGVzYywgLy9cbiAgICAgIC4uLnJlc3REZXNjc1xuICAgIH0gPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGNhbmRpZGF0ZSk7XG4gICAgb3duS2V5cyhyZXN0RGVzY3MpLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgRmFpbGBVbmV4cGVjdGVkIHByb3BlcnRpZXMgb24gdGFnZ2VkIHJlY29yZCAke293bktleXMocmVzdERlc2NzKX1gO1xuXG4gICAgLy9cbiAgICAvL1xuICAgIHBhc3NTdHlsZU9mUmVjdXIoXG4gICAgICBnZXRPd25EYXRhRGVzY3JpcHRvcihjYW5kaWRhdGUsICdwYXlsb2FkJywgdHJ1ZSwgYXNzZXJ0Q2hlY2tlcikudmFsdWUsXG4gICAgKTtcbiAgfSxcbn0pOyRozY9fb25jZS5UYWdnZWRIZWxwZXIoVGFnZ2VkSGVscGVyKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7IlRhZ2dlZEhlbHBlciI6WyJUYWdnZWRIZWxwZXIiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA7twisGcJAABnCQAAKQAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy90eXBlR3VhcmRzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIi4vcGFzc1N0eWxlT2YuanMiXSwiZXhwb3J0cyI6WyJhc3NlcnRDb3B5QXJyYXkiLCJhc3NlcnRSZWNvcmQiLCJhc3NlcnRSZW1vdGFibGUiLCJpc0NvcHlBcnJheSIsImlzUmVjb3JkIiwiaXNSZW1vdGFibGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBGYWlsLHEscGFzc1N0eWxlT2Y7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9lcnJvcnNcIiwgW1tcIkZhaWxcIixbJGjNj19hID0+IChGYWlsID0gJGjNj19hKV1dLFtcInFcIixbJGjNj19hID0+IChxID0gJGjNj19hKV1dXV0sW1wiLi9wYXNzU3R5bGVPZi5qc1wiLCBbW1wicGFzc1N0eWxlT2ZcIixbJGjNj19hID0+IChwYXNzU3R5bGVPZiA9ICRozY9fYSldXV1dXSk7XG5cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IGlzQ29weUFycmF5ID0gYXJyID0+IHBhc3NTdHlsZU9mKGFycikgPT09ICdjb3B5QXJyYXknOyRozY9fb25jZS5pc0NvcHlBcnJheShpc0NvcHlBcnJheSk7XG5oYXJkZW4oaXNDb3B5QXJyYXkpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuY29uc3QgaXNSZWNvcmQgPSByZWNvcmQgPT4gcGFzc1N0eWxlT2YocmVjb3JkKSA9PT0gJ2NvcHlSZWNvcmQnOyRozY9fb25jZS5pc1JlY29yZChpc1JlY29yZCk7XG5oYXJkZW4oaXNSZWNvcmQpO1xuXG4vKlxuXG5cblxuXG4gKi9cbmNvbnN0IGlzUmVtb3RhYmxlID0gcmVtb3RhYmxlID0+IHBhc3NTdHlsZU9mKHJlbW90YWJsZSkgPT09ICdyZW1vdGFibGUnOyRozY9fb25jZS5pc1JlbW90YWJsZShpc1JlbW90YWJsZSk7XG5oYXJkZW4oaXNSZW1vdGFibGUpO1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBhc3NlcnRDb3B5QXJyYXkgPSAoYXJyLCBvcHROYW1lT2ZBcnJheSA9ICdBbGxlZ2VkIGFycmF5JykgPT4ge1xuICBjb25zdCBwYXNzU3R5bGUgPSBwYXNzU3R5bGVPZihhcnIpO1xuICBwYXNzU3R5bGUgPT09ICdjb3B5QXJyYXknIHx8XG4gICAgRmFpbGAke3Eob3B0TmFtZU9mQXJyYXkpfSAke2Fycn0gbXVzdCBiZSBhIHBhc3MtYnktY29weSBhcnJheSwgbm90ICR7cShcbiAgICAgIHBhc3NTdHlsZSxcbiAgICApfWA7XG59OyRozY9fb25jZS5hc3NlcnRDb3B5QXJyYXkoYXNzZXJ0Q29weUFycmF5KTtcbmhhcmRlbihhc3NlcnRDb3B5QXJyYXkpO1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBhc3NlcnRSZWNvcmQgPSAocmVjb3JkLCBvcHROYW1lT2ZSZWNvcmQgPSAnQWxsZWdlZCByZWNvcmQnKSA9PiB7XG4gIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHJlY29yZCk7XG4gIHBhc3NTdHlsZSA9PT0gJ2NvcHlSZWNvcmQnIHx8XG4gICAgRmFpbGAke3Eob3B0TmFtZU9mUmVjb3JkKX0gJHtyZWNvcmR9IG11c3QgYmUgYSBwYXNzLWJ5LWNvcHkgcmVjb3JkLCBub3QgJHtxKFxuICAgICAgcGFzc1N0eWxlLFxuICAgICl9YDtcbn07JGjNj19vbmNlLmFzc2VydFJlY29yZChhc3NlcnRSZWNvcmQpO1xuaGFyZGVuKGFzc2VydFJlY29yZCk7XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGFzc2VydFJlbW90YWJsZSA9IChcbiAgcmVtb3RhYmxlLFxuICBvcHROYW1lT2ZSZW1vdGFibGUgPSAnQWxsZWdlZCByZW1vdGFibGUnLFxuKSA9PiB7XG4gIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHJlbW90YWJsZSk7XG4gIHBhc3NTdHlsZSA9PT0gJ3JlbW90YWJsZScgfHxcbiAgICBGYWlsYCR7cShvcHROYW1lT2ZSZW1vdGFibGUpfSAke3JlbW90YWJsZX0gbXVzdCBiZSBhIHJlbW90YWJsZSwgbm90ICR7cShcbiAgICAgIHBhc3NTdHlsZSxcbiAgICApfWA7XG59OyRozY9fb25jZS5hc3NlcnRSZW1vdGFibGUoYXNzZXJ0UmVtb3RhYmxlKTtcbmhhcmRlbihhc3NlcnRSZW1vdGFibGUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiaXNDb3B5QXJyYXkiOlsiaXNDb3B5QXJyYXkiXSwiaXNSZWNvcmQiOlsiaXNSZWNvcmQiXSwiaXNSZW1vdGFibGUiOlsiaXNSZW1vdGFibGUiXSwiYXNzZXJ0Q29weUFycmF5IjpbImFzc2VydENvcHlBcnJheSJdLCJhc3NlcnRSZWNvcmQiOlsiYXNzZXJ0UmVjb3JkIl0sImFzc2VydFJlbW90YWJsZSI6WyJhc3NlcnRSZW1vdGFibGUiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAARcz/8VgBAABYAQAAJAAAAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy90eXBlcy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAB1TZLc7w4AAO8OAAAeAAAAQGVuZG8vcGF0dGVybnMtdjEuNS4wL2luZGV4LmpzeyJpbXBvcnRzIjpbIi4vc3JjL2tleXMvY2hlY2tLZXkuanMiLCIuL3NyYy9rZXlzL2NvcHlTZXQuanMiLCIuL3NyYy9rZXlzL2NvcHlCYWcuanMiLCIuL3NyYy9rZXlzL2NvbXBhcmVLZXlzLmpzIiwiLi9zcmMva2V5cy9tZXJnZS1zZXQtb3BlcmF0b3JzLmpzIiwiLi9zcmMva2V5cy9tZXJnZS1iYWctb3BlcmF0b3JzLmpzIiwiLi9zcmMvcGF0dGVybnMvcGF0dGVybk1hdGNoZXJzLmpzIiwiLi9zcmMvcGF0dGVybnMvZ2V0R3VhcmRQYXlsb2Fkcy5qcyIsIi4vc3JjL3R5cGVzLmpzIiwiQGVuZG8vY29tbW9uL2xpc3QtZGlmZmVyZW5jZS5qcyIsIkBlbmRvL2NvbW1vbi9vYmplY3QtbWFwLmpzIl0sImV4cG9ydHMiOlsiYXNzZXJ0S2V5IiwiYXNzZXJ0S2V5IiwiYmFnVW5pb24iLCJiYWdVbmlvbiIsImVsZW1lbnRzSXNEaXNqb2ludCIsImVsZW1lbnRzSXNEaXNqb2ludCIsImdldE1ldGhvZEd1YXJkUGF5bG9hZCIsImdldE1ldGhvZEd1YXJkUGF5bG9hZCIsImdldFJhbmtDb3ZlciIsImdldFJhbmtDb3ZlciIsInNldENvbXBhcmUiLCJzZXRDb21wYXJlIixudWxsLG51bGwsbnVsbCxudWxsXSwicmVleHBvcnRzIjpbIi4vc3JjL3R5cGVzLmpzIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIi4vc3JjL2tleXMvY2hlY2tLZXkuanNcIiwgW11dLFtcIi4vc3JjL2tleXMvY29weVNldC5qc1wiLCBbXV0sW1wiLi9zcmMva2V5cy9jb3B5QmFnLmpzXCIsIFtdXSxbXCIuL3NyYy9rZXlzL2NvbXBhcmVLZXlzLmpzXCIsIFtdXSxbXCIuL3NyYy9rZXlzL21lcmdlLXNldC1vcGVyYXRvcnMuanNcIiwgW11dLFtcIi4vc3JjL2tleXMvbWVyZ2UtYmFnLW9wZXJhdG9ycy5qc1wiLCBbXV0sW1wiLi9zcmMvcGF0dGVybnMvcGF0dGVybk1hdGNoZXJzLmpzXCIsIFtdXSxbXCIuL3NyYy9wYXR0ZXJucy9nZXRHdWFyZFBheWxvYWRzLmpzXCIsIFtdXSxbXCIuL3NyYy90eXBlcy5qc1wiLCBbXV0sW1wiQGVuZG8vY29tbW9uL2xpc3QtZGlmZmVyZW5jZS5qc1wiLCBbXV0sW1wiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6eyIuL3NyYy9rZXlzL2NoZWNrS2V5LmpzIjpbWyJpc0tleSIsImlzS2V5Il0sWyJhc3NlcnRLZXkiLCJhc3NlcnRLZXkiXSxbImFzc2VydFNjYWxhcktleSIsImFzc2VydFNjYWxhcktleSJdLFsiaXNDb3B5U2V0IiwiaXNDb3B5U2V0Il0sWyJhc3NlcnRDb3B5U2V0IiwiYXNzZXJ0Q29weVNldCJdLFsibWFrZUNvcHlTZXQiLCJtYWtlQ29weVNldCJdLFsiZ2V0Q29weVNldEtleXMiLCJnZXRDb3B5U2V0S2V5cyJdLFsiaXNDb3B5QmFnIiwiaXNDb3B5QmFnIl0sWyJhc3NlcnRDb3B5QmFnIiwiYXNzZXJ0Q29weUJhZyJdLFsibWFrZUNvcHlCYWciLCJtYWtlQ29weUJhZyJdLFsibWFrZUNvcHlCYWdGcm9tRWxlbWVudHMiLCJtYWtlQ29weUJhZ0Zyb21FbGVtZW50cyJdLFsiZ2V0Q29weUJhZ0VudHJpZXMiLCJnZXRDb3B5QmFnRW50cmllcyJdLFsiaXNDb3B5TWFwIiwiaXNDb3B5TWFwIl0sWyJhc3NlcnRDb3B5TWFwIiwiYXNzZXJ0Q29weU1hcCJdLFsibWFrZUNvcHlNYXAiLCJtYWtlQ29weU1hcCJdLFsiZ2V0Q29weU1hcEVudHJpZXMiLCJnZXRDb3B5TWFwRW50cmllcyJdXSwiLi9zcmMva2V5cy9jb3B5U2V0LmpzIjpbWyJjb2VyY2VUb0VsZW1lbnRzIiwiY29lcmNlVG9FbGVtZW50cyJdXSwiLi9zcmMva2V5cy9jb3B5QmFnLmpzIjpbWyJjb2VyY2VUb0JhZ0VudHJpZXMiLCJjb2VyY2VUb0JhZ0VudHJpZXMiXV0sIi4vc3JjL2tleXMvY29tcGFyZUtleXMuanMiOltbImJhZ0NvbXBhcmUiLCJiYWdDb21wYXJlIl0sWyJzZXRDb21wYXJlIiwic2V0Q29tcGFyZSJdLFsiY29tcGFyZUtleXMiLCJjb21wYXJlS2V5cyJdLFsia2V5TFQiLCJrZXlMVCJdLFsia2V5TFRFIiwia2V5TFRFIl0sWyJrZXlFUSIsImtleUVRIl0sWyJrZXlHVEUiLCJrZXlHVEUiXSxbImtleUdUIiwia2V5R1QiXV0sIi4vc3JjL2tleXMvbWVyZ2Utc2V0LW9wZXJhdG9ycy5qcyI6W1siZWxlbWVudHNJc1N1cGVyc2V0IiwiZWxlbWVudHNJc1N1cGVyc2V0Il0sWyJlbGVtZW50c0lzRGlzam9pbnQiLCJlbGVtZW50c0lzRGlzam9pbnQiXSxbImVsZW1lbnRzQ29tcGFyZSIsImVsZW1lbnRzQ29tcGFyZSJdLFsiZWxlbWVudHNVbmlvbiIsImVsZW1lbnRzVW5pb24iXSxbImVsZW1lbnRzRGlzam9pbnRVbmlvbiIsImVsZW1lbnRzRGlzam9pbnRVbmlvbiJdLFsiZWxlbWVudHNJbnRlcnNlY3Rpb24iLCJlbGVtZW50c0ludGVyc2VjdGlvbiJdLFsiZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0IiwiZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0Il0sWyJzZXRJc1N1cGVyc2V0Iiwic2V0SXNTdXBlcnNldCJdLFsic2V0SXNEaXNqb2ludCIsInNldElzRGlzam9pbnQiXSxbInNldFVuaW9uIiwic2V0VW5pb24iXSxbInNldERpc2pvaW50VW5pb24iLCJzZXREaXNqb2ludFVuaW9uIl0sWyJzZXRJbnRlcnNlY3Rpb24iLCJzZXRJbnRlcnNlY3Rpb24iXSxbInNldERpc2pvaW50U3VidHJhY3QiLCJzZXREaXNqb2ludFN1YnRyYWN0Il1dLCIuL3NyYy9rZXlzL21lcmdlLWJhZy1vcGVyYXRvcnMuanMiOltbImJhZ0lzU3VwZXJiYWciLCJiYWdJc1N1cGVyYmFnIl0sWyJiYWdVbmlvbiIsImJhZ1VuaW9uIl0sWyJiYWdJbnRlcnNlY3Rpb24iLCJiYWdJbnRlcnNlY3Rpb24iXSxbImJhZ0Rpc2pvaW50U3VidHJhY3QiLCJiYWdEaXNqb2ludFN1YnRyYWN0Il1dLCIuL3NyYy9wYXR0ZXJucy9wYXR0ZXJuTWF0Y2hlcnMuanMiOltbIk0iLCJNIl0sWyJnZXRSYW5rQ292ZXIiLCJnZXRSYW5rQ292ZXIiXSxbImlzUGF0dGVybiIsImlzUGF0dGVybiJdLFsiYXNzZXJ0UGF0dGVybiIsImFzc2VydFBhdHRlcm4iXSxbIm1hdGNoZXMiLCJtYXRjaGVzIl0sWyJtdXN0TWF0Y2giLCJtdXN0TWF0Y2giXSxbImlzQXdhaXRBcmdHdWFyZCIsImlzQXdhaXRBcmdHdWFyZCJdLFsiYXNzZXJ0QXdhaXRBcmdHdWFyZCIsImFzc2VydEF3YWl0QXJnR3VhcmQiXSxbImlzUmF3R3VhcmQiLCJpc1Jhd0d1YXJkIl0sWyJhc3NlcnRSYXdHdWFyZCIsImFzc2VydFJhd0d1YXJkIl0sWyJhc3NlcnRNZXRob2RHdWFyZCIsImFzc2VydE1ldGhvZEd1YXJkIl0sWyJhc3NlcnRJbnRlcmZhY2VHdWFyZCIsImFzc2VydEludGVyZmFjZUd1YXJkIl0sWyJraW5kT2YiLCJraW5kT2YiXSxbImNvbnRhaW5lckhhc1NwbGl0IiwiY29udGFpbmVySGFzU3BsaXQiXV0sIi4vc3JjL3BhdHRlcm5zL2dldEd1YXJkUGF5bG9hZHMuanMiOltbImdldEF3YWl0QXJnR3VhcmRQYXlsb2FkIiwiZ2V0QXdhaXRBcmdHdWFyZFBheWxvYWQiXSxbImdldE1ldGhvZEd1YXJkUGF5bG9hZCIsImdldE1ldGhvZEd1YXJkUGF5bG9hZCJdLFsiZ2V0SW50ZXJmYWNlR3VhcmRQYXlsb2FkIiwiZ2V0SW50ZXJmYWNlR3VhcmRQYXlsb2FkIl0sWyJnZXRJbnRlcmZhY2VNZXRob2RLZXlzIiwiZ2V0SW50ZXJmYWNlTWV0aG9kS2V5cyJdXSwiQGVuZG8vY29tbW9uL2xpc3QtZGlmZmVyZW5jZS5qcyI6W1sibGlzdERpZmZlcmVuY2UiLCJsaXN0RGlmZmVyZW5jZSJdXSwiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiOltbIm9iamVjdE1hcCIsIm9iamVjdE1hcCJdXX0sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAwepGqlU3AABVNwAAKgAAAEBlbmRvL3BhdHRlcm5zLXYxLjUuMC9zcmMva2V5cy9jaGVja0tleS5qc3siaW1wb3J0cyI6WyJAZW5kby9tYXJzaGFsIiwiQGVuZG8vY29tbW9uL2lkZW50LWNoZWNrZXIuanMiLCJAZW5kby9lcnJvcnMiLCIuL2NvcHlTZXQuanMiLCIuL2NvcHlCYWcuanMiXSwiZXhwb3J0cyI6WyJhc3NlcnRDb3B5QmFnIiwiYXNzZXJ0Q29weU1hcCIsImFzc2VydENvcHlTZXQiLCJhc3NlcnRLZXkiLCJhc3NlcnRQcmltaXRpdmVLZXkiLCJhc3NlcnRTY2FsYXJLZXkiLCJjaGVja0NvcHlCYWciLCJjaGVja0NvcHlNYXAiLCJjaGVja0NvcHlTZXQiLCJjaGVja0tleSIsImNoZWNrU2NhbGFyS2V5IiwiY29weU1hcEtleVNldCIsImV2ZXJ5Q29weUJhZ0VudHJ5IiwiZXZlcnlDb3B5TWFwS2V5IiwiZXZlcnlDb3B5TWFwVmFsdWUiLCJldmVyeUNvcHlTZXRLZXkiLCJnZXRDb3B5QmFnRW50cmllcyIsImdldENvcHlNYXBFbnRyaWVzIiwiZ2V0Q29weU1hcEVudHJ5QXJyYXkiLCJnZXRDb3B5TWFwS2V5cyIsImdldENvcHlNYXBWYWx1ZXMiLCJnZXRDb3B5U2V0S2V5cyIsImlzQ29weUJhZyIsImlzQ29weU1hcCIsImlzQ29weVNldCIsImlzS2V5IiwiaXNQcmltaXRpdmVLZXkiLCJpc1NjYWxhcktleSIsIm1ha2VDb3B5QmFnIiwibWFrZUNvcHlCYWdGcm9tRWxlbWVudHMiLCJtYWtlQ29weU1hcCIsIm1ha2VDb3B5U2V0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgYXNzZXJ0Q2hlY2tlcixhc3NlcnRQYXNzYWJsZSxGYXIsZ2V0VGFnLGlzT2JqZWN0LG1ha2VUYWdnZWQscGFzc1N0eWxlT2YsY29tcGFyZUFudGlSYW5rLG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0LHNvcnRCeVJhbmssaWRlbnRDaGVja2VyLFgscSxGYWlsLGNoZWNrRWxlbWVudHMsbWFrZVNldE9mRWxlbWVudHMsY2hlY2tCYWdFbnRyaWVzLG1ha2VCYWdPZkVudHJpZXM7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJhc3NlcnRDaGVja2VyXCIsWyRozY9fYSA9PiAoYXNzZXJ0Q2hlY2tlciA9ICRozY9fYSldXSxbXCJhc3NlcnRQYXNzYWJsZVwiLFskaM2PX2EgPT4gKGFzc2VydFBhc3NhYmxlID0gJGjNj19hKV1dLFtcIkZhclwiLFskaM2PX2EgPT4gKEZhciA9ICRozY9fYSldXSxbXCJnZXRUYWdcIixbJGjNj19hID0+IChnZXRUYWcgPSAkaM2PX2EpXV0sW1wiaXNPYmplY3RcIixbJGjNj19hID0+IChpc09iamVjdCA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dLFtcImNvbXBhcmVBbnRpUmFua1wiLFskaM2PX2EgPT4gKGNvbXBhcmVBbnRpUmFuayA9ICRozY9fYSldXSxbXCJtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdFwiLFskaM2PX2EgPT4gKG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0ID0gJGjNj19hKV1dLFtcInNvcnRCeVJhbmtcIixbJGjNj19hID0+IChzb3J0QnlSYW5rID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vY29tbW9uL2lkZW50LWNoZWNrZXIuanNcIiwgW1tcImlkZW50Q2hlY2tlclwiLFskaM2PX2EgPT4gKGlkZW50Q2hlY2tlciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV0sW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXSxbXCIuL2NvcHlTZXQuanNcIiwgW1tcImNoZWNrRWxlbWVudHNcIixbJGjNj19hID0+IChjaGVja0VsZW1lbnRzID0gJGjNj19hKV1dLFtcIm1ha2VTZXRPZkVsZW1lbnRzXCIsWyRozY9fYSA9PiAobWFrZVNldE9mRWxlbWVudHMgPSAkaM2PX2EpXV1dXSxbXCIuL2NvcHlCYWcuanNcIiwgW1tcImNoZWNrQmFnRW50cmllc1wiLFskaM2PX2EgPT4gKGNoZWNrQmFnRW50cmllcyA9ICRozY9fYSldXSxbXCJtYWtlQmFnT2ZFbnRyaWVzXCIsWyRozY9fYSA9PiAobWFrZUJhZ09mRW50cmllcyA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcblxuLypcblxuXG5cbiAqL1xuXG4vL1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBjaGVja1ByaW1pdGl2ZUtleSA9ICh2YWwsIGNoZWNrKSA9PiB7XG4gIGlmIChpc09iamVjdCh2YWwpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGNoZWNrICE9PSBpZGVudENoZWNrZXIgJiZcbiAgICAgIGNoZWNrKGZhbHNlLCBYYEEgJHtxKHR5cGVvZiB2YWwpfSBjYW5ub3QgYmUgYSBwcmltaXRpdmU6ICR7dmFsfWApXG4gICAgKTtcbiAgfVxuICAvL1xuICAvL1xuICBhc3NlcnRQYXNzYWJsZSh2YWwpO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgaXNQcmltaXRpdmVLZXkgPSB2YWwgPT4gY2hlY2tQcmltaXRpdmVLZXkodmFsLCBpZGVudENoZWNrZXIpOyRozY9fb25jZS5pc1ByaW1pdGl2ZUtleShpc1ByaW1pdGl2ZUtleSk7XG5oYXJkZW4oaXNQcmltaXRpdmVLZXkpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydFByaW1pdGl2ZUtleSA9IHZhbCA9PiB7XG4gIGNoZWNrUHJpbWl0aXZlS2V5KHZhbCwgYXNzZXJ0Q2hlY2tlcik7XG59OyRozY9fb25jZS5hc3NlcnRQcmltaXRpdmVLZXkoYXNzZXJ0UHJpbWl0aXZlS2V5KTtcbmhhcmRlbihhc3NlcnRQcmltaXRpdmVLZXkpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgY2hlY2tTY2FsYXJLZXkgPSAodmFsLCBjaGVjaykgPT4ge1xuICBpZiAoaXNQcmltaXRpdmVLZXkodmFsKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHZhbCk7XG4gIGlmIChwYXNzU3R5bGUgPT09ICdyZW1vdGFibGUnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGNoZWNrKGZhbHNlLCBYYEEgJHtxKHBhc3NTdHlsZSl9IGNhbm5vdCBiZSBhIHNjYWxhciBrZXk6ICR7dmFsfWApO1xufTtcblxuLypcblxuXG4gKi8kaM2PX29uY2UuY2hlY2tTY2FsYXJLZXkoY2hlY2tTY2FsYXJLZXkpO1xuICAgICAgIGNvbnN0IGlzU2NhbGFyS2V5ID0gdmFsID0+IGNoZWNrU2NhbGFyS2V5KHZhbCwgaWRlbnRDaGVja2VyKTskaM2PX29uY2UuaXNTY2FsYXJLZXkoaXNTY2FsYXJLZXkpO1xuaGFyZGVuKGlzU2NhbGFyS2V5KTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBhc3NlcnRTY2FsYXJLZXkgPSB2YWwgPT4ge1xuICBjaGVja1NjYWxhcktleSh2YWwsIGFzc2VydENoZWNrZXIpO1xufTskaM2PX29uY2UuYXNzZXJ0U2NhbGFyS2V5KGFzc2VydFNjYWxhcktleSk7XG5oYXJkZW4oYXNzZXJ0U2NhbGFyS2V5KTtcblxuLy9cblxuLy9cbi8qICAgICAgICAgICAgICAgICAgICAgICAqL1xuLy9cbmNvbnN0IGtleU1lbW8gPSBuZXcgV2Vha1NldCgpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgY2hlY2tLZXkgPSAodmFsLCBjaGVjaykgPT4ge1xuICBpZiAoIWlzT2JqZWN0KHZhbCkpIHtcbiAgICAvL1xuICAgIC8vXG4gICAgYXNzZXJ0UGFzc2FibGUodmFsKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvL1xuICBpZiAoa2V5TWVtby5oYXModmFsKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8vXG4gIGNvbnN0IHJlc3VsdCA9IGNoZWNrS2V5SW50ZXJuYWwodmFsLCBjaGVjayk7XG4gIGlmIChyZXN1bHQpIHtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICBrZXlNZW1vLmFkZCh2YWwpO1xuICB9XG4gIC8vXG4gIC8vXG4gIHJldHVybiByZXN1bHQ7XG59OyRozY9fb25jZS5jaGVja0tleShjaGVja0tleSk7XG5oYXJkZW4oY2hlY2tLZXkpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBpc0tleSA9IHZhbCA9PiBjaGVja0tleSh2YWwsIGlkZW50Q2hlY2tlcik7JGjNj19vbmNlLmlzS2V5KGlzS2V5KTtcbmhhcmRlbihpc0tleSk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgYXNzZXJ0S2V5ID0gdmFsID0+IHtcbiAgY2hlY2tLZXkodmFsLCBhc3NlcnRDaGVja2VyKTtcbn07JGjNj19vbmNlLmFzc2VydEtleShhc3NlcnRLZXkpO1xuaGFyZGVuKGFzc2VydEtleSk7XG5cbi8vXG5cbi8vXG4vL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBjb3B5U2V0TWVtbyA9IG5ldyBXZWFrU2V0KCk7XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjaGVja0NvcHlTZXQgPSAocywgY2hlY2spID0+IHtcbiAgaWYgKGNvcHlTZXRNZW1vLmhhcyhzKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9XG4gICAgKChwYXNzU3R5bGVPZihzKSA9PT0gJ3RhZ2dlZCcgJiYgZ2V0VGFnKHMpID09PSAnY29weVNldCcpIHx8XG4gICAgICBjaGVjayhmYWxzZSwgWGBOb3QgYSBjb3B5U2V0OiAke3N9YCkpICYmXG4gICAgY2hlY2tFbGVtZW50cyhzLnBheWxvYWQsIGNoZWNrKSAmJlxuICAgIGNoZWNrS2V5KHMucGF5bG9hZCwgY2hlY2spO1xuICBpZiAocmVzdWx0KSB7XG4gICAgY29weVNldE1lbW8uYWRkKHMpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59OyRozY9fb25jZS5jaGVja0NvcHlTZXQoY2hlY2tDb3B5U2V0KTtcbmhhcmRlbihjaGVja0NvcHlTZXQpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGlzQ29weVNldCA9IHMgPT4gY2hlY2tDb3B5U2V0KHMsIGlkZW50Q2hlY2tlcik7JGjNj19vbmNlLmlzQ29weVNldChpc0NvcHlTZXQpO1xuaGFyZGVuKGlzQ29weVNldCk7XG5cbi8qXG5cblxuXG4gKi9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IGFzc2VydENvcHlTZXQgPSBzID0+IHtcbiAgY2hlY2tDb3B5U2V0KHMsIGFzc2VydENoZWNrZXIpO1xufTskaM2PX29uY2UuYXNzZXJ0Q29weVNldChhc3NlcnRDb3B5U2V0KTtcbmhhcmRlbihhc3NlcnRDb3B5U2V0KTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldENvcHlTZXRLZXlzID0gcyA9PiB7XG4gIGFzc2VydENvcHlTZXQocyk7XG4gIHJldHVybiBzLnBheWxvYWQ7XG59OyRozY9fb25jZS5nZXRDb3B5U2V0S2V5cyhnZXRDb3B5U2V0S2V5cyk7XG5oYXJkZW4oZ2V0Q29weVNldEtleXMpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBldmVyeUNvcHlTZXRLZXkgPSAocywgZm4pID0+XG4gIGdldENvcHlTZXRLZXlzKHMpLmV2ZXJ5KChrZXksIGluZGV4KSA9PiBmbihrZXksIGluZGV4KSk7JGjNj19vbmNlLmV2ZXJ5Q29weVNldEtleShldmVyeUNvcHlTZXRLZXkpO1xuaGFyZGVuKGV2ZXJ5Q29weVNldEtleSk7XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlQ29weVNldCA9IGVsZW1lbnRJdGVyID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gbWFrZVNldE9mRWxlbWVudHMoZWxlbWVudEl0ZXIpO1xuICBhc3NlcnRDb3B5U2V0KHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59OyRozY9fb25jZS5tYWtlQ29weVNldChtYWtlQ29weVNldCk7XG5oYXJkZW4obWFrZUNvcHlTZXQpO1xuXG4vL1xuXG4vL1xuLy9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgY29weUJhZ01lbW8gPSBuZXcgV2Vha1NldCgpO1xuXG4vKlxuXG5cblxuICovXG4gICAgICAgY29uc3QgY2hlY2tDb3B5QmFnID0gKGIsIGNoZWNrKSA9PiB7XG4gIGlmIChjb3B5QmFnTWVtby5oYXMoYikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCByZXN1bHQgPVxuICAgICgocGFzc1N0eWxlT2YoYikgPT09ICd0YWdnZWQnICYmIGdldFRhZyhiKSA9PT0gJ2NvcHlCYWcnKSB8fFxuICAgICAgY2hlY2soZmFsc2UsIFhgTm90IGEgY29weUJhZzogJHtifWApKSAmJlxuICAgIGNoZWNrQmFnRW50cmllcyhiLnBheWxvYWQsIGNoZWNrKSAmJlxuICAgIGNoZWNrS2V5KGIucGF5bG9hZCwgY2hlY2spO1xuICBpZiAocmVzdWx0KSB7XG4gICAgY29weUJhZ01lbW8uYWRkKGIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59OyRozY9fb25jZS5jaGVja0NvcHlCYWcoY2hlY2tDb3B5QmFnKTtcbmhhcmRlbihjaGVja0NvcHlCYWcpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGlzQ29weUJhZyA9IGIgPT4gY2hlY2tDb3B5QmFnKGIsIGlkZW50Q2hlY2tlcik7JGjNj19vbmNlLmlzQ29weUJhZyhpc0NvcHlCYWcpO1xuaGFyZGVuKGlzQ29weUJhZyk7XG5cbi8qXG5cblxuXG4gKi9cblxuLyogICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IGFzc2VydENvcHlCYWcgPSBiID0+IHtcbiAgY2hlY2tDb3B5QmFnKGIsIGFzc2VydENoZWNrZXIpO1xufTskaM2PX29uY2UuYXNzZXJ0Q29weUJhZyhhc3NlcnRDb3B5QmFnKTtcbmhhcmRlbihhc3NlcnRDb3B5QmFnKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldENvcHlCYWdFbnRyaWVzID0gYiA9PiB7XG4gIGFzc2VydENvcHlCYWcoYik7XG4gIHJldHVybiBiLnBheWxvYWQ7XG59OyRozY9fb25jZS5nZXRDb3B5QmFnRW50cmllcyhnZXRDb3B5QmFnRW50cmllcyk7XG5oYXJkZW4oZ2V0Q29weUJhZ0VudHJpZXMpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBldmVyeUNvcHlCYWdFbnRyeSA9IChiLCBmbikgPT5cbiAgZ2V0Q29weUJhZ0VudHJpZXMoYikuZXZlcnkoKGVudHJ5LCBpbmRleCkgPT4gZm4oZW50cnksIGluZGV4KSk7JGjNj19vbmNlLmV2ZXJ5Q29weUJhZ0VudHJ5KGV2ZXJ5Q29weUJhZ0VudHJ5KTtcbmhhcmRlbihldmVyeUNvcHlCYWdFbnRyeSk7XG5cbi8qXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlQ29weUJhZyA9IGJhZ0VudHJ5SXRlciA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IG1ha2VCYWdPZkVudHJpZXMoYmFnRW50cnlJdGVyKTtcbiAgYXNzZXJ0Q29weUJhZyhyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTskaM2PX29uY2UubWFrZUNvcHlCYWcobWFrZUNvcHlCYWcpO1xuaGFyZGVuKG1ha2VDb3B5QmFnKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VDb3B5QmFnRnJvbUVsZW1lbnRzID0gZWxlbWVudEl0ZXIgPT4ge1xuICAvL1xuICAvL1xuICBjb25zdCBmdWxsQ29tcGFyZSA9IG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0KCkuYW50aUNvbXBhcmF0b3I7XG4gIGNvbnN0IHNvcnRlZCA9IHNvcnRCeVJhbmsoZWxlbWVudEl0ZXIsIGZ1bGxDb21wYXJlKTtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IGVudHJpZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWQubGVuZ3RoOyApIHtcbiAgICBjb25zdCBrID0gc29ydGVkW2ldO1xuICAgIGxldCBqID0gaSArIDE7XG4gICAgd2hpbGUgKGogPCBzb3J0ZWQubGVuZ3RoICYmIGZ1bGxDb21wYXJlKGssIHNvcnRlZFtqXSkgPT09IDApIHtcbiAgICAgIGogKz0gMTtcbiAgICB9XG4gICAgZW50cmllcy5wdXNoKFtrLCBCaWdJbnQoaiAtIGkpXSk7XG4gICAgaSA9IGo7XG4gIH1cbiAgcmV0dXJuIG1ha2VDb3B5QmFnKGVudHJpZXMpO1xufTskaM2PX29uY2UubWFrZUNvcHlCYWdGcm9tRWxlbWVudHMobWFrZUNvcHlCYWdGcm9tRWxlbWVudHMpO1xuaGFyZGVuKG1ha2VDb3B5QmFnRnJvbUVsZW1lbnRzKTtcblxuLy9cblxuLy9cbi8vXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IGNvcHlNYXBNZW1vID0gbmV3IFdlYWtTZXQoKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGNoZWNrQ29weU1hcCA9IChtLCBjaGVjaykgPT4ge1xuICBpZiAoY29weU1hcE1lbW8uaGFzKG0pKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCEocGFzc1N0eWxlT2YobSkgPT09ICd0YWdnZWQnICYmIGdldFRhZyhtKSA9PT0gJ2NvcHlNYXAnKSkge1xuICAgIHJldHVybiBjaGVjayhmYWxzZSwgWGBOb3QgYSBjb3B5TWFwOiAke219YCk7XG4gIH1cbiAgY29uc3QgeyBwYXlsb2FkIH0gPSBtO1xuICBpZiAocGFzc1N0eWxlT2YocGF5bG9hZCkgIT09ICdjb3B5UmVjb3JkJykge1xuICAgIHJldHVybiBjaGVjayhmYWxzZSwgWGBBIGNvcHlNYXAncyBwYXlsb2FkIG11c3QgYmUgYSByZWNvcmQ6ICR7bX1gKTtcbiAgfVxuICBjb25zdCB7IGtleXMsIHZhbHVlcywgLi4ucmVzdCB9ID0gcGF5bG9hZDtcbiAgY29uc3QgcmVzdWx0ID1cbiAgICAob3duS2V5cyhyZXN0KS5sZW5ndGggPT09IDAgfHxcbiAgICAgIGNoZWNrKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgWGBBIGNvcHlNYXAncyBwYXlsb2FkIG11c3Qgb25seSBoYXZlIC5rZXlzIGFuZCAudmFsdWVzOiAke219YCxcbiAgICAgICkpICYmXG4gICAgY2hlY2tFbGVtZW50cyhrZXlzLCBjaGVjaykgJiZcbiAgICBjaGVja0tleShrZXlzLCBjaGVjaykgJiZcbiAgICAocGFzc1N0eWxlT2YodmFsdWVzKSA9PT0gJ2NvcHlBcnJheScgfHxcbiAgICAgIGNoZWNrKGZhbHNlLCBYYEEgY29weU1hcCdzIC52YWx1ZXMgbXVzdCBiZSBhIGNvcHlBcnJheTogJHttfWApKSAmJlxuICAgIChrZXlzLmxlbmd0aCA9PT0gdmFsdWVzLmxlbmd0aCB8fFxuICAgICAgY2hlY2soXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBYYEEgY29weU1hcCBtdXN0IGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGtleXMgYW5kIHZhbHVlczogJHttfWAsXG4gICAgICApKTtcbiAgaWYgKHJlc3VsdCkge1xuICAgIGNvcHlNYXBNZW1vLmFkZChtKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTskaM2PX29uY2UuY2hlY2tDb3B5TWFwKGNoZWNrQ29weU1hcCk7XG5oYXJkZW4oY2hlY2tDb3B5TWFwKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBpc0NvcHlNYXAgPSBtID0+IGNoZWNrQ29weU1hcChtLCBpZGVudENoZWNrZXIpOyRozY9fb25jZS5pc0NvcHlNYXAoaXNDb3B5TWFwKTtcbmhhcmRlbihpc0NvcHlNYXApO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydENvcHlNYXAgPSBtID0+IHtcbiAgY2hlY2tDb3B5TWFwKG0sIGFzc2VydENoZWNrZXIpO1xufTskaM2PX29uY2UuYXNzZXJ0Q29weU1hcChhc3NlcnRDb3B5TWFwKTtcbmhhcmRlbihhc3NlcnRDb3B5TWFwKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0Q29weU1hcEtleXMgPSBtID0+IHtcbiAgYXNzZXJ0Q29weU1hcChtKTtcbiAgcmV0dXJuIG0ucGF5bG9hZC5rZXlzO1xufTskaM2PX29uY2UuZ2V0Q29weU1hcEtleXMoZ2V0Q29weU1hcEtleXMpO1xuaGFyZGVuKGdldENvcHlNYXBLZXlzKTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0Q29weU1hcFZhbHVlcyA9IG0gPT4ge1xuICBhc3NlcnRDb3B5TWFwKG0pO1xuICByZXR1cm4gbS5wYXlsb2FkLnZhbHVlcztcbn07JGjNj19vbmNlLmdldENvcHlNYXBWYWx1ZXMoZ2V0Q29weU1hcFZhbHVlcyk7XG5oYXJkZW4oZ2V0Q29weU1hcFZhbHVlcyk7XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRDb3B5TWFwRW50cnlBcnJheSA9IG0gPT4ge1xuICBhc3NlcnRDb3B5TWFwKG0pO1xuICBjb25zdCB7XG4gICAgcGF5bG9hZDogeyBrZXlzLCB2YWx1ZXMgfSxcbiAgfSA9IG07XG4gIHJldHVybiBoYXJkZW4oa2V5cy5tYXAoKGtleSwgaSkgPT4gW2tleSwgdmFsdWVzW2ldXSkpO1xufTskaM2PX29uY2UuZ2V0Q29weU1hcEVudHJ5QXJyYXkoZ2V0Q29weU1hcEVudHJ5QXJyYXkpO1xuaGFyZGVuKGdldENvcHlNYXBFbnRyeUFycmF5KTtcblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0Q29weU1hcEVudHJpZXMgPSBtID0+IHtcbiAgYXNzZXJ0Q29weU1hcChtKTtcbiAgY29uc3Qge1xuICAgIHBheWxvYWQ6IHsga2V5cywgdmFsdWVzIH0sXG4gIH0gPSBtO1xuICBjb25zdCB7IGxlbmd0aCB9ID0gLyogICAgICAgICAgICAgICAgKi8gKGtleXMpO1xuICByZXR1cm4gRmFyKCdDb3B5TWFwIGVudHJpZXMgaXRlcmFibGUnLCB7XG4gICAgW1N5bWJvbC5pdGVyYXRvcl06ICgpID0+IHtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIHJldHVybiBGYXIoJ0NvcHlNYXAgZW50cmllcyBpdGVyYXRvcicsIHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICBpZiAoaSA8IGxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gaGFyZGVuKHsgZG9uZTogZmFsc2UsIHZhbHVlOiBba2V5c1tpXSwgdmFsdWVzW2ldXSB9KTtcbiAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhcmRlbih7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcbn07JGjNj19vbmNlLmdldENvcHlNYXBFbnRyaWVzKGdldENvcHlNYXBFbnRyaWVzKTtcbmhhcmRlbihnZXRDb3B5TWFwRW50cmllcyk7XG5cbi8qXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgZXZlcnlDb3B5TWFwS2V5ID0gKG0sIGZuKSA9PlxuICBnZXRDb3B5TWFwS2V5cyhtKS5ldmVyeSgoa2V5LCBpbmRleCkgPT4gZm4oa2V5LCBpbmRleCkpOyRozY9fb25jZS5ldmVyeUNvcHlNYXBLZXkoZXZlcnlDb3B5TWFwS2V5KTtcbmhhcmRlbihldmVyeUNvcHlNYXBLZXkpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGV2ZXJ5Q29weU1hcFZhbHVlID0gKG0sIGZuKSA9PlxuICBnZXRDb3B5TWFwVmFsdWVzKG0pLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IGZuKHZhbHVlLCBpbmRleCkpOyRozY9fb25jZS5ldmVyeUNvcHlNYXBWYWx1ZShldmVyeUNvcHlNYXBWYWx1ZSk7XG5oYXJkZW4oZXZlcnlDb3B5TWFwVmFsdWUpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBjb3B5TWFwS2V5U2V0ID0gbSA9PlxuICAvL1xuICBtYWtlVGFnZ2VkKCdjb3B5U2V0JywgbS5wYXlsb2FkLmtleXMpOyRozY9fb25jZS5jb3B5TWFwS2V5U2V0KGNvcHlNYXBLZXlTZXQpO1xuaGFyZGVuKGNvcHlNYXBLZXlTZXQpO1xuXG4vKlxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYWtlQ29weU1hcCA9IGVudHJpZXMgPT4ge1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICBjb25zdCBzb3J0ZWRFbnRyaWVzID0gc29ydEJ5UmFuayhlbnRyaWVzLCBjb21wYXJlQW50aVJhbmspO1xuICBjb25zdCBrZXlzID0gc29ydGVkRW50cmllcy5tYXAoKFtrLCBfdl0pID0+IGspO1xuICBjb25zdCB2YWx1ZXMgPSBzb3J0ZWRFbnRyaWVzLm1hcCgoW19rLCB2XSkgPT4gdik7XG4gIGNvbnN0IHJlc3VsdCA9IG1ha2VUYWdnZWQoJ2NvcHlNYXAnLCB7IGtleXMsIHZhbHVlcyB9KTtcbiAgYXNzZXJ0Q29weU1hcChyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTskaM2PX29uY2UubWFrZUNvcHlNYXAobWFrZUNvcHlNYXApO1xuaGFyZGVuKG1ha2VDb3B5TWFwKTtcblxuLy9cblxuLypcblxuXG5cbiAqL1xuY29uc3QgY2hlY2tLZXlJbnRlcm5hbCA9ICh2YWwsIGNoZWNrKSA9PiB7XG4gIGNvbnN0IGNoZWNrSXQgPSBjaGlsZCA9PiBjaGVja0tleShjaGlsZCwgY2hlY2spO1xuXG4gIGNvbnN0IHBhc3NTdHlsZSA9IHBhc3NTdHlsZU9mKHZhbCk7XG4gIHN3aXRjaCAocGFzc1N0eWxlKSB7XG4gICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh2YWwpLmV2ZXJ5KGNoZWNrSXQpO1xuICAgIH1cbiAgICBjYXNlICdjb3B5QXJyYXknOiB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIHZhbC5ldmVyeShjaGVja0l0KTtcbiAgICB9XG4gICAgY2FzZSAndGFnZ2VkJzoge1xuICAgICAgY29uc3QgdGFnID0gZ2V0VGFnKHZhbCk7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlICdjb3B5U2V0Jzoge1xuICAgICAgICAgIHJldHVybiBjaGVja0NvcHlTZXQodmFsLCBjaGVjayk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnY29weUJhZyc6IHtcbiAgICAgICAgICByZXR1cm4gY2hlY2tDb3B5QmFnKHZhbCwgY2hlY2spO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2NvcHlNYXAnOiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNoZWNrQ29weU1hcCh2YWwsIGNoZWNrKSAmJlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgZXZlcnlDb3B5TWFwVmFsdWUodmFsLCBjaGVja0l0KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjaGVjayAhPT0gaWRlbnRDaGVja2VyICYmXG4gICAgICAgICAgICBjaGVjayhmYWxzZSwgWGBBIHBhc3NhYmxlIHRhZ2dlZCAke3EodGFnKX0gaXMgbm90IGEga2V5OiAke3ZhbH1gKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY2FzZSAncmVtb3RhYmxlJzoge1xuICAgICAgLy9cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXNlICdlcnJvcic6XG4gICAgY2FzZSAncHJvbWlzZSc6IHtcbiAgICAgIHJldHVybiBjaGVjayhmYWxzZSwgWGBBICR7cShwYXNzU3R5bGUpfSBjYW5ub3QgYmUgYSBrZXlgKTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICB0aHJvdyBGYWlsYHVuZXhwZWN0ZWQgcGFzc1N0eWxlICR7cShwYXNzU3R5bGUpfTogJHt2YWx9YDtcbiAgICB9XG4gIH1cbn07XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJpc1ByaW1pdGl2ZUtleSI6WyJpc1ByaW1pdGl2ZUtleSJdLCJhc3NlcnRQcmltaXRpdmVLZXkiOlsiYXNzZXJ0UHJpbWl0aXZlS2V5Il0sImNoZWNrU2NhbGFyS2V5IjpbImNoZWNrU2NhbGFyS2V5Il0sImlzU2NhbGFyS2V5IjpbImlzU2NhbGFyS2V5Il0sImFzc2VydFNjYWxhcktleSI6WyJhc3NlcnRTY2FsYXJLZXkiXSwiY2hlY2tLZXkiOlsiY2hlY2tLZXkiXSwiaXNLZXkiOlsiaXNLZXkiXSwiYXNzZXJ0S2V5IjpbImFzc2VydEtleSJdLCJjaGVja0NvcHlTZXQiOlsiY2hlY2tDb3B5U2V0Il0sImlzQ29weVNldCI6WyJpc0NvcHlTZXQiXSwiYXNzZXJ0Q29weVNldCI6WyJhc3NlcnRDb3B5U2V0Il0sImdldENvcHlTZXRLZXlzIjpbImdldENvcHlTZXRLZXlzIl0sImV2ZXJ5Q29weVNldEtleSI6WyJldmVyeUNvcHlTZXRLZXkiXSwibWFrZUNvcHlTZXQiOlsibWFrZUNvcHlTZXQiXSwiY2hlY2tDb3B5QmFnIjpbImNoZWNrQ29weUJhZyJdLCJpc0NvcHlCYWciOlsiaXNDb3B5QmFnIl0sImFzc2VydENvcHlCYWciOlsiYXNzZXJ0Q29weUJhZyJdLCJnZXRDb3B5QmFnRW50cmllcyI6WyJnZXRDb3B5QmFnRW50cmllcyJdLCJldmVyeUNvcHlCYWdFbnRyeSI6WyJldmVyeUNvcHlCYWdFbnRyeSJdLCJtYWtlQ29weUJhZyI6WyJtYWtlQ29weUJhZyJdLCJtYWtlQ29weUJhZ0Zyb21FbGVtZW50cyI6WyJtYWtlQ29weUJhZ0Zyb21FbGVtZW50cyJdLCJjaGVja0NvcHlNYXAiOlsiY2hlY2tDb3B5TWFwIl0sImlzQ29weU1hcCI6WyJpc0NvcHlNYXAiXSwiYXNzZXJ0Q29weU1hcCI6WyJhc3NlcnRDb3B5TWFwIl0sImdldENvcHlNYXBLZXlzIjpbImdldENvcHlNYXBLZXlzIl0sImdldENvcHlNYXBWYWx1ZXMiOlsiZ2V0Q29weU1hcFZhbHVlcyJdLCJnZXRDb3B5TWFwRW50cnlBcnJheSI6WyJnZXRDb3B5TWFwRW50cnlBcnJheSJdLCJnZXRDb3B5TWFwRW50cmllcyI6WyJnZXRDb3B5TWFwRW50cmllcyJdLCJldmVyeUNvcHlNYXBLZXkiOlsiZXZlcnlDb3B5TWFwS2V5Il0sImV2ZXJ5Q29weU1hcFZhbHVlIjpbImV2ZXJ5Q29weU1hcFZhbHVlIl0sImNvcHlNYXBLZXlTZXQiOlsiY29weU1hcEtleVNldCJdLCJtYWtlQ29weU1hcCI6WyJtYWtlQ29weU1hcCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADndpWarBkAAKwZAAAtAAAAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9rZXlzL2NvbXBhcmVLZXlzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL21hcnNoYWwiLCJAZW5kby9lcnJvcnMiLCIuL2NoZWNrS2V5LmpzIiwiLi9rZXljb2xsZWN0aW9uLW9wZXJhdG9ycy5qcyJdLCJleHBvcnRzIjpbImJhZ0NvbXBhcmUiLCJjb21wYXJlS2V5cyIsImtleUVRIiwia2V5R1QiLCJrZXlHVEUiLCJrZXlMVCIsImtleUxURSIsInNldENvbXBhcmUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBwYXNzU3R5bGVPZixnZXRUYWcsY29tcGFyZVJhbmsscmVjb3JkTmFtZXMscmVjb3JkVmFsdWVzLHRyaXZpYWxDb21wYXJhdG9yLHEsRmFpbCxhc3NlcnRLZXksZ2V0Q29weUJhZ0VudHJpZXMsZ2V0Q29weU1hcEVudHJ5QXJyYXksZ2V0Q29weVNldEtleXMsbWFrZUNvbXBhcmVDb2xsZWN0aW9uOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vbWFyc2hhbFwiLCBbW1wicGFzc1N0eWxlT2ZcIixbJGjNj19hID0+IChwYXNzU3R5bGVPZiA9ICRozY9fYSldXSxbXCJnZXRUYWdcIixbJGjNj19hID0+IChnZXRUYWcgPSAkaM2PX2EpXV0sW1wiY29tcGFyZVJhbmtcIixbJGjNj19hID0+IChjb21wYXJlUmFuayA9ICRozY9fYSldXSxbXCJyZWNvcmROYW1lc1wiLFskaM2PX2EgPT4gKHJlY29yZE5hbWVzID0gJGjNj19hKV1dLFtcInJlY29yZFZhbHVlc1wiLFskaM2PX2EgPT4gKHJlY29yZFZhbHVlcyA9ICRozY9fYSldXSxbXCJ0cml2aWFsQ29tcGFyYXRvclwiLFskaM2PX2EgPT4gKHRyaXZpYWxDb21wYXJhdG9yID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIi4vY2hlY2tLZXkuanNcIiwgW1tcImFzc2VydEtleVwiLFskaM2PX2EgPT4gKGFzc2VydEtleSA9ICRozY9fYSldXSxbXCJnZXRDb3B5QmFnRW50cmllc1wiLFskaM2PX2EgPT4gKGdldENvcHlCYWdFbnRyaWVzID0gJGjNj19hKV1dLFtcImdldENvcHlNYXBFbnRyeUFycmF5XCIsWyRozY9fYSA9PiAoZ2V0Q29weU1hcEVudHJ5QXJyYXkgPSAkaM2PX2EpXV0sW1wiZ2V0Q29weVNldEtleXNcIixbJGjNj19hID0+IChnZXRDb3B5U2V0S2V5cyA9ICRozY9fYSldXV1dLFtcIi4va2V5Y29sbGVjdGlvbi1vcGVyYXRvcnMuanNcIiwgW1tcIm1ha2VDb21wYXJlQ29sbGVjdGlvblwiLFskaM2PX2EgPT4gKG1ha2VDb21wYXJlQ29sbGVjdGlvbiA9ICRozY9fYSldXV1dXSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBzZXRDb21wYXJlID0gbWFrZUNvbXBhcmVDb2xsZWN0aW9uKFxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLyAoXG4gICAgcyA9PiBoYXJkZW4oZ2V0Q29weVNldEtleXMocykubWFwKGtleSA9PiBba2V5LCAxXSkpXG4gICksXG4gIDAsXG4gIHRyaXZpYWxDb21wYXJhdG9yLFxuKTskaM2PX29uY2Uuc2V0Q29tcGFyZShzZXRDb21wYXJlKTtcbmhhcmRlbihzZXRDb21wYXJlKTtcblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGJhZ0NvbXBhcmUgPSBtYWtlQ29tcGFyZUNvbGxlY3Rpb24oXG4gIGdldENvcHlCYWdFbnRyaWVzLFxuICAwbixcbiAgdHJpdmlhbENvbXBhcmF0b3IsXG4pOyRozY9fb25jZS5iYWdDb21wYXJlKGJhZ0NvbXBhcmUpO1xuaGFyZGVuKGJhZ0NvbXBhcmUpO1xuXG4vL1xuLy9cbi8vXG4vL1xuLypcblxuXG4gKi9cbmNvbnN0IEFCU0VOVCA9IFN5bWJvbCgnYWJzZW50Jyk7XG4vKlxuXG5cblxuXG5cblxuICovXG4vL1xuY29uc3QgX21hcENvbXBhcmUgPSBtYWtlQ29tcGFyZUNvbGxlY3Rpb24oXG4gIGdldENvcHlNYXBFbnRyeUFycmF5LFxuICBBQlNFTlQsXG4gIChsZWZ0VmFsdWUsIHJpZ2h0VmFsdWUpID0+IHtcbiAgICBpZiAobGVmdFZhbHVlID09PSBBQlNFTlQgJiYgcmlnaHRWYWx1ZSA9PT0gQUJTRU5UKSB7XG4gICAgICB0aHJvdyBGYWlsYEludGVybmFsOiBVbmV4cGVjdGVkIGFic2VudCBlbnRyeSBwYWlyYDtcbiAgICB9IGVsc2UgaWYgKGxlZnRWYWx1ZSA9PT0gQUJTRU5UKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSBlbHNlIGlmIChyaWdodFZhbHVlID09PSBBQlNFTlQpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGNvbXBhcmVLZXlzKGxlZnRWYWx1ZSwgcmlnaHRWYWx1ZSk7XG4gICAgfVxuICB9LFxuKTtcbmhhcmRlbihfbWFwQ29tcGFyZSk7XG5cbi8qICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBjb21wYXJlS2V5cyA9IChsZWZ0LCByaWdodCkgPT4ge1xuICBhc3NlcnRLZXkobGVmdCk7XG4gIGFzc2VydEtleShyaWdodCk7XG4gIGNvbnN0IGxlZnRTdHlsZSA9IHBhc3NTdHlsZU9mKGxlZnQpO1xuICBjb25zdCByaWdodFN0eWxlID0gcGFzc1N0eWxlT2YocmlnaHQpO1xuICBpZiAobGVmdFN0eWxlICE9PSByaWdodFN0eWxlKSB7XG4gICAgLy9cbiAgICByZXR1cm4gTmFOO1xuICB9XG4gIHN3aXRjaCAobGVmdFN0eWxlKSB7XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICBjYXNlICdudWxsJzpcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICBjYXNlICdiaWdpbnQnOlxuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgY2FzZSAnc3ltYm9sJzoge1xuICAgICAgLy9cbiAgICAgIHJldHVybiBjb21wYXJlUmFuayhsZWZ0LCByaWdodCk7XG4gICAgfVxuICAgIGNhc2UgJ251bWJlcic6IHtcbiAgICAgIGNvbnN0IHJhbmtDb21wID0gY29tcGFyZVJhbmsobGVmdCwgcmlnaHQpO1xuICAgICAgaWYgKHJhbmtDb21wID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKE51bWJlci5pc05hTihsZWZ0KSB8fCBOdW1iZXIuaXNOYU4ocmlnaHQpKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGFzc2VydCghTnVtYmVyLmlzTmFOKGxlZnQpIHx8ICFOdW1iZXIuaXNOYU4ocmlnaHQpKTtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIHJhbmtDb21wO1xuICAgIH1cbiAgICBjYXNlICdyZW1vdGFibGUnOiB7XG4gICAgICBpZiAobGVmdCA9PT0gcmlnaHQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIGNhc2UgJ2NvcHlBcnJheSc6IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgY29uc3QgbGVuID0gTWF0aC5taW4obGVmdC5sZW5ndGgsIHJpZ2h0Lmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXBhcmVLZXlzKGxlZnRbaV0sIHJpZ2h0W2ldKTtcbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gMCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIHJldHVybiBjb21wYXJlUmFuayhsZWZ0Lmxlbmd0aCwgcmlnaHQubGVuZ3RoKTtcbiAgICB9XG4gICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgY29uc3QgbGVmdE5hbWVzID0gcmVjb3JkTmFtZXMobGVmdCk7XG4gICAgICAvL1xuICAgICAgY29uc3QgcmlnaHROYW1lcyA9IHJlY29yZE5hbWVzKHJpZ2h0KTtcblxuICAgICAgLy9cbiAgICAgIGlmICgha2V5RVEobGVmdE5hbWVzLCByaWdodE5hbWVzKSkge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIGNvbnN0IGxlZnRWYWx1ZXMgPSByZWNvcmRWYWx1ZXMobGVmdCwgbGVmdE5hbWVzKTtcbiAgICAgIC8vXG4gICAgICBjb25zdCByaWdodFZhbHVlcyA9IHJlY29yZFZhbHVlcyhyaWdodCwgcmlnaHROYW1lcyk7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGxldCByZXN1bHQgPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZWZ0VmFsdWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGNvbXAgPSBjb21wYXJlS2V5cyhsZWZ0VmFsdWVzW2ldLCByaWdodFZhbHVlc1tpXSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4oY29tcCkpIHtcbiAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQgIT09IGNvbXAgJiYgY29tcCAhPT0gMCkge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNvbXA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydChcbiAgICAgICAgICAgICAgKHJlc3VsdCA9PT0gLTEgJiYgY29tcCA9PT0gMSkgfHwgKHJlc3VsdCA9PT0gMSAmJiBjb21wID09PSAtMSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYXNlICd0YWdnZWQnOiB7XG4gICAgICAvL1xuICAgICAgY29uc3QgbGVmdFRhZyA9IGdldFRhZyhsZWZ0KTtcbiAgICAgIC8vXG4gICAgICBjb25zdCByaWdodFRhZyA9IGdldFRhZyhyaWdodCk7XG4gICAgICBpZiAobGVmdFRhZyAhPT0gcmlnaHRUYWcpIHtcbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAobGVmdFRhZykge1xuICAgICAgICBjYXNlICdjb3B5U2V0Jzoge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIHNldENvbXBhcmUobGVmdCwgcmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2NvcHlCYWcnOiB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICByZXR1cm4gYmFnQ29tcGFyZShsZWZ0LCByaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnY29weU1hcCc6IHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgdGhyb3cgRmFpbGBNYXAgY29tcGFyaXNvbiBub3QgeWV0IGltcGxlbWVudGVkOiAke2xlZnR9IHZzICR7cmlnaHR9YDtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgdGhyb3cgRmFpbGB1bmV4cGVjdGVkIHRhZyAke3EobGVmdFRhZyl9OiAke2xlZnR9YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB0aHJvdyBGYWlsYHVuZXhwZWN0ZWQgcGFzc1N0eWxlICR7cShsZWZ0U3R5bGUpfTogJHtsZWZ0fWA7XG4gICAgfVxuICB9XG59OyRozY9fb25jZS5jb21wYXJlS2V5cyhjb21wYXJlS2V5cyk7XG5oYXJkZW4oY29tcGFyZUtleXMpO1xuXG4gICAgICAgY29uc3Qga2V5TFQgPSAobGVmdCwgcmlnaHQpID0+IGNvbXBhcmVLZXlzKGxlZnQsIHJpZ2h0KSA8IDA7JGjNj19vbmNlLmtleUxUKGtleUxUKTtcbmhhcmRlbihrZXlMVCk7XG5cbiAgICAgICBjb25zdCBrZXlMVEUgPSAobGVmdCwgcmlnaHQpID0+IGNvbXBhcmVLZXlzKGxlZnQsIHJpZ2h0KSA8PSAwOyRozY9fb25jZS5rZXlMVEUoa2V5TFRFKTtcbmhhcmRlbihrZXlMVEUpO1xuXG4gICAgICAgY29uc3Qga2V5RVEgPSAobGVmdCwgcmlnaHQpID0+IGNvbXBhcmVLZXlzKGxlZnQsIHJpZ2h0KSA9PT0gMDskaM2PX29uY2Uua2V5RVEoa2V5RVEpO1xuaGFyZGVuKGtleUVRKTtcblxuICAgICAgIGNvbnN0IGtleUdURSA9IChsZWZ0LCByaWdodCkgPT4gY29tcGFyZUtleXMobGVmdCwgcmlnaHQpID49IDA7JGjNj19vbmNlLmtleUdURShrZXlHVEUpO1xuaGFyZGVuKGtleUdURSk7XG5cbiAgICAgICBjb25zdCBrZXlHVCA9IChsZWZ0LCByaWdodCkgPT4gY29tcGFyZUtleXMobGVmdCwgcmlnaHQpID4gMDskaM2PX29uY2Uua2V5R1Qoa2V5R1QpO1xuaGFyZGVuKGtleUdUKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7InNldENvbXBhcmUiOlsic2V0Q29tcGFyZSJdLCJiYWdDb21wYXJlIjpbImJhZ0NvbXBhcmUiXSwiY29tcGFyZUtleXMiOlsiY29tcGFyZUtleXMiXSwia2V5TFQiOlsia2V5TFQiXSwia2V5TFRFIjpbImtleUxURSJdLCJrZXlFUSI6WyJrZXlFUSJdLCJrZXlHVEUiOlsia2V5R1RFIl0sImtleUdUIjpbImtleUdUIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFzRtojrDgAA6w4AACkAAABAZW5kby9wYXR0ZXJucy12MS41LjAvc3JjL2tleXMvY29weUJhZy5qc3siaW1wb3J0cyI6WyJAZW5kby9tYXJzaGFsIiwiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsiYXNzZXJ0QmFnRW50cmllcyIsImFzc2VydE5vRHVwbGljYXRlS2V5cyIsImNoZWNrQmFnRW50cmllcyIsImNvZXJjZVRvQmFnRW50cmllcyIsIm1ha2VCYWdPZkVudHJpZXMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnRDaGVja2VyLG1ha2VUYWdnZWQscGFzc1N0eWxlT2YsY29tcGFyZUFudGlSYW5rLGlzUmFua1NvcnRlZCxtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCxzb3J0QnlSYW5rLFg7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJhc3NlcnRDaGVja2VyXCIsWyRozY9fYSA9PiAoYXNzZXJ0Q2hlY2tlciA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dLFtcImNvbXBhcmVBbnRpUmFua1wiLFskaM2PX2EgPT4gKGNvbXBhcmVBbnRpUmFuayA9ICRozY9fYSldXSxbXCJpc1JhbmtTb3J0ZWRcIixbJGjNj19hID0+IChpc1JhbmtTb3J0ZWQgPSAkaM2PX2EpXV0sW1wibWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXRcIixbJGjNj19hID0+IChtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCA9ICRozY9fYSldXSxbXCJzb3J0QnlSYW5rXCIsWyRozY9fYSA9PiAoc29ydEJ5UmFuayA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGNoZWNrTm9EdXBsaWNhdGVLZXlzID0gKGJhZ0VudHJpZXMsIGZ1bGxDb21wYXJlLCBjaGVjaykgPT4ge1xuICAvL1xuICAvL1xuICAvL1xuICAvL1xuICBmdWxsQ29tcGFyZSA9IGZ1bGxDb21wYXJlIHx8IG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0KCkuYW50aUNvbXBhcmF0b3I7XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgYmFnRW50cmllcyA9IHNvcnRCeVJhbmsoYmFnRW50cmllcywgZnVsbENvbXBhcmUpO1xuICBjb25zdCB7IGxlbmd0aCB9ID0gYmFnRW50cmllcztcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGswID0gYmFnRW50cmllc1tpIC0gMV1bMF07XG4gICAgY29uc3QgazEgPSBiYWdFbnRyaWVzW2ldWzBdO1xuICAgIGlmIChmdWxsQ29tcGFyZShrMCwgazEpID09PSAwKSB7XG4gICAgICByZXR1cm4gY2hlY2soZmFsc2UsIFhgdmFsdWUgaGFzIGR1cGxpY2F0ZSBrZXlzOiAke2swfWApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydE5vRHVwbGljYXRlS2V5cyA9IChiYWdFbnRyaWVzLCBmdWxsQ29tcGFyZSA9IHVuZGVmaW5lZCkgPT4ge1xuICBjaGVja05vRHVwbGljYXRlS2V5cyhiYWdFbnRyaWVzLCBmdWxsQ29tcGFyZSwgYXNzZXJ0Q2hlY2tlcik7XG59O1xuXG4vKlxuXG5cblxuICovJGjNj19vbmNlLmFzc2VydE5vRHVwbGljYXRlS2V5cyhhc3NlcnROb0R1cGxpY2F0ZUtleXMpO1xuICAgICAgIGNvbnN0IGNoZWNrQmFnRW50cmllcyA9IChiYWdFbnRyaWVzLCBjaGVjaykgPT4ge1xuICBpZiAocGFzc1N0eWxlT2YoYmFnRW50cmllcykgIT09ICdjb3B5QXJyYXknKSB7XG4gICAgcmV0dXJuIGNoZWNrKFxuICAgICAgZmFsc2UsXG4gICAgICBYYFRoZSBlbnRyaWVzIG9mIGEgY29weUJhZyBtdXN0IGJlIGEgY29weUFycmF5OiAke2JhZ0VudHJpZXN9YCxcbiAgICApO1xuICB9XG4gIGlmICghaXNSYW5rU29ydGVkKGJhZ0VudHJpZXMsIGNvbXBhcmVBbnRpUmFuaykpIHtcbiAgICByZXR1cm4gY2hlY2soXG4gICAgICBmYWxzZSxcbiAgICAgIFhgVGhlIGVudHJpZXMgb2YgYSBjb3B5QmFnIG11c3QgYmUgc29ydGVkIGluIHJldmVyc2UgcmFuayBvcmRlcjogJHtiYWdFbnRyaWVzfWAsXG4gICAgKTtcbiAgfVxuICBmb3IgKGNvbnN0IGVudHJ5IG9mIGJhZ0VudHJpZXMpIHtcbiAgICBpZiAoXG4gICAgICBwYXNzU3R5bGVPZihlbnRyeSkgIT09ICdjb3B5QXJyYXknIHx8XG4gICAgICBlbnRyeS5sZW5ndGggIT09IDIgfHxcbiAgICAgIHR5cGVvZiBlbnRyeVsxXSAhPT0gJ2JpZ2ludCdcbiAgICApIHtcbiAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFhgRWFjaCBlbnRyeSBvZiBhIGNvcHlCYWcgbXVzdCBiZSBwYWlyIG9mIGEga2V5IGFuZCBhIGJpZ2ludCByZXByZXNlbnRpbmcgYSBjb3VudDogJHtlbnRyeX1gLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGVudHJ5WzFdIDwgMSkge1xuICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgWGBFYWNoIGVudHJ5IG9mIGEgY29weUJhZyBtdXN0IGhhdmUgYSBwb3NpdGl2ZSBjb3VudDogJHtlbnRyeX1gLFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgLy9cbiAgcmV0dXJuIGNoZWNrTm9EdXBsaWNhdGVLZXlzKGJhZ0VudHJpZXMsIHVuZGVmaW5lZCwgY2hlY2spO1xufTskaM2PX29uY2UuY2hlY2tCYWdFbnRyaWVzKGNoZWNrQmFnRW50cmllcyk7XG5oYXJkZW4oY2hlY2tCYWdFbnRyaWVzKTtcblxuLy9cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgYXNzZXJ0QmFnRW50cmllcyA9IGJhZ0VudHJpZXMgPT4ge1xuICBjaGVja0JhZ0VudHJpZXMoYmFnRW50cmllcywgYXNzZXJ0Q2hlY2tlcik7XG59OyRozY9fb25jZS5hc3NlcnRCYWdFbnRyaWVzKGFzc2VydEJhZ0VudHJpZXMpO1xuaGFyZGVuKGFzc2VydEJhZ0VudHJpZXMpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGNvZXJjZVRvQmFnRW50cmllcyA9IGJhZ0VudHJpZXNMaXN0ID0+IHtcbiAgY29uc3QgYmFnRW50cmllcyA9IHNvcnRCeVJhbmsoYmFnRW50cmllc0xpc3QsIGNvbXBhcmVBbnRpUmFuayk7XG4gIGFzc2VydEJhZ0VudHJpZXMoYmFnRW50cmllcyk7XG4gIHJldHVybiBiYWdFbnRyaWVzO1xufTskaM2PX29uY2UuY29lcmNlVG9CYWdFbnRyaWVzKGNvZXJjZVRvQmFnRW50cmllcyk7XG5oYXJkZW4oY29lcmNlVG9CYWdFbnRyaWVzKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VCYWdPZkVudHJpZXMgPSBiYWdFbnRyeUl0ZXIgPT5cbiAgbWFrZVRhZ2dlZCgnY29weUJhZycsIGNvZXJjZVRvQmFnRW50cmllcyhiYWdFbnRyeUl0ZXIpKTskaM2PX29uY2UubWFrZUJhZ09mRW50cmllcyhtYWtlQmFnT2ZFbnRyaWVzKTtcbmhhcmRlbihtYWtlQmFnT2ZFbnRyaWVzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImFzc2VydE5vRHVwbGljYXRlS2V5cyI6WyJhc3NlcnROb0R1cGxpY2F0ZUtleXMiXSwiY2hlY2tCYWdFbnRyaWVzIjpbImNoZWNrQmFnRW50cmllcyJdLCJhc3NlcnRCYWdFbnRyaWVzIjpbImFzc2VydEJhZ0VudHJpZXMiXSwiY29lcmNlVG9CYWdFbnRyaWVzIjpbImNvZXJjZVRvQmFnRW50cmllcyJdLCJtYWtlQmFnT2ZFbnRyaWVzIjpbIm1ha2VCYWdPZkVudHJpZXMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAABxyd+3sMAAB7DAAAKQAAAEBlbmRvL3BhdHRlcm5zLXYxLjUuMC9zcmMva2V5cy9jb3B5U2V0LmpzeyJpbXBvcnRzIjpbIkBlbmRvL21hcnNoYWwiLCJAZW5kby9lcnJvcnMiXSwiZXhwb3J0cyI6WyJhc3NlcnRFbGVtZW50cyIsImFzc2VydE5vRHVwbGljYXRlcyIsImNoZWNrRWxlbWVudHMiLCJjb2VyY2VUb0VsZW1lbnRzIiwibWFrZVNldE9mRWxlbWVudHMiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnRDaGVja2VyLG1ha2VUYWdnZWQscGFzc1N0eWxlT2YsY29tcGFyZUFudGlSYW5rLGlzUmFua1NvcnRlZCxtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCxzb3J0QnlSYW5rLFg7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJhc3NlcnRDaGVja2VyXCIsWyRozY9fYSA9PiAoYXNzZXJ0Q2hlY2tlciA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dLFtcImNvbXBhcmVBbnRpUmFua1wiLFskaM2PX2EgPT4gKGNvbXBhcmVBbnRpUmFuayA9ICRozY9fYSldXSxbXCJpc1JhbmtTb3J0ZWRcIixbJGjNj19hID0+IChpc1JhbmtTb3J0ZWQgPSAkaM2PX2EpXV0sW1wibWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXRcIixbJGjNj19hID0+IChtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCA9ICRozY9fYSldXSxbXCJzb3J0QnlSYW5rXCIsWyRozY9fYSA9PiAoc29ydEJ5UmFuayA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuICovXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbmNvbnN0IGNoZWNrTm9EdXBsaWNhdGVzID0gKGVsZW1lbnRzLCBmdWxsQ29tcGFyZSwgY2hlY2spID0+IHtcbiAgLy9cbiAgLy9cbiAgLy9cbiAgLy9cbiAgZnVsbENvbXBhcmUgPSBmdWxsQ29tcGFyZSB8fCBtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCgpLmFudGlDb21wYXJhdG9yO1xuXG4gIGVsZW1lbnRzID0gc29ydEJ5UmFuayhlbGVtZW50cywgZnVsbENvbXBhcmUpO1xuICBjb25zdCB7IGxlbmd0aCB9ID0gZWxlbWVudHM7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBrMCA9IGVsZW1lbnRzW2kgLSAxXTtcbiAgICBjb25zdCBrMSA9IGVsZW1lbnRzW2ldO1xuICAgIGlmIChmdWxsQ29tcGFyZShrMCwgazEpID09PSAwKSB7XG4gICAgICByZXR1cm4gY2hlY2soZmFsc2UsIFhgdmFsdWUgaGFzIGR1cGxpY2F0ZSBrZXlzOiAke2swfWApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzc2VydE5vRHVwbGljYXRlcyA9IChlbGVtZW50cywgZnVsbENvbXBhcmUgPSB1bmRlZmluZWQpID0+IHtcbiAgY2hlY2tOb0R1cGxpY2F0ZXMoZWxlbWVudHMsIGZ1bGxDb21wYXJlLCBhc3NlcnRDaGVja2VyKTtcbn07XG5cbi8qXG5cblxuXG4gKi8kaM2PX29uY2UuYXNzZXJ0Tm9EdXBsaWNhdGVzKGFzc2VydE5vRHVwbGljYXRlcyk7XG4gICAgICAgY29uc3QgY2hlY2tFbGVtZW50cyA9IChlbGVtZW50cywgY2hlY2spID0+IHtcbiAgaWYgKHBhc3NTdHlsZU9mKGVsZW1lbnRzKSAhPT0gJ2NvcHlBcnJheScpIHtcbiAgICByZXR1cm4gY2hlY2soXG4gICAgICBmYWxzZSxcbiAgICAgIFhgVGhlIGtleXMgb2YgYSBjb3B5U2V0IG9yIGNvcHlNYXAgbXVzdCBiZSBhIGNvcHlBcnJheTogJHtlbGVtZW50c31gLFxuICAgICk7XG4gIH1cbiAgaWYgKCFpc1JhbmtTb3J0ZWQoZWxlbWVudHMsIGNvbXBhcmVBbnRpUmFuaykpIHtcbiAgICByZXR1cm4gY2hlY2soXG4gICAgICBmYWxzZSxcbiAgICAgIFhgVGhlIGtleXMgb2YgYSBjb3B5U2V0IG9yIGNvcHlNYXAgbXVzdCBiZSBzb3J0ZWQgaW4gcmV2ZXJzZSByYW5rIG9yZGVyOiAke2VsZW1lbnRzfWAsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY2hlY2tOb0R1cGxpY2F0ZXMoZWxlbWVudHMsIHVuZGVmaW5lZCwgY2hlY2spO1xufTskaM2PX29uY2UuY2hlY2tFbGVtZW50cyhjaGVja0VsZW1lbnRzKTtcbmhhcmRlbihjaGVja0VsZW1lbnRzKTtcblxuICAgICAgIGNvbnN0IGFzc2VydEVsZW1lbnRzID0gZWxlbWVudHMgPT4ge1xuICBjaGVja0VsZW1lbnRzKGVsZW1lbnRzLCBhc3NlcnRDaGVja2VyKTtcbn07JGjNj19vbmNlLmFzc2VydEVsZW1lbnRzKGFzc2VydEVsZW1lbnRzKTtcbmhhcmRlbihhc3NlcnRFbGVtZW50cyk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgY29lcmNlVG9FbGVtZW50cyA9IGVsZW1lbnRzTGlzdCA9PiB7XG4gIGNvbnN0IGVsZW1lbnRzID0gc29ydEJ5UmFuayhlbGVtZW50c0xpc3QsIGNvbXBhcmVBbnRpUmFuayk7XG4gIGFzc2VydEVsZW1lbnRzKGVsZW1lbnRzKTtcbiAgcmV0dXJuIGVsZW1lbnRzO1xufTskaM2PX29uY2UuY29lcmNlVG9FbGVtZW50cyhjb2VyY2VUb0VsZW1lbnRzKTtcbmhhcmRlbihjb2VyY2VUb0VsZW1lbnRzKTtcblxuLypcblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VTZXRPZkVsZW1lbnRzID0gZWxlbWVudEl0ZXIgPT5cbiAgbWFrZVRhZ2dlZCgnY29weVNldCcsIGNvZXJjZVRvRWxlbWVudHMoZWxlbWVudEl0ZXIpKTskaM2PX29uY2UubWFrZVNldE9mRWxlbWVudHMobWFrZVNldE9mRWxlbWVudHMpO1xuaGFyZGVuKG1ha2VTZXRPZkVsZW1lbnRzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImFzc2VydE5vRHVwbGljYXRlcyI6WyJhc3NlcnROb0R1cGxpY2F0ZXMiXSwiY2hlY2tFbGVtZW50cyI6WyJjaGVja0VsZW1lbnRzIl0sImFzc2VydEVsZW1lbnRzIjpbImFzc2VydEVsZW1lbnRzIl0sImNvZXJjZVRvRWxlbWVudHMiOlsiY29lcmNlVG9FbGVtZW50cyJdLCJtYWtlU2V0T2ZFbGVtZW50cyI6WyJtYWtlU2V0T2ZFbGVtZW50cyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAPyB9jdhYAAHYWAAA5AAAAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9rZXlzL2tleWNvbGxlY3Rpb24tb3BlcmF0b3JzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL21hcnNoYWwiLCJAZW5kby9jb21tb24vbWFrZS1pdGVyYXRvci5qcyIsIkBlbmRvL2NvbW1vbi9tYWtlLWFycmF5LWl0ZXJhdG9yLmpzIiwiQGVuZG8vZXJyb3JzIl0sImV4cG9ydHMiOlsiZ2VuZXJhdGVDb2xsZWN0aW9uUGFpckVudHJpZXMiLCJtYWtlQ29tcGFyZUNvbGxlY3Rpb24iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnRSYW5rU29ydGVkLGNvbXBhcmVBbnRpUmFuayxtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCxzb3J0QnlSYW5rLG1ha2VJdGVyYXRvcixtYWtlQXJyYXlJdGVyYXRvcixxLEZhaWw7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9tYXJzaGFsXCIsIFtbXCJhc3NlcnRSYW5rU29ydGVkXCIsWyRozY9fYSA9PiAoYXNzZXJ0UmFua1NvcnRlZCA9ICRozY9fYSldXSxbXCJjb21wYXJlQW50aVJhbmtcIixbJGjNj19hID0+IChjb21wYXJlQW50aVJhbmsgPSAkaM2PX2EpXV0sW1wibWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXRcIixbJGjNj19hID0+IChtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCA9ICRozY9fYSldXSxbXCJzb3J0QnlSYW5rXCIsWyRozY9fYSA9PiAoc29ydEJ5UmFuayA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2NvbW1vbi9tYWtlLWl0ZXJhdG9yLmpzXCIsIFtbXCJtYWtlSXRlcmF0b3JcIixbJGjNj19hID0+IChtYWtlSXRlcmF0b3IgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9jb21tb24vbWFrZS1hcnJheS1pdGVyYXRvci5qc1wiLCBbW1wibWFrZUFycmF5SXRlcmF0b3JcIixbJGjNj19hID0+IChtYWtlQXJyYXlJdGVyYXRvciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBnZW5lcmF0ZUZ1bGxTb3J0ZWRFbnRyaWVzID0gKGVudHJpZXMsIHJhbmtDb21wYXJlLCBmdWxsQ29tcGFyZSkgPT4ge1xuICAvL1xuICBhc3NlcnRSYW5rU29ydGVkKGVudHJpZXMsIHJhbmtDb21wYXJlKTtcbiAgY29uc3QgeyBsZW5ndGggfSA9IGVudHJpZXM7XG4gIGxldCBpID0gMDtcbiAgbGV0IHNhbWVSYW5rSXRlcmF0b3I7XG4gIHJldHVybiBtYWtlSXRlcmF0b3IoKCkgPT4ge1xuICAgIGlmIChzYW1lUmFua0l0ZXJhdG9yKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBzYW1lUmFua0l0ZXJhdG9yLm5leHQoKTtcbiAgICAgIGlmICghcmVzdWx0LmRvbmUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHNhbWVSYW5rSXRlcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChpIDwgbGVuZ3RoKSB7XG4gICAgICBjb25zdCBlbnRyeSA9IGVudHJpZXNbaV07XG4gICAgICAvL1xuICAgICAgbGV0IGogPSBpICsgMTtcbiAgICAgIHdoaWxlIChqIDwgbGVuZ3RoICYmIHJhbmtDb21wYXJlKGVudHJ5WzBdLCBlbnRyaWVzW2pdWzBdKSA9PT0gMCkge1xuICAgICAgICBqICs9IDE7XG4gICAgICB9XG4gICAgICBpZiAoaiA9PT0gaSArIDEpIHtcbiAgICAgICAgLy9cbiAgICAgICAgaSA9IGo7XG4gICAgICAgIHJldHVybiBoYXJkZW4oeyBkb25lOiBmYWxzZSwgdmFsdWU6IGVudHJ5IH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgdGllcyA9IGVudHJpZXMuc2xpY2UoaSwgaik7XG4gICAgICBpID0gajtcblxuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgY29uc3Qgc29ydGVkVGllcyA9IHNvcnRCeVJhbmsodGllcywgZnVsbENvbXBhcmUpO1xuICAgICAgZm9yIChsZXQgayA9IDE7IGsgPCBzb3J0ZWRUaWVzLmxlbmd0aDsgayArPSAxKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IFtrZXkwXSA9IHNvcnRlZFRpZXNbayAtIDFdO1xuICAgICAgICBjb25zdCBba2V5MV0gPSBzb3J0ZWRUaWVzW2tdO1xuICAgICAgICBNYXRoLnNpZ24oZnVsbENvbXBhcmUoa2V5MCwga2V5MSkpIHx8XG4gICAgICAgICAgRmFpbGBEdXBsaWNhdGUgZW50cnkga2V5OiAke2tleTB9YDtcbiAgICAgIH1cbiAgICAgIHNhbWVSYW5rSXRlcmF0b3IgPSBtYWtlQXJyYXlJdGVyYXRvcihzb3J0ZWRUaWVzKTtcbiAgICAgIHJldHVybiBzYW1lUmFua0l0ZXJhdG9yLm5leHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhcmRlbih7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfSk7XG4gIH0pO1xufTtcbmhhcmRlbihnZW5lcmF0ZUZ1bGxTb3J0ZWRFbnRyaWVzKTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdlbmVyYXRlQ29sbGVjdGlvblBhaXJFbnRyaWVzID0gKFxuICBjMSxcbiAgYzIsXG4gIGdldEVudHJpZXMsXG4gIGFic2VudFZhbHVlLFxuKSA9PiB7XG4gIGNvbnN0IGUxID0gZ2V0RW50cmllcyhjMSk7XG4gIGNvbnN0IGUyID0gZ2V0RW50cmllcyhjMik7XG5cbiAgLy9cbiAgLy9cbiAgLy9cbiAgY29uc3QgZnVsbENvbXBhcmUgPSBtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCgpLmFudGlDb21wYXJhdG9yO1xuICBjb25zdCB4ID0gZ2VuZXJhdGVGdWxsU29ydGVkRW50cmllcyhlMSwgY29tcGFyZUFudGlSYW5rLCBmdWxsQ29tcGFyZSk7XG4gIGNvbnN0IHkgPSBnZW5lcmF0ZUZ1bGxTb3J0ZWRFbnRyaWVzKGUyLCBjb21wYXJlQW50aVJhbmssIGZ1bGxDb21wYXJlKTtcblxuICAvL1xuICAvL1xuICBsZXQgeERvbmU7XG4gIGxldCB4S2V5O1xuICBsZXQgeFZhbHVlO1xuICBsZXQgeURvbmU7XG4gIGxldCB5S2V5O1xuICBsZXQgeVZhbHVlO1xuICBjb25zdCBub25FbnRyeSA9IFt1bmRlZmluZWQsIHVuZGVmaW5lZF07XG4gIGNvbnN0IG5leHRYID0gKCkgPT4ge1xuICAgICF4RG9uZSB8fCBGYWlsYEludGVybmFsOiBuZXh0WCBtdXN0IG5vdCBiZSBjYWxsZWQgb25jZSBkb25lYDtcbiAgICBjb25zdCByZXN1bHQgPSB4VmFsdWU7XG4gICAgKHsgZG9uZTogeERvbmUsIHZhbHVlOiBbeEtleSwgeFZhbHVlXSA9IG5vbkVudHJ5IH0gPSB4Lm5leHQoKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgbmV4dFgoKTtcbiAgY29uc3QgbmV4dFkgPSAoKSA9PiB7XG4gICAgIXlEb25lIHx8IEZhaWxgSW50ZXJuYWw6IG5leHRZIG11c3Qgbm90IGJlIGNhbGxlZCBvbmNlIGRvbmVgO1xuICAgIGNvbnN0IHJlc3VsdCA9IHlWYWx1ZTtcbiAgICAoeyBkb25lOiB5RG9uZSwgdmFsdWU6IFt5S2V5LCB5VmFsdWVdID0gbm9uRW50cnkgfSA9IHkubmV4dCgpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBuZXh0WSgpO1xuICByZXR1cm4gbWFrZUl0ZXJhdG9yKCgpID0+IHtcbiAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGxldCB2YWx1ZTtcbiAgICBpZiAoeERvbmUgJiYgeURvbmUpIHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgdmFsdWUgPSBbdW5kZWZpbmVkLCBhYnNlbnRWYWx1ZSwgYWJzZW50VmFsdWVdO1xuICAgIH0gZWxzZSBpZiAoeERvbmUpIHtcbiAgICAgIHZhbHVlID0gW3lLZXksIGFic2VudFZhbHVlLCBuZXh0WSgpXTtcbiAgICB9IGVsc2UgaWYgKHlEb25lKSB7XG4gICAgICB2YWx1ZSA9IFt4S2V5LCBuZXh0WCgpLCBhYnNlbnRWYWx1ZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgY29uc3QgY29tcCA9IGZ1bGxDb21wYXJlKHhLZXksIHlLZXkpO1xuICAgICAgaWYgKGNvbXAgPT09IDApIHtcbiAgICAgICAgdmFsdWUgPSBbeEtleSwgbmV4dFgoKSwgbmV4dFkoKV07XG4gICAgICB9IGVsc2UgaWYgKGNvbXAgPCAwKSB7XG4gICAgICAgIHZhbHVlID0gW3hLZXksIG5leHRYKCksIGFic2VudFZhbHVlXTtcbiAgICAgIH0gZWxzZSBpZiAoY29tcCA+IDApIHtcbiAgICAgICAgdmFsdWUgPSBbeUtleSwgYWJzZW50VmFsdWUsIG5leHRZKCldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRmFpbGBVbmV4cGVjdGVkIGtleSBjb21wYXJpc29uICR7cShjb21wKX0gZm9yICR7eEtleX0gdnMgJHt5S2V5fWA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXJkZW4oeyBkb25lLCB2YWx1ZSB9KTtcbiAgfSk7XG59OyRozY9fb25jZS5nZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllcyhnZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllcyk7XG5oYXJkZW4oZ2VuZXJhdGVDb2xsZWN0aW9uUGFpckVudHJpZXMpO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VDb21wYXJlQ29sbGVjdGlvbiA9IChnZXRFbnRyaWVzLCBhYnNlbnRWYWx1ZSwgY29tcGFyZVZhbHVlcykgPT5cbiAgaGFyZGVuKChsZWZ0LCByaWdodCkgPT4ge1xuICAgIGNvbnN0IG1lcmdlZCA9IGdlbmVyYXRlQ29sbGVjdGlvblBhaXJFbnRyaWVzKFxuICAgICAgbGVmdCxcbiAgICAgIHJpZ2h0LFxuICAgICAgZ2V0RW50cmllcyxcbiAgICAgIGFic2VudFZhbHVlLFxuICAgICk7XG4gICAgbGV0IGxlZnRJc0JpZ2dlciA9IGZhbHNlO1xuICAgIGxldCByaWdodElzQmlnZ2VyID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBbX2tleSwgbGVmdFZhbHVlLCByaWdodFZhbHVlXSBvZiBtZXJnZWQpIHtcbiAgICAgIGNvbnN0IGNvbXAgPSBjb21wYXJlVmFsdWVzKGxlZnRWYWx1ZSwgcmlnaHRWYWx1ZSk7XG4gICAgICBpZiAoY29tcCA9PT0gMCkge1xuICAgICAgICAvL1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAoY29tcCA8IDApIHtcbiAgICAgICAgLy9cbiAgICAgICAgcmlnaHRJc0JpZ2dlciA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGNvbXAgPiAwKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGxlZnRJc0JpZ2dlciA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOdW1iZXIuaXNOYU4oY29tcCkgfHxcbiAgICAgICAgICAvL1xuICAgICAgICAgIEZhaWxgVW5leHBlY3RlZCB2YWx1ZSBjb21wYXJpc29uICR7cShjb21wKX0gZm9yICR7bGVmdFZhbHVlfSB2cyAke3JpZ2h0VmFsdWV9YDtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH1cbiAgICAgIGlmIChsZWZ0SXNCaWdnZXIgJiYgcmlnaHRJc0JpZ2dlcikge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgfVxuICAgIH1cbiAgICAvL1xuICAgIHJldHVybiBsZWZ0SXNCaWdnZXIgPyAxIDogcmlnaHRJc0JpZ2dlciA/IC0xIDogMDtcbiAgfSk7JGjNj19vbmNlLm1ha2VDb21wYXJlQ29sbGVjdGlvbihtYWtlQ29tcGFyZUNvbGxlY3Rpb24pO1xuaGFyZGVuKG1ha2VDb21wYXJlQ29sbGVjdGlvbik7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJnZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllcyI6WyJnZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllcyJdLCJtYWtlQ29tcGFyZUNvbGxlY3Rpb24iOlsibWFrZUNvbXBhcmVDb2xsZWN0aW9uIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAANICYgGRHAAAkRwAADUAAABAZW5kby9wYXR0ZXJucy12MS41LjAvc3JjL2tleXMvbWVyZ2UtYmFnLW9wZXJhdG9ycy5qc3siaW1wb3J0cyI6WyJAZW5kby9tYXJzaGFsIiwiQGVuZG8vZXJyb3JzIiwiLi9jb3B5QmFnLmpzIl0sImV4cG9ydHMiOlsiYmFnRGlzam9pbnRTdWJ0cmFjdCIsImJhZ0ludGVyc2VjdGlvbiIsImJhZ0lzRGlzam9pbnQiLCJiYWdJc1N1cGVyYmFnIiwiYmFnVW5pb24iXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBhc3NlcnRSYW5rU29ydGVkLGNvbXBhcmVBbnRpUmFuayxtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdCxzb3J0QnlSYW5rLHEsRmFpbCxhc3NlcnROb0R1cGxpY2F0ZUtleXMsbWFrZUJhZ09mRW50cmllczskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL21hcnNoYWxcIiwgW1tcImFzc2VydFJhbmtTb3J0ZWRcIixbJGjNj19hID0+IChhc3NlcnRSYW5rU29ydGVkID0gJGjNj19hKV1dLFtcImNvbXBhcmVBbnRpUmFua1wiLFskaM2PX2EgPT4gKGNvbXBhcmVBbnRpUmFuayA9ICRozY9fYSldXSxbXCJtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdFwiLFskaM2PX2EgPT4gKG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0ID0gJGjNj19hKV1dLFtcInNvcnRCeVJhbmtcIixbJGjNj19hID0+IChzb3J0QnlSYW5rID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIi4vY29weUJhZy5qc1wiLCBbW1wiYXNzZXJ0Tm9EdXBsaWNhdGVLZXlzXCIsWyRozY9fYSA9PiAoYXNzZXJ0Tm9EdXBsaWNhdGVLZXlzID0gJGjNj19hKV1dLFtcIm1ha2VCYWdPZkVudHJpZXNcIixbJGjNj19hID0+IChtYWtlQmFnT2ZFbnRyaWVzID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG4vKlxuXG5cbiAqL1xuXG4vL1xuLy9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgYmFnV2luZG93UmVzb3J0ID0gKGJhZ0VudHJpZXMsIHJhbmtDb21wYXJlLCBmdWxsQ29tcGFyZSkgPT4ge1xuICBhc3NlcnRSYW5rU29ydGVkKGJhZ0VudHJpZXMsIHJhbmtDb21wYXJlKTtcbiAgY29uc3QgeyBsZW5ndGggfSA9IGJhZ0VudHJpZXM7XG4gIGxldCBpID0gMDtcbiAgbGV0IG9wdElubmVySXRlcmF0b3I7XG4gIHJldHVybiBoYXJkZW4oe1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PlxuICAgICAgaGFyZGVuKHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGlmIChvcHRJbm5lckl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRJbm5lckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICBvcHRJbm5lckl0ZXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGkgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gYmFnRW50cmllc1tpXTtcbiAgICAgICAgICAgIGxldCBqID0gaSArIDE7XG4gICAgICAgICAgICB3aGlsZSAoXG4gICAgICAgICAgICAgIGogPCBsZW5ndGggJiZcbiAgICAgICAgICAgICAgcmFua0NvbXBhcmUoZW50cnlbMF0sIGJhZ0VudHJpZXNbal1bMF0pID09PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaiArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGogPT09IGkgKyAxKSB7XG4gICAgICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgZG9uZTogZmFsc2UsIHZhbHVlOiBlbnRyeSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNpbWlsYXJSdW4gPSBiYWdFbnRyaWVzLnNsaWNlKGksIGopO1xuICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICBjb25zdCByZXNvcnRlZCA9IHNvcnRCeVJhbmsoc2ltaWxhclJ1biwgZnVsbENvbXBhcmUpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGVLZXlzKHJlc29ydGVkLCBmdWxsQ29tcGFyZSk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIG9wdElubmVySXRlcmF0b3IgPSByZXNvcnRlZFtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgICAgICByZXR1cm4gb3B0SW5uZXJJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoYXJkZW4oeyBkb25lOiB0cnVlLCB2YWx1ZTogW251bGwsIDBuXSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgfSk7XG59O1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3QgbWVyZ2UgPSAoeGJhZ0VudHJpZXMsIHliYWdFbnRyaWVzKSA9PiB7XG4gIC8vXG4gIC8vXG4gIGNvbnN0IGZ1bGxDb21wYXJlID0gbWFrZUZ1bGxPcmRlckNvbXBhcmF0b3JLaXQoKS5hbnRpQ29tcGFyYXRvcjtcblxuICBjb25zdCB4cyA9IGJhZ1dpbmRvd1Jlc29ydCh4YmFnRW50cmllcywgY29tcGFyZUFudGlSYW5rLCBmdWxsQ29tcGFyZSk7XG4gIGNvbnN0IHlzID0gYmFnV2luZG93UmVzb3J0KHliYWdFbnRyaWVzLCBjb21wYXJlQW50aVJhbmssIGZ1bGxDb21wYXJlKTtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgW1N5bWJvbC5pdGVyYXRvcl06ICgpID0+IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8qICAgICAgICAgICAgKi9cbiAgICAgIGxldCB4O1xuICAgICAgbGV0IHhjO1xuICAgICAgbGV0IHhEb25lO1xuICAgICAgLyogICAgICAgICAgICAqL1xuICAgICAgbGV0IHk7XG4gICAgICBsZXQgeWM7XG4gICAgICBsZXQgeURvbmU7XG5cbiAgICAgIGNvbnN0IHhpID0geHNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgY29uc3QgbmV4dFggPSAoKSA9PiB7XG4gICAgICAgICF4RG9uZSB8fCBGYWlsYEludGVybmFsOiBuZXh0WCBzaG91bGQgbm90IGJlIGNhbGxlZCBvbmNlIGRvbmVgO1xuICAgICAgICAoe1xuICAgICAgICAgIGRvbmU6IHhEb25lLFxuICAgICAgICAgIHZhbHVlOiBbeCwgeGNdLFxuICAgICAgICB9ID0geGkubmV4dCgpKTtcbiAgICAgIH07XG4gICAgICBuZXh0WCgpO1xuXG4gICAgICBjb25zdCB5aSA9IHlzW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgIGNvbnN0IG5leHRZID0gKCkgPT4ge1xuICAgICAgICAheURvbmUgfHwgRmFpbGBJbnRlcm5hbDogbmV4dFkgc2hvdWxkIG5vdCBiZSBjYWxsZWQgb25jZSBkb25lYDtcbiAgICAgICAgKHtcbiAgICAgICAgICBkb25lOiB5RG9uZSxcbiAgICAgICAgICB2YWx1ZTogW3ksIHljXSxcbiAgICAgICAgfSA9IHlpLm5leHQoKSk7XG4gICAgICB9O1xuICAgICAgbmV4dFkoKTtcblxuICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgIG5leHQ6ICgpID0+IHtcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgIGxldCB2YWx1ZTtcbiAgICAgICAgICBpZiAoeERvbmUgJiYgeURvbmUpIHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHZhbHVlID0gW251bGwsIDBuLCAwbl07XG4gICAgICAgICAgfSBlbHNlIGlmICh4RG9uZSkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHZhbHVlID0gW3ksIDBuLCB5Y107XG4gICAgICAgICAgICBuZXh0WSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoeURvbmUpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICB2YWx1ZSA9IFt4LCB4YywgMG5dO1xuICAgICAgICAgICAgbmV4dFgoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29tcCA9IGZ1bGxDb21wYXJlKHgsIHkpO1xuICAgICAgICAgICAgaWYgKGNvbXAgPT09IDApIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgdmFsdWUgPSBbeCwgeGMsIHljXTtcbiAgICAgICAgICAgICAgbmV4dFgoKTtcbiAgICAgICAgICAgICAgbmV4dFkoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcCA8IDApIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgdmFsdWUgPSBbeCwgeGMsIDBuXTtcbiAgICAgICAgICAgICAgbmV4dFgoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIGNvbXAgPiAwIHx8IEZhaWxgSW50ZXJuYWw6IFVuZXhwZWN0ZWQgY29tcCAke3EoY29tcCl9YDtcbiAgICAgICAgICAgICAgdmFsdWUgPSBbeSwgMG4sIHljXTtcbiAgICAgICAgICAgICAgbmV4dFkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGhhcmRlbih7IGRvbmUsIHZhbHVlIH0pO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG59O1xuaGFyZGVuKG1lcmdlKTtcblxuLy9cbi8vXG4vKlxuXG5cblxuICovXG5jb25zdCBiYWdJdGVySXNTdXBlcmJhZyA9IHh5aSA9PiB7XG4gIGZvciAoY29uc3QgW19tLCB4YywgeWNdIG9mIHh5aSkge1xuICAgIGlmICh4YyA8IHljKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8vXG4vL1xuLypcblxuXG5cbiAqL1xuY29uc3QgYmFnSXRlcklzRGlzam9pbnQgPSB4eWkgPT4ge1xuICBmb3IgKGNvbnN0IFtfbSwgeGMsIHljXSBvZiB4eWkpIHtcbiAgICBpZiAoeGMgPj0gMW4gJiYgeWMgPj0gMW4pIHtcbiAgICAgIC8vXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgYmFnSXRlclVuaW9uID0geHlpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IFttLCB4YywgeWNdIG9mIHh5aSkge1xuICAgIHJlc3VsdC5wdXNoKFttLCB4YyArIHljXSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGJhZ0l0ZXJJbnRlcnNlY3Rpb24gPSB4eWkgPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAoY29uc3QgW20sIHhjLCB5Y10gb2YgeHlpKSB7XG4gICAgY29uc3QgbWMgPSB4YyA8PSB5YyA/IHhjIDogeWM7XG4gICAgcmVzdWx0LnB1c2goW20sIG1jXSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGJhZ0l0ZXJEaXNqb2ludFN1YnRyYWN0ID0geHlpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IFttLCB4YywgeWNdIG9mIHh5aSkge1xuICAgIGNvbnN0IG1jID0geGMgLSB5YztcbiAgICBtYyA+PSAwbiB8fCBGYWlsYHJpZ2h0IGVsZW1lbnQgJHttfSB3YXMgbm90IGluIGxlZnRgO1xuICAgIGlmIChtYyA+PSAxbikge1xuICAgICAgLy9cbiAgICAgIHJlc3VsdC5wdXNoKFttLCBtY10pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgbWVyZ2VpZnkgPSBiYWdJdGVyT3AgPT4gKHhiYWdFbnRyaWVzLCB5YmFnRW50cmllcykgPT5cbiAgYmFnSXRlck9wKG1lcmdlKHhiYWdFbnRyaWVzLCB5YmFnRW50cmllcykpO1xuXG5jb25zdCBiYWdFbnRyaWVzSXNTdXBlcmJhZyA9IG1lcmdlaWZ5KGJhZ0l0ZXJJc1N1cGVyYmFnKTtcbmNvbnN0IGJhZ0VudHJpZXNJc0Rpc2pvaW50ID0gbWVyZ2VpZnkoYmFnSXRlcklzRGlzam9pbnQpO1xuY29uc3QgYmFnRW50cmllc1VuaW9uID0gbWVyZ2VpZnkoYmFnSXRlclVuaW9uKTtcbmNvbnN0IGJhZ0VudHJpZXNJbnRlcnNlY3Rpb24gPSBtZXJnZWlmeShiYWdJdGVySW50ZXJzZWN0aW9uKTtcbmNvbnN0IGJhZ0VudHJpZXNEaXNqb2ludFN1YnRyYWN0ID0gbWVyZ2VpZnkoYmFnSXRlckRpc2pvaW50U3VidHJhY3QpO1xuXG5jb25zdCByYXdCYWdpZnkgPSBiYWdFbnRyaWVzT3AgPT4gKHhiYWcsIHliYWcpID0+XG4gIGJhZ0VudHJpZXNPcCh4YmFnLnBheWxvYWQsIHliYWcucGF5bG9hZCk7XG5cbmNvbnN0IGJhZ2lmeSA9IGJhZ0VudHJpZXNPcCA9PiAoeGJhZywgeWJhZykgPT5cbiAgbWFrZUJhZ09mRW50cmllcyhiYWdFbnRyaWVzT3AoeGJhZy5wYXlsb2FkLCB5YmFnLnBheWxvYWQpKTtcblxuICAgICAgIGNvbnN0IGJhZ0lzU3VwZXJiYWcgPSByYXdCYWdpZnkoYmFnRW50cmllc0lzU3VwZXJiYWcpOyRozY9fb25jZS5iYWdJc1N1cGVyYmFnKGJhZ0lzU3VwZXJiYWcpO1xuICAgICAgIGNvbnN0IGJhZ0lzRGlzam9pbnQgPSByYXdCYWdpZnkoYmFnRW50cmllc0lzRGlzam9pbnQpOyRozY9fb25jZS5iYWdJc0Rpc2pvaW50KGJhZ0lzRGlzam9pbnQpO1xuICAgICAgIGNvbnN0IGJhZ1VuaW9uID0gYmFnaWZ5KGJhZ0VudHJpZXNVbmlvbik7JGjNj19vbmNlLmJhZ1VuaW9uKGJhZ1VuaW9uKTtcbiAgICAgICBjb25zdCBiYWdJbnRlcnNlY3Rpb24gPSBiYWdpZnkoYmFnRW50cmllc0ludGVyc2VjdGlvbik7JGjNj19vbmNlLmJhZ0ludGVyc2VjdGlvbihiYWdJbnRlcnNlY3Rpb24pO1xuICAgICAgIGNvbnN0IGJhZ0Rpc2pvaW50U3VidHJhY3QgPSBiYWdpZnkoYmFnRW50cmllc0Rpc2pvaW50U3VidHJhY3QpOyRozY9fb25jZS5iYWdEaXNqb2ludFN1YnRyYWN0KGJhZ0Rpc2pvaW50U3VidHJhY3QpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiYmFnSXNTdXBlcmJhZyI6WyJiYWdJc1N1cGVyYmFnIl0sImJhZ0lzRGlzam9pbnQiOlsiYmFnSXNEaXNqb2ludCJdLCJiYWdVbmlvbiI6WyJiYWdVbmlvbiJdLCJiYWdJbnRlcnNlY3Rpb24iOlsiYmFnSW50ZXJzZWN0aW9uIl0sImJhZ0Rpc2pvaW50U3VidHJhY3QiOlsiYmFnRGlzam9pbnRTdWJ0cmFjdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAD5UY4TSSMAAEkjAAA1AAAAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9rZXlzL21lcmdlLXNldC1vcGVyYXRvcnMuanN7ImltcG9ydHMiOlsiQGVuZG8vbWFyc2hhbCIsIkBlbmRvL2Vycm9ycyIsIi4vY29weVNldC5qcyJdLCJleHBvcnRzIjpbImVsZW1lbnRzQ29tcGFyZSIsImVsZW1lbnRzRGlzam9pbnRTdWJ0cmFjdCIsImVsZW1lbnRzRGlzam9pbnRVbmlvbiIsImVsZW1lbnRzSW50ZXJzZWN0aW9uIiwiZWxlbWVudHNJc0Rpc2pvaW50IiwiZWxlbWVudHNJc1N1cGVyc2V0IiwiZWxlbWVudHNVbmlvbiIsInNldERpc2pvaW50U3VidHJhY3QiLCJzZXREaXNqb2ludFVuaW9uIiwic2V0SW50ZXJzZWN0aW9uIiwic2V0SXNEaXNqb2ludCIsInNldElzU3VwZXJzZXQiLCJzZXRVbmlvbiJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGFzc2VydFJhbmtTb3J0ZWQsY29tcGFyZUFudGlSYW5rLG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0LHNvcnRCeVJhbmsscSxGYWlsLGFzc2VydE5vRHVwbGljYXRlcyxtYWtlU2V0T2ZFbGVtZW50czskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL21hcnNoYWxcIiwgW1tcImFzc2VydFJhbmtTb3J0ZWRcIixbJGjNj19hID0+IChhc3NlcnRSYW5rU29ydGVkID0gJGjNj19hKV1dLFtcImNvbXBhcmVBbnRpUmFua1wiLFskaM2PX2EgPT4gKGNvbXBhcmVBbnRpUmFuayA9ICRozY9fYSldXSxbXCJtYWtlRnVsbE9yZGVyQ29tcGFyYXRvcktpdFwiLFskaM2PX2EgPT4gKG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0ID0gJGjNj19hKV1dLFtcInNvcnRCeVJhbmtcIixbJGjNj19hID0+IChzb3J0QnlSYW5rID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vZXJyb3JzXCIsIFtbXCJxXCIsWyRozY9fYSA9PiAocSA9ICRozY9fYSldXSxbXCJGYWlsXCIsWyRozY9fYSA9PiAoRmFpbCA9ICRozY9fYSldXV1dLFtcIi4vY29weVNldC5qc1wiLCBbW1wiYXNzZXJ0Tm9EdXBsaWNhdGVzXCIsWyRozY9fYSA9PiAoYXNzZXJ0Tm9EdXBsaWNhdGVzID0gJGjNj19hKV1dLFtcIm1ha2VTZXRPZkVsZW1lbnRzXCIsWyRozY9fYSA9PiAobWFrZVNldE9mRWxlbWVudHMgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG4gKi9cblxuLy9cblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuY29uc3Qgd2luZG93UmVzb3J0ID0gKGVsZW1lbnRzLCByYW5rQ29tcGFyZSwgZnVsbENvbXBhcmUpID0+IHtcbiAgYXNzZXJ0UmFua1NvcnRlZChlbGVtZW50cywgcmFua0NvbXBhcmUpO1xuICBjb25zdCB7IGxlbmd0aCB9ID0gZWxlbWVudHM7XG4gIGxldCBpID0gMDtcbiAgbGV0IG9wdElubmVySXRlcmF0b3I7XG4gIHJldHVybiBoYXJkZW4oe1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PlxuICAgICAgaGFyZGVuKHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGlmIChvcHRJbm5lckl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRJbm5lckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICBvcHRJbm5lckl0ZXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGkgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICBsZXQgaiA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKGogPCBsZW5ndGggJiYgcmFua0NvbXBhcmUodmFsdWUsIGVsZW1lbnRzW2pdKSA9PT0gMCkge1xuICAgICAgICAgICAgICBqICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaiA9PT0gaSArIDEpIHtcbiAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgIHJldHVybiBoYXJkZW4oeyBkb25lOiBmYWxzZSwgdmFsdWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzaW1pbGFyUnVuID0gZWxlbWVudHMuc2xpY2UoaSwgaik7XG4gICAgICAgICAgICBpID0gajtcbiAgICAgICAgICAgIGNvbnN0IHJlc29ydGVkID0gc29ydEJ5UmFuayhzaW1pbGFyUnVuLCBmdWxsQ29tcGFyZSk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZXMocmVzb3J0ZWQsIGZ1bGxDb21wYXJlKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgb3B0SW5uZXJJdGVyYXRvciA9IHJlc29ydGVkW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIHJldHVybiBvcHRJbm5lckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhhcmRlbih7IGRvbmU6IHRydWUsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICB9KTtcbn07XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuICovXG5jb25zdCBtZXJnZSA9ICh4ZWxlbWVudHMsIHllbGVtZW50cykgPT4ge1xuICAvL1xuICAvL1xuICBjb25zdCBmdWxsQ29tcGFyZSA9IG1ha2VGdWxsT3JkZXJDb21wYXJhdG9yS2l0KCkuYW50aUNvbXBhcmF0b3I7XG5cbiAgY29uc3QgeHMgPSB3aW5kb3dSZXNvcnQoeGVsZW1lbnRzLCBjb21wYXJlQW50aVJhbmssIGZ1bGxDb21wYXJlKTtcbiAgY29uc3QgeXMgPSB3aW5kb3dSZXNvcnQoeWVsZW1lbnRzLCBjb21wYXJlQW50aVJhbmssIGZ1bGxDb21wYXJlKTtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgW1N5bWJvbC5pdGVyYXRvcl06ICgpID0+IHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8qICAgICAgICAgICAgKi9cbiAgICAgIGxldCB4O1xuICAgICAgbGV0IHhEb25lO1xuICAgICAgLyogICAgICAgICAgICAqL1xuICAgICAgbGV0IHk7XG4gICAgICBsZXQgeURvbmU7XG5cbiAgICAgIGNvbnN0IHhpID0geHNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgY29uc3QgbmV4dFggPSAoKSA9PiB7XG4gICAgICAgICF4RG9uZSB8fCBGYWlsYEludGVybmFsOiBuZXh0WCBzaG91bGQgbm90IGJlIGNhbGxlZCBvbmNlIGRvbmVgO1xuICAgICAgICAoeyBkb25lOiB4RG9uZSwgdmFsdWU6IHggfSA9IHhpLm5leHQoKSk7XG4gICAgICB9O1xuICAgICAgbmV4dFgoKTtcblxuICAgICAgY29uc3QgeWkgPSB5c1tTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICBjb25zdCBuZXh0WSA9ICgpID0+IHtcbiAgICAgICAgIXlEb25lIHx8IEZhaWxgSW50ZXJuYWw6IG5leHRZIHNob3VsZCBub3QgYmUgY2FsbGVkIG9uY2UgZG9uZWA7XG4gICAgICAgICh7IGRvbmU6IHlEb25lLCB2YWx1ZTogeSB9ID0geWkubmV4dCgpKTtcbiAgICAgIH07XG4gICAgICBuZXh0WSgpO1xuXG4gICAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICAgIGlmICh4RG9uZSAmJiB5RG9uZSkge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdmFsdWUgPSBbbnVsbCwgMG4sIDBuXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHhEb25lKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdmFsdWUgPSBbeSwgMG4sIDFuXTtcbiAgICAgICAgICAgIG5leHRZKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh5RG9uZSkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHZhbHVlID0gW3gsIDFuLCAwbl07XG4gICAgICAgICAgICBuZXh0WCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb21wID0gZnVsbENvbXBhcmUoeCwgeSk7XG4gICAgICAgICAgICBpZiAoY29tcCA9PT0gMCkge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICB2YWx1ZSA9IFt4LCAxbiwgMW5dO1xuICAgICAgICAgICAgICBuZXh0WCgpO1xuICAgICAgICAgICAgICBuZXh0WSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wIDwgMCkge1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICB2YWx1ZSA9IFt4LCAxbiwgMG5dO1xuICAgICAgICAgICAgICBuZXh0WCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgY29tcCA+IDAgfHwgRmFpbGBJbnRlcm5hbDogVW5leHBlY3RlZCBjb21wICR7cShjb21wKX1gO1xuICAgICAgICAgICAgICB2YWx1ZSA9IFt5LCAwbiwgMW5dO1xuICAgICAgICAgICAgICBuZXh0WSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaGFyZGVuKHsgZG9uZSwgdmFsdWUgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcbn07XG5oYXJkZW4obWVyZ2UpO1xuXG5jb25zdCBpdGVySXNTdXBlcnNldCA9IHh5aSA9PiB7XG4gIGZvciAoY29uc3QgW19tLCB4YywgX3ljXSBvZiB4eWkpIHtcbiAgICBpZiAoeGMgPT09IDBuKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGl0ZXJJc0Rpc2pvaW50ID0geHlpID0+IHtcbiAgZm9yIChjb25zdCBbX20sIHhjLCB5Y10gb2YgeHlpKSB7XG4gICAgaWYgKHhjID49IDFuICYmIHljID49IDFuKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qXG5cblxuXG4gKi9cbmNvbnN0IGl0ZXJDb21wYXJlID0geHlpID0+IHtcbiAgbGV0IGxvbmVZID0gZmFsc2U7XG4gIGxldCBsb25lWCA9IGZhbHNlO1xuICBmb3IgKGNvbnN0IFtfbSwgeGMsIHljXSBvZiB4eWkpIHtcbiAgICBpZiAoeGMgPT09IDBuKSB7XG4gICAgICAvL1xuICAgICAgbG9uZVkgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoeWMgPT09IDBuKSB7XG4gICAgICAvL1xuICAgICAgbG9uZVggPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobG9uZVggJiYgbG9uZVkpIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICB9XG4gIGlmIChsb25lWCkge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2UgaWYgKGxvbmVZKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2Uge1xuICAgICghbG9uZVggJiYgIWxvbmVZKSB8fFxuICAgICAgRmFpbGBJbnRlcm5hbDogVW5leHBlY3RlZCBsb25lIHBhaXIgJHtxKFtsb25lWCwgbG9uZVldKX1gO1xuICAgIHJldHVybiAwO1xuICB9XG59O1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBpdGVyVW5pb24gPSB4eWkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChjb25zdCBbbSwgeGMsIHljXSBvZiB4eWkpIHtcbiAgICBpZiAoeGMgPj0gMG4pIHtcbiAgICAgIHJlc3VsdC5wdXNoKG0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB5YyA+PSAwbiB8fCBGYWlsYEludGVybmFsOiBVbmV4cGVjdGVkIGNvdW50ICR7cSh5Yyl9YDtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmVzdWx0LnB1c2gobSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKlxuXG5cblxuICovXG5jb25zdCBpdGVyRGlzam9pbnRVbmlvbiA9IHh5aSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IFttLCB4YywgeWNdIG9mIHh5aSkge1xuICAgIHhjID09PSAwbiB8fCB5YyA9PT0gMG4gfHwgRmFpbGBTZXRzIG11c3Qgbm90IGhhdmUgY29tbW9uIGVsZW1lbnRzOiAke219YDtcbiAgICBpZiAoeGMgPj0gMW4pIHtcbiAgICAgIHJlc3VsdC5wdXNoKG0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB5YyA+PSAxbiB8fCBGYWlsYEludGVybmFsOiBVbmV4cGVjdGVkIGNvdW50ICR7cSh5Yyl9YDtcbiAgICAgIHJlc3VsdC5wdXNoKG0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgaXRlckludGVyc2VjdGlvbiA9IHh5aSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IFttLCB4YywgeWNdIG9mIHh5aSkge1xuICAgIGlmICh4YyA+PSAxbiAmJiB5YyA+PSAxbikge1xuICAgICAgLy9cbiAgICAgIHJlc3VsdC5wdXNoKG0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgaXRlckRpc2pvaW50U3VidHJhY3QgPSB4eWkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChjb25zdCBbbSwgeGMsIHljXSBvZiB4eWkpIHtcbiAgICB4YyA+PSAxbiB8fCBGYWlsYHJpZ2h0IGVsZW1lbnQgJHttfSB3YXMgbm90IGluIGxlZnRgO1xuICAgIGlmICh5YyA9PT0gMG4pIHtcbiAgICAgIC8vXG4gICAgICByZXN1bHQucHVzaChtKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IG1lcmdlaWZ5ID0gaXRlck9wID0+ICh4ZWxlbWVudHMsIHllbGVtZW50cykgPT5cbiAgaXRlck9wKG1lcmdlKHhlbGVtZW50cywgeWVsZW1lbnRzKSk7XG5cbiAgICAgICBjb25zdCBlbGVtZW50c0lzU3VwZXJzZXQgPSBtZXJnZWlmeShpdGVySXNTdXBlcnNldCk7JGjNj19vbmNlLmVsZW1lbnRzSXNTdXBlcnNldChlbGVtZW50c0lzU3VwZXJzZXQpO1xuICAgICAgIGNvbnN0IGVsZW1lbnRzSXNEaXNqb2ludCA9IG1lcmdlaWZ5KGl0ZXJJc0Rpc2pvaW50KTskaM2PX29uY2UuZWxlbWVudHNJc0Rpc2pvaW50KGVsZW1lbnRzSXNEaXNqb2ludCk7XG4gICAgICAgY29uc3QgZWxlbWVudHNDb21wYXJlID0gbWVyZ2VpZnkoaXRlckNvbXBhcmUpOyRozY9fb25jZS5lbGVtZW50c0NvbXBhcmUoZWxlbWVudHNDb21wYXJlKTtcbiAgICAgICBjb25zdCBlbGVtZW50c1VuaW9uID0gbWVyZ2VpZnkoaXRlclVuaW9uKTskaM2PX29uY2UuZWxlbWVudHNVbmlvbihlbGVtZW50c1VuaW9uKTtcbiAgICAgICBjb25zdCBlbGVtZW50c0Rpc2pvaW50VW5pb24gPSBtZXJnZWlmeShpdGVyRGlzam9pbnRVbmlvbik7JGjNj19vbmNlLmVsZW1lbnRzRGlzam9pbnRVbmlvbihlbGVtZW50c0Rpc2pvaW50VW5pb24pO1xuICAgICAgIGNvbnN0IGVsZW1lbnRzSW50ZXJzZWN0aW9uID0gbWVyZ2VpZnkoaXRlckludGVyc2VjdGlvbik7JGjNj19vbmNlLmVsZW1lbnRzSW50ZXJzZWN0aW9uKGVsZW1lbnRzSW50ZXJzZWN0aW9uKTtcbiAgICAgICBjb25zdCBlbGVtZW50c0Rpc2pvaW50U3VidHJhY3QgPSBtZXJnZWlmeShpdGVyRGlzam9pbnRTdWJ0cmFjdCk7JGjNj19vbmNlLmVsZW1lbnRzRGlzam9pbnRTdWJ0cmFjdChlbGVtZW50c0Rpc2pvaW50U3VidHJhY3QpO1xuXG5jb25zdCByYXdTZXRpZnkgPSBlbGVtZW50c09wID0+ICh4c2V0LCB5c2V0KSA9PlxuICBlbGVtZW50c09wKHhzZXQucGF5bG9hZCwgeXNldC5wYXlsb2FkKTtcblxuY29uc3Qgc2V0aWZ5ID0gZWxlbWVudHNPcCA9PiAoeHNldCwgeXNldCkgPT5cbiAgbWFrZVNldE9mRWxlbWVudHMoZWxlbWVudHNPcCh4c2V0LnBheWxvYWQsIHlzZXQucGF5bG9hZCkpO1xuXG4gICAgICAgY29uc3Qgc2V0SXNTdXBlcnNldCA9IHJhd1NldGlmeShlbGVtZW50c0lzU3VwZXJzZXQpOyRozY9fb25jZS5zZXRJc1N1cGVyc2V0KHNldElzU3VwZXJzZXQpO1xuICAgICAgIGNvbnN0IHNldElzRGlzam9pbnQgPSByYXdTZXRpZnkoZWxlbWVudHNJc0Rpc2pvaW50KTskaM2PX29uY2Uuc2V0SXNEaXNqb2ludChzZXRJc0Rpc2pvaW50KTtcbiAgICAgICBjb25zdCBzZXRVbmlvbiA9IHNldGlmeShlbGVtZW50c1VuaW9uKTskaM2PX29uY2Uuc2V0VW5pb24oc2V0VW5pb24pO1xuICAgICAgIGNvbnN0IHNldERpc2pvaW50VW5pb24gPSBzZXRpZnkoZWxlbWVudHNEaXNqb2ludFVuaW9uKTskaM2PX29uY2Uuc2V0RGlzam9pbnRVbmlvbihzZXREaXNqb2ludFVuaW9uKTtcbiAgICAgICBjb25zdCBzZXRJbnRlcnNlY3Rpb24gPSBzZXRpZnkoZWxlbWVudHNJbnRlcnNlY3Rpb24pOyRozY9fb25jZS5zZXRJbnRlcnNlY3Rpb24oc2V0SW50ZXJzZWN0aW9uKTtcbiAgICAgICBjb25zdCBzZXREaXNqb2ludFN1YnRyYWN0ID0gc2V0aWZ5KGVsZW1lbnRzRGlzam9pbnRTdWJ0cmFjdCk7JGjNj19vbmNlLnNldERpc2pvaW50U3VidHJhY3Qoc2V0RGlzam9pbnRTdWJ0cmFjdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJlbGVtZW50c0lzU3VwZXJzZXQiOlsiZWxlbWVudHNJc1N1cGVyc2V0Il0sImVsZW1lbnRzSXNEaXNqb2ludCI6WyJlbGVtZW50c0lzRGlzam9pbnQiXSwiZWxlbWVudHNDb21wYXJlIjpbImVsZW1lbnRzQ29tcGFyZSJdLCJlbGVtZW50c1VuaW9uIjpbImVsZW1lbnRzVW5pb24iXSwiZWxlbWVudHNEaXNqb2ludFVuaW9uIjpbImVsZW1lbnRzRGlzam9pbnRVbmlvbiJdLCJlbGVtZW50c0ludGVyc2VjdGlvbiI6WyJlbGVtZW50c0ludGVyc2VjdGlvbiJdLCJlbGVtZW50c0Rpc2pvaW50U3VidHJhY3QiOlsiZWxlbWVudHNEaXNqb2ludFN1YnRyYWN0Il0sInNldElzU3VwZXJzZXQiOlsic2V0SXNTdXBlcnNldCJdLCJzZXRJc0Rpc2pvaW50IjpbInNldElzRGlzam9pbnQiXSwic2V0VW5pb24iOlsic2V0VW5pb24iXSwic2V0RGlzam9pbnRVbmlvbiI6WyJzZXREaXNqb2ludFVuaW9uIl0sInNldEludGVyc2VjdGlvbiI6WyJzZXRJbnRlcnNlY3Rpb24iXSwic2V0RGlzam9pbnRTdWJ0cmFjdCI6WyJzZXREaXNqb2ludFN1YnRyYWN0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAPB0UiUsGwAALBsAADYAAABAZW5kby9wYXR0ZXJucy12MS41LjAvc3JjL3BhdHRlcm5zL2dldEd1YXJkUGF5bG9hZHMuanN7ImltcG9ydHMiOlsiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanMiLCIuL3BhdHRlcm5NYXRjaGVycy5qcyIsIi4uL2tleXMvY2hlY2tLZXkuanMiXSwiZXhwb3J0cyI6WyJnZXRBd2FpdEFyZ0d1YXJkUGF5bG9hZCIsImdldEludGVyZmFjZUd1YXJkUGF5bG9hZCIsImdldEludGVyZmFjZU1ldGhvZEtleXMiLCJnZXRNZXRob2RHdWFyZFBheWxvYWQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBvYmplY3RNYXAsQXJnR3VhcmRMaXN0U2hhcGUsQXdhaXRBcmdHdWFyZFNoYXBlLEludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlLEludGVyZmFjZUd1YXJkU2hhcGUsTSxNZXRob2RHdWFyZFBheWxvYWRTaGFwZSxNZXRob2RHdWFyZFNoYXBlLFJhd0d1YXJkU2hhcGUsU3luY1ZhbHVlR3VhcmRMaXN0U2hhcGUsU3luY1ZhbHVlR3VhcmRTaGFwZSxhc3NlcnRBd2FpdEFyZ0d1YXJkLG1hdGNoZXMsbXVzdE1hdGNoLGdldENvcHlNYXBLZXlzLG1ha2VDb3B5TWFwOyRozY9faW1wb3J0cyhbW1wiQGVuZG8vY29tbW9uL29iamVjdC1tYXAuanNcIiwgW1tcIm9iamVjdE1hcFwiLFskaM2PX2EgPT4gKG9iamVjdE1hcCA9ICRozY9fYSldXV1dLFtcIi4vcGF0dGVybk1hdGNoZXJzLmpzXCIsIFtbXCJBcmdHdWFyZExpc3RTaGFwZVwiLFskaM2PX2EgPT4gKEFyZ0d1YXJkTGlzdFNoYXBlID0gJGjNj19hKV1dLFtcIkF3YWl0QXJnR3VhcmRTaGFwZVwiLFskaM2PX2EgPT4gKEF3YWl0QXJnR3VhcmRTaGFwZSA9ICRozY9fYSldXSxbXCJJbnRlcmZhY2VHdWFyZFBheWxvYWRTaGFwZVwiLFskaM2PX2EgPT4gKEludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlID0gJGjNj19hKV1dLFtcIkludGVyZmFjZUd1YXJkU2hhcGVcIixbJGjNj19hID0+IChJbnRlcmZhY2VHdWFyZFNoYXBlID0gJGjNj19hKV1dLFtcIk1cIixbJGjNj19hID0+IChNID0gJGjNj19hKV1dLFtcIk1ldGhvZEd1YXJkUGF5bG9hZFNoYXBlXCIsWyRozY9fYSA9PiAoTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUgPSAkaM2PX2EpXV0sW1wiTWV0aG9kR3VhcmRTaGFwZVwiLFskaM2PX2EgPT4gKE1ldGhvZEd1YXJkU2hhcGUgPSAkaM2PX2EpXV0sW1wiUmF3R3VhcmRTaGFwZVwiLFskaM2PX2EgPT4gKFJhd0d1YXJkU2hhcGUgPSAkaM2PX2EpXV0sW1wiU3luY1ZhbHVlR3VhcmRMaXN0U2hhcGVcIixbJGjNj19hID0+IChTeW5jVmFsdWVHdWFyZExpc3RTaGFwZSA9ICRozY9fYSldXSxbXCJTeW5jVmFsdWVHdWFyZFNoYXBlXCIsWyRozY9fYSA9PiAoU3luY1ZhbHVlR3VhcmRTaGFwZSA9ICRozY9fYSldXSxbXCJhc3NlcnRBd2FpdEFyZ0d1YXJkXCIsWyRozY9fYSA9PiAoYXNzZXJ0QXdhaXRBcmdHdWFyZCA9ICRozY9fYSldXSxbXCJtYXRjaGVzXCIsWyRozY9fYSA9PiAobWF0Y2hlcyA9ICRozY9fYSldXSxbXCJtdXN0TWF0Y2hcIixbJGjNj19hID0+IChtdXN0TWF0Y2ggPSAkaM2PX2EpXV1dXSxbXCIuLi9rZXlzL2NoZWNrS2V5LmpzXCIsIFtbXCJnZXRDb3B5TWFwS2V5c1wiLFskaM2PX2EgPT4gKGdldENvcHlNYXBLZXlzID0gJGjNj19hKV1dLFtcIm1ha2VDb3B5TWFwXCIsWyRozY9fYSA9PiAobWFrZUNvcHlNYXAgPSAkaM2PX2EpXV1dXV0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cbiAqL1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG5cbi8vXG4vL1xuLy9cblxuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuXG4vL1xuLy9cbi8vXG4vL1xuXG4vL1xuLy9cbi8vXG5jb25zdCBMZWdhY3lBd2FpdEFyZ0d1YXJkU2hhcGUgPSBoYXJkZW4oe1xuICBrbGFzczogJ2F3YWl0QXJnJyxcbiAgYXJnR3VhcmQ6IE0ucGF0dGVybigpLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBnZXRBd2FpdEFyZ0d1YXJkUGF5bG9hZCA9IGF3YWl0QXJnR3VhcmQgPT4ge1xuICBpZiAobWF0Y2hlcyhhd2FpdEFyZ0d1YXJkLCBMZWdhY3lBd2FpdEFyZ0d1YXJkU2hhcGUpKSB7XG4gICAgLy9cbiAgICBjb25zdCB7IGtsYXNzOiBfLCAuLi5wYXlsb2FkIH0gPSBhd2FpdEFyZ0d1YXJkO1xuICAgIC8vXG4gICAgcmV0dXJuIHBheWxvYWQ7XG4gIH1cbiAgYXNzZXJ0QXdhaXRBcmdHdWFyZChhd2FpdEFyZ0d1YXJkKTtcbiAgcmV0dXJuIGF3YWl0QXJnR3VhcmQucGF5bG9hZDtcbn07JGjNj19vbmNlLmdldEF3YWl0QXJnR3VhcmRQYXlsb2FkKGdldEF3YWl0QXJnR3VhcmRQYXlsb2FkKTtcbmhhcmRlbihnZXRBd2FpdEFyZ0d1YXJkUGF5bG9hZCk7XG5cbi8vXG4vL1xuLy9cbmNvbnN0IExlZ2FjeVN5bmNNZXRob2RHdWFyZFNoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge1xuICAgIGtsYXNzOiAnbWV0aG9kR3VhcmQnLFxuICAgIGNhbGxLaW5kOiAnc3luYycsXG4gICAgYXJnR3VhcmRzOiBTeW5jVmFsdWVHdWFyZExpc3RTaGFwZSxcbiAgICByZXR1cm5HdWFyZDogU3luY1ZhbHVlR3VhcmRTaGFwZSxcbiAgfSxcbiAge1xuICAgIG9wdGlvbmFsQXJnR3VhcmRzOiBTeW5jVmFsdWVHdWFyZExpc3RTaGFwZSxcbiAgICByZXN0QXJnR3VhcmQ6IFN5bmNWYWx1ZUd1YXJkU2hhcGUsXG4gIH0sXG4pO1xuXG4vL1xuLy9cbi8vXG5jb25zdCBMZWdhY3lBcmdHdWFyZFNoYXBlID0gTS5vcihcbiAgUmF3R3VhcmRTaGFwZSxcbiAgQXdhaXRBcmdHdWFyZFNoYXBlLFxuICBMZWdhY3lBd2FpdEFyZ0d1YXJkU2hhcGUsXG4gIE0ucGF0dGVybigpLFxuKTtcbi8vXG4vL1xuLy9cbmNvbnN0IExlZ2FjeUFyZ0d1YXJkTGlzdFNoYXBlID0gTS5hcnJheU9mKExlZ2FjeUFyZ0d1YXJkU2hhcGUpO1xuXG4vL1xuLy9cbi8vXG5jb25zdCBMZWdhY3lBc3luY01ldGhvZEd1YXJkU2hhcGUgPSBNLnNwbGl0UmVjb3JkKFxuICB7XG4gICAga2xhc3M6ICdtZXRob2RHdWFyZCcsXG4gICAgY2FsbEtpbmQ6ICdhc3luYycsXG4gICAgYXJnR3VhcmRzOiBMZWdhY3lBcmdHdWFyZExpc3RTaGFwZSxcbiAgICByZXR1cm5HdWFyZDogU3luY1ZhbHVlR3VhcmRTaGFwZSxcbiAgfSxcbiAge1xuICAgIG9wdGlvbmFsQXJnR3VhcmRzOiBBcmdHdWFyZExpc3RTaGFwZSxcbiAgICByZXN0QXJnR3VhcmQ6IFN5bmNWYWx1ZUd1YXJkU2hhcGUsXG4gIH0sXG4pO1xuXG4vL1xuLy9cbi8vXG5jb25zdCBMZWdhY3lNZXRob2RHdWFyZFNoYXBlID0gTS5vcihcbiAgTGVnYWN5U3luY01ldGhvZEd1YXJkU2hhcGUsXG4gIExlZ2FjeUFzeW5jTWV0aG9kR3VhcmRTaGFwZSxcbik7XG5cbmNvbnN0IGFkYXB0TGVnYWN5QXJnR3VhcmQgPSBhcmdHdWFyZCA9PlxuICBtYXRjaGVzKGFyZ0d1YXJkLCBMZWdhY3lBd2FpdEFyZ0d1YXJkU2hhcGUpXG4gICAgPyBNLmF3YWl0KGdldEF3YWl0QXJnR3VhcmRQYXlsb2FkKGFyZ0d1YXJkKS5hcmdHdWFyZClcbiAgICA6IGFyZ0d1YXJkO1xuXG4vKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldE1ldGhvZEd1YXJkUGF5bG9hZCA9IG1ldGhvZEd1YXJkID0+IHtcbiAgaWYgKG1hdGNoZXMobWV0aG9kR3VhcmQsIE1ldGhvZEd1YXJkU2hhcGUpKSB7XG4gICAgcmV0dXJuIG1ldGhvZEd1YXJkLnBheWxvYWQ7XG4gIH1cbiAgbXVzdE1hdGNoKG1ldGhvZEd1YXJkLCBMZWdhY3lNZXRob2RHdWFyZFNoYXBlLCAnbGVnYWN5TWV0aG9kR3VhcmQnKTtcbiAgY29uc3Qge1xuICAgIC8vXG4gICAga2xhc3M6IF8sXG4gICAgLy9cbiAgICBjYWxsS2luZCxcbiAgICAvL1xuICAgIHJldHVybkd1YXJkLFxuICAgIC8vXG4gICAgcmVzdEFyZ0d1YXJkLFxuICB9ID0gbWV0aG9kR3VhcmQ7XG4gIGxldCB7XG4gICAgLy9cbiAgICBhcmdHdWFyZHMsXG4gICAgLy9cbiAgICBvcHRpb25hbEFyZ0d1YXJkcyxcbiAgfSA9IG1ldGhvZEd1YXJkO1xuICBpZiAoY2FsbEtpbmQgPT09ICdhc3luYycpIHtcbiAgICBhcmdHdWFyZHMgPSBhcmdHdWFyZHMubWFwKGFkYXB0TGVnYWN5QXJnR3VhcmQpO1xuICAgIG9wdGlvbmFsQXJnR3VhcmRzID1cbiAgICAgIG9wdGlvbmFsQXJnR3VhcmRzICYmIG9wdGlvbmFsQXJnR3VhcmRzLm1hcChhZGFwdExlZ2FjeUFyZ0d1YXJkKTtcbiAgfVxuICBjb25zdCBwYXlsb2FkID0gaGFyZGVuKHtcbiAgICBjYWxsS2luZCxcbiAgICBhcmdHdWFyZHMsXG4gICAgb3B0aW9uYWxBcmdHdWFyZHMsXG4gICAgcmVzdEFyZ0d1YXJkLFxuICAgIHJldHVybkd1YXJkLFxuICB9KTtcbiAgLy9cbiAgbXVzdE1hdGNoKHBheWxvYWQsIE1ldGhvZEd1YXJkUGF5bG9hZFNoYXBlLCAnaW50ZXJuYWxNZXRob2RHdWFyZEFkYXB0b3InKTtcbiAgcmV0dXJuIHBheWxvYWQ7XG59OyRozY9fb25jZS5nZXRNZXRob2RHdWFyZFBheWxvYWQoZ2V0TWV0aG9kR3VhcmRQYXlsb2FkKTtcbmhhcmRlbihnZXRNZXRob2RHdWFyZFBheWxvYWQpO1xuXG4vL1xuLy9cbi8vXG5jb25zdCBMZWdhY3lJbnRlcmZhY2VHdWFyZFNoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge1xuICAgIGtsYXNzOiAnSW50ZXJmYWNlJyxcbiAgICBpbnRlcmZhY2VOYW1lOiBNLnN0cmluZygpLFxuICAgIG1ldGhvZEd1YXJkczogTS5yZWNvcmRPZihcbiAgICAgIE0uc3RyaW5nKCksXG4gICAgICBNLm9yKE1ldGhvZEd1YXJkU2hhcGUsIExlZ2FjeU1ldGhvZEd1YXJkU2hhcGUpLFxuICAgICksXG4gIH0sXG4gIHtcbiAgICBkZWZhdWx0R3VhcmRzOiBNLm9yKE0udW5kZWZpbmVkKCksICdwYXNzYWJsZScsICdyYXcnKSxcbiAgICBzbG9wcHk6IE0uYm9vbGVhbigpLFxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIHN5bWJvbE1ldGhvZEd1YXJkczogTS5tYXBPZihNLnN5bWJvbCgpLCBNZXRob2RHdWFyZFNoYXBlKSxcbiAgfSxcbik7XG5cbmNvbnN0IGFkYXB0TWV0aG9kR3VhcmQgPSBtZXRob2RHdWFyZCA9PiB7XG4gIGlmIChtYXRjaGVzKG1ldGhvZEd1YXJkLCBMZWdhY3lNZXRob2RHdWFyZFNoYXBlKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNhbGxLaW5kLFxuICAgICAgYXJnR3VhcmRzLFxuICAgICAgb3B0aW9uYWxBcmdHdWFyZHMgPSBbXSxcbiAgICAgIHJlc3RBcmdHdWFyZCA9IE0uYW55KCksXG4gICAgICByZXR1cm5HdWFyZCxcbiAgICB9ID0gZ2V0TWV0aG9kR3VhcmRQYXlsb2FkKG1ldGhvZEd1YXJkKTtcbiAgICBjb25zdCBtQ2FsbCA9IGNhbGxLaW5kID09PSAnc3luYycgPyBNLmNhbGwgOiBNLmNhbGxXaGVuO1xuICAgIHJldHVybiBtQ2FsbCguLi5hcmdHdWFyZHMpXG4gICAgICAub3B0aW9uYWwoLi4ub3B0aW9uYWxBcmdHdWFyZHMpXG4gICAgICAucmVzdChyZXN0QXJnR3VhcmQpXG4gICAgICAucmV0dXJucyhyZXR1cm5HdWFyZCk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZEd1YXJkO1xufTtcblxuLypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGdldEludGVyZmFjZUd1YXJkUGF5bG9hZCA9IGludGVyZmFjZUd1YXJkID0+IHtcbiAgaWYgKG1hdGNoZXMoaW50ZXJmYWNlR3VhcmQsIEludGVyZmFjZUd1YXJkU2hhcGUpKSB7XG4gICAgcmV0dXJuIGludGVyZmFjZUd1YXJkLnBheWxvYWQ7XG4gIH1cbiAgbXVzdE1hdGNoKGludGVyZmFjZUd1YXJkLCBMZWdhY3lJbnRlcmZhY2VHdWFyZFNoYXBlLCAnbGVnYWN5SW50ZXJmYWNlR3VhcmQnKTtcbiAgLy9cbiAgLy9cbiAgbGV0IHsga2xhc3M6IF8sIGludGVyZmFjZU5hbWUsIG1ldGhvZEd1YXJkcywgLi4ucmVzdCB9ID0gaW50ZXJmYWNlR3VhcmQ7XG4gIG1ldGhvZEd1YXJkcyA9IG9iamVjdE1hcChtZXRob2RHdWFyZHMsIGFkYXB0TWV0aG9kR3VhcmQpO1xuICBjb25zdCBwYXlsb2FkID0gaGFyZGVuKHtcbiAgICBpbnRlcmZhY2VOYW1lLFxuICAgIG1ldGhvZEd1YXJkcyxcbiAgICAuLi5yZXN0LFxuICB9KTtcbiAgbXVzdE1hdGNoKFxuICAgIHBheWxvYWQsXG4gICAgSW50ZXJmYWNlR3VhcmRQYXlsb2FkU2hhcGUsXG4gICAgJ2ludGVybmFsSW50ZXJmYWNlR3VhcmRBZGFwdG9yJyxcbiAgKTtcbiAgcmV0dXJuIHBheWxvYWQ7XG59OyRozY9fb25jZS5nZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQoZ2V0SW50ZXJmYWNlR3VhcmRQYXlsb2FkKTtcbmhhcmRlbihnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQpO1xuXG5jb25zdCBlbXB0eUNvcHlNYXAgPSBtYWtlQ29weU1hcChbXSk7XG5cbi8qXG5cblxuICovXG4gICAgICAgY29uc3QgZ2V0SW50ZXJmYWNlTWV0aG9kS2V5cyA9IGludGVyZmFjZUd1YXJkID0+IHtcbiAgY29uc3QgeyBtZXRob2RHdWFyZHMsIHN5bWJvbE1ldGhvZEd1YXJkcyA9IGVtcHR5Q29weU1hcCB9ID1cbiAgICBnZXRJbnRlcmZhY2VHdWFyZFBheWxvYWQoaW50ZXJmYWNlR3VhcmQpO1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8vXG4gIC8vXG4gIHJldHVybiBoYXJkZW4oW1xuICAgIC4uLlJlZmxlY3Qub3duS2V5cyhtZXRob2RHdWFyZHMpLFxuICAgIC4uLmdldENvcHlNYXBLZXlzKHN5bWJvbE1ldGhvZEd1YXJkcyksXG4gIF0pO1xufTskaM2PX29uY2UuZ2V0SW50ZXJmYWNlTWV0aG9kS2V5cyhnZXRJbnRlcmZhY2VNZXRob2RLZXlzKTtcbmhhcmRlbihnZXRJbnRlcmZhY2VNZXRob2RLZXlzKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImdldEF3YWl0QXJnR3VhcmRQYXlsb2FkIjpbImdldEF3YWl0QXJnR3VhcmRQYXlsb2FkIl0sImdldE1ldGhvZEd1YXJkUGF5bG9hZCI6WyJnZXRNZXRob2RHdWFyZFBheWxvYWQiXSwiZ2V0SW50ZXJmYWNlR3VhcmRQYXlsb2FkIjpbImdldEludGVyZmFjZUd1YXJkUGF5bG9hZCJdLCJnZXRJbnRlcmZhY2VNZXRob2RLZXlzIjpbImdldEludGVyZmFjZU1ldGhvZEtleXMiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAADu5OJ2rsAABq7AAANQAAAEBlbmRvL3BhdHRlcm5zLXYxLjUuMC9zcmMvcGF0dGVybnMvcGF0dGVybk1hdGNoZXJzLmpzeyJpbXBvcnRzIjpbIkBlbmRvL2Vycm9ycyIsIkBlbmRvL2NvbW1vbi9pZGVudC1jaGVja2VyLmpzIiwiQGVuZG8vY29tbW9uL2FwcGx5LWxhYmVsaW5nLWVycm9yLmpzIiwiQGVuZG8vY29tbW9uL2Zyb20tdW5pcXVlLWVudHJpZXMuanMiLCJAZW5kby9jb21tb24vbGlzdC1kaWZmZXJlbmNlLmpzIiwiQGVuZG8vcGFzcy1zdHlsZSIsIkBlbmRvL21hcnNoYWwiLCIuLi9rZXlzL2NvbXBhcmVLZXlzLmpzIiwiLi4va2V5cy9jaGVja0tleS5qcyIsIi4uL2tleXMva2V5Y29sbGVjdGlvbi1vcGVyYXRvcnMuanMiXSwiZXhwb3J0cyI6WyJBcmdHdWFyZExpc3RTaGFwZSIsIkF3YWl0QXJnR3VhcmRTaGFwZSIsIkludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlIiwiSW50ZXJmYWNlR3VhcmRTaGFwZSIsIk0iLCJNZXRob2RHdWFyZFBheWxvYWRTaGFwZSIsIk1ldGhvZEd1YXJkU2hhcGUiLCJSYXdHdWFyZFNoYXBlIiwiU3luY1ZhbHVlR3VhcmRMaXN0U2hhcGUiLCJTeW5jVmFsdWVHdWFyZFNoYXBlIiwiYXNzZXJ0QXdhaXRBcmdHdWFyZCIsImFzc2VydEludGVyZmFjZUd1YXJkIiwiYXNzZXJ0TWV0aG9kR3VhcmQiLCJhc3NlcnRQYXR0ZXJuIiwiYXNzZXJ0UmF3R3VhcmQiLCJjaGVja01hdGNoZXMiLCJjb250YWluZXJIYXNTcGxpdCIsImRlZmF1bHRMaW1pdHMiLCJnZXRSYW5rQ292ZXIiLCJpc0F3YWl0QXJnR3VhcmQiLCJpc1BhdHRlcm4iLCJpc1Jhd0d1YXJkIiwia2luZE9mIiwibWF0Y2hlcyIsIm11c3RNYXRjaCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IHEsYixYLEZhaWwsbWFrZUVycm9yLGFubm90YXRlRXJyb3IsaWRlbnRDaGVja2VyLGFwcGx5TGFiZWxpbmdFcnJvcixmcm9tVW5pcXVlRW50cmllcyxsaXN0RGlmZmVyZW5jZSxhc3NlcnRDaGVja2VyLEZhcixnZXRUYWcsbWFrZVRhZ2dlZCxwYXNzU3R5bGVPZixoYXNPd25Qcm9wZXJ0eU9mLG5hbWVGb3JQYXNzYWJsZVN5bWJvbCxjb21wYXJlUmFuayxnZXRQYXNzU3R5bGVDb3ZlcixpbnRlcnNlY3RSYW5rQ292ZXJzLHVuaW9uUmFua0NvdmVycyxyZWNvcmROYW1lcyxyZWNvcmRWYWx1ZXMsa2V5RVEsa2V5R1Qsa2V5R1RFLGtleUxULGtleUxURSxhc3NlcnRLZXksY2hlY2tLZXksaXNLZXksY2hlY2tTY2FsYXJLZXksY2hlY2tDb3B5U2V0LGNoZWNrQ29weU1hcCxjb3B5TWFwS2V5U2V0LGNoZWNrQ29weUJhZyxnZXRDb3B5TWFwRW50cnlBcnJheSxtYWtlQ29weU1hcCxtYWtlQ29weVNldCxtYWtlQ29weUJhZyxnZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllczskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2Vycm9yc1wiLCBbW1wicVwiLFskaM2PX2EgPT4gKHEgPSAkaM2PX2EpXV0sW1wiYlwiLFskaM2PX2EgPT4gKGIgPSAkaM2PX2EpXV0sW1wiWFwiLFskaM2PX2EgPT4gKFggPSAkaM2PX2EpXV0sW1wiRmFpbFwiLFskaM2PX2EgPT4gKEZhaWwgPSAkaM2PX2EpXV0sW1wibWFrZUVycm9yXCIsWyRozY9fYSA9PiAobWFrZUVycm9yID0gJGjNj19hKV1dLFtcImFubm90YXRlRXJyb3JcIixbJGjNj19hID0+IChhbm5vdGF0ZUVycm9yID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vY29tbW9uL2lkZW50LWNoZWNrZXIuanNcIiwgW1tcImlkZW50Q2hlY2tlclwiLFskaM2PX2EgPT4gKGlkZW50Q2hlY2tlciA9ICRozY9fYSldXV1dLFtcIkBlbmRvL2NvbW1vbi9hcHBseS1sYWJlbGluZy1lcnJvci5qc1wiLCBbW1wiYXBwbHlMYWJlbGluZ0Vycm9yXCIsWyRozY9fYSA9PiAoYXBwbHlMYWJlbGluZ0Vycm9yID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vY29tbW9uL2Zyb20tdW5pcXVlLWVudHJpZXMuanNcIiwgW1tcImZyb21VbmlxdWVFbnRyaWVzXCIsWyRozY9fYSA9PiAoZnJvbVVuaXF1ZUVudHJpZXMgPSAkaM2PX2EpXV1dXSxbXCJAZW5kby9jb21tb24vbGlzdC1kaWZmZXJlbmNlLmpzXCIsIFtbXCJsaXN0RGlmZmVyZW5jZVwiLFskaM2PX2EgPT4gKGxpc3REaWZmZXJlbmNlID0gJGjNj19hKV1dXV0sW1wiQGVuZG8vcGFzcy1zdHlsZVwiLCBbW1wiYXNzZXJ0Q2hlY2tlclwiLFskaM2PX2EgPT4gKGFzc2VydENoZWNrZXIgPSAkaM2PX2EpXV0sW1wiRmFyXCIsWyRozY9fYSA9PiAoRmFyID0gJGjNj19hKV1dLFtcImdldFRhZ1wiLFskaM2PX2EgPT4gKGdldFRhZyA9ICRozY9fYSldXSxbXCJtYWtlVGFnZ2VkXCIsWyRozY9fYSA9PiAobWFrZVRhZ2dlZCA9ICRozY9fYSldXSxbXCJwYXNzU3R5bGVPZlwiLFskaM2PX2EgPT4gKHBhc3NTdHlsZU9mID0gJGjNj19hKV1dLFtcImhhc093blByb3BlcnR5T2ZcIixbJGjNj19hID0+IChoYXNPd25Qcm9wZXJ0eU9mID0gJGjNj19hKV1dLFtcIm5hbWVGb3JQYXNzYWJsZVN5bWJvbFwiLFskaM2PX2EgPT4gKG5hbWVGb3JQYXNzYWJsZVN5bWJvbCA9ICRozY9fYSldXV1dLFtcIkBlbmRvL21hcnNoYWxcIiwgW1tcImNvbXBhcmVSYW5rXCIsWyRozY9fYSA9PiAoY29tcGFyZVJhbmsgPSAkaM2PX2EpXV0sW1wiZ2V0UGFzc1N0eWxlQ292ZXJcIixbJGjNj19hID0+IChnZXRQYXNzU3R5bGVDb3ZlciA9ICRozY9fYSldXSxbXCJpbnRlcnNlY3RSYW5rQ292ZXJzXCIsWyRozY9fYSA9PiAoaW50ZXJzZWN0UmFua0NvdmVycyA9ICRozY9fYSldXSxbXCJ1bmlvblJhbmtDb3ZlcnNcIixbJGjNj19hID0+ICh1bmlvblJhbmtDb3ZlcnMgPSAkaM2PX2EpXV0sW1wicmVjb3JkTmFtZXNcIixbJGjNj19hID0+IChyZWNvcmROYW1lcyA9ICRozY9fYSldXSxbXCJyZWNvcmRWYWx1ZXNcIixbJGjNj19hID0+IChyZWNvcmRWYWx1ZXMgPSAkaM2PX2EpXV1dXSxbXCIuLi9rZXlzL2NvbXBhcmVLZXlzLmpzXCIsIFtbXCJrZXlFUVwiLFskaM2PX2EgPT4gKGtleUVRID0gJGjNj19hKV1dLFtcImtleUdUXCIsWyRozY9fYSA9PiAoa2V5R1QgPSAkaM2PX2EpXV0sW1wia2V5R1RFXCIsWyRozY9fYSA9PiAoa2V5R1RFID0gJGjNj19hKV1dLFtcImtleUxUXCIsWyRozY9fYSA9PiAoa2V5TFQgPSAkaM2PX2EpXV0sW1wia2V5TFRFXCIsWyRozY9fYSA9PiAoa2V5TFRFID0gJGjNj19hKV1dXV0sW1wiLi4va2V5cy9jaGVja0tleS5qc1wiLCBbW1wiYXNzZXJ0S2V5XCIsWyRozY9fYSA9PiAoYXNzZXJ0S2V5ID0gJGjNj19hKV1dLFtcImNoZWNrS2V5XCIsWyRozY9fYSA9PiAoY2hlY2tLZXkgPSAkaM2PX2EpXV0sW1wiaXNLZXlcIixbJGjNj19hID0+IChpc0tleSA9ICRozY9fYSldXSxbXCJjaGVja1NjYWxhcktleVwiLFskaM2PX2EgPT4gKGNoZWNrU2NhbGFyS2V5ID0gJGjNj19hKV1dLFtcImNoZWNrQ29weVNldFwiLFskaM2PX2EgPT4gKGNoZWNrQ29weVNldCA9ICRozY9fYSldXSxbXCJjaGVja0NvcHlNYXBcIixbJGjNj19hID0+IChjaGVja0NvcHlNYXAgPSAkaM2PX2EpXV0sW1wiY29weU1hcEtleVNldFwiLFskaM2PX2EgPT4gKGNvcHlNYXBLZXlTZXQgPSAkaM2PX2EpXV0sW1wiY2hlY2tDb3B5QmFnXCIsWyRozY9fYSA9PiAoY2hlY2tDb3B5QmFnID0gJGjNj19hKV1dLFtcImdldENvcHlNYXBFbnRyeUFycmF5XCIsWyRozY9fYSA9PiAoZ2V0Q29weU1hcEVudHJ5QXJyYXkgPSAkaM2PX2EpXV0sW1wibWFrZUNvcHlNYXBcIixbJGjNj19hID0+IChtYWtlQ29weU1hcCA9ICRozY9fYSldXSxbXCJtYWtlQ29weVNldFwiLFskaM2PX2EgPT4gKG1ha2VDb3B5U2V0ID0gJGjNj19hKV1dLFtcIm1ha2VDb3B5QmFnXCIsWyRozY9fYSA9PiAobWFrZUNvcHlCYWcgPSAkaM2PX2EpXV1dXSxbXCIuLi9rZXlzL2tleWNvbGxlY3Rpb24tb3BlcmF0b3JzLmpzXCIsIFtbXCJnZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllc1wiLFskaM2PX2EgPT4gKGdlbmVyYXRlQ29sbGVjdGlvblBhaXJFbnRyaWVzID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qXG5cblxuXG4gKi9cblxuY29uc3QgeyBlbnRyaWVzLCB2YWx1ZXMgfSA9IE9iamVjdDtcbmNvbnN0IHsgb3duS2V5cyB9ID0gUmVmbGVjdDtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuY29uc3QgcGF0dGVybk1lbW8gPSBuZXcgV2Vha1NldCgpO1xuXG4vL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmxldCBNTTtcblxuLypcblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBkZWZhdWx0TGltaXRzID0gaGFyZGVuKHtcbiAgZGVjaW1hbERpZ2l0c0xpbWl0OiAxMDAsXG4gIHN0cmluZ0xlbmd0aExpbWl0OiAxMDBfMDAwLFxuICBzeW1ib2xOYW1lTGVuZ3RoTGltaXQ6IDEwMCxcbiAgbnVtUHJvcGVydGllc0xpbWl0OiA4MCxcbiAgcHJvcGVydHlOYW1lTGVuZ3RoTGltaXQ6IDEwMCxcbiAgYXJyYXlMZW5ndGhMaW1pdDogMTBfMDAwLFxuICBudW1TZXRFbGVtZW50c0xpbWl0OiAxMF8wMDAsXG4gIG51bVVuaXF1ZUJhZ0VsZW1lbnRzTGltaXQ6IDEwXzAwMCxcbiAgbnVtTWFwRW50cmllc0xpbWl0OiA1MDAwLFxufSk7XG5cbi8qXG5cblxuXG5cblxuXG4gKi8kaM2PX29uY2UuZGVmYXVsdExpbWl0cyhkZWZhdWx0TGltaXRzKTtcbmNvbnN0IGxpbWl0ID0gKGxpbWl0cyA9IHt9KSA9PlxuICAvKiAgICAgICAgICAgICAgICAgICAgKi8gKGhhcmRlbih7IF9fcHJvdG9fXzogZGVmYXVsdExpbWl0cywgLi4ubGltaXRzIH0pKTtcblxuY29uc3QgY2hlY2tJc1dlbGxGb3JtZWRXaXRoTGltaXQgPSAoXG4gIHBheWxvYWQsXG4gIG1haW5QYXlsb2FkU2hhcGUsXG4gIGNoZWNrLFxuICBsYWJlbCxcbikgPT4ge1xuICBhc3NlcnQoQXJyYXkuaXNBcnJheShtYWluUGF5bG9hZFNoYXBlKSk7XG4gIGlmICghQXJyYXkuaXNBcnJheShwYXlsb2FkKSkge1xuICAgIHJldHVybiBjaGVjayhmYWxzZSwgWGAke3EobGFiZWwpfSBwYXlsb2FkIG11c3QgYmUgYW4gYXJyYXk6ICR7cGF5bG9hZH1gKTtcbiAgfVxuXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vXG5cbiAgY29uc3QgbWFpbkxlbmd0aCA9IG1haW5QYXlsb2FkU2hhcGUubGVuZ3RoO1xuICBpZiAoIShwYXlsb2FkLmxlbmd0aCA9PT0gbWFpbkxlbmd0aCB8fCBwYXlsb2FkLmxlbmd0aCA9PT0gbWFpbkxlbmd0aCArIDEpKSB7XG4gICAgcmV0dXJuIGNoZWNrKGZhbHNlLCBYYCR7cShsYWJlbCl9IHBheWxvYWQgdW5leHBlY3RlZCBzaXplOiAke3BheWxvYWR9YCk7XG4gIH1cbiAgY29uc3QgbGltaXRzID0gcGF5bG9hZFttYWluTGVuZ3RoXTtcbiAgcGF5bG9hZCA9IGhhcmRlbihwYXlsb2FkLnNsaWNlKDAsIG1haW5MZW5ndGgpKTtcbiAgLy9cbiAgaWYgKCFjaGVja01hdGNoZXMocGF5bG9hZCwgbWFpblBheWxvYWRTaGFwZSwgY2hlY2ssIGxhYmVsKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobGltaXRzID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIChwYXNzU3R5bGVPZihsaW1pdHMpID09PSAnY29weVJlY29yZCcgfHxcbiAgICAgIGNoZWNrKGZhbHNlLCBYYExpbWl0cyBtdXN0IGJlIGEgcmVjb3JkOiAke3EobGltaXRzKX1gKSkgJiZcbiAgICBlbnRyaWVzKGxpbWl0cykuZXZlcnkoXG4gICAgICAoW2tleSwgdmFsdWVdKSA9PlxuICAgICAgICBwYXNzU3R5bGVPZih2YWx1ZSkgPT09ICdudW1iZXInIHx8XG4gICAgICAgIGNoZWNrKGZhbHNlLCBYYFZhbHVlIG9mIGxpbWl0ICR7cShrZXkpfSBidXQgYmUgYSBudW1iZXI6ICR7cSh2YWx1ZSl9YCksXG4gICAgKVxuICApO1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgY2hlY2tEZWNpbWFsRGlnaXRzTGltaXQgPSAoc3BlY2ltZW4sIGRlY2ltYWxEaWdpdHNMaW1pdCwgY2hlY2spID0+IHtcbiAgaWYgKFxuICAgIE1hdGguZmxvb3IoTWF0aC5sb2cxMChNYXRoLmFicyhOdW1iZXIoc3BlY2ltZW4pKSkpICsgMSA8PVxuICAgIGRlY2ltYWxEaWdpdHNMaW1pdFxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gY2hlY2soXG4gICAgZmFsc2UsXG4gICAgWGBiaWdpbnQgJHtzcGVjaW1lbn0gbXVzdCBub3QgaGF2ZSBtb3JlIHRoYW4gJHtkZWNpbWFsRGlnaXRzTGltaXR9IGRpZ2l0c2AsXG4gICk7XG59O1xuXG4vKlxuXG4gKi9cbmNvbnN0IG1ha2VQYXR0ZXJuS2l0ID0gKCkgPT4ge1xuICAvKlxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IG1heWJlTWF0Y2hIZWxwZXIgPSB0YWcgPT5cbiAgICAvL1xuICAgIEhlbHBlcnNCeU1hdGNoVGFnW3RhZ107XG5cbiAgLypcblxuXG5cblxuXG5cbiAgICovXG4gIGNvbnN0IG1heWJlUGF5bG9hZFNoYXBlID0gdGFnID0+XG4gICAgLy9cbiAgICBHdWFyZFBheWxvYWRTaGFwZXNbdGFnXTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgc2luZ2xldG9uS2luZHMgPSBuZXcgTWFwKFtcbiAgICBbJ251bGwnLCBudWxsXSxcbiAgICBbJ3VuZGVmaW5lZCcsIHVuZGVmaW5lZF0sXG4gIF0pO1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCB0YWdNZW1vID0gbmV3IFdlYWtNYXAoKTtcblxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBjaGVja1RhZ2dlZCA9ICh0YWdnZWQsIHRhZywgY2hlY2spID0+IHtcbiAgICBjb25zdCBtYXRjaEhlbHBlciA9IG1heWJlTWF0Y2hIZWxwZXIodGFnKTtcbiAgICBpZiAobWF0Y2hIZWxwZXIpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgcmV0dXJuIG1hdGNoSGVscGVyLmNoZWNrSXNXZWxsRm9ybWVkKHRhZ2dlZC5wYXlsb2FkLCBjaGVjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBheWxvYWRTaGFwZSA9IG1heWJlUGF5bG9hZFNoYXBlKHRhZyk7XG4gICAgICBpZiAocGF5bG9hZFNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIGNoZWNrTWF0Y2hlcyh0YWdnZWQucGF5bG9hZCwgcGF5bG9hZFNoYXBlLCBjaGVjaywgdGFnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoICh0YWcpIHtcbiAgICAgIGNhc2UgJ2NvcHlTZXQnOiB7XG4gICAgICAgIHJldHVybiBjaGVja0NvcHlTZXQodGFnZ2VkLCBjaGVjayk7XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5QmFnJzoge1xuICAgICAgICByZXR1cm4gY2hlY2tDb3B5QmFnKHRhZ2dlZCwgY2hlY2spO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weU1hcCc6IHtcbiAgICAgICAgcmV0dXJuIGNoZWNrQ29weU1hcCh0YWdnZWQsIGNoZWNrKTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFhgY2Fubm90IGNoZWNrIHVucmVjb2duaXplZCB0YWcgJHtxKHRhZyl9OiAke3RhZ2dlZH1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBraW5kT2YgPSAoc3BlY2ltZW4sIGNoZWNrID0gaWRlbnRDaGVja2VyKSA9PiB7XG4gICAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2Yoc3BlY2ltZW4pO1xuICAgIGlmIChwYXNzU3R5bGUgIT09ICd0YWdnZWQnKSB7XG4gICAgICByZXR1cm4gcGFzc1N0eWxlO1xuICAgIH1cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICBpZiAodGFnTWVtby5oYXMoc3BlY2ltZW4pKSB7XG4gICAgICByZXR1cm4gdGFnTWVtby5nZXQoc3BlY2ltZW4pO1xuICAgIH1cbiAgICBjb25zdCB0YWcgPSBnZXRUYWcoc3BlY2ltZW4pO1xuICAgIGlmIChjaGVja1RhZ2dlZChzcGVjaW1lbiwgdGFnLCBjaGVjaykpIHtcbiAgICAgIHRhZ01lbW8uc2V0KHNwZWNpbWVuLCB0YWcpO1xuICAgICAgcmV0dXJuIHRhZztcbiAgICB9XG4gICAgaWYgKGNoZWNrICE9PSBpZGVudENoZWNrZXIpIHtcbiAgICAgIGNoZWNrKGZhbHNlLCBYYGNhbm5vdCBjaGVjayB1bnJlY29nbml6ZWQgdGFnICR7cSh0YWcpfWApO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9O1xuICBoYXJkZW4oa2luZE9mKTtcblxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBjaGVja0tpbmQgPSAoc3BlY2ltZW4sIGtpbmQsIGNoZWNrKSA9PiB7XG4gICAgLy9cbiAgICBpZiAoc2luZ2xldG9uS2luZHMuaGFzKGtpbmQpKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIGNoZWNrQXNLZXlQYXR0KHNwZWNpbWVuLCBzaW5nbGV0b25LaW5kcy5nZXQoa2luZCksIGNoZWNrKTtcbiAgICB9XG5cbiAgICBjb25zdCByZWFsS2luZCA9IGtpbmRPZihzcGVjaW1lbiwgY2hlY2spO1xuICAgIGlmIChraW5kID09PSByZWFsS2luZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjaGVjayAhPT0gaWRlbnRDaGVja2VyKSB7XG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGNoZWNrKGZhbHNlLCBYYCR7YihyZWFsS2luZCl9ICR7c3BlY2ltZW59IC0gTXVzdCBiZSBhICR7YihraW5kKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBpc0tpbmQgPSAoc3BlY2ltZW4sIGtpbmQpID0+IGNoZWNrS2luZChzcGVjaW1lbiwga2luZCwgaWRlbnRDaGVja2VyKTtcblxuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBjaGVja0FzS2V5UGF0dCA9IChzcGVjaW1lbiwga2V5QXNQYXR0ZXJuLCBjaGVjaykgPT4ge1xuICAgIGlmIChpc0tleShzcGVjaW1lbikgJiYga2V5RVEoc3BlY2ltZW4sIGtleUFzUGF0dGVybikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgY2hlY2sgIT09IGlkZW50Q2hlY2tlciAmJlxuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICBjaGVjayhmYWxzZSwgWGAke3NwZWNpbWVufSAtIE11c3QgYmU6ICR7a2V5QXNQYXR0ZXJufWApXG4gICAgKTtcbiAgfTtcblxuICAvL1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBjaGVja1BhdHRlcm4gPSAocGF0dCwgY2hlY2spID0+IHtcbiAgICBpZiAoaXNLZXkocGF0dCkpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHBhdHRlcm5NZW1vLmhhcyhwYXR0KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vXG4gICAgY29uc3QgcmVzdWx0ID0gY2hlY2tQYXR0ZXJuSW50ZXJuYWwocGF0dCwgY2hlY2spO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHBhdHRlcm5NZW1vLmFkZChwYXR0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKlxuXG5cblxuXG4gICAqL1xuICBjb25zdCBjaGVja1BhdHRlcm5JbnRlcm5hbCA9IChwYXR0LCBjaGVjaykgPT4ge1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGNvbnN0IGNoZWNrSXQgPSBjaGlsZCA9PiBjaGVja1BhdHRlcm4oY2hpbGQsIGNoZWNrKTtcblxuICAgIGNvbnN0IGtpbmQgPSBraW5kT2YocGF0dCwgY2hlY2spO1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgY2FzZSB1bmRlZmluZWQ6IHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIHZhbHVlcyhwYXR0KS5ldmVyeShjaGVja0l0KTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NvcHlBcnJheSc6IHtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuIHBhdHQuZXZlcnkoY2hlY2tJdCk7XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5TWFwJzoge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gY2hlY2tQYXR0ZXJuKHBhdHQudmFsdWVzLCBjaGVjayk7XG4gICAgICB9XG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICBjYXNlICdwcm9taXNlJzoge1xuICAgICAgICByZXR1cm4gY2hlY2soZmFsc2UsIFhgQSAke3Eoa2luZCl9IGNhbm5vdCBiZSBhIHBhdHRlcm5gKTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgaWYgKG1heWJlTWF0Y2hIZWxwZXIoa2luZCkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBYYEEgcGFzc2FibGUgb2Yga2luZCAke3Eoa2luZCl9IGlzIG5vdCBhIHBhdHRlcm46ICR7cGF0dH1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKlxuXG5cbiAgICovXG4gIGNvbnN0IGlzUGF0dGVybiA9IHBhdHQgPT4gY2hlY2tQYXR0ZXJuKHBhdHQsIGlkZW50Q2hlY2tlcik7XG5cbiAgLypcblxuICAgKi9cbiAgY29uc3QgYXNzZXJ0UGF0dGVybiA9IHBhdHQgPT4ge1xuICAgIGNoZWNrUGF0dGVybihwYXR0LCBhc3NlcnRDaGVja2VyKTtcbiAgfTtcblxuICAvL1xuXG4gIC8qXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgY2hlY2tNYXRjaGVzID0gKHNwZWNpbWVuLCBwYXR0ZXJuLCBjaGVjaywgbGFiZWwgPSB1bmRlZmluZWQpID0+XG4gICAgLy9cbiAgICBhcHBseUxhYmVsaW5nRXJyb3IoY2hlY2tNYXRjaGVzSW50ZXJuYWwsIFtzcGVjaW1lbiwgcGF0dGVybiwgY2hlY2tdLCBsYWJlbCk7XG5cbiAgLypcblxuXG5cblxuICAgKi9cbiAgY29uc3QgY2hlY2tNYXRjaGVzSW50ZXJuYWwgPSAoc3BlY2ltZW4sIHBhdHQsIGNoZWNrKSA9PiB7XG4gICAgLy9cbiAgICBjb25zdCBwYXR0ZXJuS2luZCA9IGtpbmRPZihwYXR0LCBjaGVjayk7XG4gICAgY29uc3Qgc3BlY2ltZW5LaW5kID0ga2luZE9mKHNwZWNpbWVuKTsgLy9cbiAgICBzd2l0Y2ggKHBhdHRlcm5LaW5kKSB7XG4gICAgICBjYXNlIHVuZGVmaW5lZDoge1xuICAgICAgICByZXR1cm4gRmFpbGBwYXR0ZXJuIGV4cGVjdGVkOiAke3BhdHR9YDtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3Byb21pc2UnOiB7XG4gICAgICAgIHJldHVybiBGYWlsYHByb21pc2VzIGNhbm5vdCBiZSBwYXR0ZXJuczogJHtwYXR0fWA7XG4gICAgICB9XG4gICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgcmV0dXJuIEZhaWxgZXJyb3JzIGNhbm5vdCBiZSBwYXR0ZXJuczogJHtwYXR0fWA7XG4gICAgICB9XG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdiaWdpbnQnOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgICBjYXNlICdjb3B5U2V0JzpcbiAgICAgIGNhc2UgJ2NvcHlCYWcnOlxuICAgICAgY2FzZSAncmVtb3RhYmxlJzoge1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gY2hlY2tBc0tleVBhdHQoc3BlY2ltZW4sIHBhdHQsIGNoZWNrKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NvcHlBcnJheSc6IHtcbiAgICAgICAgaWYgKGlzS2V5KHBhdHQpKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBjaGVja0FzS2V5UGF0dChzcGVjaW1lbiwgcGF0dCwgY2hlY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGVjaW1lbktpbmQgIT09ICdjb3B5QXJyYXknKSB7XG4gICAgICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBYYCR7c3BlY2ltZW59IC0gTXVzdCBiZSBhIGNvcHlBcnJheSB0byBtYXRjaCBhIGNvcHlBcnJheSBwYXR0ZXJuOiAke3EoXG4gICAgICAgICAgICAgIHBhdHQsXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gcGF0dDtcbiAgICAgICAgaWYgKHNwZWNpbWVuLmxlbmd0aCAhPT0gbGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBYYEFycmF5ICR7c3BlY2ltZW59IC0gTXVzdCBiZSBhcyBsb25nIGFzIGNvcHlBcnJheSBwYXR0ZXJuOiAke3EoXG4gICAgICAgICAgICAgIHBhdHQsXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0dC5ldmVyeSgocCwgaSkgPT4gY2hlY2tNYXRjaGVzKHNwZWNpbWVuW2ldLCBwLCBjaGVjaywgaSkpO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weVJlY29yZCc6IHtcbiAgICAgICAgaWYgKGlzS2V5KHBhdHQpKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBjaGVja0FzS2V5UGF0dChzcGVjaW1lbiwgcGF0dCwgY2hlY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGVjaW1lbktpbmQgIT09ICdjb3B5UmVjb3JkJykge1xuICAgICAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgWGAke3NwZWNpbWVufSAtIE11c3QgYmUgYSBjb3B5UmVjb3JkIHRvIG1hdGNoIGEgY29weVJlY29yZCBwYXR0ZXJuOiAke3EoXG4gICAgICAgICAgICAgIHBhdHQsXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBzcGVjaW1lbk5hbWVzID0gcmVjb3JkTmFtZXMoc3BlY2ltZW4pO1xuICAgICAgICBjb25zdCBwYXR0TmFtZXMgPSByZWNvcmROYW1lcyhwYXR0KTtcbiAgICAgICAgY29uc3QgbWlzc2luZyA9IGxpc3REaWZmZXJlbmNlKHBhdHROYW1lcywgc3BlY2ltZW5OYW1lcyk7XG4gICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBYYCR7c3BlY2ltZW59IC0gTXVzdCBoYXZlIG1pc3NpbmcgcHJvcGVydGllcyAke3EobWlzc2luZyl9YCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVuZXhwZWN0ZWQgPSBsaXN0RGlmZmVyZW5jZShzcGVjaW1lbk5hbWVzLCBwYXR0TmFtZXMpO1xuICAgICAgICBpZiAodW5leHBlY3RlZC5sZW5ndGggPj0gMSkge1xuICAgICAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgWGAke3NwZWNpbWVufSAtIE11c3Qgbm90IGhhdmUgdW5leHBlY3RlZCBwcm9wZXJ0aWVzOiAke3EoXG4gICAgICAgICAgICAgIHVuZXhwZWN0ZWQsXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzcGVjaW1lblZhbHVlcyA9IHJlY29yZFZhbHVlcyhzcGVjaW1lbiwgc3BlY2ltZW5OYW1lcyk7XG4gICAgICAgIGNvbnN0IHBhdHRWYWx1ZXMgPSByZWNvcmRWYWx1ZXMocGF0dCwgcGF0dE5hbWVzKTtcbiAgICAgICAgcmV0dXJuIHBhdHROYW1lcy5ldmVyeSgobGFiZWwsIGkpID0+XG4gICAgICAgICAgY2hlY2tNYXRjaGVzKHNwZWNpbWVuVmFsdWVzW2ldLCBwYXR0VmFsdWVzW2ldLCBjaGVjaywgbGFiZWwpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSAnY29weU1hcCc6IHtcbiAgICAgICAgaWYgKGlzS2V5KHBhdHQpKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBjaGVja0FzS2V5UGF0dChzcGVjaW1lbiwgcGF0dCwgY2hlY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGVjaW1lbktpbmQgIT09ICdjb3B5TWFwJykge1xuICAgICAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgWGAke3NwZWNpbWVufSAtIE11c3QgYmUgYSBjb3B5TWFwIHRvIG1hdGNoIGEgY29weU1hcCBwYXR0ZXJuOiAke3EoXG4gICAgICAgICAgICAgIHBhdHQsXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICBjb25zdCBwYXR0S2V5U2V0ID0gY29weU1hcEtleVNldChwYXR0KTtcbiAgICAgICAgY29uc3Qgc3BlY2ltZW5LZXlTZXQgPSBjb3B5TWFwS2V5U2V0KHNwZWNpbWVuKTtcbiAgICAgICAgaWYgKCFjaGVja01hdGNoZXMoc3BlY2ltZW5LZXlTZXQsIHBhdHRLZXlTZXQsIGNoZWNrKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBwYXR0VmFsdWVzID0gW107XG4gICAgICAgIGNvbnN0IHNwZWNpbWVuVmFsdWVzID0gW107XG4gICAgICAgIGNvbnN0IGVudHJ5UGFpcnMgPSBnZW5lcmF0ZUNvbGxlY3Rpb25QYWlyRW50cmllcyhcbiAgICAgICAgICBwYXR0LFxuICAgICAgICAgIHNwZWNpbWVuLFxuICAgICAgICAgIGdldENvcHlNYXBFbnRyeUFycmF5LFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgKTtcbiAgICAgICAgZm9yIChjb25zdCBbX2tleSwgcGF0dFZhbHVlLCBzcGVjaW1lblZhbHVlXSBvZiBlbnRyeVBhaXJzKSB7XG4gICAgICAgICAgcGF0dFZhbHVlcy5wdXNoKHBhdHRWYWx1ZSk7XG4gICAgICAgICAgc3BlY2ltZW5WYWx1ZXMucHVzaChzcGVjaW1lblZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hlY2tNYXRjaGVzKGhhcmRlbihzcGVjaW1lblZhbHVlcyksIGhhcmRlbihwYXR0VmFsdWVzKSwgY2hlY2spO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBtYXRjaEhlbHBlciA9IG1heWJlTWF0Y2hIZWxwZXIocGF0dGVybktpbmQpO1xuICAgICAgICBpZiAobWF0Y2hIZWxwZXIpIHtcbiAgICAgICAgICByZXR1cm4gbWF0Y2hIZWxwZXIuY2hlY2tNYXRjaGVzKHNwZWNpbWVuLCBwYXR0LnBheWxvYWQsIGNoZWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBGYWlsYGludGVybmFsOiBzaG91bGQgaGF2ZSByZWNvZ25pemVkICR7cShwYXR0ZXJuS2luZCl9IGA7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qXG5cblxuXG4gICAqL1xuICBjb25zdCBtYXRjaGVzID0gKHNwZWNpbWVuLCBwYXR0KSA9PlxuICAgIGNoZWNrTWF0Y2hlcyhzcGVjaW1lbiwgcGF0dCwgaWRlbnRDaGVja2VyKTtcblxuICAvKlxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgbXVzdE1hdGNoID0gKHNwZWNpbWVuLCBwYXR0LCBsYWJlbCA9IHVuZGVmaW5lZCkgPT4ge1xuICAgIGxldCBpbm5lckVycm9yO1xuICAgIHRyeSB7XG4gICAgICBpZiAoY2hlY2tNYXRjaGVzKHNwZWNpbWVuLCBwYXR0LCBpZGVudENoZWNrZXIsIHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICBpbm5lckVycm9yID0gZXI7XG4gICAgfVxuICAgIC8vXG4gICAgY2hlY2tNYXRjaGVzKHNwZWNpbWVuLCBwYXR0LCBhc3NlcnRDaGVja2VyLCBsYWJlbCk7XG4gICAgY29uc3Qgb3V0ZXJFcnJvciA9IG1ha2VFcnJvcihcbiAgICAgIFhgaW50ZXJuYWw6ICR7bGFiZWx9OiBpbmNvbnNpc3RlbnQgcGF0dGVybiBtYXRjaDogJHtxKHBhdHQpfWAsXG4gICAgKTtcbiAgICBpZiAoaW5uZXJFcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhbm5vdGF0ZUVycm9yKG91dGVyRXJyb3IsIFhgY2F1c2VkIGJ5ICR7aW5uZXJFcnJvcn1gKTtcbiAgICB9XG4gICAgdGhyb3cgb3V0ZXJFcnJvcjtcbiAgfTtcblxuICAvL1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBnZXRSYW5rQ292ZXIgPSAocGF0dCwgZW5jb2RlUGFzc2FibGUpID0+IHtcbiAgICBpZiAoaXNLZXkocGF0dCkpIHtcbiAgICAgIGNvbnN0IGVuY29kZWQgPSBlbmNvZGVQYXNzYWJsZShwYXR0KTtcbiAgICAgIGlmIChlbmNvZGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFtlbmNvZGVkLCBgJHtlbmNvZGVkfX5gXTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2YocGF0dCk7XG4gICAgc3dpdGNoIChwYXNzU3R5bGUpIHtcbiAgICAgIGNhc2UgJ2NvcHlBcnJheSc6IHtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5UmVjb3JkJzoge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3RhZ2dlZCc6IHtcbiAgICAgICAgY29uc3QgdGFnID0gZ2V0VGFnKHBhdHQpO1xuICAgICAgICBjb25zdCBtYXRjaEhlbHBlciA9IG1heWJlTWF0Y2hIZWxwZXIodGFnKTtcbiAgICAgICAgaWYgKG1hdGNoSGVscGVyKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBtYXRjaEhlbHBlci5nZXRSYW5rQ292ZXIocGF0dC5wYXlsb2FkLCBlbmNvZGVQYXNzYWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgICBjYXNlICdjb3B5U2V0Jzoge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdjb3B5TWFwJzoge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgYnJlYWs7IC8vXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrOyAvL1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBicmVhazsgLy9cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdldFBhc3NTdHlsZUNvdmVyKHBhc3NTdHlsZSk7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBhcnJheUV2ZXJ5TWF0Y2hQYXR0ZXJuID0gKGFycmF5LCBwYXR0LCBjaGVjaywgbGFiZWxQcmVmaXggPSAnJykgPT4ge1xuICAgIGlmIChpc0tpbmQocGF0dCwgJ21hdGNoOmFueScpKSB7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheS5ldmVyeSgoZWwsIGkpID0+XG4gICAgICBjaGVja01hdGNoZXMoZWwsIHBhdHQsIGNoZWNrLCBgJHtsYWJlbFByZWZpeH1bJHtpfV1gKSxcbiAgICApO1xuICB9O1xuXG4gIC8vXG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hBbnlIZWxwZXIgPSBGYXIoJ21hdGNoOmFueSBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoX3NwZWNpbWVuLCBfbWF0Y2hlclBheWxvYWQsIF9jaGVjaykgPT4gdHJ1ZSxcblxuICAgIGNoZWNrSXNXZWxsRm9ybWVkOiAobWF0Y2hlclBheWxvYWQsIGNoZWNrKSA9PlxuICAgICAgbWF0Y2hlclBheWxvYWQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgY2hlY2soZmFsc2UsIFhgbWF0Y2g6YW55IHBheWxvYWQ6ICR7bWF0Y2hlclBheWxvYWR9IC0gTXVzdCBiZSB1bmRlZmluZWRgKSxcblxuICAgIGdldFJhbmtDb3ZlcjogKF9tYXRjaFBheWxvYWQsIF9lbmNvZGVQYXNzYWJsZSkgPT4gWycnLCAneyddLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtYXRjaEFuZEhlbHBlciA9IEZhcignbWF0Y2g6YW5kIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChzcGVjaW1lbiwgcGF0dHMsIGNoZWNrKSA9PiB7XG4gICAgICByZXR1cm4gcGF0dHMuZXZlcnkocGF0dCA9PiBjaGVja01hdGNoZXMoc3BlY2ltZW4sIHBhdHQsIGNoZWNrKSk7XG4gICAgfSxcblxuICAgIGNoZWNrSXNXZWxsRm9ybWVkOiAoYWxsZWdlZFBhdHRzLCBjaGVjaykgPT4ge1xuICAgICAgY29uc3QgY2hlY2tJdCA9IHBhdHQgPT4gY2hlY2tQYXR0ZXJuKHBhdHQsIGNoZWNrKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIChwYXNzU3R5bGVPZihhbGxlZ2VkUGF0dHMpID09PSAnY29weUFycmF5JyB8fFxuICAgICAgICAgIGNoZWNrKGZhbHNlLCBYYE5lZWRzIGFycmF5IG9mIHN1Yi1wYXR0ZXJuczogJHtxKGFsbGVnZWRQYXR0cyl9YCkpICYmXG4gICAgICAgIGFsbGVnZWRQYXR0cy5ldmVyeShjaGVja0l0KVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgZ2V0UmFua0NvdmVyOiAocGF0dHMsIGVuY29kZVBhc3NhYmxlKSA9PlxuICAgICAgaW50ZXJzZWN0UmFua0NvdmVycyhcbiAgICAgICAgY29tcGFyZVJhbmssXG4gICAgICAgIHBhdHRzLm1hcChwID0+IGdldFJhbmtDb3ZlcihwLCBlbmNvZGVQYXNzYWJsZSkpLFxuICAgICAgKSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hPckhlbHBlciA9IEZhcignbWF0Y2g6b3IgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBwYXR0cywgY2hlY2spID0+IHtcbiAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBwYXR0cztcbiAgICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFhgJHtzcGVjaW1lbn0gLSBubyBwYXR0ZXJuIGRpc2p1bmN0cyB0byBtYXRjaDogJHtxKHBhdHRzKX1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBwYXR0cy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgIW1hdGNoZXMoc3BlY2ltZW4sIHBhdHRzWzBdKSAmJlxuICAgICAgICBpc0tpbmQocGF0dHNbMF0sICdtYXRjaDpraW5kJykgJiZcbiAgICAgICAgcGF0dHNbMF0ucGF5bG9hZCA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICkge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gY2hlY2tNYXRjaGVzKHNwZWNpbWVuLCBwYXR0c1sxXSwgY2hlY2spO1xuICAgICAgfVxuICAgICAgaWYgKHBhdHRzLnNvbWUocGF0dCA9PiBtYXRjaGVzKHNwZWNpbWVuLCBwYXR0KSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hlY2soZmFsc2UsIFhgJHtzcGVjaW1lbn0gLSBNdXN0IG1hdGNoIG9uZSBvZiAke3EocGF0dHMpfWApO1xuICAgIH0sXG5cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogbWF0Y2hBbmRIZWxwZXIuY2hlY2tJc1dlbGxGb3JtZWQsXG5cbiAgICBnZXRSYW5rQ292ZXI6IChwYXR0cywgZW5jb2RlUGFzc2FibGUpID0+XG4gICAgICB1bmlvblJhbmtDb3ZlcnMoXG4gICAgICAgIGNvbXBhcmVSYW5rLFxuICAgICAgICBwYXR0cy5tYXAocCA9PiBnZXRSYW5rQ292ZXIocCwgZW5jb2RlUGFzc2FibGUpKSxcbiAgICAgICksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoTm90SGVscGVyID0gRmFyKCdtYXRjaDpub3QgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBwYXR0LCBjaGVjaykgPT4ge1xuICAgICAgaWYgKG1hdGNoZXMoc3BlY2ltZW4sIHBhdHQpKSB7XG4gICAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBYYCR7c3BlY2ltZW59IC0gTXVzdCBmYWlsIG5lZ2F0ZWQgcGF0dGVybjogJHtxKHBhdHQpfWAsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IGNoZWNrUGF0dGVybixcblxuICAgIGdldFJhbmtDb3ZlcjogKF9wYXR0LCBfZW5jb2RlUGFzc2FibGUpID0+IFsnJywgJ3snXSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hTY2FsYXJIZWxwZXIgPSBGYXIoJ21hdGNoOnNjYWxhciBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoc3BlY2ltZW4sIF9tYXRjaGVyUGF5bG9hZCwgY2hlY2spID0+XG4gICAgICBjaGVja1NjYWxhcktleShzcGVjaW1lbiwgY2hlY2spLFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IG1hdGNoQW55SGVscGVyLmNoZWNrSXNXZWxsRm9ybWVkLFxuXG4gICAgZ2V0UmFua0NvdmVyOiAoX21hdGNoUGF5bG9hZCwgX2VuY29kZVBhc3NhYmxlKSA9PiBbJ2EnLCAnen4nXSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hLZXlIZWxwZXIgPSBGYXIoJ21hdGNoOmtleSBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoc3BlY2ltZW4sIF9tYXRjaGVyUGF5bG9hZCwgY2hlY2spID0+XG4gICAgICBjaGVja0tleShzcGVjaW1lbiwgY2hlY2spLFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IG1hdGNoQW55SGVscGVyLmNoZWNrSXNXZWxsRm9ybWVkLFxuXG4gICAgZ2V0UmFua0NvdmVyOiAoX21hdGNoUGF5bG9hZCwgX2VuY29kZVBhc3NhYmxlKSA9PiBbJ2EnLCAnen4nXSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hQYXR0ZXJuSGVscGVyID0gRmFyKCdtYXRjaDpwYXR0ZXJuIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChzcGVjaW1lbiwgX21hdGNoZXJQYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrUGF0dGVybihzcGVjaW1lbiwgY2hlY2spLFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IG1hdGNoQW55SGVscGVyLmNoZWNrSXNXZWxsRm9ybWVkLFxuXG4gICAgZ2V0UmFua0NvdmVyOiAoX21hdGNoUGF5bG9hZCwgX2VuY29kZVBhc3NhYmxlKSA9PiBbJ2EnLCAnen4nXSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hLaW5kSGVscGVyID0gRmFyKCdtYXRjaDpraW5kIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IGNoZWNrS2luZCxcblxuICAgIGNoZWNrSXNXZWxsRm9ybWVkOiAoYWxsZWdlZEtleUtpbmQsIGNoZWNrKSA9PlxuICAgICAgdHlwZW9mIGFsbGVnZWRLZXlLaW5kID09PSAnc3RyaW5nJyB8fFxuICAgICAgY2hlY2soXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBYYG1hdGNoOmtpbmQ6IHBheWxvYWQ6ICR7YWxsZWdlZEtleUtpbmR9IC0gQSBraW5kIG5hbWUgbXVzdCBiZSBhIHN0cmluZ2AsXG4gICAgICApLFxuXG4gICAgZ2V0UmFua0NvdmVyOiAoa2luZCwgX2VuY29kZVBhc3NhYmxlKSA9PiB7XG4gICAgICBsZXQgc3R5bGU7XG4gICAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgY2FzZSAnY29weVNldCc6XG4gICAgICAgIGNhc2UgJ2NvcHlNYXAnOiB7XG4gICAgICAgICAgc3R5bGUgPSAndGFnZ2VkJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgc3R5bGUgPSBraW5kO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0UGFzc1N0eWxlQ292ZXIoc3R5bGUpO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoVGFnZ2VkSGVscGVyID0gRmFyKCdtYXRjaDp0YWdnZWQgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBbdGFnUGF0dCwgcGF5bG9hZFBhdHRdLCBjaGVjaykgPT4ge1xuICAgICAgaWYgKHBhc3NTdHlsZU9mKHNwZWNpbWVuKSAhPT0gJ3RhZ2dlZCcpIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFhgRXhwZWN0ZWQgdGFnZ2VkIG9iamVjdCwgbm90ICR7cShcbiAgICAgICAgICAgIHBhc3NTdHlsZU9mKHNwZWNpbWVuKSxcbiAgICAgICAgICApfTogJHtzcGVjaW1lbn1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tNYXRjaGVzKGdldFRhZyhzcGVjaW1lbiksIHRhZ1BhdHQsIGNoZWNrLCAndGFnJykgJiZcbiAgICAgICAgY2hlY2tNYXRjaGVzKHNwZWNpbWVuLnBheWxvYWQsIHBheWxvYWRQYXR0LCBjaGVjaywgJ3BheWxvYWQnKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChwYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrTWF0Y2hlcyhcbiAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgaGFyZGVuKFtNTS5wYXR0ZXJuKCksIE1NLnBhdHRlcm4oKV0pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOnRhZ2dlZCBwYXlsb2FkJyxcbiAgICAgICksXG5cbiAgICBnZXRSYW5rQ292ZXI6IChfa2luZCwgX2VuY29kZVBhc3NhYmxlKSA9PiBnZXRQYXNzU3R5bGVDb3ZlcigndGFnZ2VkJyksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoQmlnaW50SGVscGVyID0gRmFyKCdtYXRjaDpiaWdpbnQgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBbbGltaXRzID0gdW5kZWZpbmVkXSwgY2hlY2spID0+IHtcbiAgICAgIGNvbnN0IHsgZGVjaW1hbERpZ2l0c0xpbWl0IH0gPSBsaW1pdChsaW1pdHMpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tLaW5kKHNwZWNpbWVuLCAnYmlnaW50JywgY2hlY2spICYmXG4gICAgICAgIGNoZWNrRGVjaW1hbERpZ2l0c0xpbWl0KHNwZWNpbWVuLCBkZWNpbWFsRGlnaXRzTGltaXQsIGNoZWNrKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChwYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrSXNXZWxsRm9ybWVkV2l0aExpbWl0KFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICBoYXJkZW4oW10pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOmJpZ2ludCBwYXlsb2FkJyxcbiAgICAgICksXG5cbiAgICBnZXRSYW5rQ292ZXI6IChfbWF0Y2hQYXlsb2FkLCBfZW5jb2RlUGFzc2FibGUpID0+XG4gICAgICBnZXRQYXNzU3R5bGVDb3ZlcignYmlnaW50JyksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoTmF0SGVscGVyID0gRmFyKCdtYXRjaDpuYXQgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBbbGltaXRzID0gdW5kZWZpbmVkXSwgY2hlY2spID0+IHtcbiAgICAgIGNvbnN0IHsgZGVjaW1hbERpZ2l0c0xpbWl0IH0gPSBsaW1pdChsaW1pdHMpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tLaW5kKHNwZWNpbWVuLCAnYmlnaW50JywgY2hlY2spICYmXG4gICAgICAgIGNoZWNrKFxuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pID49IDBuLFxuICAgICAgICAgIFhgJHtzcGVjaW1lbn0gLSBNdXN0IGJlIG5vbi1uZWdhdGl2ZWAsXG4gICAgICAgICkgJiZcbiAgICAgICAgY2hlY2tEZWNpbWFsRGlnaXRzTGltaXQoc3BlY2ltZW4sIGRlY2ltYWxEaWdpdHNMaW1pdCwgY2hlY2spXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogKHBheWxvYWQsIGNoZWNrKSA9PlxuICAgICAgY2hlY2tJc1dlbGxGb3JtZWRXaXRoTGltaXQoXG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIGhhcmRlbihbXSksXG4gICAgICAgIGNoZWNrLFxuICAgICAgICAnbWF0Y2g6bmF0IHBheWxvYWQnLFxuICAgICAgKSxcblxuICAgIGdldFJhbmtDb3ZlcjogKF9tYXRjaFBheWxvYWQsIF9lbmNvZGVQYXNzYWJsZSkgPT5cbiAgICAgIC8vXG4gICAgICBnZXRQYXNzU3R5bGVDb3ZlcignYmlnaW50JyksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoU3RyaW5nSGVscGVyID0gRmFyKCdtYXRjaDpzdHJpbmcgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBbbGltaXRzID0gdW5kZWZpbmVkXSwgY2hlY2spID0+IHtcbiAgICAgIGNvbnN0IHsgc3RyaW5nTGVuZ3RoTGltaXQgfSA9IGxpbWl0KGxpbWl0cyk7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tLaW5kKHNwZWNpbWVuLCAnc3RyaW5nJywgY2hlY2spICYmXG4gICAgICAgICAgLy9cbiAgICAgICAgICAoLyogICAgICAgICAgICAgICAgICovIChzcGVjaW1lbikubGVuZ3RoIDw9IHN0cmluZ0xlbmd0aExpbWl0IHx8XG4gICAgICAgICAgY2hlY2soXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFhgc3RyaW5nICR7c3BlY2ltZW59IG11c3Qgbm90IGJlIGJpZ2dlciB0aGFuICR7c3RyaW5nTGVuZ3RoTGltaXR9YCxcbiAgICAgICAgICApKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChwYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrSXNXZWxsRm9ybWVkV2l0aExpbWl0KFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICBoYXJkZW4oW10pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOnN0cmluZyBwYXlsb2FkJyxcbiAgICAgICksXG5cbiAgICBnZXRSYW5rQ292ZXI6IChfbWF0Y2hQYXlsb2FkLCBfZW5jb2RlUGFzc2FibGUpID0+XG4gICAgICBnZXRQYXNzU3R5bGVDb3Zlcignc3RyaW5nJyksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoU3ltYm9sSGVscGVyID0gRmFyKCdtYXRjaDpzeW1ib2wgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCBbbGltaXRzID0gdW5kZWZpbmVkXSwgY2hlY2spID0+IHtcbiAgICAgIGNvbnN0IHsgc3ltYm9sTmFtZUxlbmd0aExpbWl0IH0gPSBsaW1pdChsaW1pdHMpO1xuICAgICAgaWYgKCFjaGVja0tpbmQoc3BlY2ltZW4sICdzeW1ib2wnLCBjaGVjaykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3ltYm9sTmFtZSA9IG5hbWVGb3JQYXNzYWJsZVN5bWJvbChzcGVjaW1lbik7XG5cbiAgICAgIGlmICh0eXBlb2Ygc3ltYm9sTmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgRmFpbGBpbnRlcm5hbDogUGFzc2FibGUgc3ltYm9sICR7c3BlY2ltZW59IG11c3QgaGF2ZSBhIHBhc3NhYmxlIG5hbWVgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoZWNrKFxuICAgICAgICBzeW1ib2xOYW1lLmxlbmd0aCA8PSBzeW1ib2xOYW1lTGVuZ3RoTGltaXQsXG4gICAgICAgIFhgU3ltYm9sIG5hbWUgJHtxKFxuICAgICAgICAgIHN5bWJvbE5hbWUsXG4gICAgICAgICl9IG11c3Qgbm90IGJlIGJpZ2dlciB0aGFuICR7c3ltYm9sTmFtZUxlbmd0aExpbWl0fWAsXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogKHBheWxvYWQsIGNoZWNrKSA9PlxuICAgICAgY2hlY2tJc1dlbGxGb3JtZWRXaXRoTGltaXQoXG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIGhhcmRlbihbXSksXG4gICAgICAgIGNoZWNrLFxuICAgICAgICAnbWF0Y2g6c3ltYm9sIHBheWxvYWQnLFxuICAgICAgKSxcblxuICAgIGdldFJhbmtDb3ZlcjogKF9tYXRjaFBheWxvYWQsIF9lbmNvZGVQYXNzYWJsZSkgPT5cbiAgICAgIGdldFBhc3NTdHlsZUNvdmVyKCdzeW1ib2wnKSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hSZW1vdGFibGVIZWxwZXIgPSBGYXIoJ21hdGNoOnJlbW90YWJsZSBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoc3BlY2ltZW4sIHJlbW90YWJsZURlc2MsIGNoZWNrKSA9PiB7XG4gICAgICBpZiAoaXNLaW5kKHNwZWNpbWVuLCAncmVtb3RhYmxlJykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2sgPT09IGlkZW50Q2hlY2tlcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCB7IGxhYmVsIH0gPSByZW1vdGFibGVEZXNjO1xuICAgICAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2Yoc3BlY2ltZW4pO1xuICAgICAgY29uc3Qga2luZERldGFpbHMgPVxuICAgICAgICBwYXNzU3R5bGUgIT09ICd0YWdnZWQnXG4gICAgICAgICAgPyAvL1xuICAgICAgICAgICAgYihwYXNzU3R5bGUpXG4gICAgICAgICAgOiAvL1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHEoZ2V0VGFnKHNwZWNpbWVuKSk7XG4gICAgICByZXR1cm4gY2hlY2soXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBYYCR7c3BlY2ltZW59IC0gTXVzdCBiZSBhIHJlbW90YWJsZSAke2IobGFiZWwpfSwgbm90ICR7a2luZERldGFpbHN9YCxcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGNoZWNrSXNXZWxsRm9ybWVkOiAoYWxsZWdlZFJlbW90YWJsZURlc2MsIGNoZWNrKSA9PlxuICAgICAgY2hlY2tNYXRjaGVzKFxuICAgICAgICBhbGxlZ2VkUmVtb3RhYmxlRGVzYyxcbiAgICAgICAgaGFyZGVuKHsgbGFiZWw6IE1NLnN0cmluZygpIH0pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOnJlbW90YWJsZSBwYXlsb2FkJyxcbiAgICAgICksXG5cbiAgICBnZXRSYW5rQ292ZXI6IChfcmVtb3RhYmxlRGVzYywgX2VuY29kZVBhc3NhYmxlKSA9PlxuICAgICAgZ2V0UGFzc1N0eWxlQ292ZXIoJ3JlbW90YWJsZScpLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtYXRjaExURUhlbHBlciA9IEZhcignbWF0Y2g6bHRlIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChzcGVjaW1lbiwgcmlnaHRPcGVyYW5kLCBjaGVjaykgPT5cbiAgICAgIGtleUxURShzcGVjaW1lbiwgcmlnaHRPcGVyYW5kKSB8fFxuICAgICAgY2hlY2soZmFsc2UsIFhgJHtzcGVjaW1lbn0gLSBNdXN0IGJlIDw9ICR7cmlnaHRPcGVyYW5kfWApLFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IGNoZWNrS2V5LFxuXG4gICAgZ2V0UmFua0NvdmVyOiAocmlnaHRPcGVyYW5kLCBlbmNvZGVQYXNzYWJsZSkgPT4ge1xuICAgICAgY29uc3QgcGFzc1N0eWxlID0gcGFzc1N0eWxlT2YocmlnaHRPcGVyYW5kKTtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGxldCBbbGVmdEJvdW5kLCByaWdodEJvdW5kXSA9IGdldFBhc3NTdHlsZUNvdmVyKHBhc3NTdHlsZSk7XG4gICAgICBjb25zdCBuZXdSaWdodEJvdW5kID0gYCR7ZW5jb2RlUGFzc2FibGUocmlnaHRPcGVyYW5kKX1+YDtcbiAgICAgIGlmIChuZXdSaWdodEJvdW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmlnaHRCb3VuZCA9IG5ld1JpZ2h0Qm91bmQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2xlZnRCb3VuZCwgcmlnaHRCb3VuZF07XG4gICAgfSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hMVEhlbHBlciA9IEZhcignbWF0Y2g6bHQgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCByaWdodE9wZXJhbmQsIGNoZWNrKSA9PlxuICAgICAga2V5TFQoc3BlY2ltZW4sIHJpZ2h0T3BlcmFuZCkgfHxcbiAgICAgIGNoZWNrKGZhbHNlLCBYYCR7c3BlY2ltZW59IC0gTXVzdCBiZSA8ICR7cmlnaHRPcGVyYW5kfWApLFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IGNoZWNrS2V5LFxuXG4gICAgZ2V0UmFua0NvdmVyOiBtYXRjaExURUhlbHBlci5nZXRSYW5rQ292ZXIsXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoR1RFSGVscGVyID0gRmFyKCdtYXRjaDpndGUgaGVscGVyJywge1xuICAgIGNoZWNrTWF0Y2hlczogKHNwZWNpbWVuLCByaWdodE9wZXJhbmQsIGNoZWNrKSA9PlxuICAgICAga2V5R1RFKHNwZWNpbWVuLCByaWdodE9wZXJhbmQpIHx8XG4gICAgICBjaGVjayhmYWxzZSwgWGAke3NwZWNpbWVufSAtIE11c3QgYmUgPj0gJHtyaWdodE9wZXJhbmR9YCksXG5cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogY2hlY2tLZXksXG5cbiAgICBnZXRSYW5rQ292ZXI6IChyaWdodE9wZXJhbmQsIGVuY29kZVBhc3NhYmxlKSA9PiB7XG4gICAgICBjb25zdCBwYXNzU3R5bGUgPSBwYXNzU3R5bGVPZihyaWdodE9wZXJhbmQpO1xuICAgICAgLy9cbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgbGV0IFtsZWZ0Qm91bmQsIHJpZ2h0Qm91bmRdID0gZ2V0UGFzc1N0eWxlQ292ZXIocGFzc1N0eWxlKTtcbiAgICAgIGNvbnN0IG5ld0xlZnRCb3VuZCA9IGVuY29kZVBhc3NhYmxlKHJpZ2h0T3BlcmFuZCk7XG4gICAgICBpZiAobmV3TGVmdEJvdW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGVmdEJvdW5kID0gbmV3TGVmdEJvdW5kO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtsZWZ0Qm91bmQsIHJpZ2h0Qm91bmRdO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoR1RIZWxwZXIgPSBGYXIoJ21hdGNoOmd0IGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChzcGVjaW1lbiwgcmlnaHRPcGVyYW5kLCBjaGVjaykgPT5cbiAgICAgIGtleUdUKHNwZWNpbWVuLCByaWdodE9wZXJhbmQpIHx8XG4gICAgICBjaGVjayhmYWxzZSwgWGAke3NwZWNpbWVufSAtIE11c3QgYmUgPiAke3JpZ2h0T3BlcmFuZH1gKSxcblxuICAgIGNoZWNrSXNXZWxsRm9ybWVkOiBjaGVja0tleSxcblxuICAgIGdldFJhbmtDb3ZlcjogbWF0Y2hHVEVIZWxwZXIuZ2V0UmFua0NvdmVyLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtYXRjaFJlY29yZE9mSGVscGVyID0gRmFyKCdtYXRjaDpyZWNvcmRPZiBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoXG4gICAgICBzcGVjaW1lbixcbiAgICAgIFtrZXlQYXR0LCB2YWx1ZVBhdHQsIGxpbWl0cyA9IHVuZGVmaW5lZF0sXG4gICAgICBjaGVjayxcbiAgICApID0+IHtcbiAgICAgIGNvbnN0IHsgbnVtUHJvcGVydGllc0xpbWl0LCBwcm9wZXJ0eU5hbWVMZW5ndGhMaW1pdCB9ID0gbGltaXQobGltaXRzKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGNoZWNrS2luZChzcGVjaW1lbiwgJ2NvcHlSZWNvcmQnLCBjaGVjaykgJiZcbiAgICAgICAgY2hlY2soXG4gICAgICAgICAgb3duS2V5cyhzcGVjaW1lbikubGVuZ3RoIDw9IG51bVByb3BlcnRpZXNMaW1pdCxcbiAgICAgICAgICBYYE11c3Qgbm90IGhhdmUgbW9yZSB0aGFuICR7cShcbiAgICAgICAgICAgIG51bVByb3BlcnRpZXNMaW1pdCxcbiAgICAgICAgICApfSBwcm9wZXJ0aWVzOiAke3NwZWNpbWVufWAsXG4gICAgICAgICkgJiZcbiAgICAgICAgZW50cmllcyhzcGVjaW1lbikuZXZlcnkoXG4gICAgICAgICAgKFtrZXksIHZhbHVlXSkgPT5cbiAgICAgICAgICAgIGFwcGx5TGFiZWxpbmdFcnJvcihcbiAgICAgICAgICAgICAgY2hlY2ssXG4gICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBrZXkubGVuZ3RoIDw9IHByb3BlcnR5TmFtZUxlbmd0aExpbWl0LFxuICAgICAgICAgICAgICAgIFhgUHJvcGVydHkgbmFtZSBtdXN0IG5vdCBiZSBsb25nZXIgdGhhbiAke3EoXG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWVMZW5ndGhMaW1pdCxcbiAgICAgICAgICAgICAgICApfWAsXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgIGNoZWNrTWF0Y2hlcyhcbiAgICAgICAgICAgICAgaGFyZGVuKFtrZXksIHZhbHVlXSksXG4gICAgICAgICAgICAgIGhhcmRlbihba2V5UGF0dCwgdmFsdWVQYXR0XSksXG4gICAgICAgICAgICAgIGNoZWNrLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICApLFxuICAgICAgICApXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogKHBheWxvYWQsIGNoZWNrKSA9PlxuICAgICAgY2hlY2tJc1dlbGxGb3JtZWRXaXRoTGltaXQoXG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIGhhcmRlbihbTU0ucGF0dGVybigpLCBNTS5wYXR0ZXJuKCldKSxcbiAgICAgICAgY2hlY2ssXG4gICAgICAgICdtYXRjaDpyZWNvcmRPZiBwYXlsb2FkJyxcbiAgICAgICksXG5cbiAgICBnZXRSYW5rQ292ZXI6IF9lbnRyeVBhdHQgPT4gZ2V0UGFzc1N0eWxlQ292ZXIoJ2NvcHlSZWNvcmQnKSxcbiAgfSk7XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hBcnJheU9mSGVscGVyID0gRmFyKCdtYXRjaDphcnJheU9mIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChzcGVjaW1lbiwgW3N1YlBhdHQsIGxpbWl0cyA9IHVuZGVmaW5lZF0sIGNoZWNrKSA9PiB7XG4gICAgICBjb25zdCB7IGFycmF5TGVuZ3RoTGltaXQgfSA9IGxpbWl0KGxpbWl0cyk7XG4gICAgICAvL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tLaW5kKHNwZWNpbWVuLCAnY29weUFycmF5JywgY2hlY2spICYmXG4gICAgICAgICgvKiAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4pLmxlbmd0aCA8PSBhcnJheUxlbmd0aExpbWl0IHx8XG4gICAgICAgICAgY2hlY2soXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFhgQXJyYXkgbGVuZ3RoICR7c3BlY2ltZW4ubGVuZ3RofSBtdXN0IGJlIDw9IGxpbWl0ICR7YXJyYXlMZW5ndGhMaW1pdH1gLFxuICAgICAgICAgICkpICYmXG4gICAgICAgIGFycmF5RXZlcnlNYXRjaFBhdHRlcm4oc3BlY2ltZW4sIHN1YlBhdHQsIGNoZWNrKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChwYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrSXNXZWxsRm9ybWVkV2l0aExpbWl0KFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICBoYXJkZW4oW01NLnBhdHRlcm4oKV0pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOmFycmF5T2YgcGF5bG9hZCcsXG4gICAgICApLFxuXG4gICAgZ2V0UmFua0NvdmVyOiAoKSA9PiBnZXRQYXNzU3R5bGVDb3ZlcignY29weUFycmF5JyksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoU2V0T2ZIZWxwZXIgPSBGYXIoJ21hdGNoOnNldE9mIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChzcGVjaW1lbiwgW2tleVBhdHQsIGxpbWl0cyA9IHVuZGVmaW5lZF0sIGNoZWNrKSA9PiB7XG4gICAgICBjb25zdCB7IG51bVNldEVsZW1lbnRzTGltaXQgfSA9IGxpbWl0KGxpbWl0cyk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBjaGVja0tpbmQoc3BlY2ltZW4sICdjb3B5U2V0JywgY2hlY2spICYmXG4gICAgICAgIGNoZWNrKFxuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICovIChzcGVjaW1lbi5wYXlsb2FkKS5sZW5ndGggPCBudW1TZXRFbGVtZW50c0xpbWl0LFxuICAgICAgICAgIFhgU2V0IG11c3Qgbm90IGhhdmUgbW9yZSB0aGFuICR7cShudW1TZXRFbGVtZW50c0xpbWl0KX0gZWxlbWVudHM6ICR7XG4gICAgICAgICAgICBzcGVjaW1lbi5wYXlsb2FkLmxlbmd0aFxuICAgICAgICAgIH1gLFxuICAgICAgICApICYmXG4gICAgICAgIGFycmF5RXZlcnlNYXRjaFBhdHRlcm4oc3BlY2ltZW4ucGF5bG9hZCwga2V5UGF0dCwgY2hlY2ssICdzZXQgZWxlbWVudHMnKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChwYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrSXNXZWxsRm9ybWVkV2l0aExpbWl0KFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICBoYXJkZW4oW01NLnBhdHRlcm4oKV0pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOnNldE9mIHBheWxvYWQnLFxuICAgICAgKSxcblxuICAgIGdldFJhbmtDb3ZlcjogKCkgPT4gZ2V0UGFzc1N0eWxlQ292ZXIoJ3RhZ2dlZCcpLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBtYXRjaEJhZ09mSGVscGVyID0gRmFyKCdtYXRjaDpiYWdPZiBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoXG4gICAgICBzcGVjaW1lbixcbiAgICAgIFtrZXlQYXR0LCBjb3VudFBhdHQsIGxpbWl0cyA9IHVuZGVmaW5lZF0sXG4gICAgICBjaGVjayxcbiAgICApID0+IHtcbiAgICAgIGNvbnN0IHsgbnVtVW5pcXVlQmFnRWxlbWVudHNMaW1pdCwgZGVjaW1hbERpZ2l0c0xpbWl0IH0gPSBsaW1pdChsaW1pdHMpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tLaW5kKHNwZWNpbWVuLCAnY29weUJhZycsIGNoZWNrKSAmJlxuICAgICAgICBjaGVjayhcbiAgICAgICAgICAvKiAgICAgICAgICAgICAgICAqLyAoc3BlY2ltZW4ucGF5bG9hZCkubGVuZ3RoIDw9XG4gICAgICAgICAgICBudW1VbmlxdWVCYWdFbGVtZW50c0xpbWl0LFxuICAgICAgICAgIFhgQmFnIG11c3Qgbm90IGhhdmUgbW9yZSB0aGFuICR7cShcbiAgICAgICAgICAgIG51bVVuaXF1ZUJhZ0VsZW1lbnRzTGltaXQsXG4gICAgICAgICAgKX0gdW5pcXVlIGVsZW1lbnRzOiAke3NwZWNpbWVufWAsXG4gICAgICAgICkgJiZcbiAgICAgICAgc3BlY2ltZW4ucGF5bG9hZC5ldmVyeShcbiAgICAgICAgICAoW2tleSwgY291bnRdLCBpKSA9PlxuICAgICAgICAgICAgY2hlY2tNYXRjaGVzKGtleSwga2V5UGF0dCwgY2hlY2ssIGBiYWcga2V5c1ske2l9XWApICYmXG4gICAgICAgICAgICBhcHBseUxhYmVsaW5nRXJyb3IoXG4gICAgICAgICAgICAgIGNoZWNrRGVjaW1hbERpZ2l0c0xpbWl0LFxuICAgICAgICAgICAgICBbY291bnQsIGRlY2ltYWxEaWdpdHNMaW1pdCwgY2hlY2tdLFxuICAgICAgICAgICAgICBgYmFnIGNvdW50c1ske2l9XWAsXG4gICAgICAgICAgICApICYmXG4gICAgICAgICAgICBjaGVja01hdGNoZXMoY291bnQsIGNvdW50UGF0dCwgY2hlY2ssIGBiYWcgY291bnRzWyR7aX1dYCksXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGNoZWNrSXNXZWxsRm9ybWVkOiAocGF5bG9hZCwgY2hlY2spID0+XG4gICAgICBjaGVja0lzV2VsbEZvcm1lZFdpdGhMaW1pdChcbiAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgaGFyZGVuKFtNTS5wYXR0ZXJuKCksIE1NLnBhdHRlcm4oKV0pLFxuICAgICAgICBjaGVjayxcbiAgICAgICAgJ21hdGNoOmJhZ09mIHBheWxvYWQnLFxuICAgICAgKSxcblxuICAgIGdldFJhbmtDb3ZlcjogKCkgPT4gZ2V0UGFzc1N0eWxlQ292ZXIoJ3RhZ2dlZCcpLFxuICB9KTtcblxuICAvKlxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBlbGVtZW50c0hhc1NwbGl0ID0gKFxuICAgIGVsZW1lbnRzLFxuICAgIGVsZW1lbnRQYXR0LFxuICAgIGJvdW5kLFxuICAgIGluUmVzdWx0cyA9IHVuZGVmaW5lZCxcbiAgICBvdXRSZXN1bHRzID0gdW5kZWZpbmVkLFxuICAgIGNoZWNrID0gaWRlbnRDaGVja2VyLFxuICApID0+IHtcbiAgICBsZXQgY291bnQgPSAwbjtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGZvciAobGV0IGkgPSBlbGVtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgaWYgKGNvdW50IDwgYm91bmQpIHtcbiAgICAgICAgaWYgKG1hdGNoZXMoZWxlbWVudCwgZWxlbWVudFBhdHQpKSB7XG4gICAgICAgICAgY291bnQgKz0gMW47XG4gICAgICAgICAgaWYgKGluUmVzdWx0cykgaW5SZXN1bHRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3V0UmVzdWx0cykge1xuICAgICAgICAgIG91dFJlc3VsdHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvdXRSZXN1bHRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRSZXN1bHRzLnB1c2goZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGVjayhcbiAgICAgIGNvdW50ID49IGJvdW5kLFxuICAgICAgWGBIYXMgb25seSAke3EoY291bnQpfSBtYXRjaGVzLCBidXQgbmVlZHMgJHtxKGJvdW5kKX1gLFxuICAgICk7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgcGFpcnNIYXNTcGxpdCA9IChcbiAgICBwYWlycyxcbiAgICBlbGVtZW50UGF0dCxcbiAgICBib3VuZCxcbiAgICBpblJlc3VsdHMgPSB1bmRlZmluZWQsXG4gICAgb3V0UmVzdWx0cyA9IHVuZGVmaW5lZCxcbiAgICBjaGVjayA9IGlkZW50Q2hlY2tlcixcbiAgKSA9PiB7XG4gICAgbGV0IGNvdW50ID0gMG47XG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICBmb3IgKGxldCBpID0gcGFpcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgIGNvbnN0IFtlbGVtZW50LCBudW1dID0gcGFpcnNbaV07XG4gICAgICBjb25zdCBudW1SZXN0ID0gYm91bmQgLSBjb3VudDtcbiAgICAgIGlmIChudW1SZXN0ID49IDFuKSB7XG4gICAgICAgIGlmIChtYXRjaGVzKGVsZW1lbnQsIGVsZW1lbnRQYXR0KSkge1xuICAgICAgICAgIGlmIChudW0gPD0gbnVtUmVzdCkge1xuICAgICAgICAgICAgY291bnQgKz0gbnVtO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0cykgaW5SZXN1bHRzLnB1c2goW2VsZW1lbnQsIG51bV0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBudW1JbiA9IG51bVJlc3Q7XG4gICAgICAgICAgICBjb3VudCArPSBudW1JbjtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdHMpIGluUmVzdWx0cy5wdXNoKFtlbGVtZW50LCBudW1SZXN0XSk7XG4gICAgICAgICAgICBpZiAob3V0UmVzdWx0cykgb3V0UmVzdWx0cy5wdXNoKFtlbGVtZW50LCBudW0gLSBudW1SZXN0XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG91dFJlc3VsdHMpIHtcbiAgICAgICAgICBvdXRSZXN1bHRzLnB1c2goW2VsZW1lbnQsIG51bV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG91dFJlc3VsdHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dFJlc3VsdHMucHVzaChbZWxlbWVudCwgbnVtXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGVjayhcbiAgICAgIGNvdW50ID49IGJvdW5kLFxuICAgICAgWGBIYXMgb25seSAke3EoY291bnQpfSBtYXRjaGVzLCBidXQgbmVlZHMgJHtxKGJvdW5kKX1gLFxuICAgICk7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBjb250YWluZXJIYXNTcGxpdCA9IChcbiAgICBzcGVjaW1lbixcbiAgICBlbGVtZW50UGF0dCxcbiAgICBib3VuZCxcbiAgICBuZWVkSW5SZXN1bHRzID0gZmFsc2UsXG4gICAgbmVlZE91dFJlc3VsdHMgPSBmYWxzZSxcbiAgICBjaGVjayA9IGlkZW50Q2hlY2tlcixcbiAgKSA9PiB7XG4gICAgY29uc3QgaW5SZXN1bHRzID0gbmVlZEluUmVzdWx0cyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG91dFJlc3VsdHMgPSBuZWVkT3V0UmVzdWx0cyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGtpbmQgPSBraW5kT2Yoc3BlY2ltZW4pO1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgY2FzZSAnY29weUFycmF5Jzoge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWVsZW1lbnRzSGFzU3BsaXQoXG4gICAgICAgICAgICBzcGVjaW1lbixcbiAgICAgICAgICAgIGVsZW1lbnRQYXR0LFxuICAgICAgICAgICAgYm91bmQsXG4gICAgICAgICAgICBpblJlc3VsdHMsXG4gICAgICAgICAgICBvdXRSZXN1bHRzLFxuICAgICAgICAgICAgY2hlY2ssXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2luUmVzdWx0cywgb3V0UmVzdWx0c107XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5U2V0Jzoge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWVsZW1lbnRzSGFzU3BsaXQoXG4gICAgICAgICAgICBzcGVjaW1lbi5wYXlsb2FkLFxuICAgICAgICAgICAgZWxlbWVudFBhdHQsXG4gICAgICAgICAgICBib3VuZCxcbiAgICAgICAgICAgIGluUmVzdWx0cyxcbiAgICAgICAgICAgIG91dFJlc3VsdHMsXG4gICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIGluUmVzdWx0cyAmJiBtYWtlQ29weVNldChpblJlc3VsdHMpLFxuICAgICAgICAgIG91dFJlc3VsdHMgJiYgbWFrZUNvcHlTZXQob3V0UmVzdWx0cyksXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICBjYXNlICdjb3B5QmFnJzoge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXBhaXJzSGFzU3BsaXQoXG4gICAgICAgICAgICBzcGVjaW1lbi5wYXlsb2FkLFxuICAgICAgICAgICAgZWxlbWVudFBhdHQsXG4gICAgICAgICAgICBib3VuZCxcbiAgICAgICAgICAgIGluUmVzdWx0cyxcbiAgICAgICAgICAgIG91dFJlc3VsdHMsXG4gICAgICAgICAgICBjaGVjayxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIGluUmVzdWx0cyAmJiBtYWtlQ29weUJhZyhpblJlc3VsdHMpLFxuICAgICAgICAgIG91dFJlc3VsdHMgJiYgbWFrZUNvcHlCYWcob3V0UmVzdWx0cyksXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHJldHVybiBjaGVjayhmYWxzZSwgWGB1bmV4cGVjdGVkICR7cShraW5kKX1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgbWF0Y2hDb250YWluZXJIYXNIZWxwZXIgPSBGYXIoJ00uY29udGFpbmVySGFzIGhlbHBlcicsIHtcbiAgICAvKlxuXG5cblxuICAgICAqL1xuICAgIGNoZWNrTWF0Y2hlczogKFxuICAgICAgc3BlY2ltZW4sXG4gICAgICBbZWxlbWVudFBhdHQsIGJvdW5kLCBsaW1pdHMgPSB1bmRlZmluZWRdLFxuICAgICAgY2hlY2ssXG4gICAgKSA9PiB7XG4gICAgICBjb25zdCBraW5kID0ga2luZE9mKHNwZWNpbWVuLCBjaGVjayk7XG4gICAgICBjb25zdCB7IGRlY2ltYWxEaWdpdHNMaW1pdCB9ID0gbGltaXQobGltaXRzKTtcbiAgICAgIGlmIChcbiAgICAgICAgIWFwcGx5TGFiZWxpbmdFcnJvcihcbiAgICAgICAgICBjaGVja0RlY2ltYWxEaWdpdHNMaW1pdCxcbiAgICAgICAgICBbYm91bmQsIGRlY2ltYWxEaWdpdHNMaW1pdCwgY2hlY2tdLFxuICAgICAgICAgIGAke2tpbmR9IG1hdGNoZXNgLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICEhY29udGFpbmVySGFzU3BsaXQoXG4gICAgICAgIHNwZWNpbWVuLFxuICAgICAgICBlbGVtZW50UGF0dCxcbiAgICAgICAgYm91bmQsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgY2hlY2ssXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogKHBheWxvYWQsIGNoZWNrKSA9PlxuICAgICAgY2hlY2tJc1dlbGxGb3JtZWRXaXRoTGltaXQoXG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIGhhcmRlbihbTU0ucGF0dGVybigpLCBNTS5ndGUoMW4pXSksXG4gICAgICAgIGNoZWNrLFxuICAgICAgICAnTS5jb250YWluZXJIYXMgcGF5bG9hZCcsXG4gICAgICApLFxuXG4gICAgZ2V0UmFua0NvdmVyOiAoKSA9PiBnZXRQYXNzU3R5bGVDb3ZlcigndGFnZ2VkJyksXG4gIH0pO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoTWFwT2ZIZWxwZXIgPSBGYXIoJ21hdGNoOm1hcE9mIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChcbiAgICAgIHNwZWNpbWVuLFxuICAgICAgW2tleVBhdHQsIHZhbHVlUGF0dCwgbGltaXRzID0gdW5kZWZpbmVkXSxcbiAgICAgIGNoZWNrLFxuICAgICkgPT4ge1xuICAgICAgY29uc3QgeyBudW1NYXBFbnRyaWVzTGltaXQgfSA9IGxpbWl0KGxpbWl0cyk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBjaGVja0tpbmQoc3BlY2ltZW4sICdjb3B5TWFwJywgY2hlY2spICYmXG4gICAgICAgIGNoZWNrKFxuICAgICAgICAgIC8qICAgICAgICAgICAgICAgICovIChzcGVjaW1lbi5wYXlsb2FkLmtleXMpLmxlbmd0aCA8PVxuICAgICAgICAgICAgbnVtTWFwRW50cmllc0xpbWl0LFxuICAgICAgICAgIFhgQ29weU1hcCBtdXN0IGhhdmUgbm8gbW9yZSB0aGFuICR7cShcbiAgICAgICAgICAgIG51bU1hcEVudHJpZXNMaW1pdCxcbiAgICAgICAgICApfSBlbnRyaWVzOiAke3NwZWNpbWVufWAsXG4gICAgICAgICkgJiZcbiAgICAgICAgYXJyYXlFdmVyeU1hdGNoUGF0dGVybihcbiAgICAgICAgICBzcGVjaW1lbi5wYXlsb2FkLmtleXMsXG4gICAgICAgICAga2V5UGF0dCxcbiAgICAgICAgICBjaGVjayxcbiAgICAgICAgICAnbWFwIGtleXMnLFxuICAgICAgICApICYmXG4gICAgICAgIGFycmF5RXZlcnlNYXRjaFBhdHRlcm4oXG4gICAgICAgICAgc3BlY2ltZW4ucGF5bG9hZC52YWx1ZXMsXG4gICAgICAgICAgdmFsdWVQYXR0LFxuICAgICAgICAgIGNoZWNrLFxuICAgICAgICAgICdtYXAgdmFsdWVzJyxcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChwYXlsb2FkLCBjaGVjaykgPT5cbiAgICAgIGNoZWNrSXNXZWxsRm9ybWVkV2l0aExpbWl0KFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICBoYXJkZW4oW01NLnBhdHRlcm4oKSwgTU0ucGF0dGVybigpXSksXG4gICAgICAgIGNoZWNrLFxuICAgICAgICAnbWF0Y2g6bWFwT2YgcGF5bG9hZCcsXG4gICAgICApLFxuXG4gICAgZ2V0UmFua0NvdmVyOiBfZW50cnlQYXR0ID0+IGdldFBhc3NTdHlsZUNvdmVyKCd0YWdnZWQnKSxcbiAgfSk7XG5cbiAgLypcblxuXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBzcGxpdEFycmF5UGFydHMgPSAoc3BlY2ltZW4sIHJlcXVpcmVkUGF0dCwgb3B0aW9uYWxQYXR0KSA9PiB7XG4gICAgY29uc3QgbnVtUmVxdWlyZWQgPSByZXF1aXJlZFBhdHQubGVuZ3RoO1xuICAgIGNvbnN0IG51bU9wdGlvbmFsID0gb3B0aW9uYWxQYXR0Lmxlbmd0aDtcbiAgICBjb25zdCByZXF1aXJlZFNwZWNpbWVuID0gc3BlY2ltZW4uc2xpY2UoMCwgbnVtUmVxdWlyZWQpO1xuICAgIGNvbnN0IG9wdGlvbmFsU3BlY2ltZW4gPSBzcGVjaW1lbi5zbGljZShcbiAgICAgIG51bVJlcXVpcmVkLFxuICAgICAgbnVtUmVxdWlyZWQgKyBudW1PcHRpb25hbCxcbiAgICApO1xuICAgIGNvbnN0IHJlc3RTcGVjaW1lbiA9IHNwZWNpbWVuLnNsaWNlKG51bVJlcXVpcmVkICsgbnVtT3B0aW9uYWwpO1xuICAgIHJldHVybiBoYXJkZW4oeyByZXF1aXJlZFNwZWNpbWVuLCBvcHRpb25hbFNwZWNpbWVuLCByZXN0U3BlY2ltZW4gfSk7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgYWRhcHRBcnJheVBhdHRlcm4gPSAob3B0aW9uYWxQYXR0LCBsZW5ndGgpID0+XG4gICAgaGFyZGVuKG9wdGlvbmFsUGF0dC5zbGljZSgwLCBsZW5ndGgpLm1hcChwYXR0ID0+IE1NLm9wdChwYXR0KSkpO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoU3BsaXRBcnJheUhlbHBlciA9IEZhcignbWF0Y2g6c3BsaXRBcnJheSBoZWxwZXInLCB7XG4gICAgY2hlY2tNYXRjaGVzOiAoXG4gICAgICBzcGVjaW1lbixcbiAgICAgIFtyZXF1aXJlZFBhdHQsIG9wdGlvbmFsUGF0dCA9IFtdLCByZXN0UGF0dCA9IE1NLmFueSgpXSxcbiAgICAgIGNoZWNrLFxuICAgICkgPT4ge1xuICAgICAgaWYgKCFjaGVja0tpbmQoc3BlY2ltZW4sICdjb3B5QXJyYXknLCBjaGVjaykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgeyByZXF1aXJlZFNwZWNpbWVuLCBvcHRpb25hbFNwZWNpbWVuLCByZXN0U3BlY2ltZW4gfSA9XG4gICAgICAgIHNwbGl0QXJyYXlQYXJ0cyhzcGVjaW1lbiwgcmVxdWlyZWRQYXR0LCBvcHRpb25hbFBhdHQpO1xuICAgICAgY29uc3QgcGFydGlhbFBhdHQgPSBhZGFwdEFycmF5UGF0dGVybihcbiAgICAgICAgb3B0aW9uYWxQYXR0LFxuICAgICAgICBvcHRpb25hbFNwZWNpbWVuLmxlbmd0aCxcbiAgICAgICk7XG4gICAgICBsZXQgYXJnTnVtID0gMDtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIChyZXF1aXJlZFNwZWNpbWVuLmxlbmd0aCA9PT0gcmVxdWlyZWRQYXR0Lmxlbmd0aCB8fFxuICAgICAgICAgIGNoZWNrKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBYYEV4cGVjdGVkIGF0IGxlYXN0ICR7cShcbiAgICAgICAgICAgICAgcmVxdWlyZWRQYXR0Lmxlbmd0aCxcbiAgICAgICAgICAgICl9IGFyZ3VtZW50czogJHtzcGVjaW1lbn1gLFxuICAgICAgICAgICkpICYmXG4gICAgICAgIHJlcXVpcmVkUGF0dC5ldmVyeSgocCwgaSkgPT5cbiAgICAgICAgICAvL1xuICAgICAgICAgIGNoZWNrTWF0Y2hlcyhyZXF1aXJlZFNwZWNpbWVuW2ldLCBwLCBjaGVjaywgYGFyZyAke2FyZ051bSsrfWApLFxuICAgICAgICApICYmXG4gICAgICAgIHBhcnRpYWxQYXR0LmV2ZXJ5KChwLCBpKSA9PlxuICAgICAgICAgIC8vXG4gICAgICAgICAgY2hlY2tNYXRjaGVzKG9wdGlvbmFsU3BlY2ltZW5baV0sIHAsIGNoZWNrLCBgYXJnICR7YXJnTnVtKyt9P2ApLFxuICAgICAgICApICYmXG4gICAgICAgIGNoZWNrTWF0Y2hlcyhyZXN0U3BlY2ltZW4sIHJlc3RQYXR0LCBjaGVjaywgJy4uLnJlc3QnKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLypcblxuXG4gICAgICovXG4gICAgY2hlY2tJc1dlbGxGb3JtZWQ6IChzcGxpdEFycmF5LCBjaGVjaykgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBwYXNzU3R5bGVPZihzcGxpdEFycmF5KSA9PT0gJ2NvcHlBcnJheScgJiZcbiAgICAgICAgKHNwbGl0QXJyYXkubGVuZ3RoID49IDEgfHwgc3BsaXRBcnJheS5sZW5ndGggPD0gMylcbiAgICAgICkge1xuICAgICAgICBjb25zdCBbcmVxdWlyZWRQYXR0LCBvcHRpb25hbFBhdHQgPSB1bmRlZmluZWQsIHJlc3RQYXR0ID0gdW5kZWZpbmVkXSA9XG4gICAgICAgICAgc3BsaXRBcnJheTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGlzUGF0dGVybihyZXF1aXJlZFBhdHQpICYmXG4gICAgICAgICAgcGFzc1N0eWxlT2YocmVxdWlyZWRQYXR0KSA9PT0gJ2NvcHlBcnJheScgJiZcbiAgICAgICAgICAob3B0aW9uYWxQYXR0ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIChpc1BhdHRlcm4ob3B0aW9uYWxQYXR0KSAmJlxuICAgICAgICAgICAgICBwYXNzU3R5bGVPZihvcHRpb25hbFBhdHQpID09PSAnY29weUFycmF5JykpICYmXG4gICAgICAgICAgKHJlc3RQYXR0ID09PSB1bmRlZmluZWQgfHwgaXNQYXR0ZXJuKHJlc3RQYXR0KSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGVjayhcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFhgTXVzdCBiZSBhbiBhcnJheSBvZiBhIHJlcXVpcmVkUGF0dCBhcnJheSwgYW4gb3B0aW9uYWwgb3B0aW9uYWxQYXR0IGFycmF5LCBhbmQgYW4gb3B0aW9uYWwgcmVzdFBhdHQ6ICR7cShcbiAgICAgICAgICBzcGxpdEFycmF5LFxuICAgICAgICApfWAsXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBnZXRSYW5rQ292ZXI6IChbXG4gICAgICBfcmVxdWlyZWRQYXR0LFxuICAgICAgX29wdGlvbmFsUGF0dCA9IHVuZGVmaW5lZCxcbiAgICAgIF9yZXN0UGF0dCA9IHVuZGVmaW5lZCxcbiAgICBdKSA9PiBnZXRQYXNzU3R5bGVDb3ZlcignY29weUFycmF5JyksXG4gIH0pO1xuXG4gIC8qXG5cblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3Qgc3BsaXRSZWNvcmRQYXJ0cyA9IChzcGVjaW1lbiwgcmVxdWlyZWRQYXR0LCBvcHRpb25hbFBhdHQpID0+IHtcbiAgICAvL1xuICAgIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgY29uc3QgcmVxdWlyZWRFbnRyaWVzID0gW107XG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBjb25zdCBvcHRpb25hbEVudHJpZXMgPSBbXTtcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgIGNvbnN0IHJlc3RFbnRyaWVzID0gW107XG4gICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIGVudHJpZXMoc3BlY2ltZW4pKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHlPZihyZXF1aXJlZFBhdHQsIG5hbWUpKSB7XG4gICAgICAgIHJlcXVpcmVkRW50cmllcy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICAgICAgfSBlbHNlIGlmIChoYXNPd25Qcm9wZXJ0eU9mKG9wdGlvbmFsUGF0dCwgbmFtZSkpIHtcbiAgICAgICAgb3B0aW9uYWxFbnRyaWVzLnB1c2goW25hbWUsIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN0RW50cmllcy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGFyZGVuKHtcbiAgICAgIHJlcXVpcmVkU3BlY2ltZW46IGZyb21VbmlxdWVFbnRyaWVzKHJlcXVpcmVkRW50cmllcyksXG4gICAgICBvcHRpb25hbFNwZWNpbWVuOiBmcm9tVW5pcXVlRW50cmllcyhvcHRpb25hbEVudHJpZXMpLFxuICAgICAgcmVzdFNwZWNpbWVuOiBmcm9tVW5pcXVlRW50cmllcyhyZXN0RW50cmllcyksXG4gICAgfSk7XG4gIH07XG5cbiAgLypcblxuXG5cblxuXG5cblxuICAgKi9cbiAgY29uc3QgYWRhcHRSZWNvcmRQYXR0ZXJuID0gKG9wdGlvbmFsUGF0dCwgbmFtZXMpID0+XG4gICAgZnJvbVVuaXF1ZUVudHJpZXMobmFtZXMubWFwKG5hbWUgPT4gW25hbWUsIE1NLm9wdChvcHRpb25hbFBhdHRbbmFtZV0pXSkpO1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IG1hdGNoU3BsaXRSZWNvcmRIZWxwZXIgPSBGYXIoJ21hdGNoOnNwbGl0UmVjb3JkIGhlbHBlcicsIHtcbiAgICBjaGVja01hdGNoZXM6IChcbiAgICAgIHNwZWNpbWVuLFxuICAgICAgW3JlcXVpcmVkUGF0dCwgb3B0aW9uYWxQYXR0ID0ge30sIHJlc3RQYXR0ID0gTU0uYW55KCldLFxuICAgICAgY2hlY2ssXG4gICAgKSA9PiB7XG4gICAgICBpZiAoIWNoZWNrS2luZChzcGVjaW1lbiwgJ2NvcHlSZWNvcmQnLCBjaGVjaykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgeyByZXF1aXJlZFNwZWNpbWVuLCBvcHRpb25hbFNwZWNpbWVuLCByZXN0U3BlY2ltZW4gfSA9XG4gICAgICAgIHNwbGl0UmVjb3JkUGFydHMoc3BlY2ltZW4sIHJlcXVpcmVkUGF0dCwgb3B0aW9uYWxQYXR0KTtcblxuICAgICAgY29uc3QgcGFydGlhbE5hbWVzID0gLyogICAgICAgICAgICAgICAgICAgKi8gKG93bktleXMob3B0aW9uYWxTcGVjaW1lbikpO1xuICAgICAgY29uc3QgcGFydGlhbFBhdHQgPSBhZGFwdFJlY29yZFBhdHRlcm4ob3B0aW9uYWxQYXR0LCBwYXJ0aWFsTmFtZXMpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hlY2tNYXRjaGVzKHJlcXVpcmVkU3BlY2ltZW4sIHJlcXVpcmVkUGF0dCwgY2hlY2spICYmXG4gICAgICAgIHBhcnRpYWxOYW1lcy5ldmVyeShuYW1lID0+XG4gICAgICAgICAgY2hlY2tNYXRjaGVzKFxuICAgICAgICAgICAgb3B0aW9uYWxTcGVjaW1lbltuYW1lXSxcbiAgICAgICAgICAgIHBhcnRpYWxQYXR0W25hbWVdLFxuICAgICAgICAgICAgY2hlY2ssXG4gICAgICAgICAgICBgJHtuYW1lfT9gLFxuICAgICAgICAgICksXG4gICAgICAgICkgJiZcbiAgICAgICAgY2hlY2tNYXRjaGVzKHJlc3RTcGVjaW1lbiwgcmVzdFBhdHQsIGNoZWNrLCAnLi4ucmVzdCcpXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKlxuXG5cbiAgICAgKi9cbiAgICBjaGVja0lzV2VsbEZvcm1lZDogKHNwbGl0QXJyYXksIGNoZWNrKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIHBhc3NTdHlsZU9mKHNwbGl0QXJyYXkpID09PSAnY29weUFycmF5JyAmJlxuICAgICAgICAoc3BsaXRBcnJheS5sZW5ndGggPj0gMSB8fCBzcGxpdEFycmF5Lmxlbmd0aCA8PSAzKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IFtyZXF1aXJlZFBhdHQsIG9wdGlvbmFsUGF0dCA9IHVuZGVmaW5lZCwgcmVzdFBhdHQgPSB1bmRlZmluZWRdID1cbiAgICAgICAgICBzcGxpdEFycmF5O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNQYXR0ZXJuKHJlcXVpcmVkUGF0dCkgJiZcbiAgICAgICAgICBwYXNzU3R5bGVPZihyZXF1aXJlZFBhdHQpID09PSAnY29weVJlY29yZCcgJiZcbiAgICAgICAgICAob3B0aW9uYWxQYXR0ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIChpc1BhdHRlcm4ob3B0aW9uYWxQYXR0KSAmJlxuICAgICAgICAgICAgICBwYXNzU3R5bGVPZihvcHRpb25hbFBhdHQpID09PSAnY29weVJlY29yZCcpKSAmJlxuICAgICAgICAgIChyZXN0UGF0dCA9PT0gdW5kZWZpbmVkIHx8IGlzUGF0dGVybihyZXN0UGF0dCkpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hlY2soXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBYYE11c3QgYmUgYW4gYXJyYXkgb2YgYSByZXF1aXJlZFBhdHQgcmVjb3JkLCBhbiBvcHRpb25hbCBvcHRpb25hbFBhdHQgcmVjb3JkLCBhbmQgYW4gb3B0aW9uYWwgcmVzdFBhdHQ6ICR7cShcbiAgICAgICAgICBzcGxpdEFycmF5LFxuICAgICAgICApfWAsXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBnZXRSYW5rQ292ZXI6IChbXG4gICAgICByZXF1aXJlZFBhdHQsXG4gICAgICBfb3B0aW9uYWxQYXR0ID0gdW5kZWZpbmVkLFxuICAgICAgX3Jlc3RQYXR0ID0gdW5kZWZpbmVkLFxuICAgIF0pID0+IGdldFBhc3NTdHlsZUNvdmVyKHBhc3NTdHlsZU9mKHJlcXVpcmVkUGF0dCkpLFxuICB9KTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgSGVscGVyc0J5TWF0Y2hUYWcgPSBoYXJkZW4oe1xuICAgICdtYXRjaDphbnknOiBtYXRjaEFueUhlbHBlcixcbiAgICAnbWF0Y2g6YW5kJzogbWF0Y2hBbmRIZWxwZXIsXG4gICAgJ21hdGNoOm9yJzogbWF0Y2hPckhlbHBlcixcbiAgICAnbWF0Y2g6bm90JzogbWF0Y2hOb3RIZWxwZXIsXG5cbiAgICAnbWF0Y2g6c2NhbGFyJzogbWF0Y2hTY2FsYXJIZWxwZXIsXG4gICAgJ21hdGNoOmtleSc6IG1hdGNoS2V5SGVscGVyLFxuICAgICdtYXRjaDpwYXR0ZXJuJzogbWF0Y2hQYXR0ZXJuSGVscGVyLFxuICAgICdtYXRjaDpraW5kJzogbWF0Y2hLaW5kSGVscGVyLFxuICAgICdtYXRjaDp0YWdnZWQnOiBtYXRjaFRhZ2dlZEhlbHBlcixcbiAgICAnbWF0Y2g6YmlnaW50JzogbWF0Y2hCaWdpbnRIZWxwZXIsXG4gICAgJ21hdGNoOm5hdCc6IG1hdGNoTmF0SGVscGVyLFxuICAgICdtYXRjaDpzdHJpbmcnOiBtYXRjaFN0cmluZ0hlbHBlcixcbiAgICAnbWF0Y2g6c3ltYm9sJzogbWF0Y2hTeW1ib2xIZWxwZXIsXG4gICAgJ21hdGNoOnJlbW90YWJsZSc6IG1hdGNoUmVtb3RhYmxlSGVscGVyLFxuXG4gICAgJ21hdGNoOmx0JzogbWF0Y2hMVEhlbHBlcixcbiAgICAnbWF0Y2g6bHRlJzogbWF0Y2hMVEVIZWxwZXIsXG4gICAgJ21hdGNoOmd0ZSc6IG1hdGNoR1RFSGVscGVyLFxuICAgICdtYXRjaDpndCc6IG1hdGNoR1RIZWxwZXIsXG5cbiAgICAnbWF0Y2g6YXJyYXlPZic6IG1hdGNoQXJyYXlPZkhlbHBlcixcbiAgICAnbWF0Y2g6cmVjb3JkT2YnOiBtYXRjaFJlY29yZE9mSGVscGVyLFxuICAgICdtYXRjaDpzZXRPZic6IG1hdGNoU2V0T2ZIZWxwZXIsXG4gICAgJ21hdGNoOmJhZ09mJzogbWF0Y2hCYWdPZkhlbHBlcixcbiAgICAnbWF0Y2g6Y29udGFpbmVySGFzJzogbWF0Y2hDb250YWluZXJIYXNIZWxwZXIsXG4gICAgJ21hdGNoOm1hcE9mJzogbWF0Y2hNYXBPZkhlbHBlcixcbiAgICAnbWF0Y2g6c3BsaXRBcnJheSc6IG1hdGNoU3BsaXRBcnJheUhlbHBlcixcbiAgICAnbWF0Y2g6c3BsaXRSZWNvcmQnOiBtYXRjaFNwbGl0UmVjb3JkSGVscGVyLFxuICB9KTtcblxuICBjb25zdCBtYWtlTWF0Y2hlciA9ICh0YWcsIHBheWxvYWQpID0+IHtcbiAgICBjb25zdCBtYXRjaGVyID0gbWFrZVRhZ2dlZCh0YWcsIHBheWxvYWQpO1xuICAgIGFzc2VydFBhdHRlcm4obWF0Y2hlcik7XG4gICAgcmV0dXJuIG1hdGNoZXI7XG4gIH07XG5cbiAgY29uc3QgbWFrZUtpbmRNYXRjaGVyID0ga2luZCA9PiBtYWtlTWF0Y2hlcignbWF0Y2g6a2luZCcsIGtpbmQpO1xuXG4gIGNvbnN0IEFueVNoYXBlID0gbWFrZU1hdGNoZXIoJ21hdGNoOmFueScsIHVuZGVmaW5lZCk7XG4gIGNvbnN0IFNjYWxhclNoYXBlID0gbWFrZU1hdGNoZXIoJ21hdGNoOnNjYWxhcicsIHVuZGVmaW5lZCk7XG4gIGNvbnN0IEtleVNoYXBlID0gbWFrZU1hdGNoZXIoJ21hdGNoOmtleScsIHVuZGVmaW5lZCk7XG4gIGNvbnN0IFBhdHRlcm5TaGFwZSA9IG1ha2VNYXRjaGVyKCdtYXRjaDpwYXR0ZXJuJywgdW5kZWZpbmVkKTtcbiAgY29uc3QgQm9vbGVhblNoYXBlID0gbWFrZUtpbmRNYXRjaGVyKCdib29sZWFuJyk7XG4gIGNvbnN0IE51bWJlclNoYXBlID0gbWFrZUtpbmRNYXRjaGVyKCdudW1iZXInKTtcbiAgY29uc3QgQmlnSW50U2hhcGUgPSBtYWtlVGFnZ2VkKCdtYXRjaDpiaWdpbnQnLCBbXSk7XG4gIGNvbnN0IE5hdFNoYXBlID0gbWFrZVRhZ2dlZCgnbWF0Y2g6bmF0JywgW10pO1xuICBjb25zdCBTdHJpbmdTaGFwZSA9IG1ha2VUYWdnZWQoJ21hdGNoOnN0cmluZycsIFtdKTtcbiAgY29uc3QgU3ltYm9sU2hhcGUgPSBtYWtlVGFnZ2VkKCdtYXRjaDpzeW1ib2wnLCBbXSk7XG4gIGNvbnN0IFJlY29yZFNoYXBlID0gbWFrZVRhZ2dlZCgnbWF0Y2g6cmVjb3JkT2YnLCBbQW55U2hhcGUsIEFueVNoYXBlXSk7XG4gIGNvbnN0IEFycmF5U2hhcGUgPSBtYWtlVGFnZ2VkKCdtYXRjaDphcnJheU9mJywgW0FueVNoYXBlXSk7XG4gIGNvbnN0IFNldFNoYXBlID0gbWFrZVRhZ2dlZCgnbWF0Y2g6c2V0T2YnLCBbQW55U2hhcGVdKTtcbiAgY29uc3QgQmFnU2hhcGUgPSBtYWtlVGFnZ2VkKCdtYXRjaDpiYWdPZicsIFtBbnlTaGFwZSwgQW55U2hhcGVdKTtcbiAgY29uc3QgTWFwU2hhcGUgPSBtYWtlVGFnZ2VkKCdtYXRjaDptYXBPZicsIFtBbnlTaGFwZSwgQW55U2hhcGVdKTtcbiAgY29uc3QgUmVtb3RhYmxlU2hhcGUgPSBtYWtlS2luZE1hdGNoZXIoJ3JlbW90YWJsZScpO1xuICBjb25zdCBFcnJvclNoYXBlID0gbWFrZUtpbmRNYXRjaGVyKCdlcnJvcicpO1xuICBjb25zdCBQcm9taXNlU2hhcGUgPSBtYWtlS2luZE1hdGNoZXIoJ3Byb21pc2UnKTtcbiAgY29uc3QgVW5kZWZpbmVkU2hhcGUgPSBtYWtlS2luZE1hdGNoZXIoJ3VuZGVmaW5lZCcpO1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlTGltaXRzTWF0Y2hlciA9ICh0YWcsIHBheWxvYWQpID0+IHtcbiAgICBpZiAocGF5bG9hZFtwYXlsb2FkLmxlbmd0aCAtIDFdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBheWxvYWQgPSBoYXJkZW4ocGF5bG9hZC5zbGljZSgwLCBwYXlsb2FkLmxlbmd0aCAtIDEpKTtcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VNYXRjaGVyKHRhZywgcGF5bG9hZCk7XG4gIH07XG5cbiAgY29uc3QgbWFrZVJlbW90YWJsZU1hdGNoZXIgPSAobGFiZWwgPSB1bmRlZmluZWQpID0+XG4gICAgbGFiZWwgPT09IHVuZGVmaW5lZFxuICAgICAgPyBSZW1vdGFibGVTaGFwZVxuICAgICAgOiBtYWtlTWF0Y2hlcignbWF0Y2g6cmVtb3RhYmxlJywgaGFyZGVuKHsgbGFiZWwgfSkpO1xuXG4gIC8qXG5cblxuXG5cblxuXG4gICAqL1xuICBjb25zdCBtYWtlU3BsaXRQYXlsb2FkID0gKFxuICAgIGVtcHR5LFxuICAgIGJhc2UsXG4gICAgb3B0aW9uYWwgPSB1bmRlZmluZWQsXG4gICAgcmVzdCA9IHVuZGVmaW5lZCxcbiAgKSA9PiB7XG4gICAgaWYgKHJlc3QpIHtcbiAgICAgIHJldHVybiBbYmFzZSwgb3B0aW9uYWwgfHwgZW1wdHksIHJlc3RdO1xuICAgIH1cbiAgICBpZiAob3B0aW9uYWwpIHtcbiAgICAgIHJldHVybiBbYmFzZSwgb3B0aW9uYWxdO1xuICAgIH1cbiAgICByZXR1cm4gW2Jhc2VdO1xuICB9O1xuXG4gIC8vXG5cbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCBNID0gaGFyZGVuKHtcbiAgICBhbnk6ICgpID0+IEFueVNoYXBlLFxuICAgIGFuZDogKC4uLnBhdHRzKSA9PiBtYWtlTWF0Y2hlcignbWF0Y2g6YW5kJywgcGF0dHMpLFxuICAgIG9yOiAoLi4ucGF0dHMpID0+IG1ha2VNYXRjaGVyKCdtYXRjaDpvcicsIHBhdHRzKSxcbiAgICBub3Q6IHN1YlBhdHQgPT4gbWFrZU1hdGNoZXIoJ21hdGNoOm5vdCcsIHN1YlBhdHQpLFxuXG4gICAgc2NhbGFyOiAoKSA9PiBTY2FsYXJTaGFwZSxcbiAgICBrZXk6ICgpID0+IEtleVNoYXBlLFxuICAgIHBhdHRlcm46ICgpID0+IFBhdHRlcm5TaGFwZSxcbiAgICBraW5kOiBtYWtlS2luZE1hdGNoZXIsXG4gICAgdGFnZ2VkOiAodGFnUGF0dCA9IE0uc3RyaW5nKCksIHBheWxvYWRQYXR0ID0gTS5hbnkoKSkgPT5cbiAgICAgIG1ha2VNYXRjaGVyKCdtYXRjaDp0YWdnZWQnLCBoYXJkZW4oW3RhZ1BhdHQsIHBheWxvYWRQYXR0XSkpLFxuICAgIGJvb2xlYW46ICgpID0+IEJvb2xlYW5TaGFwZSxcbiAgICBudW1iZXI6ICgpID0+IE51bWJlclNoYXBlLFxuICAgIGJpZ2ludDogKGxpbWl0cyA9IHVuZGVmaW5lZCkgPT5cbiAgICAgIGxpbWl0cyA/IG1ha2VMaW1pdHNNYXRjaGVyKCdtYXRjaDpiaWdpbnQnLCBbbGltaXRzXSkgOiBCaWdJbnRTaGFwZSxcbiAgICBuYXQ6IChsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBsaW1pdHMgPyBtYWtlTGltaXRzTWF0Y2hlcignbWF0Y2g6bmF0JywgW2xpbWl0c10pIDogTmF0U2hhcGUsXG4gICAgc3RyaW5nOiAobGltaXRzID0gdW5kZWZpbmVkKSA9PlxuICAgICAgbGltaXRzID8gbWFrZUxpbWl0c01hdGNoZXIoJ21hdGNoOnN0cmluZycsIFtsaW1pdHNdKSA6IFN0cmluZ1NoYXBlLFxuICAgIHN5bWJvbDogKGxpbWl0cyA9IHVuZGVmaW5lZCkgPT5cbiAgICAgIGxpbWl0cyA/IG1ha2VMaW1pdHNNYXRjaGVyKCdtYXRjaDpzeW1ib2wnLCBbbGltaXRzXSkgOiBTeW1ib2xTaGFwZSxcbiAgICByZWNvcmQ6IChsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBsaW1pdHMgPyBNLnJlY29yZE9mKE0uYW55KCksIE0uYW55KCksIGxpbWl0cykgOiBSZWNvcmRTaGFwZSxcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGFycmF5OiAobGltaXRzID0gdW5kZWZpbmVkKSA9PlxuICAgICAgbGltaXRzID8gTS5hcnJheU9mKE0uYW55KCksIGxpbWl0cykgOiBBcnJheVNoYXBlLFxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIHNldDogKGxpbWl0cyA9IHVuZGVmaW5lZCkgPT4gKGxpbWl0cyA/IE0uc2V0T2YoTS5hbnkoKSwgbGltaXRzKSA6IFNldFNoYXBlKSxcbiAgICBiYWc6IChsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBsaW1pdHMgPyBNLmJhZ09mKE0uYW55KCksIE0uYW55KCksIGxpbWl0cykgOiBCYWdTaGFwZSxcbiAgICBtYXA6IChsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBsaW1pdHMgPyBNLm1hcE9mKE0uYW55KCksIE0uYW55KCksIGxpbWl0cykgOiBNYXBTaGFwZSxcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIHJlbW90YWJsZTogbWFrZVJlbW90YWJsZU1hdGNoZXIsXG4gICAgZXJyb3I6ICgpID0+IEVycm9yU2hhcGUsXG4gICAgcHJvbWlzZTogKCkgPT4gUHJvbWlzZVNoYXBlLFxuICAgIHVuZGVmaW5lZDogKCkgPT4gVW5kZWZpbmVkU2hhcGUsXG4gICAgbnVsbDogKCkgPT4gbnVsbCxcblxuICAgIGx0OiByaWdodE9wZXJhbmQgPT4gbWFrZU1hdGNoZXIoJ21hdGNoOmx0JywgcmlnaHRPcGVyYW5kKSxcbiAgICBsdGU6IHJpZ2h0T3BlcmFuZCA9PiBtYWtlTWF0Y2hlcignbWF0Y2g6bHRlJywgcmlnaHRPcGVyYW5kKSxcbiAgICBlcToga2V5ID0+IHtcbiAgICAgIGFzc2VydEtleShrZXkpO1xuICAgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gTS51bmRlZmluZWQoKSA6IGtleTtcbiAgICB9LFxuICAgIG5lcToga2V5ID0+IE0ubm90KE0uZXEoa2V5KSksXG4gICAgZ3RlOiByaWdodE9wZXJhbmQgPT4gbWFrZU1hdGNoZXIoJ21hdGNoOmd0ZScsIHJpZ2h0T3BlcmFuZCksXG4gICAgZ3Q6IHJpZ2h0T3BlcmFuZCA9PiBtYWtlTWF0Y2hlcignbWF0Y2g6Z3QnLCByaWdodE9wZXJhbmQpLFxuXG4gICAgcmVjb3JkT2Y6IChrZXlQYXR0ID0gTS5hbnkoKSwgdmFsdWVQYXR0ID0gTS5hbnkoKSwgbGltaXRzID0gdW5kZWZpbmVkKSA9PlxuICAgICAgbWFrZUxpbWl0c01hdGNoZXIoJ21hdGNoOnJlY29yZE9mJywgW2tleVBhdHQsIHZhbHVlUGF0dCwgbGltaXRzXSksXG4gICAgYXJyYXlPZjogKHN1YlBhdHQgPSBNLmFueSgpLCBsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBtYWtlTGltaXRzTWF0Y2hlcignbWF0Y2g6YXJyYXlPZicsIFtzdWJQYXR0LCBsaW1pdHNdKSxcbiAgICBzZXRPZjogKGtleVBhdHQgPSBNLmFueSgpLCBsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBtYWtlTGltaXRzTWF0Y2hlcignbWF0Y2g6c2V0T2YnLCBba2V5UGF0dCwgbGltaXRzXSksXG4gICAgYmFnT2Y6IChrZXlQYXR0ID0gTS5hbnkoKSwgY291bnRQYXR0ID0gTS5hbnkoKSwgbGltaXRzID0gdW5kZWZpbmVkKSA9PlxuICAgICAgbWFrZUxpbWl0c01hdGNoZXIoJ21hdGNoOmJhZ09mJywgW2tleVBhdHQsIGNvdW50UGF0dCwgbGltaXRzXSksXG4gICAgY29udGFpbmVySGFzOiAoZWxlbWVudFBhdHQgPSBNLmFueSgpLCBjb3VudFBhdHQgPSAxbiwgbGltaXRzID0gdW5kZWZpbmVkKSA9PlxuICAgICAgbWFrZUxpbWl0c01hdGNoZXIoJ21hdGNoOmNvbnRhaW5lckhhcycsIFtlbGVtZW50UGF0dCwgY291bnRQYXR0LCBsaW1pdHNdKSxcbiAgICBtYXBPZjogKGtleVBhdHQgPSBNLmFueSgpLCB2YWx1ZVBhdHQgPSBNLmFueSgpLCBsaW1pdHMgPSB1bmRlZmluZWQpID0+XG4gICAgICBtYWtlTGltaXRzTWF0Y2hlcignbWF0Y2g6bWFwT2YnLCBba2V5UGF0dCwgdmFsdWVQYXR0LCBsaW1pdHNdKSxcbiAgICBzcGxpdEFycmF5OiAoYmFzZSwgb3B0aW9uYWwgPSB1bmRlZmluZWQsIHJlc3QgPSB1bmRlZmluZWQpID0+XG4gICAgICBtYWtlTWF0Y2hlcihcbiAgICAgICAgJ21hdGNoOnNwbGl0QXJyYXknLFxuICAgICAgICBtYWtlU3BsaXRQYXlsb2FkKFtdLCBiYXNlLCBvcHRpb25hbCwgcmVzdCksXG4gICAgICApLFxuICAgIHNwbGl0UmVjb3JkOiAoYmFzZSwgb3B0aW9uYWwgPSB1bmRlZmluZWQsIHJlc3QgPSB1bmRlZmluZWQpID0+XG4gICAgICBtYWtlTWF0Y2hlcihcbiAgICAgICAgJ21hdGNoOnNwbGl0UmVjb3JkJyxcbiAgICAgICAgbWFrZVNwbGl0UGF5bG9hZCh7fSwgYmFzZSwgb3B0aW9uYWwsIHJlc3QpLFxuICAgICAgKSxcbiAgICBzcGxpdDogKGJhc2UsIHJlc3QgPSB1bmRlZmluZWQpID0+IHtcbiAgICAgIGlmIChwYXNzU3R5bGVPZihoYXJkZW4oYmFzZSkpID09PSAnY29weUFycmF5Jykge1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4gTS5zcGxpdEFycmF5KGJhc2UsIHJlc3QgJiYgW10sIHJlc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE0uc3BsaXRSZWNvcmQoYmFzZSwgcmVzdCAmJiB7fSwgcmVzdCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBwYXJ0aWFsOiAoYmFzZSwgcmVzdCA9IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgaWYgKHBhc3NTdHlsZU9mKGhhcmRlbihiYXNlKSkgPT09ICdjb3B5QXJyYXknKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiBNLnNwbGl0QXJyYXkoW10sIGJhc2UsIHJlc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE0uc3BsaXRSZWNvcmQoe30sIGJhc2UsIHJlc3QpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBlcmVmOiB0ID0+IE0ub3IodCwgTS5wcm9taXNlKCkpLFxuICAgIG9wdDogdCA9PiBNLm9yKE0udW5kZWZpbmVkKCksIHQpLFxuXG4gICAgaW50ZXJmYWNlOiAoaW50ZXJmYWNlTmFtZSwgbWV0aG9kR3VhcmRzLCBvcHRpb25zKSA9PlxuICAgICAgLy9cbiAgICAgIG1ha2VJbnRlcmZhY2VHdWFyZChpbnRlcmZhY2VOYW1lLCBtZXRob2RHdWFyZHMsIG9wdGlvbnMpLFxuICAgIGNhbGw6ICguLi5hcmdQYXR0ZXJucykgPT5cbiAgICAgIC8vXG4gICAgICBtYWtlTWV0aG9kR3VhcmRNYWtlcignc3luYycsIGFyZ1BhdHRlcm5zKSxcbiAgICBjYWxsV2hlbjogKC4uLmFyZ0d1YXJkcykgPT5cbiAgICAgIC8vXG4gICAgICBtYWtlTWV0aG9kR3VhcmRNYWtlcignYXN5bmMnLCBhcmdHdWFyZHMpLFxuXG4gICAgYXdhaXQ6IGFyZ1BhdHRlcm4gPT5cbiAgICAgIC8vXG4gICAgICBtYWtlQXdhaXRBcmdHdWFyZChhcmdQYXR0ZXJuKSxcbiAgICByYXc6ICgpID0+XG4gICAgICAvL1xuICAgICAgbWFrZVJhd0d1YXJkKCksXG4gIH0pO1xuXG4gIHJldHVybiBoYXJkZW4oe1xuICAgIGNoZWNrTWF0Y2hlcyxcbiAgICBtYXRjaGVzLFxuICAgIG11c3RNYXRjaCxcbiAgICBhc3NlcnRQYXR0ZXJuLFxuICAgIGlzUGF0dGVybixcbiAgICBnZXRSYW5rQ292ZXIsXG4gICAgTSxcbiAgICBraW5kT2YsXG4gICAgY29udGFpbmVySGFzU3BsaXQsXG4gIH0pO1xufTtcblxuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuICAgICAgIGNvbnN0IHtcbiAgY2hlY2tNYXRjaGVzLFxuICBtYXRjaGVzLFxuICBtdXN0TWF0Y2gsXG4gIGFzc2VydFBhdHRlcm4sXG4gIGlzUGF0dGVybixcbiAgZ2V0UmFua0NvdmVyLFxuICBNLFxuICBraW5kT2YsXG4gIGNvbnRhaW5lckhhc1NwbGl0LFxufSA9IG1ha2VQYXR0ZXJuS2l0KCk7JGjNj19vbmNlLmNoZWNrTWF0Y2hlcyhjaGVja01hdGNoZXMpOyRozY9fb25jZS5tYXRjaGVzKG1hdGNoZXMpOyRozY9fb25jZS5tdXN0TWF0Y2gobXVzdE1hdGNoKTskaM2PX29uY2UuYXNzZXJ0UGF0dGVybihhc3NlcnRQYXR0ZXJuKTskaM2PX29uY2UuaXNQYXR0ZXJuKGlzUGF0dGVybik7JGjNj19vbmNlLmdldFJhbmtDb3ZlcihnZXRSYW5rQ292ZXIpOyRozY9fb25jZS5NKE0pOyRozY9fb25jZS5raW5kT2Yoa2luZE9mKTskaM2PX29uY2UuY29udGFpbmVySGFzU3BsaXQoY29udGFpbmVySGFzU3BsaXQpO1xuXG5NTSA9IE07XG5cbi8vXG5cbi8vXG5jb25zdCBBd2FpdEFyZ0d1YXJkUGF5bG9hZFNoYXBlID0gaGFyZGVuKHtcbiAgYXJnR3VhcmQ6IE0ucGF0dGVybigpLFxufSk7XG5cbiAgICAgICBjb25zdCBBd2FpdEFyZ0d1YXJkU2hhcGUgPSBNLmtpbmQoJ2d1YXJkOmF3YWl0QXJnR3VhcmQnKTtcblxuLypcblxuXG4gKi8kaM2PX29uY2UuQXdhaXRBcmdHdWFyZFNoYXBlKEF3YWl0QXJnR3VhcmRTaGFwZSk7XG4gICAgICAgY29uc3QgaXNBd2FpdEFyZ0d1YXJkID0gc3BlY2ltZW4gPT5cbiAgbWF0Y2hlcyhzcGVjaW1lbiwgQXdhaXRBcmdHdWFyZFNoYXBlKTskaM2PX29uY2UuaXNBd2FpdEFyZ0d1YXJkKGlzQXdhaXRBcmdHdWFyZCk7XG5oYXJkZW4oaXNBd2FpdEFyZ0d1YXJkKTtcblxuLypcblxuXG4gKi9cbiAgICAgICBjb25zdCBhc3NlcnRBd2FpdEFyZ0d1YXJkID0gc3BlY2ltZW4gPT4ge1xuICBtdXN0TWF0Y2goc3BlY2ltZW4sIEF3YWl0QXJnR3VhcmRTaGFwZSwgJ2F3YWl0QXJnR3VhcmQnKTtcbn07JGjNj19vbmNlLmFzc2VydEF3YWl0QXJnR3VhcmQoYXNzZXJ0QXdhaXRBcmdHdWFyZCk7XG5oYXJkZW4oYXNzZXJ0QXdhaXRBcmdHdWFyZCk7XG5cbi8qXG5cblxuICovXG5jb25zdCBtYWtlQXdhaXRBcmdHdWFyZCA9IGFyZ1BhdHRlcm4gPT4ge1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHJlc3VsdCA9IG1ha2VUYWdnZWQoJ2d1YXJkOmF3YWl0QXJnR3VhcmQnLCB7XG4gICAgYXJnR3VhcmQ6IGFyZ1BhdHRlcm4sXG4gIH0pO1xuICBhc3NlcnRBd2FpdEFyZ0d1YXJkKHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vL1xuXG5jb25zdCBSYXdHdWFyZFBheWxvYWRTaGFwZSA9IE0ucmVjb3JkKCk7XG5cbiAgICAgICBjb25zdCBSYXdHdWFyZFNoYXBlID0gTS5raW5kKCdndWFyZDpyYXdHdWFyZCcpOyRozY9fb25jZS5SYXdHdWFyZFNoYXBlKFJhd0d1YXJkU2hhcGUpO1xuXG4gICAgICAgY29uc3QgaXNSYXdHdWFyZCA9IHNwZWNpbWVuID0+IG1hdGNoZXMoc3BlY2ltZW4sIFJhd0d1YXJkU2hhcGUpOyRozY9fb25jZS5pc1Jhd0d1YXJkKGlzUmF3R3VhcmQpO1xuXG4gICAgICAgY29uc3QgYXNzZXJ0UmF3R3VhcmQgPSBzcGVjaW1lbiA9PlxuICBtdXN0TWF0Y2goc3BlY2ltZW4sIFJhd0d1YXJkU2hhcGUsICdyYXdHdWFyZCcpO1xuXG4vKlxuXG4gKi8kaM2PX29uY2UuYXNzZXJ0UmF3R3VhcmQoYXNzZXJ0UmF3R3VhcmQpO1xuY29uc3QgbWFrZVJhd0d1YXJkID0gKCkgPT4gbWFrZVRhZ2dlZCgnZ3VhcmQ6cmF3R3VhcmQnLCB7fSk7XG5cbi8vXG4vL1xuXG4gICAgICAgY29uc3QgU3luY1ZhbHVlR3VhcmRTaGFwZSA9IE0ub3IoUmF3R3VhcmRTaGFwZSwgTS5wYXR0ZXJuKCkpOyRozY9fb25jZS5TeW5jVmFsdWVHdWFyZFNoYXBlKFN5bmNWYWx1ZUd1YXJkU2hhcGUpO1xuXG4gICAgICAgY29uc3QgU3luY1ZhbHVlR3VhcmRMaXN0U2hhcGUgPSBNLmFycmF5T2YoU3luY1ZhbHVlR3VhcmRTaGFwZSk7JGjNj19vbmNlLlN5bmNWYWx1ZUd1YXJkTGlzdFNoYXBlKFN5bmNWYWx1ZUd1YXJkTGlzdFNoYXBlKTtcblxuY29uc3QgQXJnR3VhcmRTaGFwZSA9IE0ub3IoUmF3R3VhcmRTaGFwZSwgQXdhaXRBcmdHdWFyZFNoYXBlLCBNLnBhdHRlcm4oKSk7XG4gICAgICAgY29uc3QgQXJnR3VhcmRMaXN0U2hhcGUgPSBNLmFycmF5T2YoQXJnR3VhcmRTaGFwZSk7JGjNj19vbmNlLkFyZ0d1YXJkTGlzdFNoYXBlKEFyZ0d1YXJkTGlzdFNoYXBlKTtcblxuY29uc3QgU3luY01ldGhvZEd1YXJkUGF5bG9hZFNoYXBlID0gaGFyZGVuKHtcbiAgY2FsbEtpbmQ6ICdzeW5jJyxcbiAgYXJnR3VhcmRzOiBTeW5jVmFsdWVHdWFyZExpc3RTaGFwZSxcbiAgb3B0aW9uYWxBcmdHdWFyZHM6IE0ub3B0KFN5bmNWYWx1ZUd1YXJkTGlzdFNoYXBlKSxcbiAgcmVzdEFyZ0d1YXJkOiBNLm9wdChTeW5jVmFsdWVHdWFyZFNoYXBlKSxcbiAgcmV0dXJuR3VhcmQ6IFN5bmNWYWx1ZUd1YXJkU2hhcGUsXG59KTtcblxuY29uc3QgQXN5bmNNZXRob2RHdWFyZFBheWxvYWRTaGFwZSA9IGhhcmRlbih7XG4gIGNhbGxLaW5kOiAnYXN5bmMnLFxuICBhcmdHdWFyZHM6IEFyZ0d1YXJkTGlzdFNoYXBlLFxuICBvcHRpb25hbEFyZ0d1YXJkczogTS5vcHQoQXJnR3VhcmRMaXN0U2hhcGUpLFxuICByZXN0QXJnR3VhcmQ6IE0ub3B0KFN5bmNWYWx1ZUd1YXJkU2hhcGUpLFxuICByZXR1cm5HdWFyZDogU3luY1ZhbHVlR3VhcmRTaGFwZSxcbn0pO1xuXG4gICAgICAgY29uc3QgTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUgPSBNLm9yKFxuICBTeW5jTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUsXG4gIEFzeW5jTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUsXG4pOyRozY9fb25jZS5NZXRob2RHdWFyZFBheWxvYWRTaGFwZShNZXRob2RHdWFyZFBheWxvYWRTaGFwZSk7XG5cbiAgICAgICBjb25zdCBNZXRob2RHdWFyZFNoYXBlID0gTS5raW5kKCdndWFyZDptZXRob2RHdWFyZCcpO1xuXG4vKlxuXG5cbiAqLyRozY9fb25jZS5NZXRob2RHdWFyZFNoYXBlKE1ldGhvZEd1YXJkU2hhcGUpO1xuICAgICAgIGNvbnN0IGFzc2VydE1ldGhvZEd1YXJkID0gc3BlY2ltZW4gPT4ge1xuICBtdXN0TWF0Y2goc3BlY2ltZW4sIE1ldGhvZEd1YXJkU2hhcGUsICdtZXRob2RHdWFyZCcpO1xufTskaM2PX29uY2UuYXNzZXJ0TWV0aG9kR3VhcmQoYXNzZXJ0TWV0aG9kR3VhcmQpO1xuaGFyZGVuKGFzc2VydE1ldGhvZEd1YXJkKTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VNZXRob2RHdWFyZE1ha2VyID0gKFxuICBjYWxsS2luZCxcbiAgYXJnR3VhcmRzLFxuICBvcHRpb25hbEFyZ0d1YXJkcyA9IHVuZGVmaW5lZCxcbiAgcmVzdEFyZ0d1YXJkID0gdW5kZWZpbmVkLFxuKSA9PlxuICBoYXJkZW4oe1xuICAgIG9wdGlvbmFsOiAoLi4ub3B0QXJnR3VhcmRzKSA9PiB7XG4gICAgICBvcHRpb25hbEFyZ0d1YXJkcyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIEZhaWxgQ2FuIG9ubHkgaGF2ZSBvbmUgc2V0IG9mIG9wdGlvbmFsIGd1YXJkc2A7XG4gICAgICByZXN0QXJnR3VhcmQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBGYWlsYG9wdGlvbmFsIGFyZyBndWFyZHMgbXVzdCBjb21lIGJlZm9yZSByZXN0IGFyZ2A7XG4gICAgICByZXR1cm4gbWFrZU1ldGhvZEd1YXJkTWFrZXIoY2FsbEtpbmQsIGFyZ0d1YXJkcywgb3B0QXJnR3VhcmRzKTtcbiAgICB9LFxuICAgIHJlc3Q6IHJBcmdHdWFyZCA9PiB7XG4gICAgICByZXN0QXJnR3VhcmQgPT09IHVuZGVmaW5lZCB8fCBGYWlsYENhbiBvbmx5IGhhdmUgb25lIHJlc3QgYXJnYDtcbiAgICAgIHJldHVybiBtYWtlTWV0aG9kR3VhcmRNYWtlcihcbiAgICAgICAgY2FsbEtpbmQsXG4gICAgICAgIGFyZ0d1YXJkcyxcbiAgICAgICAgb3B0aW9uYWxBcmdHdWFyZHMsXG4gICAgICAgIHJBcmdHdWFyZCxcbiAgICAgICk7XG4gICAgfSxcbiAgICByZXR1cm5zOiAocmV0dXJuR3VhcmQgPSBNLnVuZGVmaW5lZCgpKSA9PiB7XG4gICAgICAvKiAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgY29uc3QgcmVzdWx0ID0gbWFrZVRhZ2dlZCgnZ3VhcmQ6bWV0aG9kR3VhcmQnLCB7XG4gICAgICAgIGNhbGxLaW5kLFxuICAgICAgICBhcmdHdWFyZHMsXG4gICAgICAgIG9wdGlvbmFsQXJnR3VhcmRzLFxuICAgICAgICByZXN0QXJnR3VhcmQsXG4gICAgICAgIHJldHVybkd1YXJkLFxuICAgICAgfSk7XG4gICAgICBhc3NlcnRNZXRob2RHdWFyZChyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICB9KTtcblxuICAgICAgIGNvbnN0IEludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlID0gTS5zcGxpdFJlY29yZChcbiAge1xuICAgIGludGVyZmFjZU5hbWU6IE0uc3RyaW5nKCksXG4gICAgbWV0aG9kR3VhcmRzOiBNLnJlY29yZE9mKE0uc3RyaW5nKCksIE1ldGhvZEd1YXJkU2hhcGUpLFxuICB9LFxuICB7XG4gICAgZGVmYXVsdEd1YXJkczogTS5vcihNLnVuZGVmaW5lZCgpLCAncGFzc2FibGUnLCAncmF3JyksXG4gICAgc2xvcHB5OiBNLmJvb2xlYW4oKSxcbiAgICBzeW1ib2xNZXRob2RHdWFyZHM6IE0ubWFwT2YoTS5zeW1ib2woKSwgTWV0aG9kR3VhcmRTaGFwZSksXG4gIH0sXG4pOyRozY9fb25jZS5JbnRlcmZhY2VHdWFyZFBheWxvYWRTaGFwZShJbnRlcmZhY2VHdWFyZFBheWxvYWRTaGFwZSk7XG5cbiAgICAgICBjb25zdCBJbnRlcmZhY2VHdWFyZFNoYXBlID0gTS5raW5kKCdndWFyZDppbnRlcmZhY2VHdWFyZCcpO1xuXG4vKlxuXG5cbiAqLyRozY9fb25jZS5JbnRlcmZhY2VHdWFyZFNoYXBlKEludGVyZmFjZUd1YXJkU2hhcGUpO1xuICAgICAgIGNvbnN0IGFzc2VydEludGVyZmFjZUd1YXJkID0gc3BlY2ltZW4gPT4ge1xuICBtdXN0TWF0Y2goc3BlY2ltZW4sIEludGVyZmFjZUd1YXJkU2hhcGUsICdpbnRlcmZhY2VHdWFyZCcpO1xufTskaM2PX29uY2UuYXNzZXJ0SW50ZXJmYWNlR3VhcmQoYXNzZXJ0SW50ZXJmYWNlR3VhcmQpO1xuaGFyZGVuKGFzc2VydEludGVyZmFjZUd1YXJkKTtcblxuLypcblxuXG5cblxuXG4gKi9cbmNvbnN0IG1ha2VJbnRlcmZhY2VHdWFyZCA9IChpbnRlcmZhY2VOYW1lLCBtZXRob2RHdWFyZHMsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCB7IHNsb3BweSA9IGZhbHNlLCBkZWZhdWx0R3VhcmRzID0gc2xvcHB5ID8gJ3Bhc3NhYmxlJyA6IHVuZGVmaW5lZCB9ID1cbiAgICBvcHRpb25zO1xuICAvL1xuICAvL1xuICAvL1xuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgc3RyaW5nTWV0aG9kR3VhcmRzID0ge307XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3Qgc3ltYm9sTWV0aG9kR3VhcmRzRW50cmllcyA9IFtdO1xuICBmb3IgKGNvbnN0IGtleSBvZiBvd25LZXlzKG1ldGhvZEd1YXJkcykpIHtcbiAgICBjb25zdCB2YWx1ZSA9IG1ldGhvZEd1YXJkc1svKiAgICAgICAgICAgICAgICAgKi8gKGtleSldO1xuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3ltYm9sJykge1xuICAgICAgc3ltYm9sTWV0aG9kR3VhcmRzRW50cmllcy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0cmluZ01ldGhvZEd1YXJkc1trZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHJlc3VsdCA9IG1ha2VUYWdnZWQoJ2d1YXJkOmludGVyZmFjZUd1YXJkJywge1xuICAgIGludGVyZmFjZU5hbWUsXG4gICAgbWV0aG9kR3VhcmRzOiBzdHJpbmdNZXRob2RHdWFyZHMsXG4gICAgLi4uKHN5bWJvbE1ldGhvZEd1YXJkc0VudHJpZXMubGVuZ3RoXG4gICAgICA/IHsgc3ltYm9sTWV0aG9kR3VhcmRzOiBtYWtlQ29weU1hcChzeW1ib2xNZXRob2RHdWFyZHNFbnRyaWVzKSB9XG4gICAgICA6IHt9KSxcbiAgICBkZWZhdWx0R3VhcmRzLFxuICB9KTtcbiAgYXNzZXJ0SW50ZXJmYWNlR3VhcmQocmVzdWx0KTtcbiAgcmV0dXJuIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICovIChyZXN1bHQpO1xufTtcblxuY29uc3QgR3VhcmRQYXlsb2FkU2hhcGVzID0gaGFyZGVuKHtcbiAgJ2d1YXJkOmF3YWl0QXJnR3VhcmQnOiBBd2FpdEFyZ0d1YXJkUGF5bG9hZFNoYXBlLFxuICAnZ3VhcmQ6cmF3R3VhcmQnOiBSYXdHdWFyZFBheWxvYWRTaGFwZSxcbiAgJ2d1YXJkOm1ldGhvZEd1YXJkJzogTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUsXG4gICdndWFyZDppbnRlcmZhY2VHdWFyZCc6IEludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlLFxufSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJkZWZhdWx0TGltaXRzIjpbImRlZmF1bHRMaW1pdHMiXSwiY2hlY2tNYXRjaGVzIjpbImNoZWNrTWF0Y2hlcyJdLCJtYXRjaGVzIjpbIm1hdGNoZXMiXSwibXVzdE1hdGNoIjpbIm11c3RNYXRjaCJdLCJhc3NlcnRQYXR0ZXJuIjpbImFzc2VydFBhdHRlcm4iXSwiaXNQYXR0ZXJuIjpbImlzUGF0dGVybiJdLCJnZXRSYW5rQ292ZXIiOlsiZ2V0UmFua0NvdmVyIl0sIk0iOlsiTSJdLCJraW5kT2YiOlsia2luZE9mIl0sImNvbnRhaW5lckhhc1NwbGl0IjpbImNvbnRhaW5lckhhc1NwbGl0Il0sIkF3YWl0QXJnR3VhcmRTaGFwZSI6WyJBd2FpdEFyZ0d1YXJkU2hhcGUiXSwiaXNBd2FpdEFyZ0d1YXJkIjpbImlzQXdhaXRBcmdHdWFyZCJdLCJhc3NlcnRBd2FpdEFyZ0d1YXJkIjpbImFzc2VydEF3YWl0QXJnR3VhcmQiXSwiUmF3R3VhcmRTaGFwZSI6WyJSYXdHdWFyZFNoYXBlIl0sImlzUmF3R3VhcmQiOlsiaXNSYXdHdWFyZCJdLCJhc3NlcnRSYXdHdWFyZCI6WyJhc3NlcnRSYXdHdWFyZCJdLCJTeW5jVmFsdWVHdWFyZFNoYXBlIjpbIlN5bmNWYWx1ZUd1YXJkU2hhcGUiXSwiU3luY1ZhbHVlR3VhcmRMaXN0U2hhcGUiOlsiU3luY1ZhbHVlR3VhcmRMaXN0U2hhcGUiXSwiQXJnR3VhcmRMaXN0U2hhcGUiOlsiQXJnR3VhcmRMaXN0U2hhcGUiXSwiTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUiOlsiTWV0aG9kR3VhcmRQYXlsb2FkU2hhcGUiXSwiTWV0aG9kR3VhcmRTaGFwZSI6WyJNZXRob2RHdWFyZFNoYXBlIl0sImFzc2VydE1ldGhvZEd1YXJkIjpbImFzc2VydE1ldGhvZEd1YXJkIl0sIkludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlIjpbIkludGVyZmFjZUd1YXJkUGF5bG9hZFNoYXBlIl0sIkludGVyZmFjZUd1YXJkU2hhcGUiOlsiSW50ZXJmYWNlR3VhcmRTaGFwZSJdLCJhc3NlcnRJbnRlcmZhY2VHdWFyZCI6WyJhc3NlcnRJbnRlcmZhY2VHdWFyZCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAAiAAAAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy90eXBlcy5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAA/RdPfYgYAAGIGAAAiAAAAQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMC9pbmRleC5qc3siaW1wb3J0cyI6WyIuL3NyYy9wcm9taXNlLWV4ZWN1dG9yLWtpdC5qcyIsIi4vc3JjL21lbW8tcmFjZS5qcyIsIi4vc3JjL2lzLXByb21pc2UuanMiLCIuL3NyYy90eXBlcy5qcyJdLCJleHBvcnRzIjpbIm1ha2VQcm9taXNlS2l0IiwicmFjZVByb21pc2VzIl0sInJlZXhwb3J0cyI6WyIuL3NyYy9pcy1wcm9taXNlLmpzIiwiLi9zcmMvdHlwZXMuanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBtYWtlUmVsZWFzaW5nRXhlY3V0b3JLaXQsbWVtb1JhY2U7JGjNj19pbXBvcnRzKFtbXCIuL3NyYy9wcm9taXNlLWV4ZWN1dG9yLWtpdC5qc1wiLCBbW1wibWFrZVJlbGVhc2luZ0V4ZWN1dG9yS2l0XCIsWyRozY9fYSA9PiAobWFrZVJlbGVhc2luZ0V4ZWN1dG9yS2l0ID0gJGjNj19hKV1dXV0sW1wiLi9zcmMvbWVtby1yYWNlLmpzXCIsIFtbXCJtZW1vUmFjZVwiLFskaM2PX2EgPT4gKG1lbW9SYWNlID0gJGjNj19hKV1dXV0sW1wiLi9zcmMvaXMtcHJvbWlzZS5qc1wiLCBbXV0sW1wiLi9zcmMvdHlwZXMuanNcIiwgW11dXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG1ha2VQcm9taXNlS2l0LCduYW1lJyx7dmFsdWU6XCJtYWtlUHJvbWlzZUtpdFwifSk7JGjNj19vbmNlLm1ha2VQcm9taXNlS2l0KG1ha2VQcm9taXNlS2l0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocmFjZVByb21pc2VzLCduYW1lJyx7dmFsdWU6XCJyYWNlUHJvbWlzZXNcIn0pOyRozY9fb25jZS5yYWNlUHJvbWlzZXMocmFjZVByb21pc2VzKTtcblxuXG5cblxuXG5cblxuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbmNvbnN0IEJlc3RQaXBlbGluYWJsZVByb21pc2UgPSBnbG9iYWxUaGlzLkhhbmRsZWRQcm9taXNlIHx8IFByb21pc2U7XG5cbi8qXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBmdW5jdGlvbiBtYWtlUHJvbWlzZUtpdCgpIHtcbiAgY29uc3QgeyByZXNvbHZlLCByZWplY3QsIGV4ZWN1dG9yIH0gPSBtYWtlUmVsZWFzaW5nRXhlY3V0b3JLaXQoKTtcblxuICBjb25zdCBwcm9taXNlID0gbmV3IEJlc3RQaXBlbGluYWJsZVByb21pc2UoZXhlY3V0b3IpO1xuXG4gIHJldHVybiBoYXJkZW4oeyBwcm9taXNlLCByZXNvbHZlLCByZWplY3QgfSk7XG59XG5oYXJkZW4obWFrZVByb21pc2VLaXQpO1xuXG4vL1xuLy9cbi8vXG5cbi8qXG5cblxuXG5cblxuXG5cblxuXG4gKi9cbiAgICAgICBmdW5jdGlvbiByYWNlUHJvbWlzZXModmFsdWVzKSB7XG4gIHJldHVybiBoYXJkZW4obWVtb1JhY2UuY2FsbChCZXN0UGlwZWxpbmFibGVQcm9taXNlLCB2YWx1ZXMpKTtcbn1cbmhhcmRlbihyYWNlUHJvbWlzZXMpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVByb21pc2VLaXQiOlsibWFrZVByb21pc2VLaXQiXSwicmFjZVByb21pc2VzIjpbInJhY2VQcm9taXNlcyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAB1iEF+ZAIAAGQCAAArAAAAQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMC9zcmMvaXMtcHJvbWlzZS5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiaXNQcm9taXNlIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpc1Byb21pc2UsJ25hbWUnLHt2YWx1ZTpcImlzUHJvbWlzZVwifSk7JGjNj19vbmNlLmlzUHJvbWlzZShpc1Byb21pc2UpOy8qXG5cblxuXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIGlzUHJvbWlzZShtYXliZVByb21pc2UpIHtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtYXliZVByb21pc2UpID09PSBtYXliZVByb21pc2U7XG59XG5oYXJkZW4oaXNQcm9taXNlKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImlzUHJvbWlzZSI6WyJpc1Byb21pc2UiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAOeGs8FkJAABZCQAAKgAAAEBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAvc3JjL21lbW8tcmFjZS5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsibWVtb1JhY2UiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7LypcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiovXG5cbmNvbnN0IGlzT2JqZWN0ID0gdmFsdWUgPT4gT2JqZWN0KHZhbHVlKSA9PT0gdmFsdWU7XG5cbi8qXG5cblxuXG5cbiAqL1xuXG4vKlxuXG5cblxuXG4gKi9cblxuLy9cbi8vXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5jb25zdCBrbm93blByb21pc2VzID0gbmV3IFdlYWtNYXAoKTtcblxuLypcblxuXG4gKi9cbmNvbnN0IG1hcmtTZXR0bGVkID0gcmVjb3JkID0+IHtcbiAgaWYgKCFyZWNvcmQgfHwgcmVjb3JkLnNldHRsZWQpIHtcbiAgICByZXR1cm4gbmV3IFNldCgpO1xuICB9XG5cbiAgY29uc3QgeyBkZWZlcnJlZHMgfSA9IHJlY29yZDtcbiAgT2JqZWN0LmFzc2lnbihyZWNvcmQsIHtcbiAgICBkZWZlcnJlZHM6IHVuZGVmaW5lZCxcbiAgICBzZXR0bGVkOiB0cnVlLFxuICB9KTtcbiAgT2JqZWN0LmZyZWV6ZShyZWNvcmQpO1xuICByZXR1cm4gZGVmZXJyZWRzO1xufTtcblxuLypcblxuXG5cbiAqL1xuY29uc3QgZ2V0TWVtb1JlY29yZCA9IHZhbHVlID0+IHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIHJldHVybiBoYXJkZW4oeyBzZXR0bGVkOiB0cnVlIH0pO1xuICB9XG5cbiAgbGV0IHJlY29yZCA9IGtub3duUHJvbWlzZXMuZ2V0KHZhbHVlKTtcblxuICBpZiAoIXJlY29yZCkge1xuICAgIHJlY29yZCA9IHsgZGVmZXJyZWRzOiBuZXcgU2V0KCksIHNldHRsZWQ6IGZhbHNlIH07XG4gICAga25vd25Qcm9taXNlcy5zZXQodmFsdWUsIHJlY29yZCk7XG4gICAgLy9cbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oXG4gICAgICB2YWwgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IHsgcmVzb2x2ZSB9IG9mIG1hcmtTZXR0bGVkKHJlY29yZCkpIHtcbiAgICAgICAgICByZXNvbHZlKHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnIgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IHsgcmVqZWN0IH0gb2YgbWFya1NldHRsZWQocmVjb3JkKSkge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHJlY29yZDtcbn07XG5cbmNvbnN0IHsgcmFjZSB9ID0ge1xuICAvKlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICovXG4gIHJhY2UodmFsdWVzKSB7XG4gICAgbGV0IGRlZmVycmVkO1xuICAgIC8qICAgICAgICAgICAgICAgICAqL1xuICAgIC8vXG4gICAgY29uc3QgY2FjaGVkVmFsdWVzID0gW107XG4gICAgY29uc3QgQyA9IHRoaXM7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEMoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZGVmZXJyZWQgPSB7IHJlc29sdmUsIHJlamVjdCB9O1xuICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgY2FjaGVkVmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICBjb25zdCB7IHNldHRsZWQsIGRlZmVycmVkcyB9ID0gZ2V0TWVtb1JlY29yZCh2YWx1ZSk7XG4gICAgICAgIGlmIChzZXR0bGVkKSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICAvL1xuICAgICAgICAgIEMucmVzb2x2ZSh2YWx1ZSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkcy5hZGQoZGVmZXJyZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvL1xuICAgIC8vXG4gICAgcmV0dXJuIHJlc3VsdC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgY2FjaGVkVmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IHsgZGVmZXJyZWRzIH0gPSBnZXRNZW1vUmVjb3JkKHZhbHVlKTtcbiAgICAgICAgaWYgKGRlZmVycmVkcykge1xuICAgICAgICAgIGRlZmVycmVkcy5kZWxldGUoZGVmZXJyZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG59OyRozY9fb25jZS5yYWNlKHJhY2UpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWVtb1JhY2UiOlsicmFjZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAACMGyI1HwYAAB8GAAA1AAAAQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMC9zcmMvcHJvbWlzZS1leGVjdXRvci1raXQuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIm1ha2VSZWxlYXNpbmdFeGVjdXRvcktpdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTsvL1xuXG4vKlxuXG5cblxuXG4gKi9cblxuLypcblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VSZWxlYXNpbmdFeGVjdXRvcktpdCA9ICgpID0+IHtcbiAgLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGxldCBpbnRlcm5hbFJlc29sdmU7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgbGV0IGludGVybmFsUmVqZWN0O1xuXG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIGNvbnN0IHJlc29sdmUgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKGludGVybmFsUmVzb2x2ZSkge1xuICAgICAgaW50ZXJuYWxSZXNvbHZlKHZhbHVlKTtcbiAgICAgIGludGVybmFsUmVzb2x2ZSA9IG51bGw7XG4gICAgICBpbnRlcm5hbFJlamVjdCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydChpbnRlcm5hbFJlc29sdmUgPT09IG51bGwpO1xuICAgIH1cbiAgfTtcblxuICAvKiAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgcmVqZWN0ID0gcmVhc29uID0+IHtcbiAgICBpZiAoaW50ZXJuYWxSZWplY3QpIHtcbiAgICAgIGludGVybmFsUmVqZWN0KHJlYXNvbik7XG4gICAgICBpbnRlcm5hbFJlc29sdmUgPSBudWxsO1xuICAgICAgaW50ZXJuYWxSZWplY3QgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoaW50ZXJuYWxSZWplY3QgPT09IG51bGwpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBleGVjdXRvciA9IChyZXMsIHJlaikgPT4ge1xuICAgIGFzc2VydChpbnRlcm5hbFJlc29sdmUgPT09IHVuZGVmaW5lZCAmJiBpbnRlcm5hbFJlamVjdCA9PT0gdW5kZWZpbmVkKTtcbiAgICBpbnRlcm5hbFJlc29sdmUgPSByZXM7XG4gICAgaW50ZXJuYWxSZWplY3QgPSByZWo7XG4gIH07XG5cbiAgcmV0dXJuIGhhcmRlbih7IHJlc29sdmUsIHJlamVjdCwgZXhlY3V0b3IgfSk7XG59OyRozY9fb25jZS5tYWtlUmVsZWFzaW5nRXhlY3V0b3JLaXQobWFrZVJlbGVhc2luZ0V4ZWN1dG9yS2l0KTtcbmhhcmRlbihtYWtlUmVsZWFzaW5nRXhlY3V0b3JLaXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVJlbGVhc2luZ0V4ZWN1dG9yS2l0IjpbIm1ha2VSZWxlYXNpbmdFeGVjdXRvcktpdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABFzP/xWAEAAFgBAAAmAAAAQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMC9zcmMvdHlwZXMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAASdhWHrgUAAC4FAAAHQAAAEBlbmRvL3N0cmVhbS12MS4yLjEwL2luZGV4LmpzeyJpbXBvcnRzIjpbIkBlbmRvL2V2ZW50dWFsLXNlbmQiLCJAZW5kby9wcm9taXNlLWtpdCJdLCJleHBvcnRzIjpbIm1ha2VQaXBlIiwibWFrZVF1ZXVlIiwibWFrZVN0cmVhbSIsIm1hcFJlYWRlciIsIm1hcFdyaXRlciIsInByaW1lIiwicHVtcCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IEUsbWFrZVByb21pc2VLaXQ7JGjNj19pbXBvcnRzKFtbXCJAZW5kby9ldmVudHVhbC1zZW5kXCIsIFtbXCJFXCIsWyRozY9fYSA9PiAoRSA9ICRozY9fYSldXV1dLFtcIkBlbmRvL3Byb21pc2Uta2l0XCIsIFtbXCJtYWtlUHJvbWlzZUtpdFwiLFskaM2PX2EgPT4gKG1ha2VQcm9taXNlS2l0ID0gJGjNj19hKV1dXV1dKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vXG4vL1xuLy9cbmNvbnN0IGZyZWV6ZSA9IC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi8gKE9iamVjdC5mcmVlemUpO1xuXG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1ha2VRdWV1ZSA9ICgpID0+IHtcbiAgbGV0IHsgcHJvbWlzZTogdGFpbFByb21pc2UsIHJlc29sdmU6IHRhaWxSZXNvbHZlIH0gPSBtYWtlUHJvbWlzZUtpdCgpO1xuICByZXR1cm4ge1xuICAgIHB1dCh2YWx1ZSkge1xuICAgICAgY29uc3QgeyByZXNvbHZlLCBwcm9taXNlIH0gPSBtYWtlUHJvbWlzZUtpdCgpO1xuICAgICAgdGFpbFJlc29sdmUoZnJlZXplKHsgdmFsdWUsIHByb21pc2UgfSkpO1xuICAgICAgdGFpbFJlc29sdmUgPSByZXNvbHZlO1xuICAgIH0sXG4gICAgZ2V0KCkge1xuICAgICAgY29uc3QgcHJvbWlzZSA9IHRhaWxQcm9taXNlLnRoZW4obmV4dCA9PiBuZXh0LnZhbHVlKTtcbiAgICAgIHRhaWxQcm9taXNlID0gdGFpbFByb21pc2UudGhlbihuZXh0ID0+IG5leHQucHJvbWlzZSk7XG4gICAgICByZXR1cm4gaGFyZGVuKHByb21pc2UpO1xuICAgIH0sXG4gIH07XG59OyRozY9fb25jZS5tYWtlUXVldWUobWFrZVF1ZXVlKTtcbmhhcmRlbihtYWtlUXVldWUpO1xuXG4vKlxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZVN0cmVhbSA9IChhY2tzLCBkYXRhKSA9PiB7XG4gIGNvbnN0IHN0cmVhbSA9IGhhcmRlbih7XG4gICAgLypcblxuICAgICAqL1xuICAgIG5leHQodmFsdWUpIHtcbiAgICAgIC8vXG4gICAgICAvL1xuICAgICAgZGF0YS5wdXQoZnJlZXplKHsgdmFsdWUsIGRvbmU6IGZhbHNlIH0pKTtcbiAgICAgIHJldHVybiBhY2tzLmdldCgpO1xuICAgIH0sXG4gICAgLypcblxuICAgICAqL1xuICAgIHJldHVybih2YWx1ZSkge1xuICAgICAgZGF0YS5wdXQoZnJlZXplKHsgdmFsdWUsIGRvbmU6IHRydWUgfSkpO1xuICAgICAgcmV0dXJuIGFja3MuZ2V0KCk7XG4gICAgfSxcbiAgICAvKlxuXG4gICAgICovXG4gICAgdGhyb3coZXJyb3IpIHtcbiAgICAgIGRhdGEucHV0KGhhcmRlbihQcm9taXNlLnJlamVjdChlcnJvcikpKTtcbiAgICAgIHJldHVybiBhY2tzLmdldCgpO1xuICAgIH0sXG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgIHJldHVybiBzdHJlYW07XG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiBzdHJlYW07XG59OyRozY9fb25jZS5tYWtlU3RyZWFtKG1ha2VTdHJlYW0pO1xuaGFyZGVuKG1ha2VTdHJlYW0pO1xuXG4vL1xuLy9cbi8vXG4gICAgICAgY29uc3QgbWFrZVBpcGUgPSAoKSA9PiB7XG4gIGNvbnN0IGRhdGEgPSBtYWtlUXVldWUoKTtcbiAgY29uc3QgYWNrcyA9IG1ha2VRdWV1ZSgpO1xuICBjb25zdCByZWFkZXIgPSBtYWtlU3RyZWFtKGFja3MsIGRhdGEpO1xuICBjb25zdCB3cml0ZXIgPSBtYWtlU3RyZWFtKGRhdGEsIGFja3MpO1xuICByZXR1cm4gaGFyZGVuKFt3cml0ZXIsIHJlYWRlcl0pO1xufTskaM2PX29uY2UubWFrZVBpcGUobWFrZVBpcGUpO1xuaGFyZGVuKG1ha2VQaXBlKTtcblxuLypcblxuXG5cblxuXG5cblxuICovXG4gICAgICAgY29uc3QgcHVtcCA9IGFzeW5jICh3cml0ZXIsIHJlYWRlciwgcHJpbWVyKSA9PiB7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgY29uc3QgdGljayA9IHByb21pc2UgPT5cbiAgICBFLndoZW4oXG4gICAgICBwcm9taXNlLFxuICAgICAgcmVzdWx0ID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHdyaXRlci5yZXR1cm4ocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vXG4gICAgICAgICAgcmV0dXJuIHRvY2sod3JpdGVyLm5leHQocmVzdWx0LnZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAoLyogICAgICAgICAgICAgICAgKi8gZXJyb3IpID0+IHtcbiAgICAgICAgcmV0dXJuIHdyaXRlci50aHJvdyhlcnJvcik7XG4gICAgICB9LFxuICAgICk7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICBjb25zdCB0b2NrID0gcHJvbWlzZSA9PlxuICAgIEUud2hlbihcbiAgICAgIHByb21pc2UsXG4gICAgICByZXN1bHQgPT4ge1xuICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gcmVhZGVyLnJldHVybihyZXN1bHQudmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aWNrKHJlYWRlci5uZXh0KHJlc3VsdC52YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgKC8qICAgICAgICAgICAgICAgICovIGVycm9yKSA9PiB7XG4gICAgICAgIHJldHVybiByZWFkZXIudGhyb3coZXJyb3IpO1xuICAgICAgfSxcbiAgICApO1xuICBhd2FpdCB0aWNrKHJlYWRlci5uZXh0KHByaW1lcikpO1xuICByZXR1cm4gdW5kZWZpbmVkO1xufTskaM2PX29uY2UucHVtcChwdW1wKTtcbmhhcmRlbihwdW1wKTtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBwcmltZSA9IChnZW5lcmF0b3IsIHByaW1lcikgPT4ge1xuICAvL1xuICBjb25zdCBmaXJzdCA9IGdlbmVyYXRvci5uZXh0KHByaW1lcik7XG4gIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgbGV0IHJlc3VsdDtcbiAgY29uc3QgcHJpbWVkID0gaGFyZGVuKHtcbiAgICAvKiAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgYXN5bmMgbmV4dCh2YWx1ZSkge1xuICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vXG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IGZpcnN0O1xuICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2VuZXJhdG9yLm5leHQodmFsdWUpO1xuICAgIH0sXG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBhc3luYyByZXR1cm4odmFsdWUpIHtcbiAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvL1xuICAgICAgICByZXN1bHQgPSBhd2FpdCBmaXJzdDtcbiAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGdlbmVyYXRvci5yZXR1cm4odmFsdWUpO1xuICAgIH0sXG4gICAgLyogICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgYXN5bmMgdGhyb3coZXJyb3IpIHtcbiAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvL1xuICAgICAgICByZXN1bHQgPSBhd2FpdCBmaXJzdDtcbiAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBnZW5lcmF0b3IudGhyb3coZXJyb3IpO1xuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gcHJpbWVkO1xufTskaM2PX29uY2UucHJpbWUocHJpbWUpO1xuaGFyZGVuKHByaW1lKTtcblxuLypcblxuXG5cblxuXG4gKi9cbiAgICAgICBjb25zdCBtYXBSZWFkZXIgPSAocmVhZGVyLCB0cmFuc2Zvcm0pID0+IHtcbiAgYXN5bmMgZnVuY3Rpb24qIHRyYW5zZm9ybUdlbmVyYXRvcigpIHtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IHZhbHVlIG9mIHJlYWRlcikge1xuICAgICAgeWllbGQgdHJhbnNmb3JtKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBoYXJkZW4odHJhbnNmb3JtR2VuZXJhdG9yKTtcbiAgcmV0dXJuIGhhcmRlbih0cmFuc2Zvcm1HZW5lcmF0b3IoKSk7XG59OyRozY9fb25jZS5tYXBSZWFkZXIobWFwUmVhZGVyKTtcbmhhcmRlbihtYXBSZWFkZXIpO1xuXG4vKlxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IG1hcFdyaXRlciA9ICh3cml0ZXIsIHRyYW5zZm9ybSkgPT4ge1xuICBjb25zdCB0cmFuc2Zvcm1lZFdyaXRlciA9IGhhcmRlbih7XG4gICAgLypcblxuICAgICAqL1xuICAgIGFzeW5jIG5leHQodmFsdWUpIHtcbiAgICAgIHJldHVybiB3cml0ZXIubmV4dCh0cmFuc2Zvcm0odmFsdWUpKTtcbiAgICB9LFxuICAgIC8qXG5cbiAgICAgKi9cbiAgICBhc3luYyB0aHJvdyhlcnJvcikge1xuICAgICAgcmV0dXJuIHdyaXRlci50aHJvdyhlcnJvcik7XG4gICAgfSxcbiAgICAvKlxuXG4gICAgICovXG4gICAgYXN5bmMgcmV0dXJuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gd3JpdGVyLnJldHVybih2YWx1ZSk7XG4gICAgfSxcbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkV3JpdGVyO1xuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gdHJhbnNmb3JtZWRXcml0ZXI7XG59OyRozY9fb25jZS5tYXBXcml0ZXIobWFwV3JpdGVyKTtcbmhhcmRlbihtYXBXcml0ZXIpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVF1ZXVlIjpbIm1ha2VRdWV1ZSJdLCJtYWtlU3RyZWFtIjpbIm1ha2VTdHJlYW0iXSwibWFrZVBpcGUiOlsibWFrZVBpcGUiXSwicHVtcCI6WyJwdW1wIl0sInByaW1lIjpbInByaW1lIl0sIm1hcFJlYWRlciI6WyJtYXBSZWFkZXIiXSwibWFwV3JpdGVyIjpbIm1hcFdyaXRlciJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAD1sWHDRwoAAEcKAAAjAAAAQG5vYmxlL2hhc2hlcy12MS41LjAvZXNtL19hc3NlcnQuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImJvb2wiLCJieXRlcyIsImRlZmF1bHQiLCJleGlzdHMiLCJoYXNoIiwiaXNCeXRlcyIsIm51bWJlciIsIm91dHB1dCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtPYmplY3QuZGVmaW5lUHJvcGVydHkobnVtYmVyLCduYW1lJyx7dmFsdWU6XCJudW1iZXJcIn0pOyRozY9fb25jZS5udW1iZXIobnVtYmVyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYm9vbCwnbmFtZScse3ZhbHVlOlwiYm9vbFwifSk7JGjNj19vbmNlLmJvb2woYm9vbCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGJ5dGVzLCduYW1lJyx7dmFsdWU6XCJieXRlc1wifSk7JGjNj19vbmNlLmJ5dGVzKGJ5dGVzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaGFzaCwnbmFtZScse3ZhbHVlOlwiaGFzaFwifSk7JGjNj19vbmNlLmhhc2goaGFzaCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4aXN0cywnbmFtZScse3ZhbHVlOlwiZXhpc3RzXCJ9KTskaM2PX29uY2UuZXhpc3RzKGV4aXN0cyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG91dHB1dCwnbmFtZScse3ZhbHVlOlwib3V0cHV0XCJ9KTskaM2PX29uY2Uub3V0cHV0KG91dHB1dCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGlzQnl0ZXMsJ25hbWUnLHt2YWx1ZTpcImlzQnl0ZXNcIn0pOyRozY9fb25jZS5pc0J5dGVzKGlzQnl0ZXMpO2Z1bmN0aW9uIG51bWJlcihuKSB7XG4gICAgaWYgKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihuKSB8fCBuIDwgMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBwb3NpdGl2ZSBpbnRlZ2VyIGV4cGVjdGVkLCBub3QgJHtufWApO1xufVxuZnVuY3Rpb24gYm9vbChiKSB7XG4gICAgaWYgKHR5cGVvZiBiICE9PSAnYm9vbGVhbicpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgYm9vbGVhbiBleHBlY3RlZCwgbm90ICR7Yn1gKTtcbn1cbi8vXG4gICAgICAgZnVuY3Rpb24gaXNCeXRlcyhhKSB7XG4gICAgcmV0dXJuIChhIGluc3RhbmNlb2YgVWludDhBcnJheSB8fFxuICAgICAgICAoYSAhPSBudWxsICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JyAmJiBhLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdVaW50OEFycmF5JykpO1xufVxuZnVuY3Rpb24gYnl0ZXMoYiwgLi4ubGVuZ3Rocykge1xuICAgIGlmICghaXNCeXRlcyhiKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVaW50OEFycmF5IGV4cGVjdGVkJyk7XG4gICAgaWYgKGxlbmd0aHMubGVuZ3RoID4gMCAmJiAhbGVuZ3Rocy5pbmNsdWRlcyhiLmxlbmd0aCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVWludDhBcnJheSBleHBlY3RlZCBvZiBsZW5ndGggJHtsZW5ndGhzfSwgbm90IG9mIGxlbmd0aD0ke2IubGVuZ3RofWApO1xufVxuZnVuY3Rpb24gaGFzaChoKSB7XG4gICAgaWYgKHR5cGVvZiBoICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBoLmNyZWF0ZSAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIYXNoIHNob3VsZCBiZSB3cmFwcGVkIGJ5IHV0aWxzLndyYXBDb25zdHJ1Y3RvcicpO1xuICAgIG51bWJlcihoLm91dHB1dExlbik7XG4gICAgbnVtYmVyKGguYmxvY2tMZW4pO1xufVxuZnVuY3Rpb24gZXhpc3RzKGluc3RhbmNlLCBjaGVja0ZpbmlzaGVkID0gdHJ1ZSkge1xuICAgIGlmIChpbnN0YW5jZS5kZXN0cm95ZWQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWQnKTtcbiAgICBpZiAoY2hlY2tGaW5pc2hlZCAmJiBpbnN0YW5jZS5maW5pc2hlZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkJyk7XG59XG5mdW5jdGlvbiBvdXRwdXQob3V0LCBpbnN0YW5jZSkge1xuICAgIGJ5dGVzKG91dCk7XG4gICAgY29uc3QgbWluID0gaW5zdGFuY2Uub3V0cHV0TGVuO1xuICAgIGlmIChvdXQubGVuZ3RoIDwgbWluKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgZGlnZXN0SW50bygpIGV4cGVjdHMgb3V0cHV0IGJ1ZmZlciBvZiBsZW5ndGggYXQgbGVhc3QgJHttaW59YCk7XG4gICAgfVxufVxuXG5jb25zdCBhc3NlcnQgPSB7IG51bWJlciwgYm9vbCwgYnl0ZXMsIGhhc2gsIGV4aXN0cywgb3V0cHV0IH07XG5jb25zdHtkZWZhdWx0OiRjzY9fZGVmYXVsdH09e2RlZmF1bHQ6YXNzZXJ0fTtcbi8vXG4kaM2PX29uY2UuZGVmYXVsdCgkY82PX2RlZmF1bHQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZGVmYXVsdCI6WyJkZWZhdWx0Il0sIm51bWJlciI6WyJudW1iZXIiXSwiYm9vbCI6WyJib29sIl0sImJ5dGVzIjpbImJ5dGVzIl0sImhhc2giOlsiaGFzaCJdLCJleGlzdHMiOlsiZXhpc3RzIl0sIm91dHB1dCI6WyJvdXRwdXQiXSwiaXNCeXRlcyI6WyJpc0J5dGVzIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAOdYqkXNEQAAzREAAB8AAABAbm9ibGUvaGFzaGVzLXYxLjUuMC9lc20vX21kLmpzeyJpbXBvcnRzIjpbIi4vX2Fzc2VydC5qcyIsIi4vdXRpbHMuanMiXSwiZXhwb3J0cyI6WyJDaGkiLCJIYXNoTUQiLCJNYWoiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBleGlzdHMsb3V0cHV0LEhhc2gsY3JlYXRlVmlldyx0b0J5dGVzOyRozY9faW1wb3J0cyhbW1wiLi9fYXNzZXJ0LmpzXCIsIFtbXCJleGlzdHNcIixbJGjNj19hID0+IChleGlzdHMgPSAkaM2PX2EpXV0sW1wib3V0cHV0XCIsWyRozY9fYSA9PiAob3V0cHV0ID0gJGjNj19hKV1dXV0sW1wiLi91dGlscy5qc1wiLCBbW1wiSGFzaFwiLFskaM2PX2EgPT4gKEhhc2ggPSAkaM2PX2EpXV0sW1wiY3JlYXRlVmlld1wiLFskaM2PX2EgPT4gKGNyZWF0ZVZpZXcgPSAkaM2PX2EpXV0sW1widG9CeXRlc1wiLFskaM2PX2EgPT4gKHRvQnl0ZXMgPSAkaM2PX2EpXV1dXV0pO1xuXG4vKlxuXG4gKi9cbmZ1bmN0aW9uIHNldEJpZ1VpbnQ2NCh2aWV3LCBieXRlT2Zmc2V0LCB2YWx1ZSwgaXNMRSkge1xuICAgIGlmICh0eXBlb2Ygdmlldy5zZXRCaWdVaW50NjQgPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHJldHVybiB2aWV3LnNldEJpZ1VpbnQ2NChieXRlT2Zmc2V0LCB2YWx1ZSwgaXNMRSk7XG4gICAgY29uc3QgXzMybiA9IEJpZ0ludCgzMik7XG4gICAgY29uc3QgX3UzMl9tYXggPSBCaWdJbnQoMHhmZmZmZmZmZik7XG4gICAgY29uc3Qgd2ggPSBOdW1iZXIoKHZhbHVlID4+IF8zMm4pICYgX3UzMl9tYXgpO1xuICAgIGNvbnN0IHdsID0gTnVtYmVyKHZhbHVlICYgX3UzMl9tYXgpO1xuICAgIGNvbnN0IGggPSBpc0xFID8gNCA6IDA7XG4gICAgY29uc3QgbCA9IGlzTEUgPyAwIDogNDtcbiAgICB2aWV3LnNldFVpbnQzMihieXRlT2Zmc2V0ICsgaCwgd2gsIGlzTEUpO1xuICAgIHZpZXcuc2V0VWludDMyKGJ5dGVPZmZzZXQgKyBsLCB3bCwgaXNMRSk7XG59XG4vKlxuXG4gKi9cbiAgICAgICBjb25zdCBDaGkgPSAoYSwgYiwgYykgPT4gKGEgJiBiKSBeICh+YSAmIGMpO1xuLypcblxuICovJGjNj19vbmNlLkNoaShDaGkpO1xuICAgICAgIGNvbnN0IE1haiA9IChhLCBiLCBjKSA9PiAoYSAmIGIpIF4gKGEgJiBjKSBeIChiICYgYyk7XG4vKlxuXG5cbiAqLyRozY9fb25jZS5NYWooTWFqKTtcbiAgICAgICBjbGFzcyBIYXNoTUQgZXh0ZW5kcyBIYXNoIHtcbiAgICBjb25zdHJ1Y3RvcihibG9ja0xlbiwgb3V0cHV0TGVuLCBwYWRPZmZzZXQsIGlzTEUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5ibG9ja0xlbiA9IGJsb2NrTGVuO1xuICAgICAgICB0aGlzLm91dHB1dExlbiA9IG91dHB1dExlbjtcbiAgICAgICAgdGhpcy5wYWRPZmZzZXQgPSBwYWRPZmZzZXQ7XG4gICAgICAgIHRoaXMuaXNMRSA9IGlzTEU7XG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYmxvY2tMZW4pO1xuICAgICAgICB0aGlzLnZpZXcgPSBjcmVhdGVWaWV3KHRoaXMuYnVmZmVyKTtcbiAgICB9XG4gICAgdXBkYXRlKGRhdGEpIHtcbiAgICAgICAgZXhpc3RzKHRoaXMpO1xuICAgICAgICBjb25zdCB7IHZpZXcsIGJ1ZmZlciwgYmxvY2tMZW4gfSA9IHRoaXM7XG4gICAgICAgIGRhdGEgPSB0b0J5dGVzKGRhdGEpO1xuICAgICAgICBjb25zdCBsZW4gPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgbGVuOykge1xuICAgICAgICAgICAgY29uc3QgdGFrZSA9IE1hdGgubWluKGJsb2NrTGVuIC0gdGhpcy5wb3MsIGxlbiAtIHBvcyk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgaWYgKHRha2UgPT09IGJsb2NrTGVuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YVZpZXcgPSBjcmVhdGVWaWV3KGRhdGEpO1xuICAgICAgICAgICAgICAgIGZvciAoOyBibG9ja0xlbiA8PSBsZW4gLSBwb3M7IHBvcyArPSBibG9ja0xlbilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRhdGFWaWV3LCBwb3MpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyLnNldChkYXRhLnN1YmFycmF5KHBvcywgcG9zICsgdGFrZSksIHRoaXMucG9zKTtcbiAgICAgICAgICAgIHRoaXMucG9zICs9IHRha2U7XG4gICAgICAgICAgICBwb3MgKz0gdGFrZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA9PT0gYmxvY2tMZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3ModmlldywgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubGVuZ3RoICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICB0aGlzLnJvdW5kQ2xlYW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRpZ2VzdEludG8ob3V0KSB7XG4gICAgICAgIGV4aXN0cyh0aGlzKTtcbiAgICAgICAgb3V0cHV0KG91dCwgdGhpcyk7XG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCB7IGJ1ZmZlciwgdmlldywgYmxvY2tMZW4sIGlzTEUgfSA9IHRoaXM7XG4gICAgICAgIGxldCB7IHBvcyB9ID0gdGhpcztcbiAgICAgICAgLy9cbiAgICAgICAgYnVmZmVyW3BvcysrXSA9IDBiMTAwMDAwMDA7XG4gICAgICAgIHRoaXMuYnVmZmVyLnN1YmFycmF5KHBvcykuZmlsbCgwKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKHRoaXMucGFkT2Zmc2V0ID4gYmxvY2tMZW4gLSBwb3MpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzcyh2aWV3LCAwKTtcbiAgICAgICAgICAgIHBvcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy9cbiAgICAgICAgZm9yIChsZXQgaSA9IHBvczsgaSA8IGJsb2NrTGVuOyBpKyspXG4gICAgICAgICAgICBidWZmZXJbaV0gPSAwO1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICBzZXRCaWdVaW50NjQodmlldywgYmxvY2tMZW4gLSA4LCBCaWdJbnQodGhpcy5sZW5ndGggKiA4KSwgaXNMRSk7XG4gICAgICAgIHRoaXMucHJvY2Vzcyh2aWV3LCAwKTtcbiAgICAgICAgY29uc3Qgb3ZpZXcgPSBjcmVhdGVWaWV3KG91dCk7XG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMub3V0cHV0TGVuO1xuICAgICAgICAvL1xuICAgICAgICBpZiAobGVuICUgNClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignX3NoYTI6IG91dHB1dExlbiBzaG91bGQgYmUgYWxpZ25lZCB0byAzMmJpdCcpO1xuICAgICAgICBjb25zdCBvdXRMZW4gPSBsZW4gLyA0O1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0KCk7XG4gICAgICAgIGlmIChvdXRMZW4gPiBzdGF0ZS5sZW5ndGgpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ19zaGEyOiBvdXRwdXRMZW4gYmlnZ2VyIHRoYW4gc3RhdGUnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRMZW47IGkrKylcbiAgICAgICAgICAgIG92aWV3LnNldFVpbnQzMig0ICogaSwgc3RhdGVbaV0sIGlzTEUpO1xuICAgIH1cbiAgICBkaWdlc3QoKSB7XG4gICAgICAgIGNvbnN0IHsgYnVmZmVyLCBvdXRwdXRMZW4gfSA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGlnZXN0SW50byhidWZmZXIpO1xuICAgICAgICBjb25zdCByZXMgPSBidWZmZXIuc2xpY2UoMCwgb3V0cHV0TGVuKTtcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIF9jbG9uZUludG8odG8pIHtcbiAgICAgICAgdG8gfHwgKHRvID0gbmV3IHRoaXMuY29uc3RydWN0b3IoKSk7XG4gICAgICAgIHRvLnNldCguLi50aGlzLmdldCgpKTtcbiAgICAgICAgY29uc3QgeyBibG9ja0xlbiwgYnVmZmVyLCBsZW5ndGgsIGZpbmlzaGVkLCBkZXN0cm95ZWQsIHBvcyB9ID0gdGhpcztcbiAgICAgICAgdG8ubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0by5wb3MgPSBwb3M7XG4gICAgICAgIHRvLmZpbmlzaGVkID0gZmluaXNoZWQ7XG4gICAgICAgIHRvLmRlc3Ryb3llZCA9IGRlc3Ryb3llZDtcbiAgICAgICAgaWYgKGxlbmd0aCAlIGJsb2NrTGVuKVxuICAgICAgICAgICAgdG8uYnVmZmVyLnNldChidWZmZXIpO1xuICAgICAgICByZXR1cm4gdG87XG4gICAgfVxufVxuLy9cbiRozY9fb25jZS4gICAgSGFzaE1EKEhhc2hNRCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJDaGkiOlsiQ2hpIl0sIk1haiI6WyJNYWoiXSwiSGFzaE1EIjpbIkhhc2hNRCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADECG8wAQIAAAECAAAiAAAAQG5vYmxlL2hhc2hlcy12MS41LjAvZXNtL2NyeXB0by5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiY3J5cHRvIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOyAgICAgICBjb25zdCBjcnlwdG8gPSB0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcgJiYgJ2NyeXB0bycgaW4gZ2xvYmFsVGhpcyA/IGdsb2JhbFRoaXMuY3J5cHRvIDogdW5kZWZpbmVkO1xuLy9cbiRozY9fb25jZS5jcnlwdG8oY3J5cHRvKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImNyeXB0byI6WyJjcnlwdG8iXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAa5wtE9ESAADREgAAIgAAAEBub2JsZS9oYXNoZXMtdjEuNS4wL2VzbS9zaGEyNTYuanN7ImltcG9ydHMiOlsiLi9fbWQuanMiLCIuL3V0aWxzLmpzIl0sImV4cG9ydHMiOlsiU0hBMjU2Iiwic2hhMjI0Iiwic2hhMjU2Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgSGFzaE1ELENoaSxNYWoscm90cix3cmFwQ29uc3RydWN0b3I7JGjNj19pbXBvcnRzKFtbXCIuL19tZC5qc1wiLCBbW1wiSGFzaE1EXCIsWyRozY9fYSA9PiAoSGFzaE1EID0gJGjNj19hKV1dLFtcIkNoaVwiLFskaM2PX2EgPT4gKENoaSA9ICRozY9fYSldXSxbXCJNYWpcIixbJGjNj19hID0+IChNYWogPSAkaM2PX2EpXV1dXSxbXCIuL3V0aWxzLmpzXCIsIFtbXCJyb3RyXCIsWyRozY9fYSA9PiAocm90ciA9ICRozY9fYSldXSxbXCJ3cmFwQ29uc3RydWN0b3JcIixbJGjNj19hID0+ICh3cmFwQ29uc3RydWN0b3IgPSAkaM2PX2EpXV1dXV0pO1xuXG4vL1xuLy9cbi8vXG4vL1xuLy9cbmNvbnN0IFNIQTI1Nl9LID0gLyogICAgICAgICAgICovIG5ldyBVaW50MzJBcnJheShbXG4gICAgMHg0MjhhMmY5OCwgMHg3MTM3NDQ5MSwgMHhiNWMwZmJjZiwgMHhlOWI1ZGJhNSwgMHgzOTU2YzI1YiwgMHg1OWYxMTFmMSwgMHg5MjNmODJhNCwgMHhhYjFjNWVkNSxcbiAgICAweGQ4MDdhYTk4LCAweDEyODM1YjAxLCAweDI0MzE4NWJlLCAweDU1MGM3ZGMzLCAweDcyYmU1ZDc0LCAweDgwZGViMWZlLCAweDliZGMwNmE3LCAweGMxOWJmMTc0LFxuICAgIDB4ZTQ5YjY5YzEsIDB4ZWZiZTQ3ODYsIDB4MGZjMTlkYzYsIDB4MjQwY2ExY2MsIDB4MmRlOTJjNmYsIDB4NGE3NDg0YWEsIDB4NWNiMGE5ZGMsIDB4NzZmOTg4ZGEsXG4gICAgMHg5ODNlNTE1MiwgMHhhODMxYzY2ZCwgMHhiMDAzMjdjOCwgMHhiZjU5N2ZjNywgMHhjNmUwMGJmMywgMHhkNWE3OTE0NywgMHgwNmNhNjM1MSwgMHgxNDI5Mjk2NyxcbiAgICAweDI3YjcwYTg1LCAweDJlMWIyMTM4LCAweDRkMmM2ZGZjLCAweDUzMzgwZDEzLCAweDY1MGE3MzU0LCAweDc2NmEwYWJiLCAweDgxYzJjOTJlLCAweDkyNzIyYzg1LFxuICAgIDB4YTJiZmU4YTEsIDB4YTgxYTY2NGIsIDB4YzI0YjhiNzAsIDB4Yzc2YzUxYTMsIDB4ZDE5MmU4MTksIDB4ZDY5OTA2MjQsIDB4ZjQwZTM1ODUsIDB4MTA2YWEwNzAsXG4gICAgMHgxOWE0YzExNiwgMHgxZTM3NmMwOCwgMHgyNzQ4Nzc0YywgMHgzNGIwYmNiNSwgMHgzOTFjMGNiMywgMHg0ZWQ4YWE0YSwgMHg1YjljY2E0ZiwgMHg2ODJlNmZmMyxcbiAgICAweDc0OGY4MmVlLCAweDc4YTU2MzZmLCAweDg0Yzg3ODE0LCAweDhjYzcwMjA4LCAweDkwYmVmZmZhLCAweGE0NTA2Y2ViLCAweGJlZjlhM2Y3LCAweGM2NzE3OGYyXG5dKTtcbi8vXG4vL1xuLy9cbmNvbnN0IFNIQTI1Nl9JViA9IC8qICAgICAgICAgICAqLyBuZXcgVWludDMyQXJyYXkoW1xuICAgIDB4NmEwOWU2NjcsIDB4YmI2N2FlODUsIDB4M2M2ZWYzNzIsIDB4YTU0ZmY1M2EsIDB4NTEwZTUyN2YsIDB4OWIwNTY4OGMsIDB4MWY4M2Q5YWIsIDB4NWJlMGNkMTlcbl0pO1xuLy9cbi8vXG5jb25zdCBTSEEyNTZfVyA9IC8qICAgICAgICAgICAqLyBuZXcgVWludDMyQXJyYXkoNjQpO1xuICAgICAgIGNsYXNzIFNIQTI1NiBleHRlbmRzIEhhc2hNRCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKDY0LCAzMiwgOCwgZmFsc2UpO1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICB0aGlzLkEgPSBTSEEyNTZfSVZbMF0gfCAwO1xuICAgICAgICB0aGlzLkIgPSBTSEEyNTZfSVZbMV0gfCAwO1xuICAgICAgICB0aGlzLkMgPSBTSEEyNTZfSVZbMl0gfCAwO1xuICAgICAgICB0aGlzLkQgPSBTSEEyNTZfSVZbM10gfCAwO1xuICAgICAgICB0aGlzLkUgPSBTSEEyNTZfSVZbNF0gfCAwO1xuICAgICAgICB0aGlzLkYgPSBTSEEyNTZfSVZbNV0gfCAwO1xuICAgICAgICB0aGlzLkcgPSBTSEEyNTZfSVZbNl0gfCAwO1xuICAgICAgICB0aGlzLkggPSBTSEEyNTZfSVZbN10gfCAwO1xuICAgIH1cbiAgICBnZXQoKSB7XG4gICAgICAgIGNvbnN0IHsgQSwgQiwgQywgRCwgRSwgRiwgRywgSCB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIFtBLCBCLCBDLCBELCBFLCBGLCBHLCBIXTtcbiAgICB9XG4gICAgLy9cbiAgICBzZXQoQSwgQiwgQywgRCwgRSwgRiwgRywgSCkge1xuICAgICAgICB0aGlzLkEgPSBBIHwgMDtcbiAgICAgICAgdGhpcy5CID0gQiB8IDA7XG4gICAgICAgIHRoaXMuQyA9IEMgfCAwO1xuICAgICAgICB0aGlzLkQgPSBEIHwgMDtcbiAgICAgICAgdGhpcy5FID0gRSB8IDA7XG4gICAgICAgIHRoaXMuRiA9IEYgfCAwO1xuICAgICAgICB0aGlzLkcgPSBHIHwgMDtcbiAgICAgICAgdGhpcy5IID0gSCB8IDA7XG4gICAgfVxuICAgIHByb2Nlc3Modmlldywgb2Zmc2V0KSB7XG4gICAgICAgIC8vXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKywgb2Zmc2V0ICs9IDQpXG4gICAgICAgICAgICBTSEEyNTZfV1tpXSA9IHZpZXcuZ2V0VWludDMyKG9mZnNldCwgZmFsc2UpO1xuICAgICAgICBmb3IgKGxldCBpID0gMTY7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBXMTUgPSBTSEEyNTZfV1tpIC0gMTVdO1xuICAgICAgICAgICAgY29uc3QgVzIgPSBTSEEyNTZfV1tpIC0gMl07XG4gICAgICAgICAgICBjb25zdCBzMCA9IHJvdHIoVzE1LCA3KSBeIHJvdHIoVzE1LCAxOCkgXiAoVzE1ID4+PiAzKTtcbiAgICAgICAgICAgIGNvbnN0IHMxID0gcm90cihXMiwgMTcpIF4gcm90cihXMiwgMTkpIF4gKFcyID4+PiAxMCk7XG4gICAgICAgICAgICBTSEEyNTZfV1tpXSA9IChzMSArIFNIQTI1Nl9XW2kgLSA3XSArIHMwICsgU0hBMjU2X1dbaSAtIDE2XSkgfCAwO1xuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgIGxldCB7IEEsIEIsIEMsIEQsIEUsIEYsIEcsIEggfSA9IHRoaXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2lnbWExID0gcm90cihFLCA2KSBeIHJvdHIoRSwgMTEpIF4gcm90cihFLCAyNSk7XG4gICAgICAgICAgICBjb25zdCBUMSA9IChIICsgc2lnbWExICsgQ2hpKEUsIEYsIEcpICsgU0hBMjU2X0tbaV0gKyBTSEEyNTZfV1tpXSkgfCAwO1xuICAgICAgICAgICAgY29uc3Qgc2lnbWEwID0gcm90cihBLCAyKSBeIHJvdHIoQSwgMTMpIF4gcm90cihBLCAyMik7XG4gICAgICAgICAgICBjb25zdCBUMiA9IChzaWdtYTAgKyBNYWooQSwgQiwgQykpIHwgMDtcbiAgICAgICAgICAgIEggPSBHO1xuICAgICAgICAgICAgRyA9IEY7XG4gICAgICAgICAgICBGID0gRTtcbiAgICAgICAgICAgIEUgPSAoRCArIFQxKSB8IDA7XG4gICAgICAgICAgICBEID0gQztcbiAgICAgICAgICAgIEMgPSBCO1xuICAgICAgICAgICAgQiA9IEE7XG4gICAgICAgICAgICBBID0gKFQxICsgVDIpIHwgMDtcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICBBID0gKEEgKyB0aGlzLkEpIHwgMDtcbiAgICAgICAgQiA9IChCICsgdGhpcy5CKSB8IDA7XG4gICAgICAgIEMgPSAoQyArIHRoaXMuQykgfCAwO1xuICAgICAgICBEID0gKEQgKyB0aGlzLkQpIHwgMDtcbiAgICAgICAgRSA9IChFICsgdGhpcy5FKSB8IDA7XG4gICAgICAgIEYgPSAoRiArIHRoaXMuRikgfCAwO1xuICAgICAgICBHID0gKEcgKyB0aGlzLkcpIHwgMDtcbiAgICAgICAgSCA9IChIICsgdGhpcy5IKSB8IDA7XG4gICAgICAgIHRoaXMuc2V0KEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgpO1xuICAgIH1cbiAgICByb3VuZENsZWFuKCkge1xuICAgICAgICBTSEEyNTZfVy5maWxsKDApO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNldCgwLCAwLCAwLCAwLCAwLCAwLCAwLCAwKTtcbiAgICAgICAgdGhpcy5idWZmZXIuZmlsbCgwKTtcbiAgICB9XG59XG4vL1xuJGjNj19vbmNlLiAgICBTSEEyNTYoU0hBMjU2KTtjbGFzcyBTSEEyMjQgZXh0ZW5kcyBTSEEyNTZ7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQSA9IDB4YzEwNTllZDggfCAwO1xuICAgICAgICB0aGlzLkIgPSAweDM2N2NkNTA3IHwgMDtcbiAgICAgICAgdGhpcy5DID0gMHgzMDcwZGQxNyB8IDA7XG4gICAgICAgIHRoaXMuRCA9IDB4ZjcwZTU5MzkgfCAwO1xuICAgICAgICB0aGlzLkUgPSAweGZmYzAwYjMxIHwgMDtcbiAgICAgICAgdGhpcy5GID0gMHg2ODU4MTUxMSB8IDA7XG4gICAgICAgIHRoaXMuRyA9IDB4NjRmOThmYTcgfCAwO1xuICAgICAgICB0aGlzLkggPSAweGJlZmE0ZmE0IHwgMDtcbiAgICAgICAgdGhpcy5vdXRwdXRMZW4gPSAyODtcbiAgICB9XG59XG4vKlxuXG5cbiAqL1xuICAgICAgIGNvbnN0IHNoYTI1NiA9IC8qICAgICAgICAgICAqLyB3cmFwQ29uc3RydWN0b3IoKCkgPT4gbmV3IFNIQTI1NigpKTtcbi8qXG5cbiAqLyRozY9fb25jZS5zaGEyNTYoc2hhMjU2KTtcbiAgICAgICBjb25zdCBzaGEyMjQgPSAvKiAgICAgICAgICAgKi8gd3JhcENvbnN0cnVjdG9yKCgpID0+IG5ldyBTSEEyMjQoKSk7XG4vL1xuJGjNj19vbmNlLnNoYTIyNChzaGEyMjQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiU0hBMjU2IjpbIlNIQTI1NiJdLCJzaGEyNTYiOlsic2hhMjU2Il0sInNoYTIyNCI6WyJzaGEyMjQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAxOyKbr0gAAC9IAAAIQAAAEBub2JsZS9oYXNoZXMtdjEuNS4wL2VzbS91dGlscy5qc3siaW1wb3J0cyI6WyJAbm9ibGUvaGFzaGVzL2NyeXB0byIsIi4vX2Fzc2VydC5qcyJdLCJleHBvcnRzIjpbIkhhc2giLCJhc3luY0xvb3AiLCJieXRlU3dhcCIsImJ5dGVTd2FwMzIiLCJieXRlU3dhcElmQkUiLCJieXRlc1RvSGV4IiwiY2hlY2tPcHRzIiwiY29uY2F0Qnl0ZXMiLCJjcmVhdGVWaWV3IiwiaGV4VG9CeXRlcyIsImlzQnl0ZXMiLCJpc0xFIiwibmV4dFRpY2siLCJyYW5kb21CeXRlcyIsInJvdGwiLCJyb3RyIiwidG9CeXRlcyIsInUzMiIsInU4IiwidXRmOFRvQnl0ZXMiLCJ3cmFwQ29uc3RydWN0b3IiLCJ3cmFwQ29uc3RydWN0b3JXaXRoT3B0cyIsIndyYXBYT0ZDb25zdHJ1Y3RvcldpdGhPcHRzIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgY3J5cHRvLGFieXRlczskaM2PX2ltcG9ydHMoW1tcIkBub2JsZS9oYXNoZXMvY3J5cHRvXCIsIFtbXCJjcnlwdG9cIixbJGjNj19hID0+IChjcnlwdG8gPSAkaM2PX2EpXV1dXSxbXCIuL19hc3NlcnQuanNcIiwgW1tcImJ5dGVzXCIsWyRozY9fYSA9PiAoYWJ5dGVzID0gJGjNj19hKV1dXV1dKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaXNCeXRlcywnbmFtZScse3ZhbHVlOlwiaXNCeXRlc1wifSk7JGjNj19vbmNlLmlzQnl0ZXMoaXNCeXRlcyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGJ5dGVTd2FwMzIsJ25hbWUnLHt2YWx1ZTpcImJ5dGVTd2FwMzJcIn0pOyRozY9fb25jZS5ieXRlU3dhcDMyKGJ5dGVTd2FwMzIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShieXRlc1RvSGV4LCduYW1lJyx7dmFsdWU6XCJieXRlc1RvSGV4XCJ9KTskaM2PX29uY2UuYnl0ZXNUb0hleChieXRlc1RvSGV4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaGV4VG9CeXRlcywnbmFtZScse3ZhbHVlOlwiaGV4VG9CeXRlc1wifSk7JGjNj19vbmNlLmhleFRvQnl0ZXMoaGV4VG9CeXRlcyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGFzeW5jTG9vcCwnbmFtZScse3ZhbHVlOlwiYXN5bmNMb29wXCJ9KTskaM2PX29uY2UuYXN5bmNMb29wKGFzeW5jTG9vcCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHV0ZjhUb0J5dGVzLCduYW1lJyx7dmFsdWU6XCJ1dGY4VG9CeXRlc1wifSk7JGjNj19vbmNlLnV0ZjhUb0J5dGVzKHV0ZjhUb0J5dGVzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodG9CeXRlcywnbmFtZScse3ZhbHVlOlwidG9CeXRlc1wifSk7JGjNj19vbmNlLnRvQnl0ZXModG9CeXRlcyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbmNhdEJ5dGVzLCduYW1lJyx7dmFsdWU6XCJjb25jYXRCeXRlc1wifSk7JGjNj19vbmNlLmNvbmNhdEJ5dGVzKGNvbmNhdEJ5dGVzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hlY2tPcHRzLCduYW1lJyx7dmFsdWU6XCJjaGVja09wdHNcIn0pOyRozY9fb25jZS5jaGVja09wdHMoY2hlY2tPcHRzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkod3JhcENvbnN0cnVjdG9yLCduYW1lJyx7dmFsdWU6XCJ3cmFwQ29uc3RydWN0b3JcIn0pOyRozY9fb25jZS53cmFwQ29uc3RydWN0b3Iod3JhcENvbnN0cnVjdG9yKTtPYmplY3QuZGVmaW5lUHJvcGVydHkod3JhcENvbnN0cnVjdG9yV2l0aE9wdHMsJ25hbWUnLHt2YWx1ZTpcIndyYXBDb25zdHJ1Y3RvcldpdGhPcHRzXCJ9KTskaM2PX29uY2Uud3JhcENvbnN0cnVjdG9yV2l0aE9wdHMod3JhcENvbnN0cnVjdG9yV2l0aE9wdHMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cywnbmFtZScse3ZhbHVlOlwid3JhcFhPRkNvbnN0cnVjdG9yV2l0aE9wdHNcIn0pOyRozY9fb25jZS53cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cyh3cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHJhbmRvbUJ5dGVzLCduYW1lJyx7dmFsdWU6XCJyYW5kb21CeXRlc1wifSk7JGjNj19vbmNlLnJhbmRvbUJ5dGVzKHJhbmRvbUJ5dGVzKTtcblxuXG5cblxuXG5cblxuXG4vL1xuLy9cbiAgICAgICBmdW5jdGlvbiBpc0J5dGVzKGEpIHtcbiAgICByZXR1cm4gKGEgaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8XG4gICAgICAgIChhICE9IG51bGwgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnICYmIGEuY29uc3RydWN0b3IubmFtZSA9PT0gJ1VpbnQ4QXJyYXknKSk7XG59XG4vL1xuICAgICAgIGNvbnN0IHU4ID0gKGFycikgPT4gbmV3IFVpbnQ4QXJyYXkoYXJyLmJ1ZmZlciwgYXJyLmJ5dGVPZmZzZXQsIGFyci5ieXRlTGVuZ3RoKTskaM2PX29uY2UudTgodTgpO1xuICAgICAgIGNvbnN0IHUzMiA9IChhcnIpID0+IG5ldyBVaW50MzJBcnJheShhcnIuYnVmZmVyLCBhcnIuYnl0ZU9mZnNldCwgTWF0aC5mbG9vcihhcnIuYnl0ZUxlbmd0aCAvIDQpKTtcbi8vXG4kaM2PX29uY2UudTMyKHUzMik7Y29uc3QgY3JlYXRlVmlldz0oYXJyKT0+bmV3IERhdGFWaWV3KGFyci5idWZmZXIsYXJyLmJ5dGVPZmZzZXQsYXJyLmJ5dGVMZW5ndGgpO1xuLy9cbiRozY9fb25jZS5jcmVhdGVWaWV3KGNyZWF0ZVZpZXcpO2NvbnN0IHJvdHI9KHdvcmQsc2hpZnQpPT4od29yZDw8KDMyLXNoaWZ0KSl8KHdvcmQ+Pj5zaGlmdCk7XG4vL1xuJGjNj19vbmNlLnJvdHIocm90cik7Y29uc3Qgcm90bD0od29yZCxzaGlmdCk9Pih3b3JkPDxzaGlmdCl8KCh3b3JkPj4+KDMyLXNoaWZ0KSkgPj4+IDApOyRozY9fb25jZS5yb3RsKHJvdGwpO1xuICAgICAgIGNvbnN0IGlzTEUgPSBuZXcgVWludDhBcnJheShuZXcgVWludDMyQXJyYXkoWzB4MTEyMjMzNDRdKS5idWZmZXIpWzBdID09PSAweDQ0O1xuLy9cbiRozY9fb25jZS5pc0xFKGlzTEUpO2NvbnN0IGJ5dGVTd2FwPSh3b3JkKT0+KCh3b3JkPDwyNCkmMHhmZjAwMDAwMCl8XG4gICAgKCh3b3JkIDw8IDgpICYgMHhmZjAwMDApIHxcbiAgICAoKHdvcmQgPj4+IDgpICYgMHhmZjAwKSB8XG4gICAgKCh3b3JkID4+PiAyNCkgJiAweGZmKTtcbi8vXG4kaM2PX29uY2UuYnl0ZVN3YXAoYnl0ZVN3YXApO2NvbnN0IGJ5dGVTd2FwSWZCRT1pc0xFPyhuKT0+bjoobik9PmJ5dGVTd2FwKG4pO1xuLy9cbiRozY9fb25jZS5ieXRlU3dhcElmQkUoYnl0ZVN3YXBJZkJFKTtmdW5jdGlvbiBieXRlU3dhcDMyKGFycil7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyW2ldID0gYnl0ZVN3YXAoYXJyW2ldKTtcbiAgICB9XG59XG4vL1xuY29uc3QgaGV4ZXMgPSAvKiAgICAgICAgICAgKi8gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjU2IH0sIChfLCBpKSA9PiBpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKTtcbi8qXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIGJ5dGVzVG9IZXgoYnl0ZXMpIHtcbiAgICBhYnl0ZXMoYnl0ZXMpO1xuICAgIC8vXG4gICAgbGV0IGhleCA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaGV4ICs9IGhleGVzW2J5dGVzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIGhleDtcbn1cbi8vXG5jb25zdCBhc2NpaXMgPSB7IF8wOiA0OCwgXzk6IDU3LCBfQTogNjUsIF9GOiA3MCwgX2E6IDk3LCBfZjogMTAyIH07XG5mdW5jdGlvbiBhc2NpaVRvQmFzZTE2KGNoYXIpIHtcbiAgICBpZiAoY2hhciA+PSBhc2NpaXMuXzAgJiYgY2hhciA8PSBhc2NpaXMuXzkpXG4gICAgICAgIHJldHVybiBjaGFyIC0gYXNjaWlzLl8wO1xuICAgIGlmIChjaGFyID49IGFzY2lpcy5fQSAmJiBjaGFyIDw9IGFzY2lpcy5fRilcbiAgICAgICAgcmV0dXJuIGNoYXIgLSAoYXNjaWlzLl9BIC0gMTApO1xuICAgIGlmIChjaGFyID49IGFzY2lpcy5fYSAmJiBjaGFyIDw9IGFzY2lpcy5fZilcbiAgICAgICAgcmV0dXJuIGNoYXIgLSAoYXNjaWlzLl9hIC0gMTApO1xuICAgIHJldHVybjtcbn1cbi8qXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIGhleFRvQnl0ZXMoaGV4KSB7XG4gICAgaWYgKHR5cGVvZiBoZXggIT09ICdzdHJpbmcnKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCAnICsgdHlwZW9mIGhleCk7XG4gICAgY29uc3QgaGwgPSBoZXgubGVuZ3RoO1xuICAgIGNvbnN0IGFsID0gaGwgLyAyO1xuICAgIGlmIChobCAlIDIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigncGFkZGVkIGhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCB1bnBhZGRlZCBoZXggb2YgbGVuZ3RoICcgKyBobCk7XG4gICAgY29uc3QgYXJyYXkgPSBuZXcgVWludDhBcnJheShhbCk7XG4gICAgZm9yIChsZXQgYWkgPSAwLCBoaSA9IDA7IGFpIDwgYWw7IGFpKyssIGhpICs9IDIpIHtcbiAgICAgICAgY29uc3QgbjEgPSBhc2NpaVRvQmFzZTE2KGhleC5jaGFyQ29kZUF0KGhpKSk7XG4gICAgICAgIGNvbnN0IG4yID0gYXNjaWlUb0Jhc2UxNihoZXguY2hhckNvZGVBdChoaSArIDEpKTtcbiAgICAgICAgaWYgKG4xID09PSB1bmRlZmluZWQgfHwgbjIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY2hhciA9IGhleFtoaV0gKyBoZXhbaGkgKyAxXTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IG5vbi1oZXggY2hhcmFjdGVyIFwiJyArIGNoYXIgKyAnXCIgYXQgaW5kZXggJyArIGhpKTtcbiAgICAgICAgfVxuICAgICAgICBhcnJheVthaV0gPSBuMSAqIDE2ICsgbjI7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbi8vXG4vL1xuLy9cbiAgICAgICBjb25zdCBuZXh0VGljayA9IGFzeW5jICgpID0+IHsgfTtcbi8vXG4kaM2PX29uY2UubmV4dFRpY2sobmV4dFRpY2spO2FzeW5jIGZ1bmN0aW9uIGFzeW5jTG9vcChpdGVycyx0aWNrLGNiKXtcbiAgICBsZXQgdHMgPSBEYXRlLm5vdygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcnM7IGkrKykge1xuICAgICAgICBjYihpKTtcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgZGlmZiA9IERhdGUubm93KCkgLSB0cztcbiAgICAgICAgaWYgKGRpZmYgPj0gMCAmJiBkaWZmIDwgdGljaylcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBhd2FpdCBuZXh0VGljaygpO1xuICAgICAgICB0cyArPSBkaWZmO1xuICAgIH1cbn1cbi8qXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIHV0ZjhUb0J5dGVzKHN0cikge1xuICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1dGY4VG9CeXRlcyBleHBlY3RlZCBzdHJpbmcsIGdvdCAke3R5cGVvZiBzdHJ9YCk7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHIpKTsgLy9cbn1cbi8qXG5cblxuXG4gKi9cbiAgICAgICBmdW5jdGlvbiB0b0J5dGVzKGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKVxuICAgICAgICBkYXRhID0gdXRmOFRvQnl0ZXMoZGF0YSk7XG4gICAgYWJ5dGVzKGRhdGEpO1xuICAgIHJldHVybiBkYXRhO1xufVxuLypcblxuICovXG4gICAgICAgZnVuY3Rpb24gY29uY2F0Qnl0ZXMoLi4uYXJyYXlzKSB7XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYSA9IGFycmF5c1tpXTtcbiAgICAgICAgYWJ5dGVzKGEpO1xuICAgICAgICBzdW0gKz0gYS5sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IG5ldyBVaW50OEFycmF5KHN1bSk7XG4gICAgZm9yIChsZXQgaSA9IDAsIHBhZCA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYSA9IGFycmF5c1tpXTtcbiAgICAgICAgcmVzLnNldChhLCBwYWQpO1xuICAgICAgICBwYWQgKz0gYS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vL1xuICAgICAgIGNsYXNzIEhhc2gge1xuICAgIC8vXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9uZUludG8oKTtcbiAgICB9XG59JGjNj19vbmNlLiAgIEhhc2goSGFzaCk7XG5jb25zdCB0b1N0ciA9IHt9LnRvU3RyaW5nO1xuICAgICAgIGZ1bmN0aW9uIGNoZWNrT3B0cyhkZWZhdWx0cywgb3B0cykge1xuICAgIGlmIChvcHRzICE9PSB1bmRlZmluZWQgJiYgdG9TdHIuY2FsbChvcHRzKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3B0aW9ucyBzaG91bGQgYmUgb2JqZWN0IG9yIHVuZGVmaW5lZCcpO1xuICAgIGNvbnN0IG1lcmdlZCA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdHMsIG9wdHMpO1xuICAgIHJldHVybiBtZXJnZWQ7XG59XG4gICAgICAgZnVuY3Rpb24gd3JhcENvbnN0cnVjdG9yKGhhc2hDb25zKSB7XG4gICAgY29uc3QgaGFzaEMgPSAobXNnKSA9PiBoYXNoQ29ucygpLnVwZGF0ZSh0b0J5dGVzKG1zZykpLmRpZ2VzdCgpO1xuICAgIGNvbnN0IHRtcCA9IGhhc2hDb25zKCk7XG4gICAgaGFzaEMub3V0cHV0TGVuID0gdG1wLm91dHB1dExlbjtcbiAgICBoYXNoQy5ibG9ja0xlbiA9IHRtcC5ibG9ja0xlbjtcbiAgICBoYXNoQy5jcmVhdGUgPSAoKSA9PiBoYXNoQ29ucygpO1xuICAgIHJldHVybiBoYXNoQztcbn1cbiAgICAgICBmdW5jdGlvbiB3cmFwQ29uc3RydWN0b3JXaXRoT3B0cyhoYXNoQ29ucykge1xuICAgIGNvbnN0IGhhc2hDID0gKG1zZywgb3B0cykgPT4gaGFzaENvbnMob3B0cykudXBkYXRlKHRvQnl0ZXMobXNnKSkuZGlnZXN0KCk7XG4gICAgY29uc3QgdG1wID0gaGFzaENvbnMoe30pO1xuICAgIGhhc2hDLm91dHB1dExlbiA9IHRtcC5vdXRwdXRMZW47XG4gICAgaGFzaEMuYmxvY2tMZW4gPSB0bXAuYmxvY2tMZW47XG4gICAgaGFzaEMuY3JlYXRlID0gKG9wdHMpID0+IGhhc2hDb25zKG9wdHMpO1xuICAgIHJldHVybiBoYXNoQztcbn1cbiAgICAgICBmdW5jdGlvbiB3cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cyhoYXNoQ29ucykge1xuICAgIGNvbnN0IGhhc2hDID0gKG1zZywgb3B0cykgPT4gaGFzaENvbnMob3B0cykudXBkYXRlKHRvQnl0ZXMobXNnKSkuZGlnZXN0KCk7XG4gICAgY29uc3QgdG1wID0gaGFzaENvbnMoe30pO1xuICAgIGhhc2hDLm91dHB1dExlbiA9IHRtcC5vdXRwdXRMZW47XG4gICAgaGFzaEMuYmxvY2tMZW4gPSB0bXAuYmxvY2tMZW47XG4gICAgaGFzaEMuY3JlYXRlID0gKG9wdHMpID0+IGhhc2hDb25zKG9wdHMpO1xuICAgIHJldHVybiBoYXNoQztcbn1cbi8qXG5cbiAqL1xuICAgICAgIGZ1bmN0aW9uIHJhbmRvbUJ5dGVzKGJ5dGVzTGVuZ3RoID0gMzIpIHtcbiAgICBpZiAoY3J5cHRvICYmIHR5cGVvZiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KGJ5dGVzTGVuZ3RoKSk7XG4gICAgfVxuICAgIC8vXG4gICAgaWYgKGNyeXB0byAmJiB0eXBlb2YgY3J5cHRvLnJhbmRvbUJ5dGVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoYnl0ZXNMZW5ndGgpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMgbXVzdCBiZSBkZWZpbmVkJyk7XG59XG4vL1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiaXNCeXRlcyI6WyJpc0J5dGVzIl0sInU4IjpbInU4Il0sInUzMiI6WyJ1MzIiXSwiY3JlYXRlVmlldyI6WyJjcmVhdGVWaWV3Il0sInJvdHIiOlsicm90ciJdLCJyb3RsIjpbInJvdGwiXSwiaXNMRSI6WyJpc0xFIl0sImJ5dGVTd2FwIjpbImJ5dGVTd2FwIl0sImJ5dGVTd2FwSWZCRSI6WyJieXRlU3dhcElmQkUiXSwiYnl0ZVN3YXAzMiI6WyJieXRlU3dhcDMyIl0sImJ5dGVzVG9IZXgiOlsiYnl0ZXNUb0hleCJdLCJoZXhUb0J5dGVzIjpbImhleFRvQnl0ZXMiXSwibmV4dFRpY2siOlsibmV4dFRpY2siXSwiYXN5bmNMb29wIjpbImFzeW5jTG9vcCJdLCJ1dGY4VG9CeXRlcyI6WyJ1dGY4VG9CeXRlcyJdLCJ0b0J5dGVzIjpbInRvQnl0ZXMiXSwiY29uY2F0Qnl0ZXMiOlsiY29uY2F0Qnl0ZXMiXSwiSGFzaCI6WyJIYXNoIl0sImNoZWNrT3B0cyI6WyJjaGVja09wdHMiXSwid3JhcENvbnN0cnVjdG9yIjpbIndyYXBDb25zdHJ1Y3RvciJdLCJ3cmFwQ29uc3RydWN0b3JXaXRoT3B0cyI6WyJ3cmFwQ29uc3RydWN0b3JXaXRoT3B0cyJdLCJ3cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cyI6WyJ3cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cyJdLCJyYW5kb21CeXRlcyI6WyJyYW5kb21CeXRlcyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAB066pteQ8AAHkPAAAeAAAAYmFzZS14LXY1LjAuMS9zcmMvZXNtL2luZGV4LmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJkZWZhdWx0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8vXG4vL1xuLy9cbi8vXG4vL1xuZnVuY3Rpb24gYmFzZSAoQUxQSEFCRVQpIHtcbiAgaWYgKEFMUEhBQkVULmxlbmd0aCA+PSAyNTUpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxwaGFiZXQgdG9vIGxvbmcnKSB9XG4gIGNvbnN0IEJBU0VfTUFQID0gbmV3IFVpbnQ4QXJyYXkoMjU2KVxuICBmb3IgKGxldCBqID0gMDsgaiA8IEJBU0VfTUFQLmxlbmd0aDsgaisrKSB7XG4gICAgQkFTRV9NQVBbal0gPSAyNTVcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IEFMUEhBQkVULmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgeCA9IEFMUEhBQkVULmNoYXJBdChpKVxuICAgIGNvbnN0IHhjID0geC5jaGFyQ29kZUF0KDApXG4gICAgaWYgKEJBU0VfTUFQW3hjXSAhPT0gMjU1KSB7IHRocm93IG5ldyBUeXBlRXJyb3IoeCArICcgaXMgYW1iaWd1b3VzJykgfVxuICAgIEJBU0VfTUFQW3hjXSA9IGlcbiAgfVxuICBjb25zdCBCQVNFID0gQUxQSEFCRVQubGVuZ3RoXG4gIGNvbnN0IExFQURFUiA9IEFMUEhBQkVULmNoYXJBdCgwKVxuICBjb25zdCBGQUNUT1IgPSBNYXRoLmxvZyhCQVNFKSAvIE1hdGgubG9nKDI1NikgLy9cbiAgY29uc3QgaUZBQ1RPUiA9IE1hdGgubG9nKDI1NikgLyBNYXRoLmxvZyhCQVNFKSAvL1xuICBmdW5jdGlvbiBlbmNvZGUgKHNvdXJjZSkge1xuICAgIC8vXG4gICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHsgfSBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoc291cmNlKSkge1xuICAgICAgc291cmNlID0gbmV3IFVpbnQ4QXJyYXkoc291cmNlLmJ1ZmZlciwgc291cmNlLmJ5dGVPZmZzZXQsIHNvdXJjZS5ieXRlTGVuZ3RoKVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICBzb3VyY2UgPSBVaW50OEFycmF5LmZyb20oc291cmNlKVxuICAgIH1cbiAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBVaW50OEFycmF5JykgfVxuICAgIGlmIChzb3VyY2UubGVuZ3RoID09PSAwKSB7IHJldHVybiAnJyB9XG4gICAgLy9cbiAgICBsZXQgemVyb2VzID0gMFxuICAgIGxldCBsZW5ndGggPSAwXG4gICAgbGV0IHBiZWdpbiA9IDBcbiAgICBjb25zdCBwZW5kID0gc291cmNlLmxlbmd0aFxuICAgIHdoaWxlIChwYmVnaW4gIT09IHBlbmQgJiYgc291cmNlW3BiZWdpbl0gPT09IDApIHtcbiAgICAgIHBiZWdpbisrXG4gICAgICB6ZXJvZXMrK1xuICAgIH1cbiAgICAvL1xuICAgIGNvbnN0IHNpemUgPSAoKHBlbmQgLSBwYmVnaW4pICogaUZBQ1RPUiArIDEpID4+PiAwXG4gICAgY29uc3QgYjU4ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSlcbiAgICAvL1xuICAgIHdoaWxlIChwYmVnaW4gIT09IHBlbmQpIHtcbiAgICAgIGxldCBjYXJyeSA9IHNvdXJjZVtwYmVnaW5dXG4gICAgICAvL1xuICAgICAgbGV0IGkgPSAwXG4gICAgICBmb3IgKGxldCBpdDEgPSBzaXplIC0gMTsgKGNhcnJ5ICE9PSAwIHx8IGkgPCBsZW5ndGgpICYmIChpdDEgIT09IC0xKTsgaXQxLS0sIGkrKykge1xuICAgICAgICBjYXJyeSArPSAoMjU2ICogYjU4W2l0MV0pID4+PiAwXG4gICAgICAgIGI1OFtpdDFdID0gKGNhcnJ5ICUgQkFTRSkgPj4+IDBcbiAgICAgICAgY2FycnkgPSAoY2FycnkgLyBCQVNFKSA+Pj4gMFxuICAgICAgfVxuICAgICAgaWYgKGNhcnJ5ICE9PSAwKSB7IHRocm93IG5ldyBFcnJvcignTm9uLXplcm8gY2FycnknKSB9XG4gICAgICBsZW5ndGggPSBpXG4gICAgICBwYmVnaW4rK1xuICAgIH1cbiAgICAvL1xuICAgIGxldCBpdDIgPSBzaXplIC0gbGVuZ3RoXG4gICAgd2hpbGUgKGl0MiAhPT0gc2l6ZSAmJiBiNThbaXQyXSA9PT0gMCkge1xuICAgICAgaXQyKytcbiAgICB9XG4gICAgLy9cbiAgICBsZXQgc3RyID0gTEVBREVSLnJlcGVhdCh6ZXJvZXMpXG4gICAgZm9yICg7IGl0MiA8IHNpemU7ICsraXQyKSB7IHN0ciArPSBBTFBIQUJFVC5jaGFyQXQoYjU4W2l0Ml0pIH1cbiAgICByZXR1cm4gc3RyXG4gIH1cbiAgZnVuY3Rpb24gZGVjb2RlVW5zYWZlIChzb3VyY2UpIHtcbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ3N0cmluZycpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgU3RyaW5nJykgfVxuICAgIGlmIChzb3VyY2UubGVuZ3RoID09PSAwKSB7IHJldHVybiBuZXcgVWludDhBcnJheSgpIH1cbiAgICBsZXQgcHN6ID0gMFxuICAgIC8vXG4gICAgbGV0IHplcm9lcyA9IDBcbiAgICBsZXQgbGVuZ3RoID0gMFxuICAgIHdoaWxlIChzb3VyY2VbcHN6XSA9PT0gTEVBREVSKSB7XG4gICAgICB6ZXJvZXMrK1xuICAgICAgcHN6KytcbiAgICB9XG4gICAgLy9cbiAgICBjb25zdCBzaXplID0gKCgoc291cmNlLmxlbmd0aCAtIHBzeikgKiBGQUNUT1IpICsgMSkgPj4+IDAgLy9cbiAgICBjb25zdCBiMjU2ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSlcbiAgICAvL1xuICAgIHdoaWxlIChwc3ogPCBzb3VyY2UubGVuZ3RoKSB7XG4gICAgICAvL1xuICAgICAgY29uc3QgY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdChwc3opXG4gICAgICAvL1xuICAgICAgaWYgKGNoYXJDb2RlID4gMjU1KSB7IHJldHVybiB9XG4gICAgICAvL1xuICAgICAgbGV0IGNhcnJ5ID0gQkFTRV9NQVBbY2hhckNvZGVdXG4gICAgICAvL1xuICAgICAgaWYgKGNhcnJ5ID09PSAyNTUpIHsgcmV0dXJuIH1cbiAgICAgIGxldCBpID0gMFxuICAgICAgZm9yIChsZXQgaXQzID0gc2l6ZSAtIDE7IChjYXJyeSAhPT0gMCB8fCBpIDwgbGVuZ3RoKSAmJiAoaXQzICE9PSAtMSk7IGl0My0tLCBpKyspIHtcbiAgICAgICAgY2FycnkgKz0gKEJBU0UgKiBiMjU2W2l0M10pID4+PiAwXG4gICAgICAgIGIyNTZbaXQzXSA9IChjYXJyeSAlIDI1NikgPj4+IDBcbiAgICAgICAgY2FycnkgPSAoY2FycnkgLyAyNTYpID4+PiAwXG4gICAgICB9XG4gICAgICBpZiAoY2FycnkgIT09IDApIHsgdGhyb3cgbmV3IEVycm9yKCdOb24temVybyBjYXJyeScpIH1cbiAgICAgIGxlbmd0aCA9IGlcbiAgICAgIHBzeisrXG4gICAgfVxuICAgIC8vXG4gICAgbGV0IGl0NCA9IHNpemUgLSBsZW5ndGhcbiAgICB3aGlsZSAoaXQ0ICE9PSBzaXplICYmIGIyNTZbaXQ0XSA9PT0gMCkge1xuICAgICAgaXQ0KytcbiAgICB9XG4gICAgY29uc3QgdmNoID0gbmV3IFVpbnQ4QXJyYXkoemVyb2VzICsgKHNpemUgLSBpdDQpKVxuICAgIGxldCBqID0gemVyb2VzXG4gICAgd2hpbGUgKGl0NCAhPT0gc2l6ZSkge1xuICAgICAgdmNoW2orK10gPSBiMjU2W2l0NCsrXVxuICAgIH1cbiAgICByZXR1cm4gdmNoXG4gIH1cbiAgZnVuY3Rpb24gZGVjb2RlIChzdHJpbmcpIHtcbiAgICBjb25zdCBidWZmZXIgPSBkZWNvZGVVbnNhZmUoc3RyaW5nKVxuICAgIGlmIChidWZmZXIpIHsgcmV0dXJuIGJ1ZmZlciB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb24tYmFzZScgKyBCQVNFICsgJyBjaGFyYWN0ZXInKVxuICB9XG4gIHJldHVybiB7XG4gICAgZW5jb2RlLFxuICAgIGRlY29kZVVuc2FmZSxcbiAgICBkZWNvZGVcbiAgfVxufVxuY29uc3R7ZGVmYXVsdDokY82PX2RlZmF1bHR9PXtkZWZhdWx0OmJhc2V9OyRozY9fb25jZS5kZWZhdWx0KCRjzY9fZGVmYXVsdCk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJkZWZhdWx0IjpbImRlZmF1bHQiXX0sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAAS6e4ZIQOAACEDgAAGQAAAGJhc2U2NC1qcy12MS41LjEvaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImJ5dGVMZW5ndGgiLCJ0b0J5dGVBcnJheSIsImZyb21CeXRlQXJyYXkiLCJkZWZhdWx0Il0sInJlZXhwb3J0cyI6W10sInNvdXJjZSI6IihmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlLCBfX2ZpbGVuYW1lLCBfX2Rpcm5hbWUpIHsgJ3VzZSBzdHJpY3QnOyAndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vL1xuLy9cbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvL1xuICAvL1xuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy9cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy9cbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICB2YXIgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vXG5cbiAgLy9cbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG4gIH1cblxuICAvL1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59IC8vKi9cbn0pXG4ifVBLAwQKAAAAAAAAAAAAiHjZhBkSAAAZEgAAFgAAAGJlY2gzMi12MS4xLjQvaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImRlY29kZVVuc2FmZSIsImRlY29kZSIsImVuY29kZSIsInRvV29yZHNVbnNhZmUiLCJ0b1dvcmRzIiwiZnJvbVdvcmRzVW5zYWZlIiwiZnJvbVdvcmRzIiwiZGVmYXVsdCJdLCJyZWV4cG9ydHMiOltdLCJzb3VyY2UiOiIoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSwgX19maWxlbmFtZSwgX19kaXJuYW1lKSB7ICd1c2Ugc3RyaWN0JzsgJ3VzZSBzdHJpY3QnXG52YXIgQUxQSEFCRVQgPSAncXB6cnk5eDhnZjJ0dmR3MHMzam41NGtoY2U2bXVhN2wnXG5cbi8vXG52YXIgQUxQSEFCRVRfTUFQID0ge31cbmZvciAodmFyIHogPSAwOyB6IDwgQUxQSEFCRVQubGVuZ3RoOyB6KyspIHtcbiAgdmFyIHggPSBBTFBIQUJFVC5jaGFyQXQoeilcblxuICBpZiAoQUxQSEFCRVRfTUFQW3hdICE9PSB1bmRlZmluZWQpIHRocm93IG5ldyBUeXBlRXJyb3IoeCArICcgaXMgYW1iaWd1b3VzJylcbiAgQUxQSEFCRVRfTUFQW3hdID0gelxufVxuXG5mdW5jdGlvbiBwb2x5bW9kU3RlcCAocHJlKSB7XG4gIHZhciBiID0gcHJlID4+IDI1XG4gIHJldHVybiAoKHByZSAmIDB4MUZGRkZGRikgPDwgNSkgXlxuICAgICgtKChiID4+IDApICYgMSkgJiAweDNiNmE1N2IyKSBeXG4gICAgKC0oKGIgPj4gMSkgJiAxKSAmIDB4MjY1MDhlNmQpIF5cbiAgICAoLSgoYiA+PiAyKSAmIDEpICYgMHgxZWExMTlmYSkgXlxuICAgICgtKChiID4+IDMpICYgMSkgJiAweDNkNDIzM2RkKSBeXG4gICAgKC0oKGIgPj4gNCkgJiAxKSAmIDB4MmExNDYyYjMpXG59XG5cbmZ1bmN0aW9uIHByZWZpeENoayAocHJlZml4KSB7XG4gIHZhciBjaGsgPSAxXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGMgPSBwcmVmaXguY2hhckNvZGVBdChpKVxuICAgIGlmIChjIDwgMzMgfHwgYyA+IDEyNikgcmV0dXJuICdJbnZhbGlkIHByZWZpeCAoJyArIHByZWZpeCArICcpJ1xuXG4gICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKSBeIChjID4+IDUpXG4gIH1cbiAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKVxuXG4gIGZvciAoaSA9IDA7IGkgPCBwcmVmaXgubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgdiA9IHByZWZpeC5jaGFyQ29kZUF0KGkpXG4gICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKSBeICh2ICYgMHgxZilcbiAgfVxuICByZXR1cm4gY2hrXG59XG5cbmZ1bmN0aW9uIGVuY29kZSAocHJlZml4LCB3b3JkcywgTElNSVQpIHtcbiAgTElNSVQgPSBMSU1JVCB8fCA5MFxuICBpZiAoKHByZWZpeC5sZW5ndGggKyA3ICsgd29yZHMubGVuZ3RoKSA+IExJTUlUKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeGNlZWRzIGxlbmd0aCBsaW1pdCcpXG5cbiAgcHJlZml4ID0gcHJlZml4LnRvTG93ZXJDYXNlKClcblxuICAvL1xuICB2YXIgY2hrID0gcHJlZml4Q2hrKHByZWZpeClcbiAgaWYgKHR5cGVvZiBjaGsgPT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgRXJyb3IoY2hrKVxuXG4gIHZhciByZXN1bHQgPSBwcmVmaXggKyAnMSdcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7ICsraSkge1xuICAgIHZhciB4ID0gd29yZHNbaV1cbiAgICBpZiAoKHggPj4gNSkgIT09IDApIHRocm93IG5ldyBFcnJvcignTm9uIDUtYml0IHdvcmQnKVxuXG4gICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKSBeIHhcbiAgICByZXN1bHQgKz0gQUxQSEFCRVQuY2hhckF0KHgpXG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgNjsgKytpKSB7XG4gICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKVxuICB9XG4gIGNoayBePSAxXG5cbiAgZm9yIChpID0gMDsgaSA8IDY7ICsraSkge1xuICAgIHZhciB2ID0gKGNoayA+PiAoKDUgLSBpKSAqIDUpKSAmIDB4MWZcbiAgICByZXN1bHQgKz0gQUxQSEFCRVQuY2hhckF0KHYpXG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIF9fZGVjb2RlIChzdHIsIExJTUlUKSB7XG4gIExJTUlUID0gTElNSVQgfHwgOTBcbiAgaWYgKHN0ci5sZW5ndGggPCA4KSByZXR1cm4gc3RyICsgJyB0b28gc2hvcnQnXG4gIGlmIChzdHIubGVuZ3RoID4gTElNSVQpIHJldHVybiAnRXhjZWVkcyBsZW5ndGggbGltaXQnXG5cbiAgLy9cbiAgdmFyIGxvd2VyZWQgPSBzdHIudG9Mb3dlckNhc2UoKVxuICB2YXIgdXBwZXJlZCA9IHN0ci50b1VwcGVyQ2FzZSgpXG4gIGlmIChzdHIgIT09IGxvd2VyZWQgJiYgc3RyICE9PSB1cHBlcmVkKSByZXR1cm4gJ01peGVkLWNhc2Ugc3RyaW5nICcgKyBzdHJcbiAgc3RyID0gbG93ZXJlZFxuXG4gIHZhciBzcGxpdCA9IHN0ci5sYXN0SW5kZXhPZignMScpXG4gIGlmIChzcGxpdCA9PT0gLTEpIHJldHVybiAnTm8gc2VwYXJhdG9yIGNoYXJhY3RlciBmb3IgJyArIHN0clxuICBpZiAoc3BsaXQgPT09IDApIHJldHVybiAnTWlzc2luZyBwcmVmaXggZm9yICcgKyBzdHJcblxuICB2YXIgcHJlZml4ID0gc3RyLnNsaWNlKDAsIHNwbGl0KVxuICB2YXIgd29yZENoYXJzID0gc3RyLnNsaWNlKHNwbGl0ICsgMSlcbiAgaWYgKHdvcmRDaGFycy5sZW5ndGggPCA2KSByZXR1cm4gJ0RhdGEgdG9vIHNob3J0J1xuXG4gIHZhciBjaGsgPSBwcmVmaXhDaGsocHJlZml4KVxuICBpZiAodHlwZW9mIGNoayA9PT0gJ3N0cmluZycpIHJldHVybiBjaGtcblxuICB2YXIgd29yZHMgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRDaGFycy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBjID0gd29yZENoYXJzLmNoYXJBdChpKVxuICAgIHZhciB2ID0gQUxQSEFCRVRfTUFQW2NdXG4gICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgcmV0dXJuICdVbmtub3duIGNoYXJhY3RlciAnICsgY1xuICAgIGNoayA9IHBvbHltb2RTdGVwKGNoaykgXiB2XG5cbiAgICAvL1xuICAgIGlmIChpICsgNiA+PSB3b3JkQ2hhcnMubGVuZ3RoKSBjb250aW51ZVxuICAgIHdvcmRzLnB1c2godilcbiAgfVxuXG4gIGlmIChjaGsgIT09IDEpIHJldHVybiAnSW52YWxpZCBjaGVja3N1bSBmb3IgJyArIHN0clxuICByZXR1cm4geyBwcmVmaXg6IHByZWZpeCwgd29yZHM6IHdvcmRzIH1cbn1cblxuZnVuY3Rpb24gZGVjb2RlVW5zYWZlICgpIHtcbiAgdmFyIHJlcyA9IF9fZGVjb2RlLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcbiAgaWYgKHR5cGVvZiByZXMgPT09ICdvYmplY3QnKSByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGRlY29kZSAoc3RyKSB7XG4gIHZhciByZXMgPSBfX2RlY29kZS5hcHBseShudWxsLCBhcmd1bWVudHMpXG4gIGlmICh0eXBlb2YgcmVzID09PSAnb2JqZWN0JykgcmV0dXJuIHJlc1xuXG4gIHRocm93IG5ldyBFcnJvcihyZXMpXG59XG5cbmZ1bmN0aW9uIGNvbnZlcnQgKGRhdGEsIGluQml0cywgb3V0Qml0cywgcGFkKSB7XG4gIHZhciB2YWx1ZSA9IDBcbiAgdmFyIGJpdHMgPSAwXG4gIHZhciBtYXhWID0gKDEgPDwgb3V0Qml0cykgLSAxXG5cbiAgdmFyIHJlc3VsdCA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7ICsraSkge1xuICAgIHZhbHVlID0gKHZhbHVlIDw8IGluQml0cykgfCBkYXRhW2ldXG4gICAgYml0cyArPSBpbkJpdHNcblxuICAgIHdoaWxlIChiaXRzID49IG91dEJpdHMpIHtcbiAgICAgIGJpdHMgLT0gb3V0Qml0c1xuICAgICAgcmVzdWx0LnB1c2goKHZhbHVlID4+IGJpdHMpICYgbWF4VilcbiAgICB9XG4gIH1cblxuICBpZiAocGFkKSB7XG4gICAgaWYgKGJpdHMgPiAwKSB7XG4gICAgICByZXN1bHQucHVzaCgodmFsdWUgPDwgKG91dEJpdHMgLSBiaXRzKSkgJiBtYXhWKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYml0cyA+PSBpbkJpdHMpIHJldHVybiAnRXhjZXNzIHBhZGRpbmcnXG4gICAgaWYgKCh2YWx1ZSA8PCAob3V0Qml0cyAtIGJpdHMpKSAmIG1heFYpIHJldHVybiAnTm9uLXplcm8gcGFkZGluZydcbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gdG9Xb3Jkc1Vuc2FmZSAoYnl0ZXMpIHtcbiAgdmFyIHJlcyA9IGNvbnZlcnQoYnl0ZXMsIDgsIDUsIHRydWUpXG4gIGlmIChBcnJheS5pc0FycmF5KHJlcykpIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gdG9Xb3JkcyAoYnl0ZXMpIHtcbiAgdmFyIHJlcyA9IGNvbnZlcnQoYnl0ZXMsIDgsIDUsIHRydWUpXG4gIGlmIChBcnJheS5pc0FycmF5KHJlcykpIHJldHVybiByZXNcblxuICB0aHJvdyBuZXcgRXJyb3IocmVzKVxufVxuXG5mdW5jdGlvbiBmcm9tV29yZHNVbnNhZmUgKHdvcmRzKSB7XG4gIHZhciByZXMgPSBjb252ZXJ0KHdvcmRzLCA1LCA4LCBmYWxzZSlcbiAgaWYgKEFycmF5LmlzQXJyYXkocmVzKSkgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBmcm9tV29yZHMgKHdvcmRzKSB7XG4gIHZhciByZXMgPSBjb252ZXJ0KHdvcmRzLCA1LCA4LCBmYWxzZSlcbiAgaWYgKEFycmF5LmlzQXJyYXkocmVzKSkgcmV0dXJuIHJlc1xuXG4gIHRocm93IG5ldyBFcnJvcihyZXMpXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkZWNvZGVVbnNhZmU6IGRlY29kZVVuc2FmZSxcbiAgZGVjb2RlOiBkZWNvZGUsXG4gIGVuY29kZTogZW5jb2RlLFxuICB0b1dvcmRzVW5zYWZlOiB0b1dvcmRzVW5zYWZlLFxuICB0b1dvcmRzOiB0b1dvcmRzLFxuICBmcm9tV29yZHNVbnNhZmU6IGZyb21Xb3Jkc1Vuc2FmZSxcbiAgZnJvbVdvcmRzOiBmcm9tV29yZHNcbn0gLy8qL1xufSlcbiJ9UEsDBAoAAAAAAAAAAABcPNZTkRUAAJEVAAAbAAAAYmVjaDMyLXYyLjAuMC9kaXN0L2luZGV4LmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJfX2VzTW9kdWxlIiwiYmVjaDMybSIsImJlY2gzMiIsImRlZmF1bHQiXSwicmVleHBvcnRzIjpbXSwic291cmNlIjoiKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUsIF9fZmlsZW5hbWUsIF9fZGlybmFtZSkgeyAndXNlIHN0cmljdCc7ICd1c2Ugc3RyaWN0Jztcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYmVjaDMybSA9IGV4cG9ydHMuYmVjaDMyID0gdm9pZCAwO1xuY29uc3QgQUxQSEFCRVQgPSAncXB6cnk5eDhnZjJ0dmR3MHMzam41NGtoY2U2bXVhN2wnO1xuY29uc3QgQUxQSEFCRVRfTUFQID0ge307XG5mb3IgKGxldCB6ID0gMDsgeiA8IEFMUEhBQkVULmxlbmd0aDsgeisrKSB7XG4gICAgY29uc3QgeCA9IEFMUEhBQkVULmNoYXJBdCh6KTtcbiAgICBBTFBIQUJFVF9NQVBbeF0gPSB6O1xufVxuZnVuY3Rpb24gcG9seW1vZFN0ZXAocHJlKSB7XG4gICAgY29uc3QgYiA9IHByZSA+PiAyNTtcbiAgICByZXR1cm4gKCgocHJlICYgMHgxZmZmZmZmKSA8PCA1KSBeXG4gICAgICAgICgtKChiID4+IDApICYgMSkgJiAweDNiNmE1N2IyKSBeXG4gICAgICAgICgtKChiID4+IDEpICYgMSkgJiAweDI2NTA4ZTZkKSBeXG4gICAgICAgICgtKChiID4+IDIpICYgMSkgJiAweDFlYTExOWZhKSBeXG4gICAgICAgICgtKChiID4+IDMpICYgMSkgJiAweDNkNDIzM2RkKSBeXG4gICAgICAgICgtKChiID4+IDQpICYgMSkgJiAweDJhMTQ2MmIzKSk7XG59XG5mdW5jdGlvbiBwcmVmaXhDaGsocHJlZml4KSB7XG4gICAgbGV0IGNoayA9IDE7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVmaXgubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgYyA9IHByZWZpeC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoYyA8IDMzIHx8IGMgPiAxMjYpXG4gICAgICAgICAgICByZXR1cm4gJ0ludmFsaWQgcHJlZml4ICgnICsgcHJlZml4ICsgJyknO1xuICAgICAgICBjaGsgPSBwb2x5bW9kU3RlcChjaGspIF4gKGMgPj4gNSk7XG4gICAgfVxuICAgIGNoayA9IHBvbHltb2RTdGVwKGNoayk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVmaXgubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgdiA9IHByZWZpeC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBjaGsgPSBwb2x5bW9kU3RlcChjaGspIF4gKHYgJiAweDFmKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaztcbn1cbmZ1bmN0aW9uIGNvbnZlcnQoZGF0YSwgaW5CaXRzLCBvdXRCaXRzLCBwYWQpIHtcbiAgICBsZXQgdmFsdWUgPSAwO1xuICAgIGxldCBiaXRzID0gMDtcbiAgICBjb25zdCBtYXhWID0gKDEgPDwgb3V0Qml0cykgLSAxO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSA8PCBpbkJpdHMpIHwgZGF0YVtpXTtcbiAgICAgICAgYml0cyArPSBpbkJpdHM7XG4gICAgICAgIHdoaWxlIChiaXRzID49IG91dEJpdHMpIHtcbiAgICAgICAgICAgIGJpdHMgLT0gb3V0Qml0cztcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKCh2YWx1ZSA+PiBiaXRzKSAmIG1heFYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwYWQpIHtcbiAgICAgICAgaWYgKGJpdHMgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgodmFsdWUgPDwgKG91dEJpdHMgLSBiaXRzKSkgJiBtYXhWKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGJpdHMgPj0gaW5CaXRzKVxuICAgICAgICAgICAgcmV0dXJuICdFeGNlc3MgcGFkZGluZyc7XG4gICAgICAgIGlmICgodmFsdWUgPDwgKG91dEJpdHMgLSBiaXRzKSkgJiBtYXhWKVxuICAgICAgICAgICAgcmV0dXJuICdOb24temVybyBwYWRkaW5nJztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHRvV29yZHMoYnl0ZXMpIHtcbiAgICByZXR1cm4gY29udmVydChieXRlcywgOCwgNSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBmcm9tV29yZHNVbnNhZmUod29yZHMpIHtcbiAgICBjb25zdCByZXMgPSBjb252ZXJ0KHdvcmRzLCA1LCA4LCBmYWxzZSk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVzKSlcbiAgICAgICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGZyb21Xb3Jkcyh3b3Jkcykge1xuICAgIGNvbnN0IHJlcyA9IGNvbnZlcnQod29yZHMsIDUsIDgsIGZhbHNlKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXMpKVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIHRocm93IG5ldyBFcnJvcihyZXMpO1xufVxuZnVuY3Rpb24gZ2V0TGlicmFyeUZyb21FbmNvZGluZyhlbmNvZGluZykge1xuICAgIGxldCBFTkNPRElOR19DT05TVDtcbiAgICBpZiAoZW5jb2RpbmcgPT09ICdiZWNoMzInKSB7XG4gICAgICAgIEVOQ09ESU5HX0NPTlNUID0gMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIEVOQ09ESU5HX0NPTlNUID0gMHgyYmM4MzBhMztcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5jb2RlKHByZWZpeCwgd29yZHMsIExJTUlUKSB7XG4gICAgICAgIExJTUlUID0gTElNSVQgfHwgOTA7XG4gICAgICAgIGlmIChwcmVmaXgubGVuZ3RoICsgNyArIHdvcmRzLmxlbmd0aCA+IExJTUlUKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhjZWVkcyBsZW5ndGggbGltaXQnKTtcbiAgICAgICAgcHJlZml4ID0gcHJlZml4LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIC8vXG4gICAgICAgIGxldCBjaGsgPSBwcmVmaXhDaGsocHJlZml4KTtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGsgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNoayk7XG4gICAgICAgIGxldCByZXN1bHQgPSBwcmVmaXggKyAnMSc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSB3b3Jkc1tpXTtcbiAgICAgICAgICAgIGlmICh4ID4+IDUgIT09IDApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb24gNS1iaXQgd29yZCcpO1xuICAgICAgICAgICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKSBeIHg7XG4gICAgICAgICAgICByZXN1bHQgKz0gQUxQSEFCRVQuY2hhckF0KHgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgKytpKSB7XG4gICAgICAgICAgICBjaGsgPSBwb2x5bW9kU3RlcChjaGspO1xuICAgICAgICB9XG4gICAgICAgIGNoayBePSBFTkNPRElOR19DT05TVDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSAoY2hrID4+ICgoNSAtIGkpICogNSkpICYgMHgxZjtcbiAgICAgICAgICAgIHJlc3VsdCArPSBBTFBIQUJFVC5jaGFyQXQodik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gX19kZWNvZGUoc3RyLCBMSU1JVCkge1xuICAgICAgICBMSU1JVCA9IExJTUlUIHx8IDkwO1xuICAgICAgICBpZiAoc3RyLmxlbmd0aCA8IDgpXG4gICAgICAgICAgICByZXR1cm4gc3RyICsgJyB0b28gc2hvcnQnO1xuICAgICAgICBpZiAoc3RyLmxlbmd0aCA+IExJTUlUKVxuICAgICAgICAgICAgcmV0dXJuICdFeGNlZWRzIGxlbmd0aCBsaW1pdCc7XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IGxvd2VyZWQgPSBzdHIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgdXBwZXJlZCA9IHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoc3RyICE9PSBsb3dlcmVkICYmIHN0ciAhPT0gdXBwZXJlZClcbiAgICAgICAgICAgIHJldHVybiAnTWl4ZWQtY2FzZSBzdHJpbmcgJyArIHN0cjtcbiAgICAgICAgc3RyID0gbG93ZXJlZDtcbiAgICAgICAgY29uc3Qgc3BsaXQgPSBzdHIubGFzdEluZGV4T2YoJzEnKTtcbiAgICAgICAgaWYgKHNwbGl0ID09PSAtMSlcbiAgICAgICAgICAgIHJldHVybiAnTm8gc2VwYXJhdG9yIGNoYXJhY3RlciBmb3IgJyArIHN0cjtcbiAgICAgICAgaWYgKHNwbGl0ID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuICdNaXNzaW5nIHByZWZpeCBmb3IgJyArIHN0cjtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gc3RyLnNsaWNlKDAsIHNwbGl0KTtcbiAgICAgICAgY29uc3Qgd29yZENoYXJzID0gc3RyLnNsaWNlKHNwbGl0ICsgMSk7XG4gICAgICAgIGlmICh3b3JkQ2hhcnMubGVuZ3RoIDwgNilcbiAgICAgICAgICAgIHJldHVybiAnRGF0YSB0b28gc2hvcnQnO1xuICAgICAgICBsZXQgY2hrID0gcHJlZml4Q2hrKHByZWZpeCk7XG4gICAgICAgIGlmICh0eXBlb2YgY2hrID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHJldHVybiBjaGs7XG4gICAgICAgIGNvbnN0IHdvcmRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZENoYXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gd29yZENoYXJzLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBBTFBIQUJFVF9NQVBbY107XG4gICAgICAgICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiAnVW5rbm93biBjaGFyYWN0ZXIgJyArIGM7XG4gICAgICAgICAgICBjaGsgPSBwb2x5bW9kU3RlcChjaGspIF4gdjtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBpZiAoaSArIDYgPj0gd29yZENoYXJzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHdvcmRzLnB1c2godik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoayAhPT0gRU5DT0RJTkdfQ09OU1QpXG4gICAgICAgICAgICByZXR1cm4gJ0ludmFsaWQgY2hlY2tzdW0gZm9yICcgKyBzdHI7XG4gICAgICAgIHJldHVybiB7IHByZWZpeCwgd29yZHMgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVjb2RlVW5zYWZlKHN0ciwgTElNSVQpIHtcbiAgICAgICAgY29uc3QgcmVzID0gX19kZWNvZGUoc3RyLCBMSU1JVCk7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzID09PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlY29kZShzdHIsIExJTUlUKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IF9fZGVjb2RlKHN0ciwgTElNSVQpO1xuICAgICAgICBpZiAodHlwZW9mIHJlcyA9PT0gJ29iamVjdCcpXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVjb2RlVW5zYWZlLFxuICAgICAgICBkZWNvZGUsXG4gICAgICAgIGVuY29kZSxcbiAgICAgICAgdG9Xb3JkcyxcbiAgICAgICAgZnJvbVdvcmRzVW5zYWZlLFxuICAgICAgICBmcm9tV29yZHMsXG4gICAgfTtcbn1cbmV4cG9ydHMuYmVjaDMyID0gZ2V0TGlicmFyeUZyb21FbmNvZGluZygnYmVjaDMyJyk7XG5leHBvcnRzLmJlY2gzMm0gPSBnZXRMaWJyYXJ5RnJvbUVuY29kaW5nKCdiZWNoMzJtJyk7IC8vKi9cbn0pXG4ifVBLAwQKAAAAAAAAAAAADg7f8WgCAABoAgAAHAAAAGJzNTgtdjYuMC4wL3NyYy9lc20vaW5kZXguanN7ImltcG9ydHMiOlsiYmFzZS14Il0sImV4cG9ydHMiOlsiZGVmYXVsdCJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IGJhc2V4OyRozY9faW1wb3J0cyhbW1wiYmFzZS14XCIsIFtbXCJkZWZhdWx0XCIsWyRozY9fYSA9PiAoYmFzZXggPSAkaM2PX2EpXV1dXV0pO1xudmFyIEFMUEhBQkVUID0gJzEyMzQ1Njc4OUFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWmFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXonO1xuY29uc3R7ZGVmYXVsdDokY82PX2RlZmF1bHR9PXtkZWZhdWx0OmJhc2V4KEFMUEhBQkVUKX07JGjNj19vbmNlLmRlZmF1bHQoJGPNj19kZWZhdWx0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImRlZmF1bHQiOlsiZGVmYXVsdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAA9H+vJXwkAAF8JAAAkAAAAZGVjb2RlLXVyaS1jb21wb25lbnQtdjAuNC4xL2luZGV4LmpzeyJpbXBvcnRzIjpbXSwiZXhwb3J0cyI6WyJkZWZhdWx0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pO2NvbnN0IHRva2VuID0gJyVbYS1mMC05XXsyfSc7XG5jb25zdCBzaW5nbGVNYXRjaGVyID0gbmV3IFJlZ0V4cCgnKCcgKyB0b2tlbiArICcpfChbXiVdKz8pJywgJ2dpJyk7XG5jb25zdCBtdWx0aU1hdGNoZXIgPSBuZXcgUmVnRXhwKCcoJyArIHRva2VuICsgJykrJywgJ2dpJyk7XG5cbmZ1bmN0aW9uIGRlY29kZUNvbXBvbmVudHMoY29tcG9uZW50cywgc3BsaXQpIHtcblx0dHJ5IHtcblx0XHQvL1xuXHRcdHJldHVybiBbZGVjb2RlVVJJQ29tcG9uZW50KGNvbXBvbmVudHMuam9pbignJykpXTtcblx0fSBjYXRjaCB7XG5cdFx0Ly9cblx0fVxuXG5cdGlmIChjb21wb25lbnRzLmxlbmd0aCA9PT0gMSkge1xuXHRcdHJldHVybiBjb21wb25lbnRzO1xuXHR9XG5cblx0c3BsaXQgPSBzcGxpdCB8fCAxO1xuXG5cdC8vXG5cdGNvbnN0IGxlZnQgPSBjb21wb25lbnRzLnNsaWNlKDAsIHNwbGl0KTtcblx0Y29uc3QgcmlnaHQgPSBjb21wb25lbnRzLnNsaWNlKHNwbGl0KTtcblxuXHRyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5jYWxsKFtdLCBkZWNvZGVDb21wb25lbnRzKGxlZnQpLCBkZWNvZGVDb21wb25lbnRzKHJpZ2h0KSk7XG59XG5cbmZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoaW5wdXQpO1xuXHR9IGNhdGNoIHtcblx0XHRsZXQgdG9rZW5zID0gaW5wdXQubWF0Y2goc2luZ2xlTWF0Y2hlcikgfHwgW107XG5cblx0XHRmb3IgKGxldCBpID0gMTsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aW5wdXQgPSBkZWNvZGVDb21wb25lbnRzKHRva2VucywgaSkuam9pbignJyk7XG5cblx0XHRcdHRva2VucyA9IGlucHV0Lm1hdGNoKHNpbmdsZU1hdGNoZXIpIHx8IFtdO1xuXHRcdH1cblxuXHRcdHJldHVybiBpbnB1dDtcblx0fVxufVxuXG5mdW5jdGlvbiBjdXN0b21EZWNvZGVVUklDb21wb25lbnQoaW5wdXQpIHtcblx0Ly9cblx0Y29uc3QgcmVwbGFjZU1hcCA9IHtcblx0XHQnJUZFJUZGJzogJ1xcdUZGRkRcXHVGRkZEJyxcblx0XHQnJUZGJUZFJzogJ1xcdUZGRkRcXHVGRkZEJyxcblx0fTtcblxuXHRsZXQgbWF0Y2ggPSBtdWx0aU1hdGNoZXIuZXhlYyhpbnB1dCk7XG5cdHdoaWxlIChtYXRjaCkge1xuXHRcdHRyeSB7XG5cdFx0XHQvL1xuXHRcdFx0cmVwbGFjZU1hcFttYXRjaFswXV0gPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMF0pO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gZGVjb2RlKG1hdGNoWzBdKTtcblxuXHRcdFx0aWYgKHJlc3VsdCAhPT0gbWF0Y2hbMF0pIHtcblx0XHRcdFx0cmVwbGFjZU1hcFttYXRjaFswXV0gPSByZXN1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWF0Y2ggPSBtdWx0aU1hdGNoZXIuZXhlYyhpbnB1dCk7XG5cdH1cblxuXHQvL1xuXHRyZXBsYWNlTWFwWyclQzInXSA9ICdcXHVGRkZEJztcblxuXHRjb25zdCBlbnRyaWVzID0gT2JqZWN0LmtleXMocmVwbGFjZU1hcCk7XG5cblx0Zm9yIChjb25zdCBrZXkgb2YgZW50cmllcykge1xuXHRcdC8vXG5cdFx0aW5wdXQgPSBpbnB1dC5yZXBsYWNlKG5ldyBSZWdFeHAoa2V5LCAnZycpLCByZXBsYWNlTWFwW2tleV0pO1xuXHR9XG5cblx0cmV0dXJuIGlucHV0O1xufVxuXG4gICAgICAgICAgICAgICBmdW5jdGlvbiBkZWNvZGVVcmlDb21wb25lbnQoZW5jb2RlZFVSSSkge1xuXHRpZiAodHlwZW9mIGVuY29kZWRVUkkgIT09ICdzdHJpbmcnKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYGVuY29kZWRVUklgIHRvIGJlIG9mIHR5cGUgYHN0cmluZ2AsIGdvdCBgJyArIHR5cGVvZiBlbmNvZGVkVVJJICsgJ2AnKTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Ly9cblx0XHRyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZWRVUkkpO1xuXHR9IGNhdGNoIHtcblx0XHQvL1xuXHRcdHJldHVybiBjdXN0b21EZWNvZGVVUklDb21wb25lbnQoZW5jb2RlZFVSSSk7XG5cdH1cbn0kaM2PX29uY2UuZGVmYXVsdCggICAgICBkZWNvZGVVcmlDb21wb25lbnQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZGVmYXVsdCI6WyJkZWZhdWx0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAAp8O8dHBgAARwYAABoAAABmaWx0ZXItb2JqLXY1LjEuMC9pbmRleC5qc3siaW1wb3J0cyI6W10sImV4cG9ydHMiOlsiZXhjbHVkZUtleXMiLCJpbmNsdWRlS2V5cyJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtdKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5jbHVkZUtleXMsJ25hbWUnLHt2YWx1ZTpcImluY2x1ZGVLZXlzXCJ9KTskaM2PX29uY2UuaW5jbHVkZUtleXMoaW5jbHVkZUtleXMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleGNsdWRlS2V5cywnbmFtZScse3ZhbHVlOlwiZXhjbHVkZUtleXNcIn0pOyRozY9fb25jZS5leGNsdWRlS2V5cyhleGNsdWRlS2V5cyk7ICAgICAgIGZ1bmN0aW9uIGluY2x1ZGVLZXlzKG9iamVjdCwgcHJlZGljYXRlKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXG5cdGlmIChBcnJheS5pc0FycmF5KHByZWRpY2F0ZSkpIHtcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBwcmVkaWNhdGUpIHtcblx0XHRcdGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwga2V5KTtcblx0XHRcdGlmIChkZXNjcmlwdG9yPy5lbnVtZXJhYmxlKSB7XG5cdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXN1bHQsIGtleSwgZGVzY3JpcHRvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vXG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgUmVmbGVjdC5vd25LZXlzKG9iamVjdCkpIHtcblx0XHRcdGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwga2V5KTtcblx0XHRcdGlmIChkZXNjcmlwdG9yLmVudW1lcmFibGUpIHtcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSBvYmplY3Rba2V5XTtcblx0XHRcdFx0aWYgKHByZWRpY2F0ZShrZXksIHZhbHVlLCBvYmplY3QpKSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc3VsdCwga2V5LCBkZXNjcmlwdG9yKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG5cbiAgICAgICBmdW5jdGlvbiBleGNsdWRlS2V5cyhvYmplY3QsIHByZWRpY2F0ZSkge1xuXHRpZiAoQXJyYXkuaXNBcnJheShwcmVkaWNhdGUpKSB7XG5cdFx0Y29uc3Qgc2V0ID0gbmV3IFNldChwcmVkaWNhdGUpO1xuXHRcdHJldHVybiBpbmNsdWRlS2V5cyhvYmplY3QsIGtleSA9PiAhc2V0LmhhcyhrZXkpKTtcblx0fVxuXG5cdHJldHVybiBpbmNsdWRlS2V5cyhvYmplY3QsIChrZXksIHZhbHVlLCBvYmplY3QpID0+ICFwcmVkaWNhdGUoa2V5LCB2YWx1ZSwgb2JqZWN0KSk7XG59XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6eyJpbmNsdWRlS2V5cyI6WyJpbmNsdWRlS2V5cyJdLCJleGNsdWRlS2V5cyI6WyJleGNsdWRlS2V5cyJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAADuW/a/0QEAANEBAAAcAAAAamVzc2llLmpzLXYwLjMuNC9zcmMvbWFpbi5qc3siaW1wb3J0cyI6WyIuL3JpbmcwL21haW4uanMiLCIuL3JpbmcxL21haW4uanMiXSwiZXhwb3J0cyI6W10sInJlZXhwb3J0cyI6WyIuL3JpbmcwL21haW4uanMiLCIuL3JpbmcxL21haW4uanMiXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbW1wiLi9yaW5nMC9tYWluLmpzXCIsIFtdXSxbXCIuL3JpbmcxL21haW4uanNcIiwgW11dXSk7XG59KSgpXG4iLCJfX2xpdmVFeHBvcnRNYXBfXyI6e30sIl9fcmVleHBvcnRNYXBfXyI6e30sIl9fZml4ZWRFeHBvcnRNYXBfXyI6e30sIl9fbmVlZHNJbXBvcnRfXyI6ZmFsc2UsIl9fbmVlZHNJbXBvcnRNZXRhX18iOmZhbHNlfVBLAwQKAAAAAAAAAAAA9mAl5IEBAACBAQAAHwAAAGplc3NpZS5qcy12MC4zLjQvc3JjL3JpbmcwL0UuanN7ImltcG9ydHMiOlsiQGVuZG8vZmFyIl0sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOlsiQGVuZG8vZmFyIl0sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW1tcIkBlbmRvL2ZhclwiLCBbXV1dKTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7fSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABPWvW9pgIAAKYCAAAsAAAAamVzc2llLmpzLXYwLjMuNC9zcmMvcmluZzAvYXN5bmMtZ2VuZXJhdGUuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImFzeW5jR2VuZXJhdGUiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7Ly9cblxuLypcblxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzeW5jR2VuZXJhdGUgPSBuZXh0ID0+IHtcbiAgcmV0dXJuIGhhcmRlbih7XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogKCkgPT4ge1xuICAgICAgcmV0dXJuIGhhcmRlbih7XG4gICAgICAgIG5leHQ6IGFzeW5jICgpID0+IGhhcmRlbihuZXh0KCkpLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG59OyRozY9fb25jZS5hc3luY0dlbmVyYXRlKGFzeW5jR2VuZXJhdGUpO1xuaGFyZGVuKGFzeW5jR2VuZXJhdGUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiYXN5bmNHZW5lcmF0ZSI6WyJhc3luY0dlbmVyYXRlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAP56+f30AQAA9AEAACIAAABqZXNzaWUuanMtdjAuMy40L3NyYy9yaW5nMC9tYWluLmpzeyJpbXBvcnRzIjpbIi4vRS5qcyIsIi4vbWFrZXJzLmpzIiwiLi9hc3luYy1nZW5lcmF0ZS5qcyJdLCJleHBvcnRzIjpbXSwicmVleHBvcnRzIjpbIi4vRS5qcyIsIi4vYXN5bmMtZ2VuZXJhdGUuanMiLCIuL21ha2Vycy5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL0UuanNcIiwgW11dLFtcIi4vbWFrZXJzLmpzXCIsIFtdXSxbXCIuL2FzeW5jLWdlbmVyYXRlLmpzXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAEloIVDkBwAA5AcAACQAAABqZXNzaWUuanMtdjAuMy40L3NyYy9yaW5nMC9tYWtlcnMuanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbIm1ha2VNYXAiLCJtYWtlUHJvbWlzZSIsIm1ha2VTZXQiLCJtYWtlV2Vha01hcCIsIm1ha2VXZWFrU2V0Il0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JzskaM2PX2ltcG9ydHMoW10pOy8vXG4vL1xuLy9cblxuLypcblxuXG5cblxuICovXG4gICAgICAgY29uc3QgbWFrZVByb21pc2UgPSBleGVjdXRvciA9PiBoYXJkZW4obmV3IFByb21pc2UoZXhlY3V0b3IpKTskaM2PX29uY2UubWFrZVByb21pc2UobWFrZVByb21pc2UpO1xuaGFyZGVuKG1ha2VQcm9taXNlKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IG1ha2VNYXAgPSBlbnRyaWVzT3JJdGVyYWJsZSA9PiBoYXJkZW4obmV3IE1hcChlbnRyaWVzT3JJdGVyYWJsZSkpOyRozY9fb25jZS5tYWtlTWFwKG1ha2VNYXApO1xuaGFyZGVuKG1ha2VNYXApO1xuXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgIGNvbnN0IG1ha2VTZXQgPSB2YWx1ZXMgPT4gaGFyZGVuKG5ldyBTZXQodmFsdWVzKSk7JGjNj19vbmNlLm1ha2VTZXQobWFrZVNldCk7XG5oYXJkZW4obWFrZVNldCk7XG5cbi8qXG5cblxuXG4gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICBjb25zdCBtYWtlV2Vha01hcCA9IGVudHJpZXMgPT4gaGFyZGVuKG5ldyBXZWFrTWFwKGVudHJpZXMpKTskaM2PX29uY2UubWFrZVdlYWtNYXAobWFrZVdlYWtNYXApO1xuaGFyZGVuKG1ha2VXZWFrTWFwKTtcblxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgY29uc3QgbWFrZVdlYWtTZXQgPSB2YWx1ZXMgPT4gaGFyZGVuKG5ldyBXZWFrU2V0KHZhbHVlcykpOyRozY9fb25jZS5tYWtlV2Vha1NldChtYWtlV2Vha1NldCk7XG5oYXJkZW4obWFrZVdlYWtTZXQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsibWFrZVByb21pc2UiOlsibWFrZVByb21pc2UiXSwibWFrZU1hcCI6WyJtYWtlTWFwIl0sIm1ha2VTZXQiOlsibWFrZVNldCJdLCJtYWtlV2Vha01hcCI6WyJtYWtlV2Vha01hcCJdLCJtYWtlV2Vha1NldCI6WyJtYWtlV2Vha1NldCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAABp9VL/rAMAAKwDAAApAAAAamVzc2llLmpzLXYwLjMuNC9zcmMvcmluZzEvYXN5bmMtdG9vbHMuanN7ImltcG9ydHMiOlsiLi4vcmluZzAvbWFpbi5qcyJdLCJleHBvcnRzIjpbImFzeW5jRG9XaGlsZSJdLCJyZWV4cG9ydHMiOltdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7bGV0IG1ha2VQcm9taXNlOyRozY9faW1wb3J0cyhbW1wiLi4vcmluZzAvbWFpbi5qc1wiLCBbW1wibWFrZVByb21pc2VcIixbJGjNj19hID0+IChtYWtlUHJvbWlzZSA9ICRozY9fYSldXV1dXSk7XG5cblxuXG4vKlxuXG5cblxuXG5cblxuXG5cbiAqL1xuICAgICAgIGNvbnN0IGFzeW5jRG9XaGlsZSA9IGJvZHkgPT4ge1xuICByZXR1cm4gbWFrZVByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGxvb3AgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkb0NvbnRpbnVlID0gYXdhaXQgYm9keSgpO1xuICAgICAgaWYgKCFkb0NvbnRpbnVlKSB7XG4gICAgICAgIC8vXG4gICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvL1xuICAgICAgLy9cbiAgICAgIGxvb3AoKS5jYXRjaChyZWplY3QpO1xuICAgIH07XG5cbiAgICBsb29wKCkuY2F0Y2gocmVqZWN0KTtcbiAgfSk7XG59OyRozY9fb25jZS5hc3luY0RvV2hpbGUoYXN5bmNEb1doaWxlKTtcbmhhcmRlbihhc3luY0RvV2hpbGUpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiYXN5bmNEb1doaWxlIjpbImFzeW5jRG9XaGlsZSJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsDBAoAAAAAAAAAAAAbaDcDlgEAAJYBAAAiAAAAamVzc2llLmpzLXYwLjMuNC9zcmMvcmluZzEvbWFpbi5qc3siaW1wb3J0cyI6WyIuL2FzeW5jLXRvb2xzLmpzIl0sImV4cG9ydHMiOltdLCJyZWV4cG9ydHMiOlsiLi9hc3luYy10b29scy5qcyJdLCJfX3N5bmNNb2R1bGVQcm9ncmFtX18iOiIoe2ltcG9ydHM6JGjNj19pbXBvcnRzLGxpdmVWYXI6JGjNj19saXZlLG9uY2VWYXI6JGjNj19vbmNlLGltcG9ydDokaM2PX2ltcG9ydCxpbXBvcnRNZXRhOiRozY9fX19fbWV0YX0pPT4oZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7JGjNj19pbXBvcnRzKFtbXCIuL2FzeW5jLXRvb2xzLmpzXCIsIFtdXV0pO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnt9LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAFAbozzcOwAA3DsAABsAAABxdWVyeS1zdHJpbmctdjkuMS4xL2Jhc2UuanN7ImltcG9ydHMiOlsiZGVjb2RlLXVyaS1jb21wb25lbnQiLCJmaWx0ZXItb2JqIiwic3BsaXQtb24tZmlyc3QiXSwiZXhwb3J0cyI6WyJleGNsdWRlIiwiZXh0cmFjdCIsInBhcnNlIiwicGFyc2VVcmwiLCJwaWNrIiwic3RyaW5naWZ5Iiwic3RyaW5naWZ5VXJsIl0sInJlZXhwb3J0cyI6W10sIl9fc3luY01vZHVsZVByb2dyYW1fXyI6Iih7aW1wb3J0czokaM2PX2ltcG9ydHMsbGl2ZVZhcjokaM2PX2xpdmUsb25jZVZhcjokaM2PX29uY2UsaW1wb3J0OiRozY9faW1wb3J0LGltcG9ydE1ldGE6JGjNj19fX19tZXRhfSk9PihmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztsZXQgZGVjb2RlQ29tcG9uZW50LGluY2x1ZGVLZXlzLHNwbGl0T25GaXJzdDskaM2PX2ltcG9ydHMoW1tcImRlY29kZS11cmktY29tcG9uZW50XCIsIFtbXCJkZWZhdWx0XCIsWyRozY9fYSA9PiAoZGVjb2RlQ29tcG9uZW50ID0gJGjNj19hKV1dXV0sW1wiZmlsdGVyLW9ialwiLCBbW1wiaW5jbHVkZUtleXNcIixbJGjNj19hID0+IChpbmNsdWRlS2V5cyA9ICRozY9fYSldXV1dLFtcInNwbGl0LW9uLWZpcnN0XCIsIFtbXCJkZWZhdWx0XCIsWyRozY9fYSA9PiAoc3BsaXRPbkZpcnN0ID0gJGjNj19hKV1dXV1dKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXh0cmFjdCwnbmFtZScse3ZhbHVlOlwiZXh0cmFjdFwifSk7JGjNj19vbmNlLmV4dHJhY3QoZXh0cmFjdCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHBhcnNlLCduYW1lJyx7dmFsdWU6XCJwYXJzZVwifSk7JGjNj19vbmNlLnBhcnNlKHBhcnNlKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RyaW5naWZ5LCduYW1lJyx7dmFsdWU6XCJzdHJpbmdpZnlcIn0pOyRozY9fb25jZS5zdHJpbmdpZnkoc3RyaW5naWZ5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocGFyc2VVcmwsJ25hbWUnLHt2YWx1ZTpcInBhcnNlVXJsXCJ9KTskaM2PX29uY2UucGFyc2VVcmwocGFyc2VVcmwpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHJpbmdpZnlVcmwsJ25hbWUnLHt2YWx1ZTpcInN0cmluZ2lmeVVybFwifSk7JGjNj19vbmNlLnN0cmluZ2lmeVVybChzdHJpbmdpZnlVcmwpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShwaWNrLCduYW1lJyx7dmFsdWU6XCJwaWNrXCJ9KTskaM2PX29uY2UucGljayhwaWNrKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhjbHVkZSwnbmFtZScse3ZhbHVlOlwiZXhjbHVkZVwifSk7JGjNj19vbmNlLmV4Y2x1ZGUoZXhjbHVkZSk7XG5cblxuXG5jb25zdCBpc051bGxPclVuZGVmaW5lZCA9IHZhbHVlID0+IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cbi8vXG5jb25zdCBzdHJpY3RVcmlFbmNvZGUgPSBzdHJpbmcgPT4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykucmVwbGFjZUFsbCgvWyEnKCkqXS9nLCB4ID0+IGAlJHt4LmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YCk7XG5cbmNvbnN0IGVuY29kZUZyYWdtZW50SWRlbnRpZmllciA9IFN5bWJvbCgnZW5jb2RlRnJhZ21lbnRJZGVudGlmaWVyJyk7XG5cbmZ1bmN0aW9uIGVuY29kZXJGb3JBcnJheUZvcm1hdChvcHRpb25zKSB7XG5cdHN3aXRjaCAob3B0aW9ucy5hcnJheUZvcm1hdCkge1xuXHRcdGNhc2UgJ2luZGV4Jzoge1xuXHRcdFx0cmV0dXJuIGtleSA9PiAocmVzdWx0LCB2YWx1ZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBpbmRleCA9IHJlc3VsdC5sZW5ndGg7XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHZhbHVlID09PSB1bmRlZmluZWRcblx0XHRcdFx0XHR8fCAob3B0aW9ucy5za2lwTnVsbCAmJiB2YWx1ZSA9PT0gbnVsbClcblx0XHRcdFx0XHR8fCAob3B0aW9ucy5za2lwRW1wdHlTdHJpbmcgJiYgdmFsdWUgPT09ICcnKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHZhbHVlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0XHRcdC4uLnJlc3VsdCwgW2VuY29kZShrZXksIG9wdGlvbnMpLCAnWycsIGluZGV4LCAnXSddLmpvaW4oJycpLFxuXHRcdFx0XHRcdF07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdC4uLnJlc3VsdCxcblx0XHRcdFx0XHRbZW5jb2RlKGtleSwgb3B0aW9ucyksICdbJywgZW5jb2RlKGluZGV4LCBvcHRpb25zKSwgJ109JywgZW5jb2RlKHZhbHVlLCBvcHRpb25zKV0uam9pbignJyksXG5cdFx0XHRcdF07XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGNhc2UgJ2JyYWNrZXQnOiB7XG5cdFx0XHRyZXR1cm4ga2V5ID0+IChyZXN1bHQsIHZhbHVlKSA9PiB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR2YWx1ZSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0fHwgKG9wdGlvbnMuc2tpcE51bGwgJiYgdmFsdWUgPT09IG51bGwpXG5cdFx0XHRcdFx0fHwgKG9wdGlvbnMuc2tpcEVtcHR5U3RyaW5nICYmIHZhbHVlID09PSAnJylcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0XHQuLi5yZXN1bHQsXG5cdFx0XHRcdFx0XHRbZW5jb2RlKGtleSwgb3B0aW9ucyksICdbXSddLmpvaW4oJycpLFxuXHRcdFx0XHRcdF07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdC4uLnJlc3VsdCxcblx0XHRcdFx0XHRbZW5jb2RlKGtleSwgb3B0aW9ucyksICdbXT0nLCBlbmNvZGUodmFsdWUsIG9wdGlvbnMpXS5qb2luKCcnKSxcblx0XHRcdFx0XTtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y2FzZSAnY29sb24tbGlzdC1zZXBhcmF0b3InOiB7XG5cdFx0XHRyZXR1cm4ga2V5ID0+IChyZXN1bHQsIHZhbHVlKSA9PiB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR2YWx1ZSA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0fHwgKG9wdGlvbnMuc2tpcE51bGwgJiYgdmFsdWUgPT09IG51bGwpXG5cdFx0XHRcdFx0fHwgKG9wdGlvbnMuc2tpcEVtcHR5U3RyaW5nICYmIHZhbHVlID09PSAnJylcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0XHQuLi5yZXN1bHQsXG5cdFx0XHRcdFx0XHRbZW5jb2RlKGtleSwgb3B0aW9ucyksICc6bGlzdD0nXS5qb2luKCcnKSxcblx0XHRcdFx0XHRdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0XHQuLi5yZXN1bHQsXG5cdFx0XHRcdFx0W2VuY29kZShrZXksIG9wdGlvbnMpLCAnOmxpc3Q9JywgZW5jb2RlKHZhbHVlLCBvcHRpb25zKV0uam9pbignJyksXG5cdFx0XHRcdF07XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGNhc2UgJ2NvbW1hJzpcblx0XHRjYXNlICdzZXBhcmF0b3InOlxuXHRcdGNhc2UgJ2JyYWNrZXQtc2VwYXJhdG9yJzoge1xuXHRcdFx0Y29uc3Qga2V5VmFsdWVTZXBhcmF0b3IgPSBvcHRpb25zLmFycmF5Rm9ybWF0ID09PSAnYnJhY2tldC1zZXBhcmF0b3InXG5cdFx0XHRcdD8gJ1tdPSdcblx0XHRcdFx0OiAnPSc7XG5cblx0XHRcdHJldHVybiBrZXkgPT4gKHJlc3VsdCwgdmFsdWUpID0+IHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHZhbHVlID09PSB1bmRlZmluZWRcblx0XHRcdFx0XHR8fCAob3B0aW9ucy5za2lwTnVsbCAmJiB2YWx1ZSA9PT0gbnVsbClcblx0XHRcdFx0XHR8fCAob3B0aW9ucy5za2lwRW1wdHlTdHJpbmcgJiYgdmFsdWUgPT09ICcnKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9cblx0XHRcdFx0dmFsdWUgPSB2YWx1ZSA9PT0gbnVsbCA/ICcnIDogdmFsdWU7XG5cblx0XHRcdFx0aWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm4gW1tlbmNvZGUoa2V5LCBvcHRpb25zKSwga2V5VmFsdWVTZXBhcmF0b3IsIGVuY29kZSh2YWx1ZSwgb3B0aW9ucyldLmpvaW4oJycpXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBbW3Jlc3VsdCwgZW5jb2RlKHZhbHVlLCBvcHRpb25zKV0uam9pbihvcHRpb25zLmFycmF5Rm9ybWF0U2VwYXJhdG9yKV07XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGRlZmF1bHQ6IHtcblx0XHRcdHJldHVybiBrZXkgPT4gKHJlc3VsdCwgdmFsdWUpID0+IHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHZhbHVlID09PSB1bmRlZmluZWRcblx0XHRcdFx0XHR8fCAob3B0aW9ucy5za2lwTnVsbCAmJiB2YWx1ZSA9PT0gbnVsbClcblx0XHRcdFx0XHR8fCAob3B0aW9ucy5za2lwRW1wdHlTdHJpbmcgJiYgdmFsdWUgPT09ICcnKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHZhbHVlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0XHRcdC4uLnJlc3VsdCxcblx0XHRcdFx0XHRcdGVuY29kZShrZXksIG9wdGlvbnMpLFxuXHRcdFx0XHRcdF07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdC4uLnJlc3VsdCxcblx0XHRcdFx0XHRbZW5jb2RlKGtleSwgb3B0aW9ucyksICc9JywgZW5jb2RlKHZhbHVlLCBvcHRpb25zKV0uam9pbignJyksXG5cdFx0XHRcdF07XG5cdFx0XHR9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBwYXJzZXJGb3JBcnJheUZvcm1hdChvcHRpb25zKSB7XG5cdGxldCByZXN1bHQ7XG5cblx0c3dpdGNoIChvcHRpb25zLmFycmF5Rm9ybWF0KSB7XG5cdFx0Y2FzZSAnaW5kZXgnOiB7XG5cdFx0XHRyZXR1cm4gKGtleSwgdmFsdWUsIGFjY3VtdWxhdG9yKSA9PiB7XG5cdFx0XHRcdHJlc3VsdCA9IC9cXFsoXFxkKildJC8uZXhlYyhrZXkpO1xuXG5cdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFtcXGQqXSQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSB7fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV1bcmVzdWx0WzFdXSA9IHZhbHVlO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjYXNlICdicmFja2V0Jzoge1xuXHRcdFx0cmV0dXJuIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikgPT4ge1xuXHRcdFx0XHRyZXN1bHQgPSAvKFxcW10pJC8uZXhlYyhrZXkpO1xuXHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvXFxbXSQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbdmFsdWVdO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbLi4uYWNjdW11bGF0b3Jba2V5XSwgdmFsdWVdO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjYXNlICdjb2xvbi1saXN0LXNlcGFyYXRvcic6IHtcblx0XHRcdHJldHVybiAoa2V5LCB2YWx1ZSwgYWNjdW11bGF0b3IpID0+IHtcblx0XHRcdFx0cmVzdWx0ID0gLyg6bGlzdCkkLy5leGVjKGtleSk7XG5cdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC86bGlzdCQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbdmFsdWVdO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbLi4uYWNjdW11bGF0b3Jba2V5XSwgdmFsdWVdO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjYXNlICdjb21tYSc6XG5cdFx0Y2FzZSAnc2VwYXJhdG9yJzoge1xuXHRcdFx0cmV0dXJuIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikgPT4ge1xuXHRcdFx0XHRjb25zdCBpc0FycmF5ID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5pbmNsdWRlcyhvcHRpb25zLmFycmF5Rm9ybWF0U2VwYXJhdG9yKTtcblx0XHRcdFx0Y29uc3QgaXNFbmNvZGVkQXJyYXkgPSAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAhaXNBcnJheSAmJiBkZWNvZGUodmFsdWUsIG9wdGlvbnMpLmluY2x1ZGVzKG9wdGlvbnMuYXJyYXlGb3JtYXRTZXBhcmF0b3IpKTtcblx0XHRcdFx0dmFsdWUgPSBpc0VuY29kZWRBcnJheSA/IGRlY29kZSh2YWx1ZSwgb3B0aW9ucykgOiB2YWx1ZTtcblx0XHRcdFx0Y29uc3QgbmV3VmFsdWUgPSBpc0FycmF5IHx8IGlzRW5jb2RlZEFycmF5ID8gdmFsdWUuc3BsaXQob3B0aW9ucy5hcnJheUZvcm1hdFNlcGFyYXRvcikubWFwKGl0ZW0gPT4gZGVjb2RlKGl0ZW0sIG9wdGlvbnMpKSA6ICh2YWx1ZSA9PT0gbnVsbCA/IHZhbHVlIDogZGVjb2RlKHZhbHVlLCBvcHRpb25zKSk7XG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBuZXdWYWx1ZTtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y2FzZSAnYnJhY2tldC1zZXBhcmF0b3InOiB7XG5cdFx0XHRyZXR1cm4gKGtleSwgdmFsdWUsIGFjY3VtdWxhdG9yKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGlzQXJyYXkgPSAvKFxcW10pJC8udGVzdChrZXkpO1xuXHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvXFxbXSQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCFpc0FycmF5KSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHZhbHVlID8gZGVjb2RlKHZhbHVlLCBvcHRpb25zKSA6IHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IGFycmF5VmFsdWUgPSB2YWx1ZSA9PT0gbnVsbFxuXHRcdFx0XHRcdD8gW11cblx0XHRcdFx0XHQ6IGRlY29kZSh2YWx1ZSwgb3B0aW9ucykuc3BsaXQob3B0aW9ucy5hcnJheUZvcm1hdFNlcGFyYXRvcik7XG5cblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBhcnJheVZhbHVlO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbLi4uYWNjdW11bGF0b3Jba2V5XSwgLi4uYXJyYXlWYWx1ZV07XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGRlZmF1bHQ6IHtcblx0XHRcdHJldHVybiAoa2V5LCB2YWx1ZSwgYWNjdW11bGF0b3IpID0+IHtcblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gWy4uLlthY2N1bXVsYXRvcltrZXldXS5mbGF0KCksIHZhbHVlXTtcblx0XHRcdH07XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQXJyYXlGb3JtYXRTZXBhcmF0b3IodmFsdWUpIHtcblx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgfHwgdmFsdWUubGVuZ3RoICE9PSAxKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignYXJyYXlGb3JtYXRTZXBhcmF0b3IgbXVzdCBiZSBzaW5nbGUgY2hhcmFjdGVyIHN0cmluZycpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWx1ZSwgb3B0aW9ucykge1xuXHRpZiAob3B0aW9ucy5lbmNvZGUpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5zdHJpY3QgPyBzdHJpY3RVcmlFbmNvZGUodmFsdWUpIDogZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcblx0fVxuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlKHZhbHVlLCBvcHRpb25zKSB7XG5cdGlmIChvcHRpb25zLmRlY29kZSkge1xuXHRcdHJldHVybiBkZWNvZGVDb21wb25lbnQodmFsdWUpO1xuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBrZXlzU29ydGVyKGlucHV0KSB7XG5cdGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuXHRcdHJldHVybiBpbnB1dC5zb3J0KCk7XG5cdH1cblxuXHRpZiAodHlwZW9mIGlucHV0ID09PSAnb2JqZWN0Jykge1xuXHRcdHJldHVybiBrZXlzU29ydGVyKE9iamVjdC5rZXlzKGlucHV0KSlcblx0XHRcdC5zb3J0KChhLCBiKSA9PiBOdW1iZXIoYSkgLSBOdW1iZXIoYikpXG5cdFx0XHQubWFwKGtleSA9PiBpbnB1dFtrZXldKTtcblx0fVxuXG5cdHJldHVybiBpbnB1dDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlSGFzaChpbnB1dCkge1xuXHRjb25zdCBoYXNoU3RhcnQgPSBpbnB1dC5pbmRleE9mKCcjJyk7XG5cdGlmIChoYXNoU3RhcnQgIT09IC0xKSB7XG5cdFx0aW5wdXQgPSBpbnB1dC5zbGljZSgwLCBoYXNoU3RhcnQpO1xuXHR9XG5cblx0cmV0dXJuIGlucHV0O1xufVxuXG5mdW5jdGlvbiBnZXRIYXNoKHVybCkge1xuXHRsZXQgaGFzaCA9ICcnO1xuXHRjb25zdCBoYXNoU3RhcnQgPSB1cmwuaW5kZXhPZignIycpO1xuXHRpZiAoaGFzaFN0YXJ0ICE9PSAtMSkge1xuXHRcdGhhc2ggPSB1cmwuc2xpY2UoaGFzaFN0YXJ0KTtcblx0fVxuXG5cdHJldHVybiBoYXNoO1xufVxuXG5mdW5jdGlvbiBwYXJzZVZhbHVlKHZhbHVlLCBvcHRpb25zLCB0eXBlKSB7XG5cdGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cblx0aWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gdHlwZSh2YWx1ZSk7XG5cdH1cblxuXHRpZiAob3B0aW9ucy5wYXJzZUJvb2xlYW5zICYmIHZhbHVlICE9PSBudWxsICYmICh2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgfHwgdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJykpIHtcblx0XHRyZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuXHR9XG5cblx0aWYgKHR5cGUgPT09ICdudW1iZXInICYmICFOdW1iZXIuaXNOYU4oTnVtYmVyKHZhbHVlKSkgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUudHJpbSgpICE9PSAnJykpIHtcblx0XHRyZXR1cm4gTnVtYmVyKHZhbHVlKTtcblx0fVxuXG5cdGlmIChvcHRpb25zLnBhcnNlTnVtYmVycyAmJiAhTnVtYmVyLmlzTmFOKE51bWJlcih2YWx1ZSkpICYmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnRyaW0oKSAhPT0gJycpKSB7XG5cdFx0cmV0dXJuIE51bWJlcih2YWx1ZSk7XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbiAgICAgICBmdW5jdGlvbiBleHRyYWN0KGlucHV0KSB7XG5cdGlucHV0ID0gcmVtb3ZlSGFzaChpbnB1dCk7XG5cdGNvbnN0IHF1ZXJ5U3RhcnQgPSBpbnB1dC5pbmRleE9mKCc/Jyk7XG5cdGlmIChxdWVyeVN0YXJ0ID09PSAtMSkge1xuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdHJldHVybiBpbnB1dC5zbGljZShxdWVyeVN0YXJ0ICsgMSk7XG59XG5cbiAgICAgICBmdW5jdGlvbiBwYXJzZShxdWVyeSwgb3B0aW9ucykge1xuXHRvcHRpb25zID0ge1xuXHRcdGRlY29kZTogdHJ1ZSxcblx0XHRzb3J0OiB0cnVlLFxuXHRcdGFycmF5Rm9ybWF0OiAnbm9uZScsXG5cdFx0YXJyYXlGb3JtYXRTZXBhcmF0b3I6ICcsJyxcblx0XHRwYXJzZU51bWJlcnM6IGZhbHNlLFxuXHRcdHBhcnNlQm9vbGVhbnM6IGZhbHNlLFxuXHRcdHR5cGVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuXHRcdC4uLm9wdGlvbnMsXG5cdH07XG5cblx0dmFsaWRhdGVBcnJheUZvcm1hdFNlcGFyYXRvcihvcHRpb25zLmFycmF5Rm9ybWF0U2VwYXJhdG9yKTtcblxuXHRjb25zdCBmb3JtYXR0ZXIgPSBwYXJzZXJGb3JBcnJheUZvcm1hdChvcHRpb25zKTtcblxuXHQvL1xuXHRjb25zdCByZXR1cm5WYWx1ZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cblx0aWYgKHR5cGVvZiBxdWVyeSAhPT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdH1cblxuXHRxdWVyeSA9IHF1ZXJ5LnRyaW0oKS5yZXBsYWNlKC9eWz8jJl0vLCAnJyk7XG5cblx0aWYgKCFxdWVyeSkge1xuXHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0fVxuXG5cdGZvciAoY29uc3QgcGFyYW1ldGVyIG9mIHF1ZXJ5LnNwbGl0KCcmJykpIHtcblx0XHRpZiAocGFyYW1ldGVyID09PSAnJykge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcGFyYW1ldGVyXyA9IG9wdGlvbnMuZGVjb2RlID8gcGFyYW1ldGVyLnJlcGxhY2VBbGwoJysnLCAnICcpIDogcGFyYW1ldGVyO1xuXG5cdFx0bGV0IFtrZXksIHZhbHVlXSA9IHNwbGl0T25GaXJzdChwYXJhbWV0ZXJfLCAnPScpO1xuXG5cdFx0aWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRrZXkgPSBwYXJhbWV0ZXJfO1xuXHRcdH1cblxuXHRcdC8vXG5cdFx0Ly9cblx0XHR2YWx1ZSA9IHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogKFsnY29tbWEnLCAnc2VwYXJhdG9yJywgJ2JyYWNrZXQtc2VwYXJhdG9yJ10uaW5jbHVkZXMob3B0aW9ucy5hcnJheUZvcm1hdCkgPyB2YWx1ZSA6IGRlY29kZSh2YWx1ZSwgb3B0aW9ucykpO1xuXHRcdGZvcm1hdHRlcihkZWNvZGUoa2V5LCBvcHRpb25zKSwgdmFsdWUsIHJldHVyblZhbHVlKTtcblx0fVxuXG5cdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHJldHVyblZhbHVlKSkge1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIG9wdGlvbnMudHlwZXNba2V5XSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdGZvciAoY29uc3QgW2tleTIsIHZhbHVlMl0gb2YgT2JqZWN0LmVudHJpZXModmFsdWUpKSB7XG5cdFx0XHRcdGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGVzW2tleV0gPyBvcHRpb25zLnR5cGVzW2tleV0ucmVwbGFjZSgnW10nLCAnJykgOiB1bmRlZmluZWQ7XG5cdFx0XHRcdHZhbHVlW2tleTJdID0gcGFyc2VWYWx1ZSh2YWx1ZTIsIG9wdGlvbnMsIHR5cGUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBvcHRpb25zLnR5cGVzW2tleV0gPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm5WYWx1ZVtrZXldID0gT2JqZWN0LnZhbHVlcyh2YWx1ZSkuam9pbihvcHRpb25zLmFycmF5Rm9ybWF0U2VwYXJhdG9yKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuVmFsdWVba2V5XSA9IHBhcnNlVmFsdWUodmFsdWUsIG9wdGlvbnMsIG9wdGlvbnMudHlwZXNba2V5XSk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc29ydCA9PT0gZmFsc2UpIHtcblx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdH1cblxuXHQvL1xuXHQvL1xuXHRyZXR1cm4gKG9wdGlvbnMuc29ydCA9PT0gdHJ1ZSA/IE9iamVjdC5rZXlzKHJldHVyblZhbHVlKS5zb3J0KCkgOiBPYmplY3Qua2V5cyhyZXR1cm5WYWx1ZSkuc29ydChvcHRpb25zLnNvcnQpKS5yZWR1Y2UoKHJlc3VsdCwga2V5KSA9PiB7XG5cdFx0Y29uc3QgdmFsdWUgPSByZXR1cm5WYWx1ZVtrZXldO1xuXHRcdHJlc3VsdFtrZXldID0gQm9vbGVhbih2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBrZXlzU29ydGVyKHZhbHVlKSA6IHZhbHVlO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sIE9iamVjdC5jcmVhdGUobnVsbCkpO1xufVxuXG4gICAgICAgZnVuY3Rpb24gc3RyaW5naWZ5KG9iamVjdCwgb3B0aW9ucykge1xuXHRpZiAoIW9iamVjdCkge1xuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdG9wdGlvbnMgPSB7XG5cdFx0ZW5jb2RlOiB0cnVlLFxuXHRcdHN0cmljdDogdHJ1ZSxcblx0XHRhcnJheUZvcm1hdDogJ25vbmUnLFxuXHRcdGFycmF5Rm9ybWF0U2VwYXJhdG9yOiAnLCcsXG5cdFx0Li4ub3B0aW9ucyxcblx0fTtcblxuXHR2YWxpZGF0ZUFycmF5Rm9ybWF0U2VwYXJhdG9yKG9wdGlvbnMuYXJyYXlGb3JtYXRTZXBhcmF0b3IpO1xuXG5cdGNvbnN0IHNob3VsZEZpbHRlciA9IGtleSA9PiAoXG5cdFx0KG9wdGlvbnMuc2tpcE51bGwgJiYgaXNOdWxsT3JVbmRlZmluZWQob2JqZWN0W2tleV0pKVxuXHRcdHx8IChvcHRpb25zLnNraXBFbXB0eVN0cmluZyAmJiBvYmplY3Rba2V5XSA9PT0gJycpXG5cdCk7XG5cblx0Y29uc3QgZm9ybWF0dGVyID0gZW5jb2RlckZvckFycmF5Rm9ybWF0KG9wdGlvbnMpO1xuXG5cdGNvbnN0IG9iamVjdENvcHkgPSB7fTtcblxuXHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvYmplY3QpKSB7XG5cdFx0aWYgKCFzaG91bGRGaWx0ZXIoa2V5KSkge1xuXHRcdFx0b2JqZWN0Q29weVtrZXldID0gdmFsdWU7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdENvcHkpO1xuXG5cdGlmIChvcHRpb25zLnNvcnQgIT09IGZhbHNlKSB7XG5cdFx0a2V5cy5zb3J0KG9wdGlvbnMuc29ydCk7XG5cdH1cblxuXHRyZXR1cm4ga2V5cy5tYXAoa2V5ID0+IHtcblx0XHRjb25zdCB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG5cdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9XG5cblx0XHRpZiAodmFsdWUgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiBlbmNvZGUoa2V5LCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdGlmICh2YWx1ZS5sZW5ndGggPT09IDAgJiYgb3B0aW9ucy5hcnJheUZvcm1hdCA9PT0gJ2JyYWNrZXQtc2VwYXJhdG9yJykge1xuXHRcdFx0XHRyZXR1cm4gZW5jb2RlKGtleSwgb3B0aW9ucykgKyAnW10nO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdmFsdWVcblx0XHRcdFx0LnJlZHVjZShmb3JtYXR0ZXIoa2V5KSwgW10pXG5cdFx0XHRcdC5qb2luKCcmJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVuY29kZShrZXksIG9wdGlvbnMpICsgJz0nICsgZW5jb2RlKHZhbHVlLCBvcHRpb25zKTtcblx0fSkuZmlsdGVyKHggPT4geC5sZW5ndGggPiAwKS5qb2luKCcmJyk7XG59XG5cbiAgICAgICBmdW5jdGlvbiBwYXJzZVVybCh1cmwsIG9wdGlvbnMpIHtcblx0b3B0aW9ucyA9IHtcblx0XHRkZWNvZGU6IHRydWUsXG5cdFx0Li4ub3B0aW9ucyxcblx0fTtcblxuXHRsZXQgW3VybF8sIGhhc2hdID0gc3BsaXRPbkZpcnN0KHVybCwgJyMnKTtcblxuXHRpZiAodXJsXyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dXJsXyA9IHVybDtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dXJsOiB1cmxfPy5zcGxpdCgnPycpPy5bMF0gPz8gJycsXG5cdFx0cXVlcnk6IHBhcnNlKGV4dHJhY3QodXJsKSwgb3B0aW9ucyksXG5cdFx0Li4uKG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJzZUZyYWdtZW50SWRlbnRpZmllciAmJiBoYXNoID8ge2ZyYWdtZW50SWRlbnRpZmllcjogZGVjb2RlKGhhc2gsIG9wdGlvbnMpfSA6IHt9KSxcblx0fTtcbn1cblxuICAgICAgIGZ1bmN0aW9uIHN0cmluZ2lmeVVybChvYmplY3QsIG9wdGlvbnMpIHtcblx0b3B0aW9ucyA9IHtcblx0XHRlbmNvZGU6IHRydWUsXG5cdFx0c3RyaWN0OiB0cnVlLFxuXHRcdFtlbmNvZGVGcmFnbWVudElkZW50aWZpZXJdOiB0cnVlLFxuXHRcdC4uLm9wdGlvbnMsXG5cdH07XG5cblx0Y29uc3QgdXJsID0gcmVtb3ZlSGFzaChvYmplY3QudXJsKS5zcGxpdCgnPycpWzBdIHx8ICcnO1xuXHRjb25zdCBxdWVyeUZyb21VcmwgPSBleHRyYWN0KG9iamVjdC51cmwpO1xuXG5cdGNvbnN0IHF1ZXJ5ID0ge1xuXHRcdC4uLnBhcnNlKHF1ZXJ5RnJvbVVybCwge3NvcnQ6IGZhbHNlfSksXG5cdFx0Li4ub2JqZWN0LnF1ZXJ5LFxuXHR9O1xuXG5cdGxldCBxdWVyeVN0cmluZyA9IHN0cmluZ2lmeShxdWVyeSwgb3B0aW9ucyk7XG5cdHF1ZXJ5U3RyaW5nICYmPSBgPyR7cXVlcnlTdHJpbmd9YDtcblxuXHRsZXQgaGFzaCA9IGdldEhhc2gob2JqZWN0LnVybCk7XG5cdGlmICh0eXBlb2Ygb2JqZWN0LmZyYWdtZW50SWRlbnRpZmllciA9PT0gJ3N0cmluZycpIHtcblx0XHRjb25zdCB1cmxPYmplY3RGb3JGcmFnbWVudEVuY29kZSA9IG5ldyBVUkwodXJsKTtcblx0XHR1cmxPYmplY3RGb3JGcmFnbWVudEVuY29kZS5oYXNoID0gb2JqZWN0LmZyYWdtZW50SWRlbnRpZmllcjtcblx0XHRoYXNoID0gb3B0aW9uc1tlbmNvZGVGcmFnbWVudElkZW50aWZpZXJdID8gdXJsT2JqZWN0Rm9yRnJhZ21lbnRFbmNvZGUuaGFzaCA6IGAjJHtvYmplY3QuZnJhZ21lbnRJZGVudGlmaWVyfWA7XG5cdH1cblxuXHRyZXR1cm4gYCR7dXJsfSR7cXVlcnlTdHJpbmd9JHtoYXNofWA7XG59XG5cbiAgICAgICBmdW5jdGlvbiBwaWNrKGlucHV0LCBmaWx0ZXIsIG9wdGlvbnMpIHtcblx0b3B0aW9ucyA9IHtcblx0XHRwYXJzZUZyYWdtZW50SWRlbnRpZmllcjogdHJ1ZSxcblx0XHRbZW5jb2RlRnJhZ21lbnRJZGVudGlmaWVyXTogZmFsc2UsXG5cdFx0Li4ub3B0aW9ucyxcblx0fTtcblxuXHRjb25zdCB7dXJsLCBxdWVyeSwgZnJhZ21lbnRJZGVudGlmaWVyfSA9IHBhcnNlVXJsKGlucHV0LCBvcHRpb25zKTtcblxuXHRyZXR1cm4gc3RyaW5naWZ5VXJsKHtcblx0XHR1cmwsXG5cdFx0cXVlcnk6IGluY2x1ZGVLZXlzKHF1ZXJ5LCBmaWx0ZXIpLFxuXHRcdGZyYWdtZW50SWRlbnRpZmllcixcblx0fSwgb3B0aW9ucyk7XG59XG5cbiAgICAgICBmdW5jdGlvbiBleGNsdWRlKGlucHV0LCBmaWx0ZXIsIG9wdGlvbnMpIHtcblx0Y29uc3QgZXhjbHVzaW9uRmlsdGVyID0gQXJyYXkuaXNBcnJheShmaWx0ZXIpID8ga2V5ID0+ICFmaWx0ZXIuaW5jbHVkZXMoa2V5KSA6IChrZXksIHZhbHVlKSA9PiAhZmlsdGVyKGtleSwgdmFsdWUpO1xuXG5cdHJldHVybiBwaWNrKGlucHV0LCBleGNsdXNpb25GaWx0ZXIsIG9wdGlvbnMpO1xufVxufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZXh0cmFjdCI6WyJleHRyYWN0Il0sInBhcnNlIjpbInBhcnNlIl0sInN0cmluZ2lmeSI6WyJzdHJpbmdpZnkiXSwicGFyc2VVcmwiOlsicGFyc2VVcmwiXSwic3RyaW5naWZ5VXJsIjpbInN0cmluZ2lmeVVybCJdLCJwaWNrIjpbInBpY2siXSwiZXhjbHVkZSI6WyJleGNsdWRlIl19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAACXBebMkAgAAJAIAABwAAABxdWVyeS1zdHJpbmctdjkuMS4xL2luZGV4LmpzeyJpbXBvcnRzIjpbIi4vYmFzZS5qcyJdLCJleHBvcnRzIjpbImRlZmF1bHQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2xldCBxdWVyeVN0cmluZzskaM2PX2ltcG9ydHMoW1tcIi4vYmFzZS5qc1wiLCBbW1wiKlwiLFskaM2PX2EgPT4gKHF1ZXJ5U3RyaW5nID0gJGjNj19hKV1dXV1dKTtcblxuY29uc3R7ZGVmYXVsdDokY82PX2RlZmF1bHR9PXtkZWZhdWx0OnF1ZXJ5U3RyaW5nfTskaM2PX29uY2UuZGVmYXVsdCgkY82PX2RlZmF1bHQpO1xufSkoKVxuIiwiX19saXZlRXhwb3J0TWFwX18iOnt9LCJfX3JlZXhwb3J0TWFwX18iOnt9LCJfX2ZpeGVkRXhwb3J0TWFwX18iOnsiZGVmYXVsdCI6WyJkZWZhdWx0Il19LCJfX25lZWRzSW1wb3J0X18iOmZhbHNlLCJfX25lZWRzSW1wb3J0TWV0YV9fIjpmYWxzZX1QSwMECgAAAAAAAAAAAKHK8ryRAwAAkQMAAB4AAABzcGxpdC1vbi1maXJzdC12My4wLjAvaW5kZXguanN7ImltcG9ydHMiOltdLCJleHBvcnRzIjpbImRlZmF1bHQiXSwicmVleHBvcnRzIjpbXSwiX19zeW5jTW9kdWxlUHJvZ3JhbV9fIjoiKHtpbXBvcnRzOiRozY9faW1wb3J0cyxsaXZlVmFyOiRozY9fbGl2ZSxvbmNlVmFyOiRozY9fb25jZSxpbXBvcnQ6JGjNj19pbXBvcnQsaW1wb3J0TWV0YTokaM2PX19fX21ldGF9KT0+KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOyRozY9faW1wb3J0cyhbXSk7ICAgICAgICAgICAgICAgZnVuY3Rpb24gc3BsaXRPbkZpcnN0KHN0cmluZywgc2VwYXJhdG9yKSB7XG5cdGlmICghKHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBzZXBhcmF0b3IgPT09ICdzdHJpbmcnKSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBhcmd1bWVudHMgdG8gYmUgb2YgdHlwZSBgc3RyaW5nYCcpO1xuXHR9XG5cblx0aWYgKHN0cmluZyA9PT0gJycgfHwgc2VwYXJhdG9yID09PSAnJykge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXG5cdGNvbnN0IHNlcGFyYXRvckluZGV4ID0gc3RyaW5nLmluZGV4T2Yoc2VwYXJhdG9yKTtcblxuXHRpZiAoc2VwYXJhdG9ySW5kZXggPT09IC0xKSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cblx0cmV0dXJuIFtcblx0XHRzdHJpbmcuc2xpY2UoMCwgc2VwYXJhdG9ySW5kZXgpLFxuXHRcdHN0cmluZy5zbGljZShzZXBhcmF0b3JJbmRleCArIHNlcGFyYXRvci5sZW5ndGgpXG5cdF07XG59JGjNj19vbmNlLmRlZmF1bHQoICAgICAgc3BsaXRPbkZpcnN0KTtcbn0pKClcbiIsIl9fbGl2ZUV4cG9ydE1hcF9fIjp7fSwiX19yZWV4cG9ydE1hcF9fIjp7fSwiX19maXhlZEV4cG9ydE1hcF9fIjp7ImRlZmF1bHQiOlsiZGVmYXVsdCJdfSwiX19uZWVkc0ltcG9ydF9fIjpmYWxzZSwiX19uZWVkc0ltcG9ydE1ldGFfXyI6ZmFsc2V9UEsBAh4DCgAAAAAAAAAAAI3UU0xZuQEAWbkBABQAAAAAAAAAAAAAAKSBAAAAAGNvbXBhcnRtZW50LW1hcC5qc29uUEsBAh4DCgAAAAAAAAAAAImT/D3sAQAA7AEAACIAAAAAAAAAAAAAAKSBi7kBAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvaW5kZXguanNQSwECHgMKAAAAAAAAAAAA1/zuJ6NDAACjQwAAKwAAAAAAAAAAAAAApIG3uwEAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9zcmMvYXN5bmMtZmxvdy5qc1BLAQIeAwoAAAAAAAAAAABZyu8YgRIAAIESAAAqAAAAAAAAAAAAAACkgaP/AQBAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy9iaWplY3Rpb24uanNQSwECHgMKAAAAAAAAAAAASINbU30RAAB9EQAAKAAAAAAAAAAAAAAApIFsEgIAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9zcmMvY29udmVydC5qc1BLAQIeAwoAAAAAAAAAAABdAqX11R8AANUfAAArAAAAAAAAAAAAAACkgS8kAgBAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy9lbmRvd21lbnRzLmpzUEsBAh4DCgAAAAAAAAAAAGAJvsROAwAATgMAACkAAAAAAAAAAAAAAKSBTUQCAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL2VwaGVtZXJhLmpzUEsBAh4DCgAAAAAAAAAAAG2loP7DDgAAww4AACcAAAAAAAAAAAAAAKSB4kcCAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL2VxdWF0ZS5qc1BLAQIeAwoAAAAAAAAAAAA5gixvrRsAAK0bAAAqAAAAAAAAAAAAAACkgepWAgBAYWdvcmljL2FzeW5jLWZsb3ctdjAuMS4wL3NyYy9sb2ctc3RvcmUuanNQSwECHgMKAAAAAAAAAAAAWfHZpiNIAAAjSAAAMAAAAAAAAAAAAAAApIHfcgIAQGFnb3JpYy9hc3luYy1mbG93LXYwLjEuMC9zcmMvcmVwbGF5LW1lbWJyYW5lLmpzUEsBAh4DCgAAAAAAAAAAAFFBMXcMBwAADAcAACwAAAAAAAAAAAAAAKSBULsCAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL3R5cGUtZ3VhcmRzLmpzUEsBAh4DCgAAAAAAAAAAAM/oVLfOAQAAzgEAACwAAAAAAAAAAAAAAKSBpsICAEBhZ29yaWMvYXN5bmMtZmxvdy12MC4xLjAvc3JjL3R5cGVzLWluZGV4LmpzUEsBAh4DCgAAAAAAAAAAADGASPiNAQAAjQEAACAAAAAAAAAAAAAAAKSBvsQCAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9oZWFwLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACcAAAAAAAAAAAAAAKSBicYCAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMvZXhwb3J0cy5qc1BLAQIeAwoAAAAAAAAAAAAE88KdzwoAAM8KAAAkAAAAAAAAAAAAAACkgSbIAgBAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAvc3JjL2hlYXAuanNQSwECHgMKAAAAAAAAAAAAFW6x+nkCAAB5AgAAJQAAAAAAAAAAAAAApIE30wIAQGFnb3JpYy9iYXNlLXpvbmUtdjAuMS4wL3NyYy9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAA5fdIMdAIAAHQCAAArAAAAAAAAAAAAAACkgfPVAgBAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAvc3JjL2lzLXBhc3NhYmxlLmpzUEsBAh4DCgAAAAAAAAAAAMuP7MWYAwAAmAMAACQAAAAAAAAAAAAAAKSBsNgCAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMva2V5cy5qc1BLAQIeAwoAAAAAAAAAAAAa7pnbpQcAAKUHAAApAAAAAAAAAAAAAACkgYrcAgBAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAvc3JjL21ha2Utb25jZS5qc1BLAQIeAwoAAAAAAAAAAAAEhfZHUQwAAFEMAAAyAAAAAAAAAAAAAACkgXbkAgBAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAvc3JjL3ByZXBhcmUtYXR0ZW51YXRvci5qc1BLAQIeAwoAAAAAAAAAAABk1QsCMAoAADAKAAAxAAAAAAAAAAAAAACkgRfxAgBAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAvc3JjL3ByZXBhcmUtcmV2b2NhYmxlLmpzUEsBAh4DCgAAAAAAAAAAAJVLZf3bCQAA2wkAAC0AAAAAAAAAAAAAAKSBlvsCAEBhZ29yaWMvYmFzZS16b25lLXYwLjEuMC9zcmMvd2F0Y2gtcHJvbWlzZS5qc1BLAQIeAwoAAAAAAAAAAABsJLBqFgIAABYCAAAoAAAAAAAAAAAAAACkgbwFAwBAYWdvcmljL2Jhc2Utem9uZS12MC4xLjAvem9uZS1oZWxwZXJzLmpzUEsBAh4DCgAAAAAAAAAAAJREHxThDQAA4Q0AADEAAAAAAAAAAAAAAKSBGAgDAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2FkZHJlc3MtaG9va3MuanNQSwECHgMKAAAAAAAAAAAApD2yLB4YAAAeGAAAMgAAAAAAAAAAAAAApIFIFgMAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9iaW5hcnkuanNQSwECHgMKAAAAAAAAAAAAfyOFivEdAADxHQAAPQAAAAAAAAAAAAAApIG2LgMAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jaXJjbGUvY2N0cC92MS90eC5qc1BLAQIeAwoAAAAAAAAAAAAydE2xpicAAKYnAABEAAAAAAAAAAAAAACkgQJNAwBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYW5rL3YxYmV0YTEvYmFuay5qc1BLAQIeAwoAAAAAAAAAAACfE/y8T18AAE9fAABFAAAAAAAAAAAAAACkgQp1AwBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9iYW5rL3YxYmV0YTEvcXVlcnkuanNQSwECHgMKAAAAAAAAAAAAvs1o374TAAC+EwAAQgAAAAAAAAAAAAAApIG81AMAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jb3Ntb3MvYmFuay92MWJldGExL3R4LmpzUEsBAh4DCgAAAAAAAAAAANwaOq0vEAAALxAAAFAAAAAAAAAAAAAAAKSB2ugDAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2Jhc2UvcXVlcnkvdjFiZXRhMS9wYWdpbmF0aW9uLmpzUEsBAh4DCgAAAAAAAAAAAGCYzZU0EQAANBEAAEQAAAAAAAAAAAAAAKSBd/kDAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2Jhc2UvdjFiZXRhMS9jb2luLmpzUEsBAh4DCgAAAAAAAAAAAAR0+hcPTQAAD00AAFQAAAAAAAAAAAAAAKSBDQsEAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL2Rpc3RyaWJ1dGlvbi92MWJldGExL2Rpc3RyaWJ1dGlvbi5qc1BLAQIeAwoAAAAAAAAAAAAm96aYj14AAI9eAABNAAAAAAAAAAAAAACkgY5YBABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS9xdWVyeS5qc1BLAQIeAwoAAAAAAAAAAACKlQ5m5ycAAOcnAABKAAAAAAAAAAAAAACkgYi3BABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9kaXN0cmlidXRpb24vdjFiZXRhMS90eC5qc1BLAQIeAwoAAAAAAAAAAAC4DFLSdp0AAHadAABIAAAAAAAAAAAAAACkgdffBABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvcXVlcnkuanNQSwECHgMKAAAAAAAAAAAA8548mHiWAAB4lgAASgAAAAAAAAAAAAAApIGzfQUAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3N0YWtpbmcuanNQSwECHgMKAAAAAAAAAAAA+UJ0WllOAABZTgAARQAAAAAAAAAAAAAApIGTFAYAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3R4LmpzUEsBAh4DCgAAAAAAAAAAABYIltkTHQAAEx0AAEoAAAAAAAAAAAAAAKSBT2MGAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vY29zbW9zL3VwZ3JhZGUvdjFiZXRhMS91cGdyYWRlLmpzUEsBAh4DCgAAAAAAAAAAAP2BytLHBwAAxwcAADQAAAAAAAAAAAAAAKSByoAGAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vZGVjaW1hbHMuanNQSwECHgMKAAAAAAAAAAAAGCqxYtQHAADUBwAAPwAAAAAAAAAAAAAApIHjiAYAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9nb29nbGUvcHJvdG9idWYvYW55LmpzUEsBAh4DCgAAAAAAAAAAAIFtZv07BwAAOwcAAEQAAAAAAAAAAAAAAKSBFJEGAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vZ29vZ2xlL3Byb3RvYnVmL2R1cmF0aW9uLmpzUEsBAh4DCgAAAAAAAAAAANS/BTNGBwAARgcAAEUAAAAAAAAAAAAAAKSBsZgGAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5qc1BLAQIeAwoAAAAAAAAAAAB4rc52kwwAAJMMAAAzAAAAAAAAAAAAAACkgVqgBgBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2hlbHBlcnMuanNQSwECHgMKAAAAAAAAAAAAbUE7z0EUAABBFAAASwAAAAAAAAAAAAAApIE+rQYAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi9pYmMvYXBwbGljYXRpb25zL3RyYW5zZmVyL3YxL3R4LmpzUEsBAh4DCgAAAAAAAAAAAPSTMzpuLgAAbi4AAEUAAAAAAAAAAAAAAKSB6MEGAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vaWJjL2NvcmUvY2xpZW50L3YxL2NsaWVudC5qc1BLAQIeAwoAAAAAAAAAAABFzP/xWAEAAFgBAAA1AAAAAAAAAAAAAACkgbnwBgBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL2pzb24tc2FmZS5qc1BLAQIeAwoAAAAAAAAAAAAlXL0NwgABAMIAAQA+AAAAAAAAAAAAAACkgWTyBgBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3N0cmlkZS9zdGFrZWliYy90eC5qc1BLAQIeAwoAAAAAAAAAAAD204nH1BEAANQRAABFAAAAAAAAAAAAAACkgYLzBwBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3N0cmlkZS9zdGFrZWliYy92YWxpZGF0b3IuanNQSwECHgMKAAAAAAAAAAAAu0xCO5mKAACZigAAQQAAAAAAAAAAAAAApIG5BQgAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L2FiY2kvdHlwZXMuanNQSwECHgMKAAAAAAAAAAAAt46x3y8IAAAvCAAAQgAAAAAAAAAAAAAApIGxkAgAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L2NyeXB0by9rZXlzLmpzUEsBAh4DCgAAAAAAAAAAAMDtO39tGwAAbRsAAEMAAAAAAAAAAAAAAKSBQJkIAEBhZ29yaWMvY29zbWljLXByb3RvLXYwLjQuMC9kaXN0L2NvZGVnZW4vdGVuZGVybWludC9jcnlwdG8vcHJvb2YuanNQSwECHgMKAAAAAAAAAAAAi9e714onAACKJwAAQwAAAAAAAAAAAAAApIEOtQgAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L3R5cGVzL3BhcmFtcy5qc1BLAQIeAwoAAAAAAAAAAADDyaj1wXYAAMF2AABCAAAAAAAAAAAAAACkgfncCABAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdHlwZXMvdHlwZXMuanNQSwECHgMKAAAAAAAAAAAAoaN2GdkYAADZGAAARgAAAAAAAAAAAAAApIEaVAkAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi90ZW5kZXJtaW50L3R5cGVzL3ZhbGlkYXRvci5qc1BLAQIeAwoAAAAAAAAAAAAA2nmbywsAAMsLAABEAAAAAAAAAAAAAACkgVdtCQBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3RlbmRlcm1pbnQvdmVyc2lvbi90eXBlcy5qc1BLAQIeAwoAAAAAAAAAAABbnrV9+AYAAPgGAAAwAAAAAAAAAAAAAACkgYR5CQBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9jb2RlZ2VuL3V0ZjguanNQSwECHgMKAAAAAAAAAAAA65/E9fwWAAD8FgAAMgAAAAAAAAAAAAAApIHKgAkAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvY29kZWdlbi92YXJpbnQuanNQSwECHgMKAAAAAAAAAAAANlHtE/wEAAD8BAAAKwAAAAAAAAAAAAAApIEWmAkAQGFnb3JpYy9jb3NtaWMtcHJvdG8tdjAuNC4wL2Rpc3QvaGVscGVycy5qc1BLAQIeAwoAAAAAAAAAAAASjwwn3QEAAN0BAAApAAAAAAAAAAAAAACkgVudCQBAYWdvcmljL2Nvc21pYy1wcm90by12MC40LjAvZGlzdC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAACZAs20pR8AAKUfAAAmAAAAAAAAAAAAAACkgX+fCQBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvYW1vdW50TWF0aC5qc1BLAQIeAwoAAAAAAAAAAAATGlpSMQQAADEEAAAnAAAAAAAAAAAAAACkgWi/CQBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvYW1vdW50U3RvcmUuanNQSwECHgMKAAAAAAAAAAAAuDuMpAcGAAAHBgAAJwAAAAAAAAAAAAAApIHewwkAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL2Rpc3BsYXlJbmZvLmpzUEsBAh4DCgAAAAAAAAAAAPNfTQNNAgAATQIAACEAAAAAAAAAAAAAAKSBKsoJAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAACdZOlhHRgAAB0YAAAlAAAAAAAAAAAAAACkgbbMCQBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvaXNzdWVyS2l0LmpzUEsBAh4DCgAAAAAAAAAAADTpUBQSBgAAEgYAADoAAAAAAAAAAAAAAKSBFuUJAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9tYXRoSGVscGVycy9jb3B5QmFnTWF0aEhlbHBlcnMuanNQSwECHgMKAAAAAAAAAAAAoZjxhNAFAADQBQAAOgAAAAAAAAAAAAAApIGA6wkAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL21hdGhIZWxwZXJzL2NvcHlTZXRNYXRoSGVscGVycy5qc1BLAQIeAwoAAAAAAAAAAADzavU6uwQAALsEAAA2AAAAAAAAAAAAAACkgajxCQBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvbWF0aEhlbHBlcnMvbmF0TWF0aEhlbHBlcnMuanNQSwECHgMKAAAAAAAAAAAAgfqHxpgGAACYBgAANgAAAAAAAAAAAAAApIG39gkAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL21hdGhIZWxwZXJzL3NldE1hdGhIZWxwZXJzLmpzUEsBAh4DCgAAAAAAAAAAAJ57M0HJAwAAyQMAACMAAAAAAAAAAAAAAKSBo/0JAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9wYXltZW50LmpzUEsBAh4DCgAAAAAAAAAAALJbfRowJQAAMCUAACkAAAAAAAAAAAAAAKSBrQEKAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9wYXltZW50TGVkZ2VyLmpzUEsBAh4DCgAAAAAAAAAAAAnNpUgHFQAABxUAACEAAAAAAAAAAAAAAKSBJCcKAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy9wdXJzZS5qc1BLAQIeAwoAAAAAAAAAAACJEyJxYC0AAGAtAAAhAAAAAAAAAAAAAACkgWo8CgBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvcmF0aW8uanNQSwECHgMKAAAAAAAAAAAANbtR2pgFAACYBQAAJAAAAAAAAAAAAAAApIEJagoAQGFnb3JpYy9lcnRwLXYwLjE2LjIvc3JjL3NhZmVNYXRoLmpzUEsBAh4DCgAAAAAAAAAAAE2UxkMyBgAAMgYAAC0AAAAAAAAAAAAAAKSB428KAEBhZ29yaWMvZXJ0cC12MC4xNi4yL3NyYy90cmFuc2llbnROb3RpZmllci5qc1BLAQIeAwoAAAAAAAAAAABwGyGOdBoAAHQaAAAmAAAAAAAAAAAAAACkgWB2CgBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvdHlwZUd1YXJkcy5qc1BLAQIeAwoAAAAAAAAAAABFzP/xWAEAAFgBAAAnAAAAAAAAAAAAAACkgRiRCgBAYWdvcmljL2VydHAtdjAuMTYuMi9zcmMvdHlwZXMtaW5kZXguanNQSwECHgMKAAAAAAAAAAAA+4NNsokdAACJHQAAJwAAAAAAAAAAAAAApIG1kgoAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL2NhbGxiYWNrLmpzUEsBAh4DCgAAAAAAAAAAAM+yWuN2BgAAdgYAACUAAAAAAAAAAAAAAKSBg7AKAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9jb25maWcuanNQSwECHgMKAAAAAAAAAAAAvAWIpDsFAAA7BQAAJAAAAAAAAAAAAAAApIE8twoAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL2RlYnVnLmpzUEsBAh4DCgAAAAAAAAAAAPrbBDWxAgAAsQIAACUAAAAAAAAAAAAAAKSBubwKAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9lcnJvcnMuanNQSwECHgMKAAAAAAAAAAAAj9W4fWoEAABqBAAAJAAAAAAAAAAAAAAApIGtvwoAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAALSGcrAjEwAAIxMAACcAAAAAAAAAAAAAAKSBWcQKAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9qcy11dGlscy5qc1BLAQIeAwoAAAAAAAAAAABChW2i6RcAAOkXAAAvAAAAAAAAAAAAAACkgcHXCgBAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvbGliLWNoYWluU3RvcmFnZS5qc1BLAQIeAwoAAAAAAAAAAAAQLx5+7xIAAO8SAAAmAAAAAAAAAAAAAACkgffvCgBAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvbWFyc2hhbC5qc1BLAQIeAwoAAAAAAAAAAABueDuMbQYAAG0GAAArAAAAAAAAAAAAAACkgSoDCwBAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvbWV0aG9kLXRvb2xzLmpzUEsBAh4DCgAAAAAAAAAAALJ9qtDJNgAAyTYAACYAAAAAAAAAAAAAAKSB4AkLAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9tZXRyaWNzLmpzUEsBAh4DCgAAAAAAAAAAAOZHrB8EBQAABAUAACsAAAAAAAAAAAAAAKSB7UALAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy9uYXR1cmFsLXNvcnQuanNQSwECHgMKAAAAAAAAAAAAmkLCXs0sAADNLAAAKAAAAAAAAAAAAAAApIE6RgsAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL3Nlcy11dGlscy5qc1BLAQIeAwoAAAAAAAAAAACjGhSxwgYAAMIGAAAsAAAAAAAAAAAAAACkgU1zCwBAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvdGVzdGluZy11dGlscy5qc1BLAQIeAwoAAAAAAAAAAAAgI8qkFwMAABcDAAAlAAAAAAAAAAAAAACkgVl6CwBAYWdvcmljL2ludGVybmFsLXYwLjMuMi9zcmMvdG1wRGlyLmpzUEsBAh4DCgAAAAAAAAAAALKyi/UbAwAAGwMAACgAAAAAAAAAAAAAAKSBs30LAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy90eXBlQ2hlY2suanNQSwECHgMKAAAAAAAAAAAAD8zCxDoEAAA6BAAAKQAAAAAAAAAAAAAApIEUgQsAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL3R5cGVHdWFyZHMuanNQSwECHgMKAAAAAAAAAAAARcz/8VgBAABYAQAAKgAAAAAAAAAAAAAApIGVhQsAQGFnb3JpYy9pbnRlcm5hbC12MC4zLjIvc3JjL3R5cGVzLWluZGV4LmpzUEsBAh4DCgAAAAAAAAAAAJJ2vftpBwAAaQcAACoAAAAAAAAAAAAAAKSBNYcLAEBhZ29yaWMvaW50ZXJuYWwtdjAuMy4yL3NyYy91cGdyYWRlLWFwaS5qc1BLAQIeAwoAAAAAAAAAAACpPM2kJgwAACYMAAAjAAAAAAAAAAAAAACkgeaOCwBAYWdvcmljL25ldHdvcmstdjAuMS4wL3NyYy9ieXRlcy5qc1BLAQIeAwoAAAAAAAAAAAD6v7q1CwMAAAsDAAAjAAAAAAAAAAAAAACkgU2bCwBAYWdvcmljL25ldHdvcmstdjAuMS4wL3NyYy9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAADLhQ9WSAUAAEgFAAAnAAAAAAAAAAAAAACkgZmeCwBAYWdvcmljL25ldHdvcmstdjAuMS4wL3NyYy9tdWx0aWFkZHIuanNQSwECHgMKAAAAAAAAAAAALHYTPOqqAADqqgAAJQAAAAAAAAAAAAAApIEmpAsAQGFnb3JpYy9uZXR3b3JrLXYwLjEuMC9zcmMvbmV0d29yay5qc1BLAQIeAwoAAAAAAAAAAADa25Sj/BQAAPwUAAAkAAAAAAAAAAAAAACkgVNPDABAYWdvcmljL25ldHdvcmstdjAuMS4wL3NyYy9yb3V0ZXIuanNQSwECHgMKAAAAAAAAAAAAdeXyeygcAAAoHAAAJAAAAAAAAAAAAAAApIGRZAwAQGFnb3JpYy9uZXR3b3JrLXYwLjEuMC9zcmMvc2hhcGVzLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACMAAAAAAAAAAAAAAKSB+4AMAEBhZ29yaWMvbmV0d29yay12MC4xLjAvc3JjL3R5cGVzLmpzUEsBAh4DCgAAAAAAAAAAANCWSi3vCAAA7wgAADMAAAAAAAAAAAAAAKSBlIIMAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy9hc3luY0l0ZXJhYmxlQWRhcHRvci5qc1BLAQIeAwoAAAAAAAAAAADCPu246wcAAOsHAAAkAAAAAAAAAAAAAACkgdSLDABAYWdvcmljL25vdGlmaWVyLXYwLjYuMi9zcmMvaW5kZXguanNQSwECHgMKAAAAAAAAAAAAIb7LBCYTAAAmEwAAJwAAAAAAAAAAAAAApIEBlAwAQGFnb3JpYy9ub3RpZmllci12MC42LjIvc3JjL25vdGlmaWVyLmpzUEsBAh4DCgAAAAAAAAAAAAes8nreMgAA3jIAACoAAAAAAAAAAAAAAKSBbKcMAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy9wdWJsaXNoLWtpdC5qc1BLAQIeAwoAAAAAAAAAAADWHCXvlQgAAJUIAAAuAAAAAAAAAAAAAACkgZLaDABAYWdvcmljL25vdGlmaWVyLXYwLjYuMi9zcmMvc3RvcmVkLW5vdGlmaWVyLmpzUEsBAh4DCgAAAAAAAAAAAEiVgML+FwAA/hcAACcAAAAAAAAAAAAAAKSBc+MMAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy9zdG9yZXN1Yi5qc1BLAQIeAwoAAAAAAAAAAABaG2dyRRYAAEUWAAAoAAAAAAAAAAAAAACkgbb7DABAYWdvcmljL25vdGlmaWVyLXYwLjYuMi9zcmMvc3Vic2NyaWJlLmpzUEsBAh4DCgAAAAAAAAAAACOZfrg5CAAAOQgAACkAAAAAAAAAAAAAAKSBQRINAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy9zdWJzY3JpYmVyLmpzUEsBAh4DCgAAAAAAAAAAAFs7BeJMBAAATAQAACQAAAAAAAAAAAAAAKSBwRoNAEBhZ29yaWMvbm90aWZpZXItdjAuNi4yL3NyYy90b3BpYy5qc1BLAQIeAwoAAAAAAAAAAABFzP/xWAEAAFgBAAAqAAAAAAAAAAAAAACkgU8fDQBAYWdvcmljL25vdGlmaWVyLXYwLjYuMi9zcmMvdHlwZXMtaW5kZXguanNQSwECHgMKAAAAAAAAAAAAo5ImDRQHAAAUBwAALQAAAAAAAAAAAAAApIHvIA0AQGFnb3JpYy9ub3RpZmllci12MC42LjIvdG9vbHMvdGVzdFN1cHBvcnRzLmpzUEsBAh4DCgAAAAAAAAAAAHRMUA1PBgAATwYAAEUAAAAAAAAAAAAAAKSBTigNAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4YW1wbGVzL2VseXMtY29udHJhY3QtdHlwZS1nYXVyZC5qc1BLAQIeAwoAAAAAAAAAAADXw7ZTwEIAAMBCAABAAAAAAAAAAAAAAACkgQAvDQBAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leGFtcGxlcy9lbHlzLWNvbnRyYWN0LmZsb3dzLmpzUEsBAh4DCgAAAAAAAAAAADuiRoJlGAAAZRgAADoAAAAAAAAAAAAAAKSBHnINAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4YW1wbGVzL2VseXMuY29udHJhY3QuanNQSwECHgMKAAAAAAAAAAAAUIj2faMIAACjCAAAOAAAAAAAAAAAAAAApIHbig0AQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvZXhvcy9jaGFpbi1odWItYWRtaW4uanNQSwECHgMKAAAAAAAAAAAAYsTZcqxZAACsWQAAMgAAAAAAAAAAAAAApIHUkw0AQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvZXhvcy9jaGFpbi1odWIuanNQSwECHgMKAAAAAAAAAAAAzPlYYLmvAAC5rwAARQAAAAAAAAAAAAAApIHQ7Q0AQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvZXhvcy9jb3Ntb3Mtb3JjaGVzdHJhdGlvbi1hY2NvdW50LmpzUEsBAh4DCgAAAAAAAAAAAKZkdUn+GwAA/hsAADMAAAAAAAAAAAAAAKSB7J0OAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL2V4b3MvaWJjLXBhY2tldC5qc1BLAQIeAwoAAAAAAAAAAABH71dkhhUAAIYVAAA7AAAAAAAAAAAAAACkgTu6DgBAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL2xvY2FsLWNoYWluLWZhY2FkZS5qc1BLAQIeAwoAAAAAAAAAAAAtiG6731YAAN9WAABEAAAAAAAAAAAAAACkgRrQDgBAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL2xvY2FsLW9yY2hlc3RyYXRpb24tYWNjb3VudC5qc1BLAQIeAwoAAAAAAAAAAACmWW8pXhgAAF4YAAA1AAAAAAAAAAAAAACkgVsnDwBAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL29yY2hlc3RyYXRvci5qc1BLAQIeAwoAAAAAAAAAAABR0k8iEywAABMsAAA1AAAAAAAAAAAAAACkgQxADwBAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL3BhY2tldC10b29scy5qc1BLAQIeAwoAAAAAAAAAAAA16uySYh8AAGIfAAA8AAAAAAAAAAAAAACkgXJsDwBAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy9leG9zL3JlbW90ZS1jaGFpbi1mYWNhZGUuanNQSwECHgMKAAAAAAAAAAAASoeZ/MUKAADFCgAAKgAAAAAAAAAAAAAApIEujA8AQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvZmFjYWRlLmpzUEsBAh4DCgAAAAAAAAAAAFYtsOd+KQAAfikAAC4AAAAAAAAAAAAAAKSBO5cPAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3R5cGVHdWFyZHMuanNQSwECHgMKAAAAAAAAAAAAMgjA92QUAABkFAAAMQAAAAAAAAAAAAAApIEFwQ8AQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvYWRkcmVzcy5qc1BLAQIeAwoAAAAAAAAAAADNcXfs3gUAAN4FAAAxAAAAAAAAAAAAAACkgbjVDwBAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy9hbW91bnRzLmpzUEsBAh4DCgAAAAAAAAAAALGnFNDaBwAA2gcAADoAAAAAAAAAAAAAAKSB5dsPAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL2NoYWluLWh1Yi1oZWxwZXIuanNQSwECHgMKAAAAAAAAAAAAai9FRCoCAAAqAgAANAAAAAAAAAAAAAAApIEX5A8AQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvY2hhaW4taW5mby5qc1BLAQIeAwoAAAAAAAAAAAC0lS63ZAoAAGQKAAAwAAAAAAAAAAAAAACkgZPmDwBAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy9jb3Ntb3MuanNQSwECHgMKAAAAAAAAAAAAlyQKiakDAACpAwAAMwAAAAAAAAAAAAAApIFF8Q8AQGFnb3JpYy9vcmNoZXN0cmF0aW9uLXYwLjEuMC9zcmMvdXRpbHMvZGVub21IYXNoLmpzUEsBAh4DCgAAAAAAAAAAAG3dXVgdCgAAHQoAAD4AAAAAAAAAAAAAAKSBP/UPAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL29yY2hlc3RyYXRpb25BY2NvdW50LmpzUEsBAh4DCgAAAAAAAAAAADTnAJumGQAAphkAADYAAAAAAAAAAAAAAKSBuP8PAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL3N0YXJ0LWhlbHBlci5qc1BLAQIeAwoAAAAAAAAAAAANI7HMsQkAALEJAAAuAAAAAAAAAAAAAACkgbIZEABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy90aW1lLmpzUEsBAh4DCgAAAAAAAAAAAKDmeCypBAAAqQQAADMAAAAAAAAAAAAAAKSBryMQAEBhZ29yaWMvb3JjaGVzdHJhdGlvbi12MC4xLjAvc3JjL3V0aWxzL3pjZi10b29scy5qc1BLAQIeAwoAAAAAAAAAAAB6HPr4kREAAJERAAAzAAAAAAAAAAAAAACkgakoEABAYWdvcmljL29yY2hlc3RyYXRpb24tdjAuMS4wL3NyYy91dGlscy96b2UtdG9vbHMuanNQSwECHgMKAAAAAAAAAAAAVQ7CAKMNAACjDQAAIQAAAAAAAAAAAAAApIGLOhAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAMMzhvT6BQAA+gUAACwAAAAAAAAAAAAAAKSBbUgQAEBhZ29yaWMvc3RvcmUtdjAuOS4yL3NyYy9sZWdhY3kvbGVnYWN5TWFwLmpzUEsBAh4DCgAAAAAAAAAAAAMXsxuiBQAAogUAADAAAAAAAAAAAAAAAKSBsU4QAEBhZ29yaWMvc3RvcmUtdjAuOS4yL3NyYy9sZWdhY3kvbGVnYWN5V2Vha01hcC5qc1BLAQIeAwoAAAAAAAAAAACGpoxiARMAAAETAAAxAAAAAAAAAAAAAACkgaFUEABAYWdvcmljL3N0b3JlLXYwLjkuMi9zcmMvc3RvcmVzL3NjYWxhck1hcFN0b3JlLmpzUEsBAh4DCgAAAAAAAAAAALpAOpwNDQAADQ0AADEAAAAAAAAAAAAAAKSB8WcQAEBhZ29yaWMvc3RvcmUtdjAuOS4yL3NyYy9zdG9yZXMvc2NhbGFyU2V0U3RvcmUuanNQSwECHgMKAAAAAAAAAAAAWblgusQPAADEDwAANQAAAAAAAAAAAAAApIFNdRAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zY2FsYXJXZWFrTWFwU3RvcmUuanNQSwECHgMKAAAAAAAAAAAAQOxQ1ssLAADLCwAANQAAAAAAAAAAAAAApIFkhRAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zY2FsYXJXZWFrU2V0U3RvcmUuanNQSwECHgMKAAAAAAAAAAAARcZFPaIQAACiEAAALgAAAAAAAAAAAAAApIGCkRAAQGFnb3JpYy9zdG9yZS12MC45LjIvc3JjL3N0b3Jlcy9zdG9yZS11dGlscy5qc1BLAQIeAwoAAAAAAAAAAABFzP/xWAEAAFgBAAAhAAAAAAAAAAAAAACkgXCiEABAYWdvcmljL3N0b3JlLXYwLjkuMi9zcmMvdHlwZXMuanNQSwECHgMKAAAAAAAAAAAA7fWYmzACAAAwAgAAHAAAAAAAAAAAAAAApIEHpBAAQGFnb3JpYy90aW1lLXYwLjMuMi9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAABMxcRZzRUAAM0VAAAjAAAAAAAAAAAAAACkgXGmEABAYWdvcmljL3RpbWUtdjAuMy4yL3NyYy90aW1lTWF0aC5qc1BLAQIeAwoAAAAAAAAAAAA45QF/PQkAAD0JAAAlAAAAAAAAAAAAAACkgX+8EABAYWdvcmljL3RpbWUtdjAuMy4yL3NyYy90eXBlR3VhcmRzLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACYAAAAAAAAAAAAAAKSB/8UQAEBhZ29yaWMvdGltZS12MC4zLjIvc3JjL3R5cGVzLWluZGV4LmpzUEsBAh4DCgAAAAAAAAAAAMMMXIq/GQAAvxkAACgAAAAAAAAAAAAAAKSBm8cQAEBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yL3NyYy9leG8tdXRpbHMuanNQSwECHgMKAAAAAAAAAAAAz5zr6bYIAAC2CAAAJAAAAAAAAAAAAAAApIGg4RAAQGFnb3JpYy92YXQtZGF0YS12MC41LjIvc3JjL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAC9hIJYuGAAALhgAADAAAAAAAAAAAAAAAKSBmOoQAEBhZ29yaWMvdmF0LWRhdGEtdjAuNS4yL3NyYy92YXQtZGF0YS1iaW5kaW5ncy5qc1BLAQIeAwoAAAAAAAAAAACLn464lhgAAJYYAAAbAAAAAAAAAAAAAACkgRQDEQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL0UuanNQSwECHgMKAAAAAAAAAAAAmHnNlJUCAACVAgAAHwAAAAAAAAAAAAAApIHjGxEAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAACntm5TkA8AAJAPAAAtAAAAAAAAAAAAAACkgbUeEQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL21lc3NhZ2UtYnJlYWtwb2ludHMuanNQSwECHgMKAAAAAAAAAAAAD9s11Z0MAACdDAAAKwAAAAAAAAAAAAAApIGQLhEAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy9yZWplY3Rpb24tdHJhY2tlci5qc1BLAQIeAwoAAAAAAAAAAABIOHkYERgAABEYAAAjAAAAAAAAAAAAAACkgXY7EQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3JldHJ5YWJsZS5qc1BLAQIeAwoAAAAAAAAAAABCwDiLSwoAAEsKAAAfAAAAAAAAAAAAAACkgchTEQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3Rvb2xzLmpzUEsBAh4DCgAAAAAAAAAAABT3AEvJCgAAyQoAACUAAAAAAAAAAAAAAKSBUF4RAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvdHJhY2stdHVybnMuanNQSwECHgMKAAAAAAAAAAAARcz/8VgBAABYAQAAJQAAAAAAAAAAAAAApIFcaREAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy90eXBlcy1pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAATV1p9dAkAAHQJAAAjAAAAAAAAAAAAAACkgfdqEQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3Zvdy11dGlscy5qc1BLAQIeAwoAAAAAAAAAAAC9JvmCLRsAAC0bAAAdAAAAAAAAAAAAAACkgax0EQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3Zvdy5qc1BLAQIeAwoAAAAAAAAAAABnytZV7x0AAO8dAAAlAAAAAAAAAAAAAACkgRSQEQBAYWdvcmljL3Zvdy12MC4xLjAvc3JjL3dhdGNoLXV0aWxzLmpzUEsBAh4DCgAAAAAAAAAAAHYiQe1/FQAAfxUAAB8AAAAAAAAAAAAAAKSBRq4RAEBhZ29yaWMvdm93LXYwLjEuMC9zcmMvd2F0Y2guanNQSwECHgMKAAAAAAAAAAAAqdxB3rUIAAC1CAAAHgAAAAAAAAAAAAAApIECxBEAQGFnb3JpYy92b3ctdjAuMS4wL3NyYy93aGVuLmpzUEsBAh4DCgAAAAAAAAAAAO5lGk9RCQAAUQkAABkAAAAAAAAAAAAAAKSB88wRAEBhZ29yaWMvdm93LXYwLjEuMC92YXQuanNQSwECHgMKAAAAAAAAAAAACwDr02MGAABjBgAANAAAAAAAAAAAAAAApIF71hEAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RGYWNldC9vZmZlclNhZmV0eS5qc1BLAQIeAwoAAAAAAAAAAAA0plqQiwcAAIsHAAA5AAAAAAAAAAAAAACkgTDdEQBAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvYXRvbWljVHJhbnNmZXIuanNQSwECHgMKAAAAAAAAAAAAgiMSkuYQAADmEAAAOAAAAAAAAAAAAAAApIES5REAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L2JvbmRpbmdDdXJ2ZXMuanNQSwECHgMKAAAAAAAAAAAAdSzorqUKAAClCgAANQAAAAAAAAAAAAAApIFO9hEAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L2R1cmFiaWxpdHkuanNQSwECHgMKAAAAAAAAAAAAH/Pt0nwIAAB8CAAAMAAAAAAAAAAAAAAApIFGARIAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAEeE1QiuCQAArgkAADoAAAAAAAAAAAAAAKSBEAoSAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC9wcmVwYXJlLW93bmFibGUuanNQSwECHgMKAAAAAAAAAAAA5ScZSPorAAD6KwAAOQAAAAAAAAAAAAAApIEWFBIAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L3ByaWNlQXV0aG9yaXR5LmpzUEsBAh4DCgAAAAAAAAAAAOfHwgFxCQAAcQkAADUAAAAAAAAAAAAAAKSBZ0ASAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC9wcmljZVF1b3RlLmpzUEsBAh4DCgAAAAAAAAAAAP6hdNVYHAAAWBwAADMAAAAAAAAAAAAAAKSBK0oSAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC9yZWNvcmRlci5qc1BLAQIeAwoAAAAAAAAAAADVvOaaCQQAAAkEAAA3AAAAAAAAAAAAAACkgdRmEgBAYWdvcmljL3pvZS12MC4yNi4yL3NyYy9jb250cmFjdFN1cHBvcnQvc3RhdGVNYWNoaW5lLmpzUEsBAh4DCgAAAAAAAAAAAEm9bmEDBAAAAwQAADUAAAAAAAAAAAAAAKSBMmsSAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC9zdGF0aXN0aWNzLmpzUEsBAh4DCgAAAAAAAAAAAFK77v+jBgAAowYAADEAAAAAAAAAAAAAAKSBiG8SAEBhZ29yaWMvem9lLXYwLjI2LjIvc3JjL2NvbnRyYWN0U3VwcG9ydC90b3BpY3MuanNQSwECHgMKAAAAAAAAAAAAmVBx04klAACJJQAANQAAAAAAAAAAAAAApIF6dhIAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvY29udHJhY3RTdXBwb3J0L3pvZUhlbHBlcnMuanNQSwECHgMKAAAAAAAAAAAAWJao56dIAACnSAAAJQAAAAAAAAAAAAAApIFWnBIAQGFnb3JpYy96b2UtdjAuMjYuMi9zcmMvdHlwZUd1YXJkcy5qc1BLAQIeAwoAAAAAAAAAAADZ9JO0lgEAAJYBAAAeAAAAAAAAAAAAAACkgUDlEgBAYWdvcmljL3pvbmUtdjAuMi4yL2R1cmFibGUuanNQSwECHgMKAAAAAAAAAAAAIltg+OcRAADnEQAAIgAAAAAAAAAAAAAApIES5xIAQGFnb3JpYy96b25lLXYwLjIuMi9zcmMvZHVyYWJsZS5qc1BLAQIeAwoAAAAAAAAAAAATnNb7swQAALMEAAAnAAAAAAAAAAAAAACkgTn5EgBAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQvYnVpbGQvYXNjaWkuanNQSwECHgMKAAAAAAAAAAAASoXCmgMHAAADBwAAKAAAAAAAAAAAAAAApIEx/hIAQGNvc21qcy9lbmNvZGluZy12MC4zMi40L2J1aWxkL2Jhc2U2NC5qc1BLAQIeAwoAAAAAAAAAAAAuwNkSRggAAEYIAAAoAAAAAAAAAAAAAACkgXoFEwBAY29zbWpzL2VuY29kaW5nLXYwLjMyLjQvYnVpbGQvYmVjaDMyLmpzUEsBAh4DCgAAAAAAAAAAALPMQvgvBAAALwQAACUAAAAAAAAAAAAAAKSBBg4TAEBjb3NtanMvZW5jb2RpbmctdjAuMzIuNC9idWlsZC9oZXguanNQSwECHgMKAAAAAAAAAAAA7+Tlcq4JAACuCQAAJwAAAAAAAAAAAAAApIF4EhMAQGNvc21qcy9lbmNvZGluZy12MC4zMi40L2J1aWxkL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAOfnY5qOCAAAjggAACkAAAAAAAAAAAAAAKSBaxwTAEBjb3NtanMvZW5jb2RpbmctdjAuMzIuNC9idWlsZC9yZmMzMzM5LmpzUEsBAh4DCgAAAAAAAAAAAEjkv05SAgAAUgIAACYAAAAAAAAAAAAAAKSBQCUTAEBjb3NtanMvZW5jb2RpbmctdjAuMzIuNC9idWlsZC91dGY4LmpzUEsBAh4DCgAAAAAAAAAAADjUnGd1AgAAdQIAABsAAAAAAAAAAAAAAKSB1icTAEBlbmRvL2Jhc2U2NC12MS4wLjkvYXRvYi5qc1BLAQIeAwoAAAAAAAAAAACSwpOPNAMAADQDAAAbAAAAAAAAAAAAAACkgYQqEwBAZW5kby9iYXNlNjQtdjEuMC45L2J0b2EuanNQSwECHgMKAAAAAAAAAAAABHt2f7kBAAC5AQAAHQAAAAAAAAAAAAAApIHxLRMAQGVuZG8vYmFzZTY0LXYxLjAuOS9kZWNvZGUuanNQSwECHgMKAAAAAAAAAAAAoValSLkBAAC5AQAAHQAAAAAAAAAAAAAApIHlLxMAQGVuZG8vYmFzZTY0LXYxLjAuOS9lbmNvZGUuanNQSwECHgMKAAAAAAAAAAAAGvvqV6QCAACkAgAAHAAAAAAAAAAAAAAApIHZMRMAQGVuZG8vYmFzZTY0LXYxLjAuOS9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAAfl5z1NwMAADcDAAAhAAAAAAAAAAAAAACkgbc0EwBAZW5kby9iYXNlNjQtdjEuMC45L3NyYy9jb21tb24uanNQSwECHgMKAAAAAAAAAAAA8sBOwZIIAACSCAAAIQAAAAAAAAAAAAAApIEtOBMAQGVuZG8vYmFzZTY0LXYxLjAuOS9zcmMvZGVjb2RlLmpzUEsBAh4DCgAAAAAAAAAAAI8TQzdrBwAAawcAACEAAAAAAAAAAAAAAKSB/kATAEBlbmRvL2Jhc2U2NC12MS4wLjkvc3JjL2VuY29kZS5qc1BLAQIeAwoAAAAAAAAAAADox4F7MAUAADAFAAAsAAAAAAAAAAAAAACkgahIEwBAZW5kby9jb21tb24tdjEuMi4xMC9hcHBseS1sYWJlbGluZy1lcnJvci5qc1BLAQIeAwoAAAAAAAAAAABZyIR/pQQAAKUEAAArAAAAAAAAAAAAAACkgSJOEwBAZW5kby9jb21tb24tdjEuMi4xMC9mcm9tLXVuaXF1ZS1lbnRyaWVzLmpzUEsBAh4DCgAAAAAAAAAAANRN/zdKAgAASgIAACUAAAAAAAAAAAAAAKSBEFMTAEBlbmRvL2NvbW1vbi12MS4yLjEwL2lkZW50LWNoZWNrZXIuanNQSwECHgMKAAAAAAAAAAAAiteXQ5ACAACQAgAAJwAAAAAAAAAAAAAApIGdVRMAQGVuZG8vY29tbW9uLXYxLjIuMTAvbGlzdC1kaWZmZXJlbmNlLmpzUEsBAh4DCgAAAAAAAAAAAC6Umg60AwAAtAMAACsAAAAAAAAAAAAAAKSBclgTAEBlbmRvL2NvbW1vbi12MS4yLjEwL21ha2UtYXJyYXktaXRlcmF0b3IuanNQSwECHgMKAAAAAAAAAAAABavNqFwCAABcAgAAJQAAAAAAAAAAAAAApIFvXBMAQGVuZG8vY29tbW9uLXYxLjIuMTAvbWFrZS1pdGVyYXRvci5qc1BLAQIeAwoAAAAAAAAAAAB/VRSzNAMAADQDAAAiAAAAAAAAAAAAAACkgQ5fEwBAZW5kby9jb21tb24tdjEuMi4xMC9vYmplY3QtbWFwLmpzUEsBAh4DCgAAAAAAAAAAAH9WL1IyBAAAMgQAACcAAAAAAAAAAAAAAKSBgmITAEBlbmRvL2NvbW1vbi12MS4yLjEwL29iamVjdC1tZXRhLW1hcC5qc1BLAQIeAwoAAAAAAAAAAADyqmOzHgQAAB4EAAAlAAAAAAAAAAAAAACkgflmEwBAZW5kby9jb21tb24tdjEuMi4xMC90aHJvdy1sYWJlbGVkLmpzUEsBAh4DCgAAAAAAAAAAADSioamiAQAAogEAACEAAAAAAAAAAAAAAKSBWmsTAEBlbmRvL2Vudi1vcHRpb25zLXYxLjEuOC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAAusIkdug8AALoPAAArAAAAAAAAAAAAAACkgTttEwBAZW5kby9lbnYtb3B0aW9ucy12MS4xLjgvc3JjL2Vudi1vcHRpb25zLmpzUEsBAh4DCgAAAAAAAAAAAEk19ulUCAAAVAgAAB0AAAAAAAAAAAAAAKSBPn0TAEBlbmRvL2Vycm9ycy12MS4yLjEwL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAMmxgxkbFgAAGxYAACMAAAAAAAAAAAAAAKSBzYUTAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3NyYy9FLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACkAAAAAAAAAAAAAAKSBKZwTAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3NyYy9leHBvcnRzLmpzUEsBAh4DCgAAAAAAAAAAAKTjK6ORDgAAkQ4AACcAAAAAAAAAAAAAAKSByJ0TAEBlbmRvL2V2ZW50dWFsLXNlbmQtdjEuMy4xL3NyYy9sb2NhbC5qc1BLAQIeAwoAAAAAAAAAAAB5M+y4PA8AADwPAAA1AAAAAAAAAAAAAACkgZ6sEwBAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMS9zcmMvbWVzc2FnZS1icmVha3BvaW50cy5qc1BLAQIeAwoAAAAAAAAAAAC4dpSdXwMAAF8DAAApAAAAAAAAAAAAAACkgS28EwBAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMS9zcmMvbm8tc2hpbS5qc1BLAQIeAwoAAAAAAAAAAACpgMOzngoAAJ4KAAAtAAAAAAAAAAAAAACkgdO/EwBAZW5kby9ldmVudHVhbC1zZW5kLXYxLjMuMS9zcmMvdHJhY2stdHVybnMuanNQSwECHgMKAAAAAAAAAAAAe6GgR2QCAABkAgAAIwAAAAAAAAAAAAAApIG8yhMAQGVuZG8vZXZlbnR1YWwtc2VuZC12MS4zLjEvdXRpbHMuanNQSwECHgMKAAAAAAAAAAAA3EXZo2ACAABgAgAAGQAAAAAAAAAAAAAApIFhzRMAQGVuZG8vZXhvLXYxLjUuOS9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAADgINvCzxcAAM8XAAAiAAAAAAAAAAAAAACkgfjPEwBAZW5kby9leG8tdjEuNS45L3NyYy9leG8tbWFrZXJzLmpzUEsBAh4DCgAAAAAAAAAAAMEqljEDOAAAAzgAACEAAAAAAAAAAAAAAKSBB+gTAEBlbmRvL2V4by12MS41Ljkvc3JjL2V4by10b29scy5qc1BLAQIeAwoAAAAAAAAAAADgyaGFRgIAAEYCAAAlAAAAAAAAAAAAAACkgUkgFABAZW5kby9leG8tdjEuNS45L3NyYy9nZXQtaW50ZXJmYWNlLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAAB0AAAAAAAAAAAAAAKSB0iIUAEBlbmRvL2V4by12MS41Ljkvc3JjL3R5cGVzLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACAAAAAAAAAAAAAAAKSBZSQUAEBlbmRvL2Zhci12MS4xLjExL3NyYy9leHBvcnRzLmpzUEsBAh4DCgAAAAAAAAAAAKkm1lCYAgAAmAIAAB4AAAAAAAAAAAAAAKSB+yUUAEBlbmRvL2Zhci12MS4xLjExL3NyYy9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAAt1VAGggcAAIIHAAAdAAAAAAAAAAAAAACkgc8oFABAZW5kby9tYXJzaGFsLXYxLjYuNC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAACVfGWZmk8AAJpPAAAqAAAAAAAAAAAAAACkgYwwFABAZW5kby9tYXJzaGFsLXYxLjYuNC9zcmMvZW5jb2RlUGFzc2FibGUuanNQSwECHgMKAAAAAAAAAAAAz2KS+PQrAAD0KwAAKwAAAAAAAAAAAAAApIFugBQAQGVuZG8vbWFyc2hhbC12MS42LjQvc3JjL2VuY29kZVRvQ2FwRGF0YS5qc1BLAQIeAwoAAAAAAAAAAAD2GBtPQSwAAEEsAAAtAAAAAAAAAAAAAACkgausFABAZW5kby9tYXJzaGFsLXYxLjYuNC9zcmMvZW5jb2RlVG9TbWFsbGNhcHMuanNQSwECHgMKAAAAAAAAAAAA5otTsGgvAABoLwAAKgAAAAAAAAAAAAAApIE32RQAQGVuZG8vbWFyc2hhbC12MS42LjQvc3JjL21hcnNoYWwtanVzdGluLmpzUEsBAh4DCgAAAAAAAAAAAL4ipxtKBwAASgcAAC0AAAAAAAAAAAAAAKSB5wgVAEBlbmRvL21hcnNoYWwtdjEuNi40L3NyYy9tYXJzaGFsLXN0cmluZ2lmeS5qc1BLAQIeAwoAAAAAAAAAAAAJOiBuYS8AAGEvAAAjAAAAAAAAAAAAAACkgXwQFQBAZW5kby9tYXJzaGFsLXYxLjYuNC9zcmMvbWFyc2hhbC5qc1BLAQIeAwoAAAAAAAAAAABKsNVd6y4AAOsuAAAlAAAAAAAAAAAAAACkgR5AFQBAZW5kby9tYXJzaGFsLXYxLjYuNC9zcmMvcmFua09yZGVyLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACEAAAAAAAAAAAAAAKSBTG8VAEBlbmRvL21hcnNoYWwtdjEuNi40L3NyYy90eXBlcy5qc1BLAQIeAwoAAAAAAAAAAABenLPKzAUAAMwFAAAdAAAAAAAAAAAAAACkgeNwFQBAZW5kby9uYXQtdjUuMS4wL3NyYy9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAAC9HZqTQoAAE0KAAAgAAAAAAAAAAAAAACkgep2FQBAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAADD7/ZFvAYAALwGAAAoAAAAAAAAAAAAAACkgXWBFQBAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvY29weUFycmF5LmpzUEsBAh4DCgAAAAAAAAAAABCBRMD2CAAA9ggAACkAAAAAAAAAAAAAAKSBd4gVAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9jb3B5UmVjb3JkLmpzUEsBAh4DCgAAAAAAAAAAAMI3yaeeCwAAngsAAC4AAAAAAAAAAAAAAKSBtJEVAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9kZWVwbHlGdWxmaWxsZWQuanNQSwECHgMKAAAAAAAAAAAAF1cCItMUAADTFAAAJAAAAAAAAAAAAAAApIGenRUAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL2Vycm9yLmpzUEsBAh4DCgAAAAAAAAAAANOikHykBgAApAYAACsAAAAAAAAAAAAAAKSBs7IVAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9pdGVyLWhlbHBlcnMuanNQSwECHgMKAAAAAAAAAAAAYnh4idkSAADZEgAAJwAAAAAAAAAAAAAApIGguRUAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL21ha2UtZmFyLmpzUEsBAh4DCgAAAAAAAAAAAE3BiNPcBAAA3AQAACkAAAAAAAAAAAAAAKSBvswVAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9tYWtlVGFnZ2VkLmpzUEsBAh4DCgAAAAAAAAAAAHBEXISiFwAAohcAADAAAAAAAAAAAAAAAKSB4dEVAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9wYXNzU3R5bGUtaGVscGVycy5qc1BLAQIeAwoAAAAAAAAAAAAMnW2t0ysAANMrAAAqAAAAAAAAAAAAAACkgdHpFQBAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvcGFzc1N0eWxlT2YuanNQSwECHgMKAAAAAAAAAAAAA4EnR64cAACuHAAAKAAAAAAAAAAAAAAApIHsFRYAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL3JlbW90YWJsZS5qc1BLAQIeAwoAAAAAAAAAAADHjH84eg4AAHoOAAArAAAAAAAAAAAAAACkgeAyFgBAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvc2FmZS1wcm9taXNlLmpzUEsBAh4DCgAAAAAAAAAAALo+zaF5CAAAeQgAACUAAAAAAAAAAAAAAKSBo0EWAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy9zdHJpbmcuanNQSwECHgMKAAAAAAAAAAAAHRtUduUKAADlCgAAJQAAAAAAAAAAAAAApIFfShYAQGVuZG8vcGFzcy1zdHlsZS12MS41LjAvc3JjL3N5bWJvbC5qc1BLAQIeAwoAAAAAAAAAAADy5fJQyQcAAMkHAAAlAAAAAAAAAAAAAACkgYdVFgBAZW5kby9wYXNzLXN0eWxlLXYxLjUuMC9zcmMvdGFnZ2VkLmpzUEsBAh4DCgAAAAAAAAAAAO7cIrBnCQAAZwkAACkAAAAAAAAAAAAAAKSBk10WAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy90eXBlR3VhcmRzLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACQAAAAAAAAAAAAAAKSBQWcWAEBlbmRvL3Bhc3Mtc3R5bGUtdjEuNS4wL3NyYy90eXBlcy5qc1BLAQIeAwoAAAAAAAAAAAB1TZLc7w4AAO8OAAAeAAAAAAAAAAAAAACkgdtoFgBAZW5kby9wYXR0ZXJucy12MS41LjAvaW5kZXguanNQSwECHgMKAAAAAAAAAAAAwepGqlU3AABVNwAAKgAAAAAAAAAAAAAApIEGeBYAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9rZXlzL2NoZWNrS2V5LmpzUEsBAh4DCgAAAAAAAAAAAOd2lZqsGQAArBkAAC0AAAAAAAAAAAAAAKSBo68WAEBlbmRvL3BhdHRlcm5zLXYxLjUuMC9zcmMva2V5cy9jb21wYXJlS2V5cy5qc1BLAQIeAwoAAAAAAAAAAABc0baI6w4AAOsOAAApAAAAAAAAAAAAAACkgZrJFgBAZW5kby9wYXR0ZXJucy12MS41LjAvc3JjL2tleXMvY29weUJhZy5qc1BLAQIeAwoAAAAAAAAAAAAHHJ37ewwAAHsMAAApAAAAAAAAAAAAAACkgczYFgBAZW5kby9wYXR0ZXJucy12MS41LjAvc3JjL2tleXMvY29weVNldC5qc1BLAQIeAwoAAAAAAAAAAAAPyB9jdhYAAHYWAAA5AAAAAAAAAAAAAACkgY7lFgBAZW5kby9wYXR0ZXJucy12MS41LjAvc3JjL2tleXMva2V5Y29sbGVjdGlvbi1vcGVyYXRvcnMuanNQSwECHgMKAAAAAAAAAAAA0gJiAZEcAACRHAAANQAAAAAAAAAAAAAApIFb/BYAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9rZXlzL21lcmdlLWJhZy1vcGVyYXRvcnMuanNQSwECHgMKAAAAAAAAAAAA+VGOE0kjAABJIwAANQAAAAAAAAAAAAAApIE/GRcAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9rZXlzL21lcmdlLXNldC1vcGVyYXRvcnMuanNQSwECHgMKAAAAAAAAAAAA8HRSJSwbAAAsGwAANgAAAAAAAAAAAAAApIHbPBcAQGVuZG8vcGF0dGVybnMtdjEuNS4wL3NyYy9wYXR0ZXJucy9nZXRHdWFyZFBheWxvYWRzLmpzUEsBAh4DCgAAAAAAAAAAAA7uTidq7AAAauwAADUAAAAAAAAAAAAAAKSBW1gXAEBlbmRvL3BhdHRlcm5zLXYxLjUuMC9zcmMvcGF0dGVybnMvcGF0dGVybk1hdGNoZXJzLmpzUEsBAh4DCgAAAAAAAAAAAEXM//FYAQAAWAEAACIAAAAAAAAAAAAAAKSBGEUYAEBlbmRvL3BhdHRlcm5zLXYxLjUuMC9zcmMvdHlwZXMuanNQSwECHgMKAAAAAAAAAAAAP0XT32IGAABiBgAAIgAAAAAAAAAAAAAApIGwRhgAQGVuZG8vcHJvbWlzZS1raXQtdjEuMS4xMC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAB1iEF+ZAIAAGQCAAArAAAAAAAAAAAAAACkgVJNGABAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwL3NyYy9pcy1wcm9taXNlLmpzUEsBAh4DCgAAAAAAAAAAADnhrPBZCQAAWQkAACoAAAAAAAAAAAAAAKSB/08YAEBlbmRvL3Byb21pc2Uta2l0LXYxLjEuMTAvc3JjL21lbW8tcmFjZS5qc1BLAQIeAwoAAAAAAAAAAACMGyI1HwYAAB8GAAA1AAAAAAAAAAAAAACkgaBZGABAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwL3NyYy9wcm9taXNlLWV4ZWN1dG9yLWtpdC5qc1BLAQIeAwoAAAAAAAAAAABFzP/xWAEAAFgBAAAmAAAAAAAAAAAAAACkgRJgGABAZW5kby9wcm9taXNlLWtpdC12MS4xLjEwL3NyYy90eXBlcy5qc1BLAQIeAwoAAAAAAAAAAABJ2FYeuBQAALgUAAAdAAAAAAAAAAAAAACkga5hGABAZW5kby9zdHJlYW0tdjEuMi4xMC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAD1sWHDRwoAAEcKAAAjAAAAAAAAAAAAAACkgaF2GABAbm9ibGUvaGFzaGVzLXYxLjUuMC9lc20vX2Fzc2VydC5qc1BLAQIeAwoAAAAAAAAAAADnWKpFzREAAM0RAAAfAAAAAAAAAAAAAACkgSmBGABAbm9ibGUvaGFzaGVzLXYxLjUuMC9lc20vX21kLmpzUEsBAh4DCgAAAAAAAAAAAMQIbzABAgAAAQIAACIAAAAAAAAAAAAAAKSBM5MYAEBub2JsZS9oYXNoZXMtdjEuNS4wL2VzbS9jcnlwdG8uanNQSwECHgMKAAAAAAAAAAAAa5wtE9ESAADREgAAIgAAAAAAAAAAAAAApIF0lRgAQG5vYmxlL2hhc2hlcy12MS41LjAvZXNtL3NoYTI1Ni5qc1BLAQIeAwoAAAAAAAAAAADE7IpuvSAAAL0gAAAhAAAAAAAAAAAAAACkgYWoGABAbm9ibGUvaGFzaGVzLXYxLjUuMC9lc20vdXRpbHMuanNQSwECHgMKAAAAAAAAAAAAdOuqbXkPAAB5DwAAHgAAAAAAAAAAAAAApIGByRgAYmFzZS14LXY1LjAuMS9zcmMvZXNtL2luZGV4LmpzUEsBAh4DCgAAAAAAAAAAAEunuGSEDgAAhA4AABkAAAAAAAAAAAAAAKSBNtkYAGJhc2U2NC1qcy12MS41LjEvaW5kZXguanNQSwECHgMKAAAAAAAAAAAAiHjZhBkSAAAZEgAAFgAAAAAAAAAAAAAApIHx5xgAYmVjaDMyLXYxLjEuNC9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAABcPNZTkRUAAJEVAAAbAAAAAAAAAAAAAACkgT76GABiZWNoMzItdjIuMC4wL2Rpc3QvaW5kZXguanNQSwECHgMKAAAAAAAAAAAADg7f8WgCAABoAgAAHAAAAAAAAAAAAAAApIEIEBkAYnM1OC12Ni4wLjAvc3JjL2VzbS9pbmRleC5qc1BLAQIeAwoAAAAAAAAAAAA9H+vJXwkAAF8JAAAkAAAAAAAAAAAAAACkgaoSGQBkZWNvZGUtdXJpLWNvbXBvbmVudC12MC40LjEvaW5kZXguanNQSwECHgMKAAAAAAAAAAAACnw7x0cGAABHBgAAGgAAAAAAAAAAAAAApIFLHBkAZmlsdGVyLW9iai12NS4xLjAvaW5kZXguanNQSwECHgMKAAAAAAAAAAAA7lv2v9EBAADRAQAAHAAAAAAAAAAAAAAApIHKIhkAamVzc2llLmpzLXYwLjMuNC9zcmMvbWFpbi5qc1BLAQIeAwoAAAAAAAAAAAD2YCXkgQEAAIEBAAAfAAAAAAAAAAAAAACkgdUkGQBqZXNzaWUuanMtdjAuMy40L3NyYy9yaW5nMC9FLmpzUEsBAh4DCgAAAAAAAAAAAE9a9b2mAgAApgIAACwAAAAAAAAAAAAAAKSBkyYZAGplc3NpZS5qcy12MC4zLjQvc3JjL3JpbmcwL2FzeW5jLWdlbmVyYXRlLmpzUEsBAh4DCgAAAAAAAAAAAP56+f30AQAA9AEAACIAAAAAAAAAAAAAAKSBgykZAGplc3NpZS5qcy12MC4zLjQvc3JjL3JpbmcwL21haW4uanNQSwECHgMKAAAAAAAAAAAASWghUOQHAADkBwAAJAAAAAAAAAAAAAAApIG3KxkAamVzc2llLmpzLXYwLjMuNC9zcmMvcmluZzAvbWFrZXJzLmpzUEsBAh4DCgAAAAAAAAAAAGn1Uv+sAwAArAMAACkAAAAAAAAAAAAAAKSB3TMZAGplc3NpZS5qcy12MC4zLjQvc3JjL3JpbmcxL2FzeW5jLXRvb2xzLmpzUEsBAh4DCgAAAAAAAAAAABtoNwOWAQAAlgEAACIAAAAAAAAAAAAAAKSB0DcZAGplc3NpZS5qcy12MC4zLjQvc3JjL3JpbmcxL21haW4uanNQSwECHgMKAAAAAAAAAAAAUBujPNw7AADcOwAAGwAAAAAAAAAAAAAApIGmORkAcXVlcnktc3RyaW5nLXY5LjEuMS9iYXNlLmpzUEsBAh4DCgAAAAAAAAAAACXBebMkAgAAJAIAABwAAAAAAAAAAAAAAKSBu3UZAHF1ZXJ5LXN0cmluZy12OS4xLjEvaW5kZXguanNQSwECHgMKAAAAAAAAAAAAocryvJEDAACRAwAAHgAAAAAAAAAAAAAApIEZeBkAc3BsaXQtb24tZmlyc3QtdjMuMC4wL2luZGV4LmpzUEsFBgAAAAAiASIBl2UAAOZ7GQAAAA==",
  "endoZipBase64Sha512": "42f1ec1d0fe4c54de4f3e4127fdbe185c74ce2a1b235908bbd57893cbdfe77068e88d6994bd08f44747e89068e5e8a99c4d53cdd39a6d9fa03c8ba396c600cf2"
}